created_unix_utc	created_datetime_pst	title	author	score	id	subreddit	url	body	num_comments	comments
1682833709.0	29-Apr-2023 22:48:29	First time	SwagDadd99	2	133h1rq	homeassistant	https://www.reddit.com/r/homeassistant/comments/133h1rq/first_time/	I just finished the 'onboarding', and created my account.  It showed the devices it could find.  I clicked 'Finish'.  Now it is a blank screen with 'Home Assistant' on the top, and constellations moving.  No buttons, or other text.  I logged out and back in again.  Same thing.  What am I missing?	1	"[""iWQRLC590apOCyt59Xza: Probably should've clicked configure on all of the devices it had found.\n\nIsn't there a settings button on the left with a highlighted number next to it? Use it to get to integrations and try again.""]"
1682822368.0	29-Apr-2023 19:39:28	Clock Weather Card - how to display Fahrenheit instead of Celsius?	androidusr	0	133dsju	homeassistant	https://www.reddit.com/r/homeassistant/comments/133dsju/clock_weather_card_how_to_display_fahrenheit/	"This card presents temperatures in Fahrenheit, but uses the Celsius value?  It's currently 8C, which should be about 49F.  But it display 8F.

I expected it to be a configuration option, but apparently not?  I have a feeling maybe it's using some global Home Assistant variable that I don't understand.

https://preview.redd.it/0tktmp63pxwa1.png?width=1234&format=png&auto=webp&v=enabled&s=30d4ddce1adb4b7ef30234c3c453828505cbcc93"	8	"['bp067: Go to Settings > Areas & Zones > Zones > click gear icon for your home and set to Fahrenheit.', ""chicknlil25: I don't use this card, so this is just observations/a quick glance at the GitHub for that card.\n\nI'm guessing that your HA install is configured for Metric instead of Imperial. The other thing that caught my eye was your locale was en-GB ... I'd guess if you're looking for Fahrenheit that you probably want to change that to en-US.\n\nHope some of that helps!"", 'pookexvi: Are you able to edit the code for the numbers? If so, could you put something like this into it C = (F - 32) / 1.8. (Might not be the exact formula that might need to go the other way).', ""AtomOutler: Looks like a known bug.  I don't use it but I wanted to see the code and I stumbled across this. https://github.com/pkissling/clock-weather-card/issues/144"", ""vontrapp42: No it sounds like it is already showing as F, but ismmthinks the value it is displaying was already in F rather than converting from C.\n\nWhere is the temperature value coming from? If it's for example from esphome you need to say ``unit_of_measurement: °C`` then ha knows that it is C coming in and converts it to F before (alas) storing the value in the database and before displaying."", 'AquaTiger67:  \n\nlocale: en', 'androidusr: I believe it\'s using the entity name as the source.  So in my case, it\'s the weather.home entity, which is the same one used by the default weather card and that works fine - it displays F and isn\'t using the numeric value for C and just putting F on the label.\n\nI did change the locale to ""en-US"" and also tried tried just ""en"", but that didn\'t fix it.', 'vontrapp42: I used openweathermap and although the temp was fine the dewpoint suffered this same issue of an erroneous or duplicate conversion.']"
1682822156.0	29-Apr-2023 19:35:56	Python learning on home assistant	daveisit	0	133dq5r	homeassistant	https://www.reddit.com/r/homeassistant/comments/133dq5r/python_learning_on_home_assistant/	"I'm starting to learn python. Having a really easy time with the help of chatgpt. I was thinking to move my python project from my laptop to my home assistant server. I'm using an old computer to run hassio so I was wondering if there was a proper method for this? Is there like an add on that would help do this. 
My main goal is to access my projects form anywhere. Am I making an sense?"	2	['lgb111: I’m pretty sure there is a vscode addon that you could use. It would essentially let you access vscode in a browser', 'EffectiveFlan: Why not just use Git? \n\nI don’t know what you’re trying to accomplish with HA to be honest. Are you trying to contribute to the project itself? If you’re just trying to use HA, it’s all YAML unless you write automations with PyScript. \n\n\nPlease explain what you’re trying to do exactly.']
1682820466.0	29-Apr-2023 19:07:46	Basic Question	ExtruDR	0	133d6j8	homeassistant	https://www.reddit.com/r/homeassistant/comments/133d6j8/basic_question/	"Is there a simple, user-friendly way of creating light/switch schedules?  


I am a relatively competent but without deep Linux or coding experience so the idea of coding helpers and automations compared to the simple graphical interfaces that Wemo, etc. have.  


Is there a plug-in or panel or integration (even the nomenclature of HA is confusing) that can make this happen?"	1	"['SpencerDub: What you want is an automation. Automations run automatically when their triggers are met. You can make automations without writing any code; you just need to navigate to the ""Automations"" section of Home Assistant and press the ""Create Automation"" button.\n\nUnder Trigger, you can choose the Time option. Put in the time you want the automation to trigger.\n\nUnder Actions, select ""Device"". Start typing the name of one of the lights you want to turn on, then select it when it pops up. Then, beneath the name of the device, select what you want it to do (turn on or turn off).\n\nYou can add additional actions for additional lights.\n\nHome Assistant is a very flexible system, so there are many ways to get the same result. You could, for instance, group all the lights together, so you\'d only have to turn on or off the group. You could set a scene with all the lights at the state you want them, then call the scene instead. Or you could use the ""call service"" action to call the ""turn on"" function. But the steps above will work for the basics.\n\nNote: Before you can use any lights in an automation, you have to first *integrate* them into Home Assistant, meaning HA has found them and added them to its list of devices it can control.\n\n**Edit:** On re-reading, I see I sorta missed the mark, since you were asking for a calendar-like interface. I don\'t know of one—maybe others do? However, I\'ve found using HA\'s visual automation editor to be not terribly difficult once you get used to it.']"
1682815842.0	29-Apr-2023 17:50:42	Recommendation for UPS	DisposibleDad	4	133bnk1	homeassistant	https://www.reddit.com/r/homeassistant/comments/133bnk1/recommendation_for_ups/	I am using a Dell 3050 with Proxmox... I am hoping to find a UPS that I can monitor with HA, seeing when power is lost and battery level. Any suggestions appreciated!	15	"['shallnotbe_infringed: I literally just did this yesterday with a APC UPS on my Proxmox NUC following [these instructions](https://www.thesmarthomebook.com/2022/09/02/setting-up-monitor-your-ups-proxmox-home-assistant/). Working like a charm inside HA with voltage, load, battery run-time, etc using NUT.', ""TheRealNap0le0n: Can someone give me an example why you'd want HA on a UPS? If your power goes out surely any smart devices die with it"", ""MrCalifornian: I'll tell you one thing, if you're trying to have an emergency battery backup for power interruptions, UPS works much better than FedEx."", ""Complex_Solutions_20: I'm fond of APC UPSs.  I have the actual UPS plugged into my VM host but I run apcupsd on HA too so I can automate based on its health"", 'DisposibleDad: Exactly what I was looking for, thanks!', 'cdunham: Seconding APC + NUT.\n\nhttps://preview.redd.it/phtpcsuxyywa1.jpeg?width=1284&format=pjpg&auto=webp&v=enabled&s=8de158f250b394f4cc8bd1eeb6344fffaddfeffe', ""Shooter_Q: Graceful auto-shutdown of computer/server hardware can be a bit healthier on the storage devices than abrupt power loss. In many cases, some of us are using the same hardware for our NAS and other needs and we're just adding an extra layer of protection for HDDs.  \n\n\nAlso, some people aren't trying to survive a super long blackout with their home working just as they've been accustomed to, but sub-second/sub-minute intermittent power loss; cruising through those without even noticing, aside from the notifications, is pretty nice."", 'DisposibleDad: In my case, is installed in a an RV, which is usually plugged into shore power. The UPS will help let me know that there is a problem when I am not there...', 'MrWizard1979: I have a Wi-Fi LED strip on UPS in my computer room so I can see. Also with ha, internet modem, router, switch, Poe cameras, frigate, Wi-Fi AP on the same.ups. My Motion sensors are WiFi(same controller) or battery ZigBee. I can also shed load (turn off stuff) on battery up until the WiFi is the last to go and it all shuts down properly.', 'zSprawl: I use it to help with notifications. \n\nI don’t want to get 1000 notifications in a power failure. So I happen to be so geeky I have a half dozen UPSs around the house, and if all of them show no input, then powerFailure = true. And of course check for this in my notification automations.', 'DisposibleDad: Ba dum dum tiss! Lol', 'zSprawl: I agree with NUT like everyone else.\n\nI have 7 UPSs in this house. 5 of them are APC and 2 are Eaton. I really like the Eaton’s because they show real time power usage. My APCs show load, but it’s really just extrapolated based on battery health and other characteristics.\n\nI have a few pi zero W’s, which I load NUT on, and pair with the UPSs around the house. They have wifi and USB on them, so I can power them right off the UPS they monitor. I also run a AsusWRT wifi mesh, which has NUT support as well. Likewise, I use FreshTomato on my router, and it supports APCD, which HA supports as well. \n\nHalf of the game was running each UPS’s USB cable to the nearest device I could run NUT on, or use a wireless pi device when I could not. \n\nI also group them together so I have a few binary sensors for power outage. For example, if all 7 UPSs show no input power, then powerOutage = true. \n\nI make all my other automations for notifications check for power outages so my phone doesn’t explode alerts telling me all my Zigbee and Zwave devices are offline and such. It’s the same philosophy with not wanting to get alerts for my wifi cameras if my wifi itself is having issues. \n\nLastly, I use NUT to automate shutting crap down if needed as well, or at least the important things. \n\nhttps://imgur.com/a/SzJgLxZ/', 'cdunham: https://preview.redd.it/fy1noyq0zywa1.jpeg?width=1284&format=pjpg&auto=webp&v=enabled&s=92297447a9dcaf531ebb3ae07a0464046bef5eee', ""TheRealNap0le0n: That makes sense. My HA is on an old laptop running an SSD and nothing else so I never really thought about using a UPS because it's basically built in lol"", ""MrCalifornian: Seriously though, good question, I somehow never thought about monitoring my UPS in HA and I'm following along to see if anyone posts an HA-native way to do this (I'm running HAOS).""]"
1682815711.0	29-Apr-2023 17:48:31	Add on preventing integration from working	heyhewmike	1	133blzc	homeassistant	https://www.reddit.com/r/homeassistant/comments/133blzc/add_on_preventing_integration_from_working/	"Background: I am using krbaker's sunpower HACS integration. I installed mrlt8 docker-wyze-bridge Add-on. When I start the docker-wyze-bridge the sunpower integration stops logging in my influxdb.

The same thing happens when I use mrlt8's standalone docker I seem to have the same issue.

I don't know if this is exactly HA related but I don't seem to have any other network related issues that happened at the same time.

Inquiry:

Is there anything that one Add-on can be doing that can prevent another intergration, official or HACS, from working properly?"	2	"['thereddevil20: How have you configured the docker and how are you starting things? Will need more info to help. \n\nHow are you influxdb creds setup? What do the logs say?', ""heyhewmike: Thank you.\n\nI used a proxmox container to host the docker instance and followed the wyze bridge documentation on how to setup and start their docker image for the bridge. It was an Ubuntu OS for the proxmox container.\n\nFor influxdb creds setup, I have the influxdb creds in a secret file for grafana to pull from influxdb.\n\n\nFor the HA add-on docker-wyze-bridge there is an actual HA Add-on available that I had installed.\n\nI am not able to go back to the log errors in the companion app but in short from memory the HACS SunPower Integration was failing to Initialize any time I had the HA add-on docker-wyze-bridge installed and started and running.\n\nI was thinking there was some port conflict so I changed ports around in the docker-wyze-bridge HA add-on but that didn't fix anything.\n\nThis is why I am wondering if there is anything in one add-on, such as the docker-wyze-bridge[docker-wyze-bridge ](https://github.com/mrlt8/docker-wyze-bridge), that could prevent a HACS Integration, SunPower[SunPower ](https://github.com/krbaker/hass-sunpower), from properly starting.""]"
1682812418.0	29-Apr-2023 16:53:38	Where are Failed Login Attempts?	cheider	2	133ahez	homeassistant	https://www.reddit.com/r/homeassistant/comments/133ahez/where_are_failed_login_attempts/	"I got this notification:
""Login attempt or request with invalid authentication from ool-2f11a510.dyn.optonline.net (47.17.165.16). See the log for details.""

Someone's knockin at the door. Where is ""the log"" referenced above? The Logbook just seems to have entity activity."	16	"['Truth_Artillery: Your HA is exposed to the internet?', 'deanfourie1: VPN bro', 'Odd_Owl_5367: I get them a lot. I never looked into where the log is though.', 'MrWizard1979: The log is in settings, system, logs. \nDo you use the mobile app? Occasionally I get that error from my cell phone, but from its internal IP. I just ignore it because it all works OK.', 'hemmiandra: Restrict allowed IP’s to your HA instance.', 'jdjvbtjbkgvb: Install wireguard, it is really easy and free. Easy app on mobile as well. Open that port to the internet.', 'cheider: Yes so I can access remotely.', 'cheider: Thank you!', 'Different-Term-2250: No. Just. No. Use Nabu or Cloudflare or VPN.', ""exclaim_bot: >Thank you!\n\nYou're welcome!"", 'Truth_Artillery: This', ""AtomOutler: What is the benefit of Nabu Casa over a registered DNS with Proxy server?  Eg.  ha.mydomain.com and block IP access.  I don't understand why you would expose your instance to a cloud service but not recommend it from your house.  It seems to me this would introduce lag, and additional attack vectors."", 'Mysterious-Bowler15: Home Assistant is developt to keep your data local, so why use a cloud service to expose your data. If you want to reach your data from the internet just open a port on your modem/router and set your firewall and block unknown ip addresses.', 'jrhenk: Or zerotier! Just saw a demonstration on youtube a few weeks ago and it really looks like the next big thing, especially for setups where you otherwise have to ask your provider to put your router in bridge mode.', 'Different-Term-2250: I am confused now. If you are connecting locally, then it’s not exposed to the internet. If you are port forwarding to access locally then no need for a forward.', ""AtomOutler: With many proxies you can have a vhost.  The proxy won't respond unless you request the proper Host in the request headers.  This means you can't just get access to the IP directly, and the same same IP can serve multiple domain names.""]"
1682810177.0	29-Apr-2023 16:16:17	Ikea starkvind + vindriktning	MadSnow-	1	1339oa4	homeassistant	https://www.reddit.com/r/homeassistant/comments/1339oa4/ikea_starkvind_vindriktning/	"Does anyone operate an Ikea Starkvind air purifier with MQTT and can share some information about its implementation with HA?

Maybe even in combination with an Ikea vindstyrka?! 

I’m very interested in automations tho

Thx 🤝🏻"	5	['iotiot: Starkvind is nice. Has a built in air quality sensor, has an auto mode that adjust fan speed based on air quality, or can be set to a specific speed.', 'DecorationOnly: Vindriktning isn’t a smart device. You have to modify it to communicate with HA.', '400HPMustang: I have two starkvind, but not using mqtt. Aside from that the starkvind is really nice. No issues or complaints at all.', 'MadSnow-: My mistake… corrected it to vindstyrka 👌', 'DecorationOnly: I’m in the middle of a project to add d1 minis to the Vindrikning. A few YouTube tutorials on it and it looked like fun.\n\nWill probably get a vindstyrka because there are more things measured (and for fun).']
1682803707.0	29-Apr-2023 14:28:27	Any UK sourcable smart curtain track recommendations?	reddoodler	0	13378rr	homeassistant	https://www.reddit.com/r/homeassistant/comments/13378rr/any_uk_sourcable_smart_curtain_track/	"https://www.amazon.co.uk/HC-Electric-Motorized-Automation-Compatible/dp/B07RZCRJ15

https://www.amazon.co.uk/Quoya-Smart-Curtain-Track-Length/dp/B09859JG24/

Both look good, but I don't want to be reliant on any cloud based solutions and googling does not bring up anything on of they might be flashable. I guess ZigBee would be a safer bet, but I can't seem to find any and my wifi coverage is much better.

Reason for UK sources is because I want to install the curtains ASAP...so another route might be to buy the track in the UK and use them manually until the motor arrives - but checking compatibility is not easy with most of these Amazon listings.

Thanks in advance"	1	"[""UnorthodoxEng: Have you considered the Switchbot option?  Their Curtain opener looks quite a clever solution to me - and will be on my Xmas list!\n\nI have some of the Switchbots for turning on the dishwasher etc - and they integrate nicely with HA, so long as you have Bluetooth.  It doesn't need the cloud service, though you do have to install their app to configure the devices.""]"
1682802119.0	29-Apr-2023 14:01:59	Anyway to integrate Mitsubishi Heat Pump into Home Assistant and keep my MRCH1 remote usable?	Slight316	0	1336mgl	homeassistant	https://www.reddit.com/r/homeassistant/comments/1336mgl/anyway_to_integrate_mitsubishi_heat_pump_into/	I'd love to integrate my Mitsubishi Heat Pump / Air Handler into HA but would also love to keep my MRCH1 remote usable for the non-initiated HA people in my house hold.  Is this at all possible?	6	"['ProfessorSlocombe: Does the heat pump have the wifi module?  ECHONETLite Platform is a HACS integration that allows control via wifi. Assuming the model supports ECHOnet.  \n\n\nAlternatively you can use an IR Blaster controlled by HA', 'phidauex: What model of air handler do you have? Do you know how the thermostat connects to it? If it has a “CN105” port available then there is a good chance it will work with https://github.com/geoffdavis/esphome-mitsubishiheatpump - I’m using this on 5 Wemos D1 ESP devices on 5 indoor MSZ-GL series indoor units with very good success.', ""sblfc1: Some have a controller connector, you can use an esp8266 to interface if yours has this. What's the model of the heatpump?"", 'AnxiouslyPessimistic: I’ve got a Mitsubishi air con unit with wifi that uses both a physical remote and the MELCloud app. There’s a MELCloud integration for HA that works perfectly.\n\nI have it setup with the ability to set timers etc as well automations for warning/cooling the bedroom at certain thresholds', 'sivizart: use this to integrate to HA using Homekit\n\nhttps://getmysa.com/products/mysa-ac', ""sabership: Short answer: Maybe.\n\nYou may want to take a look at [this](https://github.com/geoffdavis/esphome-mitsubishiheatpump) completely local esphome integration for some Mitsubishi heat pumps with an internal CN105 serial port connector.\n\nDisclaimer this is not my work in anyway and credit goes to the owner of the linked repository and swicago (the library it uses).  \n\nI have just recently connected a D1 mini to the CN105 port in one of my own minisplit units and it's been working flawlessly for the last month. It plays well enough with the remote, but I'd imagine it's quite a bit different than the MRCH1.""]"
1682802084.0	29-Apr-2023 14:01:24	Monitoring people without apps	ColdTights	1	1336lwu	homeassistant	https://www.reddit.com/r/homeassistant/comments/1336lwu/monitoring_people_without_apps/	 Are there any solutions that will allow me to monitor the presence of people in the house using bluetooth coverage or joining a wifi network?	9	['arthriticpug: i think esphome has some things for that although i haven’t tried it. i tired to build my own system and it didn’t work very well.', 'Shooter_Q: Would [ping presence sensor](https://www.home-assistant.io/integrations/ping/#presence-detection) suit your needs?\n\nhttps://preview.redd.it/c3cvuxiujxwa1.jpeg?width=1125&format=pjpg&auto=webp&v=enabled&s=ce314f21c39af48b0a80110de58088f5409e42ca', 'xconverge: I use wifi device tracker for a person with the integration that talks to my router (unifi).\n\nhttps://www.home-assistant.io/integrations/unifi/#presence-detection\n\nhttps://www.home-assistant.io/integrations/device_tracker/', 'sleekelite: How do you want to uniquely identify people then?\n\nWhy are they unwilling to make it easy for you?', 'realsqlguy: Works for Android phones too: https://github.com/mudape/iphonedetect', 'simonparkis: I use a combination of Bluetooth and wifi tracking alongside homeassistant companion app for myself and my wife but me mum and step dad have only wifi tracking which works well. They use iPhones so need to deal with deep sleep. There is a hacs add on called iPhone detect that I use. Works great.', 'triangulum-visitor: [ESPresense](https://espresense.com/) - I’ve tested it with my smart watch and it works well.', 'arthriticpug: my watch only advertises on bluetooth when it’s not connected to my phone, which is basically never', 'maxi1134: IF you install HA on it ( If it is Android or IOS) you can set it to have a Bluetooth beacon!']
1682801305.0	29-Apr-2023 13:48:25	What could be wrong? cant get it working...	x0rk	0	1336aw0	homeassistant	https://www.reddit.com/r/homeassistant/comments/1336aw0/what_could_be_wrong_cant_get_it_working/	"&#x200B;

https://preview.redd.it/cvtw9ahqyvwa1.png?width=2369&format=png&auto=webp&v=enabled&s=d465ab89b9fcfc1bbfe8fa1c9bdfc1a71a48cfb2

https://preview.redd.it/q8bfy9hqyvwa1.png?width=2136&format=png&auto=webp&v=enabled&s=cb4f56687c512a155f9b235c3fd8733b50aac363"	2	['_avee_: Try removing this line:\n\n> adapter: ezsp\n\nI have Sonoff dongle and it works fine without it.', 'MowMdown:     adapter: ezsp\n\nIs only for the “Dongle E” variant and it’s required if you have this one']
1682793218.0	29-Apr-2023 11:33:38	How do I pass state_attr like data to a shell command from a button in mini-media-player?	eej71	1	133366u	homeassistant	https://www.reddit.com/r/homeassistant/comments/133366u/how_do_i_pass_state_attr_like_data_to_a_shell/	"I have an old ELAN Digital Dual Tuner that has been a long standing device in our whole house audio system. I know how to send it commands via RS232.

Where I am struggling is connecting the custom buttons of custom:mini-media-player to pass long the current source name over to the set\_tuner shell command so that the script can know which station to set which tuner to. For example, I'd have button labelled Z101 - and if the source is FM Tuner 1, then the script would be invoked as `./set_tuner.sh 1011 ""FM Tuner 1""`. The script will take of the heavy lifting of speaking RS232 to the ELAN Digial Dual Tuner.

My card setup is like this.

        cards:
          - type: custom:mini-media-player
            entity: media_player.zone_16
            name: Patio Speaker
            artwork: cover
            sound_mode: full
            volume: true
            source: full
            scale: 2
            shortcuts:
              columns: 4
              buttons:
                - name: Z101.1
                  type: service
                  id: shell_command.set_tuner
                  data:
                    station: 1011
                    tuner: '{{ states.media_player.zone_16.source}}'

The intent is that my shell command would capture the two parameters that are passed along as specified in the data block - the station number and then the tuner name - which is the current source for that entity. Then over in the shell\_command definition I have this.

    shell_command: set_tuner: 
      ./set_tuner.sh {{ station }} {{ tuner }}

At the moment `{{ tuner }}` seems to come through as the literal text- `{{ states.media_player.zone_16.source}}` which is not the intention. I am wanting to capture the value of the evaluation of that. 

What am I confused about? Is there a more canonical way to do what I want to do?"	5	"[""iWQRLC590apOCyt59Xza: Can't you run the command directly, instead of via a shell script?\nHere's how the docs do it:\nhttps://www.home-assistant.io/integrations/shell_command/#automation-example\n\n\nA shell script might be able to fetch the needed values via the rest API?"", ""itsaride: Try : {{ states('media_player.zone_16.source') }}"", ""eej71: That's certainly an option.\n\n I think the additional context worth mentioning is that I have a Monoprice 6 Zone Controller. So I actually have 6 zones that can select between at least one of these two tuners. As a result, I'd end up needing something like this.\n\n    shell_command:\n      set_tuner_zone1: ./set_tuner.sh {{ station }} {{ state_attr('media_player.zone_11', 'source'}}\n      set_tuner_zone2: ./set_tuner.sh {{ station }} {{ state_attr('media_player.zone_12', 'source'}}\n      set_tuner_zone3: ./set_tuner.sh {{ station }} {{ state_attr('media_player.zone_13', 'source'}}\n      set_tuner_zone4: ./set_tuner.sh {{ station }} {{ state_attr('media_player.zone_14', 'source'}}\n      set_tuner_zone5: ./set_tuner.sh {{ station }} {{ state_attr('media_player.zone_15', 'source'}}\n      set_tuner_zone6: ./set_tuner.sh {{ station }} {{ state_attr('media_player.zone_16', 'source'}}\n\nThis is certainly a solution - but it just feels kind of wrong and I just have this vague sense that something somewhere in the HAAS templating framework is a simpler approach.\n\nThe other approach is as you recommend - calling back into a REST API to get the setting. It just gnaws at me because it seems like there should be a way to have a template expression evaluate in that yaml variable and have that passed along."", ""eej71: >{{ states('media\\_player.zone\\_16.source') }}\n\nSadly that doesn't work. Same issue. It is presented exactly as it is."", ""itsaride: Sorry I wrote that off the top of my head because I was updating HASS at the time and couldn’t test.\n\nI don’t know what your media player attribute list is like but \n\n    {{ state_attr('media_player.zone_16', 'source') }}\n\nShows the current source of my receiver. I’ve replaced my player for yours.""]"
1682792846.0	29-Apr-2023 11:27:26	E14 zigbee globe dimmable (not too bright)	usefulvid	3	133314e	homeassistant	https://www.reddit.com/r/homeassistant/comments/133314e/e14_zigbee_globe_dimmable_not_too_bright/	"I am looking for a warm White e14 zigbee led which should not be too bright.
My lamp has 7 sockets so it gets annoyingly bright with standard lamps (even with 2,5W led).
I looked for Philips hue but I couldn't find any specification on how dark I can dim them.
Any ideas on how to tackle this problem?"	2	['Upstairs-List: I have some ikea bulbs. They seem to stop dimming at about 20%. Hope that helps', 'generalambivalence: If I recall correctly, I can dim my Philips Hue bulbs to 3/255, which equates to about 2.5% I think. Any lower and I think it just turns off.']
1682791096.0	29-Apr-2023 10:58:16	Blinds2Go Electric Blinds	Fast-Radio1078	1	1332cdf	homeassistant	https://www.reddit.com/r/homeassistant/comments/1332cdf/blinds2go_electric_blinds/	"Hello,

Looking to buy a Blinds2Go Smart Blind (like [this](https://www.blinds-2go.co.uk/roller-blinds/32558/electric-titan-snow-white.html)) which uses Tuiss SmartView.

Apparently they use 433mhz, is that true? 

Can I use my Sonoff [RF Bridge](https://sonoff.tech/product/gateway-and-sensors/rf-bridger2/) to control the blinds after recording the 433mhz signal via ewelink from the remote, or do I need to flash the RF Bridge with Tasmota etc, I have a pretty basic setup, just using ewelink, not home assisntat or similar

Anybody done it?"	1	"[""swake88: Hey there! \n\nI posted [this](https://old.reddit.com/r/homeassistant/comments/p4ay0r/managed_to_integrate_electric_blinds_from/) a while back when I managed to use Blinds2Go blinds. \n\nI did use a Sonof RF Bridge in my instance, however I believe they've changed the hardware since then so I'm unsure nowadays.\n\nIf the new models use 433Mhz then there is a good chance you could use a RF Bridge, you'll have to install/flash another element called '[Portisch](https://github.com/Portisch/RF-Bridge-EFM8BB1)' to pick up more signals.""]"
1682789951.0	29-Apr-2023 10:39:11	My New Weather Dashboard	obsessivethinker	361	1331wf6	homeassistant	https://i.imgur.com/81YC1Hl.jpg		65	"[""joke-complainer: Information overload, wow!\n\nAre you just super into weather or is it related to your job?\n\nWhat's the radar map you use? I've been looking for a good one."", 'obsessivethinker: I have a nice Weatherflow setup, and I use it for some automations, etc., but the quick page I build to display the data was just a wall of text and meaningless graphs. \n\nI’ve been trying really hard lately to think about how to synthesize and display data so that it’s easy to understand and use to make decisions. This is the detailed page, but I’m kinda proud of how it’s coming together. \n\nMost of it is Weatherflow from my own station, but I’m pulling some data from OWM and my own rest sensors for National Weather Service data.\n\nNext up is incorporation weather alerts and bringing in data from the NWS SPC for severe weather management.', 'viper05: Mind sharing your Lovelace', ""scstraus: Nice! [Here's mine](https://raw.githubusercontent.com/scstraus/home-assistant-config/master/readme_images/Tab10_Weather.png)"", 'avd706: Wow! How did you plot the graph with bearings.', 'Mr-introVert: Just stunning!', 'besthusbandever: Fantastical!', ""lordxeon: That's pretty ace, I'm sending all my weather data to Grafana and I have it iframe'd in.  I've since started exposing more individual sensors so that I can get the info easier and I can set up automations on things."", 'nuhnights: Oh man, I would love a pollution rose on my dashboard. I hadn’t even considered it until I saw your wind rose. Nice!!', 'slserpent: I like the use of a polar graph for the wind direction (and speed?) history.  It all looks really nice.', 'mmakes: This looks fantastic! I love me some information overload. Love the lightning scatterplot chart.', 'sinayion: This is fantastic, ty for sharing! I work in video games as a Producer, and info overload is something we do all the time.', 'mister2d: Is the source posted on a public repo?', 'stomiidae: What news station do you work for?', ""doiveo: I assume this will attract weather geeks so I have a hijack question: is there a way to grade the various weather sources with historical data?   I'd love to know which are more accurate with real data analysis."", 'nc1264: Care to share all the details?\nIt looks absolutely awesome', ""chicknlil25: That's [weather-radar-card](https://github.com/Makin-Things/weather-radar-card). I use that one too. I think I read in the community that the dev for that no longer has the time to put into it though, sadly."", 'SupermanThatNiceLady: Yeah this is something I would spend hours putting together only to realize a week later that I don’t even look at most of it', 'obsessivethinker: Hey, I feel you re: information overload. I should mention that I have two main dashboards (in the sidebar): home (the default, which is what I use 90% of the time and others in the house use) and systems, which presents more in-depth data. \n\nSo generally I, like u/SupermanThatNiceLady rightly calls out below, just look at a card on the first tab of home that tells me whether it\'s raining or hot or a tornado is gonna blow me away or something. \n\nThis is where I go if that main card shows something interesting, or if there\'s weather I care about, or I wanna know what things are gonna be like at a given time, etc.\n\nAnd yeah, u/Fauropitotto got me: I hold a PPL and even when not flying regularly am kinda used to getting more detailed weather information than just a sunny/stormy icon. When everyone\'s like ""omg there\'s gonna be bad weather today"" I\'m the nerd that looks at the weather maps to see what\'s really happening, what the risk is to me, and what\'s gonna happen when and why.\n\nAlso I\'ve found that some of the data can be useful. I track (and graph), for example, the 24-hour spread of barometric pressure because studies show that changes greater than .3 inHg in a 24-hour period can trigger migraines. (My partner has bad migraines, so I thought it\'d be interesting to track. Sure enough, they sometimes coincide. So I added an ""idiot light"" on the main dashboard weather card that lights up when the pressure change qualifies, and she likes that.)', ""Fauropitotto: I'm also very curious. \n \nMaybe he's into aviation or flying model planes or something. I just need to know if I need to carry an umbrella or if to plan to cut the lawn. \n \nDetails like pressure, wind direction, and literally *any* historical weather data doesn't seem to be valuable enough to invest this kind of time. \n\nMaybe he's into boats and needs this data for something boat related?"", 'doiveo: I mean, did you see his username?', 'chicknlil25: What cards are you using for the info, OP?\n\nAnd happy Cake day!', ""obsessivethinker: Here you go: [https://gist.github.com/CharlesCage/335cd0eb86ab8a58af2c13fccd4d5e96](https://gist.github.com/CharlesCage/335cd0eb86ab8a58af2c13fccd4d5e96)\n\nEdit: Ignore that last card in the scheduling tab. I'm still fumbling around experimenting to figure out how I want to display weather alerts, so that markup card is me getting comfortable with outputting and formatting there. It's fugly."", ""obsessivethinker: Happy to, but I've never done that. How does one do it? Or are you looking for config of one particular card? \n\nDoing this I learned a LOT about vertical-stack-in-card, config-template-card, and paper-buttons-row. Paper-buttons-row is just so malleable! I think based on what I learned here, I'm going to start looking into replacing some of my stock entities-card switches and stuff with paper-buttons-row."", 'milandzuris: Vyuzivaš realne to do detailov?, Ja som tiež rozmýšľal ale mi príde že pri tych predpovediach to nema zmysel.', ""obsessivethinker: Oooh, that's sharp. I've been trying to figure out how I want to use that indoor AQI data. \n\nOne thing I did was add some custom-bar-card bars to the bottom of my HVAC card to display room temps with the severity colors coded on the fly (config-template-card) to align with the appropriate thermostant. So, for example, they're green if between the thermostat-set low and high, blue if below, yellow if high, and things-are-bad-bright-synthwave-pink if below freezing or hot enough to be dangerous.\n\nhttps://preview.redd.it/kf6s05kcaywa1.png?width=337&format=png&auto=webp&v=enabled&s=a0c84e9dce5b507be7477a106e778ce770fb1a88\n\nThough honestly I think I might switch it to a paper-buttons-row with some heavy customization. I think these bars are bigger than they need to be, and who really cares about the actual bar--just need the data with the color.\n\nI built these little AQI cards for the rooms in which the sensors live, but I'm not happy with them. I can do better."", 'obsessivethinker: My little (not great) AQI card:\n\n&#x200B;\n\nhttps://preview.redd.it/6fn4zn0saywa1.png?width=338&format=png&auto=webp&v=enabled&s=0a6f99e735cb916d91408c62343c45e3fbc19327', 'Terra_B: Nice! Where can i get that?', 'zSprawl: And here I’m all like, yo!\n\nhttps://i.imgur.com/if9F88h.jpg', 'christopherdopp: It’s the windrose-card. You can find it here: https://github.com/aukedejong/lovelace-windrose-card', 'obsessivethinker: Thank you! I actually put together a little color-scheme guide for myself to try and make everything more intuitive. Besides being a synthwave fan, doing things like reserving certain colors for important alerts, etc.', 'obsessivethinker: Nice! I\'m a grafana ho, too. Most everything started at home feeding into either Zabbix or direct into a TICK stack and then I dashboard with grafana. (I have a grafana dashboard on the wall in my office.) But recently with such well-developed plugins for TrueNAS, etc., I started thinking maybe I should move some things to hass. Nice to have them in a nice format on my phone, too.\n\nHere\'s kinda what I\'ve been thinking and would love to hear your thoughts:\n\nSo there are like 5 levels of information importance, I think:\n\n1. Information critically important to everyone onsite (read: tornado warning)\n2. Information important to family/residents (read: power cut out and we\'re on battery backup, primary internet uplink is down)\n3. Information important to home system maintainers (read: main or backup storage array is degraded, VPNs are down, some server isn\'t ping available)\n4. Interesting information (read: air conditioning is running, sprinklers are running, drive time to work)\n5. Detailed information useful for analysis and study (read: troubleshooting a problem, looking for trends to figure something out, figuring out how bad the rain storms predicted later will be)\n\nMy initial thinking for targets for these:\n\n1. Display in a simple, clear format on the primary dashboard with critical color/icons/whatever to make it easy to see what\'s happening and what needs to be done. Possibly convey these out of band (e.g. turn LED lights a different color, audio alert, whatever). Send critical notifications (we\'re iOS, so they cut through settings to make noise)\n2. Display on primary hass dashboard and send non-critical alerts.\n3. Display visualizations on secondary hass dashboard and (as desired) target notifications to me only.\n4. Display on primary or secondary hass dashboard as desired.\n5. This is the interesting one that made me want to share based on your comment. The more I think about it, the more I think I wanna slap this into Zabbix and/or InfluxDB. Those with grafana give the tools to really dig in and study the data if/when I want to do that. No need for it really in hass, and with the awesome hass->Zabbix interface I have the hass data available to match up with the data I decide not to keep in hass for grafana work.\n\nEdit: I decided to start with the ""importance 3"" dashboards because it gives me both exposure to all the data I have and helps me learn the various customization tools available. I think next I\'ll crush the data even more for main dashboard display (like ""do I need an umbrella"" in context with this weather display), then adjust the main dashboard cards to link through directly to the secondary dashboard page for the underlying data if I care.', 'mmakes: What would be a pollution rose be like?', 'obsessivethinker: You can totally see storms track toward you!', ""obsessivethinker: You beat me to it. It's still fine as mentioned below. Also as mentioned below it's pretty much a glorified iFrame, so I suspect if it runs into problems I can probably put something together myself that would be similar."", ""joke-complainer: Ya, that's why I was concerned about using that one!"", ""obsessivethinker: It's one of those things that I'm glad I put the time into because even though I don't stare at it all the time, I can get answers to questions when I want them--explore the data in a comfy way.\n\nPlus, I've been using it as a way to experiment with better ways to visualize things and control the formatting to make a good-looking UI. I sorta left it default for a long time, just happy to be able to see and control things around the house."", ""joke-complainer: I figured as much. I'm a pilot as well, but haven't incorporated anything into home assistant. I mostly just use the Avia Weather app. \n\nI really, really like the compass rose wind card. I may incorporate that somehow!"", 'obsessivethinker: I feel you! For me, though:\n\nPressure: useful for seeing weather changes (and migraine triggers)\n\nWind direction: big changes in direction indicate front passage or other changes that might be important, especially when dealing with severe weather. But for just ""I\'m heading out"" stuff, not really at all.', 'Hindsight_DJ: I have something similar, but I feed my personal weather station into HA from MQTT so I graph and display my own weather data and contribute it to national services too. I do something similar with ADSB and aircraft positions for various sites.', 'obsessivethinker: Thanks! Besides the ones others called out, mostly paper-buttons-row and apexcharts-card with vertical-stack-in-card to glue them together and config-template-card to do any javascript post-processing to do things like switch icons out, fix units, format text, etc.', ""teleksterling: Thanks for sharing the Yaml.\nI found the [custom compass card](https://github.com/tomvanswam/compass-card) as a result. That's really pretty, and flexible!"", 'viper05: Just go into raw view and copy the tabs yaml, then paste into GitHub gist', ""scstraus: I don't use it so much for weather forecasting itself, but more for comparing what the weather conditions were or will be to other things that are happening, and understand the effects of the weather events on other things, for example, when I'm having headaches to see if there's something in the environment that could be causing it. But it can be useful sometimes if I want to know very specific things like where in the country it will or won't be raining or snowing at a given time, etc.. \n\nI'll admit I don't use it a lot, but I'm glad I have it when I need it. I built it because I was often trying to find more detailed weather information than what I had from the weather cards, so I didn't just build it for fun, but because I was asking questions which I couldn't answer in any quick and effective way."", ""obsessivethinker: >Vyuzivaš realne to do detailov?, Ja som tiež rozmýšľal ale mi príde že pri tych predpovediach to nema zmysel.\n\nI do use it in detail, though not all the time. I'm a bit of a weather geek, but really I come to this page when the simpler card(s) tell me the weather is concerning or interesting."", ""scstraus: Nice. Here's my [climate page](https://raw.githubusercontent.com/scstraus/home-assistant-config/master/readme_images/Tab3_heat.png)"", ""scstraus: Nice. [Here's what I do for AQI at a glance](https://raw.githubusercontent.com/scstraus/home-assistant-config/master/readme_images/Tab1_dashboard.png)."", ""scstraus: It's explained [here](https://github.com/scstraus/home-assistant-config#tab-10-weather)"", 'obsessivethinker: Again, beat me to it. Dev is still active and really responsive.', ""mmakes: It's been raining cats and dogs for a day now!"", ""chicknlil25: It's still working though.\n\nI've not looked at it in any depth, but from the open issues, it seems like it utilizes an iframe."", 'SupermanThatNiceLady: I like it! And even if you didn’t have much of a use for it, which it seems you do, as long as you like it that’s all that really matters.', ""obsessivethinker: Hey, I discovered that it's really easy to use a rest sensor to pull in data directly from the NWS API and they have endpoints for METARs, TAFs, and aviation sigmets. Would be trivial to add your local airport data, etc. to a dashboard.\n\n[https://www.weather.gov/documentation/services-web-api](https://www.weather.gov/documentation/services-web-api)\n\nHonestly, once I figured it out I'm not sure why I'd depend on any of those weather plugins like OWM. NWS is 100% free and lots more products to choose from."", ""Fauropitotto: Interesting. I've been trying to explore other ways to get access to data, including haptic feedback, or perhaps certain changes in light color or flashes that would provide data through the environment without having to look at a graph. I know there are smartwatch faces that show live weather data, but somehow I can't help but think there's got to be a better way. \n\n\n\nOn a tangent: I've heard of some folks getting a sort of psychosomatic self-fulfilling thing going on when they track physical ailments when linked to external phenomena. \n \nLike when someone says my joints hurt, therefore bad weather may be coming. Over time the link between the two get so strong in their mind that when they see bad weather, their mind tricks them into thinking that their joints hurt even when they don't. \n\nInstead of a bell triggering a Pavlovian reflex, it's some other causal event that was 10% coincidence, 30% real, and 60% imagined. Folks see what they believe to be a trigger indicator and effectively manifest the ailment because they've effectively trained themselves to have that response, and then reinforce that response over *years*. \n\nIt's what makes assessing physical triggers such a difficult thing to do."", ""obsessivethinker: Oh hells yeah! Most of the stuff on this page comes from my own Weatherflow weather station. There's a pretty good integration for it. \n\nAnd love the ADSB. I feed a couple of services, and I stuff my own data into InfluxDB. I can use it directly, but I've been meaning to have some fun with it, like adding a list of local city police aircraft and alerting when they're within a given range. Or maybe fork that repo that detects circling aircraft and alert on those."", 'obsessivethinker: THIS', ""obsessivethinker: I like the averaging of all the sensors. That's a really interesting idea."", 'zSprawl: Yeah I tend to like single page phone sized:\n\nhttps://i.imgur.com/W0uhNw1.jpg', 'obsessivethinker: Oh man, I\'m gonna pore though that.\n\nI do the systems thing, too, though I broke it into a separate dashboard and tabs.\n\nLike this is my ""communications"" tab. (Again, on the main dashboard you just get some indicators whether the ""internet is down"" or not, but this is what I use to see what\'s really going gown.)\n\n&#x200B;\n\nhttps://preview.redd.it/mt71gsbcbywa1.png?width=1009&format=png&auto=webp&v=enabled&s=971922831142f3a80848e730e7080c8409a18a87', 'joke-complainer: This helped me figure out what I wanted to do. \n\nI used a windy.com embed into the home Assistant embed card. Works a treat!', ""joke-complainer: Oh nice. My schedule gets populated automatically in Google calendar. I'm absolutely going to pull that info and automatically display it on my dashboard on the days I have flights. Awesome! Thanks for the inspiration."", ""ciabattabing16: Are you pumping your data to CWOP?\n\nWindy pulls their data from MADIS which you'll get by registering data in CWOP, so you can see your own station data in it.  That also puts you into Weather.gov\n\nYou can also pump to Wunderground, PWS, and WeatherCloud all at the same time for nerd reasons."", 'scstraus: My thermostat actually does that for me, but yeah you could totally do it with template sensors too.', ""obsessivethinker: Wow, I didn't know about [windy.com](https://windy.com). Nice. That's gonna find a home in my system."", 'StarfishPizza: This is the way.']"
1682789948.0	29-Apr-2023 10:39:08	Capitalise State and also Colour Battery	thatsamwilliams	0	1331wd4	homeassistant	https://www.reddit.com/r/homeassistant/comments/1331wd4/capitalise_state_and_also_colour_battery/	"Hi all,

I’m trying to capitalise the work ‘Home’ as seen in the photo. And possibly, instead of not_home, display ‘Away’.

I’ve also tried many different ways to change the battery icons to red when below 20%.

Any help would be appreciated. (The formatting is correct in the code below, not sure if it’ll look right as I’ve pasted it in).

https://i.imgur.com/MALPboE.jpg

          - type: horizontal-stack
    cards:
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:mushroom-person-card
            entity: person.sam
            icon_type: entity-picture
            primary_info: name
            secondary_info: state
            name: Sam
            icon: mdi:face-man
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: sensor.sams_iphone_battery_level
                    use_entity_picture: true
                    card_mod:
                      style: |
                        ha-card {
                          border: none
                        }
                alignment: center
              - type: conditional
                conditions:
                  - entity: person.sam
                    state_not: home
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: entity
                      entity: sensor.me_home
                      use_entity_picture: true
                      card_mod:
                        style: |
                          ha-card {
                            border: none
                          }
                  alignment: center
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:mushroom-person-card
            entity: person.sam2
            icon_type: entity-picture
            primary_info: name
            secondary_info: state
            name: Sam²
            fill_container: false
            icon: mdi:face-woman
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-chips-card
                chips:
                  - type: entity
                    entity: sensor.sam2s_iphone_battery_state
                    use_entity_picture: true
                    card_mod:
                      style: |
                        ha-card {
                          border: none
                        }
                alignment: center
              - type: conditional
                conditions:
                  - entity: person.sam2
                    state_not: home
                card:
                  type: custom:mushroom-chips-card
                  chips:
                    - type: entity
                      entity: sensor.sam2s_home
                      use_entity_picture: true
                      card_mod:
                        style: |
                          ha-card {
                            border: none
                          }
                  alignment: center"	1	['graduategrasshopper: This should be done automatically by default. Something went wrong with this due to recent updates but it seems to be sorted now. Make sure you have everything up to date and clear the browser cache on all your viewing device.']
1682789472.0	29-Apr-2023 10:31:12	Broadlink, Switch, and assumed_state	svogon	1	1331prk	homeassistant	https://www.reddit.com/r/homeassistant/comments/1331prk/broadlink_switch_and_assumed_state/	"Hey all.

I'm sending IR codes via the Broadlink integration.  I have several devices setup as switches using the examples yaml on the [Broadlink - Home Assistant (home-assistant.io)](https://www.home-assistant.io/integrations/broadlink/) page.

Several of those switches have an assumed\_state of true (default) but I want them to be false.

I'm unsure where or how to add that without an example."	0	[]
1682789449.0	29-Apr-2023 10:30:49	RTL - rotating between meter reading and 433 guide?	danlo315	0	1331pds	homeassistant	https://www.reddit.com/r/homeassistant/comments/1331pds/rtl_rotating_between_meter_reading_and_433_guide/	"Hello,

Looking for guidance on how to setup RTL to rotate between meter reading and reading 433 sensors. I'm currently running rtlamr2mqtt to read my electric and gas meters and it has been running near flawlessly for the last few months. However I ordered 433 freezer temp sensors for my garage fridges and would like to use the same device. Is there a guide on how to run rtlamr2mqtt for meter readings and then rtl_433 at the same time? I am only using 433 for temperature readings so ""missing"" a reading during rotations is not a big deal for me.  Thanks!"	3	"[""generalambivalence: There's a setting in the config for rtl_433 to rotate the frequencies on a set rotation of seconds.\n\nI only wanted to read my water meter once per day to get total consumption, so I set up multiple config files for rtl_433 and use a combination of command line scripts and an automation to switch between frequencies.\n\nhttps://github.com/iamjoshk/home-assistant-collection/blob/main/rtl_433/rtl_433%20frequency%20hop.md\n\n\nYou could probably do something very similar for rtlamr."", ""SoCaFroal: Rotating the frequencies make sense here because you don't necessarily need up to the minute values for the freezer temperature for utility meter. You can rotate the frequency every 5 minutes and grab all the values needed to track over time."", ""generalambivalence: Yep, I agree. In my case, I just wanted to read my water meter once a day. My other sensors are temp/humidity and contact sensors. The contact sensors are more important to have an immediate state update.\n\nIn rtl_433's config, you can't specify a specific time, only the duration between frequency changes. The likelihood of the change getting disrupted and migrating throughout the day over time was the driver for coming up with my solution.""]"
1682789240.0	29-Apr-2023 10:27:20	Z-wave Bridge for HA VM	sgxander	1	1331may	homeassistant	https://www.reddit.com/r/homeassistant/comments/1331may/zwave_bridge_for_ha_vm/	"Hello Homeassistanteers,

I'm running HA as a VM (Hyper-V) and am quite happy with it given the underlying hardware is reasonably beefy but I'm struggling to find a Z-wave bridge device. For Zigbee and Bluetooth I have the TubesZB LAN connected modules which work perfectly but neither they nor any other I can find do a similar LAN or WiFi connected device that will bridge HA to Z-Wave devices. Has anyone seen/found one and if so can you link it please? 

TIA"	8	"['peterxian: I built one myself with a Zooz 800-series GPIO module and a ESP32 running esphome with [uart streamer](https://github.com/oxan/esphome-stream-server). Total cost was about $20, no soldering required. You just enter the tcp:// address and port in zwavejs-ui.', ""jmcgeejr: I have been pretty happy with my hubitat, it's wifi/lan and connects to HA."", '_Rand_: I don’t think one exists.  Or at least I’ve not heard of one.\n\nI suppose you could run zwavejsui on a pi and stick the whole thing somewhere though.', ""labs-labs-labs: I'm in the same boat. HA running in a VM, but I also have my server in a different building than my house (where I want to use Z-Wave devices).\n\nI bought what I think I need to do this but haven't had a chance to set it up yet, so I can't say for sure it is going to work but...\n\nA Raspberry Pi + one of these Zoos ZAC93 800 GPIO modules feels like it's going to be the ticket: [https://www.getzooz.com/zac93-gpio-module/](https://www.getzooz.com/zac93-gpio-module/)\n\nWorst-case I'm pretty sure this will work with a 2nd instance of HA running on the Pi, but there are some good thoughts/ideas in this thread that I bookmarked to read when I have time to try this: [https://community.home-assistant.io/t/multiple-ha-instances/219622/10](https://community.home-assistant.io/t/multiple-ha-instances/219622/10)\n\nHTH!"", 'sgxander: Think this may be the winner. Did you follow a write-up at all?', 'zrail: This is basically what I do. I have several Dell Wyse 3040 thin clients scattered around, each with a zwave and a zigbee stick. They run zwave-js-ui and zigbee2mqtt.', ""peterxian: I didn't follow any write-up, but it only took a half a day to figure it all out :). I just posted the details over at [https://community.home-assistant.io/t/make-a-z-wave-to-wifi-bridge-with-esphome-stream-server-and-zooz-zac93-gpio/565913](https://community.home-assistant.io/t/make-a-z-wave-to-wifi-bridge-with-esphome-stream-server-and-zooz-zac93-gpio/565913)""]"
1682787729.0	29-Apr-2023 10:02:09	My detailed Aqara FP2 installation and Home Assistant Configuration Guide	Travel69	19	133101q	homeassistant	https://www.reddit.com/r/homeassistant/comments/133101q/my_detailed_aqara_fp2_installation_and_home/	"Now that I've had some experience with the Aqara FP2 in my home, I wrote a complete how-to setup guide for getting the FP2 in Home assistant and setting up your first room and detection zones. The FP2 is somewhat buggy (mostly the iOS app it seems), but for me, it has been working great after some fine tuning.

&#x200B;

[Home Assistant: Setting up the Aqara FP2 Presence Sensor](https://www.derekseaman.com/2023/04/home-assistant-setting-up-the-aqara-fp2-presence-sensor.html)"	11	"['sroebert: Been trying one out for the last week, but I’m not that impressed so far. Placement is probably the issue, but I don’t want to have one on my wall at two meters high with a power cable going down. Also as you mention in your article, multiple people is an issue. \n\nProbably will get better with updates, but at the moment kind of unusable for me.', 'I_Dunno_Its_A_Name: Where do you buy the FP2 sensor? I assumed aliexpress but only finding the first generation sensor.', 'ericstern: Do you isolate your IOT devices? I am trying to find if fp2 works as expected if you block it completely from internet?, i heard there could be problems with that, but am trying to find some concrete answers to find out if its a rumor or if its true.', 'AnxiouslyPessimistic: I think it states outright that for proper use it needs to be wall mounted? Which is a bummer really because wires never look good', ""Travel69: Amazon in the US. They are currently out of stock and not taking new orders. Rumor has it early May Amazon will get another shipment. Aqara's site also listed Home Depot and a couple of other US retailers."", 'Travel69: My office FP2 is wall mounted. My kitchen FP2 is mounted on the lower edge of an upper cabinet (above the counter working space). So far both, with enough room tweaks, are operating extremely well with a single person. I have multiple zones in each, and in HA as I walk around it nearly instantly updates my zone presence. Shockingly good actually.', 'sroebert: It does in the app yes. I guess it can also work with the stand, but I’ve run into a lot of false detections or it displaying multiple people when I’m the only one walking around.', 'Jimmhead: How much are the FP2s compared to the first generation?', 'AnxiouslyPessimistic: I’ll be giving it a go when they’re back in stock!', 'sroebert: What kind of room tweaks did you do?', 'Travel69: Amazon US had them for $83. There was a 15% off coupon that lasted 3 days, but Amazon sold out on day 1.']"
1682787166.0	29-Apr-2023 09:52:46	Logbook is lying to me, or I'm going insane	em0ry42	5	1330rf0	homeassistant	https://www.reddit.com/gallery/1330rf0	"I press ""off"" on this switch, and seconds later the light comes back on. The logbook claims the ""turn on"" event was fired by the same automation that turned it off, but that automation's traces say it wasn't running at that time.

Someone is lying! And this drives me nuts. Only happens when the switch is involved, Alexa, Google, direct calls to the service, all successfully turn it off and it stays off. But if I use the off button it comes right back on.

Some details:

- light.hallway is a ZHA group consisting of four Gledopto MR16 bulbs. Yeah, I know these suck, that's why they're in the hallway.
- The switch is a Philips Hue rwl020 using [this blueprint](https://community.home-assistant.io/t/zha-philips-hue-dimmer-switch-rwl020-rwl021/255048?u=ejpenney) I've modified it slightly over the years but not much.
- I'm using this same blueprint on three other ZHA groups and their corresponding switches with no issues.
- There are two traces for every event because ZHA receives a button up event as well as a down event. The blueprint simply ignores one of them...
- The switch is not bound to the ZHA group because these Hue switches can only be bound to one endpoint and I want to monitor battery levels in HA.
- ""Switch 1"" has the same details, and the same issue

If this was an issue with the blueprint I'd expect to see something in the traces.

If this was an issue with the bulbs, I'd expect them to come back on regardless of the turn off method.

If this was ZigBee congestion, or some signal issue, I would expect the message from the switch to the controller or the controller to the bulbs to never make it at all... Or the turn on event to not appear in the logs!

System log shows nothing.  I've tried replacing this switch, the old one did this, so does the new one.

Any insights would be appreciated, rule 1 for spousal approval factor is: it needs to work like a dumb house first, and my spouse is not amused."	2	"[""ktfzh64338: I'll guess this is probably the reason: \n\nhttps://github.com/home-assistant/core/issues/60302\n\nHome assistant is not perfect about knowing the context for things, it makes some assumptions that state changes that occur within I think 5 seconds of each other are caused by the same context (and so the reason for the change may be incorretly populated)."", ""em0ry42: Thanks! That's super helpful. Pitfalls of asynchronous programming... That at least guarantees my sanity, at least in this situation, but now I still need to figure out why it happens...\n\nUgh, back to square one I guess.""]"
1682785720.0	29-Apr-2023 09:28:40	"Easiest way to ""turn on all lights""? I have a LOT of them"	starmanj	1	13306ox	homeassistant	https://www.reddit.com/r/homeassistant/comments/13306ox/easiest_way_to_turn_on_all_lights_i_have_a_lot_of/	"I need a simple voice command to ""turn on/off all lights"". I manually added all lights to a lovelace page, but you can't access that via automations.

\- Do I have to manually add all lights to a scene? That is the brute force way to do this I know; it would take a long time. But:

\- Is Home Assistant smart enough to simply know what's a light so I don't have to tell it via scenes? That is, in an automation, turn on all the lights defined in HA with an easy command?

\- Can I automate areas? You can't give a command to an area in an automation that I can see. That is, an automation that turns on all lights in an area?

\- Is there a way I can automate a lovelace dashboard long list of entities? I have all my lights listed in my default dashboard, but you can't access that in an automation...?"	11	"['michaelarnauts: I do this to turn of all the lights. Works perfectly in the latest version. I suppose it should also work to turn all the lights on.\n\naction:\n  - service: light.turn_off\n    entity_id: all', 'michaelthompson1991: Could you not setup a script and use light.turn_on then select all areas, then in an automation call the script?', 'sembee2: Dynamic group using a blueprint. \n\nhttps://gist.github.com/mwolter805/965fb5c3b4d6bf8e9aeba8acd82fd224', ""AllOutRaptors: I just have a zone with all my lights in it on the Hue app, it's not that hard to do and it works great"", 'Grim-D: I use node-red and in that you can select lights.off and then select areas. Alternatively you can use regex to turn off all entities starting ""lights."". Not sure about native automations as I never used them much but would think you could do simular things in that.', 'riley_hugh_jassol: Try:\n\n    service: homeassistant.turn_on\n    target:\n      entity_id: ""{{ states.light | map(attribute=\'entity_id\') | list }}""', ""benchristian88: I use this script. And then call it from an automation and button\n\nservice: light.turn_off\n    target:  entity_id: >    {{ expand(states.light)|.           selectattr('state', 'eq', 'on')    |map(attribute='entity_id') | list }}"", 'B4-I-WAKE-_vV: In the Devices/Integrations screen in settings, under the Helpers Tab, you can add all those lights to a group and either turn them all on and off or change all of them to any color (with a light card) or just a button card', '_ben_reilly: I got you bro......... Easiest way is to link Home Assistant to Google Assistant.  \nThe ask Google Assistant something basic, like ""what is the time?"" and Google will turn all of your shit on. Happens every day to me.', 'michaelarnauts: The formatting is broken, but basically, just use all as entity_id', 'LambdaNuC: This is the way']"
1682783886.0	29-Apr-2023 08:58:06	HACS Eufy Security Integration problem with HAOS 10.1	priusgeek	1	132zflf	homeassistant	https://www.reddit.com/r/homeassistant/comments/132zflf/hacs_eufy_security_integration_problem_with_haos/	"I had the Eufy Security integration running more or less successfully under HAOS 9.5. When I updated to 10.0, my entire system borked (shame on me for not keeping a local backup. Never again!) and I've had to recreate my HA system from scratch. Things were going well until I tried installing the Eufy Security HACS add-in and integration. Everything seemed to go OK. The Simple RTSP add-in installed and appears to run. The Eufy add-in loaded and seems to run. But when I installed the integration, the problems began. First, when I saved the integration's settings, I received a ""type error"" on the ""generate ffmpeg logs"" checkbox. Unchecking, saving then rechecking saving seemed to clear that up. Next, after a HA restart, the Integration asked for a reconfigure captcha, which is expected. When I solved the captcha, the system waited for about 30 seconds and then returned with an ""unknown error"" Trying it again returned a ""500"" error. Restarting HA and trying again yields the same result. This worked under HAOS 9.x. I verified the user and password for the Eufy login and verified that it had access to my devices. 

Any ideas  / help?"	3	"[""chicknlil25: Did you use the old fuatukgun version of the Eufy addon (eufy-addon-ws I think?) or the newer bropat version?  I'm not sure when they made that change, but I caught that randomly.  May not help, but it's the only thing that came to mind that's changed somewhat recently."", 'priusgeek: Its the Bropat 1.3.5, which looks to be about 3 weeks old...\n\nThanks for the response!', ""chicknlil25: I'm not having any issues with mine - but I also don't get asked about the recaptcha, so there could be an issue there. Might be worth opening a ticket on one or both GitHubs.""]"
1682782869.0	29-Apr-2023 08:41:09	Ok maybe I am missing somthing but where/or how to add, liked song button to spotify card?	djsaul80	1	132z0ob	homeassistant	https://www.reddit.com/r/homeassistant/comments/132z0ob/ok_maybe_i_am_missing_somthing_but_whereor_how_to/	"Maybe I am wierd in using this, but I love being able to heart a song at any moment to remember it in the future.  

I can not seem to find a card that will allow like song, or add like song option.  I have tired looking in forum, reddit, everywhere I can think and to no avail.

This mean, to me no one has tried, or more likely its really easy to add and I dont see how."	1	"['maxi1134: My solution to this was to record everything that plays on certain speakers. Here is my code for that template sensor:  \n\n\n    \n          - name: ""Playing on home group Speaker""\n            state: >-\n              {% if state_attr(\'media_player.group_home_group\', \'media_series_title\') %}\n                {{ state_attr(\'media_player.group_home_group\', \'media_series_title\') }}\n              {% elif  state_attr(\'media_player.group_home_group\', \'media_album_name\') %}\n               {{ state_attr(\'media_player.group_home_group\', \'media_title\') }}  -  {{ state_attr(\'media_player.group_home_group\', \'media_album_name\') }} by {{ state_attr(\'media_player.group_home_group\', \'media_artist\') }}\n              {% elif  state_attr(\'media_player.group_home_group\', \'media_title\') %}\n                {{ state_attr(\'media_player.group_home_group\', \'media_title\') }}\n               {% elif  state_attr(\'media_player.group_home_group\', \'app_name\') %}\n                {{ state_attr(\'media_player.group_home_group\', \'app_name\') }}\n              {% endif %}']"
1682778268.0	29-Apr-2023 07:24:28	Electric Dreams 1984 knew home automation!	CATDOG-meow	7	132uf0g	homeassistant	https://www.reddit.com/r/homeassistant/comments/132uf0g/electric_dreams_1984_knew_home_automation/	"Noticed this old 80’s movie that predicted smart home automation. Talking computer, plug adaptors connected to the computer, automated door locks. Pretty hilarious!!

https://youtu.be/Ek08KvgqFGM

A few screen shots of the home automation. He plugs in a blender to be controlled by the computer , lol

https://imgur.com/a/K5jxMp2"	4	"[""Wild-Bus-8979: Things like that were already being done in 1984, so it's not really out there. Believe it or not, the [X-10 protocol](https://en.wikipedia.org/wiki/X10_%28industry_standard%29) has been around since 1975, and commercially available at RadioShack since 1978. The first computer interface available in 1980.\n\nI still have some in storage, can't bring myself to part ways with my stash ;)"", 'ztox: Let’s not rush to build the home assistant sexual harassment skill.', 'SquidwardWoodward: God, I remember all those damn ads in the early internet for X-10 cameras. Wow.', 'SquidwardWoodward: Google just pinched my bottom!']"
1682777669.0	29-Apr-2023 07:14:29	What sensor would you recommend to measure energy consumption of individual devices?	jester_juniour	2	132tzdg	homeassistant	https://www.reddit.com/r/homeassistant/comments/132tzdg/what_sensor_would_you_recommend_to_measure_energy/	"The title says it all - I would like to have understanding of power consumption for individual devices: AC, fridge, ev charger, etc. If that helps, i have a lot of zigbee/sonoff stuff.

100V mains (Japan) if that matters.

Thank you for all ideas"	3	['400HPMustang: I don’t know anything about electricity in Japan so take my advice for what it’s worth. Zigbee smart plugs that support energy monitoring are going to be the most straight forward for most devices as long as they don’t exceed the rating for the smart plug. In the US that’s typically 15A. For the EV charger, if it’s a smart charger then I would see if there’s an HA integration for it. That would be the easiest way to get the data you want on the charger. If it’s a dumb charger and you need to make it smart I don’t know the cost involved in just replacing it with something smarter vs finding a smart device to wire the existing to. For example Sinope makes a 50A load controller that I would use in my house in the US for monitoring the power consumption of my dumb charger if it actually mattered to me.', 'jester_juniour: Thank you so much for the response!']
1682775602.0	29-Apr-2023 06:40:02	Helper/ Template for Sensor	cailoutwitch	1	132t72o	homeassistant	https://www.reddit.com/r/homeassistant/comments/132t72o/helper_template_for_sensor/	"Hello, I have a sensor (via esphome) and I want a new entity (via helper or template) to give me a status change (high signal) as soon as it detects no signal for 20 seconds.

Any ideas how to implement this?

I know it's probably a simple thing, but I'm not very familiar with it, so please uncomplicated suggestions :)

Thanks for any help :D

(for info:

It's a pressure sensor (bed sensor), it works, but it's not 100% reliable. (Sometimes it gives a short, false signal, for example when you move in bed). so I thought of the above ""idea"". Unfortunately I didn't find the right solution here.)"	2	['tarzan_nojane: My idea would be to create an entity using a helper as you suggested.  Then create an automation based on the state of the original sensor, including the desired time/wait conditions, that toggles the helper entity on/off.', '_avee_: Just a regular template binary sensor with delay_on: 20\n\n{{ is_state(‘binary_sensor.your_sensor’, ‘off’ }}\n\nBut you can probably achieve the same outcome yourself in ESPHome itself using a filter.']
1682773248.0	29-Apr-2023 06:00:48	why is there no clock widget by default?	Voxelman	11	132sbot	homeassistant	https://www.reddit.com/r/homeassistant/comments/132sbot/why_is_there_no_clock_widget_by_default/		15	"['nucleargeorge: This was also the 1st thing I wanted on my dashboard.', 'swpete: Does anyone really know what time it is?', ""Vegetable_Novel2490: I believe the reason is that the clock in HA doesn't necessarily 100% match the clock of the device you use to access HA . So you'd constantly have desync issues. You sometimes see this problem pop up when you implement a countdown. What could be done is have the user select which clock should take precedence in a Missmatch case.\n\n But yeah would be useful to have such a card per Default."", ""0gtcalor: Ikr, it's so upsetting, it could use the system's time."", 'markfrancisonly: I heard a different story, I heard that the real reason is when spending time developing your home automation time is irrelevant\n\nyou guys, no sense of humor. code yourself is the real reason, get out your javascript manual:\n\n```\ntype: custom:html-template-card\nignore_line_breaks: true\ncontent: >\n  <style scoped>.clock{text-align:center }@media\n  (max-width:1079px){.clock-time-period{display:none}}@media\n  (min-width:1080px){.clock-time-period{display:inline;font-size:3.4em;line-height:1em;font-weight:var(--paper-font-headline_-_font-weight)!important}}.clock-time{font-size:4em;line-height:1em;font-weight:var(--paper-font-headline_-_font-weight)!important}.clock-date{font-size:1.8em;line-height:1em;font-weight:var(--paper-font-headline_-_font-weight)!important}</style><div\n  class=""clock""><span class=""clock-time"">{{now().strftime(\'%-I:%M\')\n  }}</span><span class=""clock-time-period"">{{now().strftime(\' %p\')\n  }}</span><br><span class=""clock-date"">{{ now().strftime(\'%a, %b %-d\')\n  }}</span></div>\ncard_mod:\n  style: |\n    ha-card {\n      background: transparent !important;\n    }\n```', 'landi_uk: Simple clock card from HACS does the job. You’ll find it under front end in HACS.\n\nAnd it uses system time from HA', 'LetsSeeSomeKitties: You can add the time sensor from the [Time & Date integration](https://www.home-assistant.io/integrations/time_date/), and then add it to your dashboard with the entity card.  \nIt’s not the prettiest clock, but you can do it without adding anything extra/special to Home Assistant.', 'Doranagon: Look at it on your phone..  you can see you phones time.. PC webbrowser.. PC has time in the corner.\n\nI run miner in a vm so it has a ""rtc""to access and use. \n\nTime is heavily used in my automations. Works well.', ""Wild-Bus-8979: [Of course! It's that thing you store in the bracelet on your wrist! Just don't let it fall out!](https://www.youtube.com/watch?v=NvpbW7JRu0Q)"", ""ufgrat: Does anyone really care?\n\nIf so, I can't imagine why."", 'AnxiouslyPessimistic: Surely HA could just be set to poll a public NTP server and thus be in sync with everything', ""waka324: It's just Javascript, so the widget would have access to the browser lo al time.\n\nThere's literally no reason to not have this."", ""ufgrat: It's because the Pi by default doesn't have an RTC.  So drift can be.... painful.  NTP synch is basically the only option at that point.\n\nLinux systems on a PC, however, shouldn't have this problem."", ""EntertainmentUsual87: >Lots of people love custom clocks. It's weird that there isn't a lot of options for large clocks."", ""Vegetable_Novel2490: You'd think. But I've had this issue myself with countdowns.""]"
1682769358.0	29-Apr-2023 04:55:58	I wish I did this earlier.	PyrrhicArmistice	42	132qz9t	homeassistant	https://www.reddit.com/r/homeassistant/comments/132qz9t/i_wish_i_did_this_earlier/	"I am transitioning my servers to a new hypervisor setup and needed to setup homeseer again. Spin up a new VM and try to import from backup. It failed to work correctly after the backup, again, just like every other time the backup system is horrible.

I bit the bullet and swapped to home assistant. Everything just works; even started adding some new random automation from around the house that I wasn't even trying to do in homeseer because it is so slick. So easy to setup, love that I can dive into the yamls if needed. Android is great, starting to think I can actually set something up easy enough for my inlaws to use. Which was never going to happen with homeseer. No clue how they aren't charging money for this."	3	"[""Hands-On-Katie: Totally agree! Home Assistant is a marvel of the open source world!\n\nWell worth signing up for Nabu Casa if you like it - I do, even though I don't use the cloud stuff, just so I can contribute to the project!"", ""alex3305: A couple of years ago, when YAML was mandatory, I switched from Domoticz to Home Assistant after putting it off for a while. Mainly because I don't like to deep dive into another ecosystem to only find out after x-amount of weeks that it just isn't there. At that time Home Assistant developers were mainly focused on getting as much integrations as possible. But when I finally migrated my home automation to home assistant I was amazed. Everything just _worked_, and it was easy to do. Still the yaml hurdle was there though.\n\nHowever a while back (I guess about 2 years ago?) the HA devs made the very bold choice to start moving things to UI and honestly I couldn't be happier. I still think that sometimes they focus a little too much on quantity and not quality. For instance with blueprints that still leave quite a bit too be desired. Or faulty values/statistics that can be changed, but has a really hard to use interface. Or translations that aren't quite there, but are still released. But that's slowly changing and that's a good thing.\n\nI see a lot of users 'complain' on this sub about the dumbing down of the interface or system as a whole, and while I'm an advanced user, I see benefits in that. For instance when I switched from Supervised to OS in a VM I could actually focus on more on getting things done, instead of doing SysOps. And the same with the new UI elements. My wife loves them and finds them less in your face. And as an advanced user I can still create a custom UI when I want to.\n\nAnyway, nowadays I can fully recommend Home Assistant. Even for non-technical users. Just don't try to do everything all at once and you'll be fine. And it can even be done very cheap with a simple Zigbee coordinator or ESP devices. Oh yeah, also things that HA has picked up really well. Honestly I love this project, and can recommend it to anyone."", 'Normanras: Same! I’m honestly thinking of removing the connection to NC and just self hosting with reverse proxy etc. But still keeping my subscription to help the folks develop it more!']"
1682765627.0	29-Apr-2023 03:53:47	Node red > at sunrise if sunrise is after 7am else at 7am	lowriskcork	3	132puti	homeassistant	https://www.reddit.com/r/homeassistant/comments/132puti/node_red_at_sunrise_if_sunrise_is_after_7am_else/	"I had a flow that open my electric shutters at sunrise time but if the sunrise time is before 7am then wait until 7PM to open them. unfortunately that's stop working after a years and so I'm trying to create a new flow

&#x200B;

this what my flow used to look like (I disabled the sunrise since it doens't work anymore)

https://preview.redd.it/oqocaugnzswa1.png?width=1316&format=png&auto=webp&v=enabled&s=33ea4c9bdd99d468a7e533b4c02a71cd700ebd99

&#x200B;

There is my new try but something wrong somewhere 

https://preview.redd.it/6aoufq8zzswa1.png?width=1286&format=png&auto=webp&v=enabled&s=2beeb0b18d5d1455be3d5b84b230ad81024a9f07

    var sunriseTime = new Date(msg.payload.attributes.next_rising);
    var currentTime = new Date(msg.payload.server_time);
    var afterSeven = currentTime.getHours() >= 7;
    
    var entity_id = """";
    
    if (sunriseTime.getHours() < 7 && afterSeven) {
        entity_id = ""cover.garden, cover.blind_road, cover.blind_garden, cover.blind_kitchen"";
    }
    else if (sunriseTime.getHours() >= 7) {
        entity_id = ""cover.garden, cover.blind_road, cover.blind_garden, cover.blind_kitchen"";
    }
    else {
        return null;
    }
    
    msg.payload = {
        service: 'cover.open_cover',
        data: {
            entity_id: entity_id
        }
    };
    return msg;
    

I don't have a error as such but nothing happen"	3	"['iotiot: I love node red for complex automations, but this could be handled more easily in the built in automations, either way the logic should be similar. I would put two triggers in, sunrise and 7am, and one condition of ""is after 6:59am"" and another condition of ""is sun risen"". If sunrise is before 7am the flow will trigger but be blocked by the 7am condition and stop. Then it will be triggered at 7am and both conditions will be true. If sunrise is after 7am, the 7am trigger will be stopped by the sun state condition but both will be true when the sunrise trigger fires.', 'FastAndForgetful: Use the sunrise trigger from the second flow in the first one. The sunrise node in the first flow only does something when it’s triggered. The sunrise node in the second flow is an actual trigger. \n\nIt looks like you could combine the flows in the first one up to about the 3rd node. What does your switch do? I have a couple of helpers that turn automations “on and off” but they’re just Boolean switches and I use a state node to verify they’re on before proceeding. Maybe I’m working harder than I need to. I would put it right after the trigger so I only have to use it once', '_avee_: Or even better - use template as a trigger that would check for both sun position and current time. No extra conditions needed.']"
1682764617.0	29-Apr-2023 03:36:57	How do you wire smart devices to make it safe and look good?	Human_Spirit_8812	164	132pkhz	homeassistant	https://i.redd.it/k1tdajs5fuwa1.jpg	"Starting out I thought “ah this is just temporary anyway” but I got addicted and have now ended up with a couple of switches with wiring that looks something like this. 

Plugging wires straight into a device like this feels and looks untidy to me, but I’m also concerned about the potential of safety risks here. 

Are there ways to do this differently?

(I also realise that the colours of wires I used is not ideal and definitely a first point of optimisation)"	178	"['Gamer_Skull: A crimping tool and some ferrules is the way', ""YogurtConstant: please don't EVER use green/yellow as a line. Any other colour is fine - use coloured heat-shrink to indicate it's a line at either end (either red if you use red=line, black=neutral, or brown if you use brown=line blue=neutral), but that's a really really bad idea and you're asking for trouble."", 'PopGeneral9263: https://preview.redd.it/i1epmsu9quwa1.jpeg?width=916&format=pjpg&auto=webp&v=enabled&s=20a1447057dab0129c4f1de4b062d7ba642f7153\n\nget yourself pin terminals like these, unlike ferule they will fit in the small holes and you are still able to terminate bigger conductors', ""lewk-maybe: I don't like this at all. The more I look the worse it gets. \nToo much copper showing, trim them down. Conductors are looking like they're different sizes? Earth coloured cable used as a live conductor, please flag up at the very least.\nPost an update picture:) :) :)"", 'SK360: https://preview.redd.it/zx0yf57bjvwa1.jpeg?width=2048&format=pjpg&auto=webp&v=enabled&s=84d4817e099f61995e35334e2f0fa7be4a3ca964\n\nFerrules are your friend', 'eeltreb: Try these.\n\nhttps://preview.redd.it/b10rnw8c8vwa1.jpeg?width=640&format=pjpg&auto=webp&v=enabled&s=b6aa196f73eb4aa77092a4da7eb4f75d2258d075\n\nThey are available in different sizes.', 'mekaneck84: You should have stated the voltage first, sounds like it is 12V? I’d recommend you edit your post and add it before you attract more angry replies. \n\nBut as other replies have stated, proper wire colors and crimp ferrules are the answer.', ""DoktorMerlin: Buy a wirestripper with which you can set the length of the stripped part, strip only what you need. Usually it says on the device how much you should strip. Twist the exposed copper and you're good.\n\nAnd use the appropriate wire colours.\n\nThat's all you need to do to make it safe and you ignored both of it"", ""AtomOutler: Too much exposed wire.  You should press the wire in until the sheath touches the plastic.  Shorten the length of the wire and press it in while tightening. \n\nUse heat shrink.   After fastening, heat some heat shrink and press it in so you don't see the wire. \n\n Alternatively you can use those crimps others have suggested but be sure to get the right ones. Personally I don't use them. Also, Aluminum tends to losen from copper over time and make a bad connection.   To be safe when I use crimps I try to reenforce the electrical connection with solder after crimping. Not sure if that's going to be helpful for these types. \n\nNever use bare flying leads.  That one that goes from line to the other one has potential to short against any sort of chassis or ground.  Also, in the event of heating, since it's a solid core, it's very likely to melt though some other sheath and short in an unexpected way.\n\nDo take care with color codes. AC and DC are different and the colors matter.  Red, black, white, brown, yellow, and green have very well-known meanings in USA.  There are different colors elsewhere.   Every other wire is cool to use for signal.  In DC, red and black mean power and ground.\n\nDo take care with wire gauges.  It looks like your switch and 0 lines are using the largest gauge wires.  This is a bit counter intuitive as the most power required would be on power and ground since the power is split to the device input."", ""Skotticus: Just want to say to OP that I'm sorry for the mean-spirited nature of some of the replies in this thread. You came here looking to learn, and in my experience the fastest way to shut down interest in learning is to respond to that interest with punishment.\n\nThere's lots of good advice here, even in the shitty comments, but please don't be discouraged by the assholes."", 'snakesign: This abomination is going into an accessible and grounded jbox, right?   And the wires will be strain relieved to said box?\n\n...right?', 'MrDork: This picture hurt me in ways I never thought imaginable.    \n\n\nYou could make this about 80% better just by stripping the wires to the proper length.', 'Nbr1sniper: Not an electrician but depending on how it looks (safety wise) I’d probably just put small bits of electrical tape between each terminal to keep them apart then wrap the wires over the top for nothing outside the device to touch.', 'ThreeHeadedWolf: Using the correct colors for the wires would be the first start. Then when they are up to standards you can add ferrules.', 'Thimbleberry_Swamper: Insulated crimped terminal pins would look much cleaner', 'Im1Random: Why is PE connected to L', 'okletsgooonow: Get something like this:\n\n [Crimping Pliers Wire End Ferrules Set, Lytool 0.08-16 mm² Wire End Ferrules Crimper Pliers Hexagonal Crimping Pliers with 1000 Pieces Wire End Ferrules Set for DIY and Home Use : Amazon.de: DIY & Tools](https://www.amazon.de/Crimping-Ferrules-0-08-16-Crimper-Hexagonal/dp/B09YPZ352S/ref=sr_1_1_sspa?keywords=aderendh%C3%BClsen+set&qid=1682775083&sprefix=aderen%2Caps%2C175&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&psc=1&smid=A3N4FW1LCI2DFC)', 'djgizmo: Wire Ferrells', ""dalekirkwood1: WARNING: I did this in my house and didn't use ferrels. One day, after a year of use, we smelt burning plastic and found a completely melted smart switch.\n\nIt was Sonoff but the Shelly ones seen even worse."", 'Money_killer: Bootlaces', ""MrDa59: I'm going to go against the grain here. The best way to terminate shallow screw clamp terminals is how you've done it, except do it better. Use sharp strippers to get a clean strip, cut the wires to the exact length you need and put them straight in, no twisting, crank them up tight. If you were using flex wire I would suggest a ferrule, but putting ferrules on stranded wire is not good practice."", 'morgy306: If the photo was for attention it certainly worked, yikes!', 'bob_in_the_west: That will lead to this: https://www.reddit.com/r/batteries/comments/132cp7h/how_can_my_charger_catch_on_fire_company_that_we', 'R4N63R: This set screw style is normal and works fine. Seems like*you* need to shorten *your* exposed conductors and reseat the wire. More of a you problem here.', ""macrowe777: This isn't just untidy wiring, using earth cables as live loads should be criminal, you're endangering people's lives.\n\nOther answers about tidying up connections are great, but you should also have a basic understanding of electrical wiring too."", ""bpandrew: Hire a electrician to do this right/inspect it - don't just follow the top posted thing here."", 'bluecat2001: Two wires, sw and 0 are a bit too thick it might become loose while trying to jam into a junction box and wires are stripped too much.', ""Low-Rent-9351: For 12V, what you have is fine from a function and safety point of view. It will be fine as long as you get all the strands of the conductors into the terminals. Those wires would need to touch to short on 12V and 12V isn't considered a shock hazard. Just make sure the stripped wires reach the bottom of the terminal holes, tighten it down and give it a pull test to make sure it'll stay. \n\nThe only problem is the use of green/yellow as a current carrying conductor. Green or green/yellow is for grounding only, always."", ""unexpectedmotivation: After reading so many comments by sparkies freaking out, I'm inclined to recommend using CAT5(or CAT6) Cabling(where green and green/white is just another data pair 🙄 , unless... ). Apparently Power over Ethernet would blow their minds(yes, I know that's a standard and nothing in common with your setup here).\n\nHell, if anything really bothers *me* about your existing setup, its the use of stranded over solid wiring(something no one else has harped on, so apparently I'm as much a creature of habits and set on standards I'm used to as anyone). First thing I'm doing when troubleshooting someone else's system is whipping out a multi-meter anyways, no matter what they tell me the voltage should be.\n\n^>!(The ^only ^stranded ^wires ^that ^go ^in ^walls ^in ^my ^world ^are ^either ^speaker ^wires ^or ^thick ^as ^my ^pinky ^and ^run ^through ^metal ^conduit)!<"", 'Myownway20: You are gonna burn your house down, or get killed by shock, never leave live copper in a way that can be touched, also never EVER use ground cable(yellow green) as live or neutral, and to top it all off, these specific devices are NOT meant to be hanging around, those are made to be enclosed behind the switch, inside a register or behind a wall.', 'AnduriII: Wire colors according to local rules! Green/yellow Only for ground!!! \n\nThis could you and others get in the Hospital or death', ""Liberalatheism: Yes, do it properly.\n\nThis is lazy, potentially dangerous and your attitude to other concerned replies indicates you're not taking this seriously.\n\nThere's a reason building codes, building regs and certifications are required"", 'DocCox988: What you have done is dangerous. Really dangerous- from the shiners to the ground as line - you should remove everything you have done and hire a professional. This is not something you have a knack for at all - and you need the honest truth before you kill somebody or burn a house down', 'nkydeerguy: I absolutely hate these Shelly devices. I suggest reading an electrical code book.', ""Mishung: definitely not like this... bro, green/yellow live wire? That's the most unsafe wiring mistake I've seen in a while."", 'kyriii: Is this in the US? In Germany you are not even allowed to do it on your own. I’m starting to understand why. Yikes. This is so terrible.', 'woofbears: Is that a wago gel box in there? Where did you get one? Haven’t been able to find a store.', 'graduategrasshopper: You definitely need to get rid of that bare conductor bridging the L and I terminals! As others have said, ferrules are great for tidying this stuff. And then maybe a nice junction box to enclose it? But keep in mind a metal box will wipe out your Wi-Fi reception.', ""MakaylaWolf: At some point yes, but I don't know when I will get to it, since it's not written down on my to do list."", ""jagjordi: Don't bother about ferrules, just cut the insulation shorter so that three is no copper exposed"", 'letsgotime: Try using ferrules', 'fursty_ferret: Not like this.', 'NMBRPL8: Step 1: Ferrules crimped on the ends of the wires before inserting them into the device\n\nStep 2: shove the whole thing in a junction box\n\nStep zero (apparently optional) use correct wire colours', 'scottyaufobst: The ones with insulated ends, looking like a small funnel. Good crimping pliers is a must have in every house 😉', 'Human_Spirit_8812: Thanks! I (obviously) didn’t know about those. Are they typically 2.5mm?', 'RaEyE01: https://preview.redd.it/8oprmep57wwa1.png?width=2158&format=png&auto=webp&v=enabled&s=2300af550a6a86287a32235430179f23214bca11\n\nSomething like this. Cheap Amazon stuff, but if you don’t expect professional quality for daily use, it’s acceptable and does a good job.\n\nMaybe 15-20€', 'NebuKadneZaar: Can you explain what a crimping tool is needed for? As I understand it, it puts a metal end to a metal wire? Dont really get it...', 'Svobpata: Thank you for the recommendation, just ordered a crimping tool and a set of ferrules, hopefully it makes my projects a bit more professional and safe', 'FishScrounger: A 3D printer for some custom enclosures is good in some situations, not really this one though.', 'Octoyou: This is the way!', 'rmsmoov: This is the way.', ""VeganSlayer9000: Black for neutral too. I'm literally getting cancer just looking at this."", 'Vertigo_uk123: Blue brown for live neutral and purple for data if needed. Green yellow is only for earth. Red black power. White or grey for earth if low volt dc. It does depend on your country though. Just google image search for wire colours dc and the first few pictures show colours around the world.', ""Milk_A_Pikachu: Eh.  It is insanity but it is honestly good to always assume insanity.\n\n&#x200B;\n\nAlways take the time to actually understand and mark what wires are used for what purposes. Because there will always be people who ignore conventions (either because they don't know any better or intentionally).\n\n&#x200B;\n\nBecause if 99.999% of the world follows conventions (which vary from country to country in the first place...), that is still an 0.001% that you will either burn out the device or, even worse, have a partial failure that takes ages to debug (or is a fire hazard)."", 'GoofAckYoorsElf: THIS! I can hear the founding fathers of the DIN VDE 0100 scream bloody murder in their graves...', 'Human_Spirit_8812: Sorry I forgot to mention too that this is 12V, not 220V', 'None: [deleted]', ""ocurero: How do you use them? Do you have more photos? Mine is like the OP's photo and is asking for troubles"", 'VinCubed: I love those and will have to get a bunch of them for my next project', ""ashcan_not_trashcan: I have used rings and forks in the past. Didn't realize I *need* this and a new tool tool! Thanks friend!"", 'beerygaz: This!  Like OP I’m in South Africa too and struggle to get the larger gauge stranded wires to fit Shelly screw terminals. Using ferrules would be ideal but they are to large to fit the small Shelly terminals. \n\nUsing green/yellow for anything but earth is a bad idea though. Even in a 12V use case.  And if you’re only using 12V then use a smaller gauge wire with crimped ferrules.', 'LullzLullz: The problem is that the insulation is pulled out when you put it in place because there’s no room for the insulation inside the holes. Mine looks the same and it’s stupid because wagos etc have much better design.', ""stoatwblr: Yup. But bear on mind these only exist to protect against fraying. They're not a high pressure crimp and the real contact pressure is achieved by the device theyre screwed into"", 'Human_Spirit_8812: Seems it’s not possible to edit a post with an image. Bummer. \n\nThanks for the help!', 'stoatwblr: Solder creeps under pressure and must _never_ be under a screw terminal. I\'ve seen some very expensive fires as a result of this \n\nBootlace ferrules are not pressure crimps. They exist to protect strands from fraying and tbe ""crimp"" pressure is merely enough to stop them sliding off. The screw terminal is the pressure device \n\nNever ever EVER crimp, then solder. It will bite you on the ass in a few years\n\nNever \'double crimp\' - you just destroyed the mechanical integrity of the crimp and decreased crimp pressure by 70-90% (a well done crimp has contact pressures of several hundred tons per square inch and tbe conductors will \'cold weld\' over time to the crimp body - such crimps can easily last 80-90 years or more..double crimping almost always creates stress microcracking which will spread and fail)\n\nNever use solder as a substitute for mechanical anchoring. It _will_ crack over time and the joint fail if flexed\n\nThere are a bunch more things to bear in mind but bear in mind that 90% of \'how to\' videos for crimping and soldering on YouTube are made by people who\'ve never read the manuals and never had any formal training on doing them. There\'s a lot of cringworthy stuff out there', ""kitanokikori: The guy is asking because he knows he needs help, we don't need to be so mean about it"", 'Human_Spirit_8812: Yes I don’t believe there’s an issue there, only my wiring. This is also a 12V setup', 'KairuByte: That bare flying lead though.', 'Human_Spirit_8812: It’s actually not L it’s negative on a 12V setup', 'Human_Spirit_8812: Thank you for this recommendation!', 'justinmyersm: Huh. TIL about ferrules. Thank you because I HATE stranded wire!', 'Human_Spirit_8812: It definitely wasn’t for attention, but you’re right it certainly got it', 'xsnyder: THANK YOU!!! My first thought was ""Stranded wire?!""\n\nSpeaker wire is the only stranded wire I will run through the wall as well, everything else is solid core.', 'Human_Spirit_8812: Didn’t mention in my original post, this is 12V', 'Human_Spirit_8812: My attitude was to come here and ask for advice to do it properly, which I wouldn’t have done if I weren’t taking it seriously. \n\nApologies if my reply came across as dismissive, was not intentional.', 'dummptyhummpty: That doesn’t look like US wiring.', 'DJBenson: Pretty sure that’s UK standard wiring (well the old standard black/red/green-yellow).', 'Westerdutch: Just buy an assortment box with different sizes and colors to start out with, when you are getting low on any one size or color just order some more of that to keep your assortment box fully stocked.\n\nAlso buy some good crimping pliers, knipex makes decent ones. Buy once cry once.\n\nIts been said before but this cannot be said too often; use the correct color wires ffs.', 'GhettoDuk: Replying here so you see it: these are only for stranded wires. Solid wire just needs to be trimmed enough to not show copper when clamped down.', ""rmsmoov: Get an [amazon kit](https://www.amazon.com/dp/B06XCZC89W?ref_=cm_sw_r_apann_dp_S5A1YSH2H2FET9F03D98)\n\nAfter that you can top up as you need.\n\nP.s. this is mostly for stranded wire. \nAnd, you can cut the length after you crimp if needed. But just try to get a much conductor in the terminal as possible.\n\nMost of the point of these is to keep from mashing the stranded conductors in such a way that you don't get good connection. Usually happens where the terminal might be a little larger than the wire.\n\nAfter that....yes it prevent having that one tiny strand hanging out that could short.\n\nAlso, [these twin ferrules come in handy alot.](https://www.amazon.com/dp/B07D76GD3S?ref_=cm_sw_r_apann_dp_2DGMV2D2T7MSGVF6VJM2)\n\nFor when you need 2 wires in the same terminal. Like a neutral jumper or common wire"", 'lewk-maybe: You can get loads of sizes. And dual ferrules too so you can easily get two cables into these tiny terminals!', ""torj8000: They come in all cable width sizes. As an electrician I always have a box of 0.5 all the way up to 6mm in my cabinet at work. If you use them a lot you can get a specific tool just to press them. Though other tools can be used aslong as you don't dmg the tube part with any sharp objects."", ""the_iron_cobra: Hey man, I don't mean any offence here as I'm also in Aus and I fully understand the frustration of legally having to use a sparky for anything over  50v. But this install you're showing is all over the shop man. Your colour coding is non existent and you REALLY shouldn't be using an earth how you are. \n\nThe reason I say this is it will (one day) be forgotten about and someone may potentially use the other end of that earth for its intended purpose and you'll get a tonne of problems and liability.\n\nSource: I am a sparky and fix diy stuff like this for a frustrated living...."", ""anomalous_cowherd: Stranded wires like these don't play very well with small screw terminals or inexpert installers. Crimping a ferrule on gives you a tight connection with a single metal point for the screw to clamp onto.\n\nWithout that the strands can separate over time and become loose, or only a few strands connect, or a loose strand (or a partial strand from bad stripping) will reach across to another connection and short it out. Ferrules make all of that go away or at least minimise the risk.\n\nSolid cables don't need them, just strip them the minimum length to make the connection. Ferrules basically turn stranded wire into solid wire."", 'Gamer_Skull: No problems at all and good luck!', ""ZealousidealCarpet8: This is not [original](https://old.reddit.com/r/homeassistant/comments/132pkhz/how_do_you_wire_smart_devices_to_make_it_safe_and/ji6roan/) or useful to the conversation!\n\nNext time just upvote and don't comment if you have nothing useful to say"", ""crankyrecursion: Red live, black neutral was the standard in the UK until about 2006. This means we have a ton of housing stock where this is the norm. OP appears to be in South Africa where there's a similar standard...\n\nThe green is wrong just about everywhere but there's so many people in this thread giving shit for the colours when they're not in OPs country."", ""jlboygenius: Black for neutral? I used to this this until I got zapped. In the US black is hot.\n\nIt's important to follow the local codes, not just what someone on the internet says."", 'Grand-Chocolate5031: But green means good, right? 🤣', 'MrDa59: Standard in many parts of the world.', 'JorisGeorge: Doesn’t matter. Green/yellow is a holy color and reserved for ground/earth as safety. Never use this color for a cable that can carry voltage. That you mess up brown, blue, and black is also not good. But never use green/yellow anything else then ground. \n\nIf you start tolerating it by saying it is only for 12V, you are already on the slippery hill that ends that you will use it for 230V. For instance. “It is only  half a meter between plug and bulb”.', ""creamedpossum: Are you using a bare copper wire to connect the L and I terminals?   Regardless of it being 12V, there's still tons of bad practice here."", 'more-cow-bell: Your asking how to make things “safe”. Go change this now. Don’t just say your not proud of it. \n\nThis is big a safety issue for you, or anyone that works on this after you.', 'Paulsalzi: Yeah, this got me to the hospital in the past.. 😬', 'Human_Spirit_8812: My reply here seems to have come across dismissive and less serious than I meant for it to be. Apologies for that', 'PopGeneral9263: you put a conductor in from the back in to the insulated part, then use crimping tool to squash it and permanently attach. Just make sure to not have too much insulation removed from your conductor so that it will stick out the front when inserted.\n\nIn the pic you have similar style crimp on terminal\n\nhttps://preview.redd.it/dccc1vjewuwa1.jpeg?width=1170&format=pjpg&auto=webp&v=enabled&s=5ac25b32a970f944dd3bd0b85ba6c52b887cfd02', ""just-mike: Me too. I've literally bent up a spade terminal a few times to achieve this."", 'AtomOutler: There is no problem with crimping and then soldering if done properly.', 'Grim-D: You probably should have mentioned it was 12v on the main post. If its only 12v its really much less of an issue then 240V (or what ever mains your area runs), which is what I belive most people have assumed.', ""snakesign: So L and N aren't line voltage?   If it's all SELV then  who gives a fuck, just send it."", 'dalekirkwood1: :-), I actually really prefer working with it over solid core but the ferrules were new to me as well. I always thought they were kind of useless but I learnt an important lesson.', ""SaveMyBags: Don't use that as an excuse. It's q\n12v here. But what if someone who doesn't know what you did works at the other end and finds the green-yellow wire? What if that person then connects it to a 230V earth line? How would this device like 230V coming at it in case of a failure? Would that trigger the FI correctly?\n\n\nDon't use excuses like that. You wont know how this is integrate in the future and it might become deadly for reasons you did not imagine, yet!"", 'AnduriII: Anyway this color is reserved for ground. If this is ground it is fine. It is just not usual to use this. Normally the neutral is used for the Way back', ""006rbc: I can't believe he's uses a ground wire for the line terminal 🤦\u200d♂️"", 'eibv: >Its been said before but this cannot be said too often; use the correct color wires ffs.\n\n*cries in second hand jeeps and motorcycles where every non-stock wire is black and wrapped in dried out, crusty duct tape*', 'pbanj_: I\'ve had to get a little ""crafty"" with my wiring as we have aluminum wiring. Have to use special crap to ""make"" the ends copper. The colors are a bit all over the place, but I labeled every wire clearly so if I or anyone else has to mess with them in the future, we know what\'s what.', 'jlboygenius: Putting it in My cart. I need these too often. The duals! Whoa.', ""Gareth79: If you don't crimp ferrules using a proper tool turn that's surely going to be worse than simply putting the stranded wire in the connection. There's a big risk that there'll be a contact area that's too small  or the wire might loosen inside the ferrule."", 'Human_Spirit_8812: Hey thanks for the reply! Unfortunately I didn’t mention in my original post (and can’t edit it now) that this is a 12V setup. That earth wire is actually coming from a -12V output. \n\nYes I still shouldn’t have used that colour wire, but I also mentioned in my post that I know the wire colours are wrong, this installation was just a test. I’m not trying to justify it, just mentioning that I’m aware of that issue. \n\nMy main concern is regarding the connections of the wires going into the switch and I’ve received some great feedback about using ferrules or at least making sure there is no exposed copper. \n\nThanks!', 'the_iron_cobra: Also, Shelly terminals are MAX 1.5mm. 2.5 Is way too big for the terminal and you risk stripping a screw and getting a hot joint 🔥🔥', 'ianjs: So any issues with using these ferrules in Oz as far as complying with code? \n\nI’m also in Australia and the rules are pretty tight (for the better IMHO) and I assume the ferrules are a Good Thing but it wouldn’t surprise if there was some obscure reason why they aren’t kosher.', 'NebuKadneZaar: Thanks a lot! I just realised the wire in the pic is made of many small wires. Where I life, electrical wires are always made of one single copper wire. Thats what made me wonder....', 'SCCRXER: Is a ferrule a lot better than just soldering the stranded wire before inserting? I’ve only use solid wire with these, but now I’m curious.', ""Pulsahr: In France, here are the standards: blue = neutral, yellow+green = ground, everything else = live (usually red or brown). My house is 40+ years old, and this was already the standard. I don't know before that or anywhere else though.\n\nI must admit I'm surprised there is not an international standard, but heh, I'm wiring stuff for just a year now, I never did house work before, always lived in rented places."", 'theregisterednerd: Green is pretty universal. The rest I’m willing to chock up to different jurisdictions.', ""LuckyBenski: Green and yellow should mean safe, yeah, so don't use it as a current-carrying live or a neutral!"", ""stacecom: I never trust a cable to be ground without tracing it unless it's completely bare."", 'KairuByte: It really doesn’t matter. While the chance of personal harm is much lessened, you still run the risk of fire and/or damage.', 'Human_Spirit_8812: That’s right. It’s - and +', ""Flacid_Monkey: 100% the reason to trust nobody's work before you go near it."", 'generic_kezza: And is that a bare wire linking L to I, thats really not ok if this is mains voltage', 'jasonmp85: Is this color universal? Unclear if the poster is US (it’s not a UL Shelly, for instance). But yeah, imagine posting this if so.', 'DarkwolfAU: Glad someone said it.  That really tilted me.', 'Westerdutch: 12v wont kill you half as fast though.... its quite a different ballgame. Just take all your rings off and youll mostly be fine.', ""Westerdutch: Aluminium wire - 'make' ends copper - 'clear' labels. Triple wrong value in my book, sorry bud. I bought a house from someone who was 'creative' like that and the labels that i found (the parts that were still readable) i sure as f would never trust seeing the quality of all the work done so i just ripped everything out and replaced it.\n\nYou should not be 'crafty' when safety is concerned. You should do a ffing good job and nothing less, if you cannot do that yourself then outsource the job. Tear the whole fcking lot out asap."", 'rmsmoov: I work in utility controls, so I burn through these things like gas on a fire.', 'Steve061: And yet this one and the 1PM+ models I have are rated 16amp.  A 2.5mm cable with a ferrule won’t even fit in the terminal.\n\nI was running 9.5 amps through a 1PM+ and watched its temperature climb to 80C. That would make me sleep badly if I left that in.', ""the_iron_cobra: In this scenario there is no rule in AS3000 that says you have to, however because you're using stranded wire, a crimped ferrule is always a good idea as it gets rid of the risk of a stray wire causing a short circuit which would lead to much bigger problems. \n\nIf you're around Wollongong NSW give us a bell and I'll help you out 👍"", ""Valalvax: Where do you live that doesn't have stranded wire?\n\nTo be clear, house wiring is almost always solid, stranded can be found in vehicles, devices, and commercial/industrial"", 'BHSPitMonkey: Your light fixtures almost certainly have stranded wires coming out of them (same for practically any kind of cord that plugs into the wall)', ""anomalous_cowherd: Solder is bad to use in screw terminals, or inside crimps for that matter. It creeps over time and can then make the joint loose. If the solder runs back up the strands it also makes a stress point that's more likely to fracture later if there's any movement in the cable.\n\nBetter to use a crimp or a Wago to switch from stranded to a short length of solid if you really want solid for the connector."", ""anomalous_cowherd: UK has been blue N, brown L and green/yellow for Ground (actually just bare copper in the cable with coloured sleeving at the ends until very recently.\n\nSpeaking of bare copper what's going on behind the wires? Looks like there's a bare wire loop across?"", 'Spartoun: Live is as you pointed out is most often red, brown or black. Also common is purple and orange for the ""two way"" switches.\n\nAnd I don\'t understand why it\'s not an international thing', 'JorisGeorge: Of course. I have the same opinion. Always measure to be sure.', ""Grim-D: It does matter. As you said your self the chance of killing some one is much less. Fire and damage are also much less likely on a 12v circuit, of course still possible but nothing is impossible. \n\nI agree its still terrible and using a ground colourd wire for amy thing but ground is just inexcusable. That had already beem stated though so didn't feel nesseary to comment further.\n\nLetting people know it was a 12v circuit would have been a good idea as far as I'm conserned even if alot of the critic still stands."", ""kyrsjo: Shit like this is why I'm amazed that apparently anyone who wants to try are allowed work on fixed-install electrical in the US."", ""eibv: True, not an issue for me though, I buy jeeps and motorcycles. Don't have any money left over for a wife or jewelry."", 'jasonmp85: The person who doesn’t have the care or discernment to do things properly will absolutely kill you with mods to a vehicle. The duct tape isn’t the problem. The problem is the signal it sends. What else is fucked up?', ""mejelic: Voltage doesn't kill you, amps do... The only thing higher volts do is make it easier to transfer the electricity.\n\nAlso, if you can keep it from going through your heart, you are probably safe."", 'pbanj_: It\'s an apartment, I\'m using  https://www.homedepot.com/p/AlumiConn-2-Port-Al-Cu-Wire-Connector-10-Pack-95015/204958912 and the 3/4 port ones depending on the need. to ""change"" them to copper. I\'ve also gone around and swapped all the outlets and switches I haven\'t made smart to newer ones that are designed for aluminum wire. I\'ve found a few that are marked as copper only and look like they\'re as old as the apartment which is just pure luck they didn\'t cause an issue.  \n\nIf you take a look at my profile you\'d see I repair electronics not just small ones, I know what electricity can do. I\'ve run all the ""crafty"" shit by multiple electricians to make sure it\'s safe. The wiring in the apartment is an absolute shit show, there\'s no real way to label the breakers as one breaker kills shit in damn near every room sometimes only one wire to the switch/outlet, I\'ve removed wiring that\'s had burnt/no insulation. My personal favorite was a wire that they removed some of the insulation from part way down the wire, wrapped another wire around it, and then just half assed electrical taped it. That ended in a full stop until I heard back from the electricians. Which turned out to be up to code because of when the apartment was built. They told me to just wrap it back up. I covered it in so much heat shrink it wasn\'t funny. I then informed the landlord as I was told ""while it\'s technically up to code, they should fix it so insurance doesn\'t bitch"". They didn\'t respond.   \n\nAlso just because you have to improvise something, doesn\'t mean it can\'t be safe.', ""the_iron_cobra: Yeah it's a bit garbage.\n\nNo way I'd run anything near 10A through one of these. Although 1.5mm cable is sufficient for a 16a load, no way I'd trust a Shelly device for that. I'd rather use the Shelly to activate a high powered relay or contactor for something with a big load. The Shelly 1 is a dry contact so you can do this"", ""the_iron_cobra: Also, we often call them 'bootlace crimps' depending on where you are in Aus haha"", 'ianjs: Nah, down in Melbourne, but thanks for the quick reply. \n\nI was less concerned whether you _had_ to vs whether there was some reason _not_ to so this clears it up. Stranded wire always gives me the heebie-jeebies when I stick it in a screw terminal so I might invest in a crimp/ferrules kit.', 'ianjs: Connecting to screw down terminals (such as in an extension lead) is also problematic with stranded wire (again, extension leads). Is there an equivalent best-practice for making sure you have good contact and no stray strands?', 'NebuKadneZaar: Yeah I have no knowledge about electricity and do only know the wiring of my house.', ""hellerbubbles44: Here in Aus, all modern building wire over 1mm2 is stranded. Control wiring gets ferrules, building wire doesn't."", 'created4this: U.K. has brown, grey, black, yellow, red and blue for phase\n\nblue or black are for neutral\n\nDepending on age. \n\nHonestly I’m not sure why you’d switch colour schemes where an old phase colour (blue) became a new neutral and an old neutral colour (black) became a new phase unless you’re trying to force everyone to assume everything is deadly. \n\nTo add to that the powers that be have defined that where you’re using a three phase cable (brown grey black) to take live live neutral (eg to a pir lamp or bathroom fan) you _should not_ use black for neutral.', 'jasonmp85: Uh because most people work in the countries they live in, and those countries have millions of installations using each country’s wiring, so it would be a huge lift to somehow switch to something totally different?', ""Flacid_Monkey: Same in the UK but if it ain't up to code and you're at fault then you got problems."", ""tmckearney: It's illegal in my county in Maryland to work on high voltage (120+) without having an electricians license"", ""eibv: Not so much on a 12V DC system. You can stand barefoot in a puddle of water in the rain and touch both terminals and have it flow through your body. You'll possibly feel it, but your skin has enough of a resistance it's not going to kill you. *Maybe* if you have heart problems or other freak occurrences.\n\nCar batteries absolutely have the amperage to kill a human, but the voltage is too low."", 'Westerdutch: i think you might be replying to the wrong post....', ""Westerdutch: Yes, and amps are pulled not pushed so if you put your fingers over a 12v battery then you will not pull any real current even if the battery is capable of hundreds or thousands of amps. Do the same with a couple hundreds of volts and it becomes quite the different story.\n\nSo while 'voltage doesnt kill but amps do' is technically correct it does not say anything the danger between low and high voltages. In fact, id say shouting that to people who do not understand what you are talking about will have the absolute opposite effect of what you are trying to achieve here. If someone doesnt understand that a higher voltage will result in more current under similar conditions than that person should really stay away from electricity and you should absolutely never tell them these kind of halve truths in an attempt to look clever."", ""the_iron_cobra: No worries mate, if you have quite a few to do I'd highly recommend it 👍"", 'the_iron_cobra: Same practice, bootlace crimp would be best. They have multiple sizes available for tiny to massive cables', 'Valalvax: Really, interesting...\n\nNow that I think about it most other countries probably are stranded because they have the (for here) industrial style breakers and equipment', 'anomalous_cowherd: Yeah, three phase colours are awful now. Not to mention you are allowed to use old and new schemes on the same site so measuring is the only safe way to tell what you have.\n\nIronically I think the reasoning for switching was to make it more European - just as we left. Pile those bad decisions on top of each other!\n\nLuckily three phase is *very* rare in domestic installs here.', ""vontrapp42: Similar in the us I think. You'll have a bad time with any insurance claims if it's not to code."", ""ufgrat: I'm sure people are prosecuted on a regular basis.\n\nI've also seen electricians who had licenses who should have been prosecuted, nay, *persecuted* for their work."", 'nitsky416: Which county is that?', 'jasonmp85: No, I understand the electricity has little risk. I’m saying the risk is the vehicle is probably unsafe in other ways, if it has been modified by the kind of person wrapping wires in duct tape. It’s a sign of the quality of other, possibly unknown/unseen work.', 'created4this: Three phase may be rare, but we use three phase cable for anywhere there is live/switched/neutral. It would have been easy enough to declare when the change happened that brown/grey/blue was the preferred cable type for these installations and that cable would have been produced and used in residential installs wholly doing away with black and 90% of the confusing junction boxes.', 'fursty_ferret: There were some issues with colour-blind people confusing things and dying. However, in the UK we used green for neutral at one point which didn’t help. \n\nFWIW it has worked out because it reinforces the fact that on an install that wasn’t done personally, you don’t trust anything.', 'madtice: I can’t imagine something as simple as electrical wiring being prohibited when you’re a homeowner. Especially when you’re in a country with only 120v. I never knew this. \nSo you guys have to get an electrician to install basically everything?', 'tmckearney: Baltimore county', ""eibv: Ahhh, yeah that's good advice. \n\nI've definitely bought some vehicles and once I got them home and more thoroughly inspected them, probably shouldn't have driven them. I generally bring a trailer for the bikes and I'm trying to find a tow dolly for 4 wheels. \n\nI will say I know a fair amount of shade tree mechanics who can change a starter or properly do their own brakes but don't have a clue how to wire anything that isn't plug an play."", 'SolaVitae: >I can’t imagine something as simple as electrical wiring being prohibited when you’re a homeowner.\n\nEven though fucking it up can lead to your house burning down or safety features failing? \n\nIt makes perfect sense to me when every year I see people dying from running their generators in the house and making cables to plug it in directly to their outlets despite the about 5000 stickers saying not to do that', 'ianjs: > something as simple as electrical wiring\n\nJust because _you_ know how to do it properly doesn’t mean it’s “simple”. There are a million ways to get this wrong and a lot of them can result in disaster. \n\nYou use the word “homeowner” and I think you’re saying “it’s my house so let me do what i like”. If it was only you being zapped, burned or fried then maybe that’s ok, but personally, if I was buying a house I’d like to have some assurance that some idiot on the Dunning-Kruger spectrum hadn’t littered it with death traps.\n\nIsn’t this exactly the point of this thread where it points out the flaws in this electrical work?', ""vontrapp42: I don't know exactly. I've installed Shelly's myself. I don't think an electrician is necessary in all cases, but where in wall wiring has been modified there are codes that should be followed. If a mains power smart device is installed and becomes the cause of a fire, if there were code violations involved I bet the insurance would refuse to pay anything. If there were no code violations but it never got inspected? *Shrug*. I don't know."", 'ufgrat: Officially, yes.  In my county, for instance, you\'re required to pull a permit to replace an ***interior*** door. \n\nReality is it\'s poorly enforced, and when I repainted my front door, it somehow transformed from a rusty steel door into a fiberglass door with a fanlight and a new doorframe.  That was some amazing paint, let me tell you.....\n\nBefore I touch anything electrical, I make sure I know which breaker is involved, test the circuits with an induction probe, examine the wiring beforehand, and make sure I understand every step of the process, and make sure that what\'s in the instructions matches what\'s in the junction box.\n\nI realize I\'m a bit unusual.  And when I have a generator wired into my house RSN, a professional electrician will do the work, because I\'m not stupid.  :)\n\nBTW - While 120v is ""wimpy"", as Tesla proved a long time ago, it\'s not necessarily the voltage that kills.  Because we run 120v, the current is doubled for the same wattage.', ""TheyDeserveIt: There are already consequences for these things and the many other possible ways to die.  Why should we be forced to pay an assload for every tiny job? \n\nWorking on your car can result in killing yourself or others - should we be forced to go to a mechanic for everything?\n\nYou can't protect every human and trying to only serves to punish everyone who is perfectly capable.  I'm not proposing no regulation at all, but there's a balance.  For every fire or electrocution of someone who did it wrong, how many did it right?   For every idiot that tried to rotate their tires and lost a wheel on the freeway, how many did it right? \n\nI hate to even use the phrase nanny state unironically because of the dumb shits who take it to an extreme, but I've seen enough of a difference between the average person I've encountered in overly-regulated states like CA and under-regulated states like my own to see that you can absolutely take these types of regulations way too far.  \n\nIf people are too dumb to read or heed warnings when they don't know anything about a subject, why should the rest of us be punished and dumb everyone down?   What's to stop them from trying, anyway?"", 'ufgrat: >Just because you know how to do it properly doesn’t mean it’s “simple”. There are a million ways to get this wrong and a lot of them can result in disaster.\n\nYes, and no.  Many of those ""wrong ways"" will result in things either not working, or breakers tripping, or copper wire melting, assuming the house is built to reasonably modern standards and the majority of the electrical system was done by someone who knew what they were doing.\n\nAnd I say this as someone who at age 11, thought a line cord from an old lamp would give my electromagnet a bit more oomph (and it may have, for 1/60th of a second, or however long it took the copper to melt and the breaker to trip).\n\nThen again, I recall a Mythbusters episode where they were testing the toaster in the bath myth, wired up the GFI wrong, and turned their hairdryer into a water pump.', 'ufgrat: It\'s a common belief that insurance companies, being evil self-centered bastards, will seek out any reason to deny paying out in the case of a claim-- but the reality is, it\'s actually less expensive in most cases to just pay it.\n\nFurther, as a homeowner who\'s actually read their policy, while there are exclusions, none of them apply to UL, ETL, or just crappy wiring.\n\nThere **is** an exception for the work required to bring a house up to code in the event major repairs need to be made.  So depending on your policy, you might be on the hook for that.\n\nThen there\'s the issue of age.  My house was wired by a professional, who not only knew what he was doing, but took pride in his work.  The breaker panel is a thing of beauty, with every wire being the precise length it needs to be, with perfect radius 90\'s on every connection.\n\nThe house is absolutely up to code-- for 1984.\n\nFor ""modernization"", GFI\'s have been added to the bathrooms and the kitchen.', 'SolaVitae: I mean you can do it yourself, just don\'t expect your insurance company to cover it if your house burns down because you had no clue what you were doing.\n\nI\'m not certain, but pretty sure if you modify your car in a way that results in it causing an accident or destroying your engine as a direct result then insurance won\'t cover it. Like if I go try and change my spark plugs with the thought ""a torque wrench and a 5$ ratchet from harbor freight are the same thing, I just need to tighten it until it\'s all the way tight and I\'m sure a 0.001 of an inch for the spark plug gap doesn\'t matter"" I\'m pretty sure my insurance isn\'t writing me a check to get whatever the result is fixed.\n\n>why should the rest of us be punished and dumb everyone down? What\'s to stop them from trying, anyway?\n\nAre you punished? The way you become one of the ""dumb ones"" is your house burning down because you fucked up the wiring. If you don\'t fuck it up then you aren\'t punished because your house didn\'t burn down as a direct result so you don\'t have to worry about insurance covering it. \n\nBut look at the thread we\'re in and the picture being posted asking how it should be done after doing it wrong already', ""TheyDeserveIt: That's my point, there are *already* consequences for doing it wrong - burning your house down, shocks or electrocution, being unable to have other work done without fixing the things that aren't to code first, etc.   Legally requiring *all* work be done by a licensed electrician, licensed mechanic (using that example, even though there's no legal definition of a mechanic, at least for passenger vehicles) etc, when dealing with your own property, is too far to take it.  That *would* be punishing those of us who are capable of knowing what we're capable of vs need to involve a professional.  When it comes to providing a service for others, of course you should be, and already are.\n\nI absolutely agree not everyone, OP included, is capable of or should be doing this work on their own, but the arguments I'm responding to are implying that everyone should be *legally* mandated to become or hire a licensed electrician for any work on the electrical system downstream of their meter, which you seemed to be arguing in favor of.  If you weren't, then I apologize for misunderstanding.""]"
1682761867.0	29-Apr-2023 02:51:07	Home Assistant Backups and Snapshots in Proxmox	BackHerniation	74	132oqmg	homeassistant	https://smarthomescene.com/guides/how-to-backup-home-assistant-in-proxmox/		12	"[""remembermereddit: At first I thought your website was just another generic website with paid tests, fake 'top 10 of 2023' posts etc. \n\nBut I have to admit, I love your website, and I use it quite often :)"", 'Matt_NZ: I essentially do the same but with Hyper-V. I had to use it in a real world scenario last weekend when I managed to have a double disk failure that took out my VM storage 😬', 'jamesmt87: This is essentially what I do…I run on proxmox and do regular backups and snapshots. It makes it so amazingly easy if I make an mistake or there is a simple issue.', ""Sometimes-Scott: Your writeup does a good job explaining how a snapshot isn't a backup. Forgive me for my ignorance, but do snapshots degrade VM performance in Proxmox/kvm? In my experience, snapshots slowed VM performance if they were kept for a long time or you had many snapshots. I do know they can require a lot of storage if they are old, too. Your article doesn't suggest keeping snapshots, but it maybe good to include a note saying to cleanup snapshots."", 'madjetey: Upvoting for visibility because this is helpful and informative', 'VSchild1: Thanks!!! Very good guide!!', 'FakeGatsby: This is exactly what I do and have done for a long time.  Good work.  I was starting to feel a little lonely out here.', ""ChrisKolan: This is really the way to go. Home assistant can be unforgiving when it comes to updates. Since I've been using home assistant together with proxmox, system maintenance has become much less consuming. In addition, you can test many new things without worrying about accidentally breaking something. And when you do break something you are only a few clicks away from restoring a working system from backup. I recommend to everyone the combination of home assistant + proxmox."", ""obsessivethinker: Ok, how the hell did you get dark mode on Proxmox? Mine burns my eyes out daily!\n\nEdit: And I just found it. It was missing for so long that I just never thought to look again. You 100% made my day.\n\nBTW, you're spot on re: snaps and backups. I run a whole bunch of VMs under a few proxmox installs, and I've been doing backups with them forever (and snaps before doing hass updates/big changes/etc.). They've saved me more than once."", ""BackHerniation: Thanks man, appreciate it. \nI'm a tinkerer, I love what I do and give it my all, always. :)"", 'BackHerniation: I belive the nature of snapshots is such that after you are done testing or deploying new VMs or containers, you remove it. After making sure everything is in order of course.\n\nThats one of the reasons snapshots are unable to be scheduled. Well, they can be but not natively within Proxmox like backups can.\n\nSo, their purpose is like a quick fail safe point in time that you remove when you dont need it anymore and you are done with your setup.', 'war_pig: Excellent guide! Love the explanations.\n\nMan, how I wish you will also make a frigate via promox lxc tutorial.  \n\nNo matter how I try, I cant just figure it out!\n\nIm about to give up and go blue iris.']"
1682748805.0	28-Apr-2023 23:13:25	How to correctly add configuration to this clock-weather-card?	androidusr	7	132kzwt	homeassistant	https://www.reddit.com/r/homeassistant/comments/132kzwt/how_to_correctly_add_configuration_to_this/	"I installed this [clock-weather-card](https://github.com/pkissling/clock-weather-card) from hacs.  This is my first time using a hacs front end thing that has a configuration.  I attempted to add the card to a page, and I think I'm suppose to add the configuration to this text box, bit I get an error ""no type provided"":

&#x200B;

[error \\""no type provided\\""](https://preview.redd.it/pm500u8hmrwa1.png?width=1273&format=png&auto=webp&v=enabled&s=944c99f7e4d5fb28e15967a3bf2dd0f68753ef6c)

&#x200B;

I did add the resource and restarted the server after adding resource.

&#x200B;

https://preview.redd.it/42s63c6kmrwa1.png?width=1874&format=png&auto=webp&v=enabled&s=bc5cacdd6a40014e3c518cfb648ceef82e64b130

&#x200B;

What else am I doing wrong?"	2	"['tacka: This works for me:\n\n&#x200B;\n\n`type: custom:clock-weather-card`\n\n`entity: weather.dom_2`\n\n`sun_entity: sun.sun`\n\n`temperature_sensor: sensor.dom_realfeel_temperature`\n\n`weather_icon_type: line`\n\n`animated_icon: true`\n\n`forecast_days: 2`\n\n`locale: en-GB`\n\n`time_format: 24`\n\n`date_pattern: P`\n\n`hide_today_section: false`\n\n`hide_forecast_section: false`\n\n`hide_clock: false`\n\n`hide_date: false`\n\n`hourly_forecast: false`', ""generalambivalence: You don't need the `-` before type. Just remove that and unindent everything to the first column.""]"
1682746313.0	28-Apr-2023 22:31:53	Looking for smart plugs to monitor energy usage of washer and dryer	NovaKevin	17	132kafe	homeassistant	https://www.reddit.com/r/homeassistant/comments/132kafe/looking_for_smart_plugs_to_monitor_energy_usage/	The end goal is to receive notifications when washer and dryer cycles have finished. I did some searching here and saw others using smart plugs with energy monitoring to determine when a cycle has started/stopped. Are there any specific smart plugs that would be recommended for this scenario? One of my main concerns is if they would be safe enough for large appliances.	55	"['Matt_NZ: I quite like the [Athom plugs](https://www.athom.tech/esphome). You can get them pre-loaded with ESPHome or Tasmota. ~~One of the few smart plugs that are more ""open"" that are also certified for use in NZ/AU~~', 'Wtrdk_: https://www.athom.tech/blank-1/EU-plug\n\nThey also come in UK and US version. Works flawlessly and affordable', ""starguy42: I've been using the [Zooz Power Switch ](https://www.amazon.com/Z-Wave-Power-Switch-ZEN15-Humidifiers/dp/B07578W7KY?ref_=ast_sto_dp&th=1&psc=1) for the last couple of years on my washer (US style outlet). Haven't had a problem with it. For dryer, since there's really nothing that works for that kind of plug, I use a motion sensor to detect when it's running/stopped.\n\nHope that helps!"", ""Necessary_Ad_238: I'm using Sonoff s31 with tasmota"", 'AnxiouslyPessimistic: Highly recommend [localbytes](https://www.mylocalbytes.com)\n\nThey’re preflashed with Tasmota and work a real treat', 'uosiek: Shelly EM for clamping measure instead of direct measure. It will handle bigger loads with less heat.', 'gson516: I use Kasa TP125 outlets with my washer and dryer.', 'PistolaPeteUK: I have been using Localbytes plugs to do this with both my washer and dryer.  They are preflashed with Tasmota and run really well.', 'homenetworkguy: One option I’m considering especially for the dryer is an [energy monitoring system](https://www.amazon.com/dp/B08G37ML2R?ref_=cm_sw_r_apin_dp_Q3R1S1EJ42M2A37S9060) which has clamps that attach to each circuit at the breaker panel. Doesn’t require any wiring but can monitor up to 8 or 16 circuits. I’m think this would be a great option for heavy duty appliances. It has an (unofficial) integration available in Home Assistant (via 3rd party repository).', 'avatarpichu: Pretty sure I saw someone using a vibration sensor to not have to deal with the plugs burning up from the massive energy draw in particular with the dryer', 'Deshmir: Shelly Plug S until 2500W, Shelly 1PM for 3500 but that one needs to be built in.\nThey also have the big Shelly Plug with 3500W.\n\nJust bought then recently, and added a blueprint:\nhttps://community.home-assistant.io/t/notify-or-do-something-when-an-appliance-like-a-dishwasher-or-washing-machine-finishes/254841', ""CeeeeeJaaaaay: If you have both devices close by and you're really worried you could get a Shelly EM or Pro 3EM that measures current with a sensor rather than having it flow through the Shelly instead."", ""cac2573: I've burned out two smart plugs with a washer. It seems the current draw in starting up the washer motor is just too much."", 'DIY_CHRIS: Sonoff s31 with tasmota. TP-Link KP115', 'Devildug: I am using Tapo p110 for exactly this job. And it works great. Nice and cheap too - think I got 4 go £30. \n\nSeems accurate enough in power monitoring side that I can tell what part of the cycle the machine is in - I don’t but I could. Just use it to monitor when machine starts and finishes.  \n\nOnly downside is that it is not a cloud free solution for setup (I’ve never needed cloud access after the first setup) so depends if that bothers you or not.', ""SnappyDroid: I've done it with an Aeotec z-wave plug, and also with a TP-Link Kasa plug (and still doing so multiple times per week)."", 'codliness1: Samsung SmartThings Smart Plug 2019, about £25 - £30.', 'godslurcher: If your in the UK, I highly recommend the  Lightwaverf sockets. They are HomeKit compatible and you can see the live usage as well as usage for month and with dashboard you would see a lot more data too.', 'AnduriII: The shelly 1pm series. They are not a plug but can be  wired in the socket', ""elroc: Sonoff DualR3 wired behind your wall sockets. 2 channels with power monitoring in a single package. Bit of manual two part solution but very flexible in the end.\n\nI've got a few set up across my house."", ""petervk: Assuming you are in North America you shouldn't have any issue with the washer as it likely is just a standard 15 amp / 120 volt socket so any normal power monitoring plug should work. I like the Sonoff S31 plugs but I have flashed them with ESP home. \n\nIf it's an electric dryer that might be more difficult as it is likely 30 amps / 240 volts and likely the simplest is a current transducer on the feed coming out of the breaker panel. I haven't seen any smart plugs that handle that amperage."", ""ManOfMuchKnowledge: An alternative to smart plugs is using an energy monitoring system like Sense energy monitor... Installs in your electrical panel, doesn't have any power passing through it, and has an integration in HA...\n\nThere are others, I have Sense and know it best..."", 'Howvian: I personally like the NOUS A1Z (which uses zigbee) they also have WIFI in the form of the NOUS A1 and even a preflashed variant with Tasmota as the NOUS A1T.', 'asinla1: +1 for Kasa. Work perfectly and are not super expensive.', 'Elf_Paladin: I have shelly 1pm’s installed behind the wall socket for those. If you don’t know how to do it yourself, get an electrician. Money well spent, believe me', ""Homerhol: One issue with monitoring power usage of clothes dryers is that they may sometimes exceed their rated current for brief periods, which can trigger the overcurrent protection of typical 10 A smart plugs.\n\nTo avoid this, I've been using the Aqara Air Conditioning Companion (KTBL11LM) for the dryer. The AC Companion has a Chinese 16 A plug, which requires an adapter to fit a typical domestic outlet. Obviously it would be unsafe to use a 16 A device on a 10 A circuit using this adapter, but if the load is intended for use on a 10 A circuit you should be fine - you can add a 10 A circuit breaker to the outlet as a precaution as these are usually more tolerant than the overcurrent protection in smart plugs."", ""notalbymangels: > certified for use in NZ/AU\n\nAre they?  I bought three a while back and was hesitant to use them as I didn't think they were certified.  Would like to be wrong.  I am using them anyway.\n\nAlso I have never been able to get them to report daily power usage, it's always cumulative since restart of the device."", 'julnobugs: Did buy 2. One failed after a year. \nSo a month ago, I did buy thirdreality zigbee smart plus with energy meter and so far so good.', 'NovaKevin: Thank you for the recommendation! I ended up  going with a 2-pack of the Athom plugs loaded with ESPHome', 'pyrodex1980: Plus one for Athom!\n\nI have one literally on my home firewall and use it for this purpose but also can upgrade the code LIVE without downtime to the firewall. \n\nNow for the Dryer you may need to get a CT clamp solution due to the large amount of amperage needed for electric dryers. If your dryer is gas you may not have 240v circuit then.', 'SeniorPoopyButthole: I can attest that the Zooz plugs are rock solid, great repeaters, and heavy duty', 'octaviuspie: Same here.', 'LurkerTalen: This is what I use - I started with a Shelly 1PM for the specific circuits, but have switched to an Emporia Vue (flashed with ESPhome) to monitor more of the house. Both work well', 'seanomat: Second for the Shelly plug E with 3500 W. That would be the maximum possible with a usual plug (one phase 220V) and the usual 16A fuse.', 'pyrodex1980: This won’t work for an electric dryer. I have a CT clamp solution on mine and it regularly measures 5000w when the heating element kicks on.', '-H3X: Not on a dryer', 'Devildug: Here is a picture of a recent cycle as reported by the tapo.\n\nhttps://preview.redd.it/aat9a58witwa1.jpeg?width=750&format=pjpg&auto=webp&v=enabled&s=34128d896eeb7aa13b54a648d2d01636c22ffb98', '-H3X: Not for dryer', ""Matt_NZ: Hmm, you've made me recheck and you're right...I think I've confused them with the some Shelly units that were recently certified."", ""Matt_NZ: I actually have one specifically for the dryer as the dryer and car both share the same circuit in the garage. \n\nI use an Athom there so if the dryer is detected as running then HA won't tell the car to start charging or it will stop the car charging if the dryer is started. I'm in NZ tho so our sockets are all 240v/10A."", 'homenetworkguy: Flashing to ESPhome probably makes it integrate nicer/easier than a 3rd party repo? Just curious for future reference.', 'petervk: Smart here. 30 amp / 240 volt electric dryer and I have iotawatt CTs and my dryer pulls 5 kw when the heating element is on.', 'Deshmir: Then you need build ut yourself probably, googling for esp and ct clamp gives nunerous results', 'DIY_CHRIS: Correct on the dryer, but the washer works. I use the Sonoff for this.', 'petervk: Do you possibly have those reversed? Or does your washer have some sort of heating element in it? Here in Canada our washers are just 15 amps / 120 volts and I would be very surprised if they pulled more than a few hundred watts for the motor and pump.', 'pyrodex1980: Yea in the US my dryer circuit is 240v/50a.', 'LurkerTalen: I like that it’s all local, I never even tried the Emporia integration to be honest. The big draw to me was the hardware being easily flashable to esphome.', 'pyrodex1980: I have the iotawatt as well! Good little device.', '-H3X: Washer are a cakewalk. That’s not the issue.', 'Devildug: I’m in the UK so we run at 240V. Also it’s a cold water only machine (think they all are these days in the UK) so the first bit will be where it’s heating the water up.', ""Matt_NZ: That's nuts lol...does it dry clothes in like 10 minutes??"", 'homenetworkguy: Ahh I see. That’s a good point. The integration relies on the cloud (once I went back and looked at it closer).\n\nI would also go the ESPhome route to have local control.', 'petervk: Oh, interesting. Our washers are hooked up to the hot and cold water lines so if they need hot water that is done by the hot water tank. I wish we had 240V everywhere sometimes. Anything we have maxes out at 1500-1800 watts and things like kettles and toasters could be much more powerful.', 'ProjectDirectory: Usually takes about an hour.']"
1682738250.0	28-Apr-2023 20:17:30	Finally upgrading my Sonoff s1's	cambo	0	132hux1	homeassistant	https://i.redd.it/eenq8ahr8swa1.jpg	Some of them just won't do over the air ESPhome updates consistently, it's gotten really annoying.	1	['SquidwardWoodward: Do you have to use it with a lite, or can you plug a fan into it too? /s']
1682737712.0	28-Apr-2023 20:08:32	How do I change entity ID	I_Dunno_Its_A_Name	1	132houe	homeassistant	https://www.reddit.com/r/homeassistant/comments/132houe/how_do_i_change_entity_id/	"I renamed some smart outlets and other devices as I moved them around. The entity IDs have not changed. It doesn't negatively effect anything except for causing me a lot of confusion when trying to diagnose an automation. Beyond that, it would be nice for everything to be named properly. Is there an easy way to change the IDs? I don't mind going through my automation's and other things to manually correct everything after entity IDs have been changed.

&#x200B;

Edit: I realize you can change and entities ID manually and I will do that, but was hoping there is a way to change all IDs for a specific device at once."	3	"[""SpencerDub: This also hasn't been working for me lately. I believe renaming the device is supposed to give you the option to automatically rename all entities, but when I took that option last week, it did nothing. It may be a bug."", ""Mavamaarten: If you rename the device, it will suggest to change all associated entity ID's as well."", 'HonkersTim: I was doing this last night, so it does still work. You rename the device and it asks you if you want to rename all the entities. \n\nThe renaming for some names is a bit buggy though, i had a couple phones named honkerstim_iPhoneX256_iCloud and honkerstim_iPhoneX64_iCloud and after replacing the names a couple times they start to stack up and become very long combos of all the different versions, like honkerstim_honkerstim_iPhonex256_iPhoneX256_iCloud']"
1682736300.0	28-Apr-2023 19:45:00	Looking for a water temperature sensor for recirculating hot water supply	John5788	1	132h893	homeassistant	https://www.reddit.com/r/homeassistant/comments/132h893/looking_for_a_water_temperature_sensor_for/	"I am doing a large remodel on my house and I am repiping the entire house with new 3/4"" copper lines.  
  
I would like to add a temperature sensor fitting somewhere in the hot water line so I can tell if the temperature has dropped under a certain threshold and I will kick on a hot water recirculation pump from the water heater.  
  
Does anyone have a suggestion for a part / parts to do this?"	3	"[""TimJethro: I've a few DS18B20 sensors strapped to (copper) pipes with some thermal paste to aid conduction. They are wired to ESP32/8266 chips running ESPHome.\n\nhttps://preview.redd.it/ckwbvip65twa1.png?width=1152&format=pjpg&auto=webp&v=enabled&s=cc213f3175eb6c54162bd4d6c0ac14a99b375188\n\nEven if you're not familiar with the electronics side, these are one of the easiest sensors to connect up."", 'John5788: Thanks for that lead, I think I figured out what I need:  \n  \nDS18B20 sensor: https://www.amazon.com/gp/product/B09NVWNGLQ  \n\n50mm thermowell with 1/2"" NPT male thread: https://www.amazon.com/dp/B08QV4F8FF    \n\n3/4"" copper sweat to 1/2"" NPT female: https://www.homedepot.com/p/Everbilt-3-4-in-x-1-2-in-Copper-Pressure-Cup-x-Female-Adapter-Fitting-C603HD3412/100007956  \n  \nThen wire it up with a 4.7kohm pull up resistor on the data line to an ESP chip.  \n  \nCorrect me if I\'m wrong or missing anything please! At least I know I need to stub out a 3/4"" copper tee somewhere in my rough plumbing to provision a spot for my sensor. I would like the sensor to be in the water instead of resting on the copper pipe.', ""TimJethro: That sensor comes with the little PCB with the resistor on, though you could probably find the sensor itself for a good bit cheaper and wire the resistor yourself.\n\nPersonally I'd not bother with the well and just affix the metal sensor onto your copper pipe (with a little thermal paste - the type you get for installing heatsinks on CPUs, super cheap for a mini syringe). I've done some with a couple of zip ties - I'm working on the basis the paste provides good thermal conductivity which is more important than the mechanical fixing. Also, you don't need super accurate measurements (the sensors are probably only accurate to 0.5ish degrees anyway).\n\nHere's one of mine:\n\nhttps://preview.redd.it/oleep0r3htwa1.jpeg?width=2268&format=pjpg&auto=webp&v=enabled&s=a241a5e03f27ee0affd8a92b19bb35e539fab30b""]"
1682733213.0	28-Apr-2023 18:53:33	Alarmo - Sonos Siren doesn't go off every time	bentleyvt	4	132g7ai	homeassistant	https://i.imgur.com/3Pzd0jr.jpg	Love the Alarmo App, still learning a ton every day though.  It seems that my siren action does not go off consistently when the alarm is triggered.  Any ideas on what to dig into?  Thanks!	0	[]
1682731138.0	28-Apr-2023 18:18:58	E1.31 to HomeAssistant bridge	muchtall	1	132fhz4	homeassistant	https://www.reddit.com/r/homeassistant/comments/132fhz4/e131_to_homeassistant_bridge/	"Is anyone aware of some sort of add-on that would allow E1.31 control software (such as QLC Plus) to communicate with Home Assistant? I know there are projects that allow the other direction, Home Assistant to control E1.31. I'm also aware that there is E1.31 firmware for some ESP based smart devices.

A little backstory: I've recently been working on helping our private school upgrade their stage equipment on a budget. Specifically, I'm donating my time and limited finances. They've got a mix of several decades old Leviton Multiplex (MPX) light dimmer packs, which I'm currently building a converter for to interface to DMX. They've also got a handful of more modern DMX RGB stage lights. I've built a cheap ESP interface for this to allow control from E1.31, so now they can use open source software like QLC+ to orchestrate their stage lighting. So I've got a plan for most of the existing stage lighting.

One remaining item, some cheap LED strings with an IR remote, has yet to be integrated. It got me to thinking how easy doing something like that is on Home Assistant with ESPHome acting as an IR blaster. If I had a way of bridging the E1.31 protocol into Home Assistant acting as a slave device, it would be easy enough for me to set up IR blasters to control just about anything that has IR controls. Furthermore, it would open up the door to using cheaper off the shelf RGB bulbs, dimmers, and switches for stage lighting and other controls. I might even venture to build an actuator for the stage curtains. With templates in HA, translating a DMX channel value to an action would be easy enough.

I've done a bunch of searching on the topic but most of the results are, as I mentioned in the first paragraph, not really applicable to what I'm trying to do. Has anyone else done something similar?"	5	"['the012345: Check out node red it has some e.1.31 plugins', 'dsg123456789: You should be able to do this with only esphome. Make an esphome template rgb light or use template outputs. You can invoke the ir blaster in the template.', ""muchtall: How does that work with E1.31? I'm not aware of any E1.31 support in ESPHome."", 'muchtall: Huh. So I had read this before: https://esphome.io/components/light/index.html#e1-31-effect\n\nI had assumed it was to control E1.31 devices from ESPHome. Now that I re-read it, it sounds like it acts as a slave device. That might work. Does the data that comes in via E1.31 feed back to HomeAssistant as a state value?', 'dsg123456789: You would make an rgb light, add e131 as an effect. Then, create output template components. Do you business there with IR blasting or relay actuating. No Homeassistant in the loop is my suggestion. \n\nOtherwise, someone else’s suggestion to use node red is reasonable.']"
1682731016.0	28-Apr-2023 18:16:56	I think I found the reason for inconsistent Aqara FP1 results. Voltage.	flossraptor	16	132fghv	homeassistant	https://www.reddit.com/r/homeassistant/comments/132fghv/i_think_i_found_the_reason_for_inconsistent_aqara/	"I have had all my FP1s working great for months, but I decided to move them and use different power supplies. The one in my office specifically just required a lot of troubleshooting.

First I set up an FP1 with a 5v adapter that actually measured 6v. The FP1 would immediately go to ""Enter"" for presence\_event and a few seconds later return true for presence. Even facing a wall.

I just plugged it into a 5v adapter that actually measures 4.8v. It is now working, but it actually seems slightly sluggish. I may try to get it closer to exactly 5v and see what happens.

The other FP1s I put on an adapter that I think was 5.2v and I noticed no difference in behavior at all from them."	4	"[""trankillity: Aren't they INCREDIBLY explicit that you need a 5V 2A adaptor? I've only ever run mine on exactly that adaptor and had no issues."", ""ReallyNotMichaelsMom: That's very interesting. I'm pretty sure I just grabbed whatever was at hand for mine. Only one is giving me trouble, but I only use it as a backup sensor, so I wasn't too concerned. Now I wonder if I swap out the power supply, if it will improve."", 'Derek573: The circuitry should be able to maintain the voltage necessary within the range most power adapters output power. Either Aqara has done a poor job engineering the power delivery side of the board or the device is faulty.', 'ElGuano: If this is true, then relying on a generic USB power supply is a recipe for disaster. They either need to mandate the use of the included adapter (if that is ideal) or build internal voltage control.\n\nI used my FP1s on a variety of power supplies, and never encountered unsolvable issues with them. I suspect this may be one factor, but likely not dispositive for many people. External interference (proximity to electrical signals in walls, laptop fans in the room, etc. still seems to be the most causes for fixable falses).']"
1682728534.0	28-Apr-2023 17:35:34	OnePlus 8 (Android 13) - Phone requires unlocking to use Device Controls for control	returnedinformation	2	132elqm	homeassistant	https://www.reddit.com/r/homeassistant/comments/132elqm/oneplus_8_android_13_phone_requires_unlocking_to/	Even though I have enabled all entities in the companion app to be usable in Device Control while the phone is locked, it still requires a password for me as soon as I try to turn off the light. Controlling lights with Tiles with the phone locked works properly. Does anyone have some kind of idea, or should I file an issue?	7	"['hirscheyyaltern: check the on device settings for device controls, i believe you have to specify which devices you want to be able to control while locked', 'rourke750: And here I am on OnePlus 10 pro with Android 12...', 'returnedinformation: Sorry, but I really looked through everywhere, and even googling it tells me there\'s an option like ""Control from locked device"" that should be in Display > Lock screen, but I don\'t find it anywhere.', ""returnedinformation: How come? They didn't push the update for you?\nI bought a used OnePlus 8 4 months ago for 230€ in Croatia and I'm really liking it. At first I thought the OxygenOS doesn't seem bad, but through time I've seen plenty of quirks, but beside many other reasons I picked this phone I picked it because it's supposedly easily flashable and there's plenty of other ROMs on XDA for it. So, Lineage OS will probably be a solution for my problem if I don't find any other"", ""hirscheyyaltern: Try clicking the device control Quick Settings option and seeing if there's any settings there"", ""rourke750: They did not. From my comment I finally tried manually downloading and now I'm running it."", 'returnedinformation: I open up the Device control in quick settings, I get the usual Device controls of my devices, i open up the menu on the top right and click ""Settings"" and there\'s only Home Assistant and the entities that I can add into Device controls. There are no other options.']"
1682727364.0	28-Apr-2023 17:16:04	Playing non-local media through Sonos speakers?	Indy_Pendant	2	132e6z4	homeassistant	https://www.reddit.com/r/homeassistant/comments/132e6z4/playing_nonlocal_media_through_sonos_speakers/	"Sonos question:  I'm trying to play various forms of media through the Sonos media_player entity.  

A local MP3 works.  NAS MP3 works.  

Internet radio from the HA radio browser doesn't work.  Internet radio url from a media_player.play_media service event doesn't work.  Internet MP3  doesn't work.

Before Music Assistant broke, it created its own media_player entities for my Sonos speakers and those were able to play all types of media I could throw at it.  That's gone now and I have no idea where to even start figuring this out.  Any ideas?

For example:

`media_player.play_media`

    {
    ""media_content_id"":""https://www.learningcontainer.com/wp-content/uploads/2020/02/Kalimba.mp3"",
    ""media_content_type"":""music""
    }

results in a 10 second pause, a ""success"" message, and no sound.  With a `media_content_id` of `http://stream-47.zeno.fm/3u1qndyk8rhvv?zs=P6-JOvxKSIieFzzuMHV9Qg` returns the error `Call-service error. Error calling SonosMediaPlayerEntity.play_media on media_player.living_room: UPnP Error 714 received: Illegal MIME-Type from 192.168.30.32` (.30.32 is my Sonos speaker)."	20	"['No_Towels5379: Have you tried adding those service to your favorites?', 'the012345: Music Assistant 2  is worth playing with. HA integration coming soon', ""jjlawren: HA Sonos integration maintainer here. The MP3 you shared works fine on my local system. Same with picking several random stations from the Radio Browser (although I'm sure that some stations will have some compatibility issues).\n\nSince you mentioned that your native Sonos app was having issues connecting to your speakers, I'm wondering if you have a restricted network or other networking issue specific to your setup. Anything you can think of here?\n\nPS: The `media_content_type` is very loosely enforced and _usually_ isn't the problem."", 'dai80027: Try changing the media\\_content\\_type to video/mp4.', ""Desperate-Joke-4261: I don't know why but for Sonos instead of https:// you have to use x-rincon-mp3radio:// in your media content id"", 'Indy_Pendant: I see a Sonos Favorites section in Media, but no way to add anything.\n\nMy goal is to figure out how to play non-local media because I want to play internet radio (streaming mp3) from Node Red (call a service, nothing fancy).  Right now it either ""succeeds"" after 10 seconds but no music plays, or it fails saying ""Invalid MIME type"".', ""Indy_Pendant: I tried the MAss2 HA beta.  It didn't work with radio browser, didn't provide media_devices, didn't locate my NAS drive, and didn't recognize my Sonos speakers.  It only played local media, and only on the browser.\n\nLeaves a little to be desired still."", 'Indy_Pendant: So that was it, at least partially.  Music Assistant, what I had been using before, ran on HA which has a more open network.  I guess the media_player devices it created used that network. Asking the speaker to play media directly uses it\'s network which is closed to the internet.  Opening up that network allows it to play internet radio via the Radio Browser.\n\nI still can\'t play remote URLs for anything.  Trying to play `http://usa9.fastcast4u.com/proxy/jamz?mp=/1` results in a failure, no matter the content type.\n\nHere\'s my event data.  Does it work for you?\n\n    {""media_content_id"":""http://usa9.fastcast4u.com/proxy/jamz?mp=/1"",""media_content_type"":""audio/mp3""}\n\nI also tried:\n\n    {""media_content_id"":""http://usa9.fastcast4u.com/proxy/jamz?mp=/1"",""media_content_type"":""music""}\n    {""media_content_id"":""http://usa9.fastcast4u.com/proxy/jamz?mp=/1"",""media_content_type"":""audio/aac""}\n    {""media_content_id"":""x-rincon-mp3radio://usa9.fastcast4u.com/proxy/jamz?mp=/1"",""media_content_type"":""audio/mp3""}', 'Indy_Pendant:     {\n      ""domain"": ""media_player"",\n      ""service"": ""play_media"",\n      ""service_data"": {\n          ""entity_id"": ""media_player.living_room"",\n          ""media_content_id"": ""http://stream-47.zeno.fm/3u1qndyk8rhvv?zs=P6-JOvxKSIieFzzuMHV9Qg"",\n          ""media_content_type"": ""video/mp4""\n      }\n    }\n\nStill didn\'t work, I\'m afraid.  Didn\'t work with the online radio streams either.  Do you have an example that works for you?', 'dai80027: ...or audio/mp3', 'Indy_Pendant: `{""media_content_id"":""x-rincon-mp3radio://stream-47.zeno.fm/3u1qndyk8rhvv?zs=P6-JOvxKSIieFzzuMHV9Qg"",""media_content_type"":""music""}`\n\n`{""media_content_id"":""x-rincon-mp3radio://reyfm-stream15.radiohost.de/reyfm-lofi_mp3-128?"",""media_content_type"":""music""}`\n\nNeither of these work any different than their `http` and `https` (respectively) counterparts.  Do you have an example that works for you?  I\'ll plug it in and check.', 'antisane: You can add to your Sonos favorites in the Sonos app, not through HA.', ""the012345: When did you try the beta, I'm on the latest and pretty much everything apart from the HA integration works now (beta29)"", ""jjlawren: Sorry, does this mean it's working now that you opened internet access to the speaker? It looks like the post was edited and I'm not sure if it means the problem links are now working for you."", ""dai80027: I've had some success with BBC Radio HLS streams, but not with the others. I hit on the MIME errors like you and was able to get past them by setting the type correctly. Once set correctly, it would start the service OK in Developer tools, but not IRL."", 'Indy_Pendant: I had to reinstall the app, and it failed to reconnect to the speakers.  Anyway, I doubt adding it to the favourites list will make it start recognizing the mime type.', ""Indy_Pendant: Yesterday.  I screwed with it for a few hours and it managed to find my Chromecast devices, but wouldn't find my Sonos at all."", 'Indy_Pendant: Sorry about that.\n\nI am able to play:\n\n- local media\n- nas media\n- online radio ONLY via the HA radio browser\n- static remote media from NodeRed (eg: `{""media_content_id"":""https://www.learningcontainer.com/wp-content/uploads/2020/02/Kalimba.mp3"",""media_content_type"":""music""}`\n\nI\'m **not** able to play:\n\n- HA radio via sending a `call_service` event, eg:\n- Internet radio from URL via NodeRed:\n\n`{""media_content_id"":""http://usa9.fastcast4u.com/proxy/jamz?mp=/1"",""media_content_type"":""music""}`  \ngives me an error: `Call-service error. Error calling SonosMediaPlayerEntity.play_media on media_player.living_room: UPnP Error 714 received: Illegal MIME-Type`\n\n`{""media_content_id"":""http://usa9.fastcast4u.com/proxy/jamz?mp=/1"",""media_content_type"":""audio/mpeg""}`  \nNo error, but no audio\n\n-----\n\nI can\'t play anything via sending a `call_service` event.  I send this payload, copied from a successful HA Radio Browser play event, but nothing happens:\n\n    domain: media_player\n    service: play_media\n    service_data:\n      entity_id: media_player.living_room\n      media_content_id: media-source://radio_browser/9617a958-0601-11e8-ae97-52543be04c81\n      media_content_type: audio/aac', ""antisane: For the app to load at all it must be connected to the same wifi as your speakers. Honestly, it's a huge pain in the ass, and the only thing I use the app for is to set alarms, and to add something to my favorites."", 'jjlawren: If playing directly from the Radio Browser works for you, it\'s far easier to create the service call using the automation/script editor. Create a new automation and go straight to ""Add Action"". Select ""Play Media"", your Sonos speaker, and then browse to the radio station using the media browser. You now have the exact same service call that the media browser sends to the device when using the UI. Switch to ""Edit in YAML"" and you can copy/paste it as needed.\n\nThe radio browser service call you pasted _looks_ fine, but give the above a shot instead.\n\nAs for random internet radio stations, it takes a bit of patience and luck. The integration could probably be improved to make this easier, but I don\'t listen to many radio stations myself. That being said, if you can find the radio station using the native Sonos app, you can save it as a Sonos favorite and select it that way from the HA media browser. Several people in this thread have suggested that already and it\'s probably the easiest solution by far if it\'s listed that way.']"
1682726000.0	28-Apr-2023 16:53:20	How to add Mqtt RTL_433 device to HA	mattfox27	2	132dp5x	homeassistant	https://www.reddit.com/r/homeassistant/comments/132dp5x/how_to_add_mqtt_rtl_433_device_to_ha/	I havee the sdr dongle and can see the device in mqtt explorer in HA now how to I get it Intp HA?  I don't want to use the auto add add-on.  It's a moisture meter for the lawn...	18	"[""senor_peligro: Just curious why don't you want to use the auto add-on?"", 'CoalCruncher: Probably a now archaic way to do it, but I defined them all in the configuration.yaml. Back before the days of auto add-on.\n\nI did some tweaking with a value template to eliminate some bad readings. If you don\'t have that happen, you could ignore it. Watch the stream from your broker for the topic broadcasts.\n\n`mqtt:`  \n`sensor:`  \n `# Acurite Atlas data`  \n\xa0 \xa0 `- state_topic: ""rtl_433/Acurite-Atlas/786/msg5""`  \n `name: ""Outdoor Temp""`  \n `unit_of_measurement: ""°F""`  \n `device_class: temperature`  \n `value_template: >`  \n `{% if value_json.temperature_F | int > -20 and value_json.temperature_F | int < 120 %}`  \n `{{ value_json.temperature_F | round(1) }}`  \n `{% else %}`  \n `{{ states(\'sensor.outdoor_temp\') }}`  \n `{% endif %}`', 'djgrahamj: This sounds quite different than the way I set it up. I know which protocol my water leak sensors are so I disabled everything except that in the RTL config. Then in HA I just set up automations to listen to the MQTT topics of each device.\n\nI didn’t even know there was an auto add-on. That sounds easier lol', ""generalambivalence: You can try using this guide to get it set up, though it's not specifically for the device you're setting up.\n\nhttps://github.com/iamjoshk/home-assistant-collection/blob/main/rtl_433/rtl_433%20MQTT%20set%20up.md"", 'mattfox27: It adds a bunch of my neighbors sensors to my HA', 'BeautifulHoliday5242: Whats the name of this addon?', 'mattfox27: So just use the auto tool?  It just dumps a bunch of neighbors sensors in my HA', ""KTibow: Can't you disable entities?"", 'senor_peligro: You need two of them.\n\n* rtl_433\n* rtl_433 MQTT Auto Discovery', 'mattfox27: Can you?', '_Rand_: Yes you can.\n\nTurn on auto discovery till it picks up what you want, turn it back off.  Then delete anything unnecessary it picked up.', 'mattfox27: When I turn off the auto discovery the devices that it has discovered stop connecting', 'senor_peligro: Mine is off but my devices still send updates fine', 'iotiot: Do you have the ""retain"" flag set in the auto discovery addon?', '_Rand_: That’s unusual.\n\nI literally did exactly what I described back when I had some RF security system and it worked perfectly.', ""mattfox27: It's turned off...what whas happening is the discovered devices where actually losing connection after a reboot.  Should it be turned on?"", ""iotiot: With a 433 sensor like that, there isn't really any sort of connection established, the sensor just broadcasts it's data at specified intervals and if the antenna sees the broadcast, the addon will decode the data and send it out over mqtt.\n\nWhen I first started with the rtl_433 add-ons, I had a similar issue to what you are describing. I don't remember exactly what I did to fix it, but I thought it had something to do with that retain toggle. I checked my setup and both the rtl_433 and auto discovery addon have retain set to true."", ""mattfox27: Yeah I just read in the manual it does say if you do not have retain on the sensors will not survive a restart... I did however figure out how to manually add them to Home Assistant and it's working... But that's good to know that it just needs to have to retain on for the future.""]"
1682725508.0	28-Apr-2023 16:45:08	Is anyone using VLAN's with home assistant?	ghstudio	9	132dihm	homeassistant	https://www.reddit.com/r/homeassistant/comments/132dihm/is_anyone_using_vlans_with_home_assistant/	"I've just upgraded my home network with routers that allow me to set up VLAN's (not because I have a need, but because I could and maybe there's a way to use them).  I have multiple sensors/inputs to home assistant...some wifi connected, some interfacing through home assistant addins, some needing internet access, etc.   I'm wondering if there is a reason..or a way to use VLAN's to perhaps isolate my Home Assistant devices from my computers....and perhaps routing my computers through a centralized VLAN gateway using a NUC, routing my streaming devices directly to the internet, bypassing VPN's......etc.

&#x200B;

Looking for ideas....and perhaps someone who's using VLAN's with Home Assistant."	22	"['porchlightofdoom: I do. All IOT devices sit on their own VLAN with no internet access. \n\nMost of mine are ESPHome based and I am not worried about them. But I have several IP cams that try to phone home a lot.', ""r3pwn-dev: I'm personally using 3 different SSIDs, each with their own VLAN.\n\nAny personal devices are on the main network (laptops, desktops, phones)\n\nAny smart devices that *need* internet are put on the guest network (TV, and any smart devices that either require the cloud, or where functionality would be severely inhibited by removing internet)\n\nAny smart devices that are able to survive without internet (either natively, or devices where I have replaced the firmware) are placed on a dedicated IOT network"", 'timsstuff: Not technically a VLAN (no tagging) but I have a separate IoT network that all the devices sit on, using a Sonicwall as the main firewall/router. Half the ports are in the IoT zone and the the other half LAN, I have a few rules to allow traffic like DNS and Plex from IoT to LAN and full access from LAN to IoT. \n\nAlso have a Sansung SmartThings hub on the IoT for Wifi/Zigbee/Z-Wave and a SonicPoint on the LAN for laptops and non-IoT wireless devices.\n\nAlso my HA runs on Hyper-V so my server has 3 NICs, one for management, one for LAN VMs and one for the HA VM on the IoT network.', 'djgrahamj: Yep. I have a UniFi setup with several VLANs including an IoT one for those devices. HA runs in Proxmox on the trusted VLAN and IoT devices can only talk to it if trusted initiates.', 'ghstudio: This is all a welcome surprise...I thought I might be alone.  I\'m using Netgear Orbi Pro mini router and satellite (SXR30/SKS30) and lp-link TL-SG108e switches....so I\'m completely VLAN capable.  I plan to put all my direct to internet services (amazon/google stuff, TV streaming on VLAN 1.  I am going to put all my computers (desktop/laptop/ipads) on VLAN 2 going through a VPN and pihole using a NUC 7i5 or 8i5) and ""router on a stick"" (vlan 2 in, vlan 2 out).  VLAN 3 will be my IOT and VLAN 4 is for guests.\n\nI have between 30 and 35 devices connected at this point.\n\nSince this is my first foray into VLAN\'s, I\'m confused about most everything....eg. how does a computer on VLAN2 get to a device on VLAN3?  The default DHCP for Wireless 1 is xx.xx.1.x...the default for wireless 2 dhcp is xx.xx.20.x ....shouldn\'t they use the same pool??\n\nJust so many options (also known as places to create mystery issues).....\n\nany help appreciated.....', 'wsdog: Yes, I have 6 vlans.', 'smoth1564: Absolutely. I do allow some of my devices to reach the cloud but they’re basically ones I’m not too concerned about. HASS lives with them too. The cameras have another separate VLAN.', ""richms: Yes, I have vlans\n\nExternal security cameras are all on one, which is untagged so that the only thing available if someone pulls a camera off (not hard with the crap mounts on most) is the NVR and other cameras - I will be separating that out into multiple camera VLANs as I move to multiple NVR's. I have this blocked off from the rest of the vlans totally as I access the cameras via the NVR which has its LAN port on the same network as everything else.\n\nI have the iot vlan which is 2.4GHz only for all the tuya/sonoff/other app based tat to connect to, it has full internet access but nothing over to the other networks. I connect the phone to this SSID to provision new tuya etc devices only. Its really slow on 2.4GHz - yet they all still work fine with out enough bandwidth to even stream music in tidal.\n\nI have second iot vlan for my ESP stuff that is esphome or tasmota or whatever, it has internet access so they can see updates. I keep meaning to try to cut that off sometime but meh. I can connect to that vlan from the one the computers are on.\n\nI have a speakers vlan for my smart speakers so I connect the phone to it when I want to cast to the speakers or the TVs. This stops them from showing on all the computers etc in chrome in the on and off way that it does. I had to disable something to do with mdns on the router to stop them from showing.\n\nI also have a gues vlan with ssid internet that I cycle the password on for guests in the house."", 'sero_t: I still wait until i receive a fortigate,  a friend is replacing his and i can have it, but vlans is the goal, for now they are in there own ssid', 'geekaz01d: Yes. Just route your traffic.', ""NecroKyle_: I've got all my IOT stuff (and my home assistant install) sitting on its own VLAN - I tried having HA on my main VLAN but the local integration with my Xiaomi fan didn't work when that was the setup.\n\nThe IoT VLAN can access the internet but has no access to the main VLAN - the main VLAN has access to everything."", 'bluecat2001: I choose not to.\n\nIt is a hassle to set up and honestly the risk is minimal. I do not have cameras in the house though.', 'Doranagon: HA is in the iot vlan.', 'DarkfullDante: I have 5 vlans current\n\n- online iot\n- offline iot\n- work\n- default\n\nThe system is made to allow only the communication that should go through per vlans. The system is pretty solid but setting up access to google cast device between vlan was a bit harder. I had to setup some custom mDNS and Bonjour configuration', 'Evelen1: I do.\nBut keep in mind that some devices just asume the gw is in the same subnet.', ""FalkFyre: Yes, I have all IoT and cameras on VLANs that aren't allowed to communicate with anything, including the internet, and can only be communicated with by devices I give the explicit ability to."", ""mkosmo: My IoT net has Internet access, but it's limited (as much as possible). Some devices get wide internet, some get pinholes, some are blocked.  It doesn't have carte blanche to any of my other home networks, though."", ""r3pwn-dev: I'm mostly using MQTT for devices on the IOT network (to avoid having to use static IPs), and I have a port forwarding rule so the smart devices talk to the router on port 1883, and that gets forwarded to my mosquitto broker on my home assistant box"", 'Datsoon: This is what I want to do also but have never got around to figuring it out. Where does your HA instance sit?', 'scpotter: Internet of Things vlan blocks internet, Guest vlan is for Things needing Internet. Got it.', ""r3pwn-dev: The Google cast situation is actually an issue I'm running into currently. Would you mind sharing how you set that up?"", ""r3pwn-dev: I have it on the primary network, and have some firewall rules set so that anything on the primary network can communicate with any device on Guest or IoT, but Guest and IoT can't see any devices on any of the other networks""]"
1682721627.0	28-Apr-2023 15:40:27	Nuc/ thin client / usff. Haos or vm	Vertigo_uk123	1	132c1sy	homeassistant	https://www.reddit.com/r/homeassistant/comments/132c1sy/nuc_thin_client_usff_haos_or_vm/	"Thinking of getting a nuc for HA (don’t ask me my setup as I still haven’t figured haos on rpi out yet lol) what is better and easier for a complete noob.  Haos or a vm. I’m thinking Haos as it’s closest to the pi3b I’m running at the moment. 

Just so you know how much of a noob I am. I have only just managed to get docker Wyze bridge. Samba. And hacs working. I have only just installed Lovelace and haven’t even started making a dashboard yet. Yaml is scary and I haven’t a clue lol. All this took me 3 days and numerous wipes and restarts. I’m pretty good with pcs but this is a massive leap lol 😂 

I have made a sh3d model and want to get that working with buttons like this video https://youtu.be/7gOqqYq1QrA but it’s all so in-depth and isn’t as easy as install point to photos and go lol 😂 

Why are nice things never easy. Anyway waffle over. 

HAOS or VM on a nuc for a noob?"	12	"[""quixotic_robotic: Hey first off, be realistic with yourself so you don't get disappointed - that video you posted is many years worth of adding devices and customizing and testing and making really complex dashboards. Don't sweat it that you're just starting out, there's a ton to learn.\n\nIf you've never run linux on something, I would really point you toward running HAOS on a Pi. It's really as simple as downloading the tool/image, popping in an SD card, and powering it up. HAOS does make it really simple, and there are more and more addons that make it easy to add more functionality."", ""Krojack76: I have an i5 NUC and if HA is all you put on it, it's massive overkill.... I use Proxmox and run HA on a VM. I only assign 2 CPU cores, 3GB RAM and 24GB drive space and it works fine. I offload all backups to my NAS.\n\nHA VM stats for the past month: [https://i.imgur.com/Sg0qxso.jpg](https://i.imgur.com/Sg0qxso.jpg)\n\nI run several other VM's and even some LXC containers."", ""ewlung: Go for Proxmox VM, this will give you an option to make backup the entire VM easily. You can also schedule snapshot backup periodically. Restoring backup is super easy in this way.\n\nHA VM does not need lots of resources. Mine is 4GB RAM, 2 CPU and 64GB storage, that's more than enough 😂"", ""textonly: HAOS on the NUC will be fine for what you're talking about. I have been running mine on a low power NUC-like (a NUCoff!?) machine for several years and it's easy, reliable and fast. The add-ons make it easy to run some other services if you want, for example it runs my unifi controller. You're missing out on some flexibility for the sake of ease, you'd have more options with the VM since you could spin up any other services you want. If you're already feeling overwhelmed, skip the VM, you can always move to it in the future when the need arises."", 'Lectere: Take a low power NUC and use HAOS , otherwise you also need to manage and maintain the hosting operating system. Backups van be made with both.', 'Vertigo_uk123: Yeh I have Haos on a pi3b+. Was looking to upgrade it to a nuc and basically get the same experience hence thinking Haos would be the best route. Installing is easy. It’s the setup and configuring I struggle with lol. Not written a line of code in my life lol 😂 \n\nYeh I know it’s years of adding and tweaking etc lol. I just want a floor plan with buttons for now to turn lights on off / colour. And view cameras (Wyze bridge). Then maybe navigation buttons to go to different views. I’m not bothered about the colourlite stuff or now playing on tv and it mirroring exactly the house. But the state would be nice. \n\nI will also have temp and humidity in each room and door open closed state. Once all that is setup I will move into motion / mmWave sensors. \n\nI had a play with hafloorplan but couldn’t get it working and couldn’t get it to overlay buttons etc. is there not a nice drag and drop system anywhere as opposed to yaml files. Would be nice if you could drop an entity where you want it. Then configure it so it shows either a button or live view etc.', 'Vertigo_uk123: For the sake of £50 though it’s cheaper than buying an elusive rpi4. Yes 99% of the time I imagine it idle but I want the capacity for it to grow into a super setup like above. Yes it will take me years. Backups can be sent to my synology. \n\nIf I did go the Haos route I can see myself eventually changing to something like proxmox so I can use it for my Plex server too (data still on nas) but whilst learning didn’t want the added complication of another system to learn lol. If it’s leaps and bounds ahead of Haos then so be it but I’m not sure if I would get the benefit at least for a year or 2. I can barely setup a simple light control dash let alone something like above lol.', ""Lectere: How can you recommend this when the guy clearly states he has limited it knowledge. Really some people... He probably doesn't want to know what a snapshot is."", ""Lectere: https://www.intel.com/content/www/us/en/products/sku/214624/intel-nuc-kit-nuc7cjyhn/specifications.html\n\nTdp of 10 watt, advantage over raspi; the ssd. Avoiding the fragile SD card. And supported / well know. I also recommend dedicated hardware. You don't want you lights not to turn on because your NAS is migrating it's volumes"", ""Krojack76: I also have one of these: [https://www.amazon.com/dp/B0B5WQG4HT/](https://www.amazon.com/dp/B0B5WQG4HT/)\n\nRight now it's at $400 but I saw it at $280 maybe 2 weeks ago. Comes with 32G RAM and a 500G drive. The price bounces up and down a lot. It's about 3 times faster than my NUC I got a while back. I use both of them in a small Proxmox cluster. This means they are connected and I can move a VM from one to the other with little to no downtime for VMs.\n\nHere is a guide that is updated on a regular bases on how to install Proxmox and HassOS on a NUC. I followed this for my first time. Still got the same VM running from that install. Been rock solid.\n\n[https://community.home-assistant.io/t/installing-home-assistant-os-using-proxmox-7/201835](https://community.home-assistant.io/t/installing-home-assistant-os-using-proxmox-7/201835)\n\nOnce you get everything setup you can also mount a SMB share to Proxmox then setup automated backups of VM's. I have a weekly backup of all mine at 5am Sunday morning. It stops each VM, does a backup then starts the VM back up. It only keeps the past 3 backup files. You can set this to whatever you wish.\n\nIf some HA monthly update goes bad and hoses the system, you can just delete the VM then restore a backup. For me, I might lose a few days of changes to configs but if I make a lot of changes I'll manually do a backup.\n\nI've come to really like those small PCs. I have 3 of them now. One for Plex and the 2 for Proxmox. Combined they average about 28-35 watts of power draw.\n\n[https://i.imgur.com/FcpWNei.jpg](https://i.imgur.com/FcpWNei.jpg)\n\nPower for that entire rack: [https://i.imgur.com/gLkDITK.jpg](https://i.imgur.com/gLkDITK.jpg)"", 'ewlung: He mentioned ""vm"" isn\'t it? VM means virtual machine or not?\n\nSo, I would assume he knows about virtual machine, at least the concept, no? Otherwise he won\'t ask that.\n\nThat\'s why I answered him to go with that and to give him reason why.\n\nAs for snapshot, well if you start with HA, you need to know about backup sooner or later. And VM backup or snapshot is very easy to do with just a click of button.\n\nAbout limited knowledge, he can learn, he asked about ""vm"", he gets the direction. So, why not go more from there?', 'Vertigo_uk123: That looks pretty good tbh. Expensive but powerful.']"
1682721036.0	28-Apr-2023 15:30:36	Using Siri, HomePods, and HA	dadbauld	1	132btn9	homeassistant	https://www.reddit.com/r/homeassistant/comments/132btn9/using_siri_homepods_and_ha/	"Right now we are an Amazon Echo household with multiple screen and no-screen echos. We primarily use these to play music, control our lights (Hue, Govee), set timers, and very rarely see camera feeds. We are also very much an Apple household: two iPhones, multiple iPads, Apple Watches, two Apple TV‘s, a Macbook, etc. Currently, I’ve been experimenting with Home Assistant on an old mini PC running Windows 10. The problem I have here is obvious.. it crashes a lot. About once a week or so.

I would very much like to switch out all of the Echo devices for HomePods and Homepod mini’s and also do a more reliable HA build on a Rasperry Pi 4. My question is: Does anyone else have a setup like this and could you tell me how your pro’s/con’s? Also, would Siri/HomePod be able to control ALL of my smart home gadgets? We have everything I mentioned above but also: Logitech Harmony for TV control, a WIFI enabled home theater receiver, Xbox, MyQ garage door openers, several Ring cameras/doorbell, a couple of Wemo smart plugs, Lutron light switches, Roku TV, Govee lights, and Hue lights. Of course, I’ll likely be adding to this in the future as well.

What do you guys think? Would this make a good setup or am I missing something? Oh, and we currently have Spotify which I know is kind of a bummer that it won’t work with HomePods, but I’m not totally opposed to switching to Apple Music too.

Thanks so much for any input you could provide!"	10	"['peterxian: I am bridging almost 100 accessories from HA to HomeKit, which we control with iPhones, HomePod minis, Apple TVs, etc. It works very, very well and is (in my opinion) the easiest and safest way to enable voice control, GPS presence, and remote access away from home. For the most part, if you can integrate it with HA you can control it with Siri. The main restriction is that HomeKit doesn\'t support the wide range of [device types](https://www.home-assistant.io/integrations/homekit#supported-components) HA does, so you can\'t bridge your power meter or your washer/dryer for example, because HomeKit doesn\'t have a model for those things (the new ""assist"" command should make up for this, somewhat).', ""gooeyblob: I have Home Assistant running on an Intel NUC on Proxmox and have the HomeKit integration setup in HA and it works pretty well. I have a mix of WiFi devices (some bulbs, a garage opener, TVs), Bluetooth (air quality monitors) and Zigbee (bulbs, leak sensors, etc. through Zigbee2MQTT and it all works pretty well. I have some cameras running through Scrypted, but everything else is through HA.\n\nWe use HomePods and iPhones and Apple TV and the integration is nice. Pretty much nothing is missing from what I can tell. There will be some various issues where a HomePod will mysteriously disappear from the internet and was somehow also your hub at the time and all your stuff won't work, but that hasn't happened in a couple months for me since the recent architecture upgrades and it's been rock solid. You can control things with Siri or your phone while you're away from the house as well.\n\nI don't use any automations in the Apple Home app (but they work), I still run all that through HA."", '400HPMustang: I have an Apple household. I use Home Assistant as a back end for automations and integrate all of my devices into Home Assistant first then use the HomeKit controller integration to bridge devices into the Home app to control them with Siri, HomePods and to do push button/app control. I don’t have any problems whatsoever.\n\nIf I were you I would take that old mini pc and wipe it and follow the guide on how to install proxmox and HA. You’ll be much happier that way.', 'dadbauld: Thanks for responding. What is the new ”assist” command you mentioned? And it’s probably pretty safe to assume that Apple will only add on to their device types, I would guess.', 'dadbauld: Thanks for the response! It’s good to hear that for the most part it works out well.\n\nI’m curious— has anyone here switched from Echo to HomePod?\n\nAlso, will I need to have/do anything special to ensure Matter works with this setup?', 'dadbauld: Thanks! I’ve also never heard of Proxmox, so I’ll look that up. I’m getting from your post that it is more reliable than windows? I also really like the idea of not having to make yet another purchase (RP 4).   \nIf I use the Homekit integration, will all of the devices automatically show up for my wife too? And will I have to do the same amount of organizing on her account?', 'peterxian: The “assist” [command is a shortcut](https://next.home-assistant.io/docs/assist/) you can add to your phone to route voice requests directly to the HA language processor. It’s limited for now, but quickly improving. So (eventually) you can say, “hey Siri, assist” and Siri replies, “ok” and anything you say after that goes to HA, like “how much time is left on the dyer?” and HA will send the answer to Siri without the dryer needing to be aware of HomeKit. Since Apple doesn’t actually make any of their own smart home gear, it’s up to device makers to request new types. I’d expect power monitoring to be added in a future update (Eve has energy monitors and is a big HomeKit client) but the rest could take a while.', '400HPMustang: Proxmox is a base OS for virtualizing servers…so yes it’s more reliable for this task. [Here’s the guide](https://community.home-assistant.io/t/installing-home-assistant-os-using-proxmox-7/201835) I was talking about. After you set everything up and bridge all of your devices over you just have to organize them in the home app once and you and your wife will be set. You will have to specifically bridge each device from HA to the Home app but that gets easier after the first mass effort', 'dadbauld: Very cool! Excited to see this get better.']"
1682717979.0	28-Apr-2023 14:39:39	Lorex 2K Doorbell - got it working in HA	senor_peligro	8	132am32	homeassistant	https://www.reddit.com/r/homeassistant/comments/132am32/lorex_2k_doorbell_got_it_working_in_ha/	"There's been a few posts about the Lorex 2K doorbell which I was going to reply to but I decided instead to create a new post for those interested in getting it to work in HA.  It was a struggle but I got button presses and motion detection working.

First step is that you have to install DahuaVTO2MQTT located here:

[https://github.com/elad-bar/DahuaVTO2MQTT](https://github.com/elad-bar/DahuaVTO2MQTT)

This represented my first problem.  There is an HA add-on that is very old and not supported so it has to be installed in a docker container (which I have never used before) and it only seems to work on AMD64 architecture.  So I wasn't able to run the docker on an RPI.  I had to create an Ubuntu VM on my always-on Windows Server and then install it there.  I won't go into great detail on setting up this docker as I am not an expert but I eventually was able to hack my way into setting it up.  But here are the contents of my docker-compose.yml file.  Note that the default username for the doorbell is admin.  The password is setup in the Lorex app when you add your doorbell.  It isn't the cloud account that you are forced to setup but the actual doorbell password.

`version: '3'`

`services:`

  `dahuavto2mqtt:`

`image: ""`[`registry.gitlab.com/elad.bar/dahuavto2mqtt:latest`](https://registry.gitlab.com/elad.bar/dahuavto2mqtt:latest)`""`

`container_name: ""dahuavto2mqtt""`

`hostname: ""dahuavto2mqtt""`

`restart: ""unless-stopped""`

`environment:`

`- DAHUA_VTO_HOST=<ip address of your doorbell<`

`- DAHUA_VTO_USERNAME=admin`

`- DAHUA_VTO_PASSWORD=<password that you setup on your doorbell>`

`- MQTT_BROKER_HOST=<ip address of your HA assuming that you installed mqtt there>`

`- MQTT_BROKER_PORT=1883`

`- MQTT_BROKER_USERNAME=<mqtt username>`

`- MQTT_BROKER_PASSWORD=<mqtt password>`

`- MQTT_BROKER_TOPIC_PREFIX=DahuaVTO`

`- MQTT_BROKER_CLIENT_ID=DahuaVTO2MQTT`

`- DEBUG=False`      

Once you've got that container running, you will need to enable the camera in HA by adding these lines to your configuration.yaml.

`allowlist_external_dirs:`

`- ""/config/tmp"" # You need this to capture pictures`

`ffmpeg:`

`camera:`

  `- platform: ffmpeg`

`name: Lorex 2K Doorbell`

`input: rtsp://admin:<password for doorbell>@<ip address for doorbell>`


You now have to reboot HA.  If not you will not be able to see the camera.

I also created a script to capture pictures from the doorbell using the camera settings above.  I added a delay of 2 seconds because I find that there is a small lag between the event trigger and the actual event.  And you will see that I always overwrite the picture in the /config/tmp/ directory.

`alias: Lorex 2K Doorbell Take Picture`

`sequence:`

  `- delay:`

`hours: 0`

`minutes: 0`

`seconds: 2`

`milliseconds: 0`

  `- service: camera.snapshot`

`data:`

`filename: /config/tmp/lorex_2k_doorbell_picture.jpg`

`target:`

`entity_id: camera.lorex_2k_doorbell`

`mode: single`

`icon: mdi:camera`


The next part took me a while to figure out.  At this point, MQTT should be able to receive messages from the doorbell and I had to figure out what was being sent.  I did this with MQTT Explorer (I am not an expert).  I eventually figured out that when you press the doorbell button, it publishes a topic ""DahuaVTO/PhoneCallDetect/Event"".  We are particularly interested in these messages where the action is ""Start"".  I saw that for each button press the doorbell sends a Start and Stop so you probably only want to trigger your automations once.  In the example automation below, I listen only for Start and then I send a message on discord with a picture.

`alias: Front door doorbell pressed (alert)`

`description: """"`

`trigger:`

  `- platform: mqtt`

`topic: DahuaVTO/PhoneCallDetect/Event`

`payload: Start`

`value_template: ""{{ value_json.Action }}""`

`condition: []`

`action:`

  `- service: script.lorex_2k_doorbell_take_picture`

`data: {}`

  `- service: notify.discord_ha_notification`

`data:`

`message: ""{{now().strftime(\""%Y-%m-%d %H:%M:%S\"")}} - Front door doorbell pressed""`

`target: <this is redacted>`

`data:`

`images:`

`- /config/tmp/lorex_2k_doorbell_picture.jpg`

`mode: single`

Detecting motion is very similar except you are waiting for the topic ""DahuaVTO/VideoMotion/Event"".  And again, you probably only want the Start action.

`alias: Front door doorbell motion detected (alert)`

`description: """"`

`trigger:`

  `- platform: mqtt`

`topic: DahuaVTO/VideoMotion/Event`

`payload: Start`

`value_template: ""{{ value_json.Action }}""`

`condition: []`

`action:`

  `- service: script.lorex_2k_doorbell_take_picture`

`data: {}`

  `- service: notify.discord_ha_notification`

`data:`

`message: >-`

`{{now().strftime(""%Y-%m-%d %H:%M:%S"")}} - Front door doorbell motion`

`detected`

`target: <this is redacted>`

`data:`

`images:`

`- /config/tmp/lorex_2k_doorbell_picture.jpg`

`mode: single`

I think that these were all my steps but if I missed anything please let me know."	0	[]
1682716470.0	28-Apr-2023 14:14:30	does this look safe?? (electricity meter)	Reasonable-Low-4778	0	132a0dv	homeassistant	https://www.reddit.com/gallery/132a0dv		13	"[""hannsr: Are those 80A breakers with exposed connectors? If yes, then no, this does not look safe to be near it.\n\nCan't really tell from the picture."", 'Grim-D: Thinks it looks OK, probably still best not to lick it though.', ""Llamas_arent_real: The earth clamps on the incomers are not good. They should be sweated on, not using compression for contact. Also the Dodge tape on the other phase going off through that pipe doesn't look great"", 'SamMalone10: Those Goblin stick vacs aren’t the best but I’d hardly call them unsafe.', 'joshkrz: If that\'s sticky black liquid running down those cables then I had a similar issue with a flat I rented where all the ceiling lights and sockets would ""bleed"" sticky green liquid.\n\nElectrician said it was the plasticiser in old wiring and it\'s not immediately unsafe but the whole flat needed to be rewired.', ""amarao_san: I think it's not wires, but a part of a seal."", ""Reasonable-Low-4778: I honestly have no clue, I'm 19 and left care last year and have no clue with this kind of stuff. Here's a slightly better picture if that helps\n\nhttps://preview.redd.it/la3tlkz0hqwa1.jpeg?width=2160&format=pjpg&auto=webp&v=enabled&s=324be21c28637294759b6f69ddeaa5d2dc1ca8b9"", 'hannsr: Yeah might be, hard to tell.', ""hannsr: Yeah looks like those are just the seals for the breaker, so that's normal. Doesn't look too bad then. I don't think it'd pass inspection here, but as long as there are no exposed wires or other metal stuff you could touch by accident you should be fine. \n\nAre you planning to change something there or just curious? I just rewired my entire house, including a new breaker box, but I'm not sure I'd touch your setup there."", ""amarao_san: I've just finished peeking around (the real electrician doing the real input into a flat, Cyprus). EAC (electrical authority) is providing sealed fuses, and they have absolutely no exposed places, and they go into the meter. Out of the meter there are wires going into the first breaker (RCB), which electrician is allowed to change."", ""Reasonable-Low-4778: Thank you. Nope just quite paranoid and curious and making sure I'm actually living in a safe flat 😅 as UK councils are known to do things very carelessly and I dont have a clue about this kinda stuff"", ""hannsr: Well it's hard to tell from a few pictures if it's actually safe. For that, a certified electrician on site would be the much better option. \n\nPersonally I don't see anything wrong, but it's also not great either. If that one breaker (the red one) trips I guess all of your flat is out of electricity, which isn't great, but also not terrible. \n\nI guess your kitchen and/or bathroom have separate protection circuitry? Usually a switch/button on an outlet you can press which trips a breaker. I've seen those in UK at least, not sure if you're required to have those. Sadly forgot what they are called. Basically a protection for areas with exposed metal (like stovetops, ovens) or wet areas so you are protected even if there is no direct short but for example water bridging mains power to a metal appliance which you'll eventually touch.\n\nEdit: GFCI protection is what I meant. Just looked it up."", ""AdorablePickles: The red switch is an isolation point, not a breaker that'll trip.\n\n/u/Reasonable-Low-4778 - Beyond reading your meter/adding credit etc, there's not really anything for you to _do_ here, and it would largely be illegal for you to do so. Your local DNO (the people who own the electricity network) own everything up to and including your meter, and those parts are their responsibility.\n\n\nThe part that's useful for you to know about is at the other end of those two grey cables coming out from your (red) isolation switch. They're called tails, and they head to your consumer unit (aka fuse box, breaker board, distribution board etc).\n\nOn your consumer unit, there's usually a liftable flap, behind which you'll see a row of switches, these are the breakers for the different circuits within your home. Do not unscrew or open anything to do with your consumer unit - just that flap and the row of breakers/switches are all you should be interacting with. You'll usually find your consumer unit in the back of kitchen cupboard, a closet or a hallway on the ground floor, it should be relatively close to the meter itself, as the tails are only allowed to be so long.\n\nI can understand the concern about how your meter board looks - but if it gives you any peace, that's quite a modern looking meter (especially given it's Zigbee-enabled) which means it was installed relatively recently. The DNO are responsible for that, and the electrician that installed it will have had to test it and submit photos to the DNO for their approval. If it was unsafe or unsatisfactory, they'd have sent the electrician back out to rectify it.""]"
1682715895.0	28-Apr-2023 14:04:55	Remote door sensor trigger	Bridgyrose	1	1329ry6	homeassistant	https://www.reddit.com/r/homeassistant/comments/1329ry6/remote_door_sensor_trigger/	"Got a problem that I'm not sure the best way to handle to fix, so looking for suggestions. 

I have a door sensor that I need to be able to trigger remotely, however, the set up I have right now isn't able to use an application to unlock a door remotely. It does, however, have a sensor that unlocks with movement. Any suggestions for either a remote controlled flap or otherwise that can generate movement to unlock the door when Im not in that room.

Replacing the system isn't an option currently."	0	[]
1682714556.0	28-Apr-2023 13:42:36	Need a simple way to achieve this outcome (home assistant, grocy , Barcode Buddy, Android Tablet)	AnOriginalName2021	0	13297sx	homeassistant	https://www.reddit.com/r/homeassistant/comments/13297sx/need_a_simple_way_to_achieve_this_outcome_home/	"I am running Proxmox as my Virtualization host.

I am running the Home Assistant OS 9.5 internal IP is 10.1.17.2

I have grocy in a LXC container at 10.1.17.3

I have Barcode Buddy in a LXC container at 10.1.17.7

I want to be able to scan a barcode using my Android Tablet and add it to Grocy. If it is not on file I want it to look up the barcode to see if it is in a public database and add it to Grocy and if it is not then I want to manually add it.

What is the simplest way to set this up so the inventory can be seen from any system on my lan."	0	[]
1682713258.0	28-Apr-2023 13:20:58	Need help getting local network access to the HA frontend.	revelstone77	2	1328nw9	homeassistant	https://www.reddit.com/r/homeassistant/comments/1328nw9/need_help_getting_local_network_access_to_the_ha/	I have remote access set up via duckdns and has been working fine for years. The problem is, which is exacerbated by the fact that my internet is offline at the moment, is that I can’t access HA locally. If I try to access the local IP of HA all I get is “ this page isn’t working right now”. I would really like to access my dashboard. All automations are working perfectly, thank goodness, but I can’t turn lights or fans on or off. What am I missing?	7	"['fuckingreddit666: I have the same issue, but I found i can access locally on https, I get a warning saying the connection is not secure but it connects fine on pc just not through the app', 'sleekelite: Just to clarify, you access http://localip:8123/.  If that doesn’t work then you’ll need to use something like curl to debug the misconfiguratuon.', 'LamerTex: You need to add a ""reverse proxy"" [I\'ve used this guide](https://peyanski.com/home-assistant-remote-access-using-nginx/). \n\nWith it you can always access, with https when you are away and it will become http when you are in your network so you don\'t have certificate warning and also the app will work', 'revelstone77: When the internet is working if I access localip:8123 I get a certificate warning which is why I had to access it externally. I have no idea how to go about using curl to troubleshoot it.', 'sleekelite: Ok, so you configured some remote access proxy on that port.  You can either not do that (my recommendation - pay for nabucasa or use Tailscale instead) or ignore the cert warning.', 'LamerTex: You need to add a ""reverse proxy"" [I\'ve used this guide](https://peyanski.com/home-assistant-remote-access-using-nginx/)', 'revelstone77: Thanks. That looks promising. As soon I get internet back I’ll go down that rabbit hole']"
1682711728.0	28-Apr-2023 12:55:28	Google coral installation	sero_t	1	132809u	homeassistant	https://www.reddit.com/r/homeassistant/comments/132809u/google_coral_installation/	"In short: help needed with installing tpu in HA OS.

In long:
Hi guys, i am like you maybe saw from my earlier post a noob in these kind of things. But i am trying to figure things out even with the help of chstgpt3 i am not getting any further.  

I have a HP t620 thinclient, 4core 8 gb ram amd. I have installed home assistant OS latest version on it, i used the firmware x86-64 generic. I am very pleased with the performance, but not so with how some simple stuff can get complicated. I understand that this is for more people with experience, but these kind of things could help us noobs get experience.

I have frigate up and running for couple months now, it works nice, sometimes only some errors in the log i don't get, but they don't bother.

But now i have received my tpu first i ordered the coral dual edge tpu, knowing that most likely only 1 tpu will work but i saw there are adapters from bluesmoke for that of needed the double tpus.
But couldn't get this working. So i searched and since i had waited for 6 months for that to receive i now saw the m.2 B+M key version available with 2 days shipping.  So i immediately bought it, now i am trying to get this up and running. But i already get stuck at the point of following the steps discribed on the google coral page. Is there any of you who likes to help me or through here or through a private chat?
When i try the first echo code installing the drivers i receive an error, i tried just booting up without any installation and it seemed to recognize that it had a tpu, i saw it in the log of frigate after setting up the detectors,  but it seemed like it didn't know how to use it. If any of you could help me out i will post on the forum and here a step by step noob guide to help others with it. Because this is such a great pain in the behind. Kind regards for already reading this long story.

Edit: my goal is facial recognition, but i want to learn the steps in between and also i don't know how fast i am going to learn to use docker. I already tried it a bit but couldn't figure it out, so i started with HA OS."	9	"['nickm_27: HA OS already comes with the coral drivers included so there is no reason to worry about that. Assuming that your adapter is working, you will see /dev/apex_0 and /dev/apex_1 devices available', 'gjs520820: > i tried just booting up without any installation and it seemed to recognize that it had a tpu, i saw it in the log of frigate after setting up the detectors, but it seemed like it didn\'t know how to use it\n\nWhat made you think Frigate didn\'t know how to use it?  Did you get an error? Did Frigate\'s debug page show ""coral"" as the detector and show an inference speed?   Normally if Frigate\'s log indicates it detected the TPU, you are up and running on the coral.', 'sero_t: I know that is what i have read on most pages but it keeps freezing up frigate. I will try to put it in again and post the error messages', ""sero_t: I only have one cam in it and it is 1920x1080 so not 8k or something and it completely stuck and loaded 1 frame and then gave a white screen for 20 seconds. This a couple times then it gave a error in the frigate card and when i checked the addon was not loaded anymore.  But now my whole system after removing the tpu doesn't boot.  So i am trying to figure out, but my baby is now sleeping in my arms so need to wait until she is up"", 'sero_t: This is (1 of? ) the error(s) i could find in my copy paste history,\n\nValueError: Failed to load delegate from libedgetpu.so.1.0 2023-04-28 13:24:29.221670326 2023-04-28 13:24:29.229699791 [2023-04-28 15:24:29] frigate.app INFO : Capture process started for Voordeur: 310 2023-04-28 13:24:34.051528564 [INFO] Starting go2rtc healthcheck service... 2023-04-28 13:24:34.796650916 172.30.32.1 - - [28/Apr/2023:15:24:34 +0200] ""GET /api/stats HTTP/1.1"" 200 2094 ""-"" ""HomeAssistant/2023.4.6 aiohttp/3.8.4 Python/3.10"" ""-""', ""sero_t: Ok git it back up running with the tpu, the ssd decided not to work without the tpu anymore or i couldn't connect to HA anymore, i didn't have a monitor to check st that time. But these are the errors in the frigate card\n\nhttps://preview.redd.it/e7dm24bnmtwa1.jpeg?width=720&format=pjpg&auto=webp&v=enabled&s=ae3e3157f01a280c072cdb133b108fff255d338f"", 'sero_t: These are the errors from the log\n\n2023-04-29 07:16:07.786929375 [INFO] Got IP address from supervisor: xxxxxx 2023-04-29 07:16:07.905023133 [INFO] Got WebRTC port from supervisor: 8555 2023-04-29 07:16:08.701647433 [INFO] Starting go2rtc... 2023-04-29 07:16:08.921180245 09:16:08.921 INF go2rtc version 1.2.0 linux/amd64 2023-04-29 07:16:08.922664398 09:16:08.922 INF [api] listen addr=:1984 2023-04-29 07:16:08.924133040 09:16:08.923 INF [rtsp] listen addr=:8554 2023-04-29 07:16:08.925422120 09:16:08.925 INF [srtp] listen addr=:8443 2023-04-29 07:16:08.926620933 09:16:08.926 INF [webrtc] listen addr=:8555 2023-04-29 07:16:10.356768531 2023/04/29 09:16:10 [error] 138#138: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.30.32.1, server: , request: ""GET /api/stats HTTP/1.1"", upstream: ""http://127.0.0.1:5001/stats"", host: ""ccab4aaf-frigate:5000"" 2023-04-29 07:16:10.356921007 172.30.32.1 - - [29/Apr/2023:09:16:10 +0200] ""GET /api/stats HTTP/1.1"" 502 157 ""-"" ""HomeAssistant/2023.4.6 aiohttp/3.8.4 Python/3.10"" ""-"" 2023-04-29 07:16:12.642785062 [2023-04-29 09:16:12] frigate.app INFO : Starting Frigate (0.12.0-da3e197) 2023-04-29 07:16:12.709207953 [2023-04-29 09:16:12] frigate.app INFO : Creating directory: /tmp/cache 2023-04-29 07:16:12.716940548 [2023-04-29 09:16:12] peewee_migrate INFO : Starting migrations 2023-04-29 07:16:12.733340359 [2023-04-29 09:16:12] peewee_migrate INFO : There is nothing to migrate 2023-04-29 07:16:12.778863146 [2023-04-29 09:16:12] detector.coral1 INFO : Starting detection process: 300 2023-04-29 07:16:12.788411221 [2023-04-29 09:16:12] frigate.detectors.plugins.edgetpu_tfl INFO : Attempting to load TPU as pci:0 2023-04-29 07:16:12.799072760 [2023-04-29 09:16:12] frigate.app INFO : Output process started: 302 2023-04-29 07:16:12.800486541 [2023-04-29 09:16:12] frigate.detectors.plugins.edgetpu_tfl ERROR : No EdgeTPU was detected. If you do not have a Coral device yet, you must configure CPU detectors. 2023-04-29 07:16:12.800501286 Process detector:coral1: 2023-04-29 07:16:12.804082656 Traceback (most recent call last): 2023-04-29 07:16:12.804263520 File ""/usr/lib/python3/dist-packages/tflite_runtime/interpreter.py"", line 160, in load_delegate 2023-04-29 07:16:12.804268799 delegate = Delegate(library, options) 2023-04-29 07:16:12.804340953 File ""/usr/lib/python3/dist-packages/tflite_runtime/interpreter.py"", line 119, in __init__ 2023-04-29 07:16:12.804345743 raise ValueError(capture.message) 2023-04-29 07:16:12.804498354 ValueError 2023-04-29 07:16:12.804644100 2023-04-29 07:16:12.804649539 During handling of the above exception, another exception occurred: 2023-04-29 07:16:12.804651919 2023-04-29 07:16:12.804760925 Traceback (most recent call last): 2023-04-29 07:16:12.804950855 File ""/usr/lib/python3.9/multiprocessing/process.py"", line 315, in _bootstrap 2023-04-29 07:16:12.804954968 self.run() 2023-04-29 07:16:12.805060253 File ""/usr/lib/python3.9/multiprocessing/process.py"", line 108, in run 2023-04-29 07:16:12.805065101 self._target(*self._args, **self._kwargs) 2023-04-29 07:16:12.805167599 File ""/opt/frigate/frigate/object_detection.py"", line 98, in run_detector 2023-04-29 07:16:12.805172599 object_detector = LocalObjectDetector(detector_config=detector_config) 2023-04-29 07:16:12.805276526 File ""/opt/frigate/frigate/object_detection.py"", line 52, in __init__ 2023-04-29 07:16:12.805281354 self.detect_api = create_detector(detector_config) 2023-04-29 07:16:12.805389627 File ""/opt/frigate/frigate/detectors/__init__.py"", line 24, in create_detector 2023-04-29 07:16:12.805393968 return api(detector_config) 2023-04-29 07:16:12.805498761 File ""/opt/frigate/frigate/detectors/plugins/edgetpu_tfl.py"", line 37, in __init__ 2023-04-29 07:16:12.805504122 edge_tpu_delegate = load_delegate(""libedgetpu.so.1.0"", device_config) 2023-04-29 07:16:12.805631973 File ""/usr/lib/python3/dist-packages/tflite_runtime/interpreter.py"", line 162, in load_delegate 2023-04-29 07:16:12.805637082 raise ValueError(\'Failed to load delegate from {}\\n{}\'.format( 2023-04-29 07:16:12.805786010 ValueError: Failed to load delegate from libedgetpu.so.1.0 2023-04-29 07:16:12.805789853 2023-04-29 07:16:12.819170713 [2023-04-29 09:16:12] frigate.app INFO : Camera processor started for Voordeur: 307 2023-04-29 07:16:12.834329739 [2023-04-29 09:16:12] frigate.app INFO : Capture process started for Voordeur: 309 2023-04-29 07:16:17.684443325 [INFO] Starting go2rtc healthcheck service... 2023-04-29 07:16:18.655067375 172.30.32.1 - - [29/Apr/2023:09:16:18 +0200] ""GET /api/stats HTTP/1.1"" 200 2094 ""-"" ""HomeAssistant/2023.4.6 aiohttp/3.8.4 Python/3.10"" ""-"" 2023-04-29 07:16:26.655198999 172.30.32.1 - - [29/Apr/2023:09:16:26 +0200] ""GET /api/stats HTTP/1.1"" 200 2069 ""-"" ""HomeAssistant/2023.4.6 aiohttp/3.8.4 Python/3.10"" ""-"" 2023-04-29 07:16:33.121255203 [2023-04-29 09:16:33] frigate.watchdog INFO : Detection appears to have stopped. Exiting Frigate... s6-rc: info: service legacy-services: stopping s6-rc: info: service legacy-services successfully stopped s6-rc: info: service nginx: stopping s6-rc: info: service go2rtc-healthcheck: stopping 2023-04-29 07:16:33.154379836 [INFO] The go2rtc-healthcheck service exited with code 256 (by signal 15) s6-rc: info: service go2rtc-healthcheck successfully stopped 2023-04-29 07:16:33.183494904 [INFO] Service NGINX exited with code 0 (by signal 0) s6-rc: info: service nginx successfully stopped s6-rc: info: service nginx-log: stopping s6-rc: info: service frigate: stopping 2023-04-29 07:16:33.189852995 [2023-04-29 09:16:33] frigate.app INFO : Stopping... s6-rc: info: service nginx-log successfully stopped 2023-04-29 07:16:33.194309734 [2023-04-29 09:16:33] frigate.record INFO : Exiting recording maintenance... 2023-04-29 07:16:33.194879553 [2023-04-29 09:16:33]', ""sero_t: Followup:\nfrigate.record INFO : Exiting recording maintenance... 2023-04-29 07:16:33.194879553 [2023-04-29 09:16:33] frigate.events INFO : Exiting event cleanup... 2023-04-29 07:16:33.196933110 [2023-04-29 09:16:33] frigate.watchdog INFO : Exiting watchdog... 2023-04-29 07:16:33.199391159 [2023-04-29 09:16:33] frigate.stats INFO : Exiting stats emitter... 2023-04-29 07:16:33.199783618 [2023-04-29 09:16:33] frigate.storage INFO : Exiting storage maintainer... 2023-04-29 07:16:33.200390310 [2023-04-29 09:16:33] frigate.record INFO : Exiting recording cleanup... 2023-04-29 07:16:33.200812683 [2023-04-29 09:16:33] frigate.object_processing INFO : Exiting object processor... 2023-04-29 07:16:33.271195665 [2023-04-29 09:16:33] frigate.comms.ws INFO : Exiting websocket client... 2023-04-29 07:16:34.149780688 [2023-04-29 09:16:34] frigate.events INFO : Exiting event processor... 2023-04-29 07:16:34.150162348 [2023-04-29 09:16:34] peewee.sqliteq INFO : writer received shutdown request, exiting. 2023-04-29 07:16:34.155182827 [2023-04-29 09:16:34] watchdog.Voordeur INFO : Terminating the existing ffmpeg process... 2023-04-29 07:16:34.155429054 [2023-04-29 09:16:34] watchdog.Voordeur INFO : Waiting for ffmpeg to exit gracefully... 2023-04-29 07:16:34.268762070 [2023-04-29 09:16:34] watchdog.Voordeur INFO : Terminating the existing ffmpeg process... 2023-04-29 07:16:34.269194598 [2023-04-29 09:16:34] watchdog.Voordeur INFO : Waiting for ffmpeg to exit gracefully... 2023-04-29 07:16:34.383259915 [2023-04-29 09:16:34] frigate.output INFO : exiting output process... 2023-04-29 07:16:38.813145630 /usr/lib/python3.9/multiprocessing/resource_tracker.py:216: UserWarning: resource_tracker: There appear to be 5 leaked shared_memory objects to clean up at shutdown 2023-04-29 07:16:38.813157775 warnings.warn('resource_tracker: There appear to be %d ' 2023-04-29 07:16:38.823241224 [INFO] Service Frigate exited with code 0 (by signal 0) s6-rc: info: service frigate successfully stopped s6-rc: info: service go2rtc: stopping s6-rc: info: service frigate-log: stopping 2023-04-29 07:16:38.831229303 exit OK s6-rc: info: service frigate-log successfully stopped 2023-04-29 07:16:38.848768221 [INFO] The go2rtc service exited with code 0 (by signal 0) s6-rc: info: service go2rtc successfully stopped s6-rc: info: service go2rtc-log: stopping s6-rc: info: service go2rtc-log successfully stopped s6-rc: info: service log-prepare: stopping s6-rc: info: service s6rc-fdholder: stopping s6-rc: info: service log-prepare successfully stopped s6-rc: info: service legacy-cont-init: stopping s6-rc: info: service s6rc-fdholder successfully stopped s6-rc: info: service legacy-cont-init successfully stopped s6-rc: info: service fix-attrs: stopping s6-rc: info: service fix-attrs successfully stopped s6-rc: info: service s6rc-oneshot-runner: stopping s6-rc: info: service s6rc-oneshot-runner successfully stopped"", ""sero_t: And this is my frigate configuration\n\nmqtt:\r\n  host: xxxxxxxxx\r\n  user: xxxxxxxxx\r\n  password: xxxxxxxxxxx\r\n\r\nbirdseye:\r\n  enabled: False\r\n\r\nffmpeg:\r\n  global_args:\r\n    - -hide_banner\r\n    - -loglevel\r\n    - info\r\n  input_args:\r\n    - -avoid_negative_ts\r\n    - make_zero\r\n    - -fflags\r\n    - +genpts+discardcorrupt\r\n    - -rtsp_transport\r\n    - tcp\r\n    - -timeout\r\n    - '5000000'\r\n    - -use_wallclock_as_timestamps\r\n    - '1'\r\n    \r\ncameras:\r\n  Voordeur:\r\n    ffmpeg:\r\n      inputs:\r\n        - path: rtsp://xxxxxxxxxxx/live/ch00_1\r\n          roles: \r\n            - detect\r\n        - path: rtsp://xxxxxxxxxxx/live/ch00_0\r\n          roles: \r\n            - record\r\n    detect:\r\n      width: 640\r\n      height: 480\r\n      fps: 5\r\n    objects:\r\n        track:\r\n            - person\r\n    snapshots:\r\n      enabled: True\r\n      bounding_box: True\r\n      retain:\r\n        default: 5\r\n    record:\r\n      enabled: True\r\n      retain:\r\n        days: 7\r\n    rtmp:\r\n      enabled: False\r\n      \r\ndetectors:\r\n coral1:\r\n  type: edgetpu\r\n  device: pci:0""]"
1682710407.0	28-Apr-2023 12:33:27	Media stream from rpi	mliko153	2	1327gkp	homeassistant	https://www.reddit.com/r/homeassistant/comments/1327gkp/media_stream_from_rpi/	Hi is there any possible way to stream from services such as Netflix or HBO directly from rpi HA with HDMI cable? (Basically use the rpi as HA server and smart TV at once) thx for tips	3	"[""alex3305: Not easily. Home Assistant (OS) is a [headless system](https://en.wikipedia.org/wiki/Headless_computer). What you want to do is install a desktop Linux OS on your Pi such as Debian or Ubuntu and install Home Assistant in there. Than you can do what you want. But these installs are unsupported and you'll have to do it on your own."", 'mliko153: Thanks for info. I need another rpi then :D', 'N2Problem: Are you sure that a Raspberry Pi is your best choice for streaming? Chromecasts/Fire TV sticks are easier to use, sometimes cheaper and also support 4K due to DRM support']"
1682710017.0	28-Apr-2023 12:26:57	How to get local tuya local key?	adaks86cool	1	1327asl	homeassistant	https://www.reddit.com/r/homeassistant/comments/1327asl/how_to_get_local_tuya_local_key/	"I had to reset my old local tuya integration as I got a new wifi router.

&#x200B;

But now I keep getting token invalid from tuya, like I'm blocked from the api.

&#x200B;

https://preview.redd.it/da46ytn9fowa1.png?width=1260&format=png&auto=webp&v=enabled&s=b6c7296d0e9315e55e5b2cfd96d40de5f5052601

&#x200B;

Please help, I'm really annoyed about this."	5	"[""Node815: You're Close!!\n\nAPI Explorer-> General Devices Management -> Get Device Information\n\nEnter your device ID and then it will dump the data and output your local key.  Be aware, resetting your device often reassigns a new key. \n\nAlso, Tuya likes to move things around so this location may change, but as of my reply, it's there."", 'noneofyourbizwax: Check out [this tutorial](https://www.youtube.com/watch?v=YKvGYXw-_cE&ab_channel=MarkWattTech )', 'adaks86cool: hey, thanks so much for the reply, but it seems like the tuya api just doesnt work for me, i tried making a new tuya account, a new smart life account, reconnecting my bulb continously but no matter what i get that error. seems like i will just have to use the non local tuya\n\nhttps://preview.redd.it/ob8barpusqwa1.png?width=1274&format=png&auto=webp&v=enabled&s=c3962476c05a909ddfd207b74c1c4c9674ee0efe', 'Shooter_Q: Agree with this. Way simpler method IMO.']"
1682709873.0	28-Apr-2023 12:24:33	Calendar Event listed in Card	techfreakdad	1	13278oi	homeassistant	https://www.reddit.com/r/homeassistant/comments/13278oi/calendar_event_listed_in_card/	" 

Looking for help in calling out a single calendar event. I've created a separate iOS calendar ('dinner') that has a repeating event at 5:30. The entry is tonight's dinner item- main purpose is to stop the kids from asking ""what's for dinner?"". 

I've been unable to call out this calendar event into a card that simply pulls the event name, which would be the dinner name I've entered into the calendar.

Any suggestions/ advice on how to make this work?"	2	"['sleekelite: surely filtering in atom calendar would do this?', ""techfreakdad: surely could be done in atomic, but I'm not looking for a calendar view, but rather to display the text from a specific event.""]"
1682709628.0	28-Apr-2023 12:20:28	Year Of The Voice Chapter 2 - Overview	MarkWattTech	1	13275be	homeassistant	https://youtu.be/RH4nKCXzJFg		1	"[""MarkWattTech: It's mind-blowing how fast this has all come together. Amazing work Home Assistant Team and all community members involved. Roll on Chapter 3!""]"
1682708853.0	28-Apr-2023 12:07:33	Retrieve backup file from failing SD card	germanthoughts	2	1326too	homeassistant	https://www.reddit.com/r/homeassistant/comments/1326too/retrieve_backup_file_from_failing_sd_card/	"So it seems my SD card finally gave out. My last manual backup (that I downloaded) is from July ‘22. However, I know HA makes an automatic backup every time I upgrade. Is there any way to find those files on my SD card?

I don’t think my card is completely shot, but shot enough for HA to no longer boot properly…"	14	"['AnxiouslyPessimistic: Looks like others have got you covered in getting it back. So I’ll just add there’s an excellent add on to do backups to google drive. I do an automatic one to Drive every night', 'Cezza168: https://preview.redd.it/xgwz81w90qwa1.jpeg?width=1290&format=pjpg&auto=webp&v=enabled&s=84b7dbe54960cd663b6d31aa674710c90eb1a955\n\nBackup folder probably.', 'alex3305: You should be able to read out the SD contents with a microSD reader and a Linux installation. The backup files should be on there if the card is still accessible.', 'germanthoughts: Yep found it!!! There’s a few ~10MB ones and then a couple of really small ones (~10kb):\nhttps://i.imgur.com/0PIAvdn.jpg\n\nAny idea what the little ones are?', 'germanthoughts: Cool! Any way to do this from macOS?', 'Cezza168: A full backup for my system is around 150mb. Best guess is that these are all partial backups - useful for restoring a working system back to a previous state. \n\nDid you ever manually take a full backup?', ""alex3305: I think so, although I'm not familiar enough with macOS to know for sure."", 'germanthoughts: I don’t think I did. :/ so a partial backup won’t get me back to where I was when I set up from new and then restore?', 'jdjvbtjbkgvb: The size depends a lot on the installation. The 10mb one could be a full one as well.', 'germanthoughts: Ok got full access to the SD card and found a backup file from February. Good enough. \n\nIs that that best way to get my system going again or should I copy any other files?', ""alex3305: No. Just start with a fresh install and restore your backup. Maybe you'll need some hardware assignments. But other than that you are good to go!"", 'germanthoughts: That’s great! I previously had a Zigbee stick in my Raspberry Pi (with Zigbee2Mqtt) but now I’m installing it on a Home Assistant Yellow which has an integrated Zigbee radio. Do you know if my Zigbee devices will still work after the restore or if I can get them to work again?', ""alex3305: Whenever you change coordinator you'll need to re-pair everything again."", 'germanthoughts: Oh lordy…']"
1682707177.0	28-Apr-2023 11:39:37	Measuring power consumption of Amana Furnace	brandorf	2	13261zl	homeassistant	https://www.reddit.com/r/homeassistant/comments/13261zl/measuring_power_consumption_of_amana_furnace/	"I've got an Amana furnace, and I want to monitor energy use as we go into summer.  It's got ""CoolNet"" integration, and I can actually control many internal functions with an app on my phone, but there's no HomeAssistant integration as far as I've been able to find.  My Nest thermostat gives me enough control over it anyway, but I would like to measure power use.  Any advice on what to get for that?"	0	[]
1682707090.0	28-Apr-2023 11:38:10	AdGuard Setup	michaelthompson1991	1	13260mc	homeassistant	https://www.reddit.com/r/homeassistant/comments/13260mc/adguard_setup/	"So I’m wanting to try AdGuard but just on my iPad and iPhone for now, then if I’m happy ill put it into my eero router. Have some questions though.

1 - I have Tailscale setup to run HA outside the home, do I need to do anything different because I’m running this?

2 - When it says host, I assume that’s just the local IP of my Pi? Does Tailscale make any difference here?

3 - It says port 3000 but I’ve heard people using different ports, which port do I choose?

4 - When it says username and password, does this mean I have to create an account initially on the AdGuard website? This is no problem I just want to know the correct process.

Thanks everyone!"	0	[]
1682706419.0	28-Apr-2023 11:26:59	What are some lesser known integrations (not requiring physical hardware) that you love?	AssDimple	260	1325q0v	homeassistant	https://www.reddit.com/r/homeassistant/comments/1325q0v/what_are_some_lesser_known_integrations_not/	"I'm a bit of a data geek (like many of you I assume) and love finding random integrations/add-ons that help scratch that itch.  

My most recent discoveries were [IQVIA](https://www.home-assistant.io/integrations/iqvia) which pulls in allergy, asthma, and flu data based on your location.  This one makes for some great visualizations and grafana dashboards. 

The other one that I found, which had serious potential but turned out to be a dud, is [OpenSky](https://www.home-assistant.io/integrations/opensky/).  This integration creates a radius around your house and then identifies when an aircraft is within that radius.  Unfortunately, the OpenSky integration isn't functioning properly so I wasn't able to use it.  

Does anyone else have any similar style integrations/add-ons that most people don't know about?  I'd love to hear them.

Thanks"	134	"[""BriggsWellman: The scrape integration is so powerful. Very underrated feature if you can get it to scrape correctly. You can pull almost any data from almost any website as long as it isn't behind a login."", ""BHSPitMonkey: Adaptive Lighting is the one I couldn't live without. It manages the brightness/temperature curves of all my lights throughout the day just how I want them set (brighter/cooler during the day, dimmer/warmer later at night)."", 'linuxfrickler: The built-in IMAP Integration. Monitor your mailbox for specific emails and trigger automations or create sensors from text, dates, numbers in that emails. Very nice.', 'arenasa1970: Powercalc , let me create virtual Energy consumption entities to estimate power usage', ""RuthlessPickle: This is not a lesser known one but the Home Assistant Companion App can really pull a lot of info from your phones, tablets, etc.\n\nI'm currently monitoring my battery levels, storage across all devices, steps taken, etc."", ""ecto1a2003: I haven't used it yet but I found the theme park wait time Integration. I'm collecting data for best times for particular rides"", 'happysolo: If you’re in the UK, the integration ‘Environment Agency Flood Gauges’ let’s you see river levels across the country.', 'doiveo: My garbage and recycling pickups happen every two weeks at 7am and I often missed it.\n\nBut then I added [Waste Collection Schedule ](https://github.com/mampfes/hacs_waste_collection_schedule) and now I can see days to next pickup and tell Alexa to remind me the evening before.', 'MOONGOONER: I was using [Team Tracker](https://github.com/vasqued2/ha-teamtracker) not only to glance at scores during a game, but I but I used it to trigger lights outside my house to show team colors whenever a game started.', 'Necessary_Ad_238: Just stumbled across the Tautulli integration (for Plex analytics). Digging it.\n\nhttps://www.home-assistant.io/integrations/tautulli', 'angrycatmeowmeow: https://github.com/moralmunky/Home-Assistant-Mail-And-Packages', ""xdetar: All my machines with a docker stack are running a Glances container so I can get resource stats for all of them in HA.\n\nI also get weather data from a neighbour's fancy pants weather station through wunderground."", 'uuberr: I love location-based anything since my HASS is installed on an Airstream that we move to a new place every week or two. The problem is that many services require a hard-coding of your location, making it impossible to dynamically update on each move. \n\nI use a GPS sensor to automatically update the location on a Windy map ([see here](https://boathackers.com/dynamically-set-location-in-home-assistant-for-boats/)). \n\nI’ve hooked up OpenAI through Node-RED to take that lat/long, convert it to a “City, State” combo for displaying on our dashboard, generate an “iconic image” of that city at this time of year, and a fun fact or recommendation to explore based on today’s weather. All of this refreshes nightly, so it accounts for changes in location AND gives us new pictures and facts each day we stay put.\n\nWould love to do something dynamic with IQVIA, but it looks like another hard-coded zip code. Anything else folks have figured out how to dynamically update?\n\nAnd, for god sakes, when will I be able to dynamically update my time zone?!?!', 'Cezza168: [Leofabri](https://github.com/leofabri/hassio_appliance-status-monitor) appliance status monitor blueprint.', ""codliness1: This is a cool thread for monitoring - I had a rabbit hole moment with HACS the other day, just looking at all the possible integrations, had to stop looking or I'd have gotten nothing done the whole day. Soooo many possibilities."", ""Howvian: I have not set it up yet but if you're using thermostats this could help save time doing automations https://better-thermostat.org"", ""No_beef_here: I don't think I've seen it mention and I don't remember it being the easiest to set up (especially as I was quite new to HA at the time) but I've found the [WAQI](https://smarthomescene.com/guides/world-air-quality-index-in-home-assistant/) (World Air Quality Index) sensor quite interesting.\n\nI have one set up for North London and you can watch the result of the the rush hours and when there is no wind to blow the pollution away (well, elsewhere). ;-("", 'Vegetable_Novel2490: I really like ""virtual components"" [https://github.com/twrecked/hass-virtual](https://github.com/twrecked/hass-virtual)\n\nIt lets me create ""virtual"" lights, switches, binary sensors, sensors, locks, fans, and device trackers.\n\nWhy would you want this? Because it makes designing dashboards, automations, etc. super easy. Instead of having to use proper devices (and thus potentially breaking automations, lighting setups, etc) you can create a virtual device and set up the automation / dashboard / etc. with the virutal device. Then, when everything works, you simply swith the entity from the virtual device to the ""real life"" device.   \n\n\nI\'m setting up HA for my new house and am ""planning"" everything with virtual devices, since obv. I can\'t yet use real lights, etc. (as they aren\'t installed yet).', 'mouthpiec: waze travel time.... amazing to graph traffic patterns', 'Xerxero: Solaredge data can be integrated in the dashboard.', 'majordingdong: I have an integration called [Eloverblik](https://github.com/JonasPed/homeassistant-eloverblik) that shows my households total electricity consumption on an hourly basis. \n\nI get the electricity prices from the [Nordpool-integration](https://github.com/custom-components/nordpool). \nI multiply consumption and price to get hourly costs.', 'lenswipe: Well that\'s neat. My wife has been suffering with asthma the last few days. Thanks to your post I just found out about IQVIA...so I went and wrote this:\n\n\n    - alias: \'Allergy Notification\'\n      id: notify_daily_allergy_levels\n      trigger:\n        - platform: time\n          at: \'05:30\'\n      \n      condition:\n        alias: ""Are any of todays indeces high?""\n        or:\n        - condition: numeric_state\n          entity_id: ""sensor.allergy_index_today""\n          above: 2.5\n        - condition: numeric_state\n          entity_id: ""sensor.asthma_index_today""\n          above: 2.5\n\n      action:\n      - service: notify.notify_wife_pixel_2\n        data:\n            title: ""🤧 Allergy Alert 🤧""\n            message: ""\n            Asthma index: {{ states(\'sensor.asthma_index_today\') }}\n              ({{ state_attr(\'sensor.asthma_index_today\', \'rating\') }}).<br>\n            Allergy index: {{ states(\'sensor.allergy_index_today\') }}\n              ({{ state_attr(\'sensor.allergy_index_today\', \'rating\') }}).""', 'gandzas: Waze travel time - if the time to work is 10 minutes greater than the usual time, the LED on my inovelli switch will turn yellow, if it is more than 15 minutes greater, it turns red.', 'byteofhash: I recently added the [AirNow AQI](https://www.home-assistant.io/integrations/airnow/) sensor', 'matthewgutz: IQVIA looks interesting. Curious how your visualization looks', ""kelzin: You can take this one step further with the [Multiscrape](https://github.com/danieldotnl/ha-multiscrape) plugin via HACS. I'm able to scrape the rates from my electric provider which is behind a login."", 'masterofmoneyzz: Got a good example for learning it?', 'jwildman16: Can you use it to watch a site for changes?', 'Matt_Shatt: Yes I love this one!', 'Time-Button4999: How does this compare to hue?', 'Apprentice-Cucumber: Is it like Circadian Lighting?', ""Amenra7: Am I able to run this at certain times? In the evening we like to switch to rgb scenes, I'm concerned that there will be a conflict."", ""notthefirstryan: Yup, I literally have adaptive lighting integration for every smart light (or light group) I have indoors and it's a part of my life now. Occasionally we turn one off for whatever reason and if we forget to turn it back on it's crazy how off-putting I now find it to walk in a room at night and be greeted with cool/bright lights."", ""mastakebob: Does it work with dimmer switches that don't have temperature control?"", ""Sym0n: I've always wondered with this one, do you have your lights on all the time or can you turn them off and the next time you switch then on it adjusts for the time of day etc?"", 'chrisron95: Does this use the light profiles? I tried setting this (or maybe something similar) and it used light profiles… but there was absolutely no information on what light profiles actually are or how to use them so I could never make it any further', ""fruitytootiebootie: This one killed my crappy Lenovo (tuya) wifi bulbs. They all just constantly flash between soft white and bright white now.\n\nAll of my hue and sengled zigbee bulbs are fine so I just wouldn't recommend with cheap bulbs unless you want a reason to replace them."", 'AssDimple: This seems like a fun rabbit hole.  Thanks!', 'pixel_of_moral_decay: Email is OG API.', 'Bisket1: Oh my god… I didn’t know about this. \n\nI have HA set up at my gym, this is my current setup\n\nGym login info is sent to email. Which is then sent to zapier, which gets sent back to HA through webhooks. Now I get to cut out all of the excess bullshit. Hells yeah', '863dj: Would this work for my company ran Exchange server?\n\nI’m currently forwarding certain emails to Zapier and creating automations but would be cool to manage myself instead.', 'qupada42: I\'m using the time my phone\'s alarm is set for to run a slow fade-up of the bedroom lights as a ""soft"" wakeup starting 30 minutes prior.\n\nRather than having the automation set for a fixed time, if I change the alarm time on my phone - or turn it off completely - the automation still runs (or not) at the right time.', ""Philip_K_Fry: I use the companion app as a ble sensor.  Everybody seems to think the only way to effectively use ble with HA is to set up a dedicated ESPH receiver using the phone as the transmitter but the companion app works perfectly as a receiver.  This way you can place a cheap ble transmitter basically anywhere and have it trigger an HA automation anytime your phone is in range without needing a constant power supply or network connection to the transmitter (EDIT: provided your phone has internet access).  Any time I mention my use case in a forum people incredulously tell me it's not possible even though I have functional automations that say otherwise."", 'kjwilso: I have a wireless charging dock that I place my phone on while working, but I don’t want it to charge when my phone is above say 30%. I have been meaning to use a smart outlet on the charger and setup an automation to turn it on  and off depending on my phone’s battery level.', ""tfski: +1  My two favorite uses of sensors from the Companion App that I use heavily:\n\nI don't always wake up on a set schedule.  If I'm going fishing, I usually wake up really early, but for work I don't wake up until 6 am.  So, I have an automation to turn on the espresso machine (requires a 30 minute warm up) 30 minutes before my next alarm if my next alarm is after 2 am and before noon.\n\nSecond, if my partner or I return home and we're connected to Android Auto, then the garage door automatically opens."", 'gckless: Yeah this integration is nice. I use it to manage charging of my tablet that I use as a kiosk. I have an automation set up that turns on an outlet that has a charger whenever the tablet gets to 20% and turns it off at 85%.', 'purayesca: Definitely fun to look at periodically... \n\nhttps://preview.redd.it/qnp60bnnvpwa1.png?width=510&format=png&auto=webp&v=enabled&s=f13333b50d41b58a84f5becfde08ef5cf34d67d8\n\n[https://github.com/danielsmith-eu/home-assistant-themeparks-integration](https://github.com/danielsmith-eu/home-assistant-themeparks-integration)', ""ripnetuk: I didn't know homeassistant supported 256 bit integers /s"", 'James_Coco: Oh nice, it’s not just me then! 😂 I even went so far to set up ‘average’ sensors for each ride at Disney and an automation that sends me a notification if I’m in the park and a ride wait time drops below its average haha.', 'fortisvita: Now, I can turn on my lights when Thames rises.', 'No_beef_here: I think this is a perfect example of what the OP was looking for (If you are in the UK) and I now have 3 gauges on a desktop monitoring two local levels, one for a brook, another a river and another, a flow rate at a bridge near our daughters place.\n\nThe brook is of some personal interest as I used to live near it at my parents house and Mum and I got onto the front page of the local paper by paddling up and down the hight street in my tandem kayak when the brook flooded the high street (no houses were actually flooded ... just).', 'Cezza168: Came here to suggest that.', 'MainstreamedDog: https://preview.redd.it/bkyh4e90stwa1.jpeg?width=1170&format=pjpg&auto=webp&v=enabled&s=43c3570efe5347b0ac8e7941c64011c4bc13f9e4\n\n😎', ""mistamo42: I use the same, to control a strip of LEDs mounted behind a cabinet in the dining room. Lights go green or blue in the evening depending on what is getting picked up the next day, and come on again the next morning so we don't forget.\n\nI have a button mounted nearby that when I double click clears the lights so we know someone put out the bins."", 'Matt_Shatt: I have a custom integration (that I copied and adapted from another user) that flashes my lights inside when my team scores. I always get fun reactions when people are over.', ""notthefirstryan: Care to share your automation code that sets the light color at game time? I have the integration working but not sure where to start. I assume it's something with one of the time-based attributes? Thanks!"", 'Steelyp: I had to delete the plex integration because it didn’t seem useful/kept creating new entities every time someone logged into a new device. This sounds a lot better', 'johnny5w: I’m using this integration to determine when my Plex server is transcoding and to automatically toggle the CPU between performance and powersave mode based on it. Something the Plex integration doesn’t surface.', 'BigToach: This allows me to play this sound clip when an amazon delivery arrives.\n\n[https://www.youtube.com/watch?v=ebkAM2\\_zsEk&t=12s](https://www.youtube.com/watch?v=ebkAM2_zsEk&t=12s)', 'obsessivethinker: Heh. I share my fancy pants weather station for exactly this purpose.', ""mmakes: Glances seems to eat up a lot of resources on my machines, including Pi's, Windows, and Mac. Is it the same with yours?"", 'Flacid_Monkey: Can you override it in the config yml with your sensor location data?\n\nI know mine was in yml but had issues with something so used the front-end timezone.', ""MarquisDePique: This one is great, I used several other versions of this before but if you have an appliance you can monitor via its power usage - this one is for you. However the OP said 'doesn't require physical hardware' so the req of a power plug is probably against that."", ""AssDimple: What's your preferred method of perusing?"", ""obsessivethinker: Hey, that's slick. I've been using the scheduler card to adjust my thermostat."", ""ReallyNotMichaelsMom: This sounds really interesting! I'm going to give it a look and use it for testing my automations so I don't torture my son with my debugging process :)"", ""AssDimple: I use waze travel time in conjunction with google travel time so that I can compare commuting to work by car or by bus.  \n\nThe sensor data is automatically displayed on a Lovelace dashboard that's cast to my television every morning shortly after my alarm goes off.\n\nThat was one of my more proud moments."", 'obsessivethinker: Truth! I just recently added this integration, and after looking at the graphs I\'m thinking about adding some statistics so I could maybe alert/trigger things based on the time changing in standard deviations or somesuch, i.e. ""the travel time has not just increased but has increased a lot more than normal.""', 'AssDimple: Snagging this one.  Thanks', ""Flacid_Monkey: That's pretty cool. Completely not needed for me as in the countryside by the sea 50 miles away from everything in the middle of the sea. Be useful to have a few travel locations though like London. I find I have to wear a mask when I go, hopefully the new emissions zone does it's job in August."", ""AssDimple: It's just basic gauges, line graphs, and tables highlighting the sensor attributes (allergens) at this point.  \n\nMy other plan is to log the prominent allergens (mulberry, grass, pine, etc) by day and then create a simple virtual button that can be pressed when my allergies are particularly bad.  My hypothesis is that over time, the allergens that give me the most trouble will start to stand out.\n\nI guess I could just get an allergy test, but that's no fun."", ""obsessivethinker: Oh this is slick. I didn't know it existed, so when I wanted to pull in ERCOT grid data (Texas power grid sux, yo) I wrote my own scraper in python, exposed it as a rest service, set it up as a service on one of my servers, and pointed hass at it via a rest sensor.\n\nThat's pretty Rube Goldberg compared tot this."", 'BriggsWellman: Scrape is now setup in the UI rather than yaml, but this is what I followed initially to get gas prices: [https://community.home-assistant.io/t/gas-pricing-plus-oil/286286](https://community.home-assistant.io/t/gas-pricing-plus-oil/286286) From here I just played around with different websites to get what I wanted.\n\nThe steps to pull the data is the same now, just make sure you put them in the right place in the UI setup.', 'pyrodex1980: I posted something on the HA forums for my WiFi freezer sensor that exposes their API.', 'hirscheyyaltern: sensors that poll websites usually have a timeout between requests, so you can not technically get an instant update but you can get it no later than the rate of polling you set in yaml', 'Wolv3_: For that you could use changedetection.io', ""BriggsWellman: Not exactly. It just reports a specific part of the website that it monitors. It can't check an entire website for a change and report what that change is."", 'DeepFryEverything: It manages hue lights by adjusting them throughout the day. All kinds of rgb lights.', 'BHSPitMonkey: I use it to control my Hue lights.', ""BHSPitMonkey: Yes, it's the more mature version. More configurable and plays nice with manual overrides"", 'Kickendekok: I have mine set up to do adaptive lighting during the day, it at 10 PM it switches to an RGB scene. I set up a helper Boolean that turns on at 10pm an off at 6am. If the helper is off my scene uses adaptive lighting, if it’s on it uses the RGB scene. The scene I use for RGB is a Hue Living Scene that cycles through and fades in and out of a set group of colors. It’s been nice to have these set up because I feel like I’m getting a lot more out of my lights than just daylight during the day and blue or whatever at night.', 'fruitytootiebootie: It creates 4 virtual switches so you can turn off adapting brightness, color temperature, sleep mode, or turn it off completely. You can just use an automation to turn it off.', 'cjx_p1: Yes, it does brightness and color temp.', 'cjx_p1: Yes, they will start adapting when turned off and turned back on. Adaptive Lightning can look for changes from some other source and stop adapting - if you activate a scene, for example.', ""BHSPitMonkey: I don't know what those are. Adaptive Lighting's config just asks you which lights you want to control and a bunch of options to tweak the default behavior. You can add multiple instances of the integration to give different lights different settings."", 'linuxfrickler: I get an email notification when ""bofrost"", a frozen food delivery service, will be coming the next time. So I grab date and time out of the email and display it on the dashboard.\n\nBe sure to use the ""imap"" integration and not the old ""imap\\_email\\_content"" integration as this is set to be deprecated in the near future.', 'GoAheadTACCOM: Only if you have the access to generate a token for your company email', 'byteofhash: I used davmail for years to enable imap access to my change account. \n\nhttps://github.com/mguessan/davmail', 'frozendevl: Does this work with ios?', 'Pace1561: I did the same thing with my Galaxy watch 5 via the HA Wear OS app. If the alarm on my watch foes off and the sun is below the horizon the lights will slowly fade in.', ""BHSPitMonkey: If you use the wonderful Sleep As Android app for sleep tracking / alarms, it's great for this. Adaptive Lighting brings my lights down to a minimum before bedtime, starting sleep tracking turns them off completely, the app fades in the morning light level before the alarm goes off, and then brings them to full when it does. I also have it reduce the lights a fair bit if I hit snooze."", ""feo_ZA: How exactly?\n\nI don't see an alarm time entity. \n\nI'm using iOS."", ""Flacid_Monkey: I do similar but if it's < 18 degrees C in my bedroom the heating boosts 30 mins before my alarm if set between 03:00 and 09:00 as long as I'm home.\n\nSame if I'm at work and I pass through points a, b & c within a certain time, the heating will boost if it's too cold so it's comfy when I get home.\n\nI also have another to dim the tv and put sleep timer on for 90mins after my phone on charge after 21:00.\n\nSo much cool stuff can be done. When I go anywhere away I really miss the little things for comfort.\n\nI was going to do the coffee machine but I've stopped drinking it first thing and have a cup when I get to work instead."", 'Necessary_Ad_238: Ok this is killer', 'EnglishMobster: That\'s an interesting set of data. My guess is that it\'s from early afternoon?\n\n* Indy at 55 is pretty low. Not unthinkably low, but lower than expected\n\n* Jungle at 30 is high. 20 means they\'re upstairs; 30 means they\'re pretty solidly upstairs. I\'d expect 75 mins+ for Indy if Jungle\'s at 30\n\n* Trains at 10 means they\'re likely running 3 trains. This means the park isn\'t projected to be incredibly busy or else the trains would be at 5 minutes. (Train ""wait time"" is actually the ""arrival time""; you will likely be waiting longer than the posted time if the station is crowded.)\n\nAll in all - not a bad day to be in the parks. It\'s a shame with the reservation system you can\'t do spur-of-the-moment stuff at Disney anymore.\n\n(I used to work in the parks in the Before Times, working Jungle/Tiki/Trains/Indy.)', 'ecto1a2003: ?', ""Time-Button4999: Considering that's what I call my Johnson, it'll be all the time. Giggity."", 'Appropriate_One_1341: How did you set up this awesome dashboard card?', 'TheMagicVariable: Care to share?', 'MOONGOONER: I was going to say ""Why didn\'t I think of that?"" but then I realized I implemented it halfway through the NBA season and it would be kinda overkill.', ""LifeLocksmith: I'm no sports fan, but thia might just help me pull my sports-fan 22 year old son into HA\n\nPlease do share the details"", 'zSprawl: You can go into the Plex integration config and then off the entity creation for each new player.\n\nhttps://i.imgur.com/iY6b4vb.jpg', 'Necessary_Ad_238: Oohhhhhhh never thought about something like that before', 'DimplyKitten824: I have to do this now', 'AssDimple: Good God.', ""mouthpiec: that's a nice idea 💡 ☺"", ""mmakes: Ooooh. Comparing two travel options?! That's brilliant."", 'lenswipe: No problem, /u/AssDimple', 'ZombieSalad: Hey fellow Texan, if it’s packaged, care to share your solution? Relevant to me as well.', ""cultivatingmass: No reason to fix what ain't broke, but Gas Buddy has a public API as well if you want to get fancy. This is the post I grabbed some code from: https://www.reddit.com/r/homeassistant/comments/xaairs/i_scraped_gasbuddy_so_i_know_how_much_my/int949q/"", 'Time-Button4999: Gotcha, ta.', 'Sym0n: Thanks!', 'chrisron95: Oh that’s great to know, I’m going to look into this then! Any time I looked up the light profile stufffi couldn’t find any info anyway so seems none of us knew how it worked, but it was in the official docs 🤷\u200d♂️', '863dj: I could probably manage that. I’m pretty close to our IT guy and am building a custom portal on our website by myself. \n\nIs there easy documentation that I could pass on to request the token?', 'Leading-Price-5888: I use ios shortcuts - alarms act as trigger in shortcuts and then you can fire up any script/scene/automation in HA', ""qupada42: Not sure sorry.\n\nIf you look in Settings > Companion App > Manage Sensors, you should be able to see everything it's capable of sending (and enable/disable individual values)."", 'bmwbryan: Kind of. I searched for a solution to this for a while. Best we can do on iOS is use the “Focus” sensor to trigger automations. But unfortunately it’s a Boolean toggle so the automations can’t trigger until it actually switches focus state off, so you wouldn’t really get the same effect.', 'SASDOE: I use a shortcut to set my alarms on iOS and in Home Assistant at once. It’s actually a bit faster than using the alarm app as I set multiple at once. \n\nBasic logic is:\n-\tinput alarm time\n-\tcreate a list with all the alarms I want to set (input, +5min, +10min)\n-\tget all alarms\n-\tloop through all of them\n-\tif correct time found, toggle alarm on and remove time from list\n-\texit loop, now loop over list of times and set those alarms (as they don’t exist yet in your current alarms). \n-\tget request to change home assistant wakeuptime variable. \n-\tset sleep mode until alarm time. \n\n\nIt’s overly engineered as iOS doesn’t allow you to get a specific alarm and I didn’t want a million alarms in my phone.', ""qupada42: Looking at some of the other replies, it seems like there are a few workarounds you could try, it's just not quite as easy on iOS.\n\nIt's simple on Android: https://i.imgur.com/5normIv.png"", ""ripnetuk: I'm suggesting that to record the waiting times in a typical theme park (in the UK, and from what I've heard recently Florida) requires an extremely large number."", 'PHLAK: Yup, I have mine configured to only show my local users and devices.', ""obsessivethinker: It's totally a hack job, but here you go: [https://gist.github.com/CharlesCage/3ce90ba398cdc5e0ff09ad84db8c3fc3](https://gist.github.com/CharlesCage/3ce90ba398cdc5e0ff09ad84db8c3fc3)\n\nHere's how I end up displaying it:\n\n&#x200B;\n\nhttps://preview.redd.it/ib3b0e79pywa1.png?width=680&format=png&auto=webp&v=enabled&s=969bb56b8082b3adab633183eef8deedda3fb5a2"", ""MrClickstoomuch: Nice! I'll probably copy this since my scrape broke with some updates they did to the website about 6 months to a year ago I guess? Or some home assistant updates that broke it when it shifted to UI."", 'GoAheadTACCOM: The most prevalent documentation is using gmail and an App Password - check this out: https://www.home-assistant.io/integrations/imap/#gmail-with-app-password', ""LastElf: As an almost sysadmin IMAP isn't always enabled and the use case for it may not trump security concerns. If you're using MS365/Exchange Online as your mail server check out [Graph](https://learn.microsoft.com/en-us/exchange/client-developer/exchange-web-services/office-365-rest-apis-for-mail-calendars-and-contacts) (REST API for 365 services) or [Power Automate](https://powerautomate.microsoft.com/en-us/) (Corporate version of IFTTT) instead. It won't use the *same* HA integration but I use the REST integration for a bunch of things without an issue.\n\nBoth of those let you play with emails if the services you're trying to play with don't have a direct API to use too."", 'cultivatingmass: How do you tell ""20 minutes before your alarm""? Or is it just an action you run when the alarm goes off?\n\nIt looks like you can do ""waking up"" action in ios that technically could be before a set alarm, you just need it to be set to whatever time you want the automation to start: https://www.reddit.com/r/shortcuts/comments/jezpjn/how_does_when_waking_up_automation_work_is_it/', ""frozendevl: Can you provide an example of how you're doing this in Shortcuts?"", 'frozendevl: Appreciate the response. Nothing about alarm,but can potentially use the focus mode sensor.', 'frozendevl: I use a ""Sleep"" focus that I turn on at night and off daily, so might work even with the limitation. Thanks for the idea.', '863dj: Thanks! I’ll take a look at this when I get home. \n\nLots of potential here for me. I’m stoked if this works', 'TapeDeck_: A template trigger that is essentially ""$timeOfNextAlarm - $now < 20 minutes"" would do the trick', 'Leading-Price-5888: I couldn’t figure out the 20 minutes before waking up.', 'Leading-Price-5888: https://preview.redd.it/51b04ipgdswa1.jpeg?width=828&format=pjpg&auto=webp&v=enabled&s=8966284c3c054b4172425ac89174c188e6369c35\n\nThis is the shortcut', 'Leading-Price-5888: https://preview.redd.it/vrjoydijdswa1.jpeg?width=828&format=pjpg&auto=webp&v=enabled&s=44075c4d265386cc2426c5b2957eadae3a8eb204\n\nThis is the ios automation']"
1682704430.0	28-Apr-2023 10:53:50	Zigbee controller to control multiple led strips.	Consistent-Match1449	2	1324tgm	homeassistant	https://www.reddit.com/r/homeassistant/comments/1324tgm/zigbee_controller_to_control_multiple_led_strips/	"I got 15 rgbww led strips and want to control each individual led strip. I want them separated in home assist and/or in the HUE app. 

Do I need to buy 15 zigbee controllers? Or is there a controller where I can add multiple led strips to and still control each connected led strip?"	5	"['john_bergmann: not sure, but check out the wled project (https://kno.wled.ge) \nYou can drive multiple strips (with an esp32 you are limited to 10 due to lacking pins after that). But you can also have independent segments on a strip. So depending on your physical layout and length of strips (power consumption) you could string several together electrically and get down to 10 strips with some having multiple segments. you can then drive 15 segments easily.', ""Wild-Bus-8979: You'll need a controller for each"", 'jeeftor: Esp32 s will be your cheapest controller prob', 't_i_b: It depends on what you want.\nFor example you could just have a 2 buttons controller : first button to toggle on/off a led strip, second button to switch to another led strips.\nYou can use a six buttons switch and use the single press/long press/double press to manage all the led strips.\nYou can also have just a simple single button that toggle all the led strips but still be able to control individual led strip in home assistant app.\n\nWhat do you want to do ?']"
1682704317.0	28-Apr-2023 10:51:57	[X-Post from r/zigbee] Some of my xfinity XHS2-TY MCT-350 door sensors do not update temperature and some update regularly every 15 minutes. Are some defective? Also did some one have luck getting the battery percentage when connected to home assistant?	notsureifgoodname0	5	1324rhg	homeassistant	https://i.redd.it/fcte96x8ynwa1.png		1	['tobimai: Battery percentage on lithium is a guessing game anyway, its basically impossible to get an accurate SoC from a voltage']
1682701388.0	28-Apr-2023 10:03:08	SmartThings + HA / OpenThread Border Router?	ge33ek	1	132295r	homeassistant	https://i.redd.it/yyjv1nj57pwa1.jpg	"My HA instance has identified my Aoetec SmartThings v3 Hub as an OpenThread Border router recently after the devices section installed a new “Thread” module.

When trying to add the router though, HA wants a REST API endpoint. I’ve been unable to find any documentation from Samsung or HA on how to obtain this and “bridge” the two. 

Has anyone had success?"	1	['peterxian: To make a thread network preferred, HA needs the network credentials dataset. HA supports adding OTBR via the new REST API to retrieve the dataset but it’s a relatively new patch and might not be in all versions of OTBR. Are you even sure ST is using OpenThread? According to [this thread](https://community.home-assistant.io/t/openthread-border-router-support/540715/19) the REST endpoint should be the IP:8081. If that doesn’t work, you have to import the dataset manually using a TLV file which I have no idea how to retrieve and is different for every vendor, if even possible.']
1682698389.0	28-Apr-2023 09:13:09	Home assistant temperature chart randomly switches between C and F multiple times per day	218ve	0	131z5re	homeassistant	https://www.reddit.com/r/homeassistant/comments/131z5re/home_assistant_temperature_chart_randomly/	"I have two ADC-T2000 Zwave thermostats. A month or two ago, the home assistant climate entities for both of them started randomly showing the current temperature in celsius a few times per day. The devices also have ""current air temperature"" entities which correctly report F all the time. Target temperature is also unaffected. Any idea how to debug and fix the issue?

Notes: I've only upgraded home assistant, I never flashed new firmware onto the thermostat or my zwave controller. I haven't changed settings on either device, and they are configured to report in Fahrenheit.

Hardware + version numbers:

    Zwave devices: ADC-T2000, firmware version 1.20
    Home Assistant 2023.4.6
    Supervisor 2023.04.1
    Operating System 10.1
    Frontend 20230411.1 - latest

Image showing the problem: https://i.imgur.com/k5Ouybz.png

""Bedrooms Thermostat Air temperature"" works fine, while ""Bedrooms Thermostat current temperature"" (part of the Bedrooms Thermostat climate entity) incorrectly shows the temperature in Celsius sometimes."	1	['MowMdown: Mines been doing this too']
1682698275.0	28-Apr-2023 09:11:15	"OK, My IKEA security code won't work it contains ""bzvexpEFOWG9VZ19 "" but not in that order I've tried ""zero"" for the ""O"" and ""L"" and ""I"" for the ""1"" but all to no avail. Any other guesses? Thanks for any help."	Expensive_Assist5700	0	131z3v6	homeassistant	https://www.reddit.com/r/homeassistant/comments/131z3v6/ok_my_ikea_security_code_wont_work_it_contains/		7	"['hirscheyyaltern: codes that contain easily mistakable letters made me angry', 'AnthonyUK: Is there a capital 9?', 'marcuz_90: Why not copy/paste?', ""NCC-1701-D-Galaxy: Paste it into a text editor and change the font to one that's easier to differentiate characters and case."", 'carlinhush: W could be two V', 'jean_sablenay: It seems you included a space. Are you sure?', 'qupada42: Agreed.\n\nI had to make a ""recovery code"" kind of system for something at work, I went with base32-encoded values.  Just capital letters A-Z and numbers 2-7.  No 0/O, 1/I, 1/l, 8/B ambiguity to worry about - worst you\'ve got is 5/S.\n\nI also made the site spell it out in the NATO phonetic alphabet in order to be read out over the phone with a minimum of thought, which I think a few people appreciated :)']"
1682697374.0	28-Apr-2023 08:56:14	Energy Consumption of Smart Devices	rileymprice	0	131yory	homeassistant	https://www.reddit.com/r/homeassistant/comments/131yory/energy_consumption_of_smart_devices/	"I have a few Zooz Zen77 switches in my house, along with some Sengled smart plugs. The smart plugs give energy consumption stats which I love!

Has anyone figured a way to do the same for Zooz switches? From my understanding they have no way of inferring how much energy they use, but I know what power is in the bulbs they control and the switch can determine how long they are on. Has anyone built a sensor?

Curious to know if it is able to be consumed into the energy dashboard?"	4	['nw0915: Can you estimate it with this\n\nhttps://github.com/bramstroker/homeassistant-powercalc', 'phidauex: I was going to share this, along with a delightful developer screen name, it works quite well, and is designed specifically to handles cases like this where you can tell if a device is on or off, and its brightness (or speed, or other features), and want to make an educated guess on power consumption rather than find an actual measurement.', 'rileymprice: Interesting! It seems it solves my issue, except my switches aren’t in the list of approved devices. Wonder if I could extend it', 'nw0915: You should still be fine. I actually feed it a random sensor value to get estimated solar generation from my CSA and it seems to handle that well']
1682697083.0	28-Apr-2023 08:51:23	Can I somehow unlock the rest of the sensors and entities? If not, are there any ways to sync data with the Galaxy Watch 5 other than Google Fit, which doesn't show sleep time?	ColdTights	3	131yjwq	homeassistant	https://i.redd.it/0y8hzh8kcnwa1.png		5	"['big-ted: Have you tried enabling the other sensors and entities\n\n[image](https://imgur.com/a/eFwzvVK)', 'hirscheyyaltern: Shot in the dark, but if the other suggestion doesnt work, is there an option in the companion app in the same spot as phone sensors?', 'BriggsWellman: Just and FYI, I have found the watch sensors to be very unreliable and wildly delayed if they even do update correctly.', ""ColdTights:  \n\nMan, I didn't know it could be done manually, I previously had a miband 4 and there all the sensors displayed a little differently. \n\nI activated the entity in the settings, not in the watch. But I can also see the entity in the watch, the system asks for permissions, but does not switch the toggle. \n\nBut I'll keep trying, because I can already see the steps and heart rate in HA. \n\nThanks a lot for directing me on this!"", 'ColdTights:  \n\nIn my case it is fairly ok. \n\nThe sensors synchronize every 15min as selected in the settings. \n\nThis is only after 1 day of testing, so things can change.']"
1682696658.0	28-Apr-2023 08:44:18	Are my Sonof SNZB-03 motion sensors just bad or am I doing something wrong?	g_rochford	0	131ych4	homeassistant	https://www.reddit.com/r/homeassistant/comments/131ych4/are_my_sonof_snzb03_motion_sensors_just_bad_or_am/	"TL:DR They work for a bit, sometimes a day, sometimes just a couple of hours, then just stop functioning until I delete them and repair them. 

I'm happily using Zigbee2MQTT with a Sonof 3.0 dongle and I have a number of other devices not having this issue, including some Hue motion sensors which have always been super reliable so this is just frustrating and about to chuck them.

If anyone has any tips to making them more reliable and stop freezing up all the time?"	12	"['hirscheyyaltern: nothings wrong with them they just suck. i have 2 and i literally stopped using them, they became poor functioning after about a month. the 15 second cooldown is nice but the number of false positives and the number of times they stop responding, it was just too much to deal with', 'run1fast: I started using 2 of these about 45 days ago.  For the first time last week, both became unresponsive at the same time. Had to delete them from HA and re set them up.\n\nSo they have been pretty stable and reliable and not cutting out every few days. But they did once.  Maybe you got a bad bunch? Aliexpress?\n\nOr maybe your zigbee network/dongle is having issues?  Remember you need to have the dongle plugged into an old USB port (not a usb3) and use a usb extender to have the dongle as far away from the source as possible.', 'alex3305: I had some issues with them in the past. But they seem really susceptible to interference. Also they tend to really want to connect to the controller directly as I noticed. When I lowered the transmit power of my controller and changed wifi channels most of my issues went away instantly.', ""esk416: I've had issues with them - wrote their support, they were useless.\n\nThat said, I now use them without issue.  From what I can tell is they will just lock up and not transmit anymore if they're triggered too many times (or consistently for that matter) - this is my observation anyway.\n\nmy example - the motions sensor was originally in my bedroom to turn on lights when it was dark, of course before I added mmWave presence sensing I was forced to put the motion sensor in a place that would hopefully always activate when someone was in the room in the hope to catch their motion and reset the timer to prevent the light from turning off while in the room.\n\nThis included motion when sleeping.\n\nThe sensor would sometimes work for a day for a few days, or sometimes a week or 3 but never much more.\n\nHowever, since moving to a room presence sensor this exact same motion sensor is now only activated when you walk in or out of the room and has been working great this way for close to 6 mo.\n\nMy conclusion is that it simply cannot handle high traffic areas (bad design in the firmware/software/whatever)."", 'AnxiouslyPessimistic: Had this with the sonoff temp and humidity sensors. Exactly this. Sacked them off for Aqara ones and not had a single issue since', ""g_rochford: Thanks for your input. Basically my experience so glad I'm not alone."", ""g_rochford: I'd heard this could be an issue but all my other devices are fine so I never bothered investigating. My NUC only has USB 3 ports and the dongle is directly attached.\n\nI'll pick up a USB 2 extender and see if that helps. Thanks for the tip"", 'g_rochford: My Wifi is on Channel 1 and my Controller is on Channel 11. All my devices are end points, not repeaters or extenders. Does that sound like the right settings?', 'hirscheyyaltern: its actually really frustrating cause ive gone through so many motion sensors and these i think come the closest to being great. fast cooldown alone is great. but they just...arent reliable and thats really unfortunate', 'alex3305: > My Wifi is on Channel 1 and my Controller is on Channel 11\n\nNo. Not at all. These channels [overlap each other](https://www.metageek.com/training/resources/zigbee-wifi-coexistence/). I would suggest changing either your wifi channel or your Zigbee channel.', 'g_rochford: Oh wow, that\'s really interesting, thanks for sharing. It says on the site that Zigbee channel 24 is the one to use but on Zigbee2MQTT it says *""(Note: use a ZLL channel: 11, 15, 20, or 25 to avoid Problems)""* so I\'ll go for 25. (not tonight as I\'ll have to re pair everything apparently.) Is the best way to do that to remove the device and re add them or can I just use the reconfigure option in the WebUI?', ""alex3305: With regards to your channel choice. You should prefer ZLL channels because otherwise some devices will have issues pairing. However you are, as with wifi, free to choose whatever channel you want.\n\n> I'll have to re pair everything apparently.\n\nYes. For laughs you could try to change your wifi channel. That doesn't require re-pairing anything.\n\n> Is the best way to do that to remove the device and re add them or can I just use the reconfigure option in the WebUI?\n\nNo no. Way easier. Just change the channel in the Zigbee2MQTT interface and restart. All of your devices will be unavailable / offline after the restart, but just enable pairing mode and re-pair devices one by one. Your existing configuration will just be updated.""]"
1682696039.0	28-Apr-2023 08:33:59	Shelly Plus Plug S - RGB Ring control in HA?	Twinsmaker	2	131xwgq	homeassistant	https://www.reddit.com/r/homeassistant/comments/131xwgq/shelly_plus_plug_s_rgb_ring_control_in_ha/	"Hello there! Does the Shelly integration provide control over the RGB ring?

And if not - has anyone managed to control it either via the API or via MQTT?

&#x200B;

I really want one, but for my use case the RGB ring control is crucial."	2	"[""M1k3y_11: The Plug S doesn't have an RGB LED. It has a single Blue and a single RED LED. The API doesn't give access to them but you could flash ESPHome to it which would allow you to control them.\nhttps://devices.esphome.io/devices/Shelly-Plug-S"", ""Twinsmaker: The old one might not have it, yes, but the Plug Plus S version does, that's why I'm interested in it.""]"
1682694537.0	28-Apr-2023 08:08:57	What's the best way to extend the range of my Zigbee network?	TheProffalken	0	131w950	homeassistant	https://www.reddit.com/r/homeassistant/comments/131w950/whats_the_best_way_to_extend_the_range_of_my/	"EDIT: FIXED IT!!!!  


Another device in the same cabin was able to reach the network within the house, so I paired that first, then reset the dimmer, and now it all works!

&#x200B;

=============================================

&#x200B;

EDIT: I guess [https://www.zigbee2mqtt.io/advanced/remote-adapter/connect\_to\_a\_remote\_adapter.html](https://www.zigbee2mqtt.io/advanced/remote-adapter/connect_to_a_remote_adapter.html) could be an option here?

We've just had a small cabin placed at the bottom of the garden.

It's about 10 metres from the house, and the lightswitch in the house that's closest is a MOES in-wall 2 gang smart switch, but the Zigbee signal doesn't seem to reach to the smart dimmer in the summer house.

I've recently taken to using ESPHome Bluetooth Extenders pretty much everywhere and the cabin has wifi, physical network cabling, and mains power running in to it so I'm hoping there's an option I can use to make the leap between the two locations.

I'm running Zigbee2MQTT if that makes a difference?"	8	"['severanexp: IKEA usb charger with zigbee. But 10 of them, problem solved.', 'thongil:  I just purchased some Zigbee wall socket adapters, and they made a  significant difference. I highly recommend getting some for yourself.', 'oh-ya-its-me: Maybe a device from https://tubeszb.com/\nI have a few of his router/repeaters but will likely get a few of the ethernet based coordinators for out buildings on a large property I take care of.', ""ChipBeef2354: I would suggest getting something mains powered outside to eliminate one set of walls that the signal needs to jump through. I can't seem to find it but GE had an outdoor zigbee plug that works great. With it I was able to make the jump to my detached garage really and reliably.\n\nTo test take anything that you can plug in outside that's mains powered ZigBee and see if it does the trick. Then track down that GE plug.\n\nThe key here is less solid material for the Zigbee signal to penetrate. Zigbee devices in the windows of both may make the jump as well."", 'hirscheyyaltern: \\^\\^\\^ ikea is a cheap and easy way to go if you want a router type device. believe most of their plugs and lights are routers', 'TheProffalken: Thanks.\n\nPresumably that takes the co-ordinator role away from Zigbee2MQTT for a subset of devices?', 'severanexp: Yep, there’s even a couple desk lights that are very nice :)', ""oh-ya-its-me: I believe so. I'm still learning ZigBee and haven't started running MQTT.  Our out buildings are hundreds of yards away so it's no problem to have additional independent ZB networks. I'm using it currently for wireless leak detectors at all toilets and sinks. In the large main house I'm just using repeaters so far.""]"
1682694113.0	28-Apr-2023 08:01:53	Aqara Temperature and Humidity Sensor - Battery drain issue	TheKen1983	0	131vsdd	homeassistant	https://www.reddit.com/r/homeassistant/comments/131vsdd/aqara_temperature_and_humidity_sensor_battery/	"Has anyone experienced an issue with abnormally high battery drainage using the Aqara Temp and Humidity Zigbee sensors? I have one that goes through batteries at an alarming rate. I get a max of two weeks out of a fresh battery. I have other Sonoff sensors that go months without needing replacements. I'm not sure what's going on. Any help would be greatly appreciated.

https://preview.redd.it/7cdsy32t7nwa1.jpg?width=482&format=pjpg&auto=webp&v=enabled&s=8f97e07573475d7edb39684b955b8e178e69082c

https://preview.redd.it/extmv52t7nwa1.jpg?width=304&format=pjpg&auto=webp&v=enabled&s=52c006dd0f889e0b92606819a574d39b85ac2440

https://preview.redd.it/vcxoh72t7nwa1.jpg?width=2289&format=pjpg&auto=webp&v=enabled&s=56132be7fa665faea4d167a61610e1f144e03bdd"	12	"[""400HPMustang: There's not really much to these devices, you maybe just got a bad one."", 'phidauex: Either something is wrong with the device, or you have a bad battery. Even a lot of the ""branded"" batteries on Amazon are either fakes, or extremely old stock. I switched to buying genuine Panasonic CR2032s from Digikey, and now my sensors last months. I think my current Aqara zigbee sensors are at 6 months and still > 70% battery.\n\nI do have one in a freezer, and while it dropped to an apparent 17% almost immediately (temperature effect), it has actually been lasting for months as well.', ""jpmatth: All my aqara sensors/buttons have battery life of 1.5 years or more. Even ones that are outside 24/7. There's something wrong with that individual sensor."", 'pookexvi: Is it experiencing extreme temperatures?', 'DecorationOnly: Are you using batteries you got off Amazon? Those are rife with fakes that can die really, really quickly.', 'TheKen1983: Thanks everyone for all your feedback. I ordered name brand batteries and will swap them out once they arrive to test what a few commenters mentioned with knockoff batteries. I’ll post back what the verdict is shortly.', 'AnxiouslyPessimistic: I’ve got the Bluetooth ones and they seem to last ages. Not that that’s much help to you', 'lvvkx: Same case here. Bought 3x Aqara sensor 2 weeks ago on AliExpress and now all of them have 80% battery remaining.', 'davidr521: Mine last for months upon months without issue. That said, I bought mine over a year ago, so YMMV.', ""hirscheyyaltern: how frequently does your device update? i suspect part of what gives it battery life is that it frequently waits to report if it doesnt experience a significant change in entity states. if it's getting pinged by something a lot or sending a lot of updates, that would definitely drain this things battery. if not that, probably a bad unit"", ""MossHops: Had a similar issue this week with Aqara vibration sensor. I'm not positive that it's the battery. I replaced the battery a few times and it still shows a lower state of charge than what I'd expect. I think the sensor is having a difficult time measuring battery health."", ""em0ry42: I had a similar issue with an Aqara motion sensor. Swapped batteries and it was chewing through them in a few days. Tried swapping the batteries with another (good) motion sensor and it chewed through it again, while the good sensor was happy with the leftovers from the bad one.\n\nI'm not really sure what happened but I know the sensor was the problem. I suspect some rain water may have gotten to this particular sensor and damaged it. Could be thermal tolerances... Who knows. Anyways, if you have another sensor, swap the batteries. That'll at least let you know if the problem is your replacement batteries or the device itself.""]"
1682694008.0	28-Apr-2023 08:00:08	Doug from Shelly - Inventory Clearance for North America customers	DreadVenomous	55	131vnyw	homeassistant	https://www.reddit.com/r/homeassistant/comments/131vnyw/doug_from_shelly_inventory_clearance_for_north/	"Hi guys!  


Just checking in to let those of you in North America know that the Shelly website is selling all the UL listed relays (1, 1PM, 2.5) and Shelly HT at 50% off to clear out inventory.  


These don't have Bluetooth, Wi-Fi range extender, or JavaScript, but are still very useful products.   


[https://www.shelly.cloud/en-us/products/product-overview#unfiltered](https://www.shelly.cloud/en-us/products/product-overview#unfiltered)  


I'm sorry that this wasn't shared here first, because the Home Assistant community is our most important group. Unfortunately, I missed the email on the start time yesterday and the emails went out before I could post here. On a brighter note, I don't expect inventory to sell out before you have a chance to look at things and decide if there is something you want.  


Have a great weekend and THANK YOU for all the support that you give Shelly!"	20	"['look_ima_frog: Man, shelly1 is sold out already. Daggone it, always late for this stuff, it was like seven bucks!', ""AtomOutler: I can see the product pictures, and add to cart.  But there is no way to tap the sale items for more info on mobile chrome Android 13.  So, I'm not buying.  I'm slightly interested, but not enough to search the site for info.  I may have bought it if I could see specs.  Thought I'd give my take on my first experience on Shelly."", ""Sure-Temperature: I had two Shelly 2.5 get fried from a power surge, so I'm looking to replace them. Is the UL model any different than before? Would it survive a surge?"", 'cazzipropri: Supercool', 'xman_111: can these be used in a wall socket to control a coffee machine or are these for switches, like lights, etc?', 'androidusr: Curious what you guys are using the Shelly switches for?', 'DreadVenomous: I think 2 and 4 packs will be listed at the start of the week.', 'DreadVenomous: Also, the non-UL 1 pack is sold out but the UL version si still available and under $10', 'robot65536: It\'s the same on PC, the items in the sale banner at the top are not links.  You have to scroll way down to the ""All Products"" section, where you can see the sale and non-sale items mixed together and click on the product pages.\n\nAlso it looks like only the ""single packs"" are on sale.  The 2-pack and 4-pack options are still listed as full price.', 'mnoah66: Their website has always been terrible. Difficulty to navigate and glitchy every time I visit it. I stopped going altogether and just get it from Amazon.', 'DreadVenomous: The UL version has slightly different terminals and one internal component that is different. If you had issues with surges, you really need to go with the Plus 2PM - it has over temperature, over wattage, over current, over voltage, and under voltage protection built in. 2.5 has over temperature protection only', 'DreadVenomous: Shelly 1PM can do both', 'Fonethree: I use them behind basically every wall switch in my house. Turns every light into a smart light, lets me ""rewire"" switches to have them control other lights, etc.', 'DreadVenomous: 2 and 4 packs will be added the start of next week (possibly Tuesday, as I believe Monday is a holiday for the web developers)', 'DreadVenomous: Full price on Amazon.', ""Sure-Temperature: Awesome, thank you! Glad I've been procrating for so long instead of getting the wrong one by accident"", 'xman_111: thanks..  which would you recommend for a kitchen socket?', 'androidusr: They only do on/off right?  No dimming?  \n\n\nMaybe the advantage is that you can have dumb switches, but not have to always keep the switch in the on position in order for smart dimmable lights to work?', 'Fonethree: Yes, they turn dumb switches into smart switches, but it\'s fair to say not smart *lights*. No dimming unless you get a Shelly dimmer, and whether or not that will work can depend on some particulars.\n\nI like that my smart switches are invisible and I don\'t have to deal with guests\' and parents\' comments on ""new fangled technology that never works right"" 😁\n\nI also like that I can change switch positions etc as it suits me. We had four switches controlling our kitchen lights, and through some clever application of Shellys, I now have two that do the kitchen lights and two that do other useful and sensible lights in the area. I also converted a switch-height outlet into an extra light switch without running any new wire just by using a Shelly.']"
1682692232.0	28-Apr-2023 07:30:32	HA compatible led strip controllers with remote	Petersonstar	0	131tsk5	homeassistant	https://www.reddit.com/r/homeassistant/comments/131tsk5/ha_compatible_led_strip_controllers_with_remote/	"Hi all,

I recently got a new kitchen with white led strips under the counter. However, the kitchen delivery company did not deliver controllers or remote, so I am left with 4 zones with individual PSUs with no way to operate the lights.   
Any idea what type of controllers should I buy, so I can control all of them with a single remote + to integrate in HA?

Any ideas are appreciated!"	1	"[""_MeIsAndy_: ESP8266's flashed with WLED would do the trick.""]"
1682691984.0	28-Apr-2023 07:26:24	HomeKit Controller & ecobee Response Time	dxmnkd316	0	131tj42	homeassistant	https://www.reddit.com/r/homeassistant/comments/131tj42/homekit_controller_ecobee_response_time/	"Hi everyone.  I recently moved my ecobee over from HomeKit to HomeKit Controller and I’m curious about the refresh rate or polling speed others have seen that have used HKC.

With HomeKit, the motion sensors immediately changed state on my phone and understandably the HA ecobee integration obvious has a delay from the cloud. Recently I've had a couple of instances where ecobee's room assignments for the sensors were lost and all automations went with it.  So I tried moving it to Home Assistant via HKC so I could do more customization on the automations and improve reliability.

With HomeKit controller, I expected similar performance to HomeKit on my phone but it seems like the response rate for the motion controllers is still several minutes at best.

Has anyone been able to get closer to real-time response to motion updates with HKC? In HomeKit I assume the rapid response is due to Bluetooth comms rather than via Wi-Fi and I’m guessing that’s not how HKC works behind the scenes?

Any insight or help would be appreciated.  Thanks"	3	"['jmcgeejr: Mine is a little slow by maybe 10-15 seconds but not as bad as you.', 'dxmnkd316: Ok so doing some further testing, looks like the refresh rate on my setup is five minutes. It seems like it holds the state and sends out the update every five minutes. \n\nSo if I walk in front of my motion sensor, it will register the motion on the sensor and at the next five minute cycle it will send ""Detected"" to HA.  That means it could be one second or the full five minutes. This is both for motion and clearing the state. \n\nI still don\'t understand why it would be immediate with HomeKit on the phone but wait for a cycle on HKC.', 'dxmnkd316: yeah, when I was searching for this around the web and what to expect from HKC I never quite got the impression anyone had responses in the minutes. \n\nTo test,  I stood in front of one in my office and waved my hands around like a moron for a good two minutes before the lights came on.  Same in the living room. I was pretty shocked.   \n\n\nDo you know if the ecobee is using wifi or Bluetooth on HK and/or HKC?']"
1682689619.0	28-Apr-2023 06:46:59	I want to control this 5 step slider in nodered from home assistant mushroom ,how can I do that ?	vandan57	0	131s992	homeassistant	https://www.reddit.com/r/homeassistant/comments/131s992/i_want_to_control_this_5_step_slider_in_nodered/		2	['4241342413: Huh? Both nodered and mushroom cards are means to control other entities/devices/etc. \n\nWhat are you trying to do exactly and what have you tried so far', 'vandan57: I want  to control fan speed from home assistant though node red slider']
1682685313.0	28-Apr-2023 05:35:13	"""Show Ignored Integrations"" is missing"	RecoverCute4186	1	131qgl8	homeassistant	https://www.reddit.com/r/homeassistant/comments/131qgl8/show_ignored_integrations_is_missing/	"I set some integrations to ignored and now I am unable get them back

&#x200B;

When setting the integration to be ignored the pop-up has this in the text""

You can undo this by clicking the '**Show ignored integrations**"" in the overflow menu on the top right.

When I click stacked three dots the only choice is ""**Application Credentials**""

Please help!"	1	['RecoverCute4186: I updated to latest Docker image and the show ignored is there now. \n\nThanks!']
1682684560.0	28-Apr-2023 05:22:40	help with jinja template needed.	ziggycatuk	1	131q5w1	homeassistant	https://www.reddit.com/r/homeassistant/comments/131q5w1/help_with_jinja_template_needed/	"Hi.   I'm running the elgato streamdeck plugin for HA and one of the functions I want to control is my switchbot blinds.

below is the code for one of the entities,  this works (kinda) but not how I want

On each button press I want the blinds to increase by 25% until it hits 100 then decrease by 25% back to 0 and just loop this.

However the method I'm attempting it appears value of the  ""reverse\_bedroom"" variable is not retained between button presses.

so consecutive button presses result from  0 > 25 > 50 > 100  THEN  > 75 >100 >75 >100 >75 . Instead of decreasing to 0 then increasing again.

I'm new to this so can anyone help and point me in the right direction to achieve this ?

Code:

          - entity_id: cover.blind_tilt_bbac
            service: cover.set_cover_tilt_position
            service_data:
              entity_id: cover.blind_tilt_bbac
              tilt_position: >
                {% set current_tilt_bedroom = state_attr('cover.blind_tilt_bbac', 'current_tilt_position') %}
    
                {% if current_tilt_bedroom != None %}
    
                  {% if current_tilt_bedroom == 100 %}
                    {% set reverse_bedroom = ""yes"" %}
                  {% endif %}
    
                  {% if current_tilt_bedroom == 0 %}
                    {% set reverse_bedroom = ""no"" %}
                  {% endif %}
    
    
                  {% if reverse_bedroom == ""no"" %}
                    {% set next_tilt_bedroom = (current_tilt_bedroom + 25) %}
                  {% else %}
                    {% set next_tilt_bedroom = (current_tilt_bedroom - 25) %}
                  {% endif %}
    
                  {{ next_tilt_bedroom }}
    
                {% endif %}
    
            icon_mdi: blinds-horizontal
            text: >
             bedroom blind

thanks"	5	"[""kunigit: I bet there's not any kind of global variable space, and templates are evaluated independently. I've seen old forum posts saying it's a requested feature, but I don't think it's been added.\n\nIt might make your automations a little more clunky, but you could make a [boolean input helper](https://www.home-assistant.io/integrations/input_boolean/). You'd probably need a separate automation that changes the boolean helper's value if the value is 100 or 0."", 'hirscheyyaltern: add a variable action like this:\n\n    variables:\n      your_variable: ""{{variable_value}}""\n\nthis help page is for scripts but it works just the same https://www.home-assistant.io/docs/scripts/#variables', 'ziggycatuk: it\'s working using an input boolean helper and an automation to toggle the reverse value.\n\ndefinitely more ""clunky"" as you described it but it\'s effective.\n\nthanks for steering me in the right direction', ""JCHHenderson: are you getting any errors?\n\n`state_attr('cover.blind_tilt_bbac', 'current_tilt_position')`  may be a string, in which case add `|float(0)` to the end"", ""ziggycatuk: although I have it working its a pity  the solution I used is not self contained within the template itself, so I'll definitely test this and report back..\n\nthank you :)""]"
1682684325.0	28-Apr-2023 05:18:45	Home Depot Blind Motors	Saboral	2	131q2of	homeassistant	https://www.reddit.com/gallery/131q2of	Home Depot not long ago stopped carrying the motors for their cut to length cordless cellular blinds. Is anyone aware of a place one could still find the kit on the internet. I’ve done a bunch of searching and can’t find them. I want to add motors to two of the blinds for a morning “alarm” automation.	4	"['neminat: I have two of them and i can say they are not so great.  With that said, you can schedule them and one sounds like it could be going bad on me.    \n\n\nWould love to fine something to replace them!', 'Saboral: Could you share some pictures and measurements? If I can’t find them I am thinking about 3D printing a solution with a stepper motor.', ""neminat: I'll see if I can pull them out and do so.  \n\nI know nothing about that so what measurements would be important for you"", 'Saboral: The shaft diameter primarily and the outside dimensions/configuration of the unit itself']"
1682682970.0	28-Apr-2023 04:56:10	what are some cheap and easy wifi-controled on/off switch options?	OxycontinEyedJoe	1	131pjuu	homeassistant	https://www.reddit.com/r/homeassistant/comments/131pjuu/what_are_some_cheap_and_easy_wificontroled_onoff/	"I've got a camper, and all the lights are simple led lights powered by a 12v dc source. I figured the easiest way to integrate them into home assistant is put a small module and relay on each individual light to control it. 

&#x200B;

Whats the best module to use in this application? I'm sure an esp32 or 8266 would work great, but it feels very overkill for the job. I'm not averse to spending money to do it right, I just don't want to use a sledgehammer when the job should be done with a ballpin."	3	['undeleted_username: I would use a ESP-based relay module from eBay, AliExpress, ...', 'emuhack: something like this: [https://templates.blakadder.com/ESP12F\\_Relay\\_X1.html](https://templates.blakadder.com/ESP12F_Relay_X1.html)\n\njust be aware of these will slowly drain power from your battery if not on shore power.', 'OxycontinEyedJoe: That seems like it would work fairly well! Thanks!']
1682616426.0	27-Apr-2023 10:27:06	Looking to monitor power usage	Turbulent-Stick-1157	0	130yaku	homeassistant	https://www.reddit.com/r/homeassistant/comments/130yaku/looking_to_monitor_power_usage/	"So I have a semi small home lab in my garage that I tinker with and am looking to monitor the power draw by all of it. The power meter I am using now is just a $10 non-smart meter that just plugs into the wall then my power strip plugs into it. It has a little LCD screen that shows current power draw. Which at the moment hangs out around 350+- Watts.

I'm looking to have home assistant monitor/track the usage over a period of time but needing to keep it on the cheap.

I'm looking at the below.

SONOFF S31 WiFi Smart Plug with Energy Monitoring, 15A Smart Outlet Socket ETL Certified, Work with Alexa & Google Home Assistant, IFTTT Supporting, 2.4 Ghz WiFi Only (4-Pack) https://a.co/d/gJa7UdK

Even if Home assistant is not the right software interface to use, are one of these plugs priced around the same the right type of plug for what I'm after?

I live in the US by the way.

Recommendations?

Thanks in advance!"	10	"['sleekelite: Edit your post to indicate what country at leastz', 'bsmith76s: That will probably one of the cheapest routes as long as 15amp will cover what you are running. For me I went with this [https://circuitsetup.us/?v=7516fd43adaa](https://circuitsetup.us/?v=7516fd43adaa) setup. a bit more pricier but the way this hobby gets a hold of you I wanted to monitor more circuits and have the expandability for future power monitoring of circuit in my home.', ""Kristopher_73: You didn't mention if you have Z Wave, but for a heavy-duty loads I use Zooz ZEN15.\n\nJust something to throw at you for an idea."", ""MossHops: I picked up two of those Sonoff plugs earlier this week and flashed them with Tasmota last night. Flashing them is easy, so long as you have a usb FTDI adapter (I used Moyina) and either want to do a bit of soldiering or use test clips. Flashing itself was easy and I did the whole process in 45 minutes or so.\n\nTasmota uses MQTT, so my next step is to set that up in HA. I haven't done it yet, but using flashed S31s is pretty common with HA."", 'Turbulent-Stick-1157: Is flashing Tasmoto required to get the s21 to work with HA?', ""Turbulent-Stick-1157: My bad. Forgot about that part. Haha. I'm in the US."", 'Turbulent-Stick-1157: No Zwave that I know of. The only hub type thing I have is (Sengled hub) for a few cheap Sengled LED Lights in my garage. \n\nBiggest load I can think of would be a Fridge and or my server (which is just a beefy workstation with lots of HDDs).', ""Turbulent-Stick-1157: Thank you. I'm not new to IOT but am new to integrating power monitoring with HA. This is what I was hoping to hear. I do have a FTDI adapter. \n\nBasically I'm just looking to keep some historical info on power usage from some things across my house that my wife says eats up most our electricity. I know my server draws more power than something like a small laptop etc.. but know it's not most of the bill.\n\nThe next thing for me to learn is MQTT.\n\nI live in the US.\n\nThanks again."", 'MossHops: My understanding is that flashing is not required for the S31 to work with HA. However, not flashing also means that the S31 is calling to a web service. Flashing allows you to do everything locally.', 'Turbulent-Stick-1157: Thanks good to know. thats what I figured. Im sure I will flash Tasmoto eventually. just wanna learn a little in the process (hopefully not the hard way). ;)  \n\n\nMy power meters device thingies are supposed to be delivered today. \n\nThanks again for the feedback!']"
1682680305.0	28-Apr-2023 04:11:45	Esp32 unavailable every 1 minute	Capt_shadab	1	131omy9	homeassistant	https://i.redd.it/cehyl3hggnwa1.jpg	"Weird issue after updating my esp32 with 2023.4.0 and so on. I have ld2410b soldered to my esp32 and it was working perfect fine. I used to get esp32 being unavailable but around like 5 times a day and that too never for more than 1 second.

After update of 2023.4.0 the problem became worst and it became more worst after 2023.4.1 update of esphome

After 2023.4.2 update situation has slightly improved but still esp32 is going unavailable every 2 mins and and it can go unavailable for 2 to 10 seconds.

This is absolutely frustrating.

I have 3 more esp32 attached to ld2410b and all are behaving the same. The wifi connection strength is quite good which I check from logs

Has anyone experienced this after the April update of esphome"	19	"['Dougal-d: I had a problem with one of my esps becoming unavailable after an update. Tried various things but nothing worked. Ended up using a different usb power cable and all my problems went away.', 'wsdog: Is the esp32 connected via wifi or via Ethernet?', 'ElGuano: Do you have BT proxy enabled?\n\nThere was something about an ESPHome bug that caused excessive unavailability through WiFi when BTP was enabled. \n\nThe workaround for it was to set esp32 into esp-idf mode.', 'Capt_shadab: Wifi. However signal strength is super strong with rssi of 30', ""Capt_shadab: Hi. It's set as false. Rather when I changed framework to arduino has solved problem to a great extent\n\nSo its idf which was creating issue\n\nStill testing though"", 'wsdog: In esp32 Bluetooth and Wifi use the same antenna, when a Bluetooth communication happens, wifi sleeps. That should not result in a disconnect, but something worth checking. Can you disable Bluetooth proxy and see if that helps?\n\nWhat WiFi access points are you using? Try to disable band steering and reduce 2.4GHz channel to 20MHz. Also disable all ""smart"" wifi features. Do you or any of your neighbors use EERO mesh?', 'mathmaniac43: I have been fighting some ESP32 WiFi connectivity issues lately. I am pretty sure that my issue boiled down to the signal level being TOO HIGH because moving my devices to outlets a few feet further from the nearest access point seems to have fixed everything for me.\n\nIf nothing else, trying a different plug in the same room a bit further away, or in a different room altogether for just testing purposes, should quickly show you if your connection stability improves.', 'Capt_shadab: my bluetooth proxy is set to false and so is ble scanner\n\nthis problem has started from esphome update of 2023.4.0 \n\nbefore this update i had set up in yaml ID: UART1\n\nnow i have to change to UART\\_1\n\nis this creating issue', 'Capt_shadab: i have done all this. as i mentioned i have 3 more at different locations and different distance from router\n\n&#x200B;\n\nthis problem has started from esphome update of 2023.4.0 \n\nbefore this update i had set up in yaml ID: UART1\n\nnow i have to change to UART\\_1\n\nis this creating issue', 'wsdog: Oh no, they broke the UART again :(  Thanks for the heads up. \n\nI lost appetite for upgrading after they depreciated API passwords for no reason creating a huge PITA to update every single config.', 'Capt_shadab: So you think breaking of uart is reason why I am facing issue', 'wsdog: Could be. You can remove UART and try looking at the node status if it still disconnects.', 'Capt_shadab: I deleted uart id still no joy\nI even entered uart_0 or uart_1 still same issue', ""wsdog: Oh, it means it's not UART. Could be a coincidence. Can you revert to pre 2023.4 ?"", 'Capt_shadab: You mean by old Hass backups or can I manually flash old esphome firmware\n\nIf yes it will be helpful please', ""wsdog: I think it's easier just run a pre 2023.4 esphome container on your laptop and generate a firmware for the device than rolling back the whole HA."", 'Capt_shadab: Am totally a newbie\n running Hass on rasberry pi 4 and esphome within it. How exactly can I do it', ""wsdog: For a nub it's easier to revert HA:)"", 'Capt_shadab: I only have Hass backup of just one week ago\n\nI am looking for March esphome']"
1682680101.0	28-Apr-2023 04:08:21	Ulanzi TC001	the012345	202	131okf7	homeassistant	https://v.redd.it/kqt594iaylwa1	Picked up a Ulanzi TC001 and installed ESPhome with EsphoMaTrix using Blackadder's amazing guide.  Just scratching the surface of how it can be customised and what info it can display. 	52	"['Hunt4Beer: I can recommend the firmware ""Awtrix light""\nIt\'s much easier to use.\n\nhttps://github.com/Blueforcer/awtrix-light', 'mdezzi: I use the light sensor to auto adjust brightness using node red. Dims the clock all the way down amd changes to red when lights are off and after 22:00. Then lights it back up and changes back to white at sunrise.', ""rediot: I bricked mine by accide tally flashing the wrong EspHome yaml and I couldn't get it reset. Eventually disassembled, and now cannot reassemble. I regret."", '_mrtoast: This seems like another thing I buy because I want it then try to find some use case lol. What are people using it for', 'gacekk8: You can also flash it with awtrix and control or read through mqtt', 'StumpyMcStump: Nice. Do you have the links ?', 'the012345: has anyone been able to get the bluetooth proxy work with theirs?', 'lolboahancock: Too expensive for what it is.', ""zipzag: It's clearly a cheap LaMetric knockoff. Everything is cheaper. But the price is much more tolerable. I have both.\n\nAll the apps that Home Assistant can access on the Awtrix firmware are better rewritten by logic in HA. For example, who wants seconds displayed when using Ulanzi as a clock? \n\nI haven't gotten sound to work yet on Ulanzi. The alert tone sounds on LaMetric are very good. All of the Ulanzi sensors which include luminosity, temp and humidity, are crap."", 'thrivestorm: Nice!  I ordered one after seeing the guide. Already have it built in ESPHome. Just waiting on the hardware.', ""QueueWho: Wonder if there's a way to have all 256 pixels exposed as light entities with brightness/color"", 'flats_broke: Can this be used as a countdown timer that would count down to zero and then display a message?', 'megane999: Can’t find instruction how to open it. Can somebody help me? I want to add accelerometer', ""Sono-Gomorrha: Shouldn't it be possible to reflash the original firmware? I'm just starting out with ESP and IoT, so I might be misinformed."", 'the012345: I feel your pain.', ""mkosmo: Mine now flashes purple/white and won't boot :("", 'mdezzi: I flashed mine with esphome and was working fine for 3 days before I woke up to it frozen. Tried to reboot it and it was bricked. I reached out to ulanzi asking if there was a way to force reboot it and they sent another one for free.', 'Grand-Chocolate5031: Instructions unclear. Penis is in socket. Now what?', 'TylerDa: I did this as well. I was having a lot of problems keeping the thing connected to my windows computer. When it was in the middle of a flash, it lost connection with my computer and bricked it. Guess I should of known better… I did order 2 so I used another computer (Mac) and was able the flash with no problems. \nMight attempt to disassemble the bricked one and see if I can get it to work again. Maybe make a custom case for it.', 'that70sgamer: Clock, bitcoin price ticker, alarms (eg, you left your garage open), weather, moon phase. You can put any value on the screen along with a custom icon.', ""the012345: In the morning it displays the weather and the state of the service on the local tube (metro) line. At night I'm using it as a motion controlled night light. I mean it's a bit of a solution in search of a problem but isn't that half the fun."", 'zipzag: Alerts on high electricity price, rain starting, garage left open. I get tired of my phone beeping frequently so I send home stuff to LaMetric and Ulanzi.\n\nThe Ulanzi clock app is ugly, but you can have Home Assistant display time how you like it. I will definitely only use Ulanzi as a display. Unlike LaMetric the built in apps are ugly.', ""mmakes: I'm planning to use it with the Pixel Dice and make an automatic Catan timer out of it, because some players simply take way too long on their turn."", ""the012345: \n\n[Blackadder's Guide](https://blakadder.com/esphome-pixel-clock/)"", 'None: [removed]', 'littlecheese901: https://blakadder.com/ulanzi-pixel-clock/ looks to be what OP was talking about', ""DanGarion: So you can build one yourself for less? I'd love to see the parts list."", 'discoshanktank: How much is it?', ""the012345: As it's just an esp32 you could install WLED on it"", ""rediot: I couldn't get it to recognize usb - I think what actually happened was the esp chip desoldered cus the thing was dead.\n\nEdit on the flashing was I unplugged it before the software was updated and it ran fine for 3 days after then screen just went black. It was plugged in and untouched until that."", 'dozer-b: THIS! I flashed with Awtrix and it too lasted a few days, woke up to it frozen. \nOn power-off it never returned and now I have a funny shaped hammer. \n\nThey’re sending me a 2nd one free as well but I wonder, seeing these comments, if this thing is worth it. :(', 'rediot: Omg maybe I should send them a photo of my absolutely destroyed unit.. thank you :)', 'archedpenguin: Could you share the link or seller you bought from?', 'davidr521: 🤣', ""of_patrol_bot: Hello, it looks like you've made a mistake.\n\nIt's supposed to be could've, should've, would've (short for could have, would have, should have), never could of, would of, should of.\n\nOr you misspelled something, I ain't checking everything.\n\nBeep boop -\xa0yes,\xa0I\xa0am\xa0a\xa0bot, don't botcriminate me."", 'StumpyMcStump: That’s super odd. I see the pst having 3 comments, but cannot see that one', 'the012345: [guide](https://blakadder.com/esphome-pixel-clock/)', 'PlanetaryUnion: That’s one reason I decided to take a chance cause anything I priced out would be more. \n\nAnd I even have a 3D printer to make an enclosure but 3D printing isn’t as nice sometimes.', '__colonelpanic__: $59.99 USD. According to the guide linked above it has gone on sale for $43.', 'mtgpcs: Try pressing the two outer buttons . Mine ran dead and it took a bit of combo buttons to power on. Not the same as the original firmware combo.', 'mdezzi: Did you have it doing a lot of updates frequently? I had an automation running that would update the brightness according to the lux sensor, which updated every 30 sec. My fear was the frequent updates killed it but idk. I revamped my code to take a reading frequently but only update brightness once every 10 min.', 'mtgpcs: Mine ran dead after I flashed esphome. I had to hold the left and right button. It finally came back on.', 'zipzag: > but I wonder, seeing these comments, if this thing is worth it. :(\n\nThis is how you end up paying $200 for LaMetric. My Ulanzi has lasted a week. Fingers crossed.', ""mdezzi: Honestly I just asked how to reboot it and they sent another one without me asking. Then I asked why I couldn't get the tracking number to load a few days later and they said it was lost and sent a third. Might be worth a shot"", 'mdezzi: I also thought about disassembling the one I have to see if I could replace the ESP or salvage the display, was it impossible to disassemble?', 'mdezzi: I just bought from the ulanzi site.', ""DanGarion: That is exactly my point. I love to build and tinker but there really aren't that many options to build this out yourself even if you have most of the means to do it."", 'PlanetaryUnion: I just ordered one on AliExpress for $70CAD.', 'dozer-b: Absolutely not. I had it for a few days and at most manually ran a few messages to it as I was testing how long it ran off battery, and what messages looked like scrolling on it etc.\nI’d say I sent…maybe 10 messages total for it to display since once I got the syntax I was going to setup automations.\nIt was basically a pixel clock for the 5~ days it lived.\nI’m keeping the old one though, hoping I can fix it…?', ""rediot: [disassebly](https://i.imgur.com/iiBUJ85.jpg)\n\nIt has hidden screws covered by molded plastic.  I don't think it's possible to take apart without tearing apart the screws but I may have just missed something..."", ""mdezzi: Ugh ok im worried about longevity too now. If you look at one of the other posters he posted a pic of his after he tried to disassemble. It looks rough... Doesn't seem as simple as just opening up and replacing an esp32. O well"", 'dozer-b: Saw that too, what a waste. \nNext try is to build one and print an enclosure if this 2nd one dies too.', 'mdezzi: Same here lol']"
1682676963.0	28-Apr-2023 03:16:03	Assist satellite, any plans to support the ESP-BOX hardware?	martini1992	2	131nk32	homeassistant	https://www.reddit.com/r/homeassistant/comments/131nk32/assist_satellite_any_plans_to_support_the_espbox/	"https://github.com/espressif/esp-box

I bought one of these with the thought that's it's perfect to run as a HA Assist satellite device. I saw the M5STACK ATOM Echo is being used by the dev team and wondered if the software could be installed on the ESP-BOX too at the expense of display support, or maybe the screen could just have a static clock on it for now if detected.

Also I have a raspi with the Google AIY V1 voice kit that could also be a satellite (currently running with Mycroft/OVOS) if there was any plans for software for that."	0	[]
1682674404.0	28-Apr-2023 02:33:24	Connecting a Barcode Scanner to Home Assistant via WebSocket API	tripple-g	7	131mrba	homeassistant	https://www.reddit.com/r/homeassistant/comments/131mrba/connecting_a_barcode_scanner_to_home_assistant/	"I am currently working on a project to create a barcode scanner that hangs next to my fridge. The idea is that whenever a product is almost empty or finished, I can simply scan it, and the barcode scanner will forward the barcode to Home Assistant using [**https://github.com/markusressel/barcode-server**](https://github.com/markusressel/barcode-server). From there, Home Assistant would look up the barcode in an Excel list using a Python script and then add the product's name to my shopping list.

At the moment, I am stuck with establishing a connection between Home Assistant and the barcode-server. The barcode-server has a WebSocket API, but I'm not sure how to connect to it from Home Assistant. I've been searching for information on how to do this, but I can only seem to find guides on connecting to Home Assistant's WebSocket API, not the other way around (i.e., from Home Assistant to a client, in this case, the barcode-server).

Any help, guidance, or resources to help me establish this connection would be greatly appreciated. Thank you in advance!

&#x200B;

\[solved\] using the MQTT service instead of the WebSocket API"	13	"[""FishScrounger: I think there may be an easier way of doing this than rolling your own. I remember reading about someone using the Grocy addon with a barcode scanner for what you're describing."", 'accelle17: It seems the barcode server can connect to mqtt. Use that and connect it to mosquitto server\nthat homeassistant is connected. From there, you can publish that data on mqtt sensor and use it on your python script.', 'hirscheyyaltern: Maybe something is going over my head, but it seems like it might be easier to make an on device automation with tasker and automate: image -> barcode to text program -> http call to home assistant to add barcode -> call to home assistant starts automation that does what you want', 'None: [removed]', 'tripple-g: Yes, I\'ve seen that one too, but it is way too advanced for my needs and has too many options that I don\'t want to use. I also have to make it ""wife-proof"". The interface of Home Assistant\'s shopping list is incredibly simple.', 'tripple-g: I also had issues with the barcode scanner using MQTT, and thought maybe the API could provide a solution. I think I was going down the wrong rabbit hole. I went back to MQTT and found a solution that turned out to be incredibly simple.\n\n&#x200B;\n\nThis is what I added to the configuration file in HA:\n\n&#x200B;\n\n\\`\\`\\`\n\nmqtt:\n\nsensor:\n\n\\- name: Barcode Reader\n\nunique\\_id: barcode\\_reader\n\nstate\\_topic: ""scanner/barcode""\n\nvalue\\_template: ""{{ value\\_json.barcode | string }}""\n\n\\`\\`\\`\n\n&#x200B;\n\nAnd this is my Barcode Scanner server config file  \n\n\n\\`\\`\\`\n\nbarcode\\_server:\n\n&#x200B;\n\n  \\# (optional) the verbosity level of log output\n\n  log\\_level: DEBUG\n\n&#x200B;\n\n  \\# (optional) an identifier for this barcode-server instance\n\n  \\# if omitted, this will be a UUIDv4\n\n  id: Barcode-scanner-v2\n\n&#x200B;\n\n  \\# (optional) server configuration\n\n  server:\n\n\\# (optional) the IP address to listen on for incoming connections\n\nhost: ""[192.168.178.100](https://192.168.178.100)""\n\n\\# (optional) the Port to listen on\n\nport: 9654\n\n\\# (optional) API-Token which has to be provided by connecting clients\n\napi\\_token: ""EmUSqjXG\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*7stex""\n\n\n\n  \\# (optional) MQTT push configuration\n\n  mqtt:\n\n\\# MQTT server host address\n\nhost: ""192.168.178.64""\n\n\\# (optional) MQTT server port\n\nport: 1883\n\n\\# (optional) Client ID of this barcode-server instance to provide to the MQTT server\n\nclient\\_id: ""barcode-server""\n\n\\# MQTT topic to push events to\n\ntopic: ""scanner/barcode""\n\n\\# Username to use when connecting to the MQTT server\n\nuser: ""mqtt""\n\n\\# Password to use when connecting to the MQTT server\n\npassword: ""\\*\\*\\*\\*\\*\\*\\*""\n\n\\# (optional) QoS value of event messages\n\nqos: 2\n\n\\# (optional) Whether to instruct the MQTT server to remember event messages between restarts (of the MQTT server)\n\nretain: True\n\n&#x200B;\n\n  \\# A list of regex patterns to match USB device names against\n\n  devices:\n\n\\- "".\\*Barcode.\\*""\n\n\\- "".\\*Scanner.\\*""\n\n  \\# A list of absolute file paths to devices\n\n  device\\_paths:\n\n  \\#- ""/dev/input/barcode\\_scanner""\n\n&#x200B;\n\n  \\# (optional) Statistics configuration\n\n  stats:\n\n\\# (optional) port to provide statistics on\n\nport: 8000\n\n\\`\\`\\`', 'tungvu256: I recently saw a post about someone sharing their tools between 3 houses. They never know or forgot where their tools are. Barcode scanning and ha will definitely solve this!', 'FishScrounger: Oh, you beat me to it!', 'tripple-g: It seems like you might be onto something, but I would prefer to have a standalone barcode scanner next to the refrigerator rather than using my phone to take a picture of the barcode. In that case, it would be just as easy to add the entire product to the shopping list directly.', 'homeassistant-ModTeam: As per the Home Assistant community rules, your post has been removed due to the use of ChatGPT: https://www.home-assistant.io/blog/2023/01/23/help-others-leave-ai-at-the-dor/', 'FishScrounger: Ah, I see. Well, the server you mention supports MQTT so that may be the best way. Connect it to your HA MQTT server and then have an automation thats triggered when that particular MQTT topic is updated.', 'hirscheyyaltern: ah gotcha. was not aware you had an actual physical barcode scanner']"
1682671837.0	28-Apr-2023 01:50:37	What are some small things about Home Assistant that drive everyone nuts?	hirscheyyaltern	40	131m0tk	homeassistant	https://www.reddit.com/r/homeassistant/comments/131m0tk/what_are_some_small_things_about_home_assistant/	"I've been thinking lately about how lots of people seem irritated by the number of extra presses from the new lighting controls, so I thought maybe it might be cool to have a post where everyone could share other minor irritations they have with HA. Just little things that are mildly irritating, but don't cause a major disruption. I'll go first:

Every time I go to click on my Zigbee devices, because of how the entities text wraps around, I overshoot by a few pixels and click on entities instead. This results in minor confusion every time, and then irritation that I have to go back and try again.

What are other minor irritations everyone else has?

https://preview.redd.it/j5xfs9pq9lwa1.png?width=258&format=png&auto=webp&v=enabled&s=069e5162facfdc16932214d4fdafcae422cb1de3"	206	"[""full_hyperion: For me it's not having the rooms in the automation list, or the option to filter on automations without a room.\nWithout that, the option to filter on room is pretty useless, because I don't know if the list of that room is complete."", 'ShakeDazzling5417: Not being able to see the full entity name when you are creating automations or cards.\n\nNot being able to resize cards easily using a UI', 'jsank11: When creating a scene you have to physically run that scene while it\'s being created.  Like if I want to create an ""all lights off"" scene I have to be willing to turn all the lights off at that time which is not cool unless I\'m home by myself.  Also, an ""all lights on"" scene cannot be created while others are sleeping at night (without major disruption).', 'hellweaver_666: I’m not a fan of the way dashboards work. It all feels a bit too rigid without installing a bunch of plugins and manually writing CSS', 'chozobee: * Managing/pruning old/dead devices and entities is a chore\n* One massive dumpster fire ""official"" log, and then separate add-on logs to dig through\n* Hardware area is very simple graphs only', 'thykingok: That it would load 5s or so everytime you open app after a while. On android.', ""svkowalski: Why does the Energy dashboard get special treatment? I can't delete it in the Dashboards settings. I can't manage it the same way as other dashboards."", ""Nouns_2023: Automations are a huge mess the way you can't put them into folders or categorize them."", 'AnxiouslyPessimistic: The lack of full lighting controls bugs me. Like I don’t hate what’s there but something more akin to the hue app would be so much better. I need the ability to open a room and easily control individual lights etc. it’s all doable but not that neatly as is', 'bp067: The way the dashboard refreshes and goes back to the top, losing the last place you were looking. I just want the cards to refresh.', 'woodford86: I have a bunch of entities/etc that I simply can’t delete. I’ve tried everything, but they just keep coming back.\n\nLuckily it doesn’t affect functionality, it just bigs me every time I see those entities that don’t match the rest of my naming conventions.', ""bzwe: The random warning and error messages in the log that don't have any detail and/or don't correspond to any lost function. \n\nLike (some vague or unnamed) task exception was never retrieved, or some integration took more than 10 sec at startup. \n\nI typically have 10-20 useless messages in the log, most of which are repeated between a few times and a couple hundred times after a few days. \n\nWish there was a better way to separate useful messages from the noise in the log."", ""thegab_: That there is no option to put the device into the previous state. E.g. you trigger an automation for a light to something else (color, brightness) because something happened. Then you let it do for a certain time. Why not add an option in the automation workflow that says 'afterwards go back to previous state'? Sure you can do that with a helper that saves the state... But this could be way easier...\n\n&#x200B;\n\nAlso another point... Do the same automation just the same way but with these other devices. Why do you have to do it again from scratch? Yes, blueprints... But why so complicated?"", 'sero_t: I irritate that tuya integration sometimes needs reloading, the if then icon switch in card not working properly sometimes, need to reboot the system', 'newbienewme: * ZHA sometimes drops some of my connections, requiring re-pairing\n* no way to refactor easily, i.e. change names of commonly used variables is a pain\n* no easy way to make ""functions"" that can perform the same task on multiple equipment (i.e. you have six thermostats with the same logic, you need six methods with the same logic but different variable names)\n* bad logic can cause HA to not be able to start-up\n* no way to scope, step or watch internal logic to debug jinja2-code\n* no native way to add tests to your jinja2-logic\n* I have many times had automations fail because I have been confused about if to test for strings ""On"", ""on"", ""True"" or ""true"" when what I really want to know if is boolean true or not.\n\nOn the bright side: It is free, it is powerful, no vendor lock-in, and ultimately I at least feel like I can make HA do *almost anything* after a bit of fiddling.', ""talormanda: The automation screen is a bit of a nightmare. If you have nested IF statements, it's almost impossible to figure out which IF / ELSE go together because they blend in so well. I lose my placement every single time and I end up having to copy my IF out and paste it onto a separate automation just to edit it and paste it back in. They need better indentation and the font + background color of different IF / ELSE / WHILE / FOR to be different so it's easier to read. And no, node red will not fix my situation."", ""ewlung: For me, the updates. I hate to say that, but reading all the horror stories about people getting issues after updating to the latest releases, that really gets me nuts, especially with the database. I hate losing data, when people migrate back from MariaDB to SQLite, that drives me nuts. \n\nYeah, people will tell me to not use HACS, but that's impossible with HA, not everything is integrated in the main software. And yes, I can stay with the version which works, sure, that's what I am doing now. But yeah, that's my nuts 😂"", ""renaiku: Sorting automations (by room at least, or group of automations), I'm always getting lost between integrations and add-ons. The config menu, and sub menus ..."", 'BobMcGlobus: When the Apple integration (iCloud) needs to be re-authenticated (e.g. after an update) it tries again every few minutes. As a result, the login message comes up on my Apple devices. This goes on for hours, until I get to take care of it. It would be really nice if the integration would only try it when I explicitly want it.', ""Opaquer: For me there's a few things, but the main one is all around dashboards and users. I would love to have the ability to set up dashboards and views on a per person basis - I'd love to set up a new user and have a default dashboard and remove certain views (like the map and energy dashboard and add-ons and everything like that) and have it work on every device that user logs into.\n\nAlso as others have said, dashboard in general - especially doing things like card mod or layout card and whatnot. It's super infuriating as a newbie, and I can't ever figure out how to do what I'm trying to do most of the time, and have to always rely on finding something someone else has done. Definitely not fun"", ""anomalous_cowherd: The whole chain of devices and entities and their names and what apps they are connected through.\n\nSome of my smart plugs have two or three different names only one of which works, and it's really hard to figure out what to change where in what order to get it all back in sync.\n\nPlus the mix of GUI and YAML files and knowing what you need to use each for."", ""imfm: When I go into Devices and Services on my phone or a tablet, and tap on (whatever), then go back, the list returns to the top. Very annoying when I'm going back and forth, trying to do something with Zigbee or Zwave because I have to scroll all the way back down to the very bottom of a long list. It'd be nice if it would return to the same point in the list where I started instead of back to the top."", 'randytech: The Spotify integration always breaks for me after about a week so I just stopped using it entirely. Been happening for as long as I can remember so I just have it hidden/disabled now. Last time I checked if it worked was the 2023.2 update which again it broke right after I set it up.', 'randsome: The lack of any status during the restore process is pretty awful.', 'abc423cba: My kids flicking smart lights on and off repeatedly so they get lost from Tuya. Then the process of te-adding to Tuya (more annoying than one would expect as they are on a dedicated IOT VLAN), then having having to extract their local key again  and update local-Tuya.\n\nDo that about once a month with young kids in the house.', 'nlblocks: I hate the way rooms work.\n\nWhy can\'t i go to the room, click something like ""Add Devices"" and get a list of all the devices with checkmarks? \n\nBonus points of it also groups them by integration, but a long lost off all of them would suffice for me too.', 'jrhenk: That numeric conditions for brightness in automations cannot be in percentages but the 0-255 logic, very confusing', 'mcmanigle: As someone with four Schlage locks on Keymaster HACS integration, my biggest gripe is that there\'s not a good way to group / hide automations, ""helper"" entities, etc in the UI. I have approximately 700 ""helper"" entities and 200 automations. About 95% of the ""helpers"" and 80% of the automations are created by Keymaster. I wish there were a good way to sub-group / hide / sequester those items in the UI.', 'Sheiker1: Using YAML scripting for more complex automations.  \n\n\nI know there is NodeRed, but I didn\'t want to go down that route, especially since Home Assistant is written in Python, why not have Python be the main ""scripting"" language?  \n\n\nThankfully, Just found ""pyscript"":  \n[https://github.com/custom-components/pyscript](https://github.com/custom-components/pyscript)\n\nWhich is exactly what I wanted to begin with.  Works extremely well.  \nToo bad it is a HACS integration, and not shipped directly with HA.', 'jakegh: I\'m a pretty new user so I\'ve got to say just how unfriendly the dashboard and UI can be. \n\nThe software doesn\'t have a default config that makes sense in the same way that Apple, Google, and Amazon do. \n\nSeveral of the various addons that claim to fix the issue offer much better defaults like Dwain\'s Dashboard and others look and function vastly better but aren\'t configurable unless you go into YAML files, there\'s no way to do it in the UI. So my dashboard right now has a tab for ""covers"", which I assume are like pool covers? Anyway, I don\'t have a pool (covered or otherwise) but that tab remains.\n\nIMO, this is the biggest barrier to adoption right now. HASS isn\'t really usable unless you\'re a tinkerer. Which I am, but the effort to customize the dashboard doesn\'t feel worthwhile. \n\nThat\'s all fine for an open-source hobby project but it won\'t find wide adoption until this is addressed. And Nabu Casa *is* looking to address it, to be clear, they know it\'s a problem. They just aren\'t anywhere near reaching that goal right now in early 2023.\n\nAlso, it\'s a huge pain in the butt to configure Google Home or Alexa to control HASS. Nabu Casa has a strong incentive not to fix this due to their subscription service, and for some reason nobody else has managed to create an addon or script to make it less complicated. I\'m all for supporting Nabu Casa but $5/month is *way* too steep for my blood. If they charged $1/month, which is *more* than reasonable, I\'d subscribe forever.', 'Imagin1956: The flaffing about with HACS ..Register here ,there ,authorise this / that .. lose interest \n\nJust to monitor Energy ...needed App on phone ..Register .. Integration Register on HA ..Then Tapo Register Integration...\n\nThen navigate how to set the flipping things up ..\n\nWhen it works ...goes ok . Can do updates via my phone which is cool .. Very handy \n\nWeather Integrations could be better ,less clunky ..\n\n⭐️⭐️⭐️', 'None: [deleted]', 'The_Penguin22: State history.   10:32 turned off.   No 10:32 was a reboot. device last turned off yesterday dammit.', 'TheCruelSloth: Enabling or disabling default_config items', 'donster222: Leaving nodered open in a tab and then it automatically refreshes when you come back to it.', 'KnotBeanie: Its 2023 and drag and drop dashboards are still not a thing. I thought they were going to be implemented back in late 2020 early 2021.\n\nAt this point mushroom cards should be apart of ha core.', 'tungvu256: Every time I update, something will break. This is why I rarely update unless I absolutely have to.\nExample, mqtt yml formatting changed about 4 months ago. Luckily the community is very helpful so I posted my question about why some mqtt devices failed to load and a lot of people chimed in.', 'olderaccount: The learning curve required to do any little thing with it. It is so powerful, if it easier to use, it would be dominating the DIY automation market. As it stands, it is enthusiast grade only.', 'OkayGolombRuler: I wish I could program automations etc in a proper programming language and common abstractions for state machines and test them independently from HA on some kind of mock/harness library where I can simulate sequences of events', ""Mysterious-Bowler15: The above irritations happened to me this morning also but that's depend on the size of your screen this only happens on my tablet and mobile phone.\n\nMy irritation is loosing the connection with some Zigbee sensors on the second floor"", 'dr_raymond_k_hessel: The whole thing just feels like a mess hanging together by a thread.', ""No_Entrepreneur1616: The fact that I can't just have it auto-update for me.  I have to manually update anything."", 'DIY_CHRIS: Reset button.', 'lenswipe: Overall, I love HA but there are some things that REALLY and I mean (FUCKING. REALLY.) boil my piss. Here goes:\n\n1. The inability to constrain versions of a script with the same parameters from running together. So I can specify that a script can only be run in `single`, `parallel` mode...but what I _really_ want is a script to adjust my thermostats(I have 2) but you can only run it against one thermostat at a time. \n1. The fact that you can\'t have JSON as a state value. So if you want to talk to an API for your trash company, get that data back and then display a notification on your dashboard like ""Hey trash pickup is delayed this week because it\'s St Patrick\'s day""....guess what - each field from the API has to be it\'s own sensor, which means not only do you have to re-implement a bunch of shit in each sensor to get that value, but actually building this is borderline impossible due to the fact that you can\'t do any kind of filtering logic to get the value you want in `json_attributes_path` or `json_attributes` meaning you now need to have one rest sensor to actually *GET* the data from the API, then a bunch of other template sensors to read that sensor\'s state and parse it down to something useful.\n2. ~~The inability to use templates for REST `GET` requests. Need to talk to an API that wants semi-dynamic data like your location or a timestamp? Well guess what buddy, you\'re outta luck. You can do it for `POST` requests in the body...but not get requests in the URL. Seriously why.~~ EDIT: This is all wrong. What you _actually_ can\'t do is have dynamic data in the `POST` body.\n3. The new lighting controls. Sorry. Yes, I know they look nice...but they\'re terrible to use. My wife hates them. I hate them. Surely I don\'t need to elaborate on this.\n4. Whatever coked-up mess of an algorithm dictates where things get laid out on the dashboard. I\'ve given up trying to understand this and just accepted the fact that my dashboards currently do and always will look untidy. Move something up one element and now it\'s in another column. Move it up two elements, now it\'s in the first column again but moved down 3 places. Adding a single new item to your dashboard seemingly can transform it from being a narrow two column dashboard to spanning the whole screen with 4 columns. I can only assume that this layout algorithm was the same person who designed the layout tools for images/text in Microsoft word. The only way to get any kind of sensible behavior out of it is to forcibly constrain the layout with vertical/horizontal grid cards.\n1. The inability to refer to ""people"" as a whole. As-in ""I want this automation to be triggered when everyone that the device tracker knows about are detected""\n1. Speaking of the device tracker - why do I have to refer to people\'s devices in the default notification service. Why can I not just say `service.notify_lenswipe` or have a `user` attribute to notify all of that user\'s devices. Instead I have to manually specify what device the notification goes to `like service.notify_lenswipe_pixel2` or `service.notify_lenswipe_ipad`. This means several things. Firstly it means that if my phone\'s entity id ever changes, I have to either update it to be the same as my old phone, or go and update all my automations - which is absolutely super! Secondly, it also means that it\'s very difficult at a glance to tell the difference between versions of my phone that the device tracker has from the unifi integration(to determine if I\'m on the WiFi or not - and therefore home) versus the android app on my phone. Really it should be possible to just say `notify.lenswipe` and the notification gets chucked into what ever message queue HA have running and whatever device I acknowledge it on first gets it. Whether it\'s dismissed from the others is an implementation detail. Maybe this could be tweaked so that you _can_ still specify the device (via a `device` attribute?) if you _really_ want to....', ""murran_buchstanseger: Can't believe no one has mentioned this - case sensitivity in conditions.  I've lost track of the number of times my automations didn't fire or work properly because I accidentally typed something like 'On' instead of 'on' when editing an automation on mobile.\n\nI'd love a global 'ignore case sensitivity' switch with an option to turn it back on for individual scripts/automations if anyone really needs it."", 'FastAndForgetful: Swiping back on iPhone app when you’re in a subview opens the side menu. I want to go to the previous view. I loaded “home assistant swipe navigation” but it only works to swipe between main views on the top ribbon. I haven’t found anything in HACS to swipe back. Maybe I’m looking for the wrong thing', 'Mother-Wasabi-3088: An entity\'s primary state getting set to ""Unavailable"". This wrecks the \'for\' time in state calculations and requires making a bunch of proxy entities for wifi devices.\n\nThis needs to be moved to an attribute or able to be disabled', ""redwirelessus: The constant 'updates'. Although these are a must for security and performance purposes, having 2,3 etc core/OS updates literally within hours after the 1st monthly one seem a bit much. Ofc, it's up to oneself to determine if needed or to be skipped, but I'm sure all will relate that you'll pay attention to each single one as a responsible HA 'admin'. This has even been brought by some of the more 'prominent' HA youtubers..."", 'iguana-pr: The way that automations work with IF/THEN and conditions.  It\'s like a one way street and there is going back and the automation stops after the condition.\n\nWould be better to make it like ""if switch is on, turn on this light until switch is turned off and then turn of the light"".  Why two automations to do this?', 'Ninjotoro: That I can’t sort the integrations Z-A… The ones I want to regularly look at are all near the bottom. \n\nThat when I’m in the file editor on my phone and I need to double check the yaml on the website, when I go back to the file editor it reloads and removes all the data I’ve just put in… infuriating.', ""LostLakkris: Lack of support for url prefixes. I host multiple for relatives and they're all tied to a reverse proxy. I would rather put it all on one domain, not a bunch of subdomains and a wildcard cert."", ""gtwizzy8: Mine is less of an irritation and just more of a general gripe... How come I can't have more than one shopping list?\n\nI don't want to scroll through all my fruit and veg items added via voice assistant looking for the one hardware item I added on my shopping list when I'm standing in the hardware store.\n\nI have automations that trigger actionable notifications based on zones I enter in the many different places where we do our shopping. But I can't have a different shopping list for those different places."", 'silkyclouds: The fact that sometimes, when you start editing stuff? Text literally start to write down the other way around when not using chrome…', ""sero_t: And all the youtube tutorials are all the same, but miss like critical steps, they don't get for some reason, and i do get"", ""THEderfiddler: I am 100% certain this is a me thing, but every time my HA needs be rebooted, or if I unplug it and move it, none of my devices work. I have to just wait a few days or manually re-pair. Sometimes it doesn't happen, sometimes it happens after an update. I use HA OS on a RPi3+. Can't figure out why, if anyone knows I would so love to hear what's happening."", ""flossraptor: Folders or tags to organize automations, scripts, helpers, entities.\n\nMaybe we could get the automations and helpers somewhere near each other in the GUI so we can actually see the value of the helpers from the automation?\n\nThe dashboards are a trainwreck. Particularly when you have many nested grids/stacks/layout cards. I think they should just steal Grafana's."", ""MaidOnDaLoose: Multiple devices from a single integration are small and difficult to scroll through on desktop. On mobile, it's fine. \nhttps://i.imgur.com/4UfjsuG.png"", 'ifyouhaveghost1: that they refuse to put the restart button with all the rest of the buttons', ""Matt_NZ: It bugs me that I can't integrate authentication with a third party IdP, eg Azure AD. Having access protected by better MFA, conditional access rules, gel blocks, etc are all good things I want to protect my HA instance with."", 'lapacion: Not being able to have folders for automations scripts and scenes. Could literally be a yaml attribute and a pure front-end thing', 'musson: how stuff breaks every time i update.', 'idcmp_: Going through the changelog between versions to see what things I used to rely on have been deprecated and finding ways around it.\n\nNo idea when ""database migrations"" are done.', ""Krojack76: 1. The bad layout of the integrations page for desktop. The square block layout is ugly to look though. Also each one being a fixed size is also bad. If you have 20+ Generic Camera's, scrolling though them in a 2.5cm high box sucks REALLY BAD. I've tried to use Stylus browser extension to fix this but something overrides even that after the page reload.\n2. The weird reload on the login page. I put in my use/pass and check the remember me. I start putting in my 2FA and then the page refreshes back to the start. This only happens once when first going to the login page. After the first refresh it won't do it again. This has happened since I started using HA over 2 years ago.\n3. Allow entity recorder history time override. My config deletes all history over 30 days but I would like to set longer for some devices and shorter for others. I either set it to much longer and deal with a massive database (8gigs already) or offload some sensors into another database like InfluxDB, which I do now.\n   1. Would like an option to add entity to recorder ignore from the UI as well. \n\nThe integrations and devices page should be an expandable tree structure listing."", ""Am0din: Presence detection is terrible.  If I am connected to my Wifi, I should be labeled at Home, not Away just because I am in my back yard and GPS thinks that I am at a neighbor's place.  Wifi = Home.\n\nI have automations based off this - when I get home, disarm the alarm, when I leave, arm it.  Arming usually works fine.  Disarming however, does it about 3-5 minutes later. So I go back into my house - alarm goes off scaring the dogs and my wife, and me."", 'chaz_b: The username and password fields on the login page don’t autofill from Keychain on Safari (and I hear same is true of other password managers on other browsers).', 'ConcentricParrot: The fucking constant torrent of tiny updates. Oh so xx updated from 2023.1.2.4.5.6.5 to 2023.1.2.4.5.6 just because?\n\nWish it was possible to set a limit on that.', 'ianjs: The ability to create a group of rooms. \n\nIf it\'s possible I can\'t see where and it would be very handy to say ""turn off upstairs"" (where ""upstairs"" is two rooms) to shut down lights and devices when I go to bed.', 'Trevsweb: Hacs still having addon option.\n\nHacs not showing update dots\n\nlovelace masonry layout, we really need resizable draggable content', 'EntireReflection: I got really annoyed when HA made running portainer a ""no-no"" on the docker instance.', 'Philmehew: Sooo many UI bugs!!!\n\nLast night I was building some dashboards and had to keep swapping between two devices because some of the Ui worked on one and some on the other.\n\nDrop-down menus in particular seem to be a problem, the thing you’ve chosen isn’t always selected.', 'psychicsword: I want folders for automatons.\n\nI also want the ability to design blueprints in the UI.', 'Dragnier84: This is also what irritates me. I want the ability to group entities and automations in a manner that makes sense to me. Room sorting is ok but I want to make a group that’s based on function. Say if I have a 9-button switch, I’d want to create a group for that switch, the devices it controls, and the automations setup for it.', 'leztum: I created a room named misc for that. All automations not specifically tied to a room are being put into that ""room"".', 'Grim-D: One of the reasons I ended up going with Node-Red. Can have different flows/tabs for each room and just generally organise things alot better.', 'Uninterested_Viewer: Similarly, ""copy to clipboard"" icons in the settings > entity screen would be a huge QoL feature for me\n\n[Example](https://i.imgur.com/JJwr8ZZ.png)', 'hirscheyyaltern: Try scripts instead of scenes. When I started with home assistant I thought the same thing about scenes, but then I realized that scripts are just plain superior', 'curt7000: Agree.  Card organization needs drag/drop and the ability to easily resize cards.\n\nYes I know Layout Card exists as a HACS integration, but this functionality should be default at minimum.', ""hirscheyyaltern: I agree, what we have by default for dashboards is missing a lot. Obviously the community has been great with custom cards and everything, and so perhaps for that reason there hasn't been a huge focus on the frontend compared to other aspects, but having  to learn to understand css to get things how I want them to be is a lot, and I end up keeping my dashboards fairly basic as a result of all the time it takes to perfect them"", ""theloneranger08: This! Idk why you can't control how many columns there are by form factor and the width of the columns."", ""Maleficent-Narwhal19: IF you would have used SmartThings, then you would not have any problem with that. It is far more flexible than Samsung's UI One."", 'Marasadu: I have just started with HA recently. What would in your opinion be the recomended plugins to start with when creating nice, clean and functional dashboards?', 'pixel_of_moral_decay: Removing old devices/entities is a good one.\n\nThat should be a one click operation. Ideally on boot it should even find ones that have been dead for say 90 days and ask if you want to clean those up.\n\nThat’s low hanging fruit.', 'cweakland: I wish graphs had the scale on the side where new data is depicted, or have it on both sides of the graph.', ""electric_machinery: I left rtl_433 auto discovery turned on for too long and now I have 270 devices that I can't figure out how to delete."", 'hirscheyyaltern: assuming you mean that it closes connection after 5 minutes? theres an option to disable this under profile -> automatically close connection. not sure the impact on battery', ""Krojack76: I agree. I know it's handy for a lot of people but as someone who lives in America, it's pretty useless unless I could get solar panels installed which I can't and also my power company doesn't have any API for me to access live usage."", 'lenswipe: Not only this but why can I not simply tell HA statically what my rates are. Instead I have to fart around with OpenEI(which has literally _never_ worked for me by the way).', 'cweakland: Agreed, a tag or folder would be good.  I renamed all my automations to include a tag in the name.  So I can filter on groups of things like “security” or “lighting”.', ""greenphlem: Check out the [hue-like-light-card](https://github.com/Gh61/lovelace-hue-like-light-card) on HACS , it's essentially what you're asking for"", 'hirscheyyaltern: yeah at this point i have 5 \\`sensor.hallway\\_smartenergy\\_metering\\_summation\\_delivered\\_cost\\` sensors. dont even know where theyre coming from tbh, its just one zigbee entity..', 'hirscheyyaltern: oh my god this so much. I ended up just changing automation logs to only show errors because I was sick of seeing all the warnings for everything and being like ""thats not something I care about"". Would do the same for the ""integration took more than 10 sec to start up"" but I would have to block that message for each integration individually.\n\nYou can customize what shows up in logs, but its not particularly intuitive as you have to know the name of the service throwing the error, and you can also filter logs but same thing. Check out the docs for that. [https://www.home-assistant.io/integrations/logger/](https://www.home-assistant.io/integrations/logger/)\n\nAlso, for the log entries specifically about exceeding the number of concurrent runs, if you add `max_exceeded: silent` at the end of the yaml for each automation, it will surpress that message without having to go and change log level', 'addrumm: Yes! It should tell you what service/automation/etc caused the log message regardless of log level but especially for errors!\n\nI’ve had a bunch of warnings about templates in automations in the past but no indication about from which one so I had to go through each one and test them all individually!', 'bitterrotten: Ok. There was a problem with async. Got it.', 'hirscheyyaltern: more complicated maybe than it needs to be, but if it triggered the automation, you can use the trigger.to\\_state and trigger.from\\_state variables. otherwise rather than setting helpers, there is a yaml-only [variable action](https://www.home-assistant.io/docs/scripts/#variables) you can use to temporarily save states. \n\nagain i think the key here is that these things require more advanced knowledge than the average smart home platform, which allows of course for greater customizability, but makes more basic actions harder to do', 'InternationalNebula7: Although perhaps not intuitive, you can create a snapshot (before scene) of the states of various entities as the first step in an automation and then  replay the snapshot/scene after the automation is complete. I do this for lighting before a movie plays then restore after it pauses.', 'finance_throwaway213: Seconded very annoying :-(', 'hirscheyyaltern: >no easy way to make ""functions"" that can perform the same task on multiple equipment (i.e. you have six thermostats with the same logic, you need six methods with the same logic but different variable names)\n\nmacros fix this one, no?\n\n>I have many times had automations fail because I have been confused about if to test for strings ""On"", ""on"", ""True"" or ""true"" when what I really want to know if is boolean true or not.\n\ndefinitely relate to this one. especially with unknown and unavailable too', 'murran_buchstanseger: You can write scripts that take parameters.  Basically, functions...', 'AnAmbushOfTigers: Check out the `bool` functionality [here](https://www.home-assistant.io/docs/configuration/templating/#numeric-functions-and-filters) to fix that true nonsense', 'hirscheyyaltern: YES YES YES YES!! this honestly like its definitely a confusing inconvenience on desktop but on mobile it makes automations straight up unreadable', 'WickedColdfront: Maybe I’ve been lucky, but I’ve been using HA for a couple of years and haven’t had an issue with an update so far.  I’m sure I just jinxed myself and I’ll be posting about an issue in a couple weeks. \n\nMy approach is to:\n\n-\tRead the release notes for breaking chances and make necessary updates prior to updating.  I’ve only been impacted by one or two breaking changes so far. \n-\tWait at least 10 days into the new month before upgrading and never upgrade on day one. \n-\tNever fall more than one major version behind.', ""tobboss1337: HACS is not bad at all but if you want to install a HA Core Update on Release day the odds are that not every custom integration is compatible from day one depending on how well maintained and depended your used integrations are.\n\nThe way i get around this is not to patch on patchday but wait a week. Then create a full backup, upgrade and revert if a vital thing is broken, what hasn't happened to me since.\n\nThere are always horror stories of a few, but i think 99% goes well"", ""hirscheyyaltern: I havent ever heard anyone say not to use hacs. Personally I find it integral for a nice looking dashboard, and some of my favorite integrations come from hacs. Of course it adds another variable to issues with your system, so that might be why, but I've never had issues with my install as a result of anything from hacs"", 'hirscheyyaltern: Check out [this guide](https://smarthomescene.com/guides/sidebar-shortcuts-customizing-the-ha-sidebar/) which shows you how to add your own panels to the sidebar. basically as simple as replacing the `url_path` with where you want to go. Good way to cut down on settings naviation', 'FoFiddy-2021: Agreed - PITA…', 'hirscheyyaltern: i just dealt with this one last night!!! feel your pain on this', 'hirscheyyaltern: \\+1, im just constantly refreshing in another browser tbh', ""randytech: Maybe cut them off from the internet, mine work fine in HA without any additional steps other than removing internet access directly at the router. When they phone home after a reboot might be the reason they're getting new keys. Also you can add a Shelly at the dumb switch. Run it in detached mode so it's always on so they never lose power/wifi. Then add an automation that when the input is switched to toggle the lights in HA so the switch has actual functionality"", ""hirscheyyaltern: That's really strange that you have to extract your tuya local key so frequently. I've lost wifi and power to my tuya lights for extended periods of time, both separately and together, and my local keys are still the same as when I first set them up. In fact, the other day I lost connection to them for an extended period of time, thought it was the local key, and went to grab new ones only to figure out they were still the same. Actually, every time I've lost connection to my tuya devices, it's been something with ha or the integration rather than anything to do with the local key\n\nI suppose it does depend on the device manufacturer, though. I do love the tuya local integration, but it would be great if we could have that whole process automated by inputting credentials and whatnot, similar to the xiaomi integration"", 'Koconut: In yaml, brightness\\_pct is brightness in percentage and can be used anywhere brightness is. They are also both in the UI for automatons.', 'hirscheyyaltern: i would love to group automations. its for this reason that i will combine like automations into one and fire the right path based on a trigger id., just so things are somewhat grouped', ""hirscheyyaltern: I'm someone who didn't know a lick of coding before HA. I understand not wanting to ship with python for scripting as for a lot of people it can probably be more overwhelming than jinja. i feel thats a tough one to strike a balance on. for myself im glad i didnt have to be thrown into python, but for others like you, i can understand being forced into jinja must be frustrating/limiting"", 'hirscheyyaltern: > I\'m a pretty new user so I\'ve got to say just how unfriendly the dashboard and UI can be. \n\nhard agree, though i feel like this is just an open source problem in general. open source uis are not usually easy to navigate because they dont spend all that time qa testing for usability. dashboards require a LOT of work to make look nice imo\n\n> So my dashboard right now has a tab for ""covers"", which I assume are like pool covers? \n\ncovers make sense when you think about it but i admit it\'s a weird name. covers are kind of like switches for devices that slide or rotate from open to closed. garage doors, blinds, shades, that kind of stuff. i admit it is an odd name, im not sure where the nomenclature comes from\n\n> Also, it\'s a huge pain in the butt to configure Google Home or Alexa to control HASS. Nabu Casa has a strong incentive not to fix this due to their subscription service, and for some reason nobody else has managed to create an addon or script to make it less complicated. I\'m all for supporting Nabu Casa but $5/month is *way* too steep for my blood. If they charged $1/month, which is *more* than reasonable, I\'d subscribe forever. \n\ni believe the reason for this is because it requires paying a monthly fee. the non-nabu casa version gets around this by setting up basically a test service that google lets us run for free. it would be hard to automate this because someone else would have to provide their google credentials or up front pay for people. so nabu casu offers the typical service way. $5 is a bit steep if you think of it as just for voice, though they do offer other services, including no-hassle out-of-home access to your ha instance. and you have to also remember that the nabu casa devs are full time on home assistant, a lot of that money goes back into the development of not just nabu casa products but also just general ha development', 'hirscheyyaltern: i normally do this by naming entities where they belong and renaming new ones if im replacing it. it works well enough.\n\nthe other solution is find replace on all the yamls and the dashboard which is...also another functioning solution but not user friendly lol', 'ImATrickyLiar: Nabu hired the author of mushroom cards and they’ve clearly been bringing their ui style into HA. Second to a proper HA voice assistant that’s my favorite thing happening recently.', ""hirscheyyaltern: a card similar to mushroom seems to have been implemented recently! They're called tile cards, and theyre basically just mushroom cards. I still personally enjoy the additional control mushroom cards, but im happy to see them adopting that design"", 'melbourne3k: TBF, I felt like they warned us on the MQTT breaking change, and there were lots of videos out there on youtube warning people of this. I fumbled my way through that too, but I at least was aware it was coming.', 'hirscheyyaltern: they have taken huge strides in usability for less knowledgeable people. the ui, especially for automations, is so much better than when i first switched over to ha a year ago. im honestly a little glad i learned right before a bunch of ui improvements, because it forced me to learn more complicated stuff at the start, and i think people can get by a lot better now with just the ui. it is for sure still harder to do simple things than an average smart home platform, but it feels like theyve come a long way', 'unisit: Maybe have a look at Node-RED', ""hirscheyyaltern: > The above irritations happened to me this morning also but that's depend on the size of your screen this only happens on my tablet and mobile phone. \n\nSee, the strange thing is this doesnt happen on my phone, just my desktop, on my phone it looks like below. \n\n> My irritation is loosing the connection with some Zigbee sensors on the second floor \n\nI used to lose connection with my Zigbee devices all the time when I restarted, live in a small place so I dont really have range issues. But legitimately I think running multi-pan has helped with network stability, simply because its running the network as an add-on, it doesnt restart every time i restart core\n\nhttps://preview.redd.it/put5464pwmwa1.jpeg?width=1015&format=pjpg&auto=webp&v=enabled&s=23e4b1ce06db5b1bf4df1b0eb9e63a38104d0567"", ""hirscheyyaltern: I actually was so annoyed with this i made an automation to auto update every night when I go to sleep. You'll have to change some things about it, but I'm happy to share it with you if you're interested"", 'hirscheyyaltern: &#x200B;\n\n>The inability to use templates for REST GETrequests. Need to talk to an API that wants semi-dynamic data like your location or a timestamp? Well guess what buddy, you\'re outta luck. You can do it for POSTrequests in the body...but not get requests in the URL. Seriously why.\n\nthis confuses me, I have a rest sensor with a get request that uses templates (it\'s not pretty)\n\n        resource:   ""https://www.home-assistant.io/latest-release-notes/""\n        method: GET\n        unique_id: sensor.latest_release_notes\n        name: Latest Release URL\n        value_template: >\n                {{(((value.split(\'\\n\')|select(\'contains\',   \'blog/20\')|list)[0]).split(\'io\')[1]).split(\'\\""\')[0]}}\n        scan_interval: 3600```\n\nand you can use `resource template` for the url', 'Arn0uDs: Number 5 infuriates me. I hate it. Especially when you have multiple tablets with different screen sizes.', 'unisit: 6: you can group the needed device trackers in one entity and work with that\n\n7: you can setup notification groups via configuration.yaml and simply put all your entities there. All devices listed will get the notification and you can use those groups within automations. So if one of your devices changes you only have to change it in this one central place and everything will still work fine', ""hirscheyyaltern: Not quite as annoying but on Android the built-in back button takes you back to whatever the last page you clicked on was. I'd love for it to do the same thing as the back button in the top left and just take you out of the sub View"", 'hirscheyyaltern: yeah, i created an automation that silently updates core at night, mid month, since theres so many mid month updates, not had it for long, but i know it will be nice to not be bombarded multiple times a month about if i want to update core. a nice little notification to tell me what happened, and the relevant changes to me, and i can be on my way', 'hirscheyyaltern: use a for each loop, nest the if statement in the for each loop, that way it will only exit the if statement once your desired condition is met', ""kevin28115: Isn't that just toggle..."", 'unisit: You can name the triggers and build your actions depending on the trigger within a single automation', 'hirscheyyaltern: >That I can’t sort the integrations Z-A… The ones I want to regularly look at are all near the bottom.\n\nzha and zwave users pretty much\n\n>That when I’m in the file editor on my phone and I need to double check the yaml on the website, when I go back to the file editor it reloads and removes all the data I’ve just put in… infuriating.\n\ntrying to edit yaml or automations on mobile is just such a horrible experience...i usually just wait till im home cause the experience is so frustrating', 'hirscheyyaltern: lmao, i love this one. the shopping list feature in haos is cool but, its so basic, i just use google keep for my notes and lists. the one feature i really need is the ablity to indent to create subtasks. the ha shopping list is missing too much for me, im currently using the gkeep integration but its not great, it throws everything in a list unsorted, though it allows multiple lists. definitely need a better solution...', 'hirscheyyaltern: what integrations do you primarily run (that your trouble devices come from )?', ""hirscheyyaltern: Do you use a lot of deprecated integrations? I know there's most of them at least supposedly haven't been maintained to the point that they6 usually non-functioning when they're deprecated but, I haven't been around long enough for any of my Integrations to become deprecated so I could be totally off on that"", ""hirscheyyaltern: I really have not had an issue with this personally. Built-in presence detection should prioritize a Wi-Fi home state over any GPS state. It sounds like something else might be going on like you might be getting disconnected from your Wi-Fi. Or maybe you don't have your device trackers linked through your user profile. Either way, there's a lot of things to be frustrated about with home assistant but, to my knowledge, this one has been very thoroughly thought through.\n\nThis doc explains it well https://www.home-assistant.io/integrations/person/"", 'hirscheyyaltern: This one has just gotta be solved with automations to skip updates', 'melbourne3k: OMG folders for automations - YESx1000\n\nOnce you get going, the ""one big folder for automations"" is so unwieldy. Even with a naming convention, it\'s hard to manage.', ""junon: Okay, so apparently you CAN sort automations by folder. Can you guess how you access that functionality?\n\nBy editing YAML of course! What, you thought they'd put it in the GUI?!"", ""full_hyperion: Yes, that would be even better. But also a lot more work than adding a 'not assigned to a room' filter."", 'Infamous_Bee_7445: +1 and more. Everything starts as a script now, since it can be called from anywhere else.', 'Chaosblast: Exactly this. 2023 requires some better default UX and drag and drop is something to be expected, not requested.', 'pixel_of_moral_decay: I’m only ok with drag and drop if it doesn’t mean losing flexibility/customization.\n\nThere’s lots of home automation products for those who don’t want extensive customization. Home Assistant’s killer feature is flexibility.', ""sero_t: Yes i was 3 days busy to get background of card changed, ok i am a noob but still, sometimes the codes works and then the same code doesn't work"", 'hirscheyyaltern: honestly i feel like so much work has been put into custom cards that theyre almost expected to by used. all this stuff you can do in custom cards, but it would be nice if they could integrate it into ha', ""hirscheyyaltern: as someone who came from smartthings, the ui was not very customizable but it was...honestly kinda fine in the most mediocre way. in same way i miss the smartthings layout, and i do at times try to emulate it with custom cards. again, not very flexible, but it' s servicable enough out of the box. you can do much more with ha but it takes a long to get there and have it look nice"", 'hirscheyyaltern: mushroom card is a really good minimalistic design. i would highly recommend that if youre into that kind of thing. then there also the functional cards: auto entities, state switch, card mod, layout card. those are the big ones for me. also i like swipe card but its not integral at all it just looks cool', 'addiktion: Yeah, and it drives me crazy with multiple entities with the same name but incremented like \\_2, \\_3, \\_4. Usually this happens sometimes on a restart, issue with the integration loading, or power outage. They just build up and it becomes a pain to keep them clean.', ""thykingok: I know but I don't because yeah I think it will impact battery. Webpage loads instantly on pc or phone browser but not the app."", ""AnAmbushOfTigers: Even if the connection is closed the app shouldn't take as long to load a dashboard as it does."", 'hirscheyyaltern: For me I found the best usage is to monitor just my individual energy of my different devices because my company also has no API, but also not even live usage at all. And then the other one is to use a scraper to get energy prices. It would be cool to just be able to access an API but you can still sort of accomplish it with individual power monitoring', 'hirscheyyaltern: ...cant you?\n\n&#x200B;\n\n&#x200B;\n\n*Processing img 5v7d6kkh6owa1...*', 'AnxiouslyPessimistic: It’s SO close and he’s done great work. But it’s still not quite there yet. (Basically it needs to be to my misses liking haha)', 'ReallyNotMichaelsMom: Thank you for sharing this! TIL 😀', ""newbienewme: hadn't heard about macros. I will have to check it out. \n\n(Another nice thing about HA I forgot to mention is that development is quite active!)"", 'newbienewme: Nice! I need to check that out', 'newbienewme: Thanks for the tip!', 'talormanda: It\'s just plain terrible and anytime I try to complain or offer feedback for it, I am met with: ""just use node red"". No, node red is dumb and you can\'t use it with existing automations and I am not rewriting everything just for a plugin.', 'guesswhochickenpoo: This is the way.', ""jakegh: Indeed. IMO, they should have release channels.\n\n- Release Candidate (1 week before GA)\n- Generally Available Release (launch day for the patch, limited testing)\n- Stable GA Release (2 weeks after GA, after no major issues found)\n\nThen I'd just subscribe to stable and let it autoupdate with some degree of safety."", ""jakegh: Eufy integration has been broken for quite some time now. I have a bunch of Eufy bulbs (wifi, and they suck, but they do work otherwise) so this is a real pain for me. It isn't in HACS."", ""JQuonDo:  Newer to HA. Can you share your top integrations? I've only found useful frontend stuff like button card and vertical stack."", 'renaiku: Oh I already did that ;)\n\nI have logs, automations, etc...\n\nBut thank you anyway!', 'Snowssnowsnowy: I think you could be right about if you cut them off from the net that you keep the same keys.\n\nI did not even think about this, I have about 10 Tuya bulbs and I pasted all the keys into an email and sent it to myself. \n\nWhen I moved from Tuya V2 to Local Tuya I just pasted in the keys from my email and they all got added in fine. I think the period of time between adding them into Tuya V2 and Local Tuya was about a year.', 'abc423cba: It’s because the flicking of the switches on and off by the kids does a factory reset on the device. Then when it is re-added to Tuya it gets a new key (but the save virtual device ID).\n\nIf I just turn them off for a while then they are fine when they come back on.', ""hirscheyyaltern: im quite sure this only works for service calls. there is no attribute for it in dev tools and the following shows `null`\n\n```{{state_attr('light.fan_lights_group', 'brightness_pct')}}```"", ""jrhenk: Bet that's possible via yaml yet this would be nice to have via the gui, too... I only learned about the 255 after filing a bug report that something seems not to work there... Now I multiply the desired percentage with 2.55 and it works fine but it feels like a cheap hack when you could just have a little pop down where you'd choose percent"", 'jakegh: Ahh, thanks for the info on ""covers"". I don\'t have any of those either.\n\nI setup the non-Nabu-Casa Google Home integration myself, and it was a pretty substantial effort to get it working in a secure way. I\'ve been using Linux since Slackware and I work in IT, so it\'s the real deal. Needs to be easier. \n\nThe addon or script I proposed would work the same way, using your own Google/Amazon creds, just automated so it\'s less of an extraordinary pain in the butt.\n\nYMMV on the pricing, of course. For me personally, I\'d pay $1/month forever. At $5/month, I\'ll stick with the homegrown solution which does work-- but I doubt many have the sophistication or, frankly, patience to get it working.', 'RedditUser84658: This used to happen to me all the time with my aqara stuff and then I moved to zigbee2mqtt and a new coordinator', 'No_Entrepreneur1616: Yes! Yes yes yes! Thank you!!', 'lenswipe: Shoot, you know what? You\'re right. It\'s not `GET`, it\'s `POST` that\'s weird. I just went back into my bash history. Ima go back and update my comment.\n\nSo, afaik you can\'t include dynamic data in the post body. _THAT\'S_ what it is. \n\nDuring the high gas prices I was trying to build a sensor that would make a request to gasbuddy using their graphql endpoint (yes, I know very naughty....it\'s not technically a public API) and then display the gas prices of my local gas stations...\n\nSo, this works:\n\n\n    curl \'https://www.gasbuddy.com/graphql\' \\\\\n    -H \'content-type: application/json\' \\\\\n    --data-raw \'{""operationName"":""LocationBySearchTerm"",""variables"":{""fuel"":1,""lat"": <LATTITUDE>,""lng"": <LONGITUDE>,""maxAge"":0,""search"":null},""query"":""query LocationBySearchTerm($brandId: Int, $cursor: String, $fuel: Int, $lat: Float, $lng: Float, $maxAge: Int, $search: String) { locationBySearchTerm(lat: $lat, lng: $lng, search: $search) { stations(brandId: $brandId, cursor: $cursor, fuel: $fuel, maxAge: $maxAge) { count cursor { next } results { address {line1 line2 locality postalCode region } name prices {  credit { posted_time price } fuel_product } } } trends { areaName today todayLow trend }}}""}\' \\\\\n    --compressed | jq\n\nWhat I wanted to do was convert that into a REST sensor like this:\n\n    resource:   ""https://www.gasbuddy.com/graphql""\n      method: POST\n      unique_id: sensor.gas_prices\n      name: Local gas prices\n      payload: \'{ ""lat"" : ""{{ state_attr(\'zone.home\', \'latitude\') }}"", \'lng\': ""{{ state_attr(\'zone.home\', \'longitutde\') }}"" }\'', 'lenswipe: Right but again, these are both workarounds for what is essentially a leaky abstraction', ""unisit: Even more annoying is when using kiosk-mode to get a clean dashboard you simply loose access to the sidebar on Android because it only get's you back, on iOS the sidebar opens fine when swiping from the side"", ""hirscheyyaltern: If you have a sky connect, set up multi-pan. It is experimental so it might not work but it runs the zigbee network as part of supervisor not core so it doesn't restart as much.\n\nIf you have any other zigbee coordinator, the best thing you can do to keep your network up is to switch to zigbee2mqtt. Ideally you would run it in a separate Docker container so it isn't affected by home assistant restarts, but running it as an add-on is still better than nothing\n\nAlso, update the firmware for your coordinator"", ""THEderfiddler: It's just the zigbee integration."", ""idcmp_: I mean, I have Z-Wave devices and have had to go through that dance. I also used to have a lot of YAML-configured things and walked through making sure those still work.\n\nFor a while I used a plugin that knew when sunset was and would make decisions on that, but that plugin apparently was replaced by something else which didn't quite work the same way and I couldn't be bothered to reconfigure all that all over again."", 'Vegetable_Novel2490: how?', ""Krojack76: I've used a system called SmartAdmin several times in the past to make dashboards for clients and loved it. Wish they could get something like that as a replacement.\n\nDemo here: [https://www.gotbootstrap.com/themes/smartadmin/4.5.1/intel\\_analytics\\_dashboard.html](https://www.gotbootstrap.com/themes/smartadmin/4.5.1/intel_analytics_dashboard.html)"", 'hirscheyyaltern: ha implimented drag and drop in automations recently and while its not my favorite way to go about it, it does so without losing that flexibility. something like that might work', 'Macaw: > I’m only ok with drag and drop if it doesn’t mean losing flexibility/customization.\n\nA lot of times, the former comes at the expense of the latter because of increased complexity.', 'Maleficent-Narwhal19: Are you talking about the Samsung, or the original SmartThings UI? The original was far more usable. The new is a dumpster fire....', ""AnAmbushOfTigers: I'd also add vertical-stack-in-card if you really want to start falling down the rabbit hole."", 'pixel_of_moral_decay: I’ve got a few test esphome devices for the life of me I can’t remove. They just sit there.', ""hirscheyyaltern: Yeah, I don't know, for me it takes less than three seconds from cold open to everything being loaded, but everyone's got different factors"", 'lenswipe: Not in any meaningful way...\n\n*Processing img 5cs0yion8owa1...*', ""greenphlem: What do you think is missing? The only thing my partner dislikes is that the scene icons are all the same color. I opened an issue about it but the author said the mechanisms to do that aren't present in HA"", 'hirscheyyaltern: lmao.  i spend a lot of time going back and forth between ui and yaml . i like the feedback from ui, but you just need yaml to make stuff easier or in some cases possible. its not a perfect solution, but im happy to stick with it as the ui grows into more usability', 'WickedColdfront: Yep, that would be awesome. \n\nI hacked together a bash script that changes the tag of my docker container to ”current” on the 2nd Saturday after the first Wednesday (release day) of the month.  \n\nMy theory is that by that time any bugs should be worked out.  If there is a bug, at least I’m not trying to solve it while working.', 'hirscheyyaltern: i think this would be really tough, especially with the number of updates. they already have a beta channel and problem a dev channel. this is open source software and its usually built with the idea that power users are te primary maintainers of such products. as such, updates is something we end up just having to manage ourselves.\n\non another comment someone said some of the basic features we sort of expect to see but dont have are usually the ones that add complexity that would make things much harder to maintain or would result is a loss of customizability. unfortunately one comes at the cost of another', 'hirscheyyaltern: integrations themselves really depend on what devices you have. for me localtuya and the wyze custom integratinos are the big ones since they letme connect to devices i either cant in the case of wyze or cant locally in the case of tuya. honestly i dont have many integrations themselves. the other ones i have are one for a better scraper than whats built in, one for razer chroma, and one for my router', ""hirscheyyaltern: Ohhhh they're factory resetting the devices lmao, i didn't realize they were flicking it like that. Yeah definitely get a switch cover or unwire that thing or something, that sounds miserable"", 'hirscheyyaltern: i think the best thing about z2m is that you can separate it from ha so it doesnt have to shut down the network when you restart ha. ive thought about maybe running the multi pan add on in a docker container (if possible) to achieve a similar effect. but i dont even know if thats possible. \n\nz2m is great, but theres just something about zha being built in that i want to keep using it, despite it lagging behind z2m', 'hirscheyyaltern: alright, theres a lot to it, so i\'ll explain a few things here and post it as a link since its too long for redit. it should all just work with a few changes that ill list and explain below\n\n[https://dpaste.org/AG0nM](https://dpaste.org/AG0nM)\n\nfirst, cause of breaking changes, i made it force me to look at the changelog via notification and then press update, except for mid month core releases, as they dont have breaking changes. it\'ll wait for night and update then\n\nchoose path 1 will check upon restart if an update was applied. it does this by use of `input_text.ha_update_check` which is an text helper i made to remember the last version of an entity on track to be updated, to compare with the current state to see if the update failed or succeeded and then send a notification. choose 1 is entirely for this purpose\n\nchose path 2 is what actually updates ha. it checks if its a mid month core update. if it is, it silently updates at night. for core, supervisor, and haos, it notifies me beforehand via mobile app notification and makes me confirm i want it to update\n\ni use a `for each` for notify, so i can send it to multiple devices based on a different entity I have, so the for each can be removed and mobile app service just replaced with your phones mobile app. some of the notification commands do rely on android specific parameters\n\nadditionally, i use an intent command to close the notification shade on my phone for me, the one to `com.llamalab.automate`, which can be removed as you\'ll just have to close the notification shade yourself\n\ni use the google drive backup add on, so before a backup attempt it backs up to the add on, but its also important because the add on exposes attributes for when ha was last backed up, which i use to not proceed until the backup is complete\n\nbefore it applies the update, it sets the text input with the version and entity id of what it\'s trying to apply an update to so it can check on restart.\n\nfor mid month core version, and this one was just for fancy factor, i made a sensor that contains a list of all my integrations (pulled from a file within .storage), and after mid month core updates, it will display in the notification, changes only for integrations i have installed. that sensor i\'ll put below.\n\nkeep in mind, this file the sensor reads does contain all of your keys and passwords. i stripped it out before it goes into the sensor, but just know where its coming from if it doesnt work right. it uses spaghetti code bash commands to strip the data, since i dont know bash\n\n      - platform: command_line\n        name: integrations\n        command: |\n          echo ""$(sed -n \'/^{/,/""entries"": \\[/p\' /config/.storage/core.config_entries) $(sed -e \'s/^/{/\' -e \'$ s/,$//\' -e \'s/,$/},/\' /config/.storage/core.config_entries | grep -w ""\\""domain\\"""" | sed \'$ s/,$//\' | awk \'!seen[$0]++\') ]}}""\n    \n        value_template: >\n            {{value_json[""data""][""entries""]|count}}\n        json_attributes:\n          - data```\n\none last thing i use for this is a sensor to grab the ha url and a second sensor to grab the updates list for the mid month core iteration. it uses a rest sensor to get the url and multiscrape custom integration to list the changes:\n\n&#x200B;\n\n      - platform: rest\n        resource:   ""https://www.home-assistant.io/latest-release-notes/""\n        method: GET\n        unique_id: sensor.latest_release_notes\n        name: Latest Release URL\n        value_template: >\n                {{(((value.split(\'\\n\')|select(\'contains\',   \'blog/20\')|list)[0]).split(\'io\')[1]).split(\'\\""\')[0]}}\n        scan_interval: 3600\n\nand\n\n    multiscrape:\n      - name: HA scrape\n        resource_template: >\n          {{\'https://www.home-assistant.io\'~ states(\'sensor.latest_release_url\')}}\n        scan_interval: 3600\n        sensor:\n          - unique_id: core_updates\n            name: Core Updates\n            on_error:\n              value: last\n            select: >\n                  {{\'h2:contains(""\'~state_attr(\'update.home_assistant_core_update\', \'latest_version\')~\'"")\'}}\n            attributes:\n              - name: core_updates_list\n                select_list: >              \n                  {{\'h2:contains(""\'~state_attr(\'update.home_assistant_core_update\', \'latest_version\')~\'"")+ul>li\'}}\n\n&#x200B;\n\nlike i said, theres a lot here. provided you swap out the appropriate entities, this should work flawlessly. ive had each path run successfully at least once each since i made this, but it is still only a week or 2 old so its possible things might break', ""murran_buchstanseger: It still needs major improvements.  It's only possible to reorder things in the same level.  If you want to wrap existing conditions or actions inside an 'or', 'if' or 'choose', it's YAML for you."", 'hirscheyyaltern: it looks nice, its mildly functional. i know its not great in terms of functionality, but im all for the ui design itself', ""Matt_NZ: I have...I didn't even know about OpenEI"", 'AnxiouslyPessimistic: Mainly that you can’t change the brightness of individual lights when you click into a room. I like rooms bright and she likes a very specific setup haha so individually changing lights is a must', ""jakegh: That's a clever solution! I use HASS OS so wouldn't apply to me, but good thinking."", 'jakegh: Completely right-- the current solution is appropriate for open-source hobby software. But is it the right answer for mass-market acceptance?', ""JQuonDo: I only have govee lam control for my govee devices but was looking for other fun integrations to work with, but it makes sense that if I don't have a need that I won't find much."", 'hirscheyyaltern: i agree it leaves a lot to be desired, but im happy theyre doing something about it', ""Maleficent-Narwhal19: Ok, I get it. But think of this... it was a huge announcement by Samsung when they created animated icons, and a half year later, there wasn't any sign of it in the app. HA probably will overhaul the whole UI 5 times this year. The flexibility is still in HA. \n\nI really hope, that speech control will work better also with HA. Samsung only promised changes there, as JDRoberts was the only who was really nagging them about it, but no effect, no changes, but broken promises."", ""lenswipe: It's not that useful"", ""greenphlem: Ah yeah, makes sense. [Looks like it's a planned thing](https://github.com/Gh61/lovelace-hue-like-light-card/issues/10), hopefully they can implement it soonish"", 'hirscheyyaltern: you could achieve the same result by just having an automation skip the release and unskip it at the desire time, right? unless im misunderstanding', ""hirscheyyaltern: i think we're still working towards that and it's clear thats a focus, between the ui changes and the nabu casa branded products theres a clear focus on increasing ease of use for average consumers, but it's got a long way to go, its a hobbyist product first and foremost and it's a lot of work to make all the changes necessary to make it more appealing to a large market (while also importantly not alienaiting the hobbiest that have get it going so strong to this point)"", ""hirscheyyaltern: a lot of people use the adaptive lighting integration! the integration changes your lights color temp based on the time of day/ position of the sun. ive just gone this logic on my own in automations, but for those who don't want to do that logic their own, its a great integration, and from what i can tell it does allow for a lot of customization too"", ""jakegh: Potentially? I'm a pretty new user so I wasn't aware that was possible. I'll look into it."", 'JQuonDo: That\'s sound great. I was planning to ""do it myself"" route but it\'s been information overload and a decent learning curve learning HA. I\'ll definitely check this out.']"
1682669935.0	28-Apr-2023 01:18:55	Struggling with HA assist	callmejohndoenotoe	3	131lilm	homeassistant	https://www.reddit.com/r/homeassistant/comments/131lilm/struggling_with_ha_assist/	If I ask assist to switch off bedroom lights using the assist text box in top right of dashboard, it works. If I use the Siri shortcut it says it’s unable to do it, the shortcut seems to be working correctly but assist doesn’t work when used this way.	0	[]
1682665635.0	28-Apr-2023 00:07:15	QUESTION: Routine can be seen on Next Max but not in Google Home on Android phone	theVodkaCircle	0	131kcpx	homeassistant	https://www.reddit.com/r/homeassistant/comments/131kcpx/question_routine_can_be_seen_on_next_max_but_not/	"As above, I have a routine I want to cancel but it is not listed in the 'Routines' section in Google home on my phone.

I can see the routine under routines on my Nest Max but pressing on it does nothing.

I can see every other routine on my max in my phone, just not this one.

Any thoughts please?

Thank you."	1	"[""antisane: You're in the wrong sub, this sub is for Home Assistant.\n\n/r/google""]"
1682654613.0	27-Apr-2023 21:03:33	Can I move this snapshot?	emtee_skull	1	131h0px	homeassistant	https://www.reddit.com/r/homeassistant/comments/131h0px/can_i_move_this_snapshot/	"This snapshot is so large. I want to move it to second drive. Is that possible? Or can I reduce its size?  

https://preview.redd.it/bko1n1kpujwa1.png?width=881&format=png&auto=webp&v=enabled&s=e9a9809e72a32a0f43f62d48307c19e207800488"	1	"[""kaizendojo: I don't knw about moving just the snapshot, but this guide might be helpful.  I think just moving the snap is a more involved process;  I remember looking into it at one time a while back and deciding against it.  But YMMV, check out the link for a little background. HTH\n\nhttps://www.techrepublic.com/article/how-to-move-virtualbox-vms-from-one-drive-to-another/\n\n\nEDIT: Also had this relevant link in my bookmarks:\n\nhttps://forums.virtualbox.org/viewtopic.php?f=35&t=55003""]"
1682653767.0	27-Apr-2023 20:49:27	[Question] Cordless phone system for voice assistant?	theglus	1	131gqfh	homeassistant	https://www.reddit.com/r/homeassistant/comments/131gqfh/question_cordless_phone_system_for_voice_assistant/	"After reading [Year of the Voice - Chapter 2](https://www.home-assistant.io/blog/2023/04/27/year-of-the-voice-chapter-2/) I am very excited about setting up a network of landlines to replace my Google Home setup. 

Looking into the [Private Voice Assistant](https://next.home-assistant.io/projects/worlds-most-private-voice-assistant/#about-the-analog-phone) documentation, I realized that I would need a Grandstream HT801 for each landline, this is problematic since my only ethernet jacks are in my living room.

My question is, would it be possible to hookup a cordless phone system in my living room and place cordless handsets around my apartment?"	6	"['_Rand_: I have a grandstream 801.\n\nI removed the houses phone line hookup from the street and wired into it instead.  Every jack in my house is running off the same unit, has been for like 10+ years without issue.\n\nAnd one of the phones hooked up is a 4 or 5 handset panasonic thingy.', ""antisane: As long as you plug the cordless phone's base unit into the HT801 I would \\_think\\_ it would work. I have none of the hardware to test it though."", 'The_Mdk: It should definitely work, as long as that final cradle is connected to the VOIP device and then to your router/LAN port\n\nThey\'d all dial to the same ""number"", so you won\'t be able to make per-room/phone customizations, I guess', ""theglus: > I removed the houses phone line hookup from the street and wired into it instead. Every jack in my house is running off the same unit, has been for like 10+ years without issue.\n\nOh man, I'm going to keep that in mind for when I have my own house!\n\n> Awesome, this is just what I was looking to hear."", ""theglus: Thanks, that's what I figured, just wanted to be sure."", ""theglus: Sweet! I'm excited to give it a whirl. Now off to buy some phones.""]"
1682649184.0	27-Apr-2023 19:33:04	Can I use a Shelly 1 Plus to control my garage door WITHOUT a reed sensor?	ucrbuffalo	0	131f6bs	homeassistant	https://www.reddit.com/r/homeassistant/comments/131f6bs/can_i_use_a_shelly_1_plus_to_control_my_garage/	"So here's my grand plan:

I got a Shelly 1 Plus for my garage door. 3D Printed a mount for it and put it on my garage door opener. I am also going to get an Aqara sensor to watch the status on the garage door. So I'd like to set these up in Home Assistant, then when the garage has been open for X amount of time, send me an alert so I can close it from HA (might set up an automation to do it automatically, but haven't decided yet).

My problem comes in when all of the tutorials show that I need a reed switch for the Shelly. I wasn't intending to use one of these. So I skipped this step and started setting up the garage door and it won't go up/down. So is the reed switch absolutely necessary then?"	9	"['simonparkis: You can create a template cover device combining the Shelly and aqara sensors into a single cover device. Details [here](https://www.home-assistant.io/integrations/cover.template/)', ""fuckingreddit666: I don't know about the shelly, I used a tuya wifi garage door opener but without the Reed switch, essentially making it just a wifi push button, I removed the reed switch on the opener otherwise it would get out of sync if the door remote was used the ha button wouldn't work.\nThen I just used a separate wifi reed switch specifically to monitor the position of the door.\nYou may be able to do this with the shelly im not sure"", 'ChipBeef2354: This post confuses the hell out of me. Of course you can use the Shelly without a reed switch, but how the hell do you intend to know the position of the door? Are you planning on using a tilt sensor or something else?', 'Accomplished-Box-629: Have you taken the Shelly out of the equation? I’m assuming you have a wire running from the Shelly to the opener. Disconnect it from the Shelly and touch the positive and negative wires together to simulate a button press. Does the opener activate? If not the problem is not with the Shelly. I think I have read newer openers don’t let you just you add a switch, you have to use their opener button. Could that be the problem here?', 'DIY_CHRIS: You can do it without it a reed switch. It’ll just open and close the garage, but won’t indicate if it is actually open or closed. You can find a reed switch on Amazon for less than $10 for two, so I would suggest just getting on. You can mount the sensor on the motor next to the chain/belt carriage and the magnet on the carriage itself. I used a 3M command strip. A second reed switch on the door would help indicate it closed completely, and not stuck somewhere in between.\n\nYou can use the Aqara vibration sensor, but at 3x the cost of 2 reed switches. I also have this on my mailbox. It’s more complex than it needs to be I think. The reed switch is dead simple.', 'ucrbuffalo: Yeah, in theory, that’s the plan. However, when I test the Shelly using their app, it’s not opening the garage. So I’m kinda trying to trouble shoot that first.\n\nIf the template works, then that’s my plan, but I’m worried that the Shelly isn’t going to work without the reed switch.', 'ucrbuffalo: The Aqara sensor will have the same function as the reed switch would.', 'ucrbuffalo: Ok so if the reed switch isn’t strictly necessary, then that must mean my wiring is wrong. I’ll have to track down the issue when I get home. \n\nRight now, the Shelly 1 activates, then I see the arrows on the back of the garage light up (up, down, down, down) but the motor never engages.', 'DIY_CHRIS: To use without a reed switch, you’ll need to set up the Shelly as a momentary button. Typically the reed switch is placed on the input of the Shelly, but without it, the Shelly input should be configured to follow the status of the button.']"
1682642337.0	27-Apr-2023 17:38:57	Unsupported System - AppArmor issues | Home Assistant on Proxmox	MutantIvy	2	131coon	homeassistant	https://www.reddit.com/r/homeassistant/comments/131coon/unsupported_system_apparmor_issues_home_assistant/	"I'm running Home Assistant through proxmox. I recently added some more storage so that I could start uploading some (legally acquired) movies to my jellyfin server that was being ran as a HA addon, and after having no problem uploading 3 files, I woke up the next morning to HA crashed with proxmox displaying an IO error and a yellow alert triangle next to the HA virtual machine in proxmox. After about a day the problem seemed to fix itself, but now I'm seeing this error that I've never seen before in HA: 

    Unsupported system - AppArmor issues
    System is unsupported because AppArmor is working incorrectly and add-ons are running in an unprotected and insecure way. Use the link to learn more and how to fix this.

It has a link going to [this page](https://www.home-assistant.io/more-info/unsupported/apparmor).

Anyone have any clues as to what is causing this? Should I just recreate the VM? I'd really rather not if possible, but I'm afraid I've messed something up."	2	"['waka324: How did you create the proxmox VM?', ""MutantIvy: I can't remember exactly, but I'm pretty sure I used the Home Assistant script [here](https://tteck.github.io/Proxmox/).""]"
1682638001.0	27-Apr-2023 16:26:41	Why do my entities get new a new ID randomly.	ngless13	3	131b06l	homeassistant	https://www.reddit.com/r/homeassistant/comments/131b06l/why_do_my_entities_get_new_a_new_id_randomly/	"I'm consistently updating dashboards to match the new id because the old one is unavailable. For instance I'll have Bathroom_Light change to Bathroom_Light_1 etc. Sometimes there's a suspect reason, such as rebooting my router. But other entities do this constantly. I'm on 16 or 17 now with my outdoor soil temperature (esp32 using espnow and nodered). Are there any common reasons for this behavior and ways to remedy it? Are there any easy ways to ""combine"" entities to the original id?"	4	"['ZAlternates: This is not normal at all. \n\nNow as to why it’s happening? I got no idea. Crank the logs up and look for patterns because this should never happen.', 'tiberiusgv: Are you using static IPs? Not sure it would cause this but dynamic IPs and a router reboot could change things up.', ""ngless13: I'm not going with static IPs. Is that really a reason to consider a device as new? I'd expect or hope that MAC address would be a much more reliable way to determine that. That could explain a majority of the instances of new IDs, but wouldn't explain the outdoor soil temperature one. That one is super weird because the same device has 2 entites. One that's never changed, the other one changes every few days seemingly"", ""tiberiusgv: I'll admit to doesn't seem quite right, but might be worth trying. While it isn't really a counter argument, I've always used static IPs and have never had that issue. You might have a mix of issues happening and it could take trying a few things to sort it out.\n\nIf you look at the device config file you can see what identifies a device. HA identifies devices in a few different ways (one option being MAC address) that fit the use case of a device. Looking at the device and entity config files might help you understand what differentiates your multiplying devices.""]"
1682637987.0	27-Apr-2023 16:26:27	Automation for LG input, audio change, and Xbox control?	JoseValdez69	2	131azy6	homeassistant	https://www.reddit.com/r/homeassistant/comments/131azy6/automation_for_lg_input_audio_change_and_xbox/	"Due to my gaming headset, I use the optical out from the TV (used to be on the old xbox. Stupid Microsoft🙄), so every time I want to play, I need to switch video and audio inputs to match. 

Can HA control all that? I played with it a bit but can’t seem to find any clear ability."	1	['Sethroque: Yes, the LG integration can change that\n\nhttps://www.home-assistant.io/integrations/webostv/']
1682637948.0	27-Apr-2023 16:25:48	NFC Tag Failing	tesuba	2	131aze8	homeassistant	https://www.reddit.com/r/homeassistant/comments/131aze8/nfc_tag_failing/	"I’m about to pull my hair out. 

I want to do the following:

Scan NFC tag and turn off or delay an automation. 

Currently my hallway and kitchen motion sensors trigger when we want to watch a movie. This is really distracting. 

Normally I would turn these off manually. I have been trying to do it with an nfc tag instead but the helper entity won’t show up for the scanning conditions. 

I can’t find any integration or fancy configuration code to work."	2	"[""Jay_from_NuZiland: > but the helper entity won’t show up for the scanning conditions\n\nIf you're referring to the Actions part of the automation, you need to be calling a service (`input_boolean.turn_on`) with the toggle entity as the target in the data section."", 'tesuba: This worked! Thank you!']"
1682636649.0	27-Apr-2023 16:04:09	Z2M cannot connect to broker	CulturalFinger4936	2	131agcj	homeassistant	https://www.reddit.com/r/homeassistant/comments/131agcj/z2m_cannot_connect_to_broker/	"I've been stuck on this for 2 days, please someone point out what i'm doing wrong. I just bought a Sonoff zigbee dongle P, and I am trying to integrate it to HA with Z2M. I set it up from zero like 5 times, following different guides, but no luck so far. Already tried rebooting, reinstalling the addons, setting every single config option in the Z2M yaml, reflashing the dongle (on 20221226 coordinator firmware right now, the one it came preflashed with was a year older), same error. My mosquitto broker is working fine (and already tried it with EMQX to see if the error is maybe on that side, but same error with that one).

my config right now:

    data_path: /config/zigbee2mqtt
    socat:
      enabled: false
      master: pty,raw,echo=0,link=/tmp/ttyZ2M,mode=777
      slave: tcp-listen:8485,keepalive,nodelay,reuseaddr,keepidle=1,keepintvl=1,keepcnt=5
      options: ""-d -d""
      log: false
    mqtt:
      user: mqtt
      password: pw
      server: mqtt://192.168.100.101:1883
    serial:
      port: >-
        /dev/serial/by-id/usb-Silicon_Labs_Sonoff_Zigbee_3.0_USB_Dongle_Plus_0001-if00-port0

Mosquitto can be reached on the address, and works fine(it binds on [0.0.0.0](https://0.0.0.0) so i tried some alternatives like localhost, hostname, but no change).

My Z2M log:

    [00:43:47] INFO: Preparing to start...
    [00:43:47] INFO: Socat not enabled
    [00:43:47] INFO: Starting Zigbee2MQTT...
    Zigbee2MQTT:info  2023-04-28 00:43:49: Logging to console and directory: '/config/zigbee2mqtt/log/2023-04-28.00-43-49' filename: log.txt
    Zigbee2MQTT:info  2023-04-28 00:43:49: Starting Zigbee2MQTT version 1.30.3 (commit #unknown)
    Zigbee2MQTT:info  2023-04-28 00:43:49: Starting zigbee-herdsman (0.14.103)
    Zigbee2MQTT:info  2023-04-28 00:43:49: zigbee-herdsman started (resumed)
    Zigbee2MQTT:info  2023-04-28 00:43:49: Coordinator firmware version: '{""meta"":{""maintrel"":1,""majorrel"":2,""minorrel"":7,""product"":1,""revision"":20221226,""transportrev"":2},""type"":""zStack3x0""}'
    Zigbee2MQTT:info  2023-04-28 00:43:49: Currently 0 devices are joined:
    Zigbee2MQTT:info  2023-04-28 00:43:49: Zigbee: disabling joining new devices.
    Zigbee2MQTT:info  2023-04-28 00:43:50: Connecting to MQTT server at mqtt://192.168.100.101:1883
    Zigbee2MQTT:error 2023-04-28 00:43:50: MQTT failed to connect, exiting...
    Zigbee2MQTT:info  2023-04-28 00:43:50: Stopping zigbee-herdsman...
    Zigbee2MQTT:info  2023-04-28 00:43:57: Stopped zigbee-herdsman

There is nothing in the broker log, so it seems like it doesn't even try to authenticate. If it couldn't reach the broker, that would also be a different error message.

Any idea what i'm doing wrong?"	5	"['ProfessorSlocombe: Your log shows Z2M trying to connect to [192.168.54.101](https://192.168.54.101) but your config is [192.168.100.101](https://192.168.100.101).\n\nIs that just an artefact of your testing?', 'CulturalFinger4936: Figured it out, for anyone struggling with this in the future, the solution was:  \nI found a zigbee2mqtt/configuration.yaml file in the ha docker container, it was generated when I installed the plugin. This part was the problem:\n\n    mqtt:\n      server: mqtt://core-mosquitto\n      ca: /etc/ssl/mqtt-ca.crt\n      key: /etc/ssl/mqtt-client.key\n      cert: /etc/ssl/mqtt-client.crt\n\nThe listed cert and key files do not exist under /etc/ssl neither in the HA container nor in the zigbee2mqtt container. (supervised ha, every component installed via the gui addon manager)\n\nRemoved the cert/key/ca lines, now it works perfectly.', 'CulturalFinger4936: Yeah, the config and the output was from 2 different tries, thanks, fixed it in the post.', 'ProfessorSlocombe: Not the prefered option but have you tried it without a mqtt user and password.', 'CulturalFinger4936: Yes, went through all the debug options in the documentation, and also tried it with manually created user. It looks like it should say the error that was thrown after the ""exiting..."", like authenticaton failure, port unreachable etc., but mine doesn\'t even try to connect to the mqtt broker before it stops. I will check the code tonight, to maybe find what can cause this type of error without additional error message. \nI tried to install ZHA to see if maybe the dongle is faulty, but that integration works, and picks up zigbee devices, so the dongle itself should be fine.']"
1682635542.0	27-Apr-2023 15:45:42	Logbook and history aren’t showing any entries for current or past events.	smdifansmfjsmsnd	2	1319yns	homeassistant	https://www.reddit.com/r/homeassistant/comments/1319yns/logbook_and_history_arent_showing_any_entries_for/	Tried restarting and dormant fix it and can’t seem to find much on Google.  Others were able to fix it by restarting and  then some had it only happening randomly.  Mine isn’t showing anything at all.	0	[]
1682635157.0	27-Apr-2023 15:39:17	Meet Atom the GPT Assistant, an AI-powered Smart Home Assistant. It's like Google Assistant but with endless possibility of ChatGPT, it's like Siri but with extensibility of Open Source power.	seitk	0	1319sbd	homeassistant	https://github.com/Seitk/gpt-assistant		0	[]
1682634781.0	27-Apr-2023 15:33:01	Homeassistant wont boot after storm power surge	Snikerdodle	4	1319md2	homeassistant	https://www.reddit.com/r/homeassistant/comments/1319md2/homeassistant_wont_boot_after_storm_power_surge/	I am running on a RPI4 and a ssd. I am not getting any activity to the ssd when starting my pi. Does anyone have any guesses to what it could be or what I should try?	3	['LookinUpAndWandering: Start with a new power supply since it’s easy to rule in/out. And if the boot loader is still sd card based (is it?) then swap that too. I lost an sd card to a surge. I now make more backups. :( Sucks. Sorry.', 'Snikerdodle: It is powering up, but it is 100% on the ssd now. Sound doomed to you?', 'LookinUpAndWandering: I’ve had a dying power supply send enough for the Pi to start but not enough to usb. Double check. Then try to do a clean sd card image startup and confirm if pi is working. \n\nFinally, can u mount the ssd to anything else? It’s usb I’m assuming.']
1682632240.0	27-Apr-2023 14:50:40	FP2 flush mount enclosures?	jeffmefun	10	1318g8w	homeassistant	https://i.redd.it/2aojvuljhjwa1.png	"Does anyone know of any plans to make a flush mount enclosure for the fp2? 

I'm doing a remodel installation, and I would love to be able to use the fp2, but not have it be so conspicuous.

Even if I had to break them apart, getting them into something like this Tuya device would be great."	7	"['javicano8: Can it be mounted behind a curtain or does it have to have line of sight?', '_Rand_: Isn’t it flush mount out of the box?\n\nIts meant to go in a hole cut in drywall.', ""jeffmefun: Mounting behind a curtain isn't really an option in most of our rooms (just blinds over windows). \n\nBut... that's a great question. I'm wondering if I can put the FP2s behind art (no glass)."", ""jeffmefun: I don't think so - it has a mount for putting on another surface. None of the reviews I've seen show a flush mount installation.\n\nPlus, it doesn't have any sort of flange or mud-in mount."", '_Rand_: Well, it installs like recessed lights or pot light.  It has a slight lip, not totally flush.', 'jeffmefun: Are you talking about the fp2 or the Tuya I have in the OP picture? I want the fp2 sensor in the Tuya form factor.', '_Rand_: I thought you were talking about the device in the picture, which was why I was confused.\n\nI was wondering why, what a 1/8th inch lip? was a big deal.']"
1682629627.0	27-Apr-2023 14:07:07	Can I host Frigate in a Docker container and save recordings to its surveillance drive and be able to access the clips from a separate device, my Pi 4 running HA, using the HACS Frigate integration?	TrousersCalledDave	8	1316z13	homeassistant	https://www.reddit.com/r/homeassistant/comments/1316z13/can_i_host_frigate_in_a_docker_container_and_save/	"My server is running OpenMediaVault running Portainer on an old i73770, 8GB RAM, and I've just managed to bag a Coral TPU at near-ish retail price which is arriving tomorrow.

I eventually want to run HA on the server too, but for now, I'd rather just get Frigate up and running separately (but on the same network). So is it possible to host Frigate on the server and access the clips/motion sensors etc. on my Pi through the Frigate integration?

Thanks.

By the way, UK people interested in the Coral, it's still currently available for £84 delivered at [The Pi Hut](https://thepihut.com/products/coral-usb-accelerator)"	11	"['w1ll1am23: Yes. \n\nThis is how I do it. \n\nYou will want to setup the frigate proxy addon.', 'bob_cheesey: £84! I paid £60 for mine brand new from eBay about 18 months ago and I thought that was expensive.', ""TrousersCalledDave: Excellent, thanks. \n\nI'm very new to Docker and containers, so please bear with me. \n\nSo I get the image up and running in Portainer, then in Home Assistant, add the Frigate Proxy addon, then install the HACS Frigate integration? Is that right?\n\nThanks."", 'salzgablah: Why do you want the proxy addon as well as the integration?', 'TrousersCalledDave: I think £60 is about the RRP, but given how bad the whole chip shortage issue is at the minute, I jumped at the chance at getting one the next day for ""only"" £20 more. The only other option was to sit on a waiting list for months on end and probably still end up paying over the odds.', ""w1ll1am23: Yupp it's that simple. Just follow the Frigate install guide and it should walk you through it, gotta make sure you have the right ports setup in docker and stuff but again the install guide has all that laid out pretty well."", ""nickm_27: yes that's correct"", ""w1ll1am23: The proxy addon let's you view the frigate UI from inside of home assistant. It's optional I suppose, but nice not having to navigate to another url when you want to do something more complicated than just view the camera."", 'TrousersCalledDave: Excellent stuff, thank you :)', 'TrousersCalledDave: Brilliant, thanks :)', 'salzgablah: Ok that is pretty neat. Thanks for the recommendation. I already have the frigate integration setup and thought I might be missing something.']"
1682629032.0	27-Apr-2023 13:57:12	Sending ir codes	Rangandi	2	1316lmx	homeassistant	https://www.reddit.com/r/homeassistant/comments/1316lmx/sending_ir_codes/	"I have  a tuya ir blaster integrated with zha. How can i make a button in home assistant to send a code? I have allready learned the code
Thanks:)"	4	['LurkerTalen: Check out this article: https://smarthomescene.com/reviews/tuya-zigbee-infrared-ir-remote-zs06-review/  - it goes over what you need to do from a high level, it looks like a zha service call. I use zigbee2mqtt mines I can’t help more then that really.', 'Rangandi: Thank you:) i used this tutorial to set it up, but i does not explain how to send codes', 'LurkerTalen: Theres a picture showing it setting a zigbee cluster. Look for a zha service call in home assistant that does that. If it’s available you can find everything in the developer - services tab list and fill in the cluster settings from the picture.', 'Rangandi: Thank you!']
1682628010.0	27-Apr-2023 13:40:10	My phone is ready for some HA Assist action! ☎️	mmakes	258	1315z1h	homeassistant	https://i.redd.it/p6czsz6cnhwa1.jpg		57	"[""balloob: Context: Home Assistant just launched the [World's Most Private Voice Assistant](https://www.home-assistant.io/blog/2023/04/27/year-of-the-voice-chapter-2/#worlds-most-private-voice-assistant)"", ""carlos_spicy_wienerz: Number one: I love that Bang and Olufsen phone!\n\nNumber two: I've been very busy for a while but checked out the link and that just looks really awesome and a great use of old technology (I mean come on how many people actually have a landline anymore).\n\nEdit:\n\nNumber three: I didn't even realize I was replying to the founder of Home Assistant 🤣 I bow to you sir 🙇\u200d♂️"", 'crumpet_concerto: Can you please link that phone? I love it!  \n\n\nJk found it, Beocom 1401', 'ExtremelyQualified: Ugh I was so in love with those phones in the 90s. Maybe this is my chance.', 'digiblur: I want someone to setup a nextel baseband and do some PTT around the house.... Where ya at!', 'Whiffed_Ultimate: WAIT, WE HAVE BUILT IN VOIP NOW?!', 'wenestvedt: Man, this is totally cool!\n\nWill it be possible to use an existing  VoIP handset to do this (without making it a dedicated connection, so to speak)?', ""arctic28: I'd love to do something similar and setup home assistant as an extension in my pbx that's setup as my landline."", 'cutlercollin99: Can you peal the plastic? Hah', 'Mazkarth: Time to get a Polycom for home and try this shit out.', 'Floppy76: I don’t know if it’s because I just woke up, but it took me *ages* to see the perspective right on this photo! I could see the phone as anything except a hole in the red mat 😅', 'djneo: VoIP !!  I am so happy. Never been this excited for an new release !!\n\nAlso Bang & Olufsen.  \nI have 2 Beocom 5’s and a Linksys ata. Hopefully I can get that to work', 'None: [deleted]', 'flossraptor: This is hilarious. As if picking up a phone to talk to Home Assistant is even remotely useful. It would be easier to just not have a smart home and use wall switches.', 'obinice_khenbli: I thought that was a dark hole/slot in the wall that you were installing wiring into, I was SO confused', 'buss_lichtjaar: Maybe slightly unrelated, but I still get this error when using Assist: "" An unexpected error occurred while handling the intent"". Assist tries to turn on the update entity from Z2M instead of the light itself, anyone know how to solve this?', 'adelaide_flowerpot: Can the new VOIP Integration play nicely with another phone system? Eg a FreePBX/Asterix SIP system at home', 'IWIKapps: Can I add this as a second line to my already in use ObiHai?', 'lalcaraz: So cool. I would like to see an integration with an extension from 3cx.', 'Molokocet: Nice. I see you are using the GS-HT802 instead (2 lines). Did you manage to make it work (or waiting for HA final release)?\n\nI wonder if using the 2 lines version I could leave one line for HA and the other for VoIP.', 'antisane: I\'m extremely surprised nobody has mentioned the ""BatPhone"", it would be perfect for this...\n\n[https://imgur.com/QpXFgMy](https://imgur.com/QpXFgMy)', 'phowntabir: But but but if it uses open ai, is it really private at all?', ""mmakes: B&O is the GOAT when it comes to industrial designs (even tho their proprietary software sucks). And I love a good Fractal Design North, Teenage Engineering doodads, an Apple device, or a Surface Studio, but B&O stuff has personality and isn't just about clean lines and great materials and craft.\n\nAnd thank goodness for HA bringing my favorite phone back to life! This is so clever and so neat."", ""FishScrounger: I'm off to the charity shop later 😅"", 'mmakes: Now you have an excuse to buy one from eBay!', ""mmakes: Not full VoIP support, but using VoIP as a microphone/speaker interface for HA Assist voice assistant using HA2023.5b0!\n\nIt's quite nice to simply hold up the phone and talk like I'm asking a secretary for help. Much more natural that yelling Alexa five times before I can say anything."", '_Rand_: Would be nice, because I have the exact adapter in the tutorial and I’m using it for voip.', ""mmakes: Awesome! Let me know if you managed to pair the Beocom 5 to the Grandstream DECT VoIP hub. I'd love to use the 5 too."", 'mmakes: Oops sorry! Fixed it.', 'CarlosT8020: Well, it depends on your use case. I can definitely see a situation where I’m sitting on a desk and just press the hands-free button on the phone and ask for anything. And I definitely prefer the slight hassle of having to press a button over the constant worry of whether Alexa is listening to my private conversations (which is why I never wanted Alexa but would definitely look into this).', ""Sab44: No idea why you're being down voted. The main benefit of the voice assistant for me is being able to use it hands free. The phone thing might be a fun gimmick but how does that actually replace an existing Alexa or similar. Hopefully we'll get something hands-free easy to set up soon. I don't care if it's always listening if I'm hosting it locally anyways."", ""Sethroque: Obviously the focus is privacy, which makes sense for  home office and bedroom. There are alternatives that won't require physical input."", ""timsredditusername: It is hilarious, yes. That's why I also ordered this Grandstream unit today to set it up in my home."", 'jlboygenius: I kinda agree.. but if i can get some old wall mounted phones and set them up so you can talk to HA it might be fun. \n\nI wonder if you could have it respond to button presses or even old rotary phone clicks.', 'honestFeedback: I thought it was just me (and see you’ve been heavily downvoted).  \n\nWho on earth is this for and what %age of the user base are going to use this. Less than 1% I predict. \n\nLast year or maybe the year before was all about going mainstream; version 1.0 and all that. Simple enough for the average Joe without the learning curve and tech know-how. Right now complexity is ballooning in HA. Have they given up on the average Joe?', ""mmakes: The new VoIP integration is really bare bones for now, since it was added for the sole purpose of using it for voice assistants.\n\nIt shouldn't conflict with other systems, since all that it does is to set up HA as a SIP server that a VoIP box can seen and receive phone voice dat as to and from."", ""mmakes: I managed to make it work!  It's surprisingly easy to set up. It's just that Grandstream's firmware is kinda primitive.\n\n> I wonder if using the 2 lines version I could leave one line for HA and the other for VoIP.\n\nYes, you can, since there are two separate settings pages for each port."", 'Alowva: \n\n>     Whisper is an open source speech-to-text model created by OpenAI that runs locally.', ""Whiffed_Ultimate: I have spent a better part of the last 6 months bodging together various integrations and external services to get my grandstream two-way speaker to play music from home assistant. I have to say I'm a little bit salty."", 'gravspeed: so, my phones are already voip, can i make home assistant an extension?', 'greymatter313: is it using sip?  could this tie into an asterisk box through an extension.  could setup a speed dial to that extension as i actually have way more phones than voice assistants around the house.  could be neat to use remotely as well.', 'wenestvedt: Right, have our cake and eat it, too!', 'flossraptor: There are no use cases where this makes more sense than a dashboard.', ""cubiclegangsta: It can be done! The dude used Alexa Voice Services SDK, but I see no reason why it couldn't be done without Alexa. It counted pulses and translated them into predefined actions. [Alexa Rotary Phone by Mike Dodge](https://mikedodge.medium.com/how-i-built-an-alexa-powered-rotary-phone-4bf51f337efc)"", 'flossraptor: I\'m still waiting for the ""year the voice"" to result in a turn key solution for a local voice assistant. It\'s only just about May, but it\'s not looking good.', 'Molokocet: Thanks. Extremely helpful as always.\n\nI will go with the two lines and also give a shot with Voip.', 'phowntabir: Missed that, this is great!', 'phowntabir: That’s the TTS part, but the example with Mario also generates replies, isn’t that done via openai chatgpt and thus not private since openai may or may not use the data?', ""wenestvedt: Hey, you'll make for a *really* well-informed beta tester!"", 'zurzat: Yes, in theory. If your phones support opus codec via SIP.', 'mmakes: I believe so, as long as your SIP client supports Opus codec. All that the Grandstream box does is to dial to the IP address of my HA immediately why I pick up the phone. So I think you can just set HA to speed dial if you do use your phone for actual VoIP communications.', 'Alowva: The article mentions that you *could* use chatgpt integration.\n\n> What about a second assistant that listens for Dutch, German, or French voice commands? Or maybe you want to throw ChatGPT in the mix.', ""svideo: All pluggable, so you can run local or cloud or a mix of both depending on your use case and local compute resources (rPi performance is still slow compared to other solutions, so maybe you'd still want to use the cloud for some steps)."", 'Whiffed_Ultimate: Aint that the truth.', ""gravspeed: it's on the beta channel isn't it?"", 'gravspeed: pretty sure i can. how do i do this?', 'lancelon: Good point….', ""zurzat: I haven't done this myself but you should be able to follow the Grandstream instructions and hopefully translate the config to your SIP settings. Good luck!""]"
1682627996.0	27-Apr-2023 13:39:56	Year of the Voice - Chapter 2: Let's talk	balloob	181	1315yrp	homeassistant	https://www.home-assistant.io/blog/2023/04/27/year-of-the-voice-chapter-2/		77	"['francommit: Now how do I fill my house with similar devices to Google minis that will work totally locally', 'sejoki_: Honestly, what I\'m most excited about is that this might get the DIY speaker stone rolling. \n\nI had an echo plus and two dots that I stopped using a while ago. I tried to integrate them into HA when I switched, but found it to be kind of a pain. I finally sold the plus earlier this year but since the dots are almost a spam product (for a while, you could get them bundled with almost anything from amazon), there was no point in selling them, so I ripped its brains out but kept the speaker part of it. I thought if this is ""the year of the voice"", the brains of HA sure have to come up with a solution to get my HA listen to my voice, so maybe I can reuse them.\n\nI actually found the M5Stack Atom, but from the two videos I found, it didn\'t seem to work too well (I think that was January), so I discarded that idea.\n\nKind of a pleasant surprise to see that device mentioned there again, I might give it a go after all. I still feel weird talking to tech, but if there\'s an easy solution to creating a speaker for some audio feedback, I\'m all for it. And who knows, maybe my attitude towards speaking into the void changes. I was just really appalled by how much data amazon collects. I don\'t know for the US, but EU (or maybe just German) law requires them to hand over all data they collect upon the user\'s request and what a creepy adventure it was going through those files… I got those alexas in 2018, used them a little bit with a homebridge integration, but after a while only for spotify playback. I still had some 150 audio files, in some of them you could hear when the dishwasher was running and some parts of phone calls were ""accidentally"" recorded. \n\nIf having a local voice assistant just gets 1% of alexa users to ditch that shady ass product, it was all worth it.', ""strawberry_gin: Is there any planned support for a Piper docker container that isn't an addon? Seems like it would be pretty easy to put together a container that works with the wyoming integration but wanted to ask if there is anything official planned?\n\nVery exciting announcement in general!"", 'calinet6: Wow.\n\nReally, wow.\n\nI work in software and I’ve honestly never seen iterative progress done so well so consistently as this before.\n\nGreat work Home Assistant team. Really excited to see how this continues to grow!', ""crumpet_concerto: I don't know much about VOIP, but have been wanting to play with it for a while and this may be what drives me to buy a phone. Dumb question, but I assume any VOIP-capable phone can do this (if it supports autodial) without the converter box?\n\nEdit: if a VOIP phone supports Asterisk, is that a good indication that it work with Home Assistant's integration?"", 'BlackAndBlue1908: Since Sonos wants to say they are a privacy focused voice assistant they should open an api to get the stream from their devices. Would be perfect for this.', ""psychosynapt1c: Is it weird to feel a little emotional about this? \n\nI have loved home automation for years but have absolutely hated google/amazon being the only real option for complex voice commands and TTS in home assistant. This is an absolute game changer and I can't wait for it to grow.  Amazing work by the home assistant team."", ""fodi666: that is a very nice step forward and I'm excited about it\n\nif I have a wall tablet could I use that as the voice input device?"", 'jakabo27: Any ""Alexa, set a 10 minute pasta timer"" replacement yet?', 'c0wb0yc0d3r: Does anyone know where I can get the clock in the [most private voice assistant video](https://youtu.be/0YJzLIMrnGk)?\n\nFound it [Ulanzi Pixel Clock](https://www.ulanzi.com/products/ulanzi-pixel-smart-clock-2882)', 'ecto1a2003: Gotta find a cool analog phone now', ""rootchick: Dammit, I knew I should've kept my old school black push button phone.  However, I'd give that up for a wearable combadge in a heartbeat!"", 'longunmin: Would the ESP32-S3 Box work as hardware?', 'DanGarion: What display is that they are using? It says it is a Ulanzi T1000 but that seems to be some type of tripod...', 'b169: Fantastic. Any plans for coral support to speed up Piper/Wyoming further?', ""ecto1a2003: Has anyone made custom commands ? Like what's the weather today and such?"", ""jakegh: I obviously have zero interest in picking up a physical phone handset to turn on the lights, but this is a great step forward. Hope to see wake words with multiple microphones and noise rejection soon, as we've become accustomed to from Amazon, Google, and Apple."", 'kksligh: I’m hoping this will lead to a path of being able to add functionality to the HA mobile app/dashboard that will allow transferring voice to another device such as a camera or speaker. For example, tap into a camera and be able to talk to my kids on the other end.  It’s the only functionality I haven’t been able to figure out in HA. I’m sure it’s possible but out of my technology league', 'mindlight: Really cool progress but a custom firmware that makes my Alexas 100% local and non Amazon is still highest on my wishlist.', ""poetry-linesman: Who cares about voice. Focus on the basics first, give us stability via an LTS release stream.\n\nOnce we can trust that some upgrade likely won't break my entire home automation system, then we can talk."", 'recapYT: If I read this correctly, I need an old phone to use the voice assistant? That is very very limiting.', 'pixel_of_moral_decay: This and a wake word would be game changing.\n\nLooks like I wasn’t so stupid having a vm on a beefy Intel box instead of a small pi. Going to work great for this.', ""whlabratz: I'd be pretty surprised if there isn't an open hardware kit integrating all the bits you need in a tidy 3d printed case by the end of the year"", 'modestohagney: I haven’t read it yet but they linked to a tutorial in the post. \n\n[Create a $13 voice remote for home assistant](https://next.home-assistant.io/projects/thirteen-usd-voice-remote/)', 'renaiku: You might be interested in this if you keep some parts of your echo devices: https://github.com/renaiku/echo-419\n\nWe are aiming at replacing echo devices motherboards with open source esp32 based ones.', ""SpencerDub: I agree. My journey has been more speculative than yours, but I've definitely spent several evenings trying to figure out how to piece together a local-only smart speaker/assistant like the Google and Alexa devices, just to get frustrated.\n\nIt really seems like this will be much more feasible this year. Cheers to the Year of Voice!"", 'calinet6: We’re so freakin close to that. You can tell that’s their goal.\n\nRequires a little DIY and setup now, but I’m sure there will be plug and play solutions pretty soon.\n\nThis is so cool.', 'zrail: You should be able to just run the container.', ""wizbowes: It's been posted on the HA Forums.  Here:  https://hub.docker.com/u/rhasspy\n\nHowever there's no documentation that I can see about volumes, config, port mappings etc"", 'addiktion: A massive open source community will do that for ya.', 'synthmike: Check out the Grandstream HT801. We support SIP and the OPUS codec for now.', 'Shooter_Q: Just curious, when did they say that? I ask because that almost seems unfeasible when their voice assistant products utilize Alexa or Google onboard. Perhaps I am out of the loop.', 'javicano8: Same here, wishing forward to keep everything local and dont depend on anyone!', 'Infamous_Bee_7445: No. I work, live, and breathe tech and this is the only thing that has gotten me excited in recent memory.', 'geekofweek: I came here to ask the same thing', 'theglus: I\'m currently scrolling through ""novelty phones"" on eBay.', '5h4d0w: It should do, the atom is just an esp32 as well.', 'BlackAndBlue1908: I have one but not sure how to integrate it into homeassistant without flashing ESPhome which I assume will remove its wake word function.', 'balloob: Typo in description. Fixed. \n\nCheck this link for display and instructions to get it in HA. https://blakadder.com/esphome-pixel-clock/', ""synthmike: I'm not sure if the Coral can run Piper or Whisper models."", ""AnomalyNexus: Coral = Google's tensorflow tech\n\nWhisper etc = pytorch\n\ni.e. most of the current wave of ai tech is incompatible with coral since pytorch won the war"", ""renaiku: Won't happen before years I think.\n\nBut with some people, we gathered around the project of replacing Alexa's motherboard with esp32, and keep the mics, power adaptor, etc..\n\nHere for docs and discord: https://github.com/renaiku/echo-419"", 'inorganiccentipede: That\'s a wishlist item that will never be fulfilled unless you successfully lobby for right-to-repair legislation that forces manufacturers to open up their hardware.  Amazon would rather push an update to completely brick the devices and turn them into e-waste (like they are doing for their Halo ""smart"" health products) than allow someone to re-use the hardware.', 'jasonmp85: This is the correct take', ""lkernan: You didn't read it correctly."", 'pseudoheld: You 100% did not read that correctly.  \nThe phone is just one (fun) option. \nYou can invoke the assistant via phone, browser, esphome and many other options.', 'theyyg: I’m using a Lenovo SmartView and the Rhasspy Android app. It’s not perfect, but I’m satisfied with it. \n\nI have home assistant running as the touch interface with rhasspy running in the background as a service. It responds to wake words.  After the wake word, records my request and sends it to my rhasspy server (same machine as hass). Rhasspy created the internet and forwards it over to Home Assistant and Node Red. I use the intent to trigger the service.   \n\nThis new effort by Home Assistant will hopefully put all of this into the Home Assistant companion app, and I’m excited for it.', ""Jealy: I moved my instance from my Pi to my server last night, it's so much quicker!\n\n&#x200B;\n\nWith current price/availability of the Pi, it was the best option, as I wanted one to handle my 3D print stuff."", ""The_Mdk: There's literally one already for sale, linked in the article, for $13.5 (sold out right now)\n\nI'll hold on a little longer for a version that supports wakewords instead of push-to-talk tho"", ""francommit: I ideally don't want to be walking around the house clicking buttons to make a voice command though!"", ""The_Mdk: Anything similar for Nest Mini devices? Got 4 of em and when the time comes, I'd love to replace their insides with something open source while keeping mics and speakers (as they're fairly good at their job)"", ""blewisCU: >While I can kinda solder and mess around with ESPHome, it's a far cry from custom and optimized designs or finding out what cable does what.. I'll gladly skip the alpha and beta phases of this and maybe enjoy debugging the first RC version  \n>  \n>1ReplyGive AwardShareReportSaveFollow\n\nI'm in for this when you get it done - are you targeting specific models to start?"", 'synthmike: I just added this :)', 'calinet6: Yeah but not every open source community can do this. It requires leadership and coordination of a unique kind!', 'crumpet_concerto: Thanks very much, and I really enjoyed the livestream today! I assume the Greandstream HT801/HT802 takes an analog signal and converts it to digital for VoIP. I assume this means a VoIP phone that supports SIP or OPUS will also work?', 'BlackAndBlue1908: They released their own which is very limited and only provides music control and things like timers. It’s an option when setting up your voice enabled Sonos speaker.', 'ecto1a2003: Me too, found a old phone booth. Might be a bit much', ""mindlight: Looks really nice.\nI'm open such an solution as a backup plan.\nHowever, as I understand it Alexa has hardware (DSP etc) streamlined for voice commands so it would be such a waste not being able to use it."", ""mindlight: I'm pretty sure you are wrong. Many systems and services running BSD / Linux has been jailbroken.\n\nPeople are exploring and tinkering... Eventually someone will find a way in."", 'whlabratz: The M5 Dev board isn\'t really what I had in mind - I was thinking something a bit more polished and a bit less ""exposed IO pins"" as a design aesthetic', 'YowaiiShimai: The reviews mention that you have to be really close for the microphone to pick up your voice so its not quite the same. But I am still excited about this!!!', 'Xypod13: Then I would suggest waiting a bit till the next chapters. They said on the livestream that wake word detection is not in right now but might be in the future.', ""antisane: If it was battery powered I'd consider putting it on my keychain. It's tiny, which his nice, but to me it looks like it has to be plugged into a USB cable to be used..."", ""renaiku: No but if you know a little in electronics you can come help to make it real !\n\nIt's more or less probably the same thing as echo devices: microphones, power plug, design the motherboard to fit in the box !"", 'renaiku: As written in the link, gen 4. Someone proposed today to start working on gen 3.', 'Skajetolaf: To be more specific; Any VoIP phone that supports the OPUS codec should work. However it is tested with only the Grandstream HT801 at the moment so there might be some issues with other devices.\n\nNote that VoIP phones with support for OPUS codec are relatively new and therefore limited available on second hand market.', 'Shooter_Q: Ah I see. We only have the box products, Port and Amp, and IKEA collaborations, so I guess it’s something I’d miss from not engaging with the standalone speakers. Would be cool to see that stream opened up indeed.', 'theglus: My girlfriend just suggested the same thing. 😅', 'renaiku: Oh yes it would be even better to hack it but I have little hopes.', ""The_Mdk: That's definitely going to be there by the end of the year, for sure\n\nProbably earlier"", ""The_Mdk: Well, you have to be even closer to push the button and activate the mic, after all\n\nBut yeah, it's a good start"", 'The_Mdk: Doubt it would work on a battery, as it would have to go into deepsleep to save power, and then the button would have to do the wake + connect to the wifi process which might not be optimal, especially if you being to talk right after pushing it', ""The_Mdk: While I can kinda solder and mess around with ESPHome, it's a far cry from custom and optimized designs or finding out what cable does what.. I'll gladly skip the alpha and beta phases of this and maybe enjoy debugging the first RC version"", 'crumpet_concerto: Thank you for the clarification. I found a device that supports SIP and OPUS. I would love to test this out using a softphone Android app - any thoughts? \n\nAlso happy cake day!', ""crumpet_concerto: Follow up for you and u/synthmike \\- do either of you know if I can point at localhost:5060 from Asterisk? \n\nHypothetical: \n\n* VoIP phone supports OPUS codec\n* Asterisk setup (SIP)\n* VoIP phone calls an extension to reach Asterisk which is sent along to localhost:5060 (for HA VoIP integration in 2023.05)\n\nI'm new to VoIP so trying to figure out what I can and can't do (at least initially), but did manage to get Asterisk working with a softphone so that's cool."", ""synthmike: I haven't used Asterisk before, but my guess is there will be issues with routing through the gateway. My SIP/SDP/RTP knowledge is fairly limited, so I focused on a direct connection to the Grandstream.\n\nThere are many improvements we could make to the voip-utils library: [https://github.com/home-assistant-libs/voip-utils](https://github.com/home-assistant-libs/voip-utils)"", ""crumpet_concerto: Thanks for your answer. I saw the PR for being able to change the port for the VoIP integration (thank you!) since I believe 5060 is used by Asterisk so that's a good start! I'm guessing I won't be the only one attempting to connect Asterisk so hopefully someone will be able to help fill in any gaps. \n\nThis is my first experience with SIP + VoIP so it'll be a bit of an experiment initially.""]"
1682627869.0	27-Apr-2023 13:37:49	Since my automations are not a 100% i started following a tutorial	Operations8	4	1315w2d	homeassistant	https://www.reddit.com/r/homeassistant/comments/1315w2d/since_my_automations_are_not_a_100_i_started/	"I have been following this tutorial:

https://m.youtube.com/watch?v=m_fbo_Co-TU&t=326s

So i created the use case scenario one. But for some reason my kitchen light doesnt turn on. The sensor detects me i can see that, and when i go to devices and switch the kitchen light on by hand it works. So it seem the automation is not a 100%.


alias: Tutorial - Keuken light

description: """"

trigger:

  - type: motion

    platform: device

    device_id: 1d6efa068f27b0f42c5a8555d6f06690

    entity_id: binary_sensor.keuken_motionhue_motion

    domain: binary_sensor

    id: Motion-detected

  - type: no_motion

    platform: device

    device_id: 1d6efa068f27b0f42c5a8555d6f06690

    entity_id: binary_sensor.keuken_motionhue_motion

    domain: binary_sensor
    for:

      hours: 0

      minutes: 0

      seconds: 30

    id: Motion_Uit_01

condition: []

action:

  - if:

      - condition: trigger

        id: Motion-detected

    then:

      - type: turn_on

        device_id: b24ce90084f88af828a12961306c2ecb


        entity_id: light.keuken_lamp_2


        domain: light


    else:

      - type: turn_off



        device_id: b24ce90084f88af828a12961306c2ecb



        entity_id: light.keuken_lamp_2



        domain: light


mode: single
]

Any ideas why this is not turning on the light?"	8	"['Fritz00015: Check the traces of the automation and you should be able to see where the it fails.', 'Operations8: He seems to go straight to the ""else"" part. It turns the light off when i manual activated the automatiom but it doesn\'t run the whole automation automatically.\n\nNo sure how to read this:\n\n\nchoice: else \n\nif\n\nExecuted:\xa028 april 2023 om 00:07:32\n\n\nResult:result: false \n\n\nif/condition/0\n\n\nExecuted:\xa028 april 2023 om 00:07:32\n\n\nResult:result: false', 'Fritz00015: >entity\\_id: binary\\_sensor.keuken\\_motionhue\\_motion\n\ncheck the trace timeline. You can also see what happend in the diagram on the left side. \n\nhttps://preview.redd.it/3avynlk8mjwa1.png?width=1316&format=png&auto=webp&v=enabled&s=5f253f36bbf09171fe1029d291c6b7fd6fc883d0', 'Operations8: https://preview.redd.it/lfhnyj1tmjwa1.jpeg?width=1440&format=pjpg&auto=webp&v=enabled&s=7b3f37336692f43c6e31eaa8e1199695f1dedf92\n\nShows the same, it runs the ""else"" part.', 'Fritz00015: Yes because you triggered it manually.\n\n""Motion-detected"" this is your trigger ID so this:\n\n    if:\n    \n    condition: trigger\n    \n    id: Motion-detected\n    \n    then:\n    \n    type: turn_on\n    \n    device_id: b24ce90084f88af828a12961306c2ecb\n    \n    entity_id: light.keuken_lamp_2\n    \n    domain: light\n\n&#x200B;\n\nwill only ""activate"" when this:\n\n    type: motion\n    \n    platform: device\n    \n    device_id: 1d6efa068f27b0f42c5a8555d6f06690\n    \n    entity_id: binary_sensor.keuken_motionhue_motion\n    \n    domain: binary_sensor\n    \n    id: Motion-detected\n\nwas the trigger.', ""Operations8: I am a dumb ass something :)\n\n\nBut i think i fixed the problem. I noticed that the automation didn't run at all. I figured that would most likely mean wrong motion entity or something.\n\nI change the device to:\n\n\nbinary_sensor.keuken_motionhue_occupancy\n\n\n\nBut the weird thing is i created it using the GUI like the dude on the YT video.\n\n\nWhat is the difference between _motion and _occupation?"", 'Fritz00015: good question. My hue motion sensors only have  \\_motion but the aqara sensor has \\_occupancy but not seperate \\_motion enitity.', 'Operations8: My Hue got both. You using ZHA or Deconz? I used Deconz before and switch over to ZHA and that gave me more entities on the devices.\n\nMy Aqara FP1 also has got occupany\n\nCould you help me with this one?\n\n\nhttps://www.reddit.com/r/homeassistant/comments/1300w1r/telling_camera_to_keep_making_snapshots/?utm_source=share&utm_medium=android_app&utm_name=androidcss&utm_term=1&utm_content=share_button']"
1682626949.0	27-Apr-2023 13:22:29	Year of the Voice - Chapter 2 - YouTube	greenphlem	35	1315c0q	homeassistant	https://www.youtube.com/live/Tk-pnm7FY7c?feature=share		2	['daath: Love this. How do I get whisper and piper on my docker-based HA?', 'synthmike: Check out the wyoming-whisper and wyoming-piper images here: https://hub.docker.com/u/rhasspy']
1682626850.0	27-Apr-2023 13:20:50	Navien tankless automation	rolyatrd	1	13159va	homeassistant	https://www.reddit.com/r/homeassistant/comments/13159va/navien_tankless_automation/	Hey everyone. New here, and new to reddit. I have an older navien thankless water heater. Works great when it's in recirculation mode but is basically useless otherwise. I am just dipping my toes into electronics like this but basically I would just like it to run the circulation circuit any time it senses water flow. The unit has an external controller. Where would somebody start to do such a thing?	7	"[""more-cow-bell: Are you saying when you are using hot water the unit is not turning on the burners automatically? That's a problem with the unit itself. I would suspect a flow sensor or something is not working. Without a working flow sensor it would not have the ability to control the burners properly."", 'pearlfloyd72: At the point the water turns on, the water heater is trying to get water to the faucet that has the hot turned on, so it is too late for the recirculating pump. What you could do is hook it up to a smart plug and toggle the recirculating pump before you need water, of course this would not be automated. But it only takes a couple of minutes for the pump circulate the hot water. I have done this and it works. \n\nI currently use a smart plug with my tankless water heater recirculating pump. I have it set up to start recirculating when I am home during the hours I am awake. Personally, with this set-up, my gas consumption is low. But if you want even less, you could set it up to turn on when you are likely to use hot water. So if you shower every morning at 7am, have it start recirculating at 6:45 and turn it off at 7:15.', 'primoslate: Does your Navien unit support [NaviLink](https://www.navieninc.com/accessories/navilink)? Or is it too old?\n\nI’ve been using [this Navien HACS integration](https://github.com/nikshriv/hass_navien_water_heater) for a few months and it’s been great.', ""rolyatrd: The burners turn on and the machine senses the flow but you have to run the water for a really long time to get just warm water. I did replace the flow sensor and there was no improvement. It may have to do with the fact my loop line is a larger diameter then the faucets so it doesn't pull much volume of water through the system. But when the recirc pump is on it works great!"", ""rolyatrd: Yeah it does allow me to program the recirc pump at certain times. But it just ends up running a lot. Because of the way my plumbing is set up, when the recirc pump turns on, it's basically instant hot water. But no matter what I do, if it isn't recirculating, then the water just doesn't get hot. I might just end up running an external pump and then go with a smart plug."", ""rolyatrd: No, it's too old. It's a NR-210A. Too old for the hot button as well."", 'pearlfloyd72: I completely bypass the timer that came with the recirculating pump. I only use the smart switch to control it now. With a smart switch You could set up a script to turn on the recirculating pump for 5 minutes, then turn it on. You could trigger the script with a button on your phone, through a smart speaker, or even a motion detector. I am not sure how new you are to HA, but if you need some help setting any of this up, feel free to PM me. \n\nOn a separate note, I notice my recirculating pump starts running more when the instant water heater needs to be flushed.']"
1682625639.0	27-Apr-2023 13:00:39	Yale Conexis L2 Add Key fob/Card	SmallCouple4266	1	1314iz4	homeassistant	https://www.reddit.com/r/homeassistant/comments/1314iz4/yale_conexis_l2_add_key_fobcard/	"Hi, I have set up the Conexis l2 through the Yale Access app however there is no tutorial for the L2 on how to add a fob or key. Can anyone help?

&#x200B;

Thanks"	1	['antisane: Wrong sub.']
1682625331.0	27-Apr-2023 12:55:31	Video: Upgrade to a Smart Home With Home Assistant	CraftThatBlock	4	1314c8t	homeassistant	https://youtu.be/WDTphMwZc64		1	['lofllll: gonna have to try this with my LED lights, the location based controls look practical']
1682624129.0	27-Apr-2023 12:35:29	Full(ish) screen popup on alert?	HorseRadish98	1	1313mqs	homeassistant	https://www.reddit.com/r/homeassistant/comments/1313mqs/fullish_screen_popup_on_alert/	"Hi all, haven't found anything on Google so thought I may try here.  Does anyone know if/how HA supports a full screen popup?  I have a screen on my wall, I'd like to do a full popup like if a camera detects motion to (hopefully) do a large modal showing the camera, or at the very least say something like ""Motion Detected"".  

I know you can do the toast, but it's not very noticeable from across the room.

Thanks!"	3	['ayw93: Check out browser mod. You can so exactly what you describe', 'flossraptor: browser\\_mod\n\nMay god have mercy on your soul.', 'HorseRadish98: Thank you!  I had never heard of this']
1682620507.0	27-Apr-2023 11:35:07	IKEA FYRTUR bad battery life	Darkm27	1	1311jwg	homeassistant	https://www.reddit.com/r/homeassistant/comments/1311jwg/ikea_fyrtur_bad_battery_life/	The first charge of the batteries lasted 6-7mo and every subsequent charge has lasted 4-6weeks with no change in usage on all four units. Only change I can think of is moving from a ConBeeII to a Skyconnect. Any ideas of what could be causing this?	3	"[""munchy_yummy: Hey there. I had that effect sometimes, when using dumb power supply which provide a too high voltage. Those destroy the battery. \n\nDid you maybe load the battery with a power supply, that used a voltage out of the specs of the battery?\n\nI know, that power supplies should use the lowest voltage if it can't negotiate a higher voltage.\n\nEdit to add: I didn't encounter that with the FYRTUR batteries, it happened with another battery."", ""ewlung: All four have this issues? I don't own any, but I am interested in getting it though."", 'mguaylam: Ikea stuff on batteries just sucks on the firmware level. We tried to find a fix but there’s not much we can do.']"
1682618756.0	27-Apr-2023 11:05:56	"HA on an ""already in use"" PI"	King45er	1	1310k2d	homeassistant	https://www.reddit.com/r/homeassistant/comments/1310k2d/ha_on_an_already_in_use_pi/	"Hey,

i just wanted to install HA on my PI which runs several things already. 

And i dont want to delete everything and install HA OS,  


I just found this [tutorial](https://siytek.com/install-home-assistant-on-raspi/), would this be the ""right"" way for me, or are there other ""better"" ways to include HA on an running pi ?"	4	['StarfishPizza: This is running it in docker. Do you have docker installed already? Can/are the other things also running in docker? You may lose your data if it goes wrong, can it all be set up easily again, have you backed up?', 'King45er: no never used docker, justt running kodi and stuff for kodi like the database on it + pihole so nothing important...\n\ni will do a backup before starting withe docker method..', 'LookinUpAndWandering: I did this. Went docker route after a good backup. Plenty of memory, cpu etc to go around. Runs great! Homebridge also doing people detection on same box. Pi-hole too. And some other php middleware. \n\nI think I just used the HA docker instructions after getting Docker itself installed. Was all fairly straightforward. \n\nBest of luck.', 'lass93: I would suggest you to use docker and docker-compose.\nPut all your services into the docker-compose file. Then you can manage all your services in a single file. \nThis also allows you to move to a new system and spin up the same infrastructure with ease. \nYou can google infrastructure as code (IaC).']
1682617337.0	27-Apr-2023 10:42:17	Installing HAOS on new SSD	smibrandon	1	130zdq4	homeassistant	https://www.reddit.com/r/homeassistant/comments/130zdq4/installing_haos_on_new_ssd/	"I purchased a new SSD, however I don't have a USB adapter in order to image the HAOS ISO onto it. Is there a way I can boot off a USB thumb drive on my NUC then image the SSD?



Edit: SOLVED!! ✅✅
> I booted off a Mint OS USB. Downloaded the ISO and Etcher, and imaged the SSD."	2	['smibrandon: Solved it!\n\nI booted off a Mint OS USB. Downloaded the ISO and Etcher, and imaged the SSD.', 'King45er: this should work i think, but never tried [https://github.com/billw2/rpi-clone#rpi-clone-example-runs](https://github.com/billw2/rpi-clone#rpi-clone-example-runs)']
1682614186.0	27-Apr-2023 09:49:46	The everything sensor!!	Lanten101	24	130vsiu	homeassistant	https://i.redd.it/tx4311jbigwa1.jpg		12	"['masterofmoneyzz: I had something similar, but my PIR sensor over triggered :(', 'Shooter_Q: Gas?', 'severanexp: No gas sensor? No mmWave sensor? No particle sensor? :/', ""Lanten101: Been testing my one for over a day with lights and so far it's working nicely. And it seems faster than the ZigBee one I had"", 'Lanten101: Have it on the kitchen sensor. Forgot to remove it on this one when copying config.', 'Lanten101: Planning to add mmwave. They are difficult to find where I am. \n\nI have a gas sensor on the kitchen one only', 'Svobpata: It depends heavily on which zigbee sensor you get but in theory this is always on and always connected so it would be a bit faster\n\nI use a combination of both', 'DIY_CHRIS: Oh so not a fart sensor?', 'severanexp: AliExpress? Look at the bme680 and LD2410. Both supported by tasmota.  \nEdit: oh forgot the BH1750. It’s a great lux sensor. Utterly absurd levels of sensitivity.', ""Lanten101: From South Africa. Ali express takes like three months to deliver and shipping is usually 100x products \n\nBut the LD2420C and B are available on a local store, but a bit more expensive. But it's my only option.\nWill get it soon. Just wanted see how reliable esphome is, Then get the housing printed and add a presence sensor."", 'severanexp: Ah! Compliments from Portugal :). \nEsphome is very reliable otherwise no one would use it :) but don’t limit yourself to esphome alone. Other firmwares have other functions.  \nWled for addressable led driving.   \nEspurna is another general esp firmware.    \nTasmota is yet another general esp firmware.  \n  \nWith espurna and a bme680 you have a great temperature humidity air pressure and gas sensor that outputs a crap ton of data for you! (Air quality, CO measurement and others)', 'Lanten101: true. It is amazing.\n\nThe price difference between building yourself and buying is unbelievable.\n\nThanks will experiment with the other firmware after the first build are finished.']"
1682614175.0	27-Apr-2023 09:49:35	Home assistant set up from docker to docker compose	muratac	2	130vs4x	homeassistant	https://www.reddit.com/r/homeassistant/comments/130vs4x/home_assistant_set_up_from_docker_to_docker/	"Hello everyone. A newbie question. I have installed home assistant core in docker container on debian in my mini pc. I would like to migrate it (is this a correct term?) to docker compose as I read that it is more easy to manage. May I do it simply installing docker compose or do i need to start over and cancel the actual home assistant set up? 

Sorry for the stupid question for many but I do not understand much from coding but I like to learn. 

Thanks"	4	"['StarfishPizza: There’s a docker container image for that, it’s called auto-compose. Once set up, it’ll read your container and produce a working docker-compose output that you can transfer to any machine you like. It’s a very useful tool.', 'MeudA67: It\'s very simple...the key is how you mapped your config folder as volume with your current docker container...\n\nAssuming you had it mapped as a specific location (ie -v /home/user/homeassistant:/config), all you\'d need to do is stop the current container, remove it, compose the new container, and start it. The ""config"" folder being in the same place it would just be re-created as if nothing happened.\n\nHere is my compose as an example:\n\n>version: ""3.9""  \n>  \n>services:    \n>  \n>  homeassistant:  \n>  \n>container\\_name: homeassistant  \n>  \n>image: ""[ghcr.io/home-assistant/home-assistant:stable](https://ghcr.io/home-assistant/home-assistant:stable)""  \n>  \n>volumes:  \n>  \n>\\- /home/me/docker/homeassistant:/config  \n>  \n>\\- /etc/localtime:/etc/localtime:ro  \n>  \n>\\- /home/me/docker/homeassistant/media:/media  \n>  \n>restart: unless-stopped  \n>  \n>privileged: true  \n>  \n>network\\_mode: host  \n>  \n>devices:  \n>  \n>\\- /dev/ttyUSB1:/dev/ttyUSB1', ""JCHHenderson: here's mine - DietPi (lightweight Debian) on RPi\n\n    services:\n      homeassistant:\n        container_name: homeassistant\n        image: ghcr.io/home-assistant/home-assistant:stable\n        volumes:\n          - ./homeassistant:/config\n          - /etc/localtime:/etc/localtime:ro\n        depends_on:\n          - zigbee2mqtt\n        environment:\n          - TZ=Europe/London\n        network_mode: host\n        privileged: true\n        restart: unless-stopped"", 'muratac: Thank you i did this and now i have it on docker compose. 🎉👍']"
1682613408.0	27-Apr-2023 09:36:48	AdGuard and mobile games	thepiercedweirdo	0	130uy0c	homeassistant	https://www.reddit.com/r/homeassistant/comments/130uy0c/adguard_and_mobile_games/	"Hey all.

&#x200B;

So I saw that in the android version of AdGuard there's an option to enable/disable per app.

However in the Home Assistant version I'm only seeing what looks like links/web apps/apps.

&#x200B;

Is there an extension/repository I can add to/for AdGuard?

I'm still pretty new to HA and AdGuard, and while having ads removed from virtually everything is amazing.

There are instances where you need to leave them in place for those games to gain extra time, power ups or whatever.

So not everyone is exactly 100% happy with the new environment I put in place.

And I would rather not have to turn protection on and off while they play their games.

&#x200B;

Any help is appreciated and thank you in advance.

&#x200B;

Edit: Looking it over again that section is just to block service."	7	"['Mdna2: Not exactly a switch in the UI but maybe an automation with the ""current running app"" sensor could help here?', 'angrycatmeowmeow: Set up those devices as clients in AGH then see what domains it\'s blocking and ""unblock (domain) for this client only""', ""thepiercedweirdo: I'm not really sure how to set that up. But that's what the internet is for :)  \n\n\nWhat exactly would that do? Just disable protection during the time it's active and turn it back on when the program is shut down?"", 'AnxiouslyPessimistic: This is the one. I’d imagine most ads on iOS and android come from their respective domains so you should be able to unblock for specific device s', ""thepiercedweirdo: I'll give this a go. Thank you."", 'Mdna2: Yeah mostly that. Or mentioned in the other response: disable the blocking for the domain the whole time (which might be a solution if you are ok with all the ads the domain  hosts)', ""thepiercedweirdo: I'll give them both a try and see which works best. Thank you.""]"
1682612934.0	27-Apr-2023 09:28:54	Tomorrow io thinks tomorrow is going to be 60c	Witty_Music_9101	21	130uezq	homeassistant	https://i.redd.it/h0mjhoo4whwa1.png		13	"['Burner_account_546: Better make sure to wear a t-shirt.', 'arcrad: Sounds more like The Day After Tomorrow.io', ""Danbury_Collins: Sunscreen.\n\nDon't forget the sunscreen."", ""sero_t: Don't wear flipflops on asphalt, they tend to melt at those temperatures."", 'ericstern: They must have solar flare predictors now eh? Or maybe they got a bunch of those EKG pads hooked up to the head one of those religious foretellers, in a pool of water(minority-report style) who envisioned a Fridaypocalypse', 'hoppyending: Worse than that, your temperature unit is °C, but pressure is inches of mercury. 🤨', 'firemogle: You could slow cook some ribs outside at that temp. Riiibs.', ""bgravato: Hmm... Maybe it's planning to set the house on fire tomorrow!"", 'theloneranger08: You in a war zone?', 'BobMcGlobus: Is there an update? how is it, was Tomorrow right?', 'DIY_CHRIS: RIP.', 'hursofid: And visibility in miles', 'Witty_Music_9101: They fixed it, it is showing the correct value now 😂']"
1682612435.0	27-Apr-2023 09:20:35	Door/Window Alerts In HA	brinedtomato	4	130u4o2	homeassistant	https://www.reddit.com/r/homeassistant/comments/130u4o2/doorwindow_alerts_in_ha/	"Good morning, I've been looking for something to integrate into HA that will allow me to get audible notifications of a door opening in my house.  I have a toddler that can reach the deadbolts now so that peace of mind would be nice.  I already have Aqara door sensors, I just can't seem to locate anything that would offer a nice audible alert of some sort.  Something akin to the door open alarms from old time alarm systems that just offered a mild ""beep beep"" or something along those lines."	15	"['emuhack: What about sending an alert to your phone?\n\nYou can also have an alert sent to your smart speakers as well.', ""guniv: I have two of these [Z-Wave chime/sirens](https://www.amazon.com/Ecolink-Enabled-Security-Intruder-ISZW7-ECO/dp/B099CS76K3). It comes preloaded with about 20 or so sounds or you can go through a bit of a process to add your own on an SD card. The downside is it isn't that loud when it's just chiming (the siren is loud) and the audio quality is quite bad. But it's nice to have audible alerts when a door is open and even have it tell me which door."", 'VegasPlexer: I use Alexa Media Player to make announcements when the doors open. She can tell me which door was opened.', 'majordingdong: DIY with ESPHome. \n\nThere are probably some project description you can use to get started. However, should only be considered if you like that kind of stuff. \n\nOtherwise, I would hook up some of your Google Home products to HA to make announcements.', 'davidr521: I do this throughout my house.\n\nWe have several Google Home speakers (pre-Nest) throughout the house.\n\nI found a .WAV file online that was a beep/chirp, and used Audacity (open source audio editor) to make it sound the way I wanted it to. I saved it as an MP3 to my /media folder.\n\nIn an automation, whenever any of those door sensors are open, a script runs to increase the volume, play the double-beep, and then set the volume back down to minimum.\n\nCheck out the ""service: media\\_player.play\\_media"" command.\n\nI actually employ this feature as a double-duty: if my ""alarm is armed,"" that same automation plays a screaming loud siren, yells out loud over the speakers, and uses a Twilio VoIP integration to call my cell phone.\n\nHope that sets you in the right direction.', 'locida: I have a couple kindle tablets mounted on the wall in various locations for multiple purposes. when the doorbell is used, or some calendar events occur, the tablet plays a file or does TTS.', 'kdawg89: I use abode for this. It integrates nicely to HA.', ""brinedtomato: We don't always have our phones on us, but that's also a good idea."", ""brinedtomato: There's no volume adjustment?"", 'brinedtomato: I like this idea, but we\'re a ""google"" home and I prefer not to have my hubs integrated in my HA set up if I don\'t need them to be.', ""brinedtomato: I'll look into this, thank you."", 'emuhack: I thought about that after I posted, do you have smart watches? You could notify on that, with a specific tone and or vibration, you could also geo fence your house and only have it notify you when you are in the house. Like if you are at work and your wife is only home or vice verse.', ""guniv: There is, but the max isn't that loud. I actually had to boost the gain on the custom sounds I added so that I could hear alerts across the same floor of the house."", 'realsqlguy: Google Assistant SDK makes it very easy to do a broadcast to your Google home devices. I have all sorts of broadcasts in place - laundry done, door left open, bedtime security checks, etc.', ""ianjs: Works equally well with Google of course and presumably your child will only be going through this stage for a limited amount of time, after which you can switch it off. \n\nFor the sake of ease of setup for a quick and dirty but effective temporary solution I'd be willing to forego the philosophical objection. YMMV.""]"
1682609700.0	27-Apr-2023 08:35:00	Smart Baby Wall Mount :-)	LongDowntown2015	11	130rzse	homeassistant	https://www.reddit.com/r/homeassistant/comments/130rzse/smart_baby_wall_mount/	"Lol. Not so fancy but cute. Got my wife attention to Home Assistant finally :-D 

https://preview.redd.it/ifrlotjm4gwa1.png?width=2048&format=png&auto=webp&v=enabled&s=36e133e494fbf105a3a0d3845316797a52986e11"	9	"[""AssDimple: Congratulations!\n\nMake sure to get all of the automations worked out before the baby gets here.  Once the baby comes, there isn't going to be much time to tinker."", 'iWQRLC590apOCyt59Xza: Congrats!', ""connelhooley: Congratulations!! I wouldn't recommend mounting a baby on the wall though.\n\nI haven't done much automation for our 2 little ones. I did put a smart bulb in the nursery and I have a smart button that when pressed cycles the light between a warm white which we read books in and a dim red that acts as a night light. Put a fan on a smart socket too so I can turn it off in the night if the temp drops too much in the summer.\n\nI tried to use a IP cam as a baby monitor but I'd recommend just buying a proper one.\n\nLooking forward to see what other things you come up with! I haven't got any wall mounted tablets yet.\n\nhttps://preview.redd.it/barbka8dmmwa1.jpeg?width=1564&format=pjpg&auto=webp&v=enabled&s=31909e0f20a2dd43b68fd0de6869639e0978f128"", 'ameisenbaer: I’d take the code if you don’t mind…we have one on the way as well!', ""LongDowntown2015: Thanks everybody :-)\n\nAbout the code it's just 2 input.datetime helpers + some math + some template sensors.\n\n    - platform: template\n      sensors:\n        days_since_pregnancy:\n          value_template: '{{ (((as_timestamp(now()) - states.input_datetime.pregnancy.attributes.timestamp)) | int /60/1440) | round(0) }}'\n          unit_of_measurement: 'Days'\n          entity_id: input_datetime.pregnancy,sensor.time\n        weeks_since_pregnancy:\n          value_template: '{{ (((as_timestamp(now()) - states.input_datetime.pregnancy.attributes.timestamp)) | int /60/1440/7) | round(0) }}'\n          unit_of_measurement: 'Weeks'\n          entity_id: input_datetime.pregnancy,sensor.time\n        duedate_pregnancy:\n          value_template: '{{ (((states.input_datetime.pregnancy_due_date.attributes.timestamp - as_timestamp(now()))) | int /60/1440) | round(0) }}'\n          unit_of_measurement: 'Days'\n          entity_id: input_datetime.pregnancy_due_date,sensor.time\n        pregnancy_percentage:\n          value_template: '{{ ((states.sensor.days_since_pregnancy.state) | int) * (100 / 270) }}'\n          unit_of_measurement: '%'\n          entity_id: sensor.days_since_pregnancy,sensor.time\n\nMake sure to include sensor.time to refresh the sensor. You need [date & time integration](https://www.home-assistant.io/integrations/time_date/)"", 'sero_t: Congratulations and nice way to keep the wife interested in using the tablet', 'bat1939: haha this is great!!! Congrats.   \n\n\nhave you thought about any baby automations?', ""LongDowntown2015: Thanks :-) \n\nI didn't think of any automations yet, I was thinking also to IP cam but I saw a lot of people suggesting to just buy one. They're cheap and they don't have spof :-)\n\nI had the wall tablet mounted already with some other dashboards, I just added this one recently just to make the wait more fun.\n\nWall mounted tables are a good touch, I bought one for less than 100$.\n\nThis is the main panel.\n\nhttps://preview.redd.it/ge04x57lpmwa1.jpeg?width=2048&format=pjpg&auto=webp&v=enabled&s=121edb6a51abfe362d54b539f8858f43b9eb30ea"", 'LongDowntown2015: &#x200B;\n\nhttps://preview.redd.it/c7ewyijvpmwa1.jpeg?width=2048&format=pjpg&auto=webp&v=enabled&s=9a61ac46ec0bca7ac2a2056b414121328f05e386']"
1682609603.0	27-Apr-2023 08:33:23	What is the simplest way to play audio clips on a speaker over LAN without relying on an external service?	-my_reddit_username-	21	130rvut	homeassistant	https://www.reddit.com/r/homeassistant/comments/130rvut/what_is_the_simplest_way_to_play_audio_clips_on_a/	"I have my alarm system setup through HomeAssistant and trigger different sounds when the system is armed/disarmed/triggered...etc. Right now I play those sounds through my iPad by sending a notification to it via HomeAssistant and referencing the sound file I want it to play. Using push notifs only work if my internet is working (it isn't always!) and even when it is working APNS can be slow at times.

TLDR; Have any of you streamed audio through a speaker over LAN? What is the simplest way to do this? I don't want to rely on another system like google cast or sonos...etc. I am pretty technically competent, but also love the simplest solution here. Any advice appreciated!

**Edit**: Thanks for all the folks chiming in. I just bought a [PiZero](https://www.amazon.com/gp/product/B07W3GJTM1) and a [Waveshare SoundCard Hat + Speakers](https://www.amazon.com/gp/product/B07KN8424G/). I'll 3D print a case to put these in and then either use Rhasspy or a python script to listen to MQTT messages and play local files. Thanks all!"	15	"[""full_hyperion: Attach a speaker to a raspberry pi or esp32, and install software that plays all sounds published to a certain mqtt topic.\nI think rhasspy has a component for that, if you don't want to program it yourself."", 'Saoshen: using rpi+attached speaker, probably create a bash script that plays the sound(s) you want, then run that script(s) through whatever trigger(s).\n\n[https://www.google.com/search?q=linux+play+audio+from+command+line](https://www.google.com/search?q=linux+play+audio+from+command+line)', 'TomJC70: I use a RPi Zero W connected to cheap USB speakers for that; A phyton script listens to MQTT messages and plays sounds when certain msgs are received.  \n\nWorks well enough, but it is not great, at times sounds are not played or with an extended delay, although that could be caused the mqtt msgs needing to transfer between VLANs.', ""john_bergmann: I'm also interested. I was hoping that there is a solution as a DLNA renderer, which a regular PC can act as. I would like something more compact.\n\nI was considering my homeserver to act as the renderer, and drive bluetooth loudspeakers. I know, again more moving parts...\n\nIs there an open-source + home hardware effort for speakers? Maybe esp32 based?"", 'wahlis: Snapcast is nice. That way you could play the sounds locally and get them repeated on a number of different types of client.', ""SeniorPoopyButthole: Lots of great budget options already in these comments, so I'll add a purchase suggestion: WiiM Pro\n\nGot a WiiM Pro when they came out months ago and I use it all the time! \n\nDLNA, Airplay 2, Chromecast (with no account!), multiple audio in and out ports, Bluetooth in, Bluetooth out, and more.\n\nAll core functions are local only and also offers things like official Spotify support."", ""-my_reddit_username-: > install software that plays all sounds published to a certain mqtt topic\n\nDo you know what software does that?\n\n**edit** nvm, looks like Rhasspy might be able to handle that part as well. Thank you I'll take a look"", '-my_reddit_username-: this is probably the simplest solution. I guess I would need something on the RPi that is listening for a trigger, maybe a nodejs api. Someone else mentioned Rhasspy which may be a nice all-in-one solution on a RPi', ""-my_reddit_username-: Awesome, thank you. Do you know what python library you're using to listen for MQTT messages, or mind posting your script?\n\n> although that could be caused the mqtt msgs needing to transfer between VLANs\n\nJust some network support if you're interested. If devices are on separate VLAN's either you have rules to allow messages from an IP group or the entire VLAN to talk to the other VLAN or IP Group, or you don't. You may also want to ensure that you have a firewall rule before any others that allows established and related connections. TLDR; it either should work or would not work at all. Seems more likely a software or MQTT QoS issue"", ""-my_reddit_username-: Cool I'll take a look at Snapcast. Thank you!"", ""-my_reddit_username-: Appreciate you chiming in. Looking for something that doesn't require an external service or internet mainly.\n\n> DLNA, Airplay 2, Chromecast \n\nThis seems like a recipe for things breaking :P Too many dependencies there for me. I thought chromecast requires internet to function?"", 'Martin-Air: I have a simple docker running doing exactly that (for doorbell purposes). Not the cleanest solution as the docker is locally built, but it works. If you want I could publish it here.', 'TomJC70: The Python script I\'m using:\n\n    import paho.mqtt.client as paho    \n    import os    \n\n    def on_connect(client, userdata, flags, rc):    \n      client.subscribe(""PiBeep/#"")    \n\n    def on_message(client, userdata, msg):    \n\n      if (msg.payload == \'Frontdoor\'):    \n        os.system(\'sudo aplay -D plughw:1,0 /home/pi/sounds/frontdoor.wav\')    \n\n      if (msg.payload == \'FreezerAlert\'):    \n        os.system(\'sudo aplay -D plughw:1,0 /home/pi/sounds/alert-109578.wav\')    \n\n    client = paho.Client()    \n    client.on_connect = on_connect    \n    client.on_message = on_message    \n    client.connect(""192.168.1.2"", 1883)    \n    client.loop_forever()    \n\nJust simple and straightforward. This script is automatically started when the RPi reboots.     \nI left out some of the if (msg.payload == \'xxx\'), as that\'s just all the same with only a different msg/sound.    \n\n> it either should work or would not work at all. Seems more likely a software or MQTT QoS issue   \n\nI\'m bridging my VLANs via Node Red, which I think is causing the delays at times. The reasoning behind that is that I have an MQTT server running in my IOT VLAN and another in my normal LAN. The RPi is in my normal LAN for the simple reason it\'s easiest for me to transfer audio files and I haven\'t bothered to move it to the IOT VLAN yet.', ""SeniorPoopyButthole: I can't say specifically if the Chromecast/Airplay 2 function without internet at all, but neither require any logins or accounts.\n\nFor me, it's been the only 100% reliable way to do any audio remotely (without having to fabricate something).\n\nAnd the Chromecast and DLNA functions showed up instantly in Home Assistant when I plugged the ethernet in.\n\nWiiM has no accounts or logins at all, just an app for device settings and additional features.\n\nBut if you want something else, I also found there's an official VLC add-on in Home Assistant you can install and it creates an audio device for your actual server. So if you just need audio in the room your server is in, you could just plug in whatever aux or USB speakers you want and have it be a dedicated audio out for notifications and such."", ""-my_reddit_username-: Wow thanks for the follow through and sharing the script. This is super simple. I'm definitely going to go this route, I like how straight forward it is. Exactly what I was looking for.\n\nI have a pi zero and some speakers for the Pi coming and already 3d printed a case for it all to go in. Thank you!""]"
1682609099.0	27-Apr-2023 08:24:59	Home Automation is a mother EFFER....urgh	karnival8	0	130rcug	homeassistant	https://www.reddit.com/r/homeassistant/comments/130rcug/home_automation_is_a_mother_efferurgh/	"What's my brethren?  


Listen, what I'm trying to do should be easy. I got myself a a little Zwave outlet connected to Smart things Hub 3 which is integrated to my HomeAssistant.  


**Now here's what I want:**  
If the outlet becomes unresponsive (presumably because it lost power) then I want to perform actions. 

**Now here's la pinche problema:**    
It's really on the SmartThings side. When I unplug it it takes several minutes (up to 32 to be exact) before ST knows and passes this info along to HA. ST has this variable for ""checkinterval"" which is set at 1920 seconds. I cannot figure out how to change this or if it even can be changed.   


So, is there a way either in HA or in ST to force poll this thing every n minutes, get a response, and if no response then do something?  


Where is this ""checkinterval"" var set? Is this from the device? From ST? Can it be modified?  


Is there an abstract way to poll/ping it through HA and get a response?  


For this purpose I need better resolution than 32 minutes. I could live with 2-3.  


Thanks for you help, homies."	7	"['-entropy: You have too many steps here. Take SmartThings out of the equation.', 'karnival8: Then what controller would I use to connect to this Zwave outlet.', ""Some_guitarist: A Zwave usb stick.  I'm on the zigbee side of things, but you can get a Zwave USB stick and pass that directly into your HA and completely skip the cloud Smart Things portion.\n\nI originally had an Aotech hub and was using Smart Things and had similar issues."", 'danielszajkowski: A usb zwave stick, the zooz 800 stick would work well. Just be sure to also order a usb extension too.\n\nhttps://shophometechsolution.org/products/copy-of-zooz-zst10-700-series-z-wave-plus-s2-stick', 'karnival8: Awesome. Ordered. Will report back.   \nIs realistic to know when this outlet loses power within 1 minute of it happening?', 'danielszajkowski: I don’t see why not. If your zwave mesh isn’t strong you might need a repeater. \n\nBut my zwave devices are some of the most reliable', 'benchristian88: Yes, mine immediate']"
1682608624.0	27-Apr-2023 08:17:04	Alarmo babysitter mode?	hermy65	2	130qvbt	homeassistant	https://www.reddit.com/r/homeassistant/comments/130qvbt/alarmo_babysitter_mode/	"I just setup Alarmo this week and am loving it so far, however i may have just come across an issue im not sure how to resolve. Right now its set to arm when the home zone has none of our devices in it. In the event that we have a babysitter then it would still arm when we leave even though people would still be home. 

Does anybody have a good idea on how to implement a babysitter mode in alarmo or some way to prevent the alarm from arming in those specific circumstances?"	4	"['flaquito_: I have a guest boolean helper set up for this.\n\nI then use an automation to update a device_tracker.guest, which is attached to a person.guest:\n\n    alias: Guest device tracker\n    description: """"\n    trigger:\n      - platform: state\n        entity_id: input_boolean.guest\n    condition: []\n    action:\n      - service: device_tracker.see\n        data:\n          dev_id: guest\n          location_name: |-\n            {% if is_state(\'input_boolean.guest\', \'on\') -%}\n              home\n            {%- else -%}\n              not_home\n            {%- endif %}\n    mode: single', 'michaelthompson1991: Could you not use the custom armed bypass?', 'hermy65: I read through the github and either didnt understand what i was reading or its not well explained i guess. I assume i could enable custom bypass with zero sensors then when we leave we would just mash that button and then our automation would NOT enable normal armed mode?', 'michaelthompson1991: Yeah that’s exactly what I was thinking! Let me know how it goes, be good to know 👍🏻']"
1682608429.0	27-Apr-2023 08:13:49	How I remember (or am reminded) to feed my dog, featuring an NFC tag	aquatoxin-	11	130qnwj	homeassistant	https://www.reddit.com/r/homeassistant/comments/130qnwj/how_i_remember_or_am_reminded_to_feed_my_dog/	"**I'm posting this because when I was making these automations, I found it difficult to find resources online that had detailed instructions.** Hopefully the next person to google ""toggle boolean nfc tag home assistant"" or ""feed dog home assistant"" will have an easier time. (Or maybe I'm just stupid and bad at Googling. Literally who knows.)

First, I made an automation triggered by tapping the NFC tag on top of her food bin. It will change a Boolean toggle to ON. 

`alias: [Dog Name] Got Fed`

`description: """"`

`trigger:`

  `- platform: tag`

`tag_id: 06ac4c34-4280-46b2-9419-13d4cd56ec96`

`condition: []`

`action:`

  `- service: input_boolean.turn_on`

`data: {}`

`target:`

`entity_id: input_boolean.dogname_fed`

`mode: single`

Then, I made it so that every day at midnight and 4pm, the toggle was reset to OFF. 

`alias: Reset [Dog Name] Feed`

`description: """"`

`trigger:`

  `- platform: time`

`at: ""00:00:00""`

  `- platform: time`

`at: ""16:00:00""`

`condition: []`

`action:`

  `- service: input_boolean.turn_off`

`data: {}`

`target:`

`entity_id: input_boolean.dogname_fed`

`mode: single`

This enables the reminder automation, which I've outlined below. It's a doozy (or at least it was for me when I was first building it), so I've added some notes inline.

`alias: Remind to Feed [Dog Name]`

`description: """"`

*Below, the automation is set to trigger every day at 11am or 7pm, the latest times she's willing to be fed.* 

`trigger:`

  `- platform: time`

`at: ""11:00:00""`

  `- platform: time`

`at: ""19:00:00""`

*This part is straightforward and checks if the boolean toggle to OFF. If it isn't, the rest of the automation doesn't run.* 

`condition:`

  `- condition: state`

`entity_id: input_boolean.dogname_fed`

`state: ""off""`

*The two media\_player.play\_media sections are just telling my google home minis to announce ""Hey guys, you need to feed the dog!"" I set off the ones in the bedroom and my office. This post is reminding me to add an if statement s.t. the living room mini goes off for the 7pm announcement but not the 11am (my husband is often on work calls in the living room at that time).* 

`action:`

  `- parallel:`

`- service: media_player.play_media`

`target:`

`entity_id: media_player.bedroom_mini`

`data:`

`media_content_id: >-`

`media-source://tts/google_translate?message=Hey%2C+you+guys+need+to+feed+the+dog%21+`

`media_content_type: provider`

`metadata:`

`title: ""Hey, you guys need to feed the dog! ""`

`thumbnail:` [`https://brands.home-assistant.io/_/google_translate/logo.png`](https://brands.home-assistant.io/_/google_translate/logo.png)

`media_class: app`

`children_media_class: null`

`navigateIds:`

`- {}`

`- media_content_type: app`

`media_content_id: media-source://tts`

`- media_content_type: provider`

`media_content_id: >-`

`media-source://tts/google_translate?message=Hey%2C+you+guys+need+to+feed+the+dog%21+`

`- service: media_player.play_media`

`target:`

`entity_id: media_player.googlehome7110`

`data:`

`media_content_id: >-`

`media-source://tts/google_translate?message=Hey%2C+you+guys+need+to+feed+the+dog%21+`

`media_content_type: provider`

`metadata:`

`title: ""Hey, you guys need to feed the dog! ""`

`thumbnail:` [`https://brands.home-assistant.io/_/google_translate/logo.png`](https://brands.home-assistant.io/_/google_translate/logo.png)

`media_class: app`

`children_media_class: null`

`navigateIds:`

`- {}`

`- media_content_type: app`

`media_content_id: media-source://tts`

`- media_content_type: provider`

`media_content_id: >-`

`media-source://tts/google_translate?message=Hey%2C+you+guys+need+to+feed+the+dog%21+`

*Below is just setting one of our countertop lights to flash as a visual cue for my husband when on calls.* 

`- device_id: dad17a5bb04f80e101e71a6f7bc37d66`

`domain: light`

`entity_id: light.countertop_3`

`type: flash`

`mode: single`

So, that's that!"	10	"['Shooter_Q: Hope that helps someone, pretty cool. \n\nFortunately/unfortunately, all of my dogs came with automatic reminders built in.', ""Choco_Kuma: I have an automation that sends an actionable notification to my phone to remind me to feed the cat. Once I mark the cat as fed, it sets a timestamp and sends the notification again 10 hours later. I do shift work (rotate through days/evenings/graveyards) so set times for feeding/resetting the boolean doesn't really work for me."", 'rubin110: Thanks for this. I might take a couple concepts and modify this blueprint:\n\nhttps://community.home-assistant.io/t/advanced-medication-reminder/300137/4', 'mag2007: Looks cool. I Made something like this but for our newborn, to give the vitamin d. For notification i used Telegram bot.', ""No_beef_here: Quite.\n\nIf I lost my watch I would know when it was 10am (dogs breakfast), 5pm (dogs dinner) or 8pm (dogs dental stick), +\\_5 minutes because he would tell me. ;-)\n\nThe issue though is if he's going back to his Mum around one of his mealtimes, he has been known to try it on with the 'they didn't feed me' look. ;-)\n\nAs others have mentioned though, 'we' could use medication reminders ..."", 'danieldur: I was about to say the same about my cat. Ha! Ha!', 'aquatoxin-: Ooh, that makes sense!', ""aquatoxin-: AHH a medication reminder would've been the perfect building block, can't believe I didn't think of that given how many meds I take a day"", ""rubin110: It's funny because my next NFC reminder is going to be for feeding our cats."", 'gunwhalejabber: My first thought when reading your post was ""I could use this as a medication reminder/tracker.""  Thanks for sharing!!!']"
1682606854.0	27-Apr-2023 07:47:34	Nest Wired Doorbell (2nd gen) vs Nest Batter w/ Wired ability Doorbell (2nd gen). Best for Home Assistant and reliability?	Who_u	2	130p01o	homeassistant	https://www.reddit.com/r/homeassistant/comments/130p01o/nest_wired_doorbell_2nd_gen_vs_nest_batter_w/	"Now that Nest API access allows for the latest wired doorbell to be hooked up, I'm wondering if I should pull the trigger on the combo Battery/Wired doorbell or the only Wired doorbell.

Does anyone have experience with both? I've heard that the battery one doesn't allow for 24/7 recording but assuming that's through google, but through HA or homebridge plugin would that work?  


It'd be nice to have backup recordings with a battery built in if the features are the same as the newer Wired version, but if not all features are available like a wired doorbell with all time power I'd probably prefer the only wired one?"	7	"['_Rand_: Get a reolink PoE doorbell, put it on a UPS.  Now you have a battery backed doorbell AND privacy (assuming you set it up correctly) and as a bonus they are cheaper too.', ""Windex4Floors: If there's any piece of info you should know about Google/Nest is that any integration will eventually be broken and scrapped. \n\nHaving Google/nest hubs and nest cameras has been one of my biggest regrets in a smart home next to using Ikea smart plugs/buttons. \n\nThe nest camera integration works...sometimes? And if it's working, the steam is probably delayed by 45 seconds. That's after your log feed gets bombarded with 404 errors from the API not being able to connect. \n\nSo long story short. If you plan to use Google, don't expect to use it in home assistant."", 'louislamore: My biggest home automation regret is using Google cameras. Yes, they’re easy to set up. But no, they won’t work well with HA. Besides almost never displaying in HA, Google has restrictions on what you can do with them through the API. If they do display they’re delayed streams. \n\nIf you want something equally easy but local, go with Reolink or Unifi. If you want something super solid (but difficult to set up) check out Frigate.', ""MossHops: I think that's a bit overstated. My nest devices are working fine in HA. Some have been a pain to set-up, but they have been reliable.\n\nThat said, if I was buying a device with the specific intent of integrating with HA, would I buy a Nest/Google device? No I would not. Google isn't trying to sell you a piece of hardware, they are trying to sell you a service. For that reason, they are never going to make integration with HA easy."", ""Windex4Floors: Do you have any nest cameras installed? Do you not get the famous 404 not found error? \n\nhttps://github.com/home-assistant/core/issues/60353\n\nIt's been an open issue since 2021. If I remember correctly, it's an issue with the API Google provides. I can pull up my logs or my camera stream right now and guarantee I will see this issue. It will eventually work but it's just not reliable enough. \n\nLuckily I don't mess with my Nest thermostat enough to see issues often but even then I've had a few hiccups here and there. I'm hoping the Matter integration fixes some of those small issues for the thermostat."", 'MossHops: I have a lot (too many) of Google/Nest products. First gen wired camera, latest gen battery powered camera, Nest Doorbell, Nest x Yale Lock, Nest Thermostat and Nest protect.\n\nCameras are the most challenging as they are often delayed (no 404 errors though). Using the motion detectors on the camera(s) are also kind of useless as they have a long delay (probably because they are doing web calls back and forth).\n\nOther than that, everything works fine. But, I still regret going with the Google/Nest infrastructure. Much better options out there for all of this if you are willing to commit to Home Assistant.', ""Windex4Floors: I agree with you here but it does seem like my cameras are for some reason giving me more issues. I'm just waiting for them to start dying so I can replace them with something better lol.""]"
1682606516.0	27-Apr-2023 07:41:56	Tips for running Mosquito MQTT in HA with Cloudflare remote access established (not via tunnels)	crocman1978	1	130onoz	homeassistant	https://www.reddit.com/r/homeassistant/comments/130onoz/tips_for_running_mosquito_mqtt_in_ha_with/	"My current HA setup includes HA running on rPi4 (HA as OS not via docker).  I have setup a cloudflare domain name and have ports running back to my instance (with router / firewall setup as well).   This has all been running fine.  No local access to HA instance, all runs via Cloudflare (with their firewall etc).

I'm trying to setup MQTT and have issues where the MQTT integration cannot connect to MQTT server (installed via HA Add on, Mosquito MQTT).  I figuring because all traffic has to run via Cloudflare, cannot just use ""core-mosquito"" as the broker name - this needs to be another URL.  User has been setup and tested.

Thinking that I need to push my MQTT traffic in via cloudflare also - I've setup in cloudflare another sub-domain, with port forward established in router.  Entering this new URL eg [mqtt.mydomain.com](https://mqtt.mydomain.com) (with port 1883 --> port forwarding) doesn't work either.

Cannot connect.  Is my methodology sound here?  Is this how I'd need to setup MQTT with Cloudflare.  I'm not running the ""Cloudflared"" Addon with tunnels."	5	"['sleekelite: incorrect, just tell everything to use the local IP for mqtt', 'FancyJesse: Do not port forward. There is no need to and you just opened yourself up to a vulnerability.\n\nEverything should be done locally.', ""crocman1978: Thanks.  I tried using direct IP address and again could not connect.\n\nMosquito ADD-ON says 'Hostname' is 'core-misquito' and my integration config has 'core-misquito' also as the 'broker' field.  If it \\*should\\* still work locally I reckon this should be fine as it is a default config.\n\nBut my guess is because I have Cloudflare integrated and local traffic disabled (to HA).  I'm just unsure how this affect traffic to the MQTT broker?\n\nThanks for any help / ideas."", 'crocman1978: Thanks.  But I guess then how do I open up traffic locally?  Saying that you can\'t run cloudflare and run MQTT. Sorry this is probably the step I\'m stuck on. Local is disabled with the ""allowed\\_proxies"" and ""use\\_x\\_forwarded\\_for: true"".  So I\'m assuming the reason nothing can connect locally to Mosquito-MQTT is because of this?\n\n&#x200B;\n\nhttps://preview.redd.it/syvm8i7fllwa1.png?width=660&format=png&auto=webp&v=enabled&s=90670c96cb3f8abf3e88c8e8ebcff39ad7194148', ""FancyJesse: Traffic should already be opened up locally automatically. No work needed. \n\nAre you running this bare metal? In docker? A tip would be to don't go for the SSL route for now. Access your device locally through the IP address under http.\n\ne.g. http://192.168.1.XXX:1883\n\n\nAt the moment, I suggest you close up those forwarded ports. Anyone that finds your domain and knocks on the ports will find them. Not saying it'll happen overnight, but the possibility is there. \n\nIf you need external access, look into a setting up a VPN. Personally, I use wireguard.""]"
1682604979.0	27-Apr-2023 07:16:19	NodeRed for Shade Control	ingenium86	2	130nj6t	homeassistant	https://www.reddit.com/r/homeassistant/comments/130nj6t/nodered_for_shade_control/	"I started using NodeRed for controlling my blinds, and for the most part it has been working well.

I'm running into a bit of a problem with sequencing and hoping someone can show me how to accomplish this, or a different way of doing it.

I want to open my shades to 10% when the sun rises, but not before 7am.

I want to open my shades the rest of the way at 8am, but not before sunrise.

Where I am, the sunrise can range anywhere from 6am to 8:15am.

I had originally set it up with two sets of two BigTimers in series, thinking it would first check if it was 7:00am, then move to the next and check if it was past sunrise, and a second in the opposite order, but after testing and reading I don't believe this is the case.

I've been struggling over the past few days testing different configurations only to have none of them work properly and have my shades moving back and forth between closed, slightly open and fully open... it works better than my alarm.

Thanks for any help"	6	"[""icaranumbioxy: Grab the azimuth value from the sun entity. Find a solar calc website and put in your lat long. You can use the azimuth value to determine if you want the blinds up or down.\n\nI have my automation running every minute since. It checks if it's a super hot day and the sun is on the window according to the azimuth value, then close the blinds."", ""Uninterested_Viewer: Lots of approaches. I think something like this should work: [excuse my photo of a computer screen I have.. reasons..](https://i.imgur.com/tun8gL3.jpg)\n\nIf sunrise happens after 8am it will make those two calls immediately back to back so this could be optimized if that causes any issues. [Here's one way to account for that with another check of the time before opening the first 10%](https://i.imgur.com/CqiYFAA.jpg)"", ""ingenium86: Thanks, I don't think this directly helps with what I was trying to accomplish, but it does give me direction for improving my automation further down the line."", ""ingenium86: Thank you, I didn't know about looping the event back on themselves. I'm very used to sequential programming, and was trying to accomplish it as if it was relay logic rather than latching and moving along the flow chart."", ""icaranumbioxy: Here's my flow for my blinds. Maybe it'll help. I am using helpers in the flow so those aren't included but this is the main flow. Let me know if it helps.\n\nYou can import other people's flows from your clipboard in Node-Red if you aren't familiar....hamburger menu->Import->Clipboard\n\n[https://pastebin.com/F6fC0Ztw](https://pastebin.com/F6fC0Ztw)"", 'Uninterested_Viewer: You bet- good luck!']"
1682603733.0	27-Apr-2023 06:55:33	Help! Issues Adding HA to Existing NGINX Reverse Proxy with SSL	LoungingLemur2	1	130myc3	homeassistant	https://www.reddit.com/r/homeassistant/comments/130myc3/help_issues_adding_ha_to_existing_nginx_reverse/	"Ok so I've been going crazy over the last few weeks trying to get this to work. Here's my setup; everything runs within the same Win10 Pro PC:

\- The following ports are forwarded on my router to the Win10 machine IP:

* 80:80
* 443:443

\- HAOS 10.0 running in VirtualBox

\- Ubuntu 22.04 LTS running within WSL2

\- Docker Desktop running on Ubuntu 22.04 LTS

\- NGINX docker container running within Docker Desktop

\- Nextcloud docker container running within Docker Desktp

&#x200B;

**NGINX Config Info:**

I successfully installed certbot with the duckdns plugin and obtained certificates for the following (sanitized) domains (even though wildcart certs are supposedly supported, I couldn't get anything to work with them so I just used certbot to create certs for all these domains):

* mydomain.duckdns.org
* nc.mydomain.duckdns.org
* ha.mydomain.duckdns.org

\- My Nextcloud instance is successfully proxied via SSL to its domain, so I know that my SSL certs are working correctly

 

`server {`  
    `listen 443 ssl http2;`  
    `server_name ha.mydomain.duckdns.org;`  
    `ssl_certificate /etc/letsencrypt/live/mydomain.duckdns.org/fullchain.pem;`  
    `ssl_certificate_key /etc/letsencrypt/live/mydomain.duckdns.org/privkey.pem;`  
    `location / {`  
        `proxy_pass http://192.168.1.B:8123$request_uri;`

`proxy_set_header Host $host;`  
        `proxy_set_header X-Real-IP $remote_addr;`  
        `proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;`  
    `}`  
`}`

I think my issue may be one of two things, let's address which IP address first:

**POSSIBLE ISSUE #1**

* 192.168.1.A: IP for Win10 host machine
* 192.168.1.B: IP for HA instance (it runs under a different IP); network adapter in VirtualBox is in bridged mode
* 172.30.32.0: HA internal IP (sounds like it's the same for every HA installation)
* 172.20.55.C: Ubuntu 22.04 LTS internal IP

For my Nextcloud NGINX server block, I need to use the command `proxy_pass http:172.20.55.C:<NC PORT>` in order for the proxy to work correctly. This makes sense as the Nextcloud instance is running within Docker, whose IP should match the IP in Ubuntu from `hostname -I`. However, **which IP address do I need to place in my proxy pass command for HA?** Obviously I've tried using all of the above IP's, as well as 127.0.0.1. Here is my current HA Config file as well (clearly I just put every IP in the trusted\_proxies section while troubleshooting this:

`# Remote access settings`  
`homeassistant:`  
 `external_url: https://ha.mydomain.duckdns.org/`  
 `internal_url: http://192.168.1.B:8123`  
`http:`  
 `use_x_forwarded_for: true`  
 `trusted_proxies:`  
    `- 192.168.1.0/24`  
    `- 172.20.0.0/24`  
    `- 172.30.55.0/24`  
    `- 172.20.55.C`  
    `- 172.30.32.0`  
    `- 127.0.0.1`  
    `- 192.168.1.A`  
    `- 192.168.1.B`

I am successfully able to login to HA via the internal URL shown in this config.

**POSSIBLE ISSUE #2**

Port 443 is forwarded to the host machine IP address (192.168.1.A). Since HA is running on 192.168.1.B instead of 192.168.1.A, is this issue preventing NGINX from proxying correctly? If so, how can I fix this without changing how I'm running the various programs (e.g. I want to keep HA within a VM, and NGINX within docker).

I do not want to use any addon's within HAOS in order to enable external access...I want to proxy via my existing NGINX reverse proxy. Thanks a lot for the help!"	8	"['sleekelite: You didn’t seem to include what “doesn’t work” means - edit the beginning to explain exactly what is happening and what you’d like to have happen instead.\n\nConceptually it’s extremely simple:\n\n1. Get rid of all the port 80 stuff, you’re confusing yourself\n1. Forward 443 from the router to whatever IP address the router can talk to nginx on\n1. Ensure that traffic arrives with netstat or tcpdump\n1. Configure nginx to have some server blocks, each of which specify a hostname and proxy to whatever IP and port it can talk to HA on\n1. Ensure that traffic arrives via netstat or tcpdump or getting some http configuration error from HA served via the proxy and observing the nginx logs\n1. Fiddle the HA instance to accept the hostname / proxy IP\n1. Ensure it’s flawless now', '5yleop1m: You should check out NGINX Proxy Manager, it does a lot of the hardwork for you and all you need to do is create the proxy profile. \n\nhttps://nginxproxymanager.com/\n\nAlso why in tarnation are you running docker inside ubuntu inside WSL inside windows????', 'LoungingLemur2: Posting this here just in case others have a similar issue. Here are the final changes that got this work for me:\n\n* In Home Assistant config.yaml, I needed to list only ONE IP address as a ""trusted proxy"". I know you are supposed to be able to list multiple, but that just didn\'t work for me. To find that IP address, I looked at home assistant log file, which listed the IP address used by my proxy when I tried to connect to ha.mydomain.duckdns.org. Instructions [here](https://community.home-assistant.io/t/home-assistant-400-bad-request-docker-proxy-solution/322163).\n* While troubleshooting, I was typically restarting and reloading the YAML file only (not completely rebooting HA). Once I made the above change and rebooted HA fully, everything worked (a quick reload didn\'t affect anything).\n* Also, I initially had my NGINX configs split among different files to make my life easier (i.e. common proxy\\_set\\_header statements were included in a proxy.conf file, as well as the statements to enable the web socket). I also needed to move all these lines into the homeassistant server block within my NGINX config.\n\nThanks a lot to everyone who commented on this...I know my initial post was massive and likely confusing...(you can tell I was very lost).', ""LoungingLemur2: Yeah I initially tried with NPM, but it wasn't working even for Nextcloud so I switched to NGINX in order to have a little more control.\n\nAnd maybe I didn't explain it right (I'm clearly a novice here)...My host machine runs on Win10. In order to run docker on a windows machine, you need to install Ubuntu in WSL2 or stand up a Hyper-Visor. So Ubuntu runs in WSL2 (on the Win10 machine) which allows docker desktop to run on that machine as well. Then all the docker containers get virtualized (not sure on the right terminology here) within the Ubuntu instance."", ""5yleop1m: If NPM wasn't working then you need to look over your network config. I'm using NPM for plex, nextcloud, and even a matrix server. The matrix server was the harder to configure bit for federation to work right. \n\n\nIn NPM you can do more complex configs, each proxy you create has an advanced section where you can add custom NGINX parameters. You can also access the proxy config file for each proxy. \n\nSo WSL2 is still not really production ready, its meant for development work more than anything else right now. The way it handles networking is a little wonky from what I remember. I use WSL2 + Docker for my own development work and I've had plenty of trouble with dumb things like NTP not working right across the layers. \n\nAny reason why you're running windows 10 as your host machine? Is this a dedicated server or is this doing double duty as your daily use desktop too?"", ""LoungingLemur2: For now I'm stuck running Win10. The computer serves dual purpose for HTPC and gaming occasionally as well. My struggle is really just that there are no clear guides that show the exact requirements for an NGINX config that points to HA...there's plenty of guides, but they all include different location parameters or ssl parameters, and none of them seem to work for me.  \n\n\nThe WSL2 networking issue initially caused a lot of problems with my NGINX connection to nextcloud, but I was able to fix it by focusing on the same two issues I mentioned in my initial post:\n\n1. Proxy-ing the correct IP (in that case, I needed to proxy\\_pass my Ubuntu IP address, since Nextcloud runs in docker)\n2. Ensuring port forwarding is correct (443 directed to 443 on the host machine IP).\n\nMy concern now, is that HA actually has a *different* local IP even though it runs off the same host machine. So is my issue that 443 is forwarded to the host machine, but not to HA? Or should NGINX resolve that completely?\n\nIf it's resolved, then I truly have no idea how to resolve a 400: Bad Request error, because I'm not sure what could be wrong with my headers.""]"
1682602639.0	27-Apr-2023 06:37:19	lovelace-rpi-monitor-card	natsucau	1	130mfvg	homeassistant	https://www.reddit.com/r/homeassistant/comments/130mfvg/lovelacerpimonitorcard/	"Hi all, I'm a newbie and I have just installed Home Assistant on docker.

I'm now doing some experiments with HACS, so I tried to install RPi Monitor Card. After that, I received a message requesting me to manually add the following lines to Lovelace yaml file:

\- url: /hacsfiles/lovelace-rpi-monitor-card/rpi-monitor-card.js

type: module

Being that I couldn't find any Lovelace yaml file (and neither a Lovelace dashboard), I added them to configuration.yaml:

lovelace:

  mode: yaml

  resources:

\- url: /hacsfiles/lovelace-rpi-monitor-card/rpi-monitor-card.js

type: module

Now the messages disappeared, but I'm unable to add any card related to this plugin to my dashboard! What should I do next?"	2	"['sleekelite: The key thing to look into is “Lovelace storage mode”.', 'natsucau: If I understood well, I have to click  the three dots in the top right corner, Edit Dashboard, clicking again, Raw Configuration Editor.\n\nNow I added the following lines:\n\n>resources:  \n>  \n>\\- url: /hacsfiles/lovelace-rpi-monitor-card/rpi-monitor-card.js  \n>  \n>type: module\n\n...but I received the message ""Resources should no longer be added to the dashboard configuration but can be added in the dashboard config panel"".\n\nWhat\'s wrong?']"
1682602075.0	27-Apr-2023 06:27:55	Wyze Docker Bridge + Frigate issues	RoachForLife	1	130m6en	homeassistant	https://www.reddit.com/r/homeassistant/comments/130m6en/wyze_docker_bridge_frigate_issues/	"Hey gang, so still only 1 week into using HA so go easy :)

I have 3 Wyze cams, set up thru Wyze Docker Bridge and then added as Generic Cameras based on the RTSP feeds. Those then go to Frigate. Yesterday all was working fine, and no changes were made to either Frigate or the Bridge, yet today, the Bridge will show the initial snap shot when I restart but not play video

=ISSUE WYZE BRIDGE =

When I hit play it says  ""The media could not be loaded, either because the server or network failed or because the format is not supported ""

For the config file, not much to it but I have

WYZE\_EMAIL: useremail for app  
WYZE\_PASSWORD: password to match  
NET\_MODE: ANY  
SNAPSHOT: RTSP  
MQTT\_DTOPIC: homeassistant  
ENABLE\_AUDIO: true  
ON\_DEMAND: true  
SUBSTREAM: false  
CAM\_OPTIONS: \[\]

To be honest I am not sure if RTSP is the right option I should use for Snapshots or if I should be utilizing any of the CAM\_OPTIONS.

&#x200B;

=ISSUE FRIGATE =

Then on the Frigate side, at least when the Docker app was up and running, I had another set of issues.  I can never get it to show a live stream (on my Amcrest cameras either). It would just show the initial snapshot and stay there. For Frigate here is my frigate.yml

&#x200B;

 mqtt:  
 host: 10.0.0.X  
 user: mqttusername  
 password: mqttpassword

 wyzekitchencam:  
 ffmpeg:  
 inputs:  
        \- path: rtsp://IP:Port/kitchen-cam  
 roles:  
            \- detect  
            \- record  
 detect:  
 width: 1920  
 height: 1080  
 enabled: True  
 record: # <----- Enable recording  
 enabled: True  
 snapshots: # <----- Enable snapshots  
 enabled: True

TEST:  
 ffmpeg:  
 inputs:  
        \- path: rtsp://address for amcrest  
 roles:  
            \- detect  
            \- record  
 detect:  
 width: 1920  
 height: 1080  
 enabled: True  
 record: # <----- Enable recording  
 enabled: True  
 snapshots: # <----- Enable snapshots  
 enabled: True  
   
detectors:  
 cpu1:  
 type: cpu  
 cpu2:  
 type: cpu

&#x200B;

=SUMMARY=

Like I mentioned, just so odd as it was at least showing the Wyze cameras live feed in Bridge app yesterday and with no changes, now not working. Wondering if I maybe had too many connection errors and now its throw codes with talking to Wyze servers?

On the Frigate side, as mentioned Ive never been able to see a live feed (maybe folks dont use this for live feed anyhow). I did see it detected a Person on 3 occasions however it gave me an error when trying to play (sorry dont hve that handy but can get if needed). 

&#x200B;

=QUESTION=

On the Frigate side, I see hardware acceleration is suggested. I am running all of this off my TS453a box with Celeron N3510. I tried using the std intel option but it gave me an error. When removing it worked (again this was last night). Not sure if there is an option that works for Celeron? And more of a VM question but for the VM I can set the CPU for it. It defaulted to Intel Core i7 Westmere however there is an option for Pass Through (celeron is not an option). Not sure if this matters but thought Id mention.

&#x200B;

Thank you thank you thank you. This community has been amazing and I am just about ready to move on to automations after getting a million devices/integrations added with everyones help"	3	"['RoachForLife: Forgot to mention I am unsure about "" MQTT\\_DTOPIC"" value. I left this at the default of ""homeassistant"" but not sure if this needs to be configured elsewhere. Didnt see anything in MQTT but may have missed', 'nickm_27: 1. live feed in frigate is supported when you open the camera view. To have a good live feed you need to use go2rtc so you have the MSE and WebRTC options\n2. You likely need to set the i965 driver to have hwaccel work. It definitely supports celeron without issue when the config is setup correctly.', 'RoachForLife: Thank you, I saw go2rtc as an option and will look into that.  I will also give the i965 option a try and see if it improves anything. Well once the feeds are working in the Bridge. Thanks!']"
1682601038.0	27-Apr-2023 06:10:38	Aeotec Zi-Stick Zigbee/Thread USB Dongle	msalad	2	130lpic	homeassistant	https://www.reddit.com/r/homeassistant/comments/130lpic/aeotec_zistick_zigbeethread_usb_dongle/	Has anyone tried Aeotec's new [Zi-Stick](https://aeotec.com/products/aeotec-z-stick-zigbee/)? It's a zigbee/thread controller with multiprotocol ability. I preordered mine and will have it in a few days. It seems to be competing with the SkyConnect	1	"[""bkosick: I have not, but I do really like aeotecs stuff in general, so I would think it's pretty decent.""]"
1682600610.0	27-Apr-2023 06:03:30	Display products in Home Assistant	thrstnrchlt	3	130liek	homeassistant	/r/grocy/comments/130lhzh/display_products_in_home_assistant/		0	[]
1682600527.0	27-Apr-2023 06:02:07	Siri shortcut to speak power consumption or solar generation on HomePod	PracticalHomework626	26	130lh10	homeassistant	https://i.redd.it/fc1fblj8vgwa1.jpg		13	"['DrTrojanHorse: Can you run this shortcut using the HomePod without the iPhone being unlocked? I can’t stand apple’s limited functionality.', 'PracticalHomework626: Hope this is of use to someone, took me an age to figure it out', 'ch0000d: I like how u can enable certain sections with switches, I guess the switched system monitors an enable variable', ""fortisvita: Is this is an automation interface through HACS/Addins that I'm not aware of?"", 'Consistent-Ad-7332: Or the iPhone being connected to the same network?', 'PracticalHomework626: iPhone doesn’t need to be unlocked, but does need to be on the same Wi-Fi network. Run personal shortcuts option needs to be configured. Sometimes Siri will ask ‘who’s talking?’ Other times I just receive the information directly. This may come as a shock to those that have never used it, but Siri is utter fucking garbage.', 'The_Manoeuvre: Bookmarked! I made a watch complication to show the current rate but so often I want the days total.', 'PracticalHomework626: I’m switching here on the value from the template returning a negative or positive value. Negative means I am pulling kw from the grid, positive means I am pushing surplus to the grid. The positive value is not true generation as such, but is generation minus any load being consumed by the house. I get peanuts from the grid supplier for surplus, so will try to use it instead, eg switch on the dishwasher.', 'Human_Spirit_8812: This is the Shortcuts app on iPhone/iPad/Mac', 'PracticalHomework626: Let me know if I should add more details, new to both shortcuts and home assistant myself, so not sure what’s obvious and what needs explaining.', 'PracticalHomework626: Yes, I have the Home Assistant app installed on the iPhone, this exposes certain functionality to apple shortcuts. One option is ‘render template’ which I am using here to request the current value of the sensor ’solarnet_power_load’.', ""fortisvita: Cool. I'm an Android guy, so haven't encountered this one before."", 'PracticalHomework626: Am keen to try native home assistant voice automation next 😀']"
1682599881.0	27-Apr-2023 05:51:21	TTS card on dashboard?	sometin__else	1	130l696	homeassistant	https://www.reddit.com/r/homeassistant/comments/130l696/tts_card_on_dashboard/	"Hello.   
Is there a way to display this page in a popup card?  
The best I've been able to do is create a button that links to the page, but a popup card would be much better so it would be easier to close and return to the dashboard.  


Currently I am using  
'type: custom:button-card  
entity: media\_browser\_button  
name: TTS  
tap\_action:  
action: navigate  
navigation\_path: >-  
/media-browser/browser/app%2Cmedia-source%3A%2F%2Ftts/provider%2Cmedia-source%3A%2F%2Ftts%2Fcloud'  


It creates a button that leads to the page, but then its multiple clicks to return back to the dashboard. I was hoping I can use browser mod for it to open a pop up instead but can't seem to figure out how. 

[TTS Card through Media Tab](https://preview.redd.it/8dysab8mbfwa1.png?width=1904&format=png&auto=webp&v=enabled&s=5ff97445fcb61a1eb8caf96958b4260c6a57a94e)"	2	['tarzan_nojane: take a look at [browser_mod](https://github.com/thomasloven/hass-browser_mod).', 'sometin__else: I mention that I tried using browser mod but could not get it to work. Thanks anyways']
1682597819.0	27-Apr-2023 05:16:59	Bluetooth integration with intel NUC	callmejohndoenotoe	1	130k8o2	homeassistant	https://www.reddit.com/r/homeassistant/comments/130k8o2/bluetooth_integration_with_intel_nuc/	Doesn’t anyone use the Bluetooth integration with the intel NUC? How did you set it up? I have lots of Bluetooth devices and none are being discovered so I can only assume it isn’t working. However, I do have a Bluetooth temp sensor that does appear but I’m unsure if it is connecting a different way.	13	"['Anonimo32020: I use 2 esp32 boards with esphome bluetooth proxy. https://esphome.github.io/bluetooth-proxies/\n\nYou can get 3 in a package for a low price.\n\nHere is some other info\n\nhttps://esphome.io/components/bluetooth_proxy.html', ""Kinetic21: I've been using my NUC's built in Bluetooth since I set it up, and haven't come across any issues. What model NUC have you got?\n\nHas homeassistant successfully discovered the inbuilt adapter?"", 'AnxiouslyPessimistic: +1 for the esphome BT proxy setup. I found Bluetooth ropey from my system perhaps because of its position in the house. But a proxy immediately fix it', 'Efficient-Project476: What method have you used to install and run Home Assistant on you the NUC? \n\nAre you using Home Assistant OS, a Docker container, a supervised install or a Python environment.   Is it installed as virtual machine?\n\nhttps://www.home-assistant.io/installation/', 'louislamore: Placement might be an issue. My NUC is in the basement and has a hard time picking anything up.', 'callmejohndoenotoe: Is it not possible to use the NUC’s Bluetooth then?', 'callmejohndoenotoe: I have the Intel NUC Barebone Mini PC Kit (i3-8109U, Intel Iris Plus Graphics 655, Dual Channel DDR4-2400 SO-DIMM, Gigabit LAN). It says it has dual mode Bluetooth 5.0.\n\nWell HA has discovered a bluetooth adapter and I have enabled passive scanning but no devices are shown.\n\nNot sure how to troubleshoot from here', 'callmejohndoenotoe: How do you test its working? My adapter was discovered but the devices are not shown, I just added a USB adapter to my NUC and this was also discovered.\n\nI’m starting to think I’m expecting a different outcome than it should be. Do available devices appear in the bluetooth integration or are these visible else where? I assumed the devices would be visible within the bluetooth integration?', 'callmejohndoenotoe: HA OS', ""Anonimo32020: Maybe. I couldn't get it to work."", 'AnxiouslyPessimistic: Honestly it’s super confusing so I’m not sure I can help much! Generally speaking devices show up as discovered on the main integrations page.\n\nHave a look at the BTHome integration, most of my BT devices are under that. \n\nOne of those faffed until it worked now wish I knew what I did', 'callmejohndoenotoe: Did it discover the Bluetooth adapter? Mine does but nothing seems to happen from there', 'Anonimo32020: Yes it did. That was the problem I had.']"
1682597169.0	27-Apr-2023 05:06:09	Got integration to Smartthings working but curious best way to handle dupe devices?	RoachForLife	1	130jy39	homeassistant	https://www.reddit.com/r/homeassistant/comments/130jy39/got_integration_to_smartthings_working_but/	"Hi all, so finally got the Smartthings integration to work. After setting up my port forwarding and DuckDNS with Lets Encrypt, it ended up being such a dumb thing preventing the connection. For the external URL of HA I forgot to add the port, which the integration was using for a webhook. Anyhow...

So as a previous (well current still I suppose) ST user I have not only my zigbee and zwave devices on it but also some others like ecobee and rachio, which I now have as integrations in HA as well. 

When I brought over the connection I just brought it all over, meaning I have a good 40 devices that are on both. Now there are several ways to remove this and just seeing if the method matters?

I could

1. Remove from ST all together (not ready to do this just yet plus I like the flexibility of having in both for now)
2. I believe I can modify the token to exclude these devices at the token/access level
3. Now that they are already in HA, I see there is a 'disable' option per device. Not sure if any issues doing that way?
4. Lastly, I could just ignore them. Im thinking that means more network traffic and processing tho so probably should remove. For the time being Ive moved all the dupes to its own Area to easily distinguish. 

With that said, any thoughts on the matter are appreciated. Also would #2 and #3 effectively be the same?  Thanks all!"	1	"[""Kristopher_73: Option 1. \n\nI left ST Summer 2022 and my home was running all EDGE (Beta) drivers, but hated the road Samsung was taking the platform with 'updates' and 'new features.'\n\nYou may have your reasons for wanting to keep ST, but will tell you from a person with a purpose built and well thought out smart home....HA has no comparison and you wouldn't regret making the full switch.""]"
1682596241.0	27-Apr-2023 04:50:41	Can't purge history of entity	peartreetoisengart	1	130jjak	homeassistant	https://www.reddit.com/r/homeassistant/comments/130jjak/cant_purge_history_of_entity/	"Hi everyone,

I seem unable to purge the history of any entity. I installed a few smart plug for energy measurement yesterday and had a few starting problems. Now I have a few hours with wrong values and I want to delete them. I read [recorder purge entities](https://www.home-assistant.io/integrations/recorder#service-purge_entities) and tried to run the service 

    service: recorder.purge_entities
    data:
      keep_days: 0
    target:
      entity_id:
        - sensor.kueche_kuehlschrank_stecker_aubess_tuya_power

but it doesn't do anything. I do not see a log in MariaDB nor does the history disappear. Can anyone please help?"	0	[]
1682596192.0	27-Apr-2023 04:49:52	Energy Dashboard keeps adding total meter value to Dashboard	Tenacious-D-8356	2	130jign	homeassistant	https://www.reddit.com/gallery/130jign	Hey. I'm using home assistant in combination with with tasmota on a D1 mini and this sensor (https://www.ebay.de/itm/314015465828?mkcid=16&mkevt=1&mkrid=707-127634-2357-0&ssspo=_zsyyv2er9e&sssrc=2349624&ssuid=&var=&widget_ver=artemis&media=COPY) to track my energy consumption. I've recently used this site (https://tasmota-sml-parser.dicp.net/) to change my meter definition in order to get more values from my meter, which worked fine. The only problem is, that after a certain time the total meter value will be added to my home assistant energy dashboard for some reason. Does anybody have an idea why? In the first picture it seems like there is just one bar. It's not. It's just the total meter value that has been added between 7 and 8 in the morning, so the other bars are not visible. When I manually change the value, it's fine again. But it will happen again the next day. What can I do?	1	['Tenacious-D-8356: https://preview.redd.it/2gisgj7xjgwa1.png?width=1012&format=pjpg&auto=webp&v=enabled&s=47b7921a8f2d0051dfff2f41900a5fa4f45968da\n\nIn tasmota there are two unknown entities, I could delete those from the definition. Somehow I doubt though that they are causing the problem.']
1682596185.0	27-Apr-2023 04:49:45	Helpers, how do I subtract two sensors?	djlorenz	2	130jicz	homeassistant	https://www.reddit.com/r/homeassistant/comments/130jicz/helpers_how_do_i_subtract_two_sensors/	"So, my meter reports power consumption and power production, I want do (consumption) - (production) so I can see when I am producing more energy from my solar panel and turn on some appliances.

I see there is a min/Max helper who allows to do sun of entities, but not subtraction?!???
Am I missing something?"	2	"[""Skeletorjus: This isn't available as a helper, you need to create a [template sensor](https://www.home-assistant.io/integrations/template/#state-based-template-binary-sensors-buttons-numbers-selects-and-sensors).\n\n`{{ states('sensor.consumption') | int - states('sensor.production') | int }}`"", 'djlorenz: What a bummer, hopefully it will be added soon!']"
1682596128.0	27-Apr-2023 04:48:48	Channel updates	sero_t	1	130jhh3	homeassistant	https://www.reddit.com/r/homeassistant/comments/130jhh3/channel_updates/	"Hi there, i have a problem with channels. I am trying to setup one of my tablets as a wall tablet and my main device is my phone. So i have an automation, which needs to send a message to my phone when it's time for prayer. And i also have another automation for the wall tablet, because i want only the wall tablet to play the call for prayer. I tried several things and there is an blueprint, but it doesn't do exactly what i want. So i made myself the automation for the wall tablet to play the call for prayer, when between certain times because the baby is a very hard sleeper and wakes up from the smallest breath you take. So between 9 in the morning until 9 in the evening it can play and at night so after 9 to 9 it is not playing. But what happens is the prayer around 2 o clock playes fine, the prayer around 6 o clock in the evening should play but doesn't and also the notification for it is delayed to two hours later. Also around just for 9 in the evening there is also a prayer and that one is also not playing and the notification is delayed, same for the late night prayer, but the prayer around 3 o clock at night/morning i receive the notification on time but doesn't play like it should be.

Here the code:

alias: Azan player
description: """"
trigger:
  - platform: time
    at:
      - sensor.fajr_prayer
      - sensor.dhuhr_prayer
      - sensor.asr_prayer
      - sensor.maghrib_prayer
      - sensor.isha_prayer
condition:
  - condition: time
    after: ""09:00:00""
    before: ""21:00:00""
    weekday:
      - mon
      - tue
      - wed
      - thu
      - fri
      - sat
      - sun
action:
  - service: notify.mobile_app_tablet
    data:
      data:
        channel: Azan
      message: Namaz vakti
mode: single"	24	"['4241342413: In the automation, if you click on **Traces** in the top right, and go to the time you expect it to have triggered, what does that say/look like? I believe the automation gui only shows the last 5 traces, so depending on the frequency, you may have to check soon after the time it doesn’t go off. \n\nThat will show you what it is doing or supposed to be doing, which you (or we) can continue to debug. \n\nIt would be good to look at what the Trace looks like when it works, and when it doesn’t and see how they differ.\n\nA few other things I don’t understand is \n\n-\tYour last sensor has a colon at the end\n-\tthe time condition has a “sun_action: row in it, it’s blank and I don’t think it’s needed.\n\n\nAlso can you reformat your code in your original post to a code block format so the spacing matched exactly how it looks if you go to yaml mode in the automation', 'Shooter_Q: As-salamu alaykum. \n\nCan you provide an example of one of your time sensor codes? I’m curious to see how they work. From the description of your delays, I’d guess that they aren’t getting updated correctly in some fashion. Have you checked the values to see to that already? \n\nEasiest way to troubleshoot would be to replace those sensors with some regular hard, non-changing times within your 0900-2100 window and see if they all work correctly. If they do, then you know it’s the sensors you’re using as triggers. As other poster said, traces are your friend.', 'sero_t: I will check the traces, they look very complicated for me. I will check over an hour or so where the tablet should play the sound and receive the notification. \n\nThe action behind sun is just a copy paste mistake sorry my bad, it should be beneath that.', 'sero_t: Thank u. The traces look a bit complicated for me, i will try to put those details here, which part of the traces do you need, they are multiple windows', ""sero_t: Ok these are the traces, for the last execution, the time is right 21:01 was the prayer, and it says executed on that time, but in reality it was at 21:10 when i waken up the screen( i don't have a screenlock)\n\nhttps://preview.redd.it/jmn5a7gftiwa1.jpeg?width=2268&format=pjpg&auto=webp&v=enabled&s=38e144fbae23f161b5dfdd6ace517217b52700d8"", 'sero_t: Sorry for the spamming, but i could only post 1 pic at a time', 'sero_t: Aleikum Salam,\n\nThis automation is just a duplicate of which i already had for my phone, but without the channel update(Adhan). And on my phone it worked fine, i received the notifications on time.\n\nI thought maybe a power saving in the tablet and have them all on non battery saving settings, like always notify immediately etcetera.\n\nThese are my sensors in a glance card, which are always updated good. It is the islamic prayer integration.\n\nshow_name: true\nshow_icon: false\nshow_state: true\ntype: glance\nentities:\n  - entity: sensor.fajr_prayer\n    format: time\n  - entity: sensor.sunrise_time\n    format: time\n  - entity: sensor.dhuhr_prayer\n    format: time\n  - entity: sensor.asr_prayer\n    format: time\n  - entity: sensor.maghrib_prayer\n    format: time\n  - entity: sensor.isha_prayer\n    format: time\ntitle: Namaz\nstate_color: true\ncolumns: 3\nstyle: |\n  ha-card {\n    --ha-card-background: rgba(0,0,0,0);\n      box-shadow: none;\n      border: none;\n  }\n\n\nI will remove the time conditions to look if this helps.', 'Shooter_Q: What you probably want to do is use the left and right arrows to find a trace that started at one of the times that didn’t work correctly. As you follow the action log step by step from top to bottom, you should see why something did or didn’t work.', 'sero_t: https://preview.redd.it/bp79e5gjtiwa1.jpeg?width=2268&format=pjpg&auto=webp&v=enabled&s=a59deff6343fde59b1c604391949d586c946594e', 'sero_t: I will look over an hour, then the next prayer should be triggered since i now removed the time condition', ""sero_t: Ok i don't know what happened. I have rebooted the thing a couple times on the charger. And now it seems to work fine. Weird.... but thank u for all your help guys!"", ""sero_t: Also the last prayer the same thing happened, my phone screen was on, i received the message immediately. The tablet didn't do anything until i waken up the screen. I want also but that i another problem the screen automatically lit when receiving notifications."", 'sero_t: https://preview.redd.it/dme0lfgmtiwa1.jpeg?width=2268&format=pjpg&auto=webp&v=enabled&s=d088170b6e52dde167df6c79fb267a6fb90d88a8', ""sero_t: Ok i have waited and it didn't play, so when i turned on the screen it immediately started playing the call for prayer. It's a samsung A7 tablet, t500 model. I have looked in to the settings but they are all on not power saving like options. All apps which i could delete are deleted and else they are blocked. Screen goes to sleep in 2 minutes. When i unlocked the tablet, i also received at that moment the message on my phone, which i already was using al the time, so it is not only the tablet anymore. The tablet is up to date."", 'sero_t: https://preview.redd.it/xg6snx9ptiwa1.jpeg?width=2268&format=pjpg&auto=webp&v=enabled&s=ccef4d205daa0616f3a117cb6936e4b59df8eaff', 'Shooter_Q: Have you enabled “Push Notifications” for these devices? Or it may be another notification setting, both on HA side and per device. But at least it seems like it’s a device-level thing and your automation is fine.', 'sero_t: https://preview.redd.it/z4e7fzfrtiwa1.jpeg?width=2268&format=pjpg&auto=webp&v=enabled&s=f4bd741e2277ce0995d9133f3288fe857200aa66', ""sero_t: That is also what i thought but the notifications for push is on always immediately so i don't get what the problem could be, i have rechecked the settings but everything seems fine"", 'sero_t: https://preview.redd.it/9x3s3tiutiwa1.jpeg?width=2268&format=pjpg&auto=webp&v=enabled&s=a01f1e7d5bd063a2ea264ceff4a886615fb49d99', 'sero_t: https://preview.redd.it/sr7zo9m0uiwa1.png?width=720&format=pjpg&auto=webp&v=enabled&s=724aa745de94504d0863320e61f503af41e6a364', 'sero_t: https://preview.redd.it/l1d96h73uiwa1.jpeg?width=2268&format=pjpg&auto=webp&v=enabled&s=66c51282b774ab62747e5b0ec903fec4e6d0b3b6', 'sero_t: https://preview.redd.it/iaxzclf8uiwa1.jpeg?width=2268&format=pjpg&auto=webp&v=enabled&s=a78e6e2113af0911ee4699004e388c24f299df4d', 'sero_t: https://preview.redd.it/8fb6ejjjuiwa1.jpeg?width=2268&format=pjpg&auto=webp&v=enabled&s=e8d5b0d134a468757135adc4ce8292b09434deea', 'sero_t: https://preview.redd.it/31gdm1xnuiwa1.jpeg?width=2268&format=pjpg&auto=webp&v=enabled&s=3f270f0be04109a444e6aec5ad71ee84741e05f7\n\nThese are the channels']"
1682593614.0	27-Apr-2023 04:06:54	Setup NGINX for HASS now problem with NGINX	Operations8	1	130i6zq	homeassistant	https://www.reddit.com/r/homeassistant/comments/130i6zq/setup_nginx_for_hass_now_problem_with_nginx/	"I have setup NGINX to do a redirect for my HASS with LE SSL this part works fine.


What i didn't notice before is that going to NGINX from the HASS GUI so (hass.ad.domain.nl:81) give me a SSL error.


ERR_SSL_PROTOCOL_ERROR


When i change this to HASS-IP:81 there is no problem.

So i figured i would restart NGINX this also doesn't work anymore. It give me an error and tells me to look at supervisor log.


So i did that:


supervisor.resolution.module] Create new issue IssueType.DNS_SERVER_IPV6_ERROR - ContextType.DNS_SERVER / 


[supervisor.resolution.checks.base] Run check for IssueType.DNS_SERVER_FAILED/ContextType.DNS_SERVER


Since you guys have been a great help before i am hoping you can also solve this one :)"	2	"['sleekelite: it means you screwed up the nginx virtual hosting config, specifically didn’t put the hostname in the block, such that ip:81 and whatever:81 don’t both point to the same **ssl** enabled vhost.\n\nerase your config and start over, making a :443 vhost that **only** listens for ssl and is the default host.\n\nI really would recommend not bothering with this and either laying for nabucasa or just using Tailscale.', ""Operations8: Starting over is no problem, but i don't understand where i did something wrong. All i did was create a redirect like this:\n\n\nDomain name: hass.ad.domain.nl\n\nScheme: http\n\nForward hostname: hass.ad.domain.nl\n\nPort: 8123\n\nWebsocket Support Enabled\n\n\nAnd i got a LE SSL certificate for hass.ad.domain.nl and one for *.ad.domain.nl\n\n\nSo could you point me at what i did wrong?\n\nTailscale is a VPN solution, isn't that something different?""]"
1682584499.0	27-Apr-2023 01:34:59	Battery/Solar powered cameras/doorbells with good HA integration?	pegbiter	1	130ec4r	homeassistant	https://www.reddit.com/r/homeassistant/comments/130ec4r/batterysolar_powered_camerasdoorbells_with_good/	"I know this topic comes up every few months, and the responses are typically always 'go wired/POE', but for me that isn't really an option. I have no power to the front of my house and thicc walls, so getting any wired solution is basically not an option. 

I do however get pretty good sunlight, so a solar option would probably be fine. What are the best options for battery powered cameras/doorbells that do integrate somewhat to HA? 

I don't really care about 24/7 stream, but I would want local recording, snapshots and notifications. Do you guys have any recommendations?"	14	"['sero_t: I know the chinese have a lot of good stuff, but you need to put it on its own vlan, the hardware is really good, but you need to search to find the quality ones. You can search for solar powered with batteries, and also what you could do, is just connect it to a (solar)powerbank. And on Aliexpress you also can buy most of the time extra indoor ringers which can connect to the camera/doorbell', ""TheProffalken: I bought a Eufy 2K Wireless Doorbell at the weekend.\n\nIt works fine, and I have it sending announcements to all my Sonos speakers when someone presses the button thanks to Home Assistant, but it won't snapshot the camera in the current integration.\n\nI've spent months looking at this before buying, and this was the only one that met all my requirements including local storage."", 'pegbiter: What sensors are exposed to HA from that?', 'pegbiter: Did you get the S330 (the one with two cameras) or the S220 (the one with just one)?', 'PineappleLower1062: Do be aware with eufy: https://www.zdnet.com/article/anker-admits-eufy-cameras-not-encrypted/', 'TheProffalken: &#x200B;\n\nhttps://preview.redd.it/j2r56hupviwa1.png?width=333&format=png&auto=webp&v=enabled&s=659192a01a7185111aef12252df6c1badc27f6d5', 'TheProffalken: &#x200B;\n\nhttps://preview.redd.it/0gjk5zwtviwa1.png?width=334&format=png&auto=webp&v=enabled&s=ace1fb8f80ed9a769ac0a310147a120e6bb7ee9c', 'TheProffalken: &#x200B;\n\nhttps://preview.redd.it/jtvl4sa8xiwa1.png?width=274&format=png&auto=webp&v=enabled&s=0763cf0581d69e1461087e611a500e07a12c8e1f', ""TheProffalken: S220 - decided that the parcel cam wasn't needed"", 'TheProffalken: yeah, comes with the territory of having a video doorbell (or any kind of camera) connected to the internet tbh.\n\nAmazon have done it with Ring ([And their employees were actively looking at the footage](https://www.theverge.com/2019/1/10/18177305/ring-employees-unencrypted-customer-video-amazon)), it happened to Google with Nest ([https://www.zdnet.com/article/vulnerabilities-in-google-nest-cam-iq-can-be-used-to-hijack-your-camera/](https://www.zdnet.com/article/vulnerabilities-in-google-nest-cam-iq-can-be-used-to-hijack-your-camera/)), and don\'t even get me started on the cheap Chinese stuff.\n\nOf all the options out there, I really wanted a Doorbird.  Unfortunately, I don\'t have   any wires running to my front door at all and they don\'t do anything other than PoE/powered buttons.\n\nI don\'t like the idea of cloud storage so it all needed to be local which ruled out Nest/Ring, and it had to integrate with HomeAssistant which many others didn\'t, so Eufy was where I ended up.\n\nSo far it\'s great. I\'ve not seen anything untoward traffic-wise heading away from the ""security hub"", and the reaction from button press to notification is under 2 seconds.\n\nI\'ll put a proper post up on my blog at some point, but life is busy at the moment :(', ""pegbiter: Oh! So you do get a rtsp stream? I didn't expect that from a battery camera"", ""TheProffalken: It gets advertised in HA, but I'm yet to get it working properly..."", ""pegbiter: And you don't get any sort of 'camera' entity from it either?"", 'TheProffalken: I\'ve only had about an hour to work on it so far, I\'m hoping to get more time soon, but no ""camera"" that I can find so far.\n\n[https://github.com/fuatakgun/eufy\\_security/issues/764](https://github.com/fuatakgun/eufy_security/issues/764) has some details on the issues specifically with the HA integration and the 2K doorbell which might help']"
1682583469.0	27-Apr-2023 01:17:49	alternative to raspberry pi	eyjivi	2	130e1cv	homeassistant	https://www.reddit.com/r/homeassistant/comments/130e1cv/alternative_to_raspberry_pi/	is it more pratical performance-wise/cost-wise to buy a 2nd hand laptop vs a raspberry pi? also, I have to leave the raspeberry pi on for 24 hours do you think it can it handle the temp?	21	"['yabdali: Buy a mini PC you can also find refurbished small form factor PCs for a good price online. I would stay away from Raspberry PI unless its for a single purpose/use case.', 'willow_the_wisp_68: I bought a HP t630 thin client off eBay for £40.00 it already had 8GB RAM and I added a 250GB SSD. It handles Home Assistant no problem', ""Accomplished-Moose50: Raspberry pi is way to expensive right now. Do you want to use it only for home assistant?\n\nYou could try and find a thin client or any other SBC.\n\nThe market is full of old thin clients and old office computers, so depends on what you want. Most of them are overkill for just HA \n\nI've been using an optiplex for HA and it was way overkill and just downgraded to odroid n2 (which might be also overkill)"", 'Possible-Week-5815: i switched from a Pi to a Beelink and its amazing', ""LXPeanut: I had an old laptop I could repurpose. Did think about a raspberry pi but they aren't cheap like they used to be. Unless you want the pi to tinker with probably better to get a second hand laptop or mini pc. Even new mini pcs seem to be getting really cheap now."", 'WI_Esox_lucius: Find a thin client on eBay. Many of them are available with  >4gb of ram and you can upgrade the SSD size. \n\nUsually can find them for ~$50', 'bsmith76s: Go the thin client route way faster processors and many you can upgrade the RAM and storage. I run my HA in Proxmox on a Dell Wyse 5060 which I upgraded to 16Gb of Ram and 240Gb SSD. I run a few other containers on the same machine and it works great.', 'Necessary_Ad_238: I bought an i3 6th gen dell thin client PC for like $80 on eBay. Included the power brick, 256gb ssd and 8gb Ram.', 'rvd65: I have a bon server on a Pi. You recommend one on HA thin client?', 'GuaranteePublic3650: I recommend a used thin client PC. You can find them with a small form factor, embedded SSD, and the necessary connectivity.\n\nAdvantages:\n\n* Cheaper than a Pi\n* Embedded components\n* Most of the time more performant than a Pi\n* No SDCard corruption risk\n\nDrawbacks\n\n* No integrated GPIO for tinkering\n* The maker ecosystem experience will be less out of the box than Raspbian or HAOS.\n\nBe careful on choosing one compatible with Debian or the Linux distro of your choice. In particular in term of drivers for the peripherals.\n\nThis video may be helpful\n\n[https://www.youtube.com/watch?v=rXc\\_zGRYhLo&t=1s](https://www.youtube.com/watch?v=rXc_zGRYhLo&t=1s)', 'BORIStheBLADE1: I priced out going with a SBC like the RPI and it was cheaper for me to go with a thin client. I ended up getting a HP Prodesk 600 G3 for around $100.00.', ""realsqlguy: I'm running HAOS on a Lenovo M72e thin-client PC that I paid $40 for. Runs better than any of my previous Raspberry Pi installations, and no annoying SD cards."", ""fuckingreddit666: I've had my pi4 running HA on 24hrs for a couple of years straight, generally sits between 50-60 degrees C.\nIf you use a pi remember to use an USB ssd rather than the micro sd"", ""emuhack: thought I would come back and link this: [https://www.reddit.com/r/homelabsales/comments/131f7gp/fs\\_moving\\_sale\\_usff\\_ready\\_to\\_go\\_and\\_ram\\_galore/](https://www.reddit.com/r/homelabsales/comments/131f7gp/fs_moving_sale_usff_ready_to_go_and_ram_galore/) \n\none of these PC's will run HA perfectly"", 'emuhack: This is the way. \n\nalso check r/hardwareswap and r/homelabsales', ""eyjivi: yes, only for home assistant. I agree it's too expensive right now."", 'eyjivi: did you install directly or did you use a vm?', 'fisious: Yup this. Running same configuration on an i3 NUC. I never touch it. Wish I went the HP thin client but this choice doesn’t keep me awake at night.', ""Kitchen_Software: You can often get them at list price at [Adafruit.com](https://Adafruit.com) \n\nMake an account, setup 2FA, and check [here](https://rpilocator.com). Adafruit restocks on Wednesdays, but they don't get every model every week."", 'Accomplished-Moose50: On optiplex I had VirtualBox, on ododid directly and with an emmc']"
1682581487.0	27-Apr-2023 00:44:47	HomeKit names resetting	brave_buffalo	2	130dgpl	homeassistant	https://www.reddit.com/r/homeassistant/comments/130dgpl/homekit_names_resetting/	"I’m curious if anyone is experiencing names being reset to defaults fairly consistently and forgetting what rooms devices are in inside of HomeKit. All of the devices that are having issues are being passed to HomeKit from home assistant. Everything on latest software and new HomeKit architecture. 

Thank you all!"	0	[]
1682576842.0	26-Apr-2023 23:27:22	How to receive a notification into tasker.	_pvnda	1	130c2mj	homeassistant	https://www.reddit.com/r/homeassistant/comments/130c2mj/how_to_receive_a_notification_into_tasker/	"I'm trying to get Home Assistant to send a notification to tasker, which then will trigger some tasker events on my phone.

In home assistant I have set:

`service: notify.mobile_app_sm_g991w`

`data:`

  `title: PC is on`

  `message: ""command_broadcast_intent""`

  `data:`

`intent_extras: ""titan_state: on:String""`

Which then sends to tasker with the Notification trigger (Home Assistant being the owner app).  But I can't seem to pull the variable where the Intent Extra is stored.  On the Return Value Variable select I have the options for %evtprm1 to $evtprm8 (Owner, Title, Text, Subtext, Messages, Other Text Messages, Cat, and New Only, in that order).  Thereis also %evtprm()) which is all Event Data.  

Where is the extras variable stored and how can I pull it from the Return Value Variable?"	2	"['MyCatMadeMeDoThis: It looks like you might be missing the `intent_action` and `intent_package_name` entries in your data block. Try something like this:\n\n    service: notify.mobile_app_sm_g991w\n    data:\n      message: command_broadcast_intent\n      data:\n        intent_action: ha.tasker_demo\n        intent_package_name: net.dinglisch.android.taskerm\n        intent_extras: titan_state:on\n\nNote: I just made up the `intent_action` above, but you can name it whatever you want, as long as it matches what you put into Tasker in the next step.\n\nThen, when you create your profile in Tasker, choose the Intent Received event, and in its Action field, put what you used for `intent_action` above (`ha.tasker_demo`, in this case). In the corresponding task, you can refer to the `%titan_state` variable to get the data you passed (""on"", in this case).', ""_pvnda: I'll try this one out. Thanks.""]"
1682576247.0	26-Apr-2023 23:17:27	MQTT from Solar Assistant not triggering Automation	filmismymedium	1	130bw2c	homeassistant	https://www.reddit.com/r/homeassistant/comments/130bw2c/mqtt_from_solar_assistant_not_triggering/	"Apologies if this is a simple question but I'm having trouble getting MQTT messages to trigger an automation in Home Assistant. I'm brand new to HA so bear with me.

I'm trying to trigger a TPLink Smart plug to switch on and off depending on the state of charge of a LiFePo4 battery. The MQTT message source is another Raspberry Pi on the network running Solar Assistant which receives information from the Inverter and Battery shunt. Solar Assistant sends MQTT messages which HA reads perfectly fine.

I have tried both with and without the Mosquito MQTT broker  (still not entirely sure what a broker does) and HA seems to receive the MQTT messages fine either way. All the data from the MQTT messages loads great into HA and I can create gauges and other cards with the data.

I suspect I am simply entering something incorrectly into the automation fields in HA. When listening to # in the MQTT settings, the pertinent message is formatted [as seen here.](https://imgur.com/a/8YGMZ2n) 

For this example, I want the switch to turn on when the battery SoC gets to or goes below 25%. [Here is how I've written the topic and payload.](https://imgur.com/a/DEtGC99)

Manually running the automation successfully changes the state of the switch, so the connection there is ok. The automations are enabled as well.

Thanks for any advice!"	7	"[""filmismymedium: Update: Changing the Payload value from {{ value | int <= 25 }} to simply 25 allowed the automation to run on its own. So I guess I formatted the payload wrong? What would you enter in the payload field if you wanted to trigger a value at or below 25?\n\nUpdate 2: I swapped the MQTT Trigger to a regular Numeric State Trigger with Above and Below values and now it works fine! Just in case that helps anyone else. I guess you can't enter anything other than plain integers into the front end payload field."", 'daveshaw301: Have you checked the sensor developer console fields?', 'Ill-Alternative2759: Thank you for the findings here.  I am about to try the same thing.', 'filmismymedium: Sorry, where would I find those?', 'daveshaw301: There you can check the state of sensors, what keywords are being used and the fields, it may help', 'daveshaw301: You might need to turn them on in settings but they’ll be in the left menu.\n\nhttps://preview.redd.it/ym7boxouxewa1.jpeg?width=1179&format=pjpg&auto=webp&v=enabled&s=6818088de7d232b485747e8a275edbafc6c989f4', ""filmismymedium: Yea I've poked around on the Developer Tools page but the only thing I saw related to my automation was in the 'States' heading where I found the entry for the automation.""]"
1682575238.0	26-Apr-2023 23:00:38	SMATRUL Wifi Temperature and Humidity Sensor	jrldr	1	130bkm9	homeassistant	https://www.reddit.com/r/homeassistant/comments/130bkm9/smatrul_wifi_temperature_and_humidity_sensor/	" I recently purchased a cheap WiFi temperature and humidity sensor. However, I am experiencing an issue with the device. The sensor only updates the temperature and humidity readings once an hour, even though the manual states that it should update more frequently if the temperature changes by 0.6 - 0.7 degrees. I use my air conditioner every night, and the temperature in my room changes by more than this amount. As a result, I am not getting accurate readings from the sensor.

I would appreciate any help you can provide in resolving this issue. Thank you

&#x200B;

[https://img.joomcdn.net/1b80feee47062adac66346b198a4457a38a9fe58\_original.jpeg](https://img.joomcdn.net/1b80feee47062adac66346b198a4457a38a9fe58_original.jpeg)"	0	[]
1682573684.0	26-Apr-2023 22:34:44	Monitor Usage of HS110 (TP Link) Smart Plug to Determine How Many Hours of Use	schilgy	1	130b2xo	homeassistant	https://www.reddit.com/r/homeassistant/comments/130b2xo/monitor_usage_of_hs110_tp_link_smart_plug_to/	"Hey guys,

I'm relatively new to HA, but do have some programming background. I'm trying to dip my toes in the water a little bit more and trying to setup the following scenario.

* I've integrated a TP-Link HS110 smart plug into HA. It can be controlled and monitored currently (daily usage, current consumption etc).
* I have an XBOX plugged into the HS110 and want to be able to monitor how many hours it has been used for based on time above a certain wattage e.g. > 20 watts for the day.

The main reason I need to monitor the wattage and not just whether the smart plug is 'turned on' is because the XBOX can be in standby mode and not actively in use which means that I don't want to count those hours.

What I'm trying to achieve is something along the lines of 'if the XBOX has been actively used for more than 2 hours during the day then turn off the smart plug'

I'm assuming that I'll need some form of custom entity, but just not sure where to start. Thanks everyone."	5	"['schilgy: With the help of ChatGTP and some tweaking I have the following setup working now.  \n\n\nI needed to add the following into my yaml.configuration.\n\nbinary\\_sensor:  \n\\- platform: template  \n sensors:  \n xbox\\_power:  \n friendly\\_name: ""Xbox Turned On""  \n value\\_template: ""{{ states(\'sensor.xbox\\_current\\_consumption\') | float > 20 }}""  \n device\\_class: power\n\nsensor:\n\n \\- platform: history\\_stats  \n name: Xbox Power On Time  \n entity\\_id: binary\\_sensor.xbox\\_power  \n state: ""on""  \n type: time  \n start: ""{{ now().replace(hour=0, minute=0, second=0) }}""  \n end: ""{{ now() }}""\n\nI can now create automations based on the values that are reported from the history\\_stats sensor.', ""Lau-ie: Template sensor is one way to go. \n\nAnother is an input boolean that gets switched on/off based on the wattage value. Can be done through an automation or node-red. Perhaps also worthwhile to use a template sensor to 'upgrade' the wattage sensor to it's own entity."", 'AnxiouslyPessimistic: I use this for lights\n\n  - platform: history_stats\r\n    name: Living Room Lights Use\r\n    entity_id: light.living_room_lights\r\n    state: ""on""\r\n    type: time\r\n    start: ""{{ now().replace(hour=0, minute=0, second=0) }}""\r\n    end: ""{{ now() }}""', 'schilgy: Thanks u/Lau-ie, a template was definitely the way to go.', 'schilgy: history\\_stats worked a treat when paired with a binary sensor.']"
1682567802.0	26-Apr-2023 20:56:42	Can I use my outdoor motion sensor to make my wall tablet play a quick sound as a notification?	DumbDumbGoodbye	1	13093u5	homeassistant	https://www.reddit.com/r/homeassistant/comments/13093u5/can_i_use_my_outdoor_motion_sensor_to_make_my/	"I went digging but ended up finding 100 ways to do this w Alexa and none of them were for just a simple notification sound. I don't want to pay Amazon for a dev account nor do I want to do anything more than play a chirp when a automation is triggered.

Is there an easy way to do this?"	6	"['thereddevil20: If the tablet has the HA app running I think you can send a notification. \n\nI know with iOS a critical notification plays a sound. More info here: https://companion.home-assistant.io/docs/notifications/notifications-basic/\n\nI think you can just turn on notifications (to a chirp) and play it on the tablet', 'JTP335d: What is the tablet and can it run the home assistant app?', 'JTP335d: Yes. You can play any sound. I play a proper doorbell sound on my phone for doorbell notifications. It’s pushed from home assistant. Doesn’t have to be critical and you can set the volume. This example pushes a thumbnail from the camera also. \n\n    Action:\n        - service: notify.mobile_app_iphone\n           data:\n             message: Someone is at the door!\n             title: Ding Dong!\n             data:\n               entity_id: camera.front_door_camera\n               push:\n                 sound:\n                   name: Doorbell.caf\n                   critical: 0\n                   volume: 1', ""DumbDumbGoodbye: Been running fully kiosk browser. And it's a Fire Tablet. Now you just made me scratch my head and wonder why I don't just use the app lol. But I assume if I use the app I can do this easy?"", 'JTP335d: If you can run the home assistant app you can use home assistant notify. I don’t have/know much about fire tablets though.', 'MeudA67: If using Fully Kiosk, it is actually very easy!! Find mp3 files of notifications you want, and copy them into your HA instance. I personally used the ""media"" folder.\n\nIf you added the Fully Kiosk integration ([https://www.home-assistant.io/integrations/fully\\_kiosk/](https://www.home-assistant.io/integrations/fully_kiosk/)), the tablets will appear as Media Players, so you can just use media\\_player.play\\_media services to play the notification!\n\nIf my attempt to add an image to this response works, you\'ll see that I send an mp3 file to 3 tablets across my house when the alarm is armed. It\'s pretty cool, and works very reliably! \n\n&#x200B;\n\nhttps://preview.redd.it/sgyac5tcxgwa1.png?width=1042&format=png&auto=webp&v=enabled&s=02210f8c5d9d8950b86ca704d1f736a3fc0fd4e4']"
1682564625.0	26-Apr-2023 20:03:45	Trips for controlling lights via mmWave sensor	ledhed2222	1	1307zz8	homeassistant	https://www.reddit.com/r/homeassistant/comments/1307zz8/trips_for_controlling_lights_via_mmwave_sensor/	"Howdy 👋 

Apologies if this is already on the subreddit and I just missed it. 

I have an EverythingOne Presence sensor and it’s really kickass. Frankly, the device single-handedly convinced me to migrate to HA. 

I get how I’d use mmWave and a motion detector to turn on/off lights, but I want to go further. I own a small apartment, small enough that having whole-apartment coverage with these would be easy and not cost prohibitive. But I’d like the light levels in a given room to be set more intelligently than just 0% or 100%. I could do this with time-based rules, but that seems too crude. Wondering how others have tackled this"	5	['_Rand_: Take a look into adaptive lighting.\n\nhttps://github.com/basnijholt/adaptive-lighting', 'ledhed2222: That’s one idea and not bad. Was hoping to infer light settings from other devices in apartment', '4241342413: I use a combination of adaptive lighting with both time and condition based automations.', 'ledhed2222: Can you explain more?']
1682561068.0	26-Apr-2023 19:04:28	Home assistant picked up my neighbours Bluetooth toothbrush and now I can see when they brush their teeth.	shocklance	1036	1306pcw	homeassistant	https://i.redd.it/p1y2cunwldwa1.jpg		174	"[""whitegasnotpropane: I really hope that's a toothbrush."", 'Swannie69: You need to make an automation based on this and see how long it takes them to realize that they’re turning on and off your outside light with their toothbrush.', 'rsaarge: I was tempted to remind my neighbours that their cars tire pressure has been low for a while :-)\n\nI started filtering out a lot from my 433MHz SDR. I think one of my neighbour is either growing pot or is keeping reptiles because those temperatures and humidity readings were way high during winter…', 'M5M400: my neighbors have two of those. assuming he got the mighty 9000 series and her the pleb 7000 series, I can conclude that he thinks brushing once every two-three days for 6 minutes is equivalent to shorter daily brushing (eeeew). they also brush at completely different times and she usually brushes during the day when he is not home. secret smoker? fling? who knows.\n\ni have an automation that changes my ambilight color to red when either of them activate TURBO. we have a good laugh every couple of days.', 'mynewme: Definitely make an automation that get increasingly more elaborate and noticeable to them. Start with you porch light, then maybe some LEDs strings, then a speaker really loud, then your sprinklers, then 7 nation army on your outdoor speakers.', 'b00573d: “Toothbrush”', 'jthieaux: CHANGED TO TURBO ;)', 'nitroinferno: now you know when to ring the doorbell :)', 'pashdown: I see an automation involving speakers and fart sounds in your future.', 'DIY_CHRIS: Looks like it’s your toothbrush now.', 'twistsouth: How does HA automatically pick these up? Is it always auto-scanning for BLE devices?', 'jimmythejammygit: You still had to connect to it though right?', 'Professional_Bike647: Hilarious! \n\nSorry for party poopin - can someone enlighten me with any sane use case for a smart toothbrush please? I mean I love silly and (for ordinary folks) *seemingly* useless automations as much as the next guy, but a toothbrush?? How can this be more than a personal hygiene log for people with bad short term memory? (And their neighbors obviously..)', 'obsessivethinker: What hardware and integration are you using for this?', 'ArrogantDoorknob2963: Sorry but you have to create an automation that checks if they brush for at least two minutes and plays a fanfare or something similar if they do!', 'sero_t: This is hilarious', 'ams3401: Wtf this recently came up on my autodiscovery too lol\n\nhttps://preview.redd.it/zcb1fypiehwa1.jpeg?width=1170&format=pjpg&auto=webp&v=enabled&s=12c593dc932aafcc32926c90f7f36e37c258cb35', 'TheCoelacanth: The S in IoT stands for security.', 'webtroter: Now my question is how to prevent this?', 'photonicsguy: Now have an automation that turns on an outside light whenever your neighbour is brushing their teeth, see how long it takes them to notice.', 'koera: For when you set up your automation : https://youtu.be/wCio_xVlgQ0', 'ExtremelyQualified: Do some Bluetooth devices not need to pair?', 'Historical_Pianist97: Wait till it goes on right after the husband leaves the home', ""VikingOy: That's why Bluetooth is totally useless as an IoT communication interface. I cannot understand why NabuCasa (HA) and others have touted about how BLE support finally has arrived."", 'smirnoffs: I have a separate zone for neighbors’ smart things. Just recently decided to clean it a little and removed their lights and the Braun toothbrush.\n\nhttps://preview.redd.it/5ezzefiwliwa1.jpeg?width=1284&format=pjpg&auto=webp&v=enabled&s=1d5848b18898c5f731068a97e06ed9949e79200b', 'boli99: >~~teeth~~\n\nblueteeth, shirley', 'Justtoclarifythisone: That’s not a toothbrush. 😜', 'algta: They didn’t brush for very long. Maybe you can go over and provide them feedback on their brushing! 😂', 'gtwizzy8: This all seems innocent and funny on the surface guys but don\'t be THIS guy.\n\nYou\'re all part of a community that mostly champions the ability of HA to be local so that you\'re not part of the big cloud conspiracy that could be looking over your shoulder stealing all your info and invading your privacy. All the while you\'re actively looking over someone\'s shoulder stealing someone\'s info and invading their privacy.\n\nPeople often have the ability to name BT devices. In this instance OP might now have ""Jennifer\'s"" name despite never having met her. Or worse they might now know their neighbours\' kids name. OP might also know through monitoring their brushing when they\'re likely to leave the house. \n\nWhile we all know that these things aren\'t secure and that anyone with half a brain can get all this stuff without HA it  doesn\'t make it ok and it\'s certainly not a reason that you should do it even for a laugh.', 'digiblur: Click ignore. Done.', ""ColdTights:  I also got these Brown brush notifications from someone in the area. But I didn't add them to the network."", 'Marko787: You hope that’s a toothbrush', ""PaleontologistNo6312: Jane must really be into dental hygiene. She's been cleaning here teeth for the last 20mins"", 'Imagin1956: ""Fap Assistant "" ...cuming soon ...😂', 'smiller171: What is with all these people actually adding their neighbors stuff? Stop being creepy', 'docwisdom: Same', 'Initial-Cherry-3457: Shieet I have the same toothbrush. I just learnt how to disable its bluetooth, never made use of it anyways.', 'serabob: I have the same issues with Ibeacons of cars parked in my street which get picked up bye the raspberrypi in the basement. \n\nI was searching Bluetooth beacons all over the house and I was getting nervous that I am being followed.', 'edgerob: Brilliant. hahahaha', 'mikey0000: Hilarious!', 'Agile_Ad_2073: I can hear when my neighbors brush their teeth.....', 'CorFace: This is a razor i believe', 'hirscheyyaltern: LMAO it picked up my neighbors oral b toothbrush too but i didnt think of doing anything like this', 'tmillernc: I think you live too close to your neighbors. But since you’re so close, at least you know their breath is fresh.', 'dwardu: Set an automation to play a teeth brushing song next to their bathroom every time they brush their teeth.', 'sauberflute: Play the Benny Hill theme song on an outdoor speaker whenever the toothbrush is on.', 'new-chris: Can you turn it on?', 'Christoff1992: 😂 this happened to me! Neighbours toothbrush came up, but sadly I couldn’t control it! Just see the state as OP', ""Slight316: How can I prevent this happening to me (I don't have a BT toothbrush but have BT devices)."", 'rivkinnator: Hahahaha', 'xundre: Funniest thing I’ve seen all day', 'tomatoinaction: Not necessary in Germany because walls are thin.', 'corp-mm: omg, that was a much needed laugh!', ""NerdNumis: Turn off your WiFi and see if it still shows up 😉\n\nYou'll hear some screaming from them initially when it turns off for some reason too"", 'NAKEDnick: ROFL! Mine picked up my neighbor’s Oral-B as well!', 'iprayforwaves: 😂', 'JohnEHag: Somewhat unrelated but with an RTL-SDR device I used to hear my neighbors baby monitor, another neighbors TV wireless headphones and with a 433 MHz receiver I used to see the state of another neighbors SimpliSafe sensors.  The security code was flying around unencrypted.  Not that Safe.', 'T-LAD_the_band: Same here ;-)))', 'phpadam: Hmm.. Why would you want a toothbrush connected to IOT?', 'Direct-Eggplant8111: Wow, they make gas powered toothbrushes now? Is it intercooled?', ""prokyle123: Our bluetooth proxy picked up our tooth brush and me and my girl were talking about if It picked up the neighbors to. Except our neighbors hate us and I'd set up an automation to blast something everytime they brushed their teeth and they'd loose there mind thinking they are being spied on."", 'Krojack76: **TURBOOOOOOOO**', 'Human_Spirit_8812: This made me LOL for real', ""aquilux: Quick Google says it's an air conditioner. That or a toothbrush.\n\n\nOr a TV.\n\n\n\nPoint is modern naming schemes are dumb."", 'keisisqrl: Probably, there’s no buttplug.io integration for homeassistant \n\n**YET**', 'jason_priebe: Electric ear cleaner', 'Adventurous_Ticket26: 😂', ""djgrahamj: I hope it's not"", ""jrhenk: I'd say 98% of humanity would never connect those dots :)"", 'direhusky: Too subtle. All speakers should start playing ""Let\'s get it on"" at full volume.', 'IncognitoWarrior: This would be amazing. Especially if that light is visible from their bathroom window. ""Honey come look at this. Our smart brush seems to have hacked into the neighbor\'s light. These smart brushes I am telling you ""', 'LetsSeeSomeKitties: Set it up to play something on a speaker outside.  \nThen they turn off their toothbrush to figure out what that weird noise is, but it stops as soon as they turn off their toothbrush, so they just go back to brushing their teeth.  \nRinse, repeat.', ""TheConanRider: You have to do it 60% of the time so they can never be certain it's connected."", 'gandzas: The real question is - can he control their toothbrush....????', 'Atriusftw: Or troll them where it turns off 1 second after switching to turbo 😜', 'Vertigo_uk123: even better do it to their bathroom light. switch states as soon as they turn it on / off and wait for the reddit post on why does my toothbrush turn off my bathroom light lol', 'bob_in_the_west: I would set up a speaker that plays some song for kids to sing along to while brushing their teeth. Like this: https://www.youtube.com/watch?v=O4wDITXrvrc', 'planetawylie: Jack hammer sound sync’d to when the toothbrush is used. :)', ""Loopdyloop2098: Ok that's hilarious 😂"", 'grasponcrypto: or to play ""Never Gonna Give You Up"" loud enough for them to hear', 'spacelama: G\'day neighbour. That\'s the tropical fish tank.\n\nThe temperature sensor labelled ""warm beer fridge"" is saying -18 because it\'s actually in the fermentation fridge\'s freezer section, and the fermentation fridge is just a normal fridge because I don\'t have any beers on ferment right now, but do have a fridge worth of beer to get through - I just haven\'t changed any of the labels yet.', 'Hrast: Someone near me has an weather station, So, instead of filtering it out, I just include it.', 'LordVic: I’ve got an aquatic turtle. Water is kept at 24c and baking spot in the 30s\n\nThe room is just shy of a sauna', ""psychicsword: What are you using for 443MHz monitoring? I got my electric meter reading in but I couldn't figure out how to try to discover other devices."", 'h1111m: How do you monitor those freqs? Do you need an SDR?', 'allisonmaybe: What do you use to detect 433mhz?', ""spacelama: Definitely sounds like they've got the 9000 series dildo model rather than the toothbrush model."", ""DinosaurAlert: > I can conclude that he thinks brushing once every two-three days for 6 minutes\n\nI have that brush, and I actually only use it once every few days but use a regular brush for most cleanings.  I find the vibration unpleasant, even though my teeth feel cleaner afterward.  \n\nSo if you were my neighbor, you'd see the same patterns.  Though I'd be more nervous about you seeing my scale and knowing I'm failing at my diet."", 'AnimalisticIntellect: Haha. I like your theories about day brushing.', 'SeniorPoopyButthole: Could just be ADHD', 'DinosaurAlert: Just blast this over a speaker: https://www.youtube.com/watch?v=gdcn9KbNTQY&t=17s', 'ddaemon82: just figure out if she takes a shower before of after brushing her teeth for better timing :D\n\n&#x200B;\n\nps. of course this is a joke, jeez some people are really sensitive', 'None: [deleted]', ""_Rand_: You do not.  Thats how BLE (and usually 433mhz and other radio based stuff) works, it just announces to the world whatever the hell it happens to be doing.\n\nIts 99% of the reason I don't particularly like them.\n\nThat said, for some stuff it doesn't really matter like say temp sensors.  I don't really care who can see what a random temp/humidity in my house is.  But I don't like that they could say, see me turning lights on an off or doors opening and closing."", 'madsciencetist: Nope', 'leafsfanatic: Set up an automation to do a fancy light show when your kid brushes their teeth. After the brush being in the ""on"" state for 2 minutes, trigger some celebration music and flashing lights to let them know they\'ve brushed long enough.', 'KipMo: The value is mainly for kids. Create automations to make brushing more fun and have an audit trail if little Jimmy claims to have brushed for 2 minutes and you suspect otherwise', ""stephenmg1284: The point of Bluetooth is it connects to an app and tells you how well you have been brushing.\n\nI had an idea of an automation for me. I have a bad habit of staying up later than I should, but the last thing I do is brush my teeth. I was thinking of an automation that pesters me and turns off the TV if I haven't brushed my teeth by a specific time each night."", ""Exalyte: Not op \n\nProbably a pi3/4 with the oralb integration, I have the same setup, although mine only finds mine not the wife's, intention is to get kids Bluetooth ones too but it's cost prohibitive *😂*"", 'shocklance: Yeah just a pi4.', 'I_Dunno_Its_A_Name: Don’t use Bluetooth devices.', 'antisane: Better yet, have a speaker play this song every time:\n\n[https://www.youtube.com/watch?v=wCio\\_xVlgQ0](https://www.youtube.com/watch?v=wCio_xVlgQ0)', 'Leading_Release_4344: I kind of feel like it’s similar to saying “wow, my camera can see into my friend’s living room”. Yeah they should have curtains, but you shouldn’t be actively looking at that', ""Th3R00ST3R: It's funny, but I agree. It's a little creepy to know that your neighbor knows what's going in in the privacy of your own home and when."", 'Leading_Release_4344: I’m not sure why you got downvoted. Scanning for devices that aren’t yours seems like a privacy issue. This sub gets super up in arms about privacy all the time.', 'Th3R00ST3R: Oh My!', 'keatonatron: Manufactures add the value ""toothbrush state"" to their ACs?', 'qdot76367: About that\n\n[https://github.com/DevelopmentalOctopus/ha-buttplug](https://github.com/DevelopmentalOctopus/ha-buttplug)', 'kiwimonk: Still one of the best, most ergonomic interfaces of all the tech products.', 'how_do_i_land: That’s why you point a spotlight at their bedroom window. /s', 'RS-kuuskyt: I vote for Pump Up the Jam', 'MrElectroman3: My shiny teeth and me', 'TurkeyMachine: Gangnam Style', 'shocklance: Help me set up an automation for an actual gas-light.', 'Th3R00ST3R: 60% of the time it works all the time.', 'wowbutters: Not this time Satan. Not gonna rick roll me! 😂 Can try the Blippi brushing song? Lol', 'rsaarge: I am getting -32C from one of your sensors. Why so cold? :-)\n\nIt would be pretty funny it those 433MHz devices broadcasted labels. It might help figure out where things are. At 100m distance I am definitely receiving data from the next block…', 'lenswipe: Free localized weather without having to pay for the hardware. Neat! Kind of wondering if I should get an SDR stick now and start scanning to see if any of my neighbors have weather stations I can use.', 'rsaarge: Me too!\n\nMy back porch is some kind of solar sponge and my readings are useless in the summer so I use the neighbour’s.\nThe sensor is in the shade but there is brick and metal all around and it gets above 40C often. It never gets that hot where I am from.', 'rsaarge: I got a Nooelec usb dongle with antenna kit from Amazon. It’s plugged into my rpi4 using a 1m usb extension to reduce interference.\nMy rpi is running home assistant with both rtl_433 and rtl_433 MQTT discovery.\n\nFor a few weeks, I just let it run and it found like 50 devices a week. I use MQTT Explorer to browse and clean up messages.\nOnce I figured out which devices I own and had enough fun spying on neighbours, I filtered out the other stuff. I still need to use MQTT explorer to figure out the name of my sensors because they change names every time I change the battery… Must be a way to fix that since the desktop display always find the sensors by itself.\n\nYou can configure your SDR to hop between frequencies but while doing this you might miss some messages. I have not tried.', 'gmaclean: Sometimes you need two.  Typically utilities and tire pressure meters tend to hit 433mhz.  I find weather stations tend to use 900mhz.', 'rsaarge: Yes. They are quite cheap for the fun it provides.', 'StumpyMcStump: Doubles as both', 'M5M400: fair point about alternating brushes.\n\nand good luck with your diet :)', 'longunmin: Does it provide the BT address?', ""jrhenk: I had the same thought when I started adding 433mhz buttons and thought maybe I should make an automation that deactivates the connected automations when I'm not home. Still an option.\n\nOn second thought my biggest argument to not be too concerned was that the chances you life next to someone also being into these things on the same level are pretty much zero... I'd say a good sign is if you see wifi aps around you keeping their default factory configured name and the BLE stuff only being apple watches and maybe a toothbrush"", 'jimmythejammygit: Interesting. I always thought Bluetooth was secure because you needed to put a passcode in', ""stayintheshadows: >Its 99% of the reason I don't particularly like them.\n\nHa! That's the exact reason I LOVE them. No pairing, nothing to break once setup. Great range."", ""qupada42: Most of the stuff I've got is LoRa - which has pretty decent device pairing/encryption - but it's 50-50 on whether the values are ones I'd care about people knowing.\n\nTemperature, humidity, the environmental sensors in my glasshouse (soil moisture, CO2, air pressure, light), sure, whatever.  The door reed switches, PIR sensors, and the like, not so much on the public broadcasting."", ""mck182: >Its 99% of the reason I don't particularly like them.\n\nWhat's the remaining 1%?"", 'az116: Home Assistant will show it as a discovered device on the integrations page, but you definitely still need to activate the integration to actually see any data from it.', 'az116: Home Assistant will show it as a discovered device on the integrations page, but you definitely still need to activate the integration to actually see any data from it.', ""jimmythejammygit: Really? You don't need to connect at all to start getting status?\n\nHey you're not OP!"", 'photonicsguy: I prefer the Jeremy & Jazzy version: https://m.youtube.com/watch?v=Cp7iaz4xyRw\n\nAlso, a soundlazer for directed audio: https://www.kickstarter.com/projects/richardhaberkern/soundlazer', 'gtwizzy8: Yes that\'s a pretty perfect parallel to draw mate.\n\n""Hey I can see up that girls skirt when she walks up the stairs.""\n\n""Yeah. But you shouldn\'t dude!""', 'RealTimeCock: the existence of Bluetooth is a privacy issue', 'pseudocultist: Korean markets demand more interoperability.', ""EEpromChip: You only get the cold when you brush.  For 3 MINUTES! and I'm counting..."", 'aquilux: Ah, missed that.', 'keisisqrl: well I’ll be damned Cunningham’s Law strikes again', 'jrhenk: Hahaha that could work.. or switching on a wifi jammer on turbo :)', 'badmother: Bathroom window, surely...', 'maiznieks: How often does one clean their teeth in the bedroom? :)', 'WallyMetropolis: So fresh and so clean (clean)', 'wowbutters: Turn down for hWat might be fun.', 'gmaclean: One problem is a lot of people put them in direct sunlight.  It could be 20c outside and their sensor is showing 45c.  I have my own just to use them correctly', ""LostFerret: It's fun, you'll find a lot but it only works with certain models of things. I can see a lot on mine but only about a tenth of it provides usable information.  \n\nThe fun part is once you get into it and get a nice, omnidirectional, 433mHz tuned antenna. I have mine in my basement and still pick up everything within about 1/4 mile. It's nuts."", ""_Rand_: Bluetooth Low Energy (BLE) isn't quite the same thing as regular old bluetooth.\n\nI believe the standard CAN use passcode/hard connections to devices but a big part of it is for low powered devices running on buttons cells that just periodically send out packets of whatever data they are designed to work with.\n\nSo its simpler (and lower energy usage) than full on bluetooth but potentially has privacy implications, depending on what its used for."", 'codyc1515: You do for Bluetooth but this is Bluetooth Low Energy - totally different technology.', ""BHSPitMonkey: It's a concern with Switchbot devices, especially since they expose full _control_ to any device that happens to be in range. Your neighbor can open your blinds when you're away if they want to."", ""Kaldek: As others said, depends on the use.  BLE devices can just send out Advertise messages without any authentication, pairing, or handshake.  \n\nReally depends on the device.  Any time you need to do a bluetooth pairing using a BLE device it's **probably** setting up secure channels."", 'shocklance: I moved in last weekend, HA just came up and said ""New device found, check it out"" as it usually does once I\'d set it up.', 'async2: Which would probably kill your connection to the toothbrush though as both is 2.4ghz', 'jrhenk: Guess that explains the turbo towards the end ;)', ""LostFerret: Just depends on what you value more. I wanted accurate wind readings but got an Atlas 7 in 1, so I've got it in direct sunlight because it can't be too near trees.  \n\nFortunately that model has a little fan that runs. I tested against a shady sensor and it's about 1-2 degrees warmer, but not bad at all!"", ""lenswipe: Galaxy brain time: Go find the owner, complain and demand they relocate their weather station because it's screwing up your readings."", ""qupada42: Unfortunately, too many all-in-one weather stations are also just designed that way.\n\nSimilarly to you, my outdoor temperature/humidity sensor is screwed to the underside of our deck below a roof overhang, so it's pretty well isolated from the sun, wind, and rain."", 'brycedriesenga: How much do those run?', 'chillaban: Some BLE stuff has an additional layer of authentication / pairing on top of it. For example, the Tesla car key uses the initial BLE connection to provision an ECDSA key pair and that’s what allows the car to be started by your phone. Heck even FitBits do a simple key exchange before telling the world about your step count. \n\nUnfortunately some devices like this toothbrush probably go through great lengths in the app to force you to make a cloud account but the actual communication with the toothbrush is unauthenticated.', 'jimmythejammygit: Well there you go. Thanks for the info!', ""Akilestar: Not totally different, it's actually very similar tech. The difference is how the data is streamed. BLE is basically Bluetooth in burst mode."", 'Rand_alThor_: Are those network connected? If so that seems rife for abuse?', 'kamimamita: I could pair with my BLE temperature sensor but there was no authentication whatsoever.', ""jrhenk: Good point, should be limited to their AP's MAC"", 'gmaclean: And that is completely valid!  Sadly, my neighbours tend to have simple temp/humidity only models and they get pretty toasty during the day :) \n\nI bought an accurite 5 in 1 that also includes a rain sensor.  I can’t say it’s been amazing, but not too far off expected.', 'gmaclean: I like this idea best 😂', 'LostFerret: About 50$. I also had to pick up an adapter so it would plug into the cheapie SDR stick. Works amazingly though.  \n Searching HYS 433mHz omni antenna should get you options. I went with one that had good fakespot reviews and was ~43$', ""Kaldek: That doesn't necessarily mean none happened.  The good old Diffie-Hellman key exchange can be used to take care of that.  The pairing button just helps to assure you you're pairing with the right device.\n\nIt's not foolproof of course."", ""async2: Ah you mean deauther, not jammer. A jammer would just fill the frequency spectrum with garbage and probably can't be client specific. The deauther tells specific clients to disconnect from the network. But I think that has been fixed in recent wifi versions."", ""LostFerret: Yea, if i could do it again id get individual sensors since they all need to be placed in different parts for optimal use. However, this has been fine. I did get the extension for the wind speed & direction vane and it's made readings much better."", 'brycedriesenga: Cool, thanks!', ""kamimamita: What's the use of authentication if I don't have to approve the pairing on the device itself. There is no pairing button on the device."", ""Kaldek: Hey I did say it's not foolproof.""]"
1682559405.0	26-Apr-2023 18:36:45	PSA: You can setup a second homeassistant instance just for radio interfaces for better locality and HW failback.	waka324	24	130632e	homeassistant	https://www.reddit.com/r/homeassistant/comments/130632e/psa_you_can_setup_a_second_homeassistant_instance/	"So my homeassistant install is on a proxmox VM in the basement. 

I ran cat6 to an upstairs closet and setup homeassistant on a PoE powered raspberry pi 4.

From there, I added the skyconnect dongle, my zwave dongle, and 433mhz sdr to the pi and flashed the multiprotocol FW to the skyconnect. With the silabs addon installed, the zigbee coordinator is exposed via TCP, and can be added to the primary instance using the zigbee2mqtt addon with the following config:

port: tcp://ha-radios.home:9999
adapter: ezsp

This has the added benefit of exposing the openThread instance.

Then, my 433mhz devices can be added via the rtl433 addon, pushing to the primary MQTT instance, and running the RTL433 discovery addon on the primary.

Finally, zwave can be added via zwave JS UI addon, running the zwave2mqtt integration on the primary instance.

All together, it allows me to put the radios in a more central location, and allows me to failover the proxmox vm to another machine with high availability without figuring out how to swap hardware. The second homeassistant instance makes managing the secondary instance really easy too.

I eventually want to expose the bluetooth on the pi via the same way ESPHome bluetooth proxy is done. 

Figured I'd document here so that prople know this is actually doable, as i hadn't seen anyone trybthis yet. If anyone has any questions, I'd love to help."	29	"['zSprawl: Certainly an interesting option. However, haven’t you moved your single point of failure with added complexity?', 'wsdog: Why would you need this trouble if you can buy a PoE ZigBee adapter?', 'AnxiouslyPessimistic: Esphome BT proxy is a godsend I know that much. Immediately solved my lost connection issues', 'tylerwatt12: This is what I used to do with Z-Wave JS, however it was unreliable, so I ended up getting a very long USB cable to extend my Z-Wave dongle instead', 'whitegasnotpropane: Out of curiosity, what major advantages does this have over using a repeater (Hue bulb, smart plug, etc) besides being wired? I have had some disconnects in my bathroom and curious what other options are out there.', 'ketiljo: Interesting idea. You have a SD card in the Raspberry pi, yes? That would be the single weakest point in this setup I think', ""virtualbitz1024: Thank you, I've been wanting to do this for a while, but didn't have a clear picture in my head on how to go about it."", 'Alucard9001: What devices are you using 433mhz for?', 'waka324: Not quite. The hardware portion moved, but the SW/database/automation portion can be split off if needed for high-availabilty updates and rollback.\n\nIt does add complexity in exchange for flexibility.', 'waka324: What about rtl445 and zwave? This uses parts I have on-hand, and is WAY more flexible. Basically a super-zigbee PoE adapter.', 'godlee: Is there a poe zwave available?', 'waka324: Think one corner of a long basement, reaching to the other side of the house on the top floor. More hops is more opportunity to drop packets.\n\nThe main one for me is VM failover to another proxmox instance though. Because everything is IP based, I just assign the new VM to the old IP and it just works.', 'waka324: Yeah. Industrial SD with UPS backup.', 'waka324: Mostly temperature sensors.', 'zSprawl: Every time HA updates, I suppose you’ll be able to keep the app online while rolling them out, well, until you hit the Pi. So you basically have the same amount of downtime (a reboot), and 3 times the work. \n\nAnd Proxmox has snapshots, so this covers rollback, well except for the Pi again. \n\nI just don’t see the use-case but it’s still interesting nonetheless. Thanks for sharing.', ""Ace0spades808: But if you aren't able to communicate with your RF devices via zigbee/z-wave/thread/433 then the automations won't work (at least those that involve the RF devices), right?\n\nIt does add SOME redundancy but if the Pi ever goes down then there goes the communications. Calling it high availability is quite a stretch and instead this is just a backup option in case your proxmox instance ever goes down which of course can still be handy."", 'wsdog: Fair, but why do you need the whole home assistant if you can just pass USB-TTL ports and RTL via tcp?', ""wsdog: I don't use Z-wave so no idea, but you can hook up an esp32 to any serial device and make yourself an adapter."", ""Krojack76: It's not possible to locate the controller more centralized location? I have my z-wave and zigbee devices plugged into a cheap USB hub that's on a 15 food USB extension. Puts the radios more in the center of my place and been working great for a few years now.\n\nBonus of them being on the extension is the antennas are away from the server rack's electrical interference."", 'waka324: The pi will be a low-frequency update schedule, as it\'s basically just a backend/front-end for addons, and vlan\'ed off from everything else.\n\nIf I want to update proxmox, I can spin up my VMs in proxmox-2 and continue where things left off, migrating back once updates are complete.\n\nI can also failover to proxmox-2 without trying to rig some USB switching nightmare.\n\nPart of this was high-availability, part of it was relocating the radios to a better location, and another part of it is educational and ""can it be done"" discovery.', ""waka324: Well, the cool thing is that with FW backups, you could do the same thing with zwave.\n\nBecause everything else is sw stored (zigbee coordinator is the addon with multiprotocol), you could literally duplicate the radio HW too.\n\nIf you were location agnostic, I guess it might not buy you that much, aside from no USB pass through and HW device assignment in proxmox. \n\nStill cool to muck around with. Especially the 443MHz devices I'd otherwise be unable to work with."", 'waka324: It already provides low-effort install and config through addons, with a great backup solution. Made way more sense than rolling my own distro/setup.', ""waka324: Not without having wires dangling about.\n\nPlus, that doesn't solve the failover part."", ""Ace0spades808: Yeah it's certainly useful and there are ways to make it a redundant backup that you can switch to. It's still not quite high availability though since the whole point of high availability is to eliminate single points of failure which we still have in this case. To be fair though I don't even think it's possible to get real high availability with home assistant anyway and especially not with things like zigbee and z-wave."", 'wsdog: Idk, in my case just dropping a portainer agent would be way easier. And I don\'t think HA is capable of gracefully taking over automations and logging if one node goes down. So it\'s but a ""backup"".', ""waka324: Maybe. Haven't played around with portainer yet.\n\nProxmox allows for high-availabilty VMs. That's how I run HA, so in theory, spinning that up should be way faster than a whole machine reboot."", ""rinyre: If you need high availability on HA, you don't need HA: you need a PLC."", 'waka324: I want to keep things running during updates, not spin a centrifuge lol.', ""rinyre: PLCs are industrial automation in general. A lot of older home automation platforms are, effectively a PLC, programmable logic controller. Typically used in industrial settings, they're very high-availability, engineered to never outright crash, instead gating off portions of the logic ladder if things go wrong, but usually issues like that won't arise.\n\nIf the 30-60 seconds for an update is too long, then HA crashing would be too much, in which case, you need something far more robust and sturdy like a PLC.\n\nEither that, or it's not a big deal and this is all just musing about excessive configurations, lol.""]"
1682558731.0	26-Apr-2023 18:25:31	Can't find Alarm.com in HACS Integration store?	Wheat-Thin4244	9	1305tv3	homeassistant	https://i.redd.it/y41bmtlyedwa1.jpg		13	"['StumpyMcStump: Did you add the repo?', ""Wheat-Thin4244: Got it figured out. Thank you, everyone, for the quick help. Glad to know there's a great community built around this platform."", 'Dramatic_Tangelo_207: Already stated but I will rephase to make sure you understood.\n\n&#x200B;\n\nGo to the HACS (left column) repository search for alarm(o) add/install that then go to intergrations and search for it.', ""B1ackmath: You don't really want to be using it right now anyway. There's a bug that stops the integration from updating panel and sensor states and and stops the account from accepting command from HA. The only solution is to reload the integration every couple hours.\n\nIt's been a month or two since this bug was identified and there's no ETA from the developer on when it will be fixed, though they do say they have a solution."", ""id_missing: What kind of panel do you have? If it's the Qolsys IQ Panel 2 there is another HACS integration the communicate with the panel directly. I'm using it and it's very responsive.\n\nhttps://github.com/XaF/qolsysgw"", 'Wheat-Thin4244: Sorry, Im still a noob. Are you asking if I already have the integration added, and that\'s why it\'s not populated in the ""add integration"" search? If so, 100% it has not been added as it does not show when I search my integrations either.', 'Wheat-Thin4244: The panel is the Qolsys IQ Panel 4.', 'deegeese: You have to tell HACS where the repo with the Alarm.com integration can be found.', 'id_missing: Should still work with the 4', 'Wheat-Thin4244: Is this done in app? In settings, or somewhere else?', 'Wheat-Thin4244: Awesome, thanks for the info', 'Shooter_Q: Left Column -> HACS -> Integrations Tab -> Blue Button in the bottom Right ""Explore & Download Repositories""\n\nhttps://preview.redd.it/zzixpq06kdwa1.png?width=1128&format=png&auto=webp&v=enabled&s=9b03d1586a9362d34ccb78a64969ffd861e76a8e\n\nJudging by your screenshot, you appear to be searching from ""Add Integration"" from the stock integrations page. That is not HACS.', ""tknice: If you haven't installed HACS yet, look that up and get it going first.  Then, add a custom repository and paste this in:\n\n[https://github.com/pyalarmdotcom/alarmdotcom](https://github.com/pyalarmdotcom/alarmdotcom)\n\nOnce you do that, you should see the integration to add under Settings > Devices & Services > Add Integrations""]"
1682556801.0	26-Apr-2023 17:53:21	Need Quick Tip for Custom Button yaml	purplepeenpolygamist	0	13053xi	homeassistant	https://www.reddit.com/r/homeassistant/comments/13053xi/need_quick_tip_for_custom_button_yaml/	"It seems I've stumped gpt4 with this question. Maybe somebody of flesh and blood can help? Here's the prompt I gave gpt4:

write me yaml for a custom:button that will trigger a service-call called ""script.heaton"" when clicked if the state of entity A is off, but will  trigger a service-call called ""script.heatoff"" when clicked if the state of entity A is on.

It seems simple enough but I'm not sure how to get the action of the button to be conditional on whether the entity state is off / on."	1	['JTP335d: Create a helper “input_boolean” for your button entity. Use it in an automation as the trigger, select choose for action and set conditions and service call for the two options.']
1682555894.0	26-Apr-2023 17:38:14	MQTT based sensors not updating	Matt_NZ	1	1304rwe	homeassistant	https://www.reddit.com/r/homeassistant/comments/1304rwe/mqtt_based_sensors_not_updating/	"I have Tesla Mate which publishes some sensor output to Home Assistant via MQTT using [this guide](https://docs.teslamate.org/docs/integrations/home_assistant/). This had been working great for some time now but recently I've got a weird issue where the sensors stop updating in Home Assistant. If I restart the Mosquitto add-on, then the sensors will update for a short period but then they'll stop again.

If I use MQTT Explorer to connect to Mosquitto I can see that it is receiving updated data from Tesla Mate but that's not being reflected in HA. I can't see any relevant logs in either HA or Tesla Mate so I don't really know where things are going wrong. On the other hand, I also have another MQTT source (a Room Assistant device) that is updating in HA correctly 

Anyone seen something like this before and found a solution?"	3	"[""Distantdeath13: I'm having a similar issue but I'm hoping it's just a battery getting low. I did run a bunch of updates this week which could have tweaked something."", 'Jenova70: Yo.\nHaving the same set-up as you (no issue on my side)\n\nThis sentence is weird to me:\n""If use MQTT Explorer to connect to Mosquitto can see that it is receiving updated data from Tesla Mate but that\'s not being reflected in HA.""\n\nMQTT is just a tool to connect to your MQTT broker ... It\'s just another subscriber.\nIf you see the teslamate update in MQTT explorer ... Then they are in the MQTT broker for sure, and the broker did it\'s job to send you the updates... As a subscriber.\n\nSo if you see updates in MQTT Explorer but not in HA this means the following:\n\n- Teslamate is able to publish to the MQTT broker just fine ✅\n- The Broker is working fine for at least one of its subscriber (MQTT explorer) ✅\n- Somewhere between the broker and HA (which is just another subscriber).. something fails... ❌\n\nCheck the broker logs? See if you have dropped connection maybe ?\nCheck how you defined your MQTT sensors in HA ? Maybe something is so wrong that after sometime HA itself decides to drop these sensors after too many errors (wild guess)', ""Matt_NZ: Thanks, yeah I'm pretty green with MQTT so my terminology.\n\nThe logs that I was looking at didn't have anything that stood out. No errors at all.\n\nAnyway...I gave Mosquitto another reboot this morning and since then it seems to have come right again 🤷🏻\u200d♂️""]"
1682553356.0	26-Apr-2023 16:55:56	Home assistant on raspberry pi b+ 1.2?	puck2	0	1303trr	homeassistant	https://www.reddit.com/r/homeassistant/comments/1303trr/home_assistant_on_raspberry_pi_b_12/		5	['m2ellis: Needs to be a 3b or 4 I believe. In any case you’ll have a much better time with a more powerful device.', 'puck2: Could I run on Docker (in Synology)?', 'm2ellis: Yes, you can run it in docker.', 'puck2: And plug a ZigBee USB stick into Synology?', 'm2ellis: If you need zigbee you can yeah.']
1682553019.0	26-Apr-2023 16:50:19	Going crazy... if no motion turn light off	Operations8	0	1303pdg	homeassistant	https://www.reddit.com/r/homeassistant/comments/1303pdg/going_crazy_if_no_motion_turn_light_off/	"I am trying to create an automation that turn the light off after my FP1 sensors and my HUE detect no motion for x minutes. First question should i use occupancy of motion with the hue?


This is what i have got now, but this doesnt work. I need to get an IF statement in there somewhere.


You guys  know so much so probably easy for you guys. I have found someone how used a timer but that looked very complicated.


  alias: Woonkamer licht uit

description: """"

trigger:

  - type: no_motion
    platform: device

    device_id: 75649b170bd34502e31040f31cc1ada0

    entity_id: binary_sensor.presence_43

    domain: binary_sensor
    for:
      hours: 0
      minutes: 3

      seconds: 0

  - type: no_motion

    platform: device

    device_id: f436222c17a05cf1763e3b47d7f000c0

    entity_id: binary_sensor.presence_41

    domain: binary_sensor

    for:

      hours: 0

      minutes: 3

      seconds: 0
  - type: no_motion

    platform: device

    device_id:

 1d6efa068f27b0f42c5a8555d6f06690
    entity_id:

 binary_sensor.keuken_motionhue_motion
    domain: binary_sensor
    for:
      hours: 0

      minutes: 3

      seconds: 0

condition:

  - condition: and

    conditions: []

action:

  - service: light.turn_off

    data: {}

    target:

      entity_id:


        - light.woonkamer_2

        - light.eetkamer

mode: single"	4	"[""Kristopher_73: Way to complicated, I have multiple FP1s and automations are super simple.\n\nDon't use the Hue Motion sensor to turn the light Off, take it out of the equation completely, its unnecessary. The FP1 has a job and that's checking to see if room is cleared, so once it has then let it turn the light Off."", '_avee_: If you want to trigger based on multiple motion sensor you want to group them together: https://www.home-assistant.io/integrations/group/ And then use that group state as a trigger, no conditions and ifs needed.', 'Operations8: Could you show me your YAML code?', 'Kristopher_73: I rarely use light switches, so most of my automations have 2 triggers (edit id). The location of my FP1s is almost fast enough to trigger lights, but I like the instant speed of motion turning lights on.\n\nThis being said, if your manually turning lights on, then really all you need is an automation for FP1 (no presence) and light is on for x minutes then turn it Off.']"
1682551159.0	26-Apr-2023 16:19:19	Integrating a Page like this into HA	TheRealestBeck	1	130303l	homeassistant	https://i.redd.it/2km6dp2gscwa1.jpg	"Hey guys,

Trying to figure out how to integrate a web page like this with a weird aspect ratio into HA.

It’s got an local IP address and when I put said IP as the URL on webpage dashboard box nothing shows up."	1	['Getslow6: I would’t try to embed the website, but rather use the integration and make a proper dashboard. \nhttps://www.home-assistant.io/integrations/aqualogic/\n\nAlso; a possible reason that it doesn’t work is that you’re embedding a local ip-address while accessing Home Assistant over the internet.\nYou could make it work with the cloudflared addon or an nginx server, but that is a little more complex.']
1682550001.0	26-Apr-2023 16:00:01	Everything Presence 1 (EP1) questions	teiji25	1	1302j8j	homeassistant	https://www.reddit.com/r/homeassistant/comments/1302j8j/everything_presence_1_ep1_questions/	"This is my first time using an ESPHome device, so I'm pretty clueless.

1. Does the EP1 requires WIFI to work or just the initial setup? Like, if my internet goes down, will it still work?
2. I plan to wall-mount the EP1. Does anyone have a suggestion for a compatible USB-C cable, adapter, or power supply?

Thanks for any help."	4	"[""Shooter_Q: >Does the EP1 requires WIFI to work or just the initial setup? Like, if my internet goes down, will it still work?\n\nYour Wi-Fi and local network (and local devices like ESPHome stuff) should keep working if your internet is down, so long as your router is up. If that hasn't been the case for you, that may be a separate issue to hunt down."", 'yama1291: Anything capable of supplying 5V at 0.5A should work. \n\nYou probably have an old phone charger lying around that can do it just fine, but they are also pretty cheap.\n\nThe cord just needs to be to spec.', 'teiji25: Awesome, thank you!', ""teiji25: Cool. I didn't know a phone charger will work too. I thought it needed some special power supply. Guess that makes it a lot easier to find a compatible one. Thanks.""]"
1682549395.0	26-Apr-2023 15:49:55	How long should a full backup restore take on a Pi 4?	UntouchedWagons	0	1302aap	homeassistant	https://www.reddit.com/r/homeassistant/comments/1302aap/how_long_should_a_full_backup_restore_take_on_a/	I want to migrate my HAOS install from a VM to a Pi 4. I flashed HAOS 10 to a microsd card, let HAOS do the initial setup then I went to the Backups tab, uploaded my backup then did a full restore. It's been about 10 minutes so far. The backup is only 6MB.	10	"['bsmith76s: Please do yourself a favor and at least run your Pi4 HA on a USB stick rather than the microsd for better reliablity. You could also get a usb to SATA and run it on a SSD for even better reliability. Microsd and HA you are asking for troubles.', 'jmcgeejr: I have had issues when restoring if I didnt set the HA IP on the new device to the same as the old one before doing a restore.  It would take it and even still be responding but the web would never come up for it.  I ended up setting up HA new and then in the default CLI screen changing the IP there to match what it was on the previous device, then restore would work.', 'kenkiller: Try accessing the address from another tab. Sometimes it gets stuck on the restore page.', ""UntouchedWagons: Okay I installed HA to a usb flash drive. I restored the full backup again and the web server isn't responding. Will the web server come back up when it's done or will I have to manually reboot the Pi?"", 'bsmith76s: Can you ping the IP of the RPI4? If so how long have you waited for restore to finish? How large is your HA backup files. Mine are 3.6 Gb and a restore takes a while. If you believe the restore is done a reboot may be required. I had to reboot my VM on proxmox when I restored from my RPI to proxmox machine for things to completely come up.', ""UntouchedWagons: Yes I can still ping the Pi 4. Last night I waited about half an hour for any sort of indication that the restore was complete. This morning I installed HA to the flash drive as I mentioned earlier and hooked up a monitor and keyboard. The backup is only 6MB. I checked the HA logs and it said that the restore was complete but the restart command didn't work so I rebooted using Ctrl+Alt+Del. \n\nWhen HA started up I logged in and saw that it only restored one of my six addons. The one it restored was the ZWave JS addon which I do find to be the most important.\n\nSo far, not impressed by the restore process."", 'bsmith76s: did you try restarting the add-ons separately?', ""UntouchedWagons: There's only one addon - the zwave js addon - that's been restored. I'll have to manually reinstall the other addons."", 'bsmith76s: That is very odd. I have to ask was your backup a recent full backup? I had over 12 add-ons add had no problems.', 'UntouchedWagons: Yes I made the full backup last night. I can\'t even start the ZWave JS addon, I get the unhelpful message ""Unknown error, see supervisor""\n\n[Edit]\n\nOkay I uninstalled the ZWave JS addon then installed it and restored all the key stuff and my automations work now. No idea what the problem was, I did find some logs but they were unhelpful.']"
1682548356.0	26-Apr-2023 15:32:36	Best simple tablet for hass	Operations8	1	1301uh2	homeassistant	https://www.reddit.com/r/homeassistant/comments/1301uh2/best_simple_tablet_for_hass/	"I was looking at a YT video yesterday about a Fire HD 10 Plus tablet including a nice wireless charging dock. This was used to show his HASS dashboard. Very nice and this tablet wasn't too expensive.


Unfortunately this video was about a year old and the tablet + Anker wireless dock are not for sale anymore here.


Any ideas on other cheap fast working tablet for HASS dashboard including a nice wireless charging dock? Only thing i can come up the is a Samsung Tab A8, but this look like a bit much to me for only running a dashboard. I would like 2, one mobiel in the living room and maybe one on the wall in the hall.


Of course i know you can use every tablet but that HD 10 Plus was cheap, good enough Plus the charger was gratis (according to the video)."	5	['fornold-1984: What’s wrong with the latest addition of the Fire 10?     I don’t use that for HA but I do use several of the Fire 8 for HA.', 'grahamr31: I’m using a surplus iPad Air 1 - not sure on the wireless charging side, but I’m using POe to power it and will hide that in a frame of some sort. \n\nIt was a kids spare that couldn’t update anymore so apps stopped working.\n\nAnything over ios 11 has charge management built in too. So no worries about being plugged in the whole time.', 'Operations8: Also not for sale here (Netherlands) (anymore maybe?)', 'fornold-1984: Well that sucks', 'Operations8: Hahahah for sure. I was pretty hyped about the YT video. The tablet and charger looked awesome.... pretty soon after that reality kicked my ass....']
1682546366.0	26-Apr-2023 14:59:26	Which ceiling mounted presence sensors are you using and how are you powering them?	IroesStrongarm	1	13010kn	homeassistant	https://www.reddit.com/r/homeassistant/comments/13010kn/which_ceiling_mounted_presence_sensors_are_you/	"Looking to cover my basement in presence sensors. It's a drop ceiling so installation should be easy enough.

My question is which units are you using that you're happy with and how are you sending power to them?

Note I'd like then to remain locally controlled so ZigBee or Z-Wave but open to suggestions."	12	"['kenkiller: Most zigbee or zwave sensors are battery operated so that makes it simpler in a sense.', 'flossraptor: FP1s powered via otherwise useless speaker prewire.', ""IroesStrongarm: Any you like for ceiling presence sensors?\n\nI currently own a few Tuya ZY-M100 (I think that's the model) that's ZigBee and wall mounted and its powered through mini USB."", ""kenkiller: Well everyone's going crazy over the aqara fp2 sensors as of now."", ""IroesStrongarm: Yeah, I've seen that. But how would you comfortably go about powering it safely in the ceiling?"", ""kenkiller: Well you've gotta decide what kind of presence sensor you want. Mmwave based all requires a constant power source. \n\nThe new FP2 looks good in the in the fact that it covers a good area and user designated zones, and also isn't needed to be ceiling mounted.\n\n Most other mmwave sensors before it aren't as nuanced and as you put it requires troublesome wiring.\n\nAnd if you REALLY must ceiling mount it (which decreases effective range)   , it's powered by usb. Not exactly rocket science how to run a usb extension cable from your power point and cable trunking it."", 'grahamr31: If it’s usb, you could do power over Ethernet, to an adaptor and mount that behind in a box.', ""blueboyroy: I've got some cheaper Zooz sensors that I have connected. I use an [adapter](https://www.amazon.com/gp/aw/d/B07P9SDD9M) that I got off of Amazon. That way I can still have my light, but also power USB.\n\nIt really only works because I have a cylindrical drum light (I'm not sure the technical name) that hides the wires. No one can even tell it's there.\n\nI had to put an automation in that powers the light back on to very dim (8% maybe) if someone flips the switch for that light. That way I never lose power to the sensor.\n\nI'm not 100% sure of the safety, but it seems to be working fine for me."", ""IroesStrongarm: That's a pretty good idea.  Any recommendations on a box that will convert POE to I guess 5v/1a?"", 'grahamr31: Depends on the plug end - I just grabbed a POe to female usb-a. \n\nIf you have usb-c you can go right to a single cable that provides Ethernet too.', ""IroesStrongarm: Interesting, I'll definitely do some research into these. This definitely sounds like the best way to do it. Thank you for the suggestion."", 'grahamr31: I’ve used them in a few spots, using one with an amcrest camera that has Ethernet and usb but no POe. The adapter tucked right into the mounting bracket.']"
1682546057.0	26-Apr-2023 14:54:17	Telling camera to keep making snapshots	Operations8	1	1300w1r	homeassistant	https://www.reddit.com/r/homeassistant/comments/1300w1r/telling_camera_to_keep_making_snapshots/	"I would like my camera to keep making snapshot as long as the motion detector is triggered.

What i have now works, but just for when it goes from not triggered to triggered.

alias: Screenshot voordeur

description: """"

trigger:

  - type: motion

    platform: device

    device_id: 7a250bb25ccbd98ef40e1968c1243860
    entity_id:
 binary_sensor.hue_outdoor_motion_sensor_1_motion
    domain: binary_sensor

    for:

      hours: 0

      minutes: 0

      seconds: 0

condition: []

action:

  - service: camera.snapshot

    data:

      filename: /media/snapshots/voordeur_{{ now().strftime(""%Y%m%d-%H%M%S"") }}.jpg
    target:

      device_id: f7f8e3fabc7e869f24bf5f9211e9feee

mode: single"	3	"['Operations8: Any one an idea on how to do this while loop?', ""MrCuddlez69: Use a while loop. So **While state.whatever.attributes.motion_detected is On > take snapshot**\n\nI recommend adding a few seconds delay at the end so be it doesn't bombard you with snapshots continuously (ask me how I know \U0001fae0)"", 'Operations8: I am still a bit novice when it comes to this, where do i add this while state? Could you be so kind and paste it into my code?']"
1682545847.0	26-Apr-2023 14:50:47	cant get adguard to work	FlamingoFamiliar	1	1300szq	homeassistant	https://www.reddit.com/r/homeassistant/comments/1300szq/cant_get_adguard_to_work/	i have a dell thin client and i was using docker to run home assisant and i also had pihole running on it and it worked fine with no issues but i have switched to the HAOS becuase of addons that i needed and i cant get the adguard to work and im not sure why i have the ip set as static and i have tried pointing my dns to it  **127.0.0.1**  and my home assistants ip [**192.168.1.129**](https://192.168.1.129) when i change the dns to it i get no internet and nothing will load	3	"['FlamingoFamiliar: just to add it doesent show up as a client and there is no dns queries on record', 'Wolv3_: First of, no changing your ip to 127.0.0.1 will never work, this is the ""home"" address for every single ip based computer. Normally you\'ll see this referred by its domain name called ""localhost"".\n\nNow you should indeed change your DNS settings to the IP of your HA instance. Now did you maybe forget to define upstream DNS servers? And are you sure Adguard is actually running?', 'MaderaJE: Having somewhat of a similar problem. Adguard integration is not seeing my container on my qnap that has its own static IP address. Its funny because when i first ran HA on my laptop (i think) for testing it will see it and i could log in using the integration. Now that is on the server it will not see it… very frustrating.']"
1682543352.0	26-Apr-2023 14:09:12	Xfinity Keypad XHK1-UE won't pair with Z2M.	ShittyPlumber	2	12zzqkc	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zzqkc/xfinity_keypad_xhk1ue_wont_pair_with_z2m/	"I've read all the posts and all the different comments involving anything to do with these keypads. None of them go into detail about simply pairing them. All the posts go into detail on prepping your HA for it, then skips to all the automations and stuff afterwards. 

I've got Z2M up and running ready to rock n roll, I've got multiple keypads of these, Batteries in, pair mode on. But nothing, no device recognizing. 

Does ANYBODY have any insight on what or how I can fix this?"	1	['melbourne3k: I have a few of these and I was able to do this without issue.']
1682541434.0	26-Apr-2023 13:37:14	Home assistant + Frigate + Sonos to control zone volume outside.	TheOneTrueRobin	4	12zyxtt	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zyxtt/home_assistant_frigate_sonos_to_control_zone/	I'm just curious if anyone has used the combined the use of home assistant, frigate, and Sonos. I like to mess around with various technologies and have an extra server laying around I've been looking for uses for. I was curious if I'd be able to combine the three together to automatically adjust the volume of the various zones depending on where people are located in the outdoor patio. There are currently four different amps connected sectioning the outdoor and patio speakers into four separate zones. I thought it would be kind of cool to use presence detection (I was thinking through frigate with masking off zones) to lower the volume of the zone where people are at and increasing the volume in the zones where people aren't. I've seen a few different things doing something similar by having music follow you through the house using presence detection but I wasn't sure if frigate would be a good solution for outdoor presence detection. Thanks for any input anyone can provide!	10	"['bikeidaho: I see no problems with accomplishing this.', 'Chuckles6969: You could do this. I use Frigate to control outdoor lighting based on where people are, I think you\'d just change the action from ""turn on Light"" to ""Change volume"". I would recommend throwing in Node-Red as your automation platform to visually see the logic flow', ""ProfitEnough825: This works, but there's a bit of a delay and sometimes it'll lose you if you're sitting and not facing the cameras. If you already have Frigate setup or have been considering using it, it's worth a shot to see if it'll work for you."", 'dabbydabdabdabdab: This could be fun \nEvery 1 extra person counted by frigate, volume of Sonos increases 5% until 10 people, then it’s at party volume - until 11pm when everyone can fuck off and go home and we can all get some sleep! 😂', 'TheOneTrueRobin: Great, thanks for the response!', ""TheOneTrueRobin: I'm glad to hear this seems to be working for you in a very similar setup. I had originally thought about also using it for lighting but after really considering it, I couldn't think of a time where I realistically wouldn't want all of the lighting on at the same time. Thanks for the suggestion about Node-Red, I'll look into it as well. In the comment above it was mentioned that there can be a bit of a delay and that sometimes it can lose you when sitting or not facing the camera. Has that been something that you've experienced much of and are there any specific things that you've done to address it?"", ""TheOneTrueRobin: Awesome, and that's good to know about the delay. I hadn't considered that but I don't think it would an issue overall, at least possibly with some tweaking. I'm not currently using Frigate but I've been interested in checking it out for awhile. I had just been looking for a worthwhile use case and more importantly waiting for Coral TPUs to be available again and have now gotten my hands on one."", 'Chuckles6969: I haven\'t noticed much of a delay. It\'s definitely not ""instant"" but it\'s within a reasonable amount of time that I haven\'t felt like it\'s problematic. This could be sped up with a coral tpu, which I am using.\n\n&#x200B;\n\nMine does ""lose"" you after a bit if you aren\'t moving much.  It is worse at night where the blur is worse and less likely to get accurate reads on you being a ""person"".  Camera Spacing to maximize IR coverage at night has been good for me and I think this is a big night time impact. There are ways around like a longer trigger wait time, better quality cameras and lighting, and on-camera presence detection via mqtt or integration + frigate + good automation setup.\n\n&#x200B;\n\nAdding a screenshot of my node-red flow for my side walkway camera to turn on the lights if there\'s a person or dog. In this scenario I imagine you\'d do the volume changes in the blue boxes, The Trigger is a 2 minute wait before turning off the light that resets if it receives the message of being in zone from frigate via mqtt.\n\nhttps://preview.redd.it/r5dtpo3erdwa1.png?width=949&format=png&auto=webp&v=enabled&s=57d4f910cd7b364aa482e8030e648b822539dc6d', '_Rand_: Just inserting lengthy delays will probably “solve” any weirdness.\n\nSomething as simple as waiting 5 minutes after dropping person detected before lowering volume should smooth out a lot of issues like that.', 'TheOneTrueRobin: Yea that’s kind of what I was thinking to address losing people if sitting. I assumed the delays they were talking about though were recognizing people had moved and adjusting the volume of the area as people got there.']"
1682538820.0	26-Apr-2023 12:53:40	Anyway to create location aware Shopping list(S)?	Raul_77	2	12zxtln	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zxtln/anyway_to_create_location_aware_shopping_lists/	"Hi Guys, the Shopping List integration is great, simple and exactly what I have in mind, however the limitation of single list is a huge blocker :(

Is there anyway to get around this? Basically I want to be able to create store specific list and be notified when I am in that store.

Any other integration that can do this?

**UPDATE:** 

In case anyone ran into this, I ended up using Google Keep. It allows lists to be shared and has place notification, so I created a list ""Local store"" then add the address of the store, now when I am in the store, it sends me a notification! Does exactly what I had in mind. "	6	"['JTP335d: Have you looked at Grocy? I haven’t tried it but it’s on my “to look into” list.', 'swpete: Maybe set markers in the map to specific places and then make an automation that triggers a specific shopping list when your phone enters that specific area?', 'ponyhijinx: I use the pyscript ([https://github.com/custom-components/pyscript](https://github.com/custom-components/pyscript)) custom integration a bit in my setup.  My initial thought was if you use a specific naming scheme for your shopping list items (for example ""WM\\_Eggs"", ""HD\\_Lumber"") you could write a python script that parses the list and sends you a notification based on the prefix (""WM"" could be Wal-Mart, ""HD"" could be Home Depot) when you enter a zone...  \nJust an idea.    \nI\'m not sure if there\'s a built-in template or something you could take advantage of to do this kind of work...', 'Raul_77: I did, honestly i was overwhelmed by it! I think while being amazing it is way too complex for my usecase. \n\nI ended up using Google Keep, does Location based notification and allows the list to be shared, it is perfect for my use-case.', 'Raul_77: That is the issue! You can only have 1 list. If you could have multiple lists, this would work.', ""swpete: Ahh, didn't realize that""]"
1682538270.0	26-Apr-2023 12:44:30	Automation suggestions for a New home already built	ADevInTraining	1	12zxf9v	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zxf9v/automation_suggestions_for_a_new_home_already/	"Hello,

I am seeking out some good automations for a new home. Here are some details.
The router and modem are in the basement. I will be paying to have that rewired to a specified room.

I want to have water sensors in each bathroom and utility closet.
I want to issue digital keys for the front door and garage door.
I want to lights through out the home broken up into groups (turn of all kitchen lights for example) 

I would be running this off of a proxmox VM"	5	"['FantasyMaster85: Just a bit of generic advice:  get yourself a very good router (as the likelihood of you adding more and more devices if you’re going down this road is very high), and position your router as high up in your home as is reasonably possible (routers tend to spread their strongest signal downwards). Theoretically the best place for a router is actually in the center of an attic lol (although not the most practical).', ""bsmith76s: Get yourself some AP to better cover your whole house with WIFI. You wouldn't have to nessecarily relocate your modem and router. My Router and modem are in a utility room in the basement and I have multiple AP through out the house and outside for great WIFI coverage. \n\nAs far as automations the biggest limit is your imagination. just be sure to purchase hardware that integrates well with HA. For switches I use a mix of ZWave Swithches and Wifi switches that I flashed with Tasmota. I use a lot of ZWave motion sensors and even use some hardwire motion sensors that run from ESPs or Pis where I have them."", 'The_Doctor_Bear: You’re asking a question that I think only you can answer. Automations need to be tailored to the user(s) so that they are helpful to how you live, and don’t interrupt your life and get in the way.\n\nThat said here a handful of my favorites and the devices I use to enable them (all via HAOS running in a VM w/ Ubuntu on a Lenovo tinypc.\n\nAutomation: Enter the house between sunset and 10pm and the living room lights turn on if they are off.\n\nDevices: XHS2 d/w sensor, inovelli red series smart dimmer(s)\n\nAutomation: rear patio light turns on if you open the patio door, auto turns off 10m later (for letting the dog out to go potty)\n\nDevices: same as above\n\nAutomation: tell google home “going upstairs” turns off all downstairs lights, turns off the TV, turns on the staircase lights, sets bedroom lights to 35%. \n\nDevices: Inovelli red dimmers, zooz zen71 on/off switch, inovelli blue series dimmer, hue RGBW bulbs (the blue series and hue bulbs are a zigbee bound lighting group for super fast connectivity)\n\nAutomation: match a floor lamp to dimmer brightness\n\nDevices: inovelli red series dimmer, inovelli illumen RGBW bulb (with zwave association for super fast local connectivity)\n\nAnd I don’t consider my set up to be very advanced yet at all.', 'ADevInTraining: Ok, good to know - thank you.', 'FantasyMaster85: No problem, and my apologies for the lack of specificity here…it’s just that the question you’ve asked is a bit too “macro” for me (or likely most people) to give you any more specific an answer. \n\nYou’re kind of asking how a watch works in your OP.']"
1682538211.0	26-Apr-2023 12:43:31	I broke Nest and I can't reset it...where is the Nest config saved?	patho5	1	12zxd11	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zxd11/i_broke_nest_and_i_cant_reset_itwhere_is_the_nest/	"I'm trying to set up Nest integration again and entered the wrong authentication URL during the earlier part of the process (following the old guide, my bad).  I can't delete the integration from HA because setup isn't complete, so it doesn't appear in my integrations list.

I think the easiest thing to do would be just delete the config and start over, but I can't find where the Nest integration config is saved in my config directory.  Can anyone point me to the right place?"	2	['BlazeCrafter420: In the devices and services menu there should be a 3 dot menu click/tap that and go to application credentials\n\n*', 'patho5: That was it - thank you!']
1682537414.0	26-Apr-2023 12:30:14	Connect IKEA ceiling lamp	Late-Act-9823	3	12zwjec	homeassistant	https://www.reddit.com/gallery/12zwjec	I have a led lamp with this remote. It’s not an IR one. Is it possible to connect it to the HA?	8	"['_Rand_: You might be able to clone it with a broadlink rm4 or similar', 'Floedekartofler: Is it possible? Probably. With the right technical expertise you can reverse engineer the remote and re-implement it on an ESP or similar.\n\nIs it worth it? Definitely not.', ""flossraptor: I bought remotes for my fans and Zigbee 4-relay boards, then I took apart the remotes and soldered wires to the buttons I wanted. I only have access to four button functions (I could've used 5-6), and there is no fan or light status. Other than those limitations, it works great.\n\nAnd it was absolutely worth it just to have my bed fan turn on automatically at night and then off in the morning. They are fully temperature/time controlled."", ""I_really_h8_you: First thing I would do is check the remote for any licensing for the frequency as it is RF. \n\nFor example, if you're an America, that is the FCC and there will actually be a licensed number that you can look up that will tell you the frequency.\n\nThen you take that knowledge and verify with whether it be at the broad link. RM pro, the sonoff RF bridge, or even the bond RF bridge. \n\nMe personally I took the bond RF bridge as that one has the largest frequency range for RF. Just be aware that each one of those three options I named have local polling but they also have cloud polling too and have different ways of making it local only."", 'Late-Act-9823: Thanks a lot. It should work.', ""Late-Act-9823: With ESPHome I can just push the buttons on this remote without any reverse engineering. :)\n\nI'm trying to find ae more effective way."", 'Late-Act-9823: Thanks for so detailed explanation. I’ll check the licensing. What do you mean by “local/cloud polling”?', ""I_really_h8_you: The page from home assistant details it a lot better than I can explain it. But in a nutshell, some IoT devices don't need the internet. Some do and some are a hybrid of both.\n\n\nhttps://www.home-assistant.io/blog/2016/02/12/classifying-the-internet-of-things/#classifiers""]"
1682536780.0	26-Apr-2023 12:19:40	Total connect comfort / homekit	strohdozer	2	12zvxcl	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zvxcl/total_connect_comfort_homekit/	"Working on migrating all my homebridge devices to home assistant and currently my honewell thermostat is the last thing that isn't working properly. I can get it to work fin e in home assistant but when I try to port it to apple home the ""Fan"" part of the thermostat becomes unresponsive. I can adjust the thermostat setting but just not the fan. Anyone else run into this?"	0	[]
1682535725.0	26-Apr-2023 12:02:05	Smart cover	PLGamrClub	0	12zuwu5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zuwu5/smart_cover/	"I have a automatic cover that is mounted outside and covers my window with a layer od plastic.

I wants to automate this cover.
I have a phisical button to open and close the cover, but it also is controlled by a remote and i can't just cit the power to it.

I need to simulate a button prezes using something pole a relay but i need to have something that is powered by 230V AC (i have neutral) and switch a external circuit"	6	"[""FinnElhaz: If it has a remote, you could probably just get a Broadlink RM4 and integrate that with HA. That's probably the easiest option."", ""PLGamrClub: IT uses RF and i arleady tried to use Broadlink RM4 Pro and it detects the signal but can't replay IT."", 'GrandNewbien: Probably a rolling code.\n\nPop that remote open, solder some wires to the buttons and hook it up to esphome', ""PLGamrClub: I wanted to do that but i have another person on the house and she want's to use the remote normaly without aby aditional cables.\n\nI checked, a new remote costs a lot.\n\nIT is about 70USD"", ""FinnElhaz: Shelly might make a relay that fits your needs and I know for sure their stuff will accommodate 240v. This is getting into low level electrical engineering territory but I think it's doable. When you open/close the cover from the hardwired control panel, do you have to hold the button or is it just a momentary press?\n\nYou could also potentially take out the existing controls completely and replace them with a ZigBee or Shelly module of some kind but then you'd need a whole new remote and that might not be OK with the other person in your house."", 'PLGamrClub: I need to press the button once and then press again to stop.\n\n\nI bouth the Shelly pro 2PM but when i wanted to put it, i realaized that i need to switch a seperated low voltage circuit and only get power front 230V']"
1682530448.0	26-Apr-2023 10:34:08	Rice Cooker Automation Help	bust3ralex	2	12zra47	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zra47/rice_cooker_automation_help/	"I have a rice cooker plugged into a Kasa Smart Plug with energy monitoring. I want to create an automation that turns off power to the rice cooker 5 minutes after it stops cooking. The issue is that after the rice cooker is done, it defaults to a ""Keep Warm"" setting nearly indefinitely, keeping its wattage above 0. 

Here is a screenshot of one run of the rice cooker.

https://preview.redd.it/ilhf666rk9wa1.png?width=1659&format=png&auto=webp&v=enabled&s=e919038d9179569df31af8aaf438cc18ee227327

Right around 7:10 is when the rice cooker finished. As you can see, there is a period a few minutes in where power does drop to 0w multiple times.

Any ideas?"	14	"[""ntsp00: Since the rice cooker's cooking wattage is at times as low as its keep warm wattage you can't just have a trigger for low wattage like these other comments are suggesting, or it will trigger at 6:24 in your image.\n\nYou can have a trigger for high wattage for 2 minutes (6:37) and then wait_template for low wattage for 2 minutes (7:12). Essentially you're saying high wattage means the rice cooker is on so watch for low wattage following that to turn it off. \n\nWhen I'm at my PC I'll reply with the yaml."", 'Koppensneller: Specify in your automation that the power draw should be under 40W (or whatever that value is at 6:57) for a minute, then build in a delay of 5 minutes and turn off the switch. Could that work?', 'whitegasnotpropane: Just do what Jamie Oliver does and buy precooked rice. \n\n&#x200B;\n\nAm genuinely curious about this. I want to use more smart plugs for cooking.', 'amraohs: Looks like its never low (cant see what the actual reading is, maybe 0) for longer then a min, only when its finished. So you could do a status change < 2watt for 2 minutes, and then wait 3min and then off. Again I cant see the exact time and wattage that it should be.', ""N------: I wouldn't over think it.  Just create an automation that detects the start wattage; and that starts a timer to shut it off after a specific amount of time.   imo anyways."", 'bust3ralex: Something like, a binary helper that turns ""on"" from an automation that checks for wattage above 550w for a minute (the big chunk at 6:35) then a separate automation that checks for wattage below 50w (the \'Keep Warm\' past 7:10 peaks at 30w) while the binary helper is ""on"" that can (a) turn the rice cooker off for 5 minutes and (b) sets the helper to ""off""?', 'Kitchen_Software: I did something like this with my washer/dryer (they go into “pause” states mid-cycle).\n\nI created a binary threshold helper to make things a little easier. In my case: Running > 5W and idle <5W. If idle for 5 minutes then send notification (or in this case: turn off)', 'ntsp00: That would start at 6:24 and turn off the power at 6:29, interrupting the rice cooker.', ""bust3ralex: The only issue is that it's not the same amount of time - it varies depending on how many cups of rice I'm making"", 'ntsp00: A binary sensor and separate automation wouldn\'t be necessary, but you could go that route if you wanted.\n\nThis is what I would do:\n\n    - id: rice_cooker_off\n      alias: Turn off the rice cooker when finished\n      trigger:\n        - platform: numeric_state\n          entity_id: sensor.rice_cooker_power\n          above: 550\n          for: ""00:02:00""\n      action:\n        - wait_template: ""{{ states(\'sensor.rice_cooker_power\') | float < 50 }}""\n          for: ""00:02:00""\n        - service: switch.turn_off\n          target:\n            entity_id: switch.rice_cooker_outlet\n      mode: single\n\nI\'m a bit fuzzy on the ``` wait_template ``` syntax but plug in your entity ids and let me know if it works. I\'m not sure if ``` for: ""00:02:00"" ``` is allowed there or if it needs to be bundled in the template.', ""Koppensneller: I'm not sure it even starts before 6:35. If so, OP could detect the high power draw to indicate the device being active, and only wait for it to dip below 40W after that."", ""N------: I hear ya.\n\nI'm thinking homeassisant will allow averages, then knowing that it turns on and off over a set time; you'll be able to put a minimum value range somewhere in the 50-90% of max wattage range to determine the warming portion.\n\n&#x200B;\n\nTo point you in the right direction, lookup Sensor Entity with the type: mean setting.\n\nalso:\n\n[https://www.home-assistant.io/integrations/filter/#time-simple-moving-average](https://www.home-assistant.io/integrations/filter/#time-simple-moving-average)"", ""bust3ralex: I set this up (though I used the GUI rather than YAML as I'm still relatively new to HA). Will report back when I make more rice!"", 'bust3ralex: The rice cooker started right around 6:20-6:21 pm.']"
1682530390.0	26-Apr-2023 10:33:10	Home Assistant > Mac Mini M2 how to video	lowriskcork	6	12zr963	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zr963/home_assistant_mac_mini_m2_how_to_video/	"&#x200B;

[https://youtu.be/1-rWFAuz8ls](https://youtu.be/1-rWFAuz8ls)

I made a video which explain how to install Home Assistant (haos\_generic-aarch64-10.1.qcow2.xz) on a Mac Mini M2 Pro using a UTM virtual machine (downloaded from https://mac.getutm.app/). I will guide you step by step to create a virtual machine with UTM and configure the necessary settings for Home Assistant.  

&#x200B;

sorry for my english accent in advance !"	11	['JCHHenderson: Absolutely nothing wrong with your accent!\nThanks for sharing!', 'michaelthompson1991: By any chance would this work on a 2015 MacBook Pro?', 'lowriskcork: Thank you !', 'lowriskcork: Yes it’s should work,  you could also use docker instead of a VM which should use less ram and cpu', 'michaelthompson1991: Thanks! I’ve tired an installer using UTM but it didn’t work,  I’ll give this a go at some point', 'JTP335d: The 2015 MacBook is still Intel. There are other options to run VMs and you could run home assistant bare metal if you really wanted. I use virtualbox to run a few home assistant VMs.', 'michaelthompson1991: Yeah I have it on a pi now but it would still be a nice experiment to get it on my Mac! I tried virtualbox at the start and I couldn’t get it, maybe I could get it working now because I have more HA knowledge 🤷🏼\u200d♂️', 'JTP335d: Home assistant is tricky as a VM.  Virtualbox is a bit finicky also. From the home assistant install page select alternative options and follow the virtualbox install. If I remember correctly, it’s missing some details though. It’s been awhile. I originally learned the virtualbox install from YouTube.', 'michaelthompson1991: Cool thanks! Can you remember which YouTube videos you used?', 'JTP335d: I can’t. Was a few years ago and software changes. I may try an install this weekend. I usually keep a few on my MacBook for testing and some of them are broken.', 'michaelthompson1991: No problem, thanks!']
1682530111.0	26-Apr-2023 10:28:31	Power Outage Fry FP1?	longunmin	1	12zr4fz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zr4fz/power_outage_fry_fp1/	Had a power outage and I believe it fried my FP1, as it no longer reports and it doesn't respond to the reset button.  Has this happened to anyone else? Is it trash now?	4	"['_Rand_: Possible power surge perhaps?  Some things are more sensitive than others.', 'ngiecokr: I had the same thing happen. Does the light flash once if you hold the button while plugging it in? Try leaving it unplugged overnight. Mine started working again after I did that.', ""longunmin: It'll flash once when I plug it in, but then doesn't respond after that"", ""ngiecokr: That's the same thing mine did. After leaving it unplugged for a day, it started working again.""]"
1682529552.0	26-Apr-2023 10:19:12	Home assistant needs restarts	WOUCO07	0	12zqv5g	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zqv5g/home_assistant_needs_restarts/	Hey fellow home assisters, I reasontly set up my home assistant on a pc that is running 24/7 with the newest version if virtualbox, but I noticed it needs restarts multiple times a day because it just stops working. When I open cmd promt of the running home assistant I don't see any error's. I already tried giving it more RAM but the problem continues. Does anyone have suggestions for me on how I can fix this?	4	"[""eraser215: You need to be more specific. What freezes? The app or the whole VM? What's in the home assistant logs? What troubleshooting have you done beyond running that command? Have you reinstalled the VM or home assistant?\n\nIt is a lot easier to help you when you provide specific details on the problem, what you have done to investigate and remediate, which documents you have checked, and anyything else that may be relevant."", 'Shooter_Q: I run 24/7 in a VB VM as well but with no issues. What are your resource allocations?', ""WOUCO07: All entity's become unavailable, I can still access the dashboard but nothing works, maybe this helps? I have been looking for similar situations, but I couldn't find them. That's why I turned to Reddit."", 'mrbmi513: Check the hardware information in the website/app. Any obvious hardware limitations you need to increase?']"
1682527041.0	26-Apr-2023 09:37:21	Can this be done?	RubberDinero	151	12zpgq1	homeassistant	https://i.redd.it/qle3opbqsawa1.jpg	Added a iFan04 to my ceiling fan, is it possible to have the speeds as pictured?	51	"['KotPlintus: Check changelog of 2023.4 updates , new functionality was added, just what you need for a fan\n\nhttps://preview.redd.it/x7slmhdo6bwa1.png?width=1308&format=png&auto=webp&v=enabled&s=53a04be4376a9de80e335a0da500df45b78cfa81\n\n[https://www.home-assistant.io/blog/2023/04/05/release-20234/#new-dialogs-for-alarm-cover-and-fan-entities](https://www.home-assistant.io/blog/2023/04/05/release-20234/#new-dialogs-for-alarm-cover-and-fan-entities)', 'failware: Yep, I use [fan percent button row](https://github.com/finity69x2/fan-percent-button-row) for this', 'RubberDinero: https://preview.redd.it/ej0x0s2rdbwa1.jpeg?width=1242&format=pjpg&auto=webp&v=enabled&s=ddd53f292ea63f4c927dc1d9bc4a6c9f31d18f63\n\nAdded tile cards as recommended with Fan Speed added as a feature. For the light, I added another tile card and changed both actions to toggle so that it doesn’t matter where on the tile I click, it’ll instantly toggle!\n\nThanks everyone!', ""feelx88: I have it \\*exactly\\* like this using [https://github.com/jcwillox/lovelace-paper-buttons-row](https://github.com/jcwillox/lovelace-paper-buttons-row):\n\nhttps://preview.redd.it/5vsee6j2fcwa1.png?width=509&format=png&auto=webp&v=enabled&s=a9451ded4f9d5412a6aad49eaca8703a608d9365\n\nThe yaml looks like this:\n\n    type: entities\n    entities:\n      - <other buttons>\n      - entity: fan.bedroom_fan\n        state_color: true\n        extend_paper_buttons_row:\n          entity: fan.bedroom_fan\n          base_config:\n            state_styles:\n              'true':\n                button:\n                  color: var(--pbs-button-active-color)\n          buttons:\n            - name: 1\n              state: '{{ states(''input_number.fan_unold_0_percentage'') == ''33.0'' }}'\n              tap_action:\n                action: call-service\n                service: fan.set_percentage\n                service_data:\n                  entity_id: fan.bedroom_fan\n                  percentage: 33\n            - name: 2\n              state: '{{ states(''input_number.fan_unold_0_percentage'') == ''66.0'' }}'\n              tap_action:\n                action: call-service\n                service: fan.set_percentage\n                service_data:\n                  entity_id: fan.bedroom_fan\n                  percentage: 66\n            - name: 3\n              state: '{{ states(''input_number.fan_unold_0_percentage'') == ''100.0'' }}'\n              tap_action:\n                action: call-service\n                service: fan.set_percentage\n                service_data:\n                  entity_id: fan.bedroom_fan\n                  percentage: 100\n            - icon: mdi:arrow-left-right\n              entity: input_boolean.fan_unold_0_oscillating\n              name: false\n              tap_action:\n                action: call-service\n                service: fan.oscillate\n                service_data:\n                  entity_id: fan.bedroom_fan\n                  oscillating: true"", ""bobloadmire: I need this for light levels. I don't need infinitely granular lighting dimming, I need off 25%, 50% 75% and 100%"", ""PCLOAD_LETTER: This is what I'm using\n\n[https://github.com/jcwillox/lovelace-paper-buttons-row](https://github.com/jcwillox/lovelace-paper-buttons-row)\n\n[https://github.com/thomasloven/lovelace-slider-entity-row](https://github.com/thomasloven/lovelace-slider-entity-row)\n\n&#x200B;\n\n    entities:\n      - entity: media_player.office_speaker\n      - entity: switch.office_fan\n        icon: mdi:ceiling-fan\n        extend_paper_buttons_row:\n          buttons:\n            - entity: scene.office_fan_low\n              icon: mdi:fan-speed-1\n              name: false\n            - entity: scene.office_fan_med\n              icon: mdi:fan-speed-2\n              name: false\n            - entity: scene.office_fan_max\n              icon: mdi:fan-speed-3\n              name: false\n              style:\n                button:\n                  margin-right: 20px\n      - entity: light.office_light\n        max: 100\n        min: 0\n        name: Office Light\n        step: 10\n        type: custom:slider-entity-row\n        toggle: true\n        icon: mdi:ceiling-fan-light\n    title: Office\n    type: entities"", ""smibrandon: You could create scripts and template switches, and with that, put something like [this](https://imgur.com/a/UafmDGJ) on your dashboard. I don't recall the front end integration off the top of my head, but if you're interested, let me know and I'll dig when I'm at my PC."", ""STGMavrick: https://preview.redd.it/uhp9mpk77iwa1.jpeg?width=1284&format=pjpg&auto=webp&v=enabled&s=9e585dee5252c3d4b9571003153e0d56750f90b8\n\nThat's how I've got mine setup. Same fan controller you're using. ifan04 using fan percent button row card"", 'tgkspike: Yes\n\nhttps://preview.redd.it/2i5ie2zwdbwa1.jpeg?width=1080&format=pjpg&auto=webp&v=enabled&s=8219218bc2c4924cfa8b2e761f22f35dd945adc8', 'pampa_13: You could use a Number helper, with min and max values, and then use automations to change the speed on the fan according to the value of the helper. You can display it on the dashboard as a stepper or a slider.\n\nhttps://preview.redd.it/omujh6rvccwa1.png?width=510&format=png&auto=webp&v=enabled&s=6bf7d84acef6a7c6fc7102e22f0f656b2780080b\n\nEdit: looking at the comments there are far better solutions than this one lol', ""Belazriel: https://github.com/thomasloven/lovelace-slider-entity-row\n\nIs another option, I don't use the fan one but I use the light setup for controlling the dimming and on/off."", 'Fancy-Interaction761: Is there a wall switch people recommend for controlling ceiling fans? Z-Wave preferred.', 'stacecom: https://www.reddit.com/r/homeassistant/comments/12yeoko/help_us_improve_your_home_approval_factor/', 'Charles_Sangels: Can this be done with a ""chain"" fan? My fan is not smart and I don\'t really want to replace it, but I\'m happy to replace the wall switch for it. Can I get multiple speeds with just a wall change?', 'csthiang1: How do I use it with scripts? I’m using the BroadLink remote to control the fans', 'Complex_Solutions_20: My solution was to make a light template entity for the fan...used to be you could use a light card and it had a simple slider for the fan but that no longer seems to work.\n\nI also like this as it matches what my wall-switch behavior is which functions identically to a light dimmer with ""minimum"" being ""breeze preset"".\n\nThat said, I almost never USE the HA controls as I have a physical button that toggles it and rarely touch the speed at all.\n\n&#x200B;\n\n&#x200B;\n\nhttps://preview.redd.it/w1r8fponcjwa1.png?width=468&format=png&auto=webp&v=enabled&s=875f7e0f880b89e2a6ba4297bacf31cf54ab10fc\n\n&#x200B;\n\n    light:\n      - platform: template\n        lights:\n          bedroom_fan_dimmer_level:\n            friendly_name: ""{{ state_attr(\'fan.bedroom_fan_dimmer_level\',\'friendly_name\') }}""\n            value_template: ""{{ states(\'fan.bedroom_fan_dimmer_level\') }}""\n            level_template: >-\n              {% if state_attr(\'fan.bedroom_fan_dimmer_level\',\'preset_mode\') == ""breeze"" %}\n                1\n              {% else %}\n                {{ state_attr(\'fan.bedroom_fan_dimmer_level\',\'percentage\') | int(-100) * 255 / 100 | round(0,default=-1) }}\n              {% endif %}\n            turn_on:\n              service: fan.turn_on\n              entity_id: fan.bedroom_fan_dimmer_level\n            turn_off:\n              service: fan.turn_off\n              entity_id: fan.bedroom_fan_dimmer_level\n            set_level:\n              service_template: >-\n                {% if (brightness | int(-255) / 255 * 100) | round(0,default=-1) == 1 %}\n                  script.bedroom_fan_dimmer_level_preset_breeze\n                {% else %}\n                  script.bedroom_fan_dimmer_level_percent\n                {% endif %}\n              data:\n                brightness: ""{{ brightness }}""\n    \n    script:\n      bedroom_fan_dimmer_level_percent:\n        sequence:\n          - service: fan.set_percentage\n            target:\n              entity_id: fan.bedroom_fan_dimmer_level\n            data:\n              percentage: ""{{ (brightness | int(-255) / 255 * 100) | round(0,default=-1) }}""\n    \n      bedroom_fan_dimmer_level_preset_breeze:\n        sequence:\n          - service: fan.set_preset_mode\n            target:\n              entity_id: fan.bedroom_fan_dimmer_level\n            data:\n              preset_mode: ""breeze""', 'mrbmi513: This is also in the Tile card I believe.', ""ashcan_not_trashcan: I am new to this and I feel like I did something wrong. Do I need the supervised version installed? I'm running HA in Docker on a Raspberry Pi.\n\nEdit: to clarify I never see the cool features in the updates (like there's in the link) in my version even though I run updates..."", 'ivanatorhk: I am a fan of this', 'RubberDinero: Looks awesome! Definitely going to try and implement this!', '-cs80-: Fan percent button row breaks on next release. It still contains polymer which you are getting messages about it being deprecated in your logs. (If you upgraded to the April release)\n\nhttps://github.com/finity69x2/fan-percent-button-row/issues/38#issue-1656273757', 'tobboss1337: The same for me for covers. I would like to have 4 presets instead of a slider', 'RubberDinero: That looks awesome, how did you achieve this?', 'RubberDinero: Does the slider have steps? Like auto snap to 33, 66 and 100? I like the look, but it would bother me to see anything from 1%-32% for low, etc for the mid and high.', 'RubberDinero: You don’t have to replace the fan, you can add an iFan03(for 220v) or an iFan04(for 110v). This makes your fan smart. I’m currently using one in like a 20 yr old ceiling fan.', 'RoninR6: Does your fan have its own wall switch for power?  Mine all do and I just use a leviton z-wave fan speed controller.  Just leave the ""chain"" set to high and let the switch control the speeds.', 'RubberDinero: This worked, by adding the feature speedfan. Only thing that sucks is that I can’t group it with the light. Only one entity', 'KotPlintus: Yes, there is\n\nhttps://preview.redd.it/9qmrami58bwa1.png?width=649&format=png&auto=webp&v=enabled&s=cee18ec41de8da12f0e30a5d967dc7ab9f297186', 'Kristopher_73: It is', 'AnduriII: Check changelogs', 'AnduriII: Check changelogs', 'Blipstein: Seems like a breeze to setup', 'cweakland: Here is mine:\n\n&#x200B;\n\nhttps://preview.redd.it/wkiijg780dwa1.png?width=592&format=png&auto=webp&v=enabled&s=9b1b5a437a5b40a672af1f2367fb6925f9c5d701\n\nCard config:\n\n    type: entities\n    title: Fans\n    show_header_toggle: false\n    entities:\n      - entity: fan.master_bedroom_ceiling\n        type: custom:fan-percent-button-row\n        name: Master Bedroom\n        customTheme: false\n        reverseButtons: true\n        customSetpoints: true\n        lowPercentage: 30\n        medPercentage: 60\n        hiPercentage: 90', ""wasper17: Seriously? Crap, I just installed this and LOVE IT! I guess I'm going hunting again..."", 'bobloadmire: what kind of cover has that option? i only use garage doors.', 'RubberDinero: Guess it does, the step variable.', 'RubberDinero: This worked, by adding the feature speedfan. Only thing that sucks is that I can’t group it with the light. Only one entity\nBut I think it works better by just adding 2 tile cards.\n\nThis works!', ""Angelusz: The silly thing about this is all the empty space, there's no reason not to have the icon, name, status and button all on one row in this example."", ""R4D4R_MM: I'm blown over by the comments on this thread."", 'tobboss1337: Here in Germany window roller shutters on the outside of the windows are very common. I control them with Shelly 2.5 in roller shutter mode. I have them completely closed at night, then a position on ""Ritze"" where the slits between the elements are open to let light and air in while blocking most of the light and let no one see inside. Then of course half open for low sun altitudes annoying on TV and the complete open position. You can google ""Rollladen"". Yes with triple L. Only 2 L will give you food :D\n\nI will have to set the positions with the slider right now or entering the numbers, that is annoying because it depends on the size of the window which percentages fit and i have to remember them', ""mrbmi513: In HACS, there's a card that's a vertical stack without any lines between cards. The end result is like an entities card like you had but with whatever you want."", 'Sjorsa: Check the stack-in-card on HACS, the only downside is you lose UI editing of any cards you put in it', 'randytech: I think you can handle that by overlaying a button for the lights via a paper buttons row', 'FastAndForgetful: Like this?\n\nhttps://preview.redd.it/k6b05s1a2dwa1.jpeg?width=1170&format=pjpg&auto=webp&v=enabled&s=08541f5ced87724f4f38b55e0ea819bbc1f07f47', 'Matt_Shatt: Feels just like the wind whipping through your hair', 'apetrycki: You could use button cards in a horizontal stack. Each would call the service with the desired %.', 'CeeeeeJaaaaay: Vertical stack in card supports both the GUI editor and horizontal stacking.', 'imarite: Is this the mushroom card ?', 'Angelusz: Yup!', ""tobboss1337: That's a good workaround. Have thought that would be more complicated. Still an integrated solution for every analog setpoint would be great. If it's not official maybe someone capable is inspired by the new fan card to create something like that"", 'FastAndForgetful: Yep. Mushroom fan card using the compact option. I have Mushroom - better slider installed. It has better control of light colors but the fan card didn’t change']"
1682526835.0	26-Apr-2023 09:33:55	Has anyone heard anything on when more Aqara FP2 sensors will be available?	theloneranger08	4	12zp8xf	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zp8xf/has_anyone_heard_anything_on_when_more_aqara_fp2/		7	"['Luqqas66: Reed mentioned in this video that Aqara said they would have stock early in May. \n\n[https://youtu.be/YnzxGfdHhR0?t=272](https://youtu.be/YnzxGfdHhR0?t=272)', 'muppie87: Here in Sweden, tomorrow', 'Cmille34: Curious about this as well', 'theloneranger08: Appreciate it!', ""Krojack76: Only to be sold out in 24-48 hours I bet.\n\nI feel like they either can't make them fast enough or won't."", 'theloneranger08: From Amazon or somewhere else?', 'muppie87: Some Swedish company. Kjell.com']"
1682525555.0	26-Apr-2023 09:12:35	Z-Wave Hub and High Availablity	Cyberlytical	1	12znv94	homeassistant	https://www.reddit.com/r/homeassistant/comments/12znv94/zwave_hub_and_high_availablity/	"Currently I am looking at adding a Schlage Zwave smart lock to my home. However I currently only have Hue bulbs which use zigbee. After some research I have concluded Z Wave to be more stable and the way to go.  

That said, my Home Assistant  VM is currently on a 3 Node Proxmox Cluster with high availability and I do not want to lose that. I know I can add USB sticks and pass through to HA but that will cause me to loose the high availability and this is running on enterprise hardware, which only has 2 USB ports. I was thinking of using [this](https://www.amazon.com/RaZberry7-Z-Wave-Plug-Raspberry-Frequency/dp/B09DCSP83T/ref=sr_1_1_sspa?crid=2GV929LLRN0WZ&keywords=zwave+raspberry+pi&qid=1682524955&s=electronics&sprefix=zwave+raspberry+pi%2Celectronics%2C269&sr=1-1-spons&psc=1&spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUEzN0dDMDBWTDFJUVJOJmVuY3J5cHRlZElkPUEwODU1ODgwM0ROR1I4NzA0N0lZSiZlbmNyeXB0ZWRBZElkPUEwNzEyNTk2MktQSzM1Qlg4UDY4RiZ3aWRnZXROYW1lPXNwX2F0ZiZhY3Rpb249Y2xpY2tSZWRpcmVjdCZkb05vdExvZ0NsaWNrPXRydWU=) with a spare Pie 4 I have laying around. Can this be setup to send the signals (like a Hue hub does) to my VM? If not what would be the best way to accomplish this?"	6	"[""quixotic_robotic: One idea is to run a barebones linux install with a docker container for zwavejs2mqtt on a dedicated rpi, and a standard USB zwave dongle. This would sit as small edge device somewhere on the network. Then HA will just point to that instead of the addon on its own same device. Despite the name, zwavejs2mqtt also has more native webhooks directly with HA and doesn't need mqtt.\n\nThat module you linked is more for allowing a pi to act as a zwave device to send data back to a hub, takes a lot more custom work, and idk if it's really meant to act as the hub node."", ""IroesStrongarm: I do this by using a spare pi to connect my ZigBee and Zwave coordinators. I installed ser2net which allows me to pass those sticks over my local network.\n\nI'm using ZigBee2MQTT and Zwave JS UI directly in HA."", 'iCSpotRun: Good choice. Zigbee is a hot mess and always will be', 'FakespotAnalysisBot: This is a Fakespot Reviews Analysis bot. Fakespot detects fake reviews, fake products and unreliable sellers using AI.\n\nHere is the analysis for the Amazon product reviews:\n\n>**Name**: RaZberry 7 - Z-Wave Plug-On Module for Raspberry Pi (US Frequency), Great for DIY Smart Home. Compatible with Z-Way and Home Assistant \n\n>**Company**: Z-Wave.Me\n\n>**Amazon Product Rating**: 4.5 \n\n>**Fakespot Reviews Grade**: A\n\n>**Adjusted Fakespot Rating**: 4.5\n\n>**Analysis Performed at**: 10-05-2022 \n\n[Link to Fakespot Analysis](https://fakespot.com/product/razberry-7-z-wave-plug-on-module-for-raspberry-pi-us-frequency-great-for-diy-smart-home-compatible-with-z-way-and-home-assistant) | [Check out the Fakespot Chrome Extension!](https://chrome.google.com/webstore/detail/fakespot-analyze-fake-ama/nakplnnackehceedgkgkokbgbmfghain)\n\n*Fakespot analyzes the reviews authenticity and not the product quality using AI. We look for real reviews that mention product issues such as counterfeits, defects, and bad return policies that fake reviews try to hide from consumers.*\n\n*We give an A-F letter for trustworthiness of reviews. A = very trustworthy reviews, F = highly untrustworthy reviews. We also provide seller ratings to warn you if the seller can be trusted or not.*', 'Cyberlytical: This is exactly what I was looking for! Thank you!', 'LegallyIncorrect: Zwavejs2mqtt was renamed to zwave-js-ui months ago.']"
1682523397.0	26-Apr-2023 08:36:37	HASS OS thin client install	Least-Personality762	1	12zli0n	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zli0n/hass_os_thin_client_install/	"I've just picked up a dell thin client to run HASS OS but I don't have an adaptor to flash the m sata drive with HASS OS. Is there a way of transferring the live installation on my USB onto the m sata drive within the CLI? 

Thanks!"	7	"['Into_the_groove: I used a linux live usb, then burned the HAOS image onto my NUC. You should be able to do the same with your thin client. \n\nI have also done this with other OS like IGEL.', 'john_bergmann: I used the installer image, booted it off the usb pendrive, and then let it install the OS on the internal flash drive of my NUC.', 'bsmith76s: An mSATA has same foot print as a SSD. You could use a usb to SATA cable as long as you are in the Thin why not upgrade to a larger SSD. I did this and now have a Dell thin with 120 GB storage. You just need to tear the case off a SSD and the internal part fits in the mSATA slot. Here is a video showing upgrading to SSD [https://www.youtube.com/watch?v=fcPy41ed3XE](https://www.youtube.com/watch?v=fcPy41ed3XE)', ""dilscallion: Didn't know that you could do that. That's awesome"", ""Least-Personality762: Genius! I'll give this a go, you've saved me having to order an m sata to usb interface"", 'hops_on_hops: ""installer image""? What are you referring to?', 'john_bergmann: I was referring to https://www.home-assistant.io/installation/generic-x86-64']"
1682522065.0	26-Apr-2023 08:14:25	Changed some SSL info and can now only access via DuckDNS	RoachForLife	0	12zkhxc	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zkhxc/changed_some_ssl_info_and_can_now_only_access_via/	"My apologies for my lack of knowledge on certs here.

So in an attempt to link my existing Smarththings account to HA, I was running into issues where it asked for the webhook. I am using DuckDNS with its built in SSL cert. So I saw on the HA forums someone said to modify the config as below. This somewhat worked however now I can no longer access via my IP address. I would prefer to have both available while in my network.

&#x200B;

1. In doing this I no longer can access HA via my IP address or homeassistant.local. Do I need to do something in the config to make that still available? Only works via duckdns now

&#x200B;

2. For Smartthings, I rebooted it then wanted to log me in as the API user using the token as the password (not sure if this was right but thats what I entered). I then readded the ST integration, it seemed to work. Brought me to a page to confirm, etc etc. However I still do not see the integration shown or any devices in my device list. Oh and I got an email from Smartthings saying welcome to the Dev Portal. Am I missing something?

&#x200B;

3. On the note of IPs and duckdns, when setting up devices, generally speaking should I still use the static IP instead of duckdns? My thinking was that by using DuckDNS I am relying on the internet as it would need to ping it to get the IP to function, and that the local IP would be better. Any thoughts?

&#x200B;

Here are the config changes I added (below)"	8	"['rodrigobrmnn: Have you tried accessing through the IP address with https at the start of the url?', 'RoachForLife: homeassistant:\n\n  auth\\_providers:\n\n   \\- type: legacy\\_api\\_password\n\napi\\_password: !secret http\\_password\n\n   \\- type: trusted\\_networks\n\ntrusted\\_networks:\n\n\\- [192.168.0.0/24](https://192.168.0.0/24)\n\n\\- fd00::/8\n\nhttp:\n\n  base\\_url: https://your\\_domain\\_name.duckdns.org\n\n  server\\_port: 8123\n\n  ssl\\_certificate: /ssl/fullchain.pem\n\n  ssl\\_key: /ssl/privkey.pem', 'absolutxam: What happens when you try to access HA locally?\n\nI have the same setup and local access works for me, only difference is you have to use https and ignore the bad cert warning in the browser.', 'anomalous_cowherd: Certificates contain all the names which the cert can verify. If you have a cert that only lists the duckdns FQDN then you can only get an SSl connection using that name.\n\nYou can add more names and sometimes IP addresses to the cert at creation time to get around this, if the cert provider supports that.', 'RoachForLife: Sorry to ask but do you have more details on accomplishing this, or perhaps a tutorial link? Where do I modify to add more names?\n\n&#x200B;\n\nRight now I am using DuckDNS addon with Lets Encrypt. So what I believe to be a pretty standard setup.\n\n&#x200B;\n\nThank you!', 'RoachForLife: Actually it seems to be working by adding this to my config. Still curious on point 3 if anyone has suggestions. I assume I should still add all devices that need an ip (like a camera) with the IP itself and not the duckdns url? Thanks\n\n&#x200B;\n\n \n\nhomeassistant:  \n external\\_url: https://XXX.duckdns.org  \n internal\\_url: http://IP:8123', 'anomalous_cowherd: Most of my cert stuff has been with internal CAs. But this looks like it explains it well:\n\nhttps://peyanski.com/home-assistant-remote-access/#What_if_Home_Assistant_Remote_Access_is_not_working_or_you_loose_your_local_access', ""RoachForLife: So I figured out my bone head move. On the external url I mentioned I never put the port. Everything seems to be working now and so does smart things integration.\n\nI am still curious tho about the whole local ip vs duckdns and when to use which. I noticed, for example. In frigate I put my cameras in based on their local ip yet the logs show it taking the same info but going thru duckdns. I guess since it's all local I would have thought it wouldn't have done that. Also unsure if that means if the internet is out, if in this case, it wouldn't communicate to the cameras anymore?""]"
1682521159.0	26-Apr-2023 07:59:19	Homekit stopped working after setting up remote access to HA	AliB3	2	12zk2k1	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zk2k1/homekit_stopped_working_after_setting_up_remote/	"EDIT: Ok so this is dumb but right after posting this I remembered ChatGPT is a thing so I asked it, and it suggested going in to my iphone settings and resetting my network configuration, and that worked.

My question now however is how do I set up my remote access without breaking Homekit? I assume iPhone is using DNS to connect to the bridge, given that it broke after I messed with that, so then what DNS entries do I need for it to work?

&#x200B;

Hi All,

I'm really stuck with this problem.

**Home Assistant** **2023.4.6**

Supervisor 2023.04.1

Operating System 10.0

Frontend 20230411.1 - latest

I've had HA set up for a couple of years, and been using the homekit bridge that whole time, it was all working fine (other than devices frequently showing up as not responding).

I just recently set up remote access to HA. The changes I made:

1. Set up a port forward on my firewall (pfsense)
2. Added a DNS entry on pfsense so that the external hostname would resolve to the internal IP
3. In HA itself, under System > Network > Home Assistant URL, in the ""Internet"" field I put in the external URL that I set up in both my port forward and DNS entry.

After that, my homekit accessories wouldn't connect anymore, at all. I did some research and found solutions online talking about editing a config.json or mdns.interface files and but none of the solutions say where those files actually are, and my googling for those file locations didn't get me anywhere. So I just gave up on that, tried to delete and readd my HASS bridge to homekit, and ended up having to totally delete and reinstall the Homekit integration because apparently there's no option to make the QR code appear again after initial setup (wtf to that?).

I'm not at the point where I've undone all my remote access and DNS entries, rebooted my iPhone, firewall, and HA, and I still can't add the bridge. iPhone keeps telling me accessory not found. They're on the same network, I've undone all the changes I made, I don't understand why it can't find it? The System > Logs on HA aren't giving me any errors, so I'm at a loss?"	0	[]
1682520831.0	26-Apr-2023 07:53:51	Ping automation to flip a switch	Compusmurf	4	12zjx9m	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zjx9m/ping_automation_to_flip_a_switch/	"I want to make an automation that:

Pings something reliable on the internet.  EX 8.8.8.8

If it fails to ping consistently, like once a minute for 10 minutes to flip a physical outlet switch off, then back on, clear the counter for the ping and restart the automation.

Here's my use case.

If my router reboots because of ANY reason, including a power outage, my FIOS ONT gets confused and sets the port speed to 10Gb and won't autorenegotiate the speed when the router comes up - 2.5Gb.  I have to manually reboot the ONT.  I have a switchable outlet now that the ONT plugs into.  So what I want to happen is home assistant automation that pings out on the internet once a minute and if it fails to ping for 10 times in row  (10 minutes worth) it tells that switch to power off, wait a minute, power on (thus rebooting the ONT) then to clear the automation counter and start over.   Obviously, the automation needs to reset the counter if during the ping count is successful.

I know there's devices out there like:  https://www.amazon.com/ezOutlet5-Internet-WiFi-Reboot-Switch/dp/B0861NX6H2/ref=cm_cr_arp_d_product_top?ie=UTF8   That does this, but why buy another device to do it if I can use HA and the devices I already have?  :)

I just don't know where to start with the logic of this."	11	"[""quixotic_robotic: The ping integration already exists to automatically ping anything at a given interval. It's meant as a device tracker to determine if someone is home/away, but accomplishes what you want. Then you would make an automation triggered by this ping entity going to away (offline) for 10 minutes."", '404flyer: If I were doing it today, I would create a few [ping sensors](https://www.home-assistant.io/integrations/ping/) as someone else mentioned, and then either a [template binary sensor](https://www.home-assistant.io/integrations/template/#state-based-template-binary-sensors-buttons-numbers-selects-and-sensors) or a [bayesian sensor](https://www.home-assistant.io/integrations/bayesian/) to represent connectivity and be online as long as at least one of the ping sensors was still good.\n\nBut I didn\'t know all that when I created this overly complex command line sensor to run ping tests. If anyone wants to know, I\'ll explain what\'s going on in these scripts.\n\nIn configuration.yaml:\n\n      - platform: command_line\n        command: /config/shellscripts/ping-test-ipv4.sh\n        device_class: connectivity\n        name: Internet Connectivity\n        payload_on: ""online""\n        payload_off: ""offline""\n        command_timeout: 60\n\n/config/shellscripts/ping-test-ipv4.sh:\n\n    #!/bin/bash\n    \n    export hosts=""1.1.1.1 google.com 9.9.9.9""\n    \n    \n    filename=""/tmp/ping-test.${hosts// /-}"".result\n    \n    \n    if [[ -f $filename ]]\n    then\n      cat $filename\n      /config/shellscripts/ping-test.sh -4 $hosts > $filename &\n    else\n      /config/shellscripts/ping-test.sh -4 $hosts > $filename &\n      /config/shellscripts/ping-test.sh -4 $hosts\n    fi\n\n/config/shellscripts/ping-test.sh:\n\n    #!/bin/bash\n    \n    if [[ $1 == \'-4\' ]]\n    then\n      opts=""-4 -q -c3""\n      shift\n    else\n      opts=""-q -c3""\n    fi\n    \n    filename=""$*""\n    \n    filename=""/tmp/ping-test.${filename// /-}""\n    \n    if [[ -f $filename ]]\n    then\n      #echo from file\n      hosts=`cat $filename`\n    else\n      #echo from command line\n      hosts=""$*""\n    fi\n    \n    #echo $hosts\n    \n    arr=()\n    \n    for host in $hosts\n    do\n      arr+=( $host )\n    done\n    \n    arr+=( ${arr[@]:0:1} )\n    arr=( ${arr[@]:1} )\n    \n    for i in ${arr[@]}\n    do\n      echo $i\n    done > $filename\n    \n    \n    for host in $hosts \n    do\n      # >&2 echo $host\n      ping $opts $host > $filename.test 2> /dev/null\n      if [[ $? -eq 0 ]]\n      then\n        if [[ $(cat $filename.test | grep \' 100% packet loss\' | wc -l) -eq 0 ]];\n        then\n          echo online\n          exit 0\n        fi\n      fi\n    done\n    \n    echo offline', 'pookexvi: Does it have to ping a website you have in mind? \n\nIf not, you can look into adding a speed test integration, then set up an automation to start if the ping is above a set point', 'AnxiouslyPessimistic: I don’t think you need to reset a timer. I believe if you setup a ping sensor it is “off” until a successful ping lands and then it’s “on”. So you can just have an automation saying if it’s off for 10 minutes then do X Y and Z. I had basically this exact thing in place when my garden office was linked via a wifi extender that would drop sometimes. I’d ping devices in the office, if they dropped for X minutes, I bounced the plug the wifi extender was connected too.  Additionally I had it send my phone a notification to let me know', ""tcbailey239: Another option....Healthchecks.io\n\nYour method is keeping things locally which is good. [Healthchecks.io](https://Healthchecks.io) adds a view from the outside. If my HA system goes offline and doesn't ping the Healthchecks site, Healthchecks will notify (telegram) me. This helps in the situation if my home is completely offline and I'm not there to get notified locally. There is also a HA integration that provides an out-going connectivity sensor which can probably be used for your situation."", 'Shooter_Q: >but why buy another device to do it if I can use HA and the devices I already have? :)\n\nWell, in my case, if my HA machine itself is down, it won\'t be able to reset itself. Likewise, if network communication is failing because say, router is down, I can\'t send a command over the local net to reset the smart plug that the router is plugged into.\n\nI went with a [Digital Loggers PDU](https://www.amazon.com/Web-Power-Switch-Pro-Model/dp/B0765NCB2L/ref=sr_1_1?m=A3D4241373L385&qid=1682556222&s=merchant-items&sr=1-1&ufe=app_do%3Aamzn1.fos.18ed3cb5-28d5-4975-8bc7-93deae8f9840) to act as an independent device for this purpose, which has an autoping system with custom values to determine when/if you\'d like to reset any one of its controllable outlets based on pinging a single or multiple IPs; also allows you to set the counter of the ""re-arm"" value and time value depending on how long you\'d expect the device to take to get back up and running.\n\nIt\'s complete overkill if you only have one, non-critical device to power cycle. I have a family that\'s never going to touch the software or hardware running the home though and we often had issues arise either when I was away from home or when I was working nights and no one wanted to wake me during the day because they had issues.\n\n&#x200B;\n\nhttps://preview.redd.it/d428vx8w9dwa1.png?width=500&format=png&auto=webp&v=enabled&s=f1b7ea3efb4c8b4490a29c707e147db58da5329e\n\nI can totally understand wanting to keep that in HA if that\'s not your concern though.', 'Compusmurf: Ok, multiple folks have mentioned Ping Sensors.  I think I\'m going to try for that route first.  See what happens.  You\'ve all given me a few ideas and validation I\'m on the ""right idea"", maybe I\'m overthinking it of course.   Giving upvotes to everyone here!\n\nThanks!', 'Compusmurf: Ok, so what I\'ve done...\n\nI setup a binary sensor to ping 8.8.8.8 once a minute.\n\nIn automation, I setup a script that checks to see if connected/disconnected and if it\'s disconnected for 10minutes to flip the outlet switch of OFF, wait 30 seconds, then on, then a 2 minute delay for it to reconnect.  I may have to play with the reconnect delay.\n\nI tested with a local device and NOTHING plugged into the outlet.  Seems to work.\n\nAny thoughts how to make it bulletproof?\n\n    alias: Nointernet\n    description: """"\n    trigger:\n      - platform: state\n        entity_id:\n          - binary_sensor.internet_alive\n        to: ""off""\n        for:\n          hours: 0\n          minutes: 10\n          seconds: 0\n    condition: []\n    action:\n      - type: turn_off\n        device_id: 07fc3c0f50a66c2b881cca570ca00c87\n        entity_id: switch.ewelink_sa_003_zigbee_4f798a1f_on_off\n        domain: switch\n      - delay:\n          hours: 0\n          minutes: 0\n          seconds: 30\n          milliseconds: 0\n      - type: turn_on\n        device_id: 07fc3c0f50a66c2b881cca570ca00c87\n        entity_id: switch.ewelink_sa_003_zigbee_4f798a1f_on_off\n        domain: switch\n      - delay:\n          hours: 0\n          minutes: 2\n          seconds: 0\n          milliseconds: 0\n    mode: single', ""404flyer: Even easier, you can create a binary sensor group -- there's no need for a template sensor or Bayesian sensor to combine multiple ping sensors."", 'Compusmurf: Well, speed test churns a lot of data in and out so running it continuously 24x7x365 might be frowned upon which is why I was thinking ping as it would be lighter.  My thoughts anyway.  ;)', ""Compusmurf: If the router or my NUC or home assistant is down, I have much bigger issues to deal with other than an ONT that doesn't want to pre-negotiated port speed.  :). I did see that device, but only need 1 plug in the garage.""]"
1682518993.0	26-Apr-2023 07:23:13	Esphome = Wifi = Avoid?	selmaohneh	0	12zj4ig	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zj4ig/esphome_wifi_avoid/	"I love esphome. I have several custom sensors all around my house and it just works like a sharm. I even flashed some of my Shellys to esphome und prior connection errors I had with the Shelly Firmware are gone with esphome.

So I thought about increasing my investment in esphome by buying future devices which are esphome compatible.

But there are so many people trying to avoid wifi devices preferring ZigBee. Mostly because many wifi devices seem to slow down the Network!? Does this apply to esphome as well? Or is esphome fine since it uses the native AP and not mqtt or coiot?"	15	"[""MattHashTwo: Wifi inherently is shared resource. If you put lots of chatty devices on it, they have to wait their talk to talk.\n\nZigbee is the same, except you're also not trying to use the network at the same time so it doesn't matter, because it doesn't slow you down. \n\nI use both, it's imo overblown and probably only an issue for people using cheap crap WiFi routers provided by their ISP. **\n\n** not all are cheap crap obviously, but you get the idea."", 'hannsr: That depends on more factors than just ""many devices = bad"". For example you\'re more likely to run into issues if you live in a highly congested area like a multi-story apartment complex where everybody and their mothers have 2 networks up. \n\nMost esp devices are designed to send only necessary data and usually they only update on demand or every few seconds, so you should be fine usually. You can also optimize your network by separating the traffic on different vlans for example.', 'VegasPlexer: The problem I had when I used the provider supplied wi-fi router was that it had a small limit on the number of devices that could be connected. I upgraded it and the problem was solved.', 'peterxian: Most IoT devices (except cameras) send minimal traffic, so will have almost no effect on WiFi quality, regardless of the application protocol. Most fears about WiFi are due to experiences with lousy routers and/or legacy WiFi issues, both of which are significantly improved in WiFi 6 and later. With Thread gaining popularity as the new WiFi for low-power mesh, I would personally avoid investing in new Zigbee stuff.', ""cheider: Even with a Ubiquiti network (not just a cheap router), it's my experience that wifi devices have periodic communication blips that take them offline. With smart bulbs, for example, I need to toggle the power for them to reconnect. (Granted, my experience is with Tuya devices and not ESPHome.) But I never have an issue with Zigbee or Z-Wave in my house."", 'HTTP_404_NotFound: I manage this by having a seperate SSID with dedicated APs for IOT devices.\n\nThis also helps further separate my IOT stuff, from other devices on my network. My IOT devices are completely isolated from everything.\n\nThat being said, I am north of 100+ devices on my wifi, with no issues to report at all.\n\nEsphome is very nice. Unlike SOME wifi-based devices.. it will automatically reconnect if needed. In general, I have extremely good uptime on all of my esphome devices.', 'ttgone: You’ll probably be fine, but it can apply to esphome as well. Better wifi will help with this.\n\nThere are also ESP32 boards with Ethernet, but I don’t know if products that have those integrated directly', ""porchlightofdoom: I had nothing but problem with Zigbee. Don't know why. I sold all my wired Zigbee stuff and standardized on Wifi with ESPHome. 60+ devices on my Wifi (MikroTik router) with zero issues. It just works.\n\nI also standardized on MQTT being the backend. I trust MQTT a bit more then the ESPHome API, and I can manually connect to the MQTT server and see the topics for easier debugging."", 'pedymaster: I have unifi at home. Dream machine and 4 APs (1 per floor + garden)\nI run mostly on esphome, some tasmota bulbs and shelly devices, wifi exclusive\nI do understand all the arguments here, but I personally did not have any problem at all\nAlso,.most of the stuff that needs speed.runs on 5ghz, but smarthome stuff on 2.4ghz\n\nLike i said. Personally no issues. At this point I have about 30-40 devices running over the house', 'nickm_27: Well, I’d say most fears about WiFi are because generally wifi devices are cloud based.', 'Djinjja-Ninja: > Better wifi will help with this.\n\nCan 100% confirm this.\n\nI have a load of Tuya Smart WiFi bulbs (using local tuya) in my house (like 40 or so) along with loads of other stuff ""normal"" stuff.  I also run a whole bunch of Zigbee sensors and switches to control those.\n\nI keep them all on a sperate 2.4GThz only SSIDm, but every so often I would have some issues with the WiFi bulbs not responding quickly enough, you press a button and it would take a second for it to respond, or only 7 of 8 in a group would turn on.\n\nJust this week I swapped out my previous WiFi based on an Archer AX6000 and a bunch of powerline WiFi repeaters for a TPLink DEco WiFi 6E Mesh system (XE75 * 3 to be exact), and the difference is *amazing*.  Almost instantaneous response for everything, no longer have the occasional bulb dropping offline for no apparent reason.', 'selmaohneh: What do you mean? You let esphome push to you mqtt broker in addition to esphome using the native API!?', ""porchlightofdoom: ESPHome pushes to the MQTT broker. Everything I have pushes to the MQTT broker.  Custom scripts, RTL433 weather, ZB2MQTT, etc. All goes into the MQTT broker. \n\nHA connects to the MQTT broker and uses it to talk to all the ESPHome devices that way. \n\nThe native ESPHome API is used if you don't have an MQTT broker. If you have an MQTT broker, then you don't need to use the ESPHome API."", ""selmaohneh: Mhm... The docs say the native API has some advantages over mqtt. Not sure why they'd switch to mqtt if installed!?"", ""porchlightofdoom: The only disadvantage I have with MQTT is that if I remove a device (without using ESPHome cleanup), I need to clean up the discovery topics in MQTT. That is the only negative I see. I have about 80 devices in it. \n\nThe API might work fine. I figured I would have MQTT running anyway, I might have well it all standardized to use MQTT.\n\nI should also say I am using ESPHome configuration outside of HA. I have so many devices, it's easier to manage them with the yaml files, then doing the configuration in HA. I can make one change in one yaml file and push out that change to 15 lights with one command.""]"
1682518558.0	26-Apr-2023 07:15:58	Photo management	ssssassafras	0	12zixhb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zixhb/photo_management/	What do people in this community use for backing up/ sharing photos? My university Google photos account is getting closed and I keep a local backup but I'm not sure how to share photos as easily esp android to iphone	16	"['triangulum-visitor: [Photoprism](https://github.com/photoprism/photoprism)\n\n[Immich](https://github.com/immich-app/immich)', 'Murky-Sector: I use plex which I would warn is a 5 on a scale of 10. I mainly use it because it does a good job of centralizing video/music/images management.', ""jeena: I bought a Synology NAS, it's still closed source software but at least you own the hardware and can install open source software on it. Synology has apps for your phone and computer to back up your photos and then it has software which organizes them and let's you share them, etc."", 'Wild-Bus-8979: OwnCloud', 'ewlung: Android to Android: You can install Google Photo app on your Android phone, it should have a Google account in it.\n\nAndroid to iPhone:\n- Share to social media, if both parties are using\n- Share to WhatsApp, if both are using\n- Share to email?', 'MGSkott: This', 'zer0545: Also use synology + encrypted backup to Google cloud.', 'NightPossumPete: RAID is not a backup solution.', 'mhzawadi: or nextcloud', 'ssssassafras: I guess this is the way. I also have a bunch of usb c flashdrives, so if iPhone people are allowed to use them that could work', 'fornold-1984: Very true.  I have 2 Synology NASs.  One at a friends house to backup to.', ""ufgrat: Both are useful, but a bit overkill if all you're doing is sharing photos.\n\nI run a software package called [lychee](https://lychee.electerious.com/) from my home network."", ""NightPossumPete: This is the way.\n\nI have a similar setup using Synology's Hyperbackup to offsite units, as well as a backup to an Amazon Glacier data center in Sydney for geographic redundancy."", 'AnxiouslyPessimistic: Is lychee a good choice for a just a nice photo app to view photos from a NAS? The basics', 'RuaidhriM: Lychee is the prettiest of them all. But it will ""import"" your collection. For straight off a NAS - PiGallery2, which is also super fast. For the best faces detection etc. (also import), PhotoPrism. If you are already with Nextcloud, then its new Photos called Memories is quite good. Immich is coming along nicely but not for off-NAS, more for trying to replace Google Photos. Piwigo is another PHP one I fought with for a while. And there are many many more...', 'AnxiouslyPessimistic: Cheers! I’ll give PiGallery2 a look!']"
1682517423.0	26-Apr-2023 06:57:03	Configure Overlapping Audio Files - Media Player	HollywoodScotty	1	12zie3i	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zie3i/configure_overlapping_audio_files_media_player/	Hello, I'm trying to play multiple audio files at once to a single audio device, EG playing music, and a door open/close chime playing over it. Ideally I'd like to be able to set the volume for each audio file separately. For instance if the music is playing low, and someone opens the door I'd like the chime to play more loudly without affecting the music volume. So far from my testing, the audio files interrupt eachother when automations play back audio during music playback. Any ideas? Thanks!	0	[]
1682516994.0	26-Apr-2023 06:49:54	Yale Home Introduces Assure Lock 2 with Z-Wave	louislamore	2	12zi6w3	homeassistant	https://www.securitysales.com/access/yale-home-introduces-assure-lock-2-with-z-wave/	I don’t see this on Yale’s website. Is this true? Maybe because I’m in Canada…	12	"['louislamore: This is US only right now: [https://shopyalehome.com/](https://shopyalehome.com/)', ""jsank11: These look great and (maybe) the locks I've been waiting for.  Anyone see any downsides?  These will work with ZWaveJS right?"", 'MowMdown: I don’t know I bought a Yale Assure 2 and their Zwave module like a month ago and it works fine', 'I-1100: They may be referencing the ZW3 module, its the 700 version of their Zwave module. Not fully in ZwaveJS database yet as only the ZW2 500 series is. However the ZW3 module does work with the Assure Lock 2, and also with ZwaveJS - I have 4 and they work fine, just show up as unknown device.', 'louislamore: I saw another post about this and I think there are some issues that some users are encountering so I’ll wait for the official release.', 'Flipontheradio: How did you get ZW3 modules? I just ordered module from the Yale website 2 weeks ago and got ZW2', 'MowMdown: I’ve had zero issues.\n\nBoth the module and lock are not new products so I don’t know what “official” release is coming?', 'I-1100: eBay is the only place ive seen the modules available', 'louislamore: The posts I’ve seen have been issues with the lock showing “unlocked” when locked, indefinitely, until it is reset. \n\nThe current module isn’t supported (officially) on the Assure 2 and they announced last year that a new module is coming, but it’s been delayed since December.\n\nEdit: ""rest"" to ""reset""', 'Jelly_292: Looks like a module is now available for Assure 2 - https://shopyalehome.com/products/yale-z-wave-plus-smart-module-for-assure-locks-yrd450430420410?variant=41397668970628', 'MowMdown: Very strange', ""IroesStrongarm: I've had that problem. For me it was solved by adding a dedicated zwave extender to my mesh. My original node, on my small mesh, that lock hopped to (and also some switches) just wasn't a great node for the mesh at all.\n\nSince adding the extender it's been flawless.""]"
1682516313.0	26-Apr-2023 06:38:33	Custom modbus command, reponse is an array - how to send it to different sensors?	pluto8x	1	12zhvck	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zhvck/custom_modbus_command_reponse_is_an_array_how_to/	"Hi!

I have a Growatt solar inverter and after long time i found a undocumented modbus command to retrieve the state of the attached Energy Meter (SMD230).  


The problem: An answer do my requst i get a 200 byte message with all the voltages, current and energy datas. Any idea how to send it to different sensors in esphome? Here what i have:  


    uart:
      id: mod_bus
      tx_pin: 1
      rx_pin: 3
      baud_rate: 115200
      
    modbus:
      id: modbus1
      uart_id: mod_bus
      
    modbus_controller:
      - id: growatt
        address: 0x1
        modbus_id: modbus1
        setup_priority: -10
        update_interval: 10s
    
    sensor:
      - platform: modbus_controller
        modbus_controller_id: growatt
        name: ""total_import_energy""
        force_update: true
        id: total_import_energy
        custom_command: [ 0x1, 0x20, 0x00, 0x00, 0x00, 0x64, 0x81, 0xE6]
        lambda: |-
              float float_value;
              float_value = float(data[108] << 24 | data[109] << 16 | data[110] << 8 |  data[111])/10;
              ESP_LOGD(""Modbus Sensor Lambda"",""The value of sensor 108 is: %f"", float_value);
              return float_value;
        unit_of_measurement: kWh
        accuracy_decimals: 1

Esphome doesn't accept the same custom modbus request in a second sensor. So what i need is to return multiply values to different sensors in one lambda? Any suggestions?

What i tried: It seems that the inverters doesn't accept single request to only 4 registers. To 108 = 6C and a register size of 4 bytes:

    custom_command: [ 0x1, 0x20, 0x00, 0x6C, 0x00, 0x4, 0x81, 0xE6]

i get:

Modbus command to device=1 register=0xBF40 countdown=0 no response received - removed from send queue

Why 0x6C leads to a register request of 0xBF40?

Thank's"	0	[]
1682516293.0	26-Apr-2023 06:38:13	LocalTuya with expired IoT subscription	cheider	2	12zhuzt	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zhuzt/localtuya_with_expired_iot_subscription/	"My cable went offline for a while this week so it was a good time to take stock of how many things around the house actually require Internet access to work properly.

No issue with my Zigbee and Z-Wave devices. But my outdoor Tuya bulbs stayed off after dark. I had done the Tuya integration with Home Assistant already, but HA couldn't turn them on because it relies on the cloud service.

Then I remembered a video about LocalTuya and decided to investigate it.

**Long story short, LocalTuya reported an error that my Tuya IoT subscription had expired.** I created it a little over a month ago when I first setup the Tuya integration. Ugh.

I requested an extension, but what if it doesn't get approved?

The [LocalTuya instructions](https://github.com/rospogrigio/localtuya) say I can manually configure the devices without a Cloud API account. So I proceeded without the API login.

It sees the devices on my network. **How do I find the localKey for each device?**"	11	"[""Djinjja-Ninja: > How do I find the localKey for each device?\n\nYou still need to get it through the Tuya IoT site.  You should still be able to log into it and it should still work, my IoT core trial expired 2022-08-28 and my localTuya works fine pulling localKeys in automatically for any new devices, and I can still browse all of my devices.\n\n>  can manually configure the devices without a Cloud API account.\n\nIts difficult.  [Here's an example](https://techshakya.com/2021/04/extract-tuya-local-key-without-iot-platform.html), which involves setting up an Android emulator with root, installing the smartlife app, connecting to all of your devices, extracting a preference file, then taking that preference file and running it through a .Net app to extract the local keys. Not even sure if this would still work as its 18 months old, so may only be applicable to older protocol versions."", 'tmaster2241: You can also request an extention to the cloud api. I had to do that and it was approved. The instructions are at the bottom of the Tuya integration page https://www.home-assistant.io/integrations/tuya/', 'rvd65: Thx for the warming. Have to be swift.', 'ScottRoberts79: unlink the devices from the IOT on Tuya\'s website, then setup a new account. With the new Tuya account, use LocalTuya\'s instructions to run ""tuya-cli wizard""\n\nHow did you request an extension from Tuya? Let us know if they say yes.', ""cheider: Update: My subscription was extended! I'll give it another go tonight. Thanks for your help!"", 'cheider: I should clarify: without a ""subscription"", not without a ""Cloud API account"". \n\nMy IoT login works fine and I see my devices and the Device ID. But I don\'t see where to find the **local keys**.\n\nThanks for that example. It will be helpful if I can\'t get the keys from the IoT site.', 'cheider: Thanks. I just saw my subscription was extended! I should be good to go. Will try tonight. Thanks for your help.', 'cheider: Extension granted! All good.', 'Djinjja-Ninja: Great stuff.', 'Djinjja-Ninja: Ah right.\n\nTo get a local key you do the following:\n\n * Goto Cloud\n * Goto API Explorer\n * Goto ""Smart Home Device System""\n * Goto ""Device Management""\n * Goto ""Get device details""\n * Paste the device_id string in\n * click ""Submit Request""\n\nIn the response there will be a json blob with the entry in it ""local_key""\n\nIt may however depend on whether you already setup a project with the authorization keys.  As that screen does say:\n\n> During API debugging, the platform uses the authorization key (Access ID & Access Secret) of the current project to get a temporary token and initiate API calls to access your data and online resources. Proceed with caution.\n\nSo YMMV.', 'cheider: Brilliant! Thank you so much!']"
1682515136.0	26-Apr-2023 06:18:56	Xiaomi Gateway 3 loses connection to Zigbee Xiaomi devices when connected to HA	ChampionsNet	1	12zhbn5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zhbn5/xiaomi_gateway_3_loses_connection_to_zigbee/	"A very weird thing is happening. Once I connect the Xiaomi Smart Hub (lumi.gateway.v3) to HA through the Xiaomi Gateway 3 integration, the gateway very briefly shows the connected zigbee Xiaomi devices and then immediately loses connection to them both in HA and in the Xiaomi Home App. 

Trying to reset the zigbee devices will result in nothing as the gateway will fail to pair to the devices unless rebooted. Even then, the gateway will lose connection to the devices after some minutes unless I have disabled the Xiaomi Gateway 3 integration.

How bizarre… Any ideas on what might be the problem?"	0	[]
1682514846.0	26-Apr-2023 06:14:06	Callback URL has typo, where to correct?	RoachForLife	1	12zh6zm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zh6zm/callback_url_has_typo_where_to_correct/	Hi all, so I am attempting to connect to my existing Smartthings account and notice when it shows the callback url to DuckDNS is shows as [XXX.duckdnis.org](https://XXX.duckdnis.org) (the extra i in there). It says to update the configuration and restart, but unsure where to change this. Ive reviewed DuckDNS and the configuration yaml and nothing with the url.  DuckDNS does have it but its written correctly. Any help on where to find is appreciated. Thanks!	2	['berrywhit3: Settings > System > Network > HA URL', 'RoachForLife: Doh! Thank you!!!']
1682513500.0	26-Apr-2023 05:51:40	Just upgraded to ZWave JS, is it true that ZWave JS can't even properly track the state of devices? That can't be right.	flargenhargen	0	12zglb5	homeassistant	https://community.home-assistant.io/t/zwave-js-not-updating-state-of-devices/425242/3		29	"['phareous: i haven’t had any problems with this. it does sometimes take a few seconds to update status but it usually does\n\nthe only thing i’ve ever  had an issue with is it doesn’t always notice when my ceiling fans are manually turned off', ""nickm_27: Not sure what you mean by can't track the state of the devices, works just like any other device in HA be it zigbee, bluetooth, etc."", 'stevewm: When I converted I had similar issues.   In the end I ended up just starting my entire ZWave network over.  Wiped the stick and re-paired all of my devices.  In the end it was the best decision I made.  Some devices that had always acted strangely in the past (like my GE switches, the LEDs on them would not work right... my Aeotec energy monitor would not accept changes to parameters) started working 100% and have continued to do so.  Overall my Zwave devices work better and faster on ZWaveJS than they ever have before.', 'bphilly_cheesesteak: I’ve used ZWaveJS for years and all my devices update automatically and immediately (except for some sleeping battery-powered devices)', ""Raman325: Hi, read through this thread, and had some comments/observations/corrections:\n\n1. The `zwave` and `ozw` integrations were built on top of `openzwave`, an external open source project. The developer for that project has since ceased development on the library. The `zwave_js` integration is built on top of `zwave-js`, which is also an external open source project, but is both in active development, and more recently, sponsored by Nabu Casa to help keep it going.\n2. You didn't have to switch if you chose to stay on the same HA version as before. But I'm guessing you wanted new features, which people wanted for Z-Wave as well, hence the switch in later versions.\n3. The original integrations couldn't be developed any further because `openzwave` development stalled. The `zwave_js` integration has quickly surpassed the feature set of both of the earlier integrations and it does not make sense for the team to maintain multiple integrations for the protocol in the core when we feel pretty good about what we've got in `zwave_js`. It's worth noting that most users have seen a significant improvement in reliability with `zwave-js`.\n4. As mentioned in a comment below, some devices don't do instant status reporting. I believe the older GE switches had this problem with manual changes. `Openzwave` addressed this by aggressively polling devices which would drain the battery of battery operated devices and create significantly more traffic on the network. `zwave-js` has opted not to poll as aggressively. While you may not agree with this approach, it is a design choice, and if it's something you feel strongly about, you are welcome to submit feedback in the parent project ([https://github.com/zwave-js/node-zwave-js](https://github.com/zwave-js/node-zwave-js)). Alternatively, as referenced in your link, you can set up polling automations, and you can refresh all devices that you need to in a single automation.\n5. Aside from the community forums, feel free to drop into Discord, people are very friendly and supportive in the `#zwave` channel.\n\nI hope this helps!"", ""Pleasant-Phase: A couple of my light switches needed to be changed to use HAIL mode or similar. I'm out of home now, but it was a setting in ZwaveJS and fixed it for me."", ""flargenhargen: as title states,  I was forced to upgrade to ZWave JS since HA deprecated ZWave.\n \nand since,  my devices don't update,  showing in HA that they are on when they are not.\n \nEverything worked fine for years under the previous Zwave implementation in HA that they removed.\n\n\nSeems like pretty basic stuff?   Do I really have to manually create automations to manually call refresh for every device?   That's insanity."", ""bjvanst: Some Zwave devices don't support instant status reporting but have you done any trouble shooting since the issue started?  A good place to start would be trying to determine whether your devices support it or not."", 'blue_gr8dane: Are you’re zwave devices zwave+? I have some old zwave switches which are “non-plus” and they do not report state ( all the zwave+ ones do). I have an automation that runs every 5 mins to poll the state of the older switches that do not update.', ""flargenhargen: > it doesn’t always notice when my ceiling fans are manually turned off\n\nYea this seems to be the issue I'm experiencing, except with light switches."", 'flargenhargen: If I shut off a light using the physical wall switch,   it remains listed as ""on"" in HA.\n \n\npreviously under ZWave it had no issues recognizing that the switch had been turned off.', ""flargenhargen: >When I converted I had similar issues.  In the end I ended up just starting my entire ZWave network over.\n\nThank you, this is helpful.\n \nI hope to not have to do that, because holy shit that will be a PITA, but it's useful to know that's what you had to do, and that it fixed the issues for you.\n \nthanks."", 'if_i_fits_i_sits5: Yup. Same. My only pain point was moving to ZWave JS 4-5 years ago. Been solid since. \n\nI would look into maybe your network and see if there’s connectivity issues.', 'capjay_1: Very informative post, thanks 👍 \n\nJust want to add: if you use the Z-Wave JS UI, it allows you to configure manual polling for certain types of devices; but use with caution, to not flood the Z-Wave network with extra traffic.', 'Pleasant-Phase: https://preview.redd.it/io15z0pr3fwa1.png?width=1080&format=pjpg&auto=webp&v=enabled&s=ba45863082a4e6a4893103bb514462d1c3764387\n\nActually, I can see the value in Hass 🤣', ""400HPMustang: I only had one Z-Wave device but I've since replaced it with something else but when I was running Z-Wave JSI had no problem with the state of my device. I could always tell when the light was on or off and when the fan was running and at what speed."", 'phareous: what kind of switches? i wonder if it’s related to a specific model? are they all the same? all of mine are jasco or rebranded jasco (ge, honeywell, ultrapro)', 'flyize: IIRC, that may be a firmware issue', ""nickm_27: well, that's definitely some issue with the network and obviously not by design. Mine has been solid for years, of course more info is needed for anyone to be able to provide suggestions"", 'Spooky-Mulder: That is not my experience at all. I have 20+ z wave devices on zwave js and the state tracks fine.', 'capjay_1: .. Alternatively, you can exclude/reset the ""problem devices"" and try to include them again. Solves some problems, without wiping the whole stick.', ""flargenhargen: > I would look into maybe your network and see if there’s connectivity issues.\n\nserious question because I don't know,  but why would there be connectivity issues under ZWave JS when there wasn't under ZWave? I'm assuming since no hardware changed, and the issue only appeared after updating HA to use ZWJS, that it's not a hardware issue,  isn't that a reasonable conclusion?  (again, that's an honest question, I don't claim to know)"", ""flargenhargen: I have quite a number of Zwave devices, they've all worked great for years, and replacing them all is certainly not an option just because HA decided to deprecate the software that worked.\n \nvery disappointing."", 'flargenhargen: Most of them are GE, various models, some switches, some dimmers.', ""400HPMustang: Seems odd, I feel like it's a problem everyone would have if that's just the way Zwave JS behaved in HA and you'd hear about it.  It sounds like something maybe specific to you and your setup but I don't know how you go about diagnosing it."", 'hoffsta: I have some older GE Z-wave switches. They don’t report their state to the hub. Only after the hub polls them. It wasn’t a feature back in the day and it really sucks.\n\nMaybe try increasing the polling rate to get an acceptable response or upgrade those switches to self-reporting varieties (basically anything sold nowadays).', 'LegallyIncorrect: Your return routes are likely messed up. Run a network heal. OZW was terrible at corrupting routes. All of the GE switches are well supported. If that doesn’t work make sure your controller (usually Node 1) is in the Group 1 direct association. You’d likely need zwavejs-ui to check and fix that.', ""flargenhargen: I do hope you're right.\n \nsearching the forums and the googles didn't bring up anything positive,  so hopefully someone here might have run into it and knows a solution  (it's reddit so they'll call me a moron or whatever for not just knowing but that's fine if the stuff can work again.)\n\nhard to believe they would release it if it works this badly, so it has to be something that maybe needs to be configured differently.   I mean it's a light switch,  reporting whether it's on or off is like one of the main and only things it needs to do."", ""400HPMustang: Well if you don't get any traction here, there's always the HA community forum or opening a bug report on the HA github but you'll undoubtedly be asked for additional information.""]"
1682512943.0	26-Apr-2023 05:42:23	Theme does not change with service or Node-Red	peartreetoisengart	1	12zgczg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zgczg/theme_does_not_change_with_service_or_nodered/	Is anyone else having a problem to change their theme? I used to change my theme with Node-Red depending if the sun is up or not. This does not work anymore. Neither with the new light / dark mode nor with two different themes. But I can also not change the theme with a service. Am I the only one?	0	[]
1682512139.0	26-Apr-2023 05:28:59	Translate datehelper's date language in template	caspix	1	12zg0rr	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zg0rr/translate_datehelpers_date_language_in_template/	"Been trying to figure out how to get my custom sensor's output to show the month name in my own language. I have found some examples, but they use now().month and I need to use the value of the helper. 

This is what I have now, and this only works if the value is the same as the current month.. 

Any way to take the month of the helper and translate month name?

    {% set input = as_datetime(states('input_datetime.helper_dato_for_ferie')) %}
    {% set months = [""Januar"", ""Februar"", ""Mars"", ""April"", ""Mai"", ""Juni"", ""Juli"", ""August"", ""September"", ""Oktober"", ""November"", ""Desember""] %}
    {% if now().date() < input.date() %}
    {{ input.strftime('%d') + months[now().month]}}
    {% endif %}"	2	"['404flyer: I\'m slightly confused about what you are trying to accomplish here because I\'m not sure what the `if` statement is for or why you would concatenate the date with the month name in this way, but if you want to use the helper\'s date (instead of `now()`) to index into your month array, it would look like this:\n\n    {% set input = as_datetime(states(\'input_datetime.helper_dato_for_ferie\')) %}\n    {% set months = [""Januar"", ""Februar"", ""Mars"", ""April"", ""Mai"", ""Juni"", ""Juli"", ""August"", ""September"", ""Oktober"", ""November"", ""Desember""] %}\n    {% if now().date() < input.date() %}\n      {{ input.strftime(\'%d\') + months[input.strftime(\'%m\') | int - 1] }}\n    {% endif %}', 'caspix: I should probably have mentioned the point about this sensor.. But what this does is that I have a custom button on my dashboard that shows the date in the button IF the date is in the future. If the date has passed it will not show.\n\nEdit: I missed it when I read it the first time, but your fix totally worked. Thank you so much for the help. Works flawlessly now']"
1682511604.0	26-Apr-2023 05:20:04	Run while sleeping	SamuelAbrahams	0	12zfsvd	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zfsvd/run_while_sleeping/	Hi there, is it possible to run Home Assistant while my mac is sleeping? (My mac is my home assistant server, I am extremely new to this lol)	3	['MildMastermind: No. Sleep mode is a mode where your computer powers down pretty much everything except your RAM so that you can start it up again faster. It inherently cannot do any work in sleep mode', 'forbiddenlake: no', 'live_archivist: Pickup a low power usage machine that runs all the time. USFF machines on eBay or Craigslist are a perfect alternative to a raspberry pi. Should be around $100.']
1682511392.0	26-Apr-2023 05:16:32	Nest thermostat Matter integration	Fire4life44	85	12zfpqx	homeassistant	https://i.redd.it/k1kr9i67i9wa1.jpg	I just updated my Nest thermostat to get Matter support and the matter home assistant integration added it as a light switch. Has anyone else gotten the same result when adding?	36	"['balloob: We’re still working on thermostat support. Didn’t manage to make it in time for the 2023.5 release. It will be ready for the 2023.6 release.', 'Fire4life44: FYI, turns out that thermostats are still in development for Matter.', ""Whiffed_Ultimate: Given how crap the nest integration is, as it stands, I'm really hoping that the reason thermostats are taking so long is cuz they're actually doing it right. The fact that the prescribed way to get the thermostat to respond correctly to API request is to just spam them is absurd to me."", 'codyc1515: Try connect it to the Apple Home app. This will give you some idea. HA’s integration isn’t finished yet, hence why it’s called Matter (BETA).', 'mrpink57: How are people connecting devices to with Matter?  Do I need to use an android device to do this?  I can never get any device to connection going around with my iPhone and HA app.', 'Krojack76: So what are people using or looking to use for Matter hubs?\n\nIt would be amazing if Ubiquiti could add support to their Unifi access points. Doubt that could be a thing though.', 'bawki: Do we need to upgrade the firmware on the zigbee USB sticks for matter to work?', ""chanpod: oh, I'm about to buy my home and was trying to figure out what thermostat to use. I want ones that can work without wifi as to reduce security risk. I liked the nest thermostat but the wifi part was going to be a deal breaker this go around. But if this is true...hmmm."", 'gmaclean: It’s said that Mysa electric base board thermostats will be getting matter support in the future as well.  Home Kit works with them, but maybe it will make the process easier.', ""Uninterested_Viewer: I'm curious if Nest will be exposing the remote temperature sensors as part of the matter update. I can pull them into HA today using the unofficial nest protect integration, but a fully local, better supported option would be amazing."", 'Dominathan: Does this mean they won’t need to connect to the internet to work with HA?', ""pkulak: Nice! I've got a pair of OG Nest thermostats, and I swore I'd never buy anything Google again after the giant PITA of controlling those stupid things through a cloud...\n\nHowever! It kinda looks like this new Nest has become the best HA thermostat you can buy. Well, next release, at least.\n\nLook at this garbage I have to have in my climate script at the moment, lol:\n\n    # Google has some thundering herd issues\n    if time.localtime().tm_min == 0:\n        task.sleep(47)"", 'Uninterested_Viewer: What do you mean by a ""Matter hub""? I assume people plan to use Home Assistant to manage their Matter-compatible devices as Matter is just an interoperability standard. Do you mean Thread routers e.g. sky connect?', 'mdajr: Matter is just an API for communicating between devices. \n\nYou’re mixing it up with Thread, which is a waveform like Zigbee/Zwave/Wifi', 'codyc1515: No. Matter is the protocol (not the transport). You’re thinking of Thread.', '_Rogue136: Well, it still needs WiFi to communicate with Home Assistant.', 'balloob: Correct. Matter is local so Home Assistant will talk over WiFi directly to Nest thermostat, no extra hardware necessary.\n\nSmall edit: Home Assistant can control Nest locally but I don’t know if Nest itself can function fully without being connected to the internet.', ""Indianb0y017: Don't even have the answer but please please please please please please be a yes..."", 'virtualbitz1024:  [👀](https://emojipedia.org/eyes/)', 'jofo: >\tOnly the “new” Nest Thermostat released in 2020 is getting the update. Google still says it is exploring bringing Matter support to the Nest Learning Thermostat and the Nest Thermostat E, which are the only Nest Thermostats available in Europe. (The E was discontinued for general sale in the US shortly after the new Nest Thermostat was released.)\n\n\n[Source](https://www.theverge.com/2023/4/18/23687751/nest-thermostat-matter-support-apple-home)', 'Krojack76: So in theory Matter would work for all devices on Zigbee, Z-wave, and Wifi assuming the device supports it? What about Bluetooth?', 'chanpod: Oh, no ZigBee/zwave?', 'Sir-Barks-a-Lot: Is that consistent with all things wifi?  Does that mean my tplink, and wyze plugs can use matter instead of their app integrations?', 'ivanatorhk: Yes. Matter compliant = local control', 'codyc1515: Nope. Matter operates over IP. So it only works with Wi-Fi and Thread. Some Thread devices might use Bluetooth for commissioning but that’s about the extent of it. Zigbee and Z-Wave hubs could be updated to Matter but typically not the devices themselves (with very few exceptions).', ""_Rogue136: Correct, I don't believe the Nest Thermostat has a Thread modem either which is a real bummer."", 'Krojack76: There are some of those. The Honeywell T6 Pro seems to be a popular Z-wave one.', 'balloob: Yep. I got new TP-Link Tapo Matter plug when it came out, powered it on, got a pop-up on my android phone if I wanted to set up a Matter device, clicked yes, selected Home Assistant, followed instructions and it was done. No TP Link app needed to be installed.', ""chanpod: Yeah, seems I'm going that route. Which is fine I guess. Sucks they charge as much as a smart device but still has that dated look."", ""msalad: Awesome that it was so easy. I couldn't get their Kasa Matter plug KP125M setup through Matter of wifi, it only worked in the Kasa mobile app"", ""Krojack76: Wouldn't the device firmware need to support it though? I have a hard time believing companies like Tuya are just going to let their devices go like that. They already patch them to prevent flashing custom firmware. There is a reason they teamed up with HA to add a support directly in HA while still using their cloud."", ""Krojack76: Yeah, they are somewhat dated looking. The Nest looks nice but over all I hate the system. For example, I had to disable it auto home/away mode because it just kept flipping to away while I'm at home and my place starts getting cold. I even had to go as far as remove away temps and set the same temp. In fact, I just checked while typing this and it things I'm not home right now for some stupid reason.\n\nThe only reason I still have it is because I get a $25 gift card twice a year from the power company for being enrolled in their auto-adjust system during peek usage times."", ""balloob: Correct, the device needs to support Matter for this to work. And if the device is talking via Thread instead of Wi-Fi, you'll also need a Thread Border Router (like Home Assistant SkyConnect).\n\nIf Tuya sticks to cloud devices, then make sure to vote with your wallet and buy devices that work locally instead!"", 'sharp-guru: I do not have a SkyConnect. However I do have HomePods, which shows up under other networks in the Thread integration. Would I be able to use Thread devices in this case?', ""balloob: The Home Assistant app needs to be granted special access by Apple to be able to access the Thread credentials and we are not approved yet. We're working with them to get this resolved."", ""Maleficent-Narwhal19: u/balloob, all what you said sounds really awesome!\n\nMay I ask which Tapo plug supports now Matter?\n\nThat part about Apple, is quite interesting. Shouldn't be Matter open without any special certification by any of the manufacturers? Shouldn't be just be Matter certified to be able to communicate with other Matter devices?""]"
1682510582.0	26-Apr-2023 05:03:02	I am unable to get an NFC tag toggle a group	houghi	1	12zfdvn	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zfdvn/i_am_unable_to_get_an_nfc_tag_toggle_a_group/	"I have made a group that works. I also have a toggle to turn everything off and on. I am unable to get it work with a tag.

The group

     group:                                
      AllLights:                
        name: ""All Lights""      
        entities:                     
          - light.wled_04                 
          - switch.iot_02       
          - switch.iot_03  
          - switch.shelly_plug_s

The switch

    show_name: false
    show_icon: true
    type: button
    tap_action:
      action: toggle
    entity: group.alllights

I want to toggle this with a NFC tag. I am able to turn things on and to turn things off, but I am unable to get the toggle right for the group. I do have a toggle that turns off and on a light. But that just toggles one light and I could add more lights, but not all will be on and I want them all to turn off when I leave and on when I come bacl with obviously the same tag.

What I have is :

    - id: 'xxxxxxxx'                                
      alias: Leaving the house                     
      description: ''                              
      trigger:                         
      - platform: tag                              
        tag_id: xxxx-xxxx-xxxx-xxxx-xxxx
      condition: []                                 
      action:                                      
      - type: toggle                               
        device_id: 12345678abcd
        entity_id: switch.iot_03                   
        domain: switch               
      mode: single   

So what should I add or do to make this work?  Looking online, but I am unable to figure out what is the correct information and the examples I found with leaving the house were not what I needed. If more info is needed, please just ask."	2	['mondocu: Have you tried to replace switch action by light service that toggle light group?', 'houghi: Yes, I tried using `entity: group.alllights` instead of `device_id: 12345678abcd` and `entity_id: switch.iot_03` and that did not work.']
1682507318.0	26-Apr-2023 04:08:38	Which smart tools do you use to care for loved ones?	Max999444	9	12ze4qr	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ze4qr/which_smart_tools_do_you_use_to_care_for_loved/	"Dear members,

My grandfather, 87, lives about 1h away from me. Unfortunately, I can't drop by every day. I often worry that something will happen. On the phone, he usually just says that he is fine. But often he just says that just so we don't worry.

Does anyone here have a similar problem? Do you use certain technical aids that indicate when something is wrong? The personal alarm button is not quite optimal, since this is used only in case of falls. But what about smaller health problems like loss of appetite or insomnia? Unfortunately, I do not know anything that indicates this.

Best regards,

Max"	10	"['CrustyBatchOfNature: Secondary indicators could help.  Example, sensors that show when the pantry or fridge are opened and closed indicate someone getting food or drink.  Presence sensors could indicate someone being up and about.  You would need to capture it and track the times but those could help.\n\nIn the end though, this is a people in the house issue.  Somebody has to go see him as often as possible.', 'OptimumFreewill: What about the new aqara sensors that detect presence and movement? Cameras are obviously intrusive.', ""whlabratz: Tbh, this doesn't sound like a technology problem.\n\nMaybe next time you are around, see if there are any neighbours your grandfather likes - see if you can leave contact details with them in case they notice anything they are worried about. It might also be worth seeing if there are any elder support services in your community - we could get a community support person to drop in every week for my wife's grandmother, was really helpful having a slightly more objective eye to see if she was managing ok on her own"", 'Yateswdy: I actually used a Portal which helped stay in contact. I simplified the use, set up a few numbers and made it only a few clicks. We were able to see how they were doing visually and they also enjoyed seeing us.', ""doglar_666: I haven't done this personally but I have gone through the thought exercise for what I could do to support my mother, as I'm not residing in the same country as her.\n\nMinimal, non-intrusive setup would be an RPi4, running HASSIO, using a 20k mAh powerbank as a makeshift 'UPS' to avoid SD Card corruption upon mains power failure. By my rough calculations, a 10k mAh powerbank could power an idle RPi3b+ for approx 24 hours, so double the juice should cover HASSIO integrations running 24/7. For overkill, also run an LTE hotspot/router with its own powerbank to remove reliance on mains powered internet.\n\nIntegrations would include TV, Media Players, Smart Bulbs, Smart Blinds/Curtain Rail, Doorbell Camera with live feed and recordings. So I could track basic usage, to monitor her routine and also know who's calling to the house/when she leaves and returns to the house.\n\nMore intrusive devices would be cameras in most rooms, with movement detection and recording/logging. 2 way mic/speakers in the cameras. A pressure sensor in the bed to detect when she gets in and out of bed. Possibly sensors in favourite chairs in the living space. Emergency buttons in each room that dial me/local emergency services. I wouldn't count on using a wearable to do fall detection, as it is reliant on her remembering to wear it and charge it. Lastly, HA mobile app with high accuracy GPS tracking enabled to track movement outside of the home, in the case of getting lost or being unable to contact via phone.\n\nMost of the intrusive stuff would need consent and trust. What I've proposed is costly and very Big Brother but it is highest visibility, which is what would give me peace of mind. As my sister lives nearby, it will likely remain a thought experiment and not need to be implemented.\n\nDepending on your grandpa's level of technical competence, you're probably better off getting him a TV with an in-built camera and scheduling regular Zoom or Skype calls to supplement physical visits. The less button clicks involved the better. e.g. TV on > Press button X to accept the call. (You could use HA integration to control this and remove your grandpa entirely). The more you interact with your grandpa, the more he will confide in you. If you can get other family members to call too, he'll have a great support network in place."", ""dcmsjc: I have been building a solution to address the issues of my parent's living 2000 miles away and my worry about their activity and wellness.  Check out [github.com/ageathome](https://github.com/ageathome) repository; it's not complete, but it's getting there.  Focusing on automation for setup and management of HA integrated devices and smartphone for Owner (i.e. HA owner/admin) and a Primary (i.e. spouse, care giver, ..)"", 'Piratartz: A smart watch with HR and step counting. If HR is abnormal, call and check. If steps stop outside of sleep, he may have fallen.', 'mingleman82: They even detect falls - FP2 sensor', 'Max999444: I have thought about developing smart plugs. The idea is to record whenever a certain device in the household is used, i.e. TV, bedside lamp, fridge. During the first two weeks the typical behavior is determined. After that, whenever behavior deviates from typical behavior, a text message is sent to a relative as underyling health problems might be the reason. For example, if the bedside lamp is turned on eight times instead of two times this might indicate insomnia. If the fridge is opened two times a day instead of five times, a lack of appetite might be the reason. \n\nWhat do you think about this?', ""doglar_666: I think it is a good idea. It'd still likely need buy-in from the relative involved. But it is less invasive than cameras. How would you handle detections? Would the plugs need to calibrate based on power draw per device?""]"
1682507001.0	26-Apr-2023 04:03:21	Local Smart Plug	aprettyparrot	24	12ze0mn	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ze0mn/local_smart_plug/	"My attempts on google for a non cloud smart plug did not go well. I really do not like shit having to use a cloud service if at all possible.

Does anyone know of a local wifi plug they recommend?"	115	"[""pklijzing: I'm using smart plugs from ATHOME which come pre-flashed with ESPHome, they are local.\n\n[https://www.athom.tech](https://www.athom.tech)"", 'CloudSad3555: Depends on your needs. Shelly devices can be ran local only. You would need internet access to update firmware, but not other than that.', 'MowMdown: Most any Zigbee Based smart plug will work 100% local\n\nSome examples of these are Philips hue and Ikea plugs.', 'The_Mann_In_Black: I use tp link/Kasa plugs. I use their app to get them on my wifi and then I use home assistant to control them.', 'SteveM363: [https://www.athom.tech/](https://www.athom.tech/) sell plugs with Tasmota or ESPHome. I bought a couple recently and am very happy with them', 'aram535: https://cloudfree.shop/product/cloudfree-smart-plug-runs-tasmota/\n\nI use a bunch of these for simple plugs.', 'Zirowe: Forget wifi, go the zigbee way and you can forget about the cloud.', ""Purple_Associate5488: I'd highly recommend [these](https://www.mylocalbytes.com/products/smart-plug-pm), they also come with energy monitoring. \n\nCan get them in UK or EU variant."", 'uosiek: Shelly and Zigbee devices are the way to go.', 'ThePantser: Sonoff S31 or S31 Lite, the non Lite has energy monitoring. You then flash it with tasmota. Flashing it super easy if you can solder. Then you just attach a FTDI flasher and flash tasmota. There are many guides so here is one https://www.adventurousway.com/blog/sonoff-s31', ""amarao_san: Ikea with Zigbee works just perfectly with HA. No cloud involved. For wifi stuff people uses tasmota firmware and hunts for flashable devices.\n\nIkea is 'external' (e.g. is plugged into wall socket). For embedded options (placed into socket) you need to use either a smart relay (€5-10) into a mounting box, or a in-wall smart socket.\n\nThe last option is super rare (and is actually expensive). I'm waiting for my first try to arrive, will post report after trying it."", ""justinhunt1223: You can flash tasmoto/openbekken on many of these devices. It may sound daunting at first, but it's way easier than you think and the end result is exactly what you want. I've flashed outlets, recessed lights, and some nspanels with it."", ""Abe677: I acquired enough stuff to flash Sonoff S31 wi-fi plugs with ESPHome, so they're my go-to for wi-fi plugs. The key piece of equipment was a 6-pin clip that works perfectly on these plug boards."", 'MajklBastlirnowy: I recommend Shelly devices', 'GuaranteePublic3650: We propose the Theengs Plug for North America:\n\nhttps://preview.redd.it/1x8f860su9wa1.png?width=1080&format=png&auto=webp&v=enabled&s=a88e6dae6c050d33bd740d2d97b697d30e7159a9\n\nThe plug works locally through MQTT, does Energy monitoring, and acts also as a BLE to Wifi gateway supporting [more than 70 sensors](https://decoder.theengs.io/devices/devices_by_brand.html) \n\nAvailable for: [39.90USD](https://shop.theengs.io/products/theengs-plug-smart-plug-ble-gateway-and-energy-consumption) in the Theengs [shop](https://shop.theengs.io/)\n\n[https://shop.theengs.io/products/theengs-plug-smart-plug-ble-gateway-and-energy-consumption](https://shop.theengs.io/products/theengs-plug-smart-plug-ble-gateway-and-energy-consumption)', ""psychicsword: I have a few of the [Minoston Z-Wave Plus Outlet](https://www.amazon.com/dp/B08FM3NFCP) plugs. They aren't wifi but personally I view that as a huge plus and I like Z-Wave over zigbee due to the 2.4 Ghz congestion problem in the city."", ""Zavadi10508: Hey, I totally get your frustration with having to rely on cloud services for smart plugs. It's definitely an issue that many people have raised concerns about. As for your search, have you tried looking into TP-Link Kasa smart plugs? They're a popular choice for local wifi plugs and don't require a cloud service. I've used them myself and have had a pretty good experience with them. Hope that helps!"", 'ReyvCna: Why Wi-Fi? I use Zigbee switches and plugs and they work really well. I bought them on AliExpress for 5-15$ each.', 'dragonGOD8: I just bought a bunch of these, they work locally out of the box. Just takes a bit of setting up and assigning static IP addresses via your router:\n\nKAUF Power Monitoring Smart Plug with ESPHome, Compatible with Tasmota, Made for Home Assistant (4) https://a.co/d/eOaBnzm', 'Sorodo: Aqara (ZigBee)', 'n6_ham: I bought 8 Sonoff S31 from Amazon and flashed them with ESPHome. Very happy with them', 'peterxian: I always check the [blakadder listing](https://templates.blakadder.com/preflashed.html) for devices pre-flashed with Tasmota. I have several from cloudFree that are good; I returned my Kauf plugs after early failures. \n\nSonoff S31 are very easy to flash, but you need to invest $10 in a usb serial adapter and some wires. \n\nFlashing without wires (over-the-air) is rare these days, as tuya-convert has been patched and tuya is abandoning esp chips. Now there is tuya-cloudcutter for certain non-esp devices, but the list is growing.  \n\nPersonally I recommend the SwitchBot mini plugs because they can be flashed OTA using only bluetooth / dns tricks, are esp32-based (for bluetooth proxy), and can be found on sale for $20 a 4-pack.', 'flaquito_: KAUF makes ESPHome-flashed smart plugs made specifically for Home Assistant: https://www.amazon.com/KAUF-Monitoring-ESPHome-Compatible-Assistant/dp/B0BKR2CMJN/', 'BuJZaMc3m6945Ae3w4uh: Swidget! You can turn off the Cloud component and use it locally.', 'aprettyparrot: Ok great, I will note shelly for future and see if I can flash what I’ve got. Thank you much appreciated :>', ""wsdog: Pretty much nobody makes local devices. You have two options: 1) ZigBee/Z-wave but your choice of hardware is limited and it's expensive, 2) buy a wifi device and flash open source firmware on it. This will require some tinkering and maybe disassembly of the said device. Good luck."", ""Necessary_Ad_238: Im using a bunch of the Sonoff S31's flashed with Tasmota. works great"", 'FredJohnson100: Innr smart plugs? As they are ZigBee I use them via Home Assistant.', 'HTTP_404_NotFound: I am up to around 16 of the sonoff s31s.  \n\n\n[https://static.xtremeownage.com/blog/2023/sonoff-s31-low-cost-energy-monitoring/](https://static.xtremeownage.com/blog/2023/sonoff-s31-low-cost-energy-monitoring/)  \n\n\nWorks fantastically well. I run esphome on them. They do energy monitoring too.', 'teranex: HoneWizard is pretty good. By default they use a cloud connection, but once added to HA you can disable their cloud connection through the HA device settings', ""techramblings: What's available is going to depend heavily on your part of the world, but here in the UK, these are the best/cheapest I've found so far:\n\n[https://www.amazon.co.uk/gp/product/B09QQCWVNN](https://www.amazon.co.uk/gp/product/B09QQCWVNN)\n\nThey're easy to flash with Tasmota firmware using tuya-convert (no need for soldering, just done over-the-air). Then you can use Tasmota's MQTT support to feed them into HA. They support full power monitoring as well as basic switching."", ""3d-designs: I'm using run-of-the-mill Tuya ones but connected via the LocalTuya integration. This approach needs no re-flashing and you can opt to also use the Tuya/cloud app if you'd prefer."", 'mrpink57: The Feit and Stitch ones can be setup through LocalTuya, that is how I have mine all setup, I just need them to switch on and off.', 'docwisdom: SONOFF zigbee s40', 'NotSureBoutDaEcomony: I use zwave plugs by New One, Everspring, and EvaLogic. These don’t need to connect to the cloud to work locally.', 'sic0048: Anything that can run Tasmota or ESPHome.    They are custom firmwares that you flash on the device (or buy the device with it preinstalled).  It does a lot of things like remove all cloud/internet dependancies, adds MQTT support, Alexa support (again without internet requirements), etc.', 'severanexp: All zigbee plugs are local, what you on about?\nIkea, xiaomi, aqara, sonoff, all have them iirc.  \nEdit: ooops, missed the wifi. Sorry about that my bad. Have you considered a sonoff basic flashed with tasmota? It’s not pretty but super effective and easy to do.', 'NotAServiceDog: I just switched over all my cloud plugs (7) for zigbee. Never going back to wifi controlled. I picked up a $30 zigbee dongle that works on my Pi so it’s a zigbee router now. Zigbee is so fast.', ""JewsusKrist: If you want to get your hands a little dirty flash tasmota on a sonoffs s31. Best locally controlled plug solution imo and I've got dozens with different brands"", ""LNDN91: Any zigbee device can be local only depending on how far you are willing go to set it up properly. Almost all zigbee devices haven't been to recently released or have exclusive features can be linked to a zigbee dongle for local connection. Wifi on the other hand is a bit tricky. You'll end up usually needing to flash new firmware."", ""WindowlessBasement: Does it need to be Wifi?\n\nI've been using Ikea plugs and a ZigBee usb stick for years and they have been great. You're already running Home Assistant which talks to Google and can pass non-wifi plug to Google home for voice controls."", 'Moldy_Cloud: I strongly recommend checking out Eve Energy’s smart plugs! No registration or cloud-service required. They’re a little spendy, but they’re a fantastic product.', 'richardwonka: Why not zigbee? All local every time.', ""Cheetawolf: I started my smart-home experience with Tuya Smart Life, then moved to Home Assistant. \n\nThere's an Integration called Local Tuya that lets you control Tuya devices locally, no need to re-flash anything."", 'devhammer: I’ve used both IKEA Tradfri outlets and Sengled outlets. The latter are better, IMO, because they include power monitoring, and have a button for manually turning the connected device on/off. \n\nThe IKEA outlets are cheaper, but offer no manual control, so if HA is offline, you’re kind of hosed. \n\nBoth are Zigbee-based.', ""petervk: I have a bunch of sonoff smart plugs that I've flashed with ESPHome to make them local only. It takes a bit of work to flash them the first time but really satisfying, stable, and I have no privacy or security concerns at all."", 'serdasteclas: I use ekaza plugs with local tuya integration, works perfectly offline but extracting local keys is a bit annoying on setup.', 'zivkovicjan: I\'m using ""shelly plug s"", works over wifi, can disable cloud or even flash firmware to esphome/tasmota...\n\n[https://www.shelly.cloud/en/products/shop/shelly-plug-s](https://www.shelly.cloud/en/products/shop/shelly-plug-s)', ""Ok-Jury5684: I use Sengled Zigbee plugs with energy monitoring. Also, in places where I don't need energy, but need USB, I use WiFi Teckin SP-25 plugs, reflashed with ESPHome (had them from being dumb and buying Tuya, but luckily, Tuya-convert works for them). I love, that you can control main socket separately from USB."", 'SqueekyJuice: Aqara plugs work pretty well.  Just need a bridge', 'primoslate: Highly recommend [KAUF plugs](https://www.amazon.com/dp/B0BKR2CMJN?ref=ppx_pop_mob_ap_share) — they also measure power, voltage and expose all kinds of fun things to HA natively. 100% local.', 'FactoriedMyAuth: Since I decided on Zigbee 3.0 for most of my devices, I have found the Sengled plugs to be great. They expose a bunch of information to HA and are really good Zigbee repeaters. The only gripe I have with them is that they are not dual-socket.', 'mattvirus: Sonoff s31.  Easily flashed to tasmota or esphome without soldering .  Cheap, and many video guides on YouTube showing how.', 'tungvu256: i like this zigbee smart plug   [https://www.youtube.com/watch?v=MtmqNFytADQ](https://www.youtube.com/watch?v=MtmqNFytADQ&t=2s)\n\na lot better than wifi because these zig are mesh network capable', 'jellewie: This, I use exactly this and its awesome, I also use the Sonoff mini R2 to make stupid light bulbs smart', 'goobags_: I have had lots of problems with Tuya based smart wifi plugs just randomly failing after a year or two. Recently started the move over to Athom plugs and they are so much easier to use than anything Tuya based. Haven’t had one fail yet but they have only been in for a few months.', 'Sjorsa: I also vouch for Athom. Very affordable and fully local without any other apps or services', 'logikgear: THANK YOU! This site is awesome! I never knew these products existed.', 'fastcar123: I am also trying to figure out the same thing that OP is.\nWith the devices on this we side, can I just connect them directly to HA or would I need to go through a third party like tuya?', ""Eysenor: Yeah I'm using some of those and they are really nice. They can work with cloud or not and there is an option to turn that on and off to be sure."", ""frrst: I also have few Shelly Plug S variants and it was easy to set up and in the menu there's option to disable cloud. \n\nI've used other Sonoff devices (WiFi ones I've always flashed with esphome) but no plugs though as Shelly ones are smaller. \n\nBTW pay attention to power rating. Plug S defaults to 1800W which can be increased to 2500W, but it will shut down when this limit is reached. \nIf you need more, the might be non-metering plugs that support higher loads"", 'Kitchen_Software: Came to say this. Internet access is blocked via router, and they work just fine (local only) via HA', ""CuppieWanKenobi: You don't even need to use their app - you should read up on Python-Kasa."", 'avatarpichu: JUST MAKE SURE NOT TO UPDATE THE FIRMWARE after you connect them to Wi-Fi or they might not work with homeassistant', 'aprettyparrot: Those look great, I will look into flashing some of the ones I have with tasmota before I buy anymore, may try out one of their bulbs too. Thanks', ""ralphius: Another vote for these, I've got a few of them and they've been working perfectly for years."", 'pyrodex1980: I second these at least on the ESPHome side. I am replacing all my KASA ones with these. You can upgrade these live without a loss of power to the underlying device attached, this has been my experience so far when going from 2023.3.2 to 2023.4.0. \n\nAlso same level of power management and guess what? No cloud….', ""amarao_san: Thanks, ordered one for a test. Will see how it's going."", 'dibsODDJOB: Those look identical to the Sengled Zigbee plugs I just got, but cheaper. I wonder if they work identical when connected/controlled via HA.\n\nEdit: I take that back, I realize they are wifi, so not the same as the Zigbee ones.', 'ProfitEnough825: Upvote for providing a high voltage product that has the appropriate safety certifications. Some of the others in this thread do not meet code in the US, but yours does.', ""UnrealisticOcelot: I've got some of these as well and they work fine. My only complaint is they don't register all the power usage from my sump pump because it's on for such a short time I think."", 'Havealurksee: Yea this. Get a ZigBee usb dongle and scoop up the Ikea smart plugs from their discount/opened section. They also act as zigbee mesh routers.', ""ewlung: This looks good, I'm interested in the energy monitor. How is it? Reliable?\n\nI'm not familiar with Tasmota, is that WiFi?"", 'Ashley-Ashley: Yep very good devices, no drop outs.. I did have one which was very off on the power consumption, but I just loaded the config from a correct socket and that sorted it.', 'aprettyparrot: Yeah gonna have to get zigbee because the blinds I ordered use it', ""ltloopy: >out the same thing that OP is. With the devices on this we side, can I just connect them directly to HA or would I need to go through a third party like tuya?\n\nYou don't need to solder them to flash. I have a set of test hook clips and you just clip them onto the pads.\n\n[https://www.amazon.com/gp/product/B08M5GNY47](https://www.amazon.com/gp/product/B08M5GNY47)"", ""mccmax95: +1 for sonoff with tasmota flashed.  Also what is the 6 pin clip you're talking about?  I've just been using [these.](https://a.co/d/0XTEcwk)"", ""Berzerker7: Seconding these. I have them all over the house and they're fantastic; work quite well."", 'aprettyparrot: Don’t have zigbee connectivity yet', 'kcornet: I use several of these and they work very well.', ""hirscheyyaltern: The third option is to buy a tuya device and use the tuya local custom integration then block internet access for the device. obviously requires internet access to set up but it's the probably most cost-effective solution if you're not planning on going all in"", ""CeeeeeJaaaaay: 1. ZigBee is usually dirt cheap. Z-Wave is more expensive.\n2. There's quite a few local WiFi options. Shelly is the most popular one."", 'pklijzing: The ones that I use, with ESPHome, can connect directly to HA with the ESPHome integration: [https://www.home-assistant.io/integrations/esphome](https://www.home-assistant.io/integrations/esphome)', 'The_Mann_In_Black: I should block them on my router, thanks for the tip.', ""dibsODDJOB: Can you actually turn off the wifi at the plug so it's not clogging up my signal?"", 'The_Mann_In_Black: I’ll check it out, thank you!', 'peterxian: Check out the [PowerDelta](https://tasmota.github.io/docs/Commands/#power-monitoring) and PowerHigh/Low commands in Tasmota to adjust the reporting sensitivity.', 'Gunner237: (Not OP) Yep, they’re WiFi. The energy monitor seems pretty reliable - I’ve got around 20 of them, but haven’t verified the power consumption (I just use it as a guide to see what is using more power/energy than other devices, rather than actually needing to know the number of Wh). The energy and power data refreshes pretty quickly on their own Interface (multiple times per second), albeit a little slower in HomeAssistant (maybe once every 2-3 seconds?).\nYou get a lot of data from them as sensor data in HA: Apparent Power, Current, Power Factor, Power, Reactive Power, Energy Today, Energy total, Energy total StartDate, Voltage, and Energy yesterday, and do integrate nicely into the energy dashboard', 'Stroodle96: If you plan to use ZigBee then I highly recommend the sengled ZigBee plugs. They have energy monitoring to that works well. \n\nI have never had any of mine go offline and they work fantastic as ZigBee routers for all my aqara and sonoff ZigBee sensors. \n\nThey are cheap to buy in a 4 pack when they go on sale. I got them for like $10 a piece. They go on sale pretty frequently. But even at the non sale price they are really good.  I use ZHA.\n\nIf you want wifi then the athom devices are great with esphome. I really like their relays and their WLED controllers are fantastic for the price.', 'ThePantser: I have never had good luck with clips they always seem to pop off in the middle of a flash. I have a good soldering iron I think I can solder onto the pads faster than the clips.', ""skaterrj: I'm doing the same as well.  I've flashed 6 without problems (except for one that didn't let power flow to the outlet even before I flashed it).  Those clips you linked are what I used - much, much easier than soldering the leads to it temporarily."", 'satamusic: probably pogo-pins like this https://www.printables.com/model/11389-pogo-pin-programming-clip-for-sonoff-s31-modules but the grabby test hook clips you linked to work fine. i flashed my s31 plugs with those same.', 'Abe677: https://www.adafruit.com/product/5433?gclid=CjwKCAjwl6OiBhA2EiwAuUwWZeDzOvucK-o-CL4V-e1Qnla8AlgYdW7NsA-wpliMzdUUUmwvQgQ2ZxoCxQQQAvD_BwE\n\n6 pin test clip. You have to make sure the one you buy has the same spread as the pads on the Sonoff plug board.', 'HisCromulency: There some combo Zigbee/Zwave USB sticks on Amazon for around $40. Worth it IMHO', 'ReyvCna: A zigbee usb stick costs like 20-25$. I don’t understand the issue here', 'b3542: Get it.', ""wsdog: Yeah, but i don't have much experience with it."", 'wsdog: 1. Show me a dirt cheap ZigBee plug\n2. Yes, there are a few. Shelly doesn\'t make plugs btw, only relays. And there are a few ""preflashed"" options but they are usually crap (except MJ).', 'jnecr: But then your smart switch is a dumb switch.  Why would you want to turn off the Wifi on the device?', ""UnrealisticOcelot: Thanks! I was wondering if there was something like that, but haven't had the time/desire to research it."", ""ewlung: Thanks, sounds good. Their price is also reasonable. I think I am going to get this. WiFi is okay, as long as it's confirmed local only, which it is with Tasmota. I cannot block anything from the internet, because I don't have firewall yet."", 'mccmax95: Cool just wanted to check because the way it was phrased it sounded like you had a specific clip for the board haha.  While they are 100x better than soldering, they can still be a bit finicky when trying to fit them all on the board at once.', 'mccmax95: Awesome thank you!', ""mccmax95: Out of curiosity, how would you go about figuring the correct spread?  From just eyeballing it, the one you linked looks correct but I don't want buy the wrong one."", 'MrJacks0n: They work but are not great, and are not current standards (old zwave)', 'mailtest34: Can confirm, Sonoff # 20 Zigbee stick is pretty solid on my RPi3  \nEdit [https://www.mylocalbytes.com/en-eu/products/sonoff-zbdongle-zigbee-usb-3-0-dongle-plus](https://www.mylocalbytes.com/en-eu/products/sonoff-zbdongle-zigbee-usb-3-0-dongle-plus)', 'MowMdown: [Dirt Cheap Zigbee Plug](https://www.ikea.com/us/en/p/tradfri-wireless-control-outlet-smart-30356169/)', 'CeeeeeJaaaaay: 1. Aliexpress is full of them. If you look at the Z2M database you can find dozens.\n2. They make quite a few plugs. Shelly Plug / Shelly Plug S and the Plus versions (ESP32 based).', ""NCC1941: [Another Dirt Cheap Zigbee Plug](https://www.amazon.com/dp/B0BPY5D1KC)\n\nGranted, it's a 4-pack, but it comes in at $9.75/plug with energy monitoring, or $7.75/plug without energy monitoring."", 'dibsODDJOB: I thought it was Zigbee too, was mistaken. but in some cases some people just want to program it and then let it control itself. think an arduino without wifi.', 'LNDN91: He maybe wants a feature switch.', ""skaterrj: I'm not the one you originally replied to, sorry.  I just wanted to share my experience with that particular solution.  :)"", ""Abe677: I'm traveling until this coming weekend. I can open a plug, measure the pads & identify the right clip. I have a micrometer to do the measuring."", ""wsdog: 1. Most likely they are crap lol\n2. Wow, I didn't know about that. Although quite expensive."", 'mccmax95: Completely missed that haha thanks for sharing 😁']"
1682506765.0	26-Apr-2023 03:59:25	Smoke detector with presence, CO2 and temp sensor	pmeeke	45	12zdxc2	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zdxc2/smoke_detector_with_presence_co2_and_temp_sensor/	Does anything exist that would have everything all in one unit?	55	"['nerdalertdk: Found an Zwave that did that [https://heatit.com/product/9436/heatit-z-smoke-detector-230v](https://heatit.com/product/9436/heatit-z-smoke-detector-230v)\n\nBut cost the same as an nest', 'Necessary_Ad_238: I have the Nest Protect\'s. It is kinda ""hacky"" to get the data pulled into HA but it works. \n\nhttps://preview.redd.it/5fta7e77i9wa1.png?width=333&format=png&auto=webp&v=enabled&s=a412c2e5c3ff3899c66c3f58576139f957c682f9', ""dp917: This does a lot. There was a lot of hype when announced but haven't seen anything since they came out\n\n[https://getowlhome.com/](https://getowlhome.com/)"", 'Whiffed_Ultimate: Airgradient Pro has CO2, TVOC, RHEL, TEMP AND PM. Its open source, runs from an esp 8266, and has expansion header built in. You could easily add your own presence detection to that. For $120US, I think its about the best setup. Intergrates through MQTT with a tweaked firmware, or esphome natively.', 'masterofmoneyzz: Nest protect does this, but is expensive and some people have connection issues with HA', ""MRobi83: I don't know about in the US or UK, but here in Canada smoke detectors must be certified . A quick google search suggests at least similar in the US. So that's something that you need to consider. If you do have a fire and are using a smoke detector that's not certified to your countries standards, even if the smoke detector did it's job and worked, you may be denied coverage from your insurance company.\n\nSo brush up on your laws in your areas and certifications on the device you're looking for before making a purchase. I will say, the Nest Protect works great and covers smoke, co and motion. Also has a cool nightlight. All is exposed to HA through a third party integration. And you know if Google is selling it in your area, then they've gone through the legal hoops needed to certify it. For that reason it's hard for me to recommend anything else."", 'sgxander: I too want something that does this and links to home assistant', 'fodi666: the [everything presense one](https://github.com/EverythingSmartHome/everything-presence-one) by adding an esphome compatible co2 sensor to the gpio headers?', ""CharityConnect6903: You don't need a CO2 sensor. You need a CO sensor. Some smoke detectors are combo units that have CO detectors in them as well as smoke detectors. First alert makes a combo unit that runs on the Z-Wave protocol."", 'digitydogs: If you like getting your hands dirty you can easily build a device that does of all that (using esphome) for under $20.', 'blentdragoons: nest', ""Krojack76: It really boggles my mind that these all-in-one sensors like this aren't more popular. What few there are, they cost an arm and a leg. These are devices they recommend you replace every \\~10 years too."", 'pmeeke: Looks like a perfect option :)', ""Rolling_on_the_river: Wouldn't necessary call PIR presence detection though."", 'nw0915: >Product is not available for order.', 'mgahs: by ""hacky"", are you referring to the HACS integration that\'s available?\n\nhttps://github.com/iMicknl/ha-nest-protect\n\nI\'ve had good luck with this, no pain points.', 'tungvu256: is that reall mmwave presence or PIR presence?', 'lord_mundi: are there any HA integrations for this?', 'pmeeke: This is a fresh start for me. New home and first install with Home-assistant. Currently all I have is about 15 hue lamps & one hue sensor which I hate, far too bulky and looks like some sort of spy-cam. I want to be sure to make a good start. The reason for an all in one option is simply for the hall and living-rooms, keeping the clutter down you could say.\n\nI have been reading up on the ESP stuff and it does look interesting, but for the hall and livingroom I think I need something that is easy on the eye, (approval from the other half).', 'pmeeke: You have gave me an Idea....\n\nGet a good compatible smart smoke detector and carefully (butcher) it to fit the ESP sensors in?\n\nIt would certainly be a big task, but with patience and careful planning could work?', 'IPhoenix85: Wow. Seems like if I could add a mmwave sensor to this, it would be amazing', 'AppeltaartNL: I thought Nest protect does CO, not CO2', 'bencos18: Something like the scd40 would be good on that auctully come to think of it lol', 'JTP335d: Maximum is 10 years. The smoke sensor degrades over time. Here in Canada, we now need one in every bedroom also. I’ll keep my interconnected cheap first alert smokies connected to one relay and zwave sensor for home assistant. Way too expensive to replace multiple $200+ devices.', ""_walden_: ~~That's a photoelectric detector, so I wouldn't recommend it near the kitchen. Ionization is better near the kitchen because you'll get fewer/no false alarms. Just thought I'd mention it.~~\n\nNevermind, I'm wrong."", ""nerdalertdk: It's a nordic company so check what zwave frq. you need. don't know if they make an US version"", '1aranzant:  *HACKERMAN*', 'evilspoons: Oh hey I didn\'t realize there was a Protect integration, awesome. I just assumed I had missed the boat on the whole ""Works with Nest"" API shutdown.', ""Necessary_Ad_238: Yes, just in that your copy/pasting your session tokens from the browser. It works fine as long as if you don't hit sign out of all devices (which for security reasons I like to do every couple weeks) in your Google account you have to set it all up again from scratch."", 'Necessary_Ad_238: Pir.', 'creedda: It’s homekit compatible so you can use the homekit integration I would assume. They also just announced matter support.', 'dp917: Not sure', 'Whiffed_Ultimate: I cant speak for your other half but mine doesnt think they look bad. If you dont want all the screen, you can ditch that for a MUCH smaller and more compact form factor, sans the usb cable ofc but you can smack a battery in it. As for the smoke detector, you might run into space constraints trying to pack a esp into a prebuilt device but I would say try it out.', 'zacs: Zooz actually just released a [z-wave signal sensor](https://www.thesmartesthouse.com/products/zooz-800-series-z-wave-long-range-dc-signal-sensor) specifically meant to tie in to dumb smoke detectors (Kidde, etc). Once my Nest Protects reach EOL this seems like a good cheap but reliable option.', 'Not-An-Astronaut-69: I think OP might have meant CO.', ""pmeeke: Having them in every room is madness! I'm sure that requirement will soon sneak its way over here to the UK!"", 'gjs520820: My experience would say the opposite. Use photoelectric near the kitchen. Had too many false alarms with ionization smoke detector near the kitchen.', ""pmeeke: I'm UK based."", ""nw0915: > (which for security reasons I like to do every couple weeks) \n\nHow many devices are signed into your Google account? Can't you just look and see if you have any unrecognized devices listed?"", ""lord_mundi: i definitely wouldn't buy anything that didn't have local control. stuff that relies on the cloud or proprietary apps is as good as renting the hardware in your home - you will never own it."", ""pmeeke: Maybe being a bit overconfident on  my first project lol.\n\nThe Airgradient comes with a cloud subscription? I take it you don't need that to integrate into home assistant?"", 'pmeeke: Looks like a handy piece of kit. Cant find the UK model :(', 'pmeeke: Yip lol', 'Whiffed_Ultimate: Stagnant air and elevated CO2 levels have been shown to cause reduced alertness, focus, and cognitive ability after continued exposure.', 'JTP335d: Yup. Madness! Gotta wake everybody up! Not every room though. One on each floor and one in every bedroom. Technically your survivability in a house fire (while sleeping) is much higher if bedroom doors are closed and as such there should be a smoke detector/siren in that room too. Recent code update here.', ""_walden_: Ooops, you're right. I'll make an edit. Thanks."", 'pmeeke: Heat detectors for the kitchen. Usually measured on ""rate of temperature rise""', 'creedda: 100% agree', 'JTP335d: If it’s HomeKit compatible, it’s local. One of the perks and requirements of HomeKit compatibility. Local.', ""Whiffed_Ultimate: The air gradient has the option for cloud subscription but I don't use it. The DIY side of air gradient is meant to be self-hosted. They even mention the use of home assistant. As I mentioned above, I modified the firmware in Arduino IDE to use MQTT to post data to a topic on mosquito and listen for a reboot command. My only complaint lies with the esp8266. It has a very limited amount of onboard ROM and seems to have an issue with occasional reboots. I had this problem with the ESP home set up and with MQTT. It hasn't caused any issues in regards to data collection but your mileage may vary. I can post a screen grab of a historical data capture from the various sensors once I get home from work."", 'Not-An-Astronaut-69: Apologies, I constantly get the two mixed up. We breath out carbon dioxide CO2. \n\nI’m thinking of tracking CO which is what most furnaces emit (and why we have carbon monoxide detectors).', 'lord_mundi: i\'d need to see some more information on this. everything i\'ve seen about the homekit ecosystem and integration is that trying to use it without any internet access make it extremely crippled. For example, in the HA page for setting up the homekit integration, one of the first things you have to do is open up the apple ""home"" app to add devices. Well, I don\'t have any Apple devices so not sure how I could do that. And even if I did, does the Apple Home app work and let me set up accessories without internet access?  All in all, it is about control - if Apple can change something in its app or protocol and suddenly mean I can\'t use my devices the way I want, then I ultimately don\'t own it.', 'Whiffed_Ultimate: All good. Just a lot of people dont know about the effects of CO2 overexposure so I may be a bit loud about it', 'JTP335d: HomeKit runs on your iPhone. It doesn’t run in the cloud. To run HomeKit at home while you are away you need a HomePod/Apple TV at home to be your “hub”. Apple provides the “secure” connection between the iPhone and home while you are away, but it isn’t run in the cloud, therefore the devices also need to run locally to work. It does work completely without internet access. Siri however, needs internet for commands and my experience with my iPhone off grid is not good at all. I would not rely or recommend it for automation/smart home. \n\nHowever, your are correct in that it is Apple’s software, proprietary, and we have no control over it or the direction they chose to go with it. By using it, one is trusting that they are doing what they say on the software end. \n\nAnd back to this thread, the home assistant HomeKit controller integration is a great way to integrate a device if there is no other way and some home assistant fans look at the “Works with HomeKit” logo as a “Works with home assistant” guarantee. iPhone not needed here.', 'Not-An-Astronaut-69: Yes, I’m aware of the effects but get the two mixed up. CO2 is not likely to kill you in the amounts you’re talking about, but CO would.']"
1682506313.0	26-Apr-2023 03:51:53	Sonoff SNZB-02D Temperature and Humidity Sensor with a screen review	BackHerniation	21	12zdrvs	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zdrvs/sonoff_snzb02d_temperature_and_humidity_sensor/	"I bought Sonoff's latest temp sensor for $11 on AliExpress and decided to test it.  
Wherever you look up the SNZB-02D, it has this high quality high contrast screen shown, which is simply not the case.  In reality, the display has mediocre contrast and bad viewing angles. This is expected to a degree from an LCD screen, but this was just underwhelming.

I like the sensor and Zigbee module though, so for anyone interested I disassembled and reviewed the device:

[Sonoff Temperature and Humidity Sensor SNZB-02D Review](https://smarthomescene.com/reviews/sonoff-temperature-and-humidity-snzb-02d-review/)"	4	"['AndyPanda321: Looks good for the price 👍', 'aprettyparrot: Was thinking of getting humidity sensor for basement :> but I’ve bought too much shit lately. Those automated curtains stung', ""melbourne3k: Good review! What's the sensor in  the switchbot? any other devices use the same sensor?"", 'kamimamita: How accurate are these? I found especially the humidity sensors to have wild differences of up to 10% among different models.']"
1682505922.0	26-Apr-2023 03:45:22	Change chart data to add vat (attributes within sensor)	maillme	2	12zdmwu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zdmwu/change_chart_data_to_add_vat_attributes_within/	"Hello - is it possible to manipulate sensor data which is used in a chart (as it has attributes) to add my VAT (21%) and some additional cost (2.54 euro cents)? 

So, for example - with one sensor, I am able to add VAT and additional costs like this:   


  `- sensor:`

`- name: epex_spot_price_ct_per_kWh_with_vat`

`unit_of_measurement: ""€/kWh""`

`availability: '{{ states(""sensor.epex_spot_nl_price"") != ""unavailable"" }}'`

`state: '{{ (states(""sensor.epex_spot_nl_price"") | float / 10 * 1.21 + 2.54)/100 }}' #add vat and extra costs, then into 0.00 cents that can be understood by threshold input`

`unique_id: ""my_unique_id_epex_spot_price_ct_per_kWh_with_vat""`

&#x200B;

However - this sensor (sensor.nl\_energy\_prices\_average\_electricity\_price\_today) is where my chart data is - and I'd quite like to add VAT and additional costs (like above) to each attribute for the hour in this sensor. - therefore so each bar int he chart is correct. 

You can see a screenshot of the attributes here: [https://ibb.co/z60cfHY](https://ibb.co/z60cfHY)

  
And the code for the chart, which uses the sensor:

`type: custom:apexcharts-card`

`graph_span: 36h`

`span:`

  `start: day`

`now:`

  `show: true`

  `label: Now`

`header:`

  `show: true`

  `title: Energy costs today (€/kwh)`

`yaxis:`

  `- decimals: 2`

`series:`

  `- entity: sensor.nl_energy_prices_average_electricity_price_today`

`stroke_width: 2`

`float_precision: 3`

`type: column`

`opacity: 1`

`color: ''`

`data_generator: |`

`return entity.attributes.prices.map((entry) => {` 

`return [new Date(entry.time), entry.price];`

`});`

&#x200B;

The end result  I would like is a chart that includes the original data but with VAT added (21%) and 2.54 euro cents. 

thanks!"	0	[]
1682505376.0	26-Apr-2023 03:36:16	Transmission integration - delete torrent error	jimmisavage	1	12zdfxe	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zdfxe/transmission_integration_delete_torrent_error/	"I just can't work out what's hapening here. According to the home assistant community page this should work to delete a complete torrent from Transmission:

    - service: transmission.remove_torrent
      data:
        name: Transmission
        id: ""{{trigger.event.data.id}}""

However, i get this error:  extra keys not allowed @ data\['name'\] 

I cannot find anything online - i can't delete name: Transmission because that throws up another error. Anyone have any suggestions please?"	5	"['_avee_: According to documentation, this service takes id and entry_id attributes. Name is not a supported attribute.', '_avee_: > I cannot find anything inline\n\nStart with this: https://www.home-assistant.io/integrations/transmission/', 'jimmisavage: Yea but that actually has the same as what I\'m trying\n\n    - alias: ""Notify and remove completed torrent""\n      trigger:\n        platform: event\n        event_type: transmission_downloaded_torrent\n      action:\n        - service: notify.telegram_notifier\n          data:\n            title: ""Torrent completed!""\n            message: ""{{trigger.event.data.name}}""\n        - service: transmission.remove_torrent\n          data:\n            name: ""Transmission""\n            id: ""{{trigger.event.data.id}}""', ""_avee_: Good point. I just checked the code and it seems there is a mismatch between service config, actual code running it and documentation.\n\n`name` doesn't seem to be used for anything, it should probably be removed.\n\n`entry_id` is a must. The easiest way to find it is to go to Developer Tools -> Services -> select transmission.remove\\_torrent -> choose your integration from dropdown -> switch to YAML to get the entry\\_id.\n\n&#x200B;\n\nI'll try to make code less confusing and improve documentation."", ""jimmisavage: Perfect, that's done the trick for me! Thanks for the help""]"
1682504517.0	26-Apr-2023 03:21:57	Dashboard Security-Cam-View keeps reloading and is not starting	Finnlife	3	12zd4u7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zd4u7/dashboard_securitycamview_keeps_reloading_and_is/	" 

Hi people,

for some weeks, I have an error with the Homeassistant Dashboard ""MoreInformation""-View.

I use my old Android-Tablet with the Fully Kiosk Mode App.

That all works great. But when I try to load an RSTP-Stream by clicking on the Dashboard-Card, the first image shows up but the Video-Box keeps reloading / loading.  
The max-length of the video keeps getting longer, but the current-video-position keeps being stuck at 0.

I tried to get more information by connection to the tablet via USB and try to read the Console output and the Connections via the Chrome Inspector DevTool.

But the Console keeps empty. Some request are being cancelled, but I can't figure out why and how they are cancelled.  
The cancelled request are relevant requests, so I think the cancelation is the problem. But I can't figure out why they are being cancelled.

I also tried to do the same in Chrome on the device, but it's the same problem.

In my PCs browser, there is no problem at all.  
So it might a Version Problem?"	0	[]
1682501496.0	26-Apr-2023 02:31:36	TimeLapse (MotionEye)	m1ndfuck	1	12zc4sz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zc4sz/timelapse_motioneye/	"Hi,

For some reason MotionEye only supports creating timelapse videos for pictures taken on one single day.

So I created a small script that connects to Home Assistant via samba, fetches all stored files of a Camera, and then creates a timelapse video + gif.

I thought id share: [https://git.m1nd.io/apps/timelapse](https://git.m1nd.io/apps/timelapse)"	0	[]
1682499777.0	26-Apr-2023 02:02:57	Automate your bed (Not kidding)	wartnerio	1	12zblf0	homeassistant	https://wartner.io/automate-your-bed-not-kidding/		5	"['mrdead113: already done mine using half load cells that basically turn the bed in to giant weighing scale so it can differentiate between me, the wife or both being in bed.\n\n&#x200B;\n\ncontrols ceiling fan, desk fan, bedside lamps and other lighting', 'entphobic: If you use the car seat sensors and there’s one big top mattress for husband and wife, would it trigger if just one person is in bed? Is that why you went with load cells?', 'crusader998: Can you share any more details on this set up? Parts list? Thanks!', 'unconscionable: Search Google for ""bed occupancy sensor esphome"" and you\'ll find a dozen. Buy the parts on AliExpress and it\'ll cost like $10 all in', 'mrdead113: https://youtu.be/VCEgeDN0RLw']"
1682499358.0	26-Apr-2023 01:55:58	ANNKE NVR + frigate	haywirehax	3	12zbgnx	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zbgnx/annke_nvr_frigate/	"Hi,

I am planning on buying this camera system (EU): [https://nl.annke.com/products/h800-8-kanaals-beveiligingscamera-set-met-4-bullet-cameras-4-turret-camaras?variant=42627460137216](https://nl.annke.com/products/h800-8-kanaals-beveiligingscamera-set-met-4-bullet-cameras-4-turret-camaras?variant=42627460137216)

and I was wondering if anyone has any experience with ANNKE or any other 8CH camera setup with similar price/performance. I am thinking of adding frigate to this but I'm not sure if I would need extra hardware to make it work.

Most probably I will need to move home assistant from my RBP to an intel NUC or something like that to support frigate, as I probably will not be able to run it on the included NVR."	17	"[""Tardlard: Even with an Intel NUC you'll want to opt for a Coral TPU (or more than one, never had that many cameras myself)"", 'irate_ornithologist: It seems like this includes an NVR already has human and vehicle detection. Why would you want to process those separately through frigate? Frigate (to me) seems the most compelling to use as a part of or alongside something that can store video as an alternative to a dedicated NVR unit. \n\nI would buy or build the NUC (or other mini PC, optiplex, etc), a coral, and individual cameras. Leave HA on the Pi, run frigate and the mqtt broker on the NUC.', ""daern2: I use 5 cameras through Frigate with an RPi4 and it works very acceptably, typically consuming around 50% CPU.\n\nI have to use hardware decoding and secondary streams, custom tuned to the correct resolution and framerate for Frigate to reduce the impact on the RPi, but it's very stable and works well. Obviously, object detection uses a USB Coral, and there's no way it would work without this!\n\nWhatever you do, you'll need to be sure that the NVR allows you to access individual camera streams in some sort of generic way that ffmpeg can ingest on Frigate. Without this, you're not going anywhere! Personally, I have IP cameras on an IP NVR, but I actually address the cameras directly as this gives more flexibility with secondary (and tertiary) streams."", ""kitanokikori: It's impossible to click your link outside of NL because it redirects to a generic landing page, but you probably just need the cameras, not the NVR box or other hardware. Frigate usually _replaces_ the NVR box (though you could certainly pay for the dedicated Annke NVR box as well). \n\nThe important thing to check for (these cameras do support it), is H.264 support (_not_ just H.265!). Browsers cannot natively display the newer format, so despite it being a better codec, it's actually a huge pain in the ass because your Frigate server will have to transcode this content and it will be very CPU expensive"", 'aram535: Might want to check out the ""The Hook up"" channel. He does a lot of comparison and functionality reviews of cameras and their integration into home assistant:\nhttps://www.youtube.com/@TheHookUp/search?query=annke', ""TheLaGrangianMethod: https://a.co/d/7fJsmv\n\nThis is the one I have, and I have it working with frigate fairly well, but it's still a work in progress for me. Essentially, if it can use RTSP it can be used for frigate, I think. Frigate itself runs entirely separate from the NVR and just pulls the video stream off the network."", 'viama: Are the cameras individually addressable?', ""jlboygenius: I hear this a lot. I had 4 cameras running on frigate with an sff pc. Granted this is an i5-8500.\n\n\n4 cpus assigned to frigate, it kept around 30% cpu usage (as listed by proxmox).  I added a coral and it has dropped but it's still not zero. Switching to gpu for ffmpeg decoding had a bigger impact.\n\nI'm the end, the coral is a fun toy, but. Not really necessary if you have a decent cpu. The new detection process in the latest release is supposed to be even better.\n\n\n\nFor my setup, the coral is cool but not necessary. I haven't noticed a power usage decrease at all with the coral, so it's never going to pay for itself."", ""daern2: > Frigate usually replaces the NVR box (though you could certainly pay for the dedicated Annke NVR box as well).\n\nDefinitely optional. Personally, I store all of the 4k video, 24/7 on my (hardware) NVR, and only use Frigate for alert generation and associated clips/snapshots. If I wanted to wade through a lot of footage, the NVR is quite a bit more powerful. Not sure if I'd go down this route again, but certainly I'd need a far more beefy computer than my current RPi4 if I wanted to store full-res footage using it."", 'nickm_27: Chrome browser versions released this year now support h.265 just fyi', 'nickm_27: The benefit of the coral isn’t just reduced usage, the best benefit is the incredibly low inference speeds compared to the cpu (an order of magnitude faster in many cases)', ""Tardlard: I am no expert, but followed the guidance on Frigate's website. \n\nI think there are more metrics to measure the difference your Coral has added - inference times are purportedly much better than a standard CPU.\n\nDoes it also allow for more frames to pass through?"", ""jlboygenius: yes, it is for sure faster in that way. I think I was around 80 and now it's down to 7.\n\nHas that changed anything in the way that I use it? no. It's as security camera with a wide angle of view. Nothing is moving that fast.  Coral only takes over the detect part, which is only part of the process. 50fps or 5 fps doesn't make much of a difference to let me know there's a person in my front yard."", ""jlboygenius: I'm sure it does, and i'm sure it does it faster. But, does that really matter? It's a security camera. 1 fps vs 50 won't change anything."", ""nickm_27: Sure, wasn't trying to change your mind just wanted to provide context for others that may not understand."", ""Tardlard: Well the more frames you have the better if you're trying to ID something that set off your motion detection, with more chance of a suspect being in focus/not a blur if in motion. \n\nIt's just all round more accurate really"", 'ufgrat: 50 would be silly, so would 1.  But 50 would allow you to identify not just objects, but individuals.  At 5 fps, I have mild difficultly getting a clear image of the face.']"
1682496421.0	26-Apr-2023 01:07:01	Invalid config? Vacuum map card	thephatmaster	3	12zalg8	homeassistant	https://www.reddit.com/r/homeassistant/comments/12zalg8/invalid_config_vacuum_map_card/	"**tldr;** *I'm aware of the map issue. The question is  why is HA saying my card config is wrong?*

My lovelace vacuum card stoped displaying maps (a Xiaomi server issue IIRC)

My automations still work, including ones using pin and go, so there is map data somewhere.

What is confusing me is that the card also displays `Invalid calibration, please check your configuration`

My config look like this:

```
camera:
  - platform: xiaomi_cloud_map_extractor
    host: !secret xiaomi_vacuum_host
    token: !secret xiaomi_vacuum_token
    username: !secret xiaomi_cloud_username
    password: !secret xiaomi_cloud_password
    draw: ['all']
    attributes:
      - calibration_points
      - rooms
    scan_interval: 90
```

Any ideas what I'm doing wrong?"	6	"['slofii: Its a known Issue. It looks like they are restricted the API Intervall:\n\n[https://github.com/PiotrMachowski/Home-Assistant-custom-components-Xiaomi-Cloud-Map-Extractor/issues/422](https://github.com/PiotrMachowski/Home-Assistant-custom-components-Xiaomi-Cloud-Map-Extractor/issues/422)', 'slofii: Did your map in the Xiaomi app work?', ""el_m4nu: I've got the same currently, weirdly enough my Xiaomi home app is also not loading the map either. Seems like something with their server communication that changed"", 'thephatmaster: Thanks, I know that bit, but why does the map card have the `invalid configuration` message?', 'thephatmaster: Nope', 'thephatmaster: Too many calls to the server shuts it down']"
1682494459.0	26-Apr-2023 00:34:19	Simple Automation for Device Batteries Low?	painthack	19	12z9zzv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12z9zzv/simple_automation_for_device_batteries_low/	"Is there a way to set up an automation that fires when any device battery is low, which sends a message telling me which device it is?

I know how to do this per device, but not sure how to make it a blanket rule."	8	"['_Rand_: I use this.\n\nhttps://gist.github.com/sbyx/1f6f434f0903b872b84c4302637d0890\n\nSeems to work fine.', 'Different-Term-2250: Isn’t there a blueprint?  Check them.  I think someone has done one.', 'Reasonable-Escape546: Hi, I am new to Home Assistant. What do I have to do to install such a blueprint?\n\n\\-----------------------\n\nEDIT: OK, found the solution:\n\nhere: [https://www.home-assistant.io/docs/automation/using\\_blueprints/](https://www.home-assistant.io/docs/automation/using_blueprints/)\n\nand here: [https://community.home-assistant.io/t/about-blueprints/253788](https://community.home-assistant.io/t/about-blueprints/253788)\n\nAfter that I created an automation using that blueprint. That’s it.\n\nThanks ;)', ""gani_stryker: I found one issue where just checking at one time a day won't be enough for CR123A and CR2450 in my case. These go from 100% to 5%, which is unreliable when it came to higher priority devices like locks. Modded that blueprint to do it on time pattern (every few hours) seemed to be a better approach!"", '_tedi_: I use this one too and works perfectly!', 'daern2: Yup, another vote for this - works well, for both devices like thermostats, and even my custom ESPHome devices!', 'me_sk1nk: The second to last comment recommends a different solution (I asked over there how to install it back then) but since I am working from my iPad mainly with HA running on a Pi4 I never figured out, why the other one should be better. Could anyone with more experience have a look into that file and tell me the difference?', 'Shooter_Q: I use this blueprint as well, but I also use an entity-filter card on my ""Stats"" dashboard, set for battery entities to show up only if they are at 40% or lower for a more proactive approach. Then I let the automation catch anything that dips to 20% or below in case no one was proactive enough. As a bonus, should someone dismiss the notification and forget which battery they were supposed to change, it\'ll be in that card for review.\n\n    type: entity-filter\n    show_empty: false\n    card:\n      type: entities\n      title: Low Batteries <= 40%\n      state_color: true\n    state_filter:\n      - operator: <=\n        value: 40\n    entities:\n        - sensor.your_battery_1\n        - sensor.your_battery_2\n        #etc\n\nI\'ve also read about ""Auto-entities"" as a custom card, but haven\'t dipped my toes into it.']"
1682493875.0	26-Apr-2023 00:24:35	Aqara sensor and input Boolean	michaelthompson1991	3	12z9tfb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12z9tfb/aqara_sensor_and_input_boolean/	"So I’ve just got a sensor for my outdoor letterbox and I have an input Boolean to work alongside it.

The problem I’m having. I use Dwaine’s Dashboard, I have a section with all the relevant input booleans and another section with all the batteries on. 

I cant get the input Boolean or the battery to add to the respected pages, see video which shows it https://imgur.com/a/pPFDhRE 

In the editor it seems to come up but then when it reloads it disappears, as you can see in the 2 videos.

I’ve also tried this on the ios app, iPadOS app and a browser on my iPad with the same results, any ideas?

Also just tried deleting an unwanted one and that doesn’t work either 🤔"	0	[]
1682493785.0	26-Apr-2023 00:23:05	How stable is the current Core version 2023.04.6?	b111e	0	12z9si4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12z9si4/how_stable_is_the_current_core_version_2023046/	"Are the issues with the cards (UI) resolved?        
No issues with the database during/after migration?        
Any other current critical problem?"	8	"['tatDK94: Were the “issues” with the cards not related to non-conforming third-party components using deprecated functions?', 'Home_Assistantt: I updated yesterday (was away on hols when last update came out) and browser mod is totally broken for me....so i switched back.  \n\n\nThis wouldnt have even been posible had I not backed up my proxmox VM as apparently this new version updated databases as well...  \n\n\nSo for now I wont be upgrading until everything has been fixed', ""jdjvbtjbkgvb: I've been thinking there should be some indicator of how stable the HA versions are. \n\nWhen one reads reddit or the forum they only see problems with each version released.\n\nThe problem is that the vast majority who don't have any issues will not go and post about their system continuing to work as intended. What we see in reddit and the forum is the minority who have the problems.\n\nA reddit poll for each version might draw answers from both groups, but still I believe the ones having issues would be more prone to answer and the result would be biased.\n\nMaybe the only way to do it would be via Nabu Casa telemetry... But logs will not always show all of the issues either, especially UI related things.\n\nJust keep it in mind that every HA issue will be amplified on the social media and you shouldn't overreact."", 'b111e: I think so. I haven’t followed up the forum after the first release, which is why I’m wondering.', 'InternationalReport5: Or just the ability to subscribe to an ultra stable channel or something where features come much slower but everything has been tested for much longer.', 'b111e: Something like this would be really useful.', ""jdjvbtjbkgvb: It is basically impossible due to the open nature of the platform. \n\nEdit: What I mean is that everyone runs a different set of random integrations and custom dashboard components. No matter how stable the core is, you are going to break someone's setup."", 'jdjvbtjbkgvb: In the meantime, just make a backup, update and see. My point in the end is that the errors are less common than it might seem.']"
1682483574.0	25-Apr-2023 21:32:54	Kasa HS200 switches react slowly	snoretech	4	12z6fcx	homeassistant	https://www.reddit.com/r/homeassistant/comments/12z6fcx/kasa_hs200_switches_react_slowly/	"Hello. I use couple of Kasa HS200 switches to turn on a set of lights; however, there is a delay between pressing the switch and lights turning on. There are no delays if I turn on those lights directly from HA. 

I have made an Automation to poll those switches every second (tried every 3 seconds and 5 seconds also) but the delay is still there. The delay is up to 10 seconds. Ay recommendation on how I can make those Kasa switches to react near instantly?

Polling automation:  
\----------------------------

 \- id: ""16\*\*\*\*\*\*\*08""  
 alias: Kitchen Counter Lights Switch Polling  
 description: Polls kitchen lights switch every second for fast reaction  
 trigger:  
    \- platform: time\_pattern  
 seconds: /1  
 condition: \[\]  
 action:  
    \- service: homeassistant.update\_entity  
 data: {}  
 target:  
 entity\_id: switch.kitchen\_counter\_lights  
\- id: ""16\*\*\*\*\*\*\*05""  
 alias: Guest Bedroom Fan Light Switch Polling  
 description: Polls guest bedroom fan light switch every second for fast reaction  
 trigger:  
    \- platform: time\_pattern  
 seconds: /1  
 condition: \[\]  
 action:  
    \- service: homeassistant.update\_entity  
 data: {}  
 target:  
 entity\_id: switch.guest\_bedroom\_fan\_light

\----------------------------

&#x200B;

https://preview.redd.it/gvu1x09wp5wa1.png?width=2322&format=png&auto=webp&v=enabled&s=aee8dffb3cbec3a513174e95ea322c9fc4671bec"	1	"[""LostFerret: Check here: https://community.home-assistant.io/t/how-to-adjust-scan-interval-with-the-new-tplink-component/104010/27?  \n\nI also have the HS200's and changed the polling to 10 seconds a while ago though I forget how I did it now. 10 seconds is a pretty good balance for me, but I only use the switches for outside lights.""]"
1682479167.0	25-Apr-2023 20:19:27	Help configuring multiscrape select command	thehellz	1	12z4u3x	homeassistant	https://community.home-assistant.io/t/help-configuring-multiscrape-select-command/564583		0	[]
1682477997.0	25-Apr-2023 19:59:57	Power monitoring an EVSE	mrchumley-warner	3	12z4e5z	homeassistant	https://www.reddit.com/r/homeassistant/comments/12z4e5z/power_monitoring_an_evse/	"I tried using an emporia energy smart plug to monitor my 110v EVSE which draws 1000-1500w for 12 hrs while it charges my car, but the safety cutout shuts it off after about 90 minutes.

Are there any Home Assistant compatible sockets which could safely handle that load?"	5	"[""rubin110: I haven't heard of anyone having luck with consumer smart plug monitors, a lot of them fail pretty quickly having that constant 12A draw. \n\nIf you are shopping for a new EVSE, I really recommend checking out OpenEVSE. It spits out plenty of data over MQTT that Home Assistant will happily absorb. It can be wired up for 120V. \n\nAlso depending on your EV and if it has any sort of internet connection, there might be an HA integration to grab that data."", ""wsdog: Probably none. I wouldn't trust a smart plug with a close to 15A continuous load.\n\nYour best bet is to install an inductive power monitor on the EVSE cable."", 'Crafty_Station_3617: get an openevse, or get a meter that works with a ct clamp, like shelly em', 'uosiek: Use Shelly EM for this. No consumer device will handle 12+ amps flowing through them for a longer time. You have to use CT clamps :)', ""PeterHaban: You might want to look into smart meters to avoid using a plug, they don't usually deal well with that sort of load. The more basic ones use CT clamps but I've moved on from those as they're not that accurate, particularly in the low range (I'm using this setup to monitor solar panels to then feed an AC coupled battery system). What I'm using instead is SDM230M -> RS485 -> ESP32(ESPHome) -> HA. Easy to set up, ESPHome support for both RS485 and SDM230 out of the box and works very well for me. If you like Emporia they make the Vue 2, lots of clamps but I'm using two of those to monitor fuse boards and they're pretty good. I've flashed mine to ESPHome to avoid dependency on their cloud but that's more a personal choice I guess🙂""]"
1682474727.0	25-Apr-2023 19:05:27	Netdata integration not working when running netdata in a container?	JamesGiesbrecht	3	12z38ct	homeassistant	https://www.reddit.com/r/homeassistant/comments/12z38ct/netdata_integration_not_working_when_running/	"I have a Home Assistant (VM)  and Netdata docker running on the same Unraid Host.

I added the example netdata sensor from the [HA Netdata Docs](https://www.home-assistant.io/integrations/netdata/) to the `configuration.yaml` and swapped out the IP and name for my own. I also verified the data\_group and element values were correct for my netdata agent.

    sensor:
      - platform: netdata
        host: ""192.168.1.2""
        port: ""19999""
        name: SomeHostName
        resources:
          system_load:
            data_group: system.load
            element: load15

When I restart Home Assistant with that integration, the logs show the following error: `Platform netdata not ready yet: None; Retrying in background in 30 seconds`. This is consistent after restarting all HA/Netdata multiple times including the host system.

None of the other logs show more detail, thats the only message I can see on HA. In the netdata container logs I can see connections continually being made from HA and closing after being idle for 60 seconds.

I tried installing Netdata on the Unraid bare metal and the integration worked perfectly! I was able to see multiple resources as I added them.  
But since Unraid is Slackware based, the app was wiped out upon restart. I tried installing it in non-volatile storage but it wasn't working. I'm no Linux master and I didn't want to mess with system stability so I left it at that.

&#x200B;

Any ideas why the bare metal install worked but not the Docker?  
I have them (VM and Docker) on the same custom bridge `br0` each with their own IP address.  
I have `Docker custom network type: macvlan` and `Host access to custom networks: Enabled` configured in Docker settings in Unraid.  
I can make api requests from the HA terminal to Netdata and can see traffic from HA in the Netdata logs.  
Is there anything I am overlooking in the networking department?"	0	[]
1682472578.0	25-Apr-2023 18:29:38	Help on creating a ZED for reading power meter	mkishere	6	12z2gku	homeassistant	https://www.reddit.com/r/homeassistant/comments/12z2gku/help_on_creating_a_zed_for_reading_power_meter/	"Not sure if this is the right sub for posting this, sorry if it is not.

I’m thinking of monitor power usage of my house in HA. My house was installed with a “smart” meter, but unfortunately I couldn’t directly interfacing with it, except the LED that blinks when 1 Wh is consumed.

I am aware of the HA Glow project, but the location of the meter and the fact that I can’t modify the power board make it impossible to run the setup on mains.

So my meter has 3 requirements:
1. Ultra low power, able to run on AAs for a year
2. Cheaper than commerical alternatives
3. Running on Zigbee is a plus

What I have in mind now is a HA Glow setup and swap in a ESP-01 plus a DS1683 chip to do the counting while the ESP8266 is in deep sleep. However I want to push one step forward to use Zigbee to further reduce power usage. Any cheap and easy to dev SoC out there? Or I should stick with wifi instead? 

Thanks"	3	"[""scottydont_2488: It looks like the DS1683 would drain your AAs in around a year even before adding an ESP. I found big gains in moving from direct wifi to ESP-NOW which saved me from converting to ZigBee so it's worth considering. You didn't mention how often it would be waking up to send data, as that will have a big impact on power consumption too"", ""mkishere: DS1683 should be constantly draining 0.1-0.2mA when doing the counting, meanwhile ESP8266 will drain 15mA in modem-sleep mode, when the CPU is still needed for counting the flashes. Please correct me if I'm wrong, if the extra chip is not required in the design I would be happy to follow as that would save me from ordering PCB fab.\n\nHaven't heard of ESP-NOW before, does that mean I need an extra ESP to be plugged into the HA server as the receiver?\n\nedit: forgot to mention, thinking of reporting the usage to HA per 30 minutes, should be good enough for me."", ""scottydont_2488: The DS1683 is very efficient and seems to be a good choice for counting pulses, I wasn't saying it's not required but maybe your goal of 1 year on AAs is optimistic once you have that and an ESP.\nDS1683 ~200uA\nESP in sleep ~35uA\nESP awake wifi ~80mA 1.2sec\nESP awake ESP-NOW ~80mA 0.2sec\n\nRechargeable AAs are 2000-2500mAh, not sure about alkalines\n\nFrom there you can work out whether you are better off to have it or wake the ESP with an interrupt, increment, go back to sleep, then occasionally send to HA. Yes ESP-NOW requires a second ESP32 or two ESP8266, one with ESP-NOW and the other to send to HA via Wifi""]"
1682471397.0	25-Apr-2023 18:09:57	Is there a smarter way to set tv volume TO a volume?	kinkhorse	15	12z20vz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12z20vz/is_there_a_smarter_way_to_set_tv_volume_to_a/	"I want as a function of my alarm clock to turn my LG TV to the RetroClassic (anime) Ip channel. I have a script that does this, but part of it is that it turns the TV volume down by pressing the volume down button 100 times then turns the volume up to 15 percent by pressing the volume up button 15 times. I'm using a broadlink RM4 pro. Unfortunately, I have found that the remote must do something ""different"" when you hold the volume down button than the broadlink can do, because broadlink press and hold button only turns the tv down one tick. 
I tried MediaPlayer.setVOlume but that did absolutely nothing, nada. so i'm back to using the broadlink in this stupidly clunky way. 
this is a LG WebOS tv. Any ideas?"	5	"['jmcgeejr: also maybe your tv is supported by this.  [https://www.home-assistant.io/integrations/webostv/](https://www.home-assistant.io/integrations/webostv/)', ""Incromulent: You can use the webostv integration to send discrete volume levels.   \nHere's one I use in an automation and it works reliably.\n\n    action:\n      - service: webostv.command\n        data:\n          entity_id: media_player.lr_tv\n          command: audio/setVolume\n          payload:\n            volume: 9\n\nTo answer your question about the remote vs broadlink, yes, the remote is more like a computer keyboard, it will wait then start repeating if held down."", '4kVHS: Look in the menus of your TV. There should be a timer where you can define the time it turns on, the input , and the volume level. It may not be able to tune directly to the channel you want, but it sounds like you already got that part working. However if it can set the volume then you have that part solved. For example:\n\n8:59 AM: TV ON, HDMI 3, Volume 15\n\n9:00 AM: (your existing script that tunes what you want)', 'jmcgeejr: Does your LG support homekit?', 'kinkhorse: Wowee!!! This is what i needed thanks.']"
1682470798.0	25-Apr-2023 17:59:58	ZHA and Z2M at the same time on home assistant yellow?	Witty_Music_9101	14	12z1ssu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12z1ssu/zha_and_z2m_at_the_same_time_on_home_assistant/	Is this a good idea to use the build in zigbee chip for ZHA and my sonoff dongle for Z2M at the same time? Any problem with this kind of setup?	21	"['mgithens1: A device gets to be on one network - this applies to the coordinator, repeaters, and end devices. So as long as you plan on adding two USB dongles and having two separate networks this can totally work.\n\nThis brings zero added benefit and extra layers of complications.\n\nThe answer you didn’t give is why you think is needed or a good idea?', ""Anonimo32020: I have zero complications running ZHA and Z2M at the same time on a Blue in order to be able to use Aqara devices on Z2M. I don't know if the problems I had with Aqara would reappear if I had certain non-aqara plugs that also act as repeaters were also on the Z2M network. I would think the problem would reappear and I would have to use ZHA and Z2M with the Yellow. I don't have the time and  energy to find out."", ""SNKWIRED: I am running Z2M using a conbee stick and zha using a sonoff with tasmoda flashed on it because my centrallite thermostats did not play nicely on Z2M but are working beautifully with ZHA in addition to there are slightly different ways there implemented with Z2M giving it a high low set point but did not have auto heat changeover to cooling whereas the ZHA only displays one temperature at a time it is the current target hot or cool depending on the mode that I'm in. And similar thing with the aquara devices are working beautifully on Z2M but we're not playing nicely on zHA"", ""cymru_jenx: I have ZHA and Z2M running side by side. I did it because my network was continually dropping devices off on ZHA particularly Aqara and I tried everything to improve it. Adding routers (mix of Sonoff plugs and Ikea boosters) with some success but still unreliable.\n\nI then read that despite all the claims, lights do not interact with sensors, only themselves (there maybe exceptions) so I did some experiments and found that none of my sensors were connecting to lights and the lights were connecting to routers and taking up valuable slots that sensors needed. \n\nSo I separated my networks, ZHA reserved for lights (as they act as routers for themselves) and Z2M reserved for routers and sensors. My networks has been rock solid since making the change. \n\nThis maybe just my experience but whatever works for you since most of the 'evidence' seems to be circumstantial at best and hearsay at worst for what zigbee networking best practice really should be."", ""Witty_Music_9101: What i heard is aqara zigbee devices sometimes don't play with other non aqara zigbee devices, so want to keep them in separate networks. Also there are devices only support in Z2M, but not in ZHA"", ""Uninterested_Viewer: >most of the 'evidence' seems to be circumstantial at best and hearsay at worst for what zigbee networking best practice really should be.\n\nThis is a big issue in this subreddit: so much [well intended] misinformation about ZigBee based on personal experience. Not long ago there was an onslaught of baselessly repeating that Hue bulbs don't act as proper routers and should be avoided in seemingly every post about ZigBee. Not even sure where that one started, but it seems to have died down. \n\nBottom line is that ZigBee is a mixed bag due to the lack of actual certification testing and, therefore, manufacturers only supporting what they feel they need to for their own ecosystems and even custom implementations. Devices are often dirt cheap, which leads to beginners going crazy with them, running into issues, and then making uninformed claims about what the actual problems are. \n\nHere's to Thread being better, somehow."", ""MrCalifornian: I've never had an issue with aqara and other devices in zha fwiw. Also, two mesh networks is almost always going to be weaker than one, since there are fewer devices to repeat"", 'mgithens1: So choose another brand if you take that as fact…\n\nThe issue with ZHA is lackluster support of some devices.  I moved to Z2M and my Aqara vibration sensor and cube actually worked… before they told me the battery level only.  This was a while back… but I’ve never seen someone put forth a point that ZHA was better in any way.', 'Anonimo32020: Do you already own zigbee devices? What is your reason to mix them?\n\nI have a mix because I already owned non‐Aqara devices then I bought some Aqara devices but the reurn window ended before I installed them and found out it was because of some of my plugs acting as repeaters that caused the issue. It turned out to be cheaper to add a Z2M coordinator than to replace the Aqara devices.\n\nAre you wanting to mix because of a similar situation or because of prices and availability of different zigbee devices or something else?', 'FIuffyRabbit: That sounds made up', 'iotiot: I run the exact same setup for the exact same reason. I have two ZigBee antennas for 2 separate networks, one ZHA and one for Z2M. I keep all of my aqara devices and other devices that play nice with aqara on ZHA network.\n\nThis has worked well for me.', ""Rotilho: This was true before ZigBee 3.0, now all devices can/should work together.\n\nThere are still misimplementations like aqara sensors that don't automatically change the router. I'm not sure if this is still true but when I was doing my research I opted to avoid them. I still have a bunch of aqara powered devices like switches and plugs and they all work fine together with the 7 other brands. The only exception is the aqara plug together with IKEA switch, there's a unfixed bug they introduced last year."", 'LifeBandit666: Afaik the only issue with Aqara devices is they stick to whatever they are first connected to. \n\nAll this means is in Z2M you need to place the device before you pair it, and then instead of ""Permit Join - All"" use the Permit Join for the device you want to join it to.\n\nIf you do this, you shouldn\'t have any issues with Aqara devices, it\'s just an extra thing to be mindful of.', 'ZAlternates: It depends on which coordinator you have. Those based on the same chipset as Skyconnect and Sonoff-E are fully supported in ZHA while still marked as “experimental” in Z2M. \n\nAs far as Aqara goes, you can avoid a lot of the issues by making sure Aqara will route with your specific router, and then when you bring them online, add them per that router using the “add by device” option in ZHA. Aqara’s problems are two fold due to their lazy implementation of the Zigbee standard: (a) they aren’t compatible with all of the routers/plugs/bulbs, and (b) they don’t like to change routers if the router they are using goes offline. \n\nBeyond that, make sure you’re running the latest firmware of everything, especially your coordinators and routers, and you should have a pretty stable network with Aqara. It’s a pain in the ass, or it can be, but it beats two full Zigbee networks competing with your wifi for radio spectrum space.', 'Witty_Music_9101: I have a very similar situation, but most of my zigbee devices are from aqara at this moment, i have the m2 hub, so currently still using the homekit  controller to integrate with them. And I am getting a sonoff dongle next week, And will get yellow soon, so want to see how to set it up. Try to understand all the possible approaches', 'mgithens1: Is anyone recommending a Sonoff-E over the P?', 'Anonimo32020: You might not have a problem running all of your zigbee devices on just ZHA or just Z2M since not everyone has had the problems I have had. Were you leaning towards Z2M instead of ZHA as your main zigbee network or were you going to try ZHA first?', 'ZAlternates: All over this thread:\n\nhttps://reddit.com/r/homeassistant/comments/12ymejy/best_zwave_and_zigbee_usb_sticks_for_ha_in_2023/', 'Witty_Music_9101: I think I will start with Z2M since it supports more devices. One of the reasons i try to get a sonoff dongle before yellow is because i want to test Z2M and ZHA on just a few devices to learn more about them, so that when i get my yellow i can decide what to use for a long term', 'mgithens1: Which response said an E was better than a P? I skimmed be all the top voted said avoid the E or they said the P was the smarter buy.', 'ZAlternates: The P is better as it’s more established imo but some people like the E and Skyconnect, which use a similar/same chipset.']"
1682470081.0	25-Apr-2023 17:48:01	Issue with iOS app	jon8282	5	12z1jkj	homeassistant	https://www.reddit.com/r/homeassistant/comments/12z1jkj/issue_with_ios_app/	"Hi all - hoping someone can help. Yesterday after a power outage home assistant stopped functioning correctly via the iOS app.

I’m getting a blank screen and eventually a red error message showing 

Error Code:
NSURLErrorDomain -1004

Push notifications and presence detection are still working, as in I’m getting notifications and my location tracking automations are working, but no interface… 

Anyone have an idea?

Thanks!"	3	['Jay_from_NuZiland: I think that error relates to DNS name resolution? Hard to be sure. The reason notifications work is that they go via the cloud service I believe.\n\nCan you get to the ha URL using a web browser on the phone?', 'ZAlternates: In your wifi settings in iOS, make sure you have the private wifi setting turned off. \n\nhttps://support.plume.com/hc/en-us/articles/360051478974-How-do-I-disable-the-Private-random-WiFi-addresses-on-my-iPhone-\n\nAlso in your iCloud settings, be sure private relay is **disabled**. This feature uses Apple’s dns servers and not your router’s.\n\nhttps://support.apple.com/en-us/HT212614', 'jon8282: Yea… seems the power outage forced home assistant out of its normal ip address… not sure how that’s possible but that’s a network issue not a home assistant issue\n\nThanks!!']
1682467075.0	25-Apr-2023 16:57:55	Smart panels like Lumin or Span	No_Impact7840	1	12z0er1	homeassistant	https://www.reddit.com/r/homeassistant/comments/12z0er1/smart_panels_like_lumin_or_span/	"I'm looking to install something for load management so that I can fully electrify my existing house using my 100 amp service (I looked into upgrading to 200 amp but it's extremely expensive, if it's possible at all).

Does anyone have experience with Lumin or Span smart panels, and integrating them with local control for Home Assistant or similar? I'd prefer not to spend several thousand dollars and be reliant on a company's external servers for my power."	0	[]
1682466129.0	25-Apr-2023 16:42:09	"Error ""Only automations in automations.yaml can be deleted."""	MadSnow-	2	12z01cr	homeassistant	https://www.reddit.com/r/homeassistant/comments/12z01cr/error_only_automations_in_automationsyaml_can_be/	"I'm not sure what I did exactly... I created an automation using a blueprint and now I want to delete it, but I keep getting the error message ""Only automations in automations.yaml can be deleted."" and I can't edit it either. Can someone help me with this?

its not even listed in automations.yaml... where can I find it?"	4	['ReallyNotMichaelsMom: Have you restarted your Home Assistant? This happened to me a couple of times.', 'generalambivalence: I vaguely remember having a similar problem. Try going to the blueprints tab and deleting the blueprint.', 'MadSnow-: I did - nothing changed 😕', 'ReallyNotMichaelsMom: Did you clear your browser cache?']
1682463102.0	25-Apr-2023 15:51:42	Trigger an automation before a timestamp class sensor?	FreakLikeMe0991	2	12yyttq	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yyttq/trigger_an_automation_before_a_timestamp_class/	Is this possible without a template sensor? And if not can someone help me figure out the template?	6	"['LurkerTalen: Not sure what you want to achieve. Can you explain that maybe?', ""mekaneck84: Here’s a template I use as a trigger in an automation I have. This will trigger 10 minutes prior to the input datetime helper, or at midnight if something is wrong with that helper. \n\n```\n{{ now() + timedelta(minutes = 10) >= today_at(states('input_datetime.kids_bedtime_start') | default(today_at('00:00:00'))) }}\n```"", 'FreakLikeMe0991: I want to have a trigger offset for a timestamp sensor when using the time trigger option.\n\nThis is the way they have it now\n\nhttps://preview.redd.it/d1ld6vxer5wa1.png?width=1440&format=pjpg&auto=webp&v=enabled&s=ac064aa702cc033992b5da0918fd42ac39b69ff2\n\nI want it to be like the sun offset', ""FreakLikeMe0991: When I try and template I get this error.\n\nValueError: could not convert str to datetime: '2023-04-25T08:32:00+00:00'"", ""mekaneck84: My `input_datetime` helper is a time only, without a date. If your sensor is a datetime string, you’ll need the `as_datetime` function to convert it to a datetime object. \n\nTry \n\n```\n{{ now() + timedelta(minutes = 10) >= as_datetime(states('sensor.my_datetime_sensor')) }}\n```"", 'mekaneck84: I tried my code in the developer tools with a sensor that was reporting a timestamp. What I put in my edited comment should work. However if you need to strip off the date and only look at the time, the code will have to change. \n\nRefer to this if you want to read the detail:\nhttps://www.home-assistant.io/docs/configuration/templating/#time']"
1682463059.0	25-Apr-2023 15:50:59	Looking for a product to alert when a gfi loses power	AZX3RIC	15	12yyt95	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yyt95/looking_for_a_product_to_alert_when_a_gfi_loses/	My washer trips the GFI it's plugged into every once in a while. I'm looking for a product, like a smart plug, that would connect to HA and setup an automation to alert the house when the product doesn't have power. Any suggestions?	44	"[""ufgrat: So... why's the GFI going out?  That usually indicates a problem."", 'ZAlternates: Literally any smart plug would suffice depending on how quickly you need to be alerted. \n\nIf “unavailable” then send notification.', 'haamfish: Rather than this I recommend reaching out to an electrician to determine why it keeps tripping and fix the issue with the wiring or the appliance.', 'GlobalStranger: I’ve used https://www.thesmartesthouse.com/products/diy-smart-power-outage-monitoring-kit for a sump pump on a gfci outlet before and it works well.\n\nThat said, if you don’t absolutely need it to be smart, this is probably the cleanest solution: https://www.homedepot.com/p/Leviton-SmartlockPro-15-Amp-125-Volt-Self-Test-Tamper-Resistant-GFCI-Outlet-with-Audible-Trip-Alert-White-R92-GFTA1-0KW/206280966\n\ne: I considered the alert-on-unavailable-smart-plug route as well, but ultimate decided against it because I find wifi devices often go “unavailable” for unrelated reasons and it would trigger lots of false alarms. If you do to this route, make sure the plug is rated for the full current draw of the washer (many cheap ones aren’t) or consider plugging into the second outlet on the gfci receptacle.', 'mosaic_hops: You can get GFIs that have built in buzzers that alert you when they trip.', 'syreel: I know there are smart breakers which may or may not cover you depending on where you live and how your electrical is wired. If not you could potentially get any kind of smart plug on the circuit which gets cut and alert on its unavailability on the network. May get some false positives if you have a flaky WiFi etc.', ""Legitimate-Pirate-63: If you get a smart plug with energy monoting (make sure it's rated for the draw of your washer) you could also use it to get alerts when the washer is done and how much energy the washer uses.  As stated above, if it's not responsive you could also pop an alert"", 'randytech: Zooz zen15. Those are made for large appliances and I use them in my washer dryer. Then like you said you can make a notification when the device is unavailable', ""djgrahamj: Outside the box option: put a vibration sensor on the machine so you can tell if it's not running when it should be."", 'SNKWIRED: When we remodeled the house we used a GFI outlet that has a built-in alarm so when it trips it makes a high pitch squeal and that way I know if my sump pump somehow tripped and therefore is not functioning because the GFI is off while I know this is not a ""smart"" method of doing this it is very reliable and it means that the wife can easily go press the button as she will be annoyed by it rather than just a notification on my phone\n\nLegrand radiant® Thin 15 Amp Self Test Tamper Resistant Audible Alarm GFCI Outlet at Menards https://www.menards.com/main/p-1505197674681.htm', ""le_chat_qui_taff: Hi\nI would like to know what type of GFI you have (is it a power outlet or is it on your switchboard and if it's the case, it is an EU or US type)"", 'Prowler1000: GFCI outlets also block power to anything down stream from them, right? Would something like a Shelly that you can program with a custom ESPHome build work?\n\nIf you wire the Shelly to be power in parallel with the GFCI and then wire the ""switch"" terminal on the Shelly to be ""after"" the GFCI, any time the GFCI trips, it would trigger a state change on the Shelly that is immediately pushed to HA.\n\nI\'m not entirely sure though how Shelly\'s are wired and have intentionally avoided the company as a way to add functionality to light switches but they seem like they\'d be perfect for a small task like this! Again though, make sure you understand how they\'re wired and know how you\'d wire them up to the GFCI because I\'m not 100% sure and don\'t want you to waste your time or money.', 'wolverinesearring: I have an aquara leak sensor I rigged to a 5v (usb powered) relay by loosening the contact screws. Super easy it turns out. You could even have it connected to the normally-open part and trigger a ""either tripped or wet"" notification. That said, electrician is best option.', 'abqcheeks: I know this is dumb, but it’s what I did. I have the same problem but with a fridge on the ckt. Twice we lost the contents and had a nasty cleanup job. \n\nI plugged an old DSL router into the same outlet. A cron job pings it every few minutes and sends me a text it the dsl modem doesn’t answer. \n\nIs it still stupid if it just works?', 'whale-sibling: You could make a simple [volt meter](https://simple-circuit.com/measure-ac-voltage-arduino-ac-voltmeter/) and have an arduino / esp / whatever report that.  Not only will you see when it dropped off, but you can see if your voltage is steady or fluctuating.', ""strange-humor: Best option is probably going to be a light sensor over the trip light.\n\nI've used a Sonoff S31 on a washer to tell when a cycle is done via current monitoring. You could also have a cycle that resets when it finds the device is available and if time passes it would throw an alert.\n\nSeems like the effort is more than fixing the problem though."", 'Crazeeeyez: I had this problem on an outlet in my garage.  The lights would also go out in a room when the GFI was tripped (dunno why it was wired this way). I had an Insteon switch on those lights.  I set up and automation to monitor when the switch went Unavailable and sent alerts out to go check the GFI.  Since my wife would often be the only one home I put very specific instructions in the alert 😀', ""AZX3RIC: Yeah, I'm working on that part."", 'n6_ham: They tend to trip randomly as they get old. I had an old GFCI outlet that used to trip every time I looked at it. Replaced it with a new one and it never tripped after that.\nAnd I did tested it with GFCI tester - it works for sure', 'dandelionc: I plug my gas dryer onto that smart plug too which measures power consumption. That way I get an alert when washer is done but a dryer cycle hasn’t started yet.', ""Whatsitforanyway: I have one of those.  My old ass can't hear it unless I am in the same room.  My wife however can hear it through walls.  So I just told her to walk the house every few hours.  She didn't think it was funny."", 'reddanit: Given the statement of ""GFI it\'s plugged into"" I\'m almost certain OP has GFI integrated with the outlet. Which is something typical for US electrical systems as far as I\'ve seen (I\'ve never seen any of those in continental EU).', ""ufgrat: I'm glad to hear that.  I do occasionally find people who think that's just something that's supposed to happen.  :)"", ""reddanit: Personally I'd just forgo any ideas about smart plug notification and instead focus solely on fixing the actual problem. There are 2 main possible explanations:\n\n* The GFI itself is faulty and the times it trips are false positive. This is an annoyance on one hand, but on the other it also means that you cannot be sure if the GFI will work in its intended role of saving you from potentially deadly electric shock. GFIs are rather finicky devices and usually they outright require being tested monthly-to-yearly as part of routine maintenance (that everybody ignores).\n* The GFI is fine and it trips specifically because there is an actual risk of getting shocked by something connected to it. Appliance which leaks electricity to the environment should obviously be considered a problem to be fixed promptly."", 'DJ_TECHSUPPORT: 😂', 'nlblocks: Thats not tripping randomly, the old one probably shorted in some way.', 'eproces: So in modern GFI this is a feature not a bug. It turns out nobody was actually pressing the little test button once a month, so now they self-test (way more often than monthly too). If it fails, it will trip itself permanently. Pressing the reset button does nothing and people get confused because this is not yet common knowledge. They think it\'s crap because it ""stopped working"" suddenly.\n\nAlso, if something more low tech would work for OP, there are GFI outlets with an audible alarm.\n\nSource: I\'m a master electrician', ""reddanit: > They tend to trip randomly as they get old.\n\nWhich, like you did, should be a prompt to replace them. It's an important safety device and it becomes *very* questionable whether it's going to be reliable if it trips randomly for no good reason."", 'ID10T_127001: The problem is you need to create a cron job executed as root. After upgrading to wifeOs v2.0 applications were more responsive and kernel panics disappeared. The maintenance overhead is almost nothing. Way better TCO, even with my old, existing hardware.', ""garfnodie: Need to miniaturize those rumbler sirens police use now.  Hearing won't matter since you'll be able to feel it."", 'mosaic_hops: Haha. I just use them in the kitchen so if one trips while the pressure cooker or crock pot are running we’ll notice it reasonably quickly.', ""reddanit: Well, *technically* it's supposed to happen. When the circuit hanging on the GFI is zapping something or someone with electricity. Just like a fire alarm is supposed to go off in event of a fire :)"", 'n6_ham: Short won’t make GFCI to trip. Only imbalance between currents flowing trough live and neutral wires trips it.\n\nNamely, if more current is flowing through the live wire, since part of that current flows through your body into the ground.\n\nI don’t know what causing it. Maybe some capacitor in the amplification circuit dries out, causing different readings of two currents when they are in fact equal.\n\nAny way - mechanically and electrically that outlet is perfectly fine. It’s just GFCI circuit becomes unreliable', 'n6_ham: Idk, never experienced such behavior with new Leviton GFCI outlets. Two old outlets used to trip randomly. I replaced one in October, another in December. Neither of two tripped even once since then.', 'Whatsitforanyway: I am on wifeOsv2.0 and have been instructed I am no longer allowed to upgrade or use additional third party software.  Fortunately it works quite well so I will work within the allowed boundaries.', ""ufgrat: But if it's happening regularly, that means either the GFI itself is failing due to old age, or there's an actual fault with the circuit.\n\nBut you knew that."", 'nlblocks: Ah i just assumed it was the same as the breaker that trips when current is leaking to ground, English isn\'t my first language. (Google translates the Dutch ""aardlekschakelaar"" to RCD?)', 'eproces: A short to ground, AKA a ground fault, will trip a ground fault circuit interrupter. However, if it is a dead short, meaning a direct connection between hot and ground, the breaker will trip before the GFCI has a chance.\n\nGFCI are meant to fill the gap where you have a relatively small amount of current leaking to ground which will not trip the breaker. They are set to 6 mA (or similar) so that it will trip before getting to the ""let go threshold"" where your muscles tense and can\'t let go of what is shocking you (10-40mA).', 'n6_ham: No worries, English isn’t my first language either (it’s rather third one and I’m still bad at it)\n\nGFI, GFCI, RCD are different abbreviations meaning basically the same. \n\nGFCI stands for “ground fault circuit interrupter”. Dutch version (judging by wikipedia) is “Fehlerstrom-Schutzschalter”', 'n6_ham: I used to live in a place with very old GFCI outlets. One particular outlet in master bathroom had a habit of tripping every time I transmitted something with 5w UHF handheld transceiver within 10ish meters from it\n\nThis is a great video explaining how GFCI works\nhttps://youtu.be/ILBjnZq0n8s', 'nlblocks: Thats German, not Dutch haha', '100GbE: An RCBO will trip on overload and fault current, something very common in modern .au switchboards.', 'n6_ham: I’m sorry, man. My bad\nIt’s just late here']"
1682460984.0	25-Apr-2023 15:16:24	"Notifications - ""presentation_options"" attribute"	InternationalReport5	3	12yxyih	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yxyih/notifications_presentation_options_attribute/	"I keep rereading the part about `presentation_options` in the [documentation](https://companion.home-assistant.io/docs/notifications/notifications-basic/#presentation-options) and I can't get my head around it.

>By default, if the app is open (in the foreground) when a notification arrives, it will display the same as when the app is not active (in the background), with a visual alert showing notification contents, a badge update (if one was sent in the notification) and the sound of your choice. You can control how a notification is displayed when the app is in the foreground by setting the presentation\_options string array. Allowed values are alert, badge and sound.

What does it mean? For context, I'm trying to ensure a certain notification is shown as a heads up notification even if the user has the app open. Is this something `presentation_options` can help with?

Thanks"	4	"['danielszajkowski: I use it on iOS (no idea about android).\nThe notification does not clear automatically, it stays on the screen until it’s swiped off.\n\nI forget what happens when the companion app is on the foreground. But I would assume it’s the same.', 'InternationalReport5: Thanks. Could you share how the notification is configured? What priority it comes in at etc.', 'danielszajkowski: I couldn’t remember where I set the persistent notification.\n\nBut I finally remembered,\n\nIn iOS \n->settings->home assistant->notifications->banner style -> persistent', ""InternationalReport5: Oh, that's in user settings though. I was trying to configure it from the service call itself.""]"
1682459841.0	25-Apr-2023 14:57:21	Issues with automation with motion to turn off lights	BORIStheBLADE1	2	12yxgqi	homeassistant	https://www.reddit.com/gallery/12yxgqi		11	"['realsqlguy: Under ""Actions"", you\'re checking to see if the automation was trigger by BOTH triggers.\n\nWhat you want to check is if both sensors are OFF - neither one is reporting motion. You want to check their state, not which sensor triggered the automation.', ""BORIStheBLADE1: So I can't get these lights to turn off when no motion is present.  I have also tried the supplied blueprint for motion activated lights but it wont let me chose my switch for some reason. Any advice would be appreciated."", ""martamoonpie: If I'm understanding correctly, you want the lights to turn off but only if both motion sensors have stopped detecting motion. \n\nI do this but with conditions like this:\n\nhttps://i.imgur.com/q3dlwGY.jpg"", 'TheRealNap0le0n: Make the two sensors a group that triggers on either sensor.', 'hirscheyyaltern: next click on the menu up to and switch to yaml. then copy paste that. much easier to see whats going on than screenshots', ""Ok-Jury5684: This.\n\nNow it looks like this:\nIs it 1st sensor that stoppet detecting motion? - Yes - Is it 2nd sensor that stopped detecting motion? - Yes - turn off the light. \n\nIt never happens. It's either one or another, not both of them in one run."", 'BORIStheBLADE1: I want the light to turn off when either sensor have stopped seeing motion after x minutes.', 'AZX3RIC: Do you not need a trigger?', 'martamoonpie: Then remove the if then from the action and just turn off the light.', 'martamoonpie: They have the triggers. The action was weird.', 'BORIStheBLADE1: I will give this a try thanks.']"
1682459741.0	25-Apr-2023 14:55:41	Anyone using Amcrest cameras with Frigate?	RoachForLife	11	12yxf84	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yxf84/anyone_using_amcrest_cameras_with_frigate/	"I used the amcrest: in my config file to add amcrest cameras. My issue is Frigate seems to want the RTSP address. When I had tried connecting the manual way (generic onvif) with the syntax for rtsp it never worked so finally went to the amcrest input. With that said, is there a proper way to do this?

1. SHould I use amcrest or a different way to get the amcrest cams on? They seem to all work using amcrest: (albeit with about 4-5sec delay)
2. How do I grab the RTSP url for Frigate? Or is there an alternate method I can use in Frigate to load them?

Thanks all!"	21	"['toddrob: I use Amcrest cameras in frigate, and i didn’t even know there was an amcrest: config section. Just add it as a normal camera (in the cameras: section or go2rtc:) using the rtsp stream url that others have posted the format for.', 'FixItDumas: I use ad410 doorbell and it feeds two integrations. I use the dahua integration to get entities like button push. My Frigate config has rstp url as documented. Works amazing.\n\nhttps://www.youtube.com/watch?v=Hz2kKYjhC8I', 'nickm_27: rtsp://[username]:password@IPaddress:554/cam/realmonitor?channel=1&subtype=0 is the format for amcrest rtsp \n\nhttps://support.amcrest.com/hc/en-us/articles/360052688931-Accessing-Amcrest-Products-Using-RTSP', 'RoachForLife: Oh interesting, I didnt realize I could do RSTP thru the NVR as well. \n\nQuestion - is there any difference in quality/performance/networking to use the URL from my NVR vs the specific camera info?', 'selkirkstunna: When you say “should I be using Amcrest” are you talking about the native Amcrest app? You shouldn’t have to do anything but use the RTSP feed. The link should look like:\n\nrtsp://user:pass@ip/live\n\nEDIT: I suppose you should confirm rtsp is enabled for your camera configuration but I’m almost positive it’s enabled by default.', 'RoachForLife: I was able to get with the RSTP url by adding thru the Generic Camera integration. Seems to work.\n\n&#x200B;\n\nWas curious if anyone has used the various methods (Amcrest built in, generic camera, dahua integration) to see if any are clearly better? Also if anyone knows if any diff in perf/speed/quality if I link the RSTP via my NVRs info vs directly to the camera?', ""CaptainAwesome06: I was able to get my Amcrest doorbell (AD410) feed into frigate and HA so I'm pretty sure it's possible.  However, I'm not sure how I did it (it took a long time to get it to work) and I don't actually use it because it's too CPU intensive."", 'tungvu256: yes, i have amcrest NVR and cameras working fine with frigate.', 'nickm_27: I believe op is referring to HA, frigate does not have an amcrest config section', ""johndoe86x: I'm gonna have to check out Dahua!"", 'Kitchen_Software: Another option is Amcrest2MQTT: [https://github.com/dchesterton/amcrest2mqtt](https://github.com/dchesterton/amcrest2mqtt)\n\nHave been using it for almost a year; no issues.', 'nickm_27: Amcrest rtsp has this format rtsp://[username]:password@IPaddress:554/cam/realmonitor?channel=1&subtype=0', 'RoachForLife: Sorry what I mean to say when I say should I use Amcrest as is ""Amcrest: "" in the config yaml vs say \'Generic Camera\'?', 'RoachForLife: A few things I am seeing (added both ways)\n\nAmcrest built in method gives extra devices such as when motion is detected, or sound, sd card % full, etc\n\nGeneric camera method is quicker. There is about an 8sec difference of what the timestamp shows from my overlay.\n\n&#x200B;\n\nBased on this, perhaps I will keep them both in there, using the amcrest built in for the sensors and the generic camera for the actual feed.', 'toddrob: Oh, that makes more sense. Though if using frigate, there’s no reason to use the Amcrest integration in HA. Just use the frigate integration (requires MQTT) and the frigate-hass-card from HACS.', 'tilaksiddu: Home assistant has built in integration for the Amcrest cameras. See the link below. But if you are looking for more advance control of your camera via HA then you can install the Dahua custom integration as well and both of these integration can work together. \n\n[https://www.home-assistant.io/integrations/amcrest/](https://www.home-assistant.io/integrations/amcrest/)\n\nTo setup your camera with the built in Amcrest integration you need to add this in the configuration.xml file. There are other variables that you can add as well. check the above link.\n\namcrest:  \n\\- host: IP\\_ADDRESS\\_CAMERA   \nusername: YOUR\\_USERNAME       \npassword: YOUR\\_PASSWORD', 'nickm_27: Agreed', 'RoachForLife: >://\\[username\\]:password@IPaddress:554/cam/realmonitor?channel=1&subtype=0\n\nI guess my question is... Is there any advantage using the built in integration for amcrest vs the standard one via the rstp url? Quality, speed, reliablity?', ""_cool_username_: Sorry for posting this here, in a semi-stale thread, but I cannot for the life of me get my Amcrest cameras to work in the frigate-hass-card with any framerate > 1fps.\n\nI can see my stream in the go2rtc page on Frigate, so I know I've configured that correctly.  In HA, this is what the yaml for the frigate-hass-card looks like:\n\n\n    type: custom:frigate-card\n    cameras:\n      - camera_entity: camera.front\n        live_provider: go2rtc\n        go2rtc:\n          modes:\n            - mse\n\nIt feels like it should be straight forward.  The go2rtc stream is silky smooth, the frigate-hass-card is a slideshow."", 'nickm_27: so to be clear, you have the go2rtc stream and frigate cameras stream with exactly the same name?', ""_cool_username_: Yes, but I think I figured it out!  I wasn't able to see the go2rtc streams if I navigated to my frigate server by hostname, but WAS if I navigated to it by IP.  So my reverse proxy was screwed up.  I have a few missing directives that were [here](https://docs.frigate.video/guides/reverse_proxy/#setup-reverse-proxy-settings), added them and it looks like I'm good to go.""]"
1682458386.0	25-Apr-2023 14:33:06	How can I make text from a template sensor more conversational friendly?	smdifansmfjsmsnd	5	12ywteh	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ywteh/how_can_i_make_text_from_a_template_sensor_more/	"Working on an Alexa briefing and trying to list out different states by group, but when she moves onto the next group it all mashes together like one run-on sentence and sounds bad.  Anyone know how I can create pauses or something that'll help?

&#x200B;

    alexa:
      flash_briefings:
        password: XXXXXX
        lightson:
          - title: What lights are on?
            text: >
              Apartment temperature is {{ states('sensor.group_temperature') }} degrees,  
              {%- if is_state('light.apartment_lights', 'on') %}
                {{ dict((states|selectattr('entity_id', 'in',
                state_attr('group.apartment_lights',
                'entity_id'))|list)|groupby('state'))['on']|map(attribute='name')|list|join(',
                ') }} on
              {%- else -%}
                Everything is off
              {% endif %}
              {%- if is_state('binary_sensor.apartment_contacts', 'on') %}
                {{ dict((states|selectattr('entity_id', 'in',
                state_attr('binary_sensor.apartment_contacts',
                'entity_id'))|list)|groupby('state'))['on']|map(attribute='name')|list|join(',
                ') }} open
              {%- else -%}
                Everything is closed
              {% endif %}"	7	"['mekaneck84: https://reddit.com/r/homeassistant/comments/11ulrcp/alexa_media_player_fyi/', ""tarzan_nojane: I have had success (and been somewhat entertained) by using Alexa Media Player's notify service and TTS to create customized announcements.  Making use of SSML gives you lots of powerful options.  \n  \n[Speech Synthesis Markup Language Reference](https://developer.amazon.com/de-DE/docs/alexa/custom-skills/speech-synthesis-markup-language-ssml-reference.html)"", 'ReallyNotMichaelsMom: She does pause for periods and correctly produces commas. Maybe stick periods at the end of your sentences?', 'ZAlternates: This is way cool.', 'smdifansmfjsmsnd: Tried setting up a simple notification to test out and she comes back and says “sorry I’m having trouble accessing your Simon says skill right now”.  Any ideas what I’m doing wrong?\n\n    alias: New Script\n    sequence:\n      - service: notify.alexa_media_kitchen\n        data:\n          data:\n            type: tts\n          message: Testing <break time=“5s”/> one <break time=“5s”/> two\n    mode: single', 'imfm: Try adding ""platform specific"" (without quotes) under Target.', 'tarzan_nojane: Do you have the HACS Alexa Media Player integration installed? I think you do.  \n  \nYou can readily test the notify capability and your customizations using Developer Tools > Services > Service: notify.alexa_media_kitchen']"
1682458309.0	25-Apr-2023 14:31:49	“One more episode”	The_Manoeuvre	28	12yws55	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yws55/one_more_episode/	"I had a great little automation idea today I’m sure most parents could relate to - telling your child they can finish this episode then the TV goes off…but then not realising another has started.

Today I set up and automation that runs a script when the media player pauses for 3 seconds. The script when ran turns off the media player and turns off the automation.

Now just to add “hey siri” command and a button on the dashboard to turn on the automation when required and I’m set!"	5	['dunderklumpen_swe: Brilliant! My kids are grown up, but this one I think I can use for myself 😂', 'ID10T_127001: I’ve done something similar without the need for scripting. Just using a few timers, workday sensors, binary sensors and actionable notifications \n\nDaily limit for tv is 1.5 hours during the week, 2 hours on weekends or holidays. When those limits are reached, Apple TV will power off. Powering it back on will execute a 5 second timer and power off again. This continues until timers are reset at midnight. \n\nWhenever the Apple tv is in state playing, timer counts down. No penalty for pausing or idle time. Not that mean ;)\n\nThe automations also depend on the app context for playing state. For example, if app is Disney Plus, state is playing, and during child awake time, timer decrements. If the above conditions except app context is Amazon prime, the timer remains idle as child cannot launch it from their profile. HA can’t see which user profile is active. \n\nFive minutes before timer expiry, adults get an actionable notification with one more episode or one more hour options. If dismissed, nothing changes. \n\nOne more episode sets a binary sensor which triggers an action to bypass the timer. When the episode, or movie has reached 0 time remaining, sensor is flipped and the auto power off action is active. \n\nOne more hour sets a binary sensor which activates a one hour timer which decrements, just as the primary one does. Upon expiry binary sensor flipped and back to auto power off action. \n\nI have a couple webhooks setup as shortcuts to extend and hour, one more episode, free day or restriction which does what one would expect by the description. \n\nBeen in place for about a month and works out pretty good. Also enforces by time of day. No 3am watching TV. \nI went a bit further a set up an automation that will place the Apple TV in a “jail” VLAN after 4 attempts to turn on the Apple TV after timer has expired. Maybe a bit too far but experimenting for when child gets older and tried to outsmart the parents.', 'DVXT: Really like this concept. But how do you deal with netflix? I find that when you open it and it starts doing the preview on the menu the state of the media player changes to playing, which presumably would mean the timer kicks in?', 'The_Manoeuvre: When you started with “without the need for scripting” I thought interesting a simpler approach!\nHow wrong I was - seems cool and all but way beyond my needs. Plus there are no child-exclusive apps in our house as I love me some Star Wars / Marvel', 'ID10T_127001: Kid does not use Netflix yet. Interesting though, launching Netflix does set state to playing. Calling service to pause,stop,pause_play or almost anything else takes you to the show and starts playing. That is one hell of an inconvenience. \n\nI did find a solution. Login to Netflix from a browser. Go to account settings.  Choose profile. Click change on playback settings. Uncheck “Autoplay previews while browsing on all devices”. Click save. \n\nSign out of Netflix from media device. Sign back in. No more auto play on launch of app for profiles with those settings.']
1682458147.0	25-Apr-2023 14:29:07	Z-Wave roller curtain motor	ahj3939	3	12ywpbt	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ywpbt/zwave_roller_curtain_motor/	I want the motor that just attaches to the chain. Does anyone make one that is Z-Wave? All I can find is tuya wifi (yuck) and zigbee.	4	"['peterxian: Not that I know of, but you could pair a [dc motor](https://a.co/d/eTkh7T6) and a [z-wave motor controller](https://www.thesmartesthouse.com/collections/zooz/products/zooz-700-series-z-wave-plus-long-range-dc-motor-controller-zen53) to make your own, the only tricky part finding the [right sprocket](https://a.co/d/1cHcgiH) for your chain.', 'danielszajkowski: I haven’t seen any either. But my zwave blinds (Bali) are fantastic.', 'tungvu256: seems diy is the only way. i dont wanna touch tuya as well, but i heard the zigbee tuya is pretty good.', ""ahj3939: I'm 100% on board with Tuya zigbee, but won't touch any of their wifi stuff unless it's confirmed it can be flashed.\n\nI would just prefer for this install z-wave since I had to use it for 0-10v dimmer.""]"
1682457904.0	25-Apr-2023 14:25:04	Addons missing?	skunkadelic	1	12ywlai	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ywlai/addons_missing/	"I am fairly new to this. I have installed HA on a QNAP. It is running, all of my lightbulbs, stereo, router, etc. show up and I am able to control them. When I go to settings I do not have an addons section. Can someone please tell me what I am missing? How do I enable it?  


https://preview.redd.it/ffixjonhl3wa1.png?width=658&format=png&auto=webp&v=enabled&s=54f6ccc519b4831080628bb61e9fc527a8e0292d"	11	"['UngluedChalice: I think since you aren’t running it as the HA OS you had to do the addons manually as docker containers.', ""skunkadelic: Seems so. That sucks. I wanted to use my pi as a voice assistant. I've got a seed mic array hat that doesn't seem to play well with HA OS but works fine with picroft. I'm not trying to shell out for a second pi with the prices where they are.\n\nThe reason I asked about the add-ons is I can't seem to change themes in this version."", ""Krojack76: Just a little info on why it's like this.\n\nHA on a NAS like you have is running in a container like Docker. When you run HassOS, it runs each addon you install in a container. So running HA in a container then addons in containers within a container isn't really wise. This is why addon aren't available."", 'LurkerTalen: Addons don’t help with themes, they’re for adding new capabilities in some way.\n\nI know there’s additional themes available through HACS, I don’t remember there being many out of the box options.', 'little_fancy: not as far as i know. i run HA supervised in docker on my synology. and addons are running in the same docker environment an not inside the HA container.', ""skunkadelic: That is what I was going for. I don't see HACS under integrations so my thought was it would be an addon."", ""Krojack76: Like I said, it's not wise. It's possible but not recommended."", 'LurkerTalen: You have to manually install it for it to be available. Follow the directions starting on https://hacs.xyz/docs/setup/prerequisites and wait for it to update then you can add themes or anything else from the community.', 'skunkadelic: Where should it show up? I ran the following, it said installation complete, I restarted. I do not see any changes.docker exec -it HomeAssistant bash (location of my HA container)wget -O - [https://get.hacs.xyz](https://get.hacs.xyz) | bash -  \n\n\nI also see the hacs dir under custom components.', ""LurkerTalen: Now it should show up under Integrations. Check  [Initial Configuration | HACS](https://hacs.xyz/docs/configuration/basic)  for full details (and don't ignore steps - they're needed and the browser cache clear is required for it to work)."", ""skunkadelic: Holy hell I need to go to sleep. 13 hours patching servers today. I literally said I didn't see it under integrations earlier and then forgot to look there after I restarted.  \nThank you very much for the help!!!!!""]"
1682456105.0	25-Apr-2023 13:55:05	Only 2 template sensors are showing	tadesk	2	12yvr7i	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yvr7i/only_2_template_sensors_are_showing/	"Hi,

I have configurated some template sensor from my termostats but in shows only 2 of them. Can somebody help me? 

Thanks

&#x200B;

    sensor:
      - platform: template
        sensors:
          temperature:
            friendly_name: ""teplota_predajna""
            unit_of_measurement: '°c'
            value_template: ""{{ state_attr('climate.sonoff_100187fc57', 'current_temperature') }}""
             
      - platform: template
        sensors:
          temperature:
            friendly_name: ""teplota_autosklo""
            unit_of_measurement: '°c'
            value_template: ""{{ state_attr('climate.sonoff_100187fcc1', 'current_temperature') }}""
            
      - platform: template
        sensors:
          temperature:
            friendly_name: ""teplota_dielna""
            unit_of_measurement: '°c'
            value_template: ""{{ state_attr('climate.sonoff_100187fcb8', 'current_temperature') }}""
            
      - platform: template
        sensors:
          temperature:
            friendly_name: ""teplota_kancelaria""
            unit_of_measurement: '°c'
            value_template: ""{{ state_attr('climate.sonoff_100187fcbd', 'current_temperature') }}"""	5	"['kunigit: Use the [newer syntax](https://www.home-assistant.io/integrations/template).', '_avee_: As other commenters said, you’re better off using new syntax.\n\nAs for what is wrong with your setup… It’s structured weirdly - you have 4 places where you define template sensors - and each of them defines a list of sensors (of length 1). And worst of all, all sensors are called “temperature”! I.e., all of them want to be called sensor.temperature.\n\nIf you want to keep this syntax, you can flatten the structure - i.e., move all sensors under the same “sensors” declaration and provide different names to them.', 'tadesk: But why 2 works and other not?', '_avee_: friendly_name is supposed to be display name - i.e., human-readable format like in your case “Teplota Predajna”, it doesn’t affect entity id.', 'kunigit: Fix your yaml formatting and it might fix itself. I\'m not going to speculate much on outdated syntax, but I\'m guessing it\'s because your ```temperature:``` lines are all the same. They\'re supposed to be different, but again, that\'s the old syntax.\n\nI think this would be your newer syntax, but this is untested.\n\n````\ntemplate:\n  - sensor:\n    name: ""temperature_predajna""\n    friendly_name: ""teplota_predajna""\n    unit_of_measurement: \'°c\'\n    value_template: ""{{ state_attr(\'climate.sonoff_100187fc57\', \'current_temperature\') }}""\n  - sensor:\n    name: ""temperature_autosklo""\n    friendly_name: ""teplota_autosklo""\n    unit_of_measurement: \'°c\'\n    value_template: ""{{ state_attr(\'climate.sonoff_100187fcc1\', \'current_temperature\') }}""\n  - sensor:\n    name: ""temperature_dielna""\n    friendly_name: ""teplota_dielna""\n    unit_of_measurement: \'°c\'\n    value_template: ""{{ state_attr(\'climate.sonoff_100187fcb8\', \'current_temperature\') }}""\n  - sensor:\n    name: ""temperature_kancelaria""        \n    friendly_name: ""teplota_kancelaria""\n    unit_of_measurement: \'°c\'\n    value_template: ""{{ state_attr(\'climate.sonoff_100187fcbd\', \'current_temperature\') }}""\n````\n\nSorry for mixed languages, I just copied and pasted from your friendly names. Change the ```name:``` lines as needed.']"
1682455402.0	25-Apr-2023 13:43:22	(Yet another) recommendation post for displays	HorseRadish98	1	12yvffe	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yvffe/yet_another_recommendation_post_for_displays/	"Hi all, I have HA up and working and loving it.  My wife (somehow) gave me the go ahead for building a wall mountable dashboard.  Would anyone have recommendations?  My current thoughts are

Must be:
* Wall mountable in some way
* Work with Pi (although I'm open to other single board computers)
* Touch enabled
* 10.1""+, I have full approval for even up to 20ish inches

with some nice to haves like
* Could power the Pi itself (has a USB port on it)
* Thin, so it could be more flush with the wall

I'm thinking it'd be nice to have something that I can mount directly to the wall, and later build a nicer frame around so it fits in better, maybe out of some spare trim or something.

Thanks for any input!"	6	"['mbcbt90: Get some Tablet and run the HA Companion App on it or get the kiosk Browser. Amazon Fire Tablet seem to be popular for this purpose. Or use some outdated model for cheap.\n\nAny other solution is more bulkier and expensive.', 'Krojack76: >get the kiosk Browser\n\nI use this for my Fire tablet. It\'s well worth the one time $5 to unlock everything.\n\nI enable the motion sensor via the camera so the display turns on when you walk in front of it... I can have it turn the sensor off at night when I go to bed and back on in the morning when I wake up.\n\nYou get so much control from this cool browser it\'s amazing.\n\nOh it also adds a media\\_player.device\\_name and you can play any sounds at anytime you wish. I have a chime at the top of the hour and other various sounds for notifications that play. \n\nWhen my cat uses the litter box, it plays a ""Meow"" sound so I know to go scoop the box. It also play a ""special"" sound at 4:20pm each day because, well because I donno, just for fun? =)', 'ChimaeraB: Amazon Fire tablet with wireless charging. You can then use the wireless dock as a stand or even a custom wall mount setup. \nUse fully kiosk browser…..it is a fantastic setup.', 'HorseRadish98: I had ruled out tablets because I didn\'t like mounting options, what do you use for mounting it?  I\'d like it to feel as much to ""part of the wall"" as possible', 'realsqlguy: Depends on how motivated you are!\n\nhttps://community.home-assistant.io/t/tablet-wall-mount-built-magetic-wireless-charging/158414', 'HorseRadish98: This is awesome!  Thank you for the link!']"
1682454565.0	25-Apr-2023 13:29:25	Tracking the car	droidmcse	2	12yv17h	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yv17h/tracking_the_car/	"Hey gang,

I am trying to work up an automation to open the correct door when me or my wife (and potentially son in the future) return home.

The way it is currently, is that when ""I"" enter the zone, my door opens and same for my wife that when she enters the zone, her door opens.

However, if we swap cars for whatever reason, the wrong door opens. 

I have a few ideas of what I'm trying to do, it's just a little beyond my skillset to resolve it.

I've added a d1mini to each car and am able to see their connection. The problem with these is that if you went turned on the car, long enough for the ping to engage, and then came back in the house, HA wouldn't know if the car left or was turned off.

I could include in the logic the garage door. It's pretty reasonable to assume that the car cannot leave without the door going up. That could be part of the logic.

I am looking for advise on helpers or a rough pseudo automation to help point me in the right direction.

Or maybe I'm going at this the wrong way entirely - feel free to let me know that too :)"	7	"['Laccolith: If you use the home assistant app on your phone, and connect to your car using bluetooth, you can use the bluetooth sensors provided by the app to determine who is in which car. I achieve it using this template sensor:\n\n    - binary_sensor:\n        - name: ""X Connected to Escape""\n          unique_id: ""sensor.x_connected_to_escape""\n          device_class: connectivity\n          state: >\n            {{ (state_attr(\'sensor.x_phone_bluetooth_connection\',\'connected_paired_devices\')!=None) and (\'B4:10:7B:84:2B:8F (Ford Escape)\' in state_attr(\'sensor.x_phone_bluetooth_connection\',\'connected_paired_devices\')) }}\n\nThen when you enter the zone, use this to determine which car you are connected to, and choose the matching door.', ""Bartlebyxxx: You could try to trak the GPS of a car. Somebody will surely have an idea, or you try to figure out how leaves with which car. You could track if a car is parked with a proximity sensor and when it leaves the person that leaves the zone next has the car. This won't work if you bring somebody to a train station or something and don't return with them unexpected, but maybe you could figure something out.\nAnother interesting idea might be to track the keys so if she picks up her key for your car it's clear your not driving. This requires a third key for your son which most people don't have.\nJust some quick ideas 😉"", 'jheizer: If you have a camera on the driveway you entering + car detected in a zone on one side of the driveway or the other depending on which door you are in front of.  May also involve waiting so maybe auto open the correct one, but also watch to see if it is the wrong one.', 'Jenova70: This. \nDid the same\n\nHere is a sensor that tracks my car based on the BT connections of my phone and my gf phone \n\nhttps://github.com/jlpouffier/home-assistant-config/blob/master/packages/cars/clio/binary_sensor_clio.yaml\n\nWorks very well', 'droidmcse: I never looked at what the companion app sees as far as Bluetooth. But yeah, this looks like the ticket. Thanks!', 'hirscheyyaltern: make sure you enable the sensor. most sensors are disabled by default', ""droidmcse: I looked at my phone and saw the bt device I was spongecake to. So I'll get her phone situated too.\n\nThanks!""]"
1682451986.0	25-Apr-2023 12:46:26	Navigation bar at the bottom	Comfortable_Grass_96	4	12ytsvo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ytsvo/navigation_bar_at_the_bottom/	"After the latest updates i can't move the navigation bar to the bottom.

I am using the mushroom theme."	1	['ZAlternates: How were you doing this before? I didn’t know it could be moved to the bottom. Did a community addon break?']
1682451983.0	25-Apr-2023 12:46:23	philips wall switch module in ZHA	ivicii	1	12ytstk	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ytstk/philips_wall_switch_module_in_zha/	"Hi,

I was wondering if the wall switch module from philips can be set easiliy with the skyconnect usb and zha: [https://www.philips-hue.com/en-gb/p/hue-philips-hue-wall-switch-module/8719514318045](https://www.philips-hue.com/en-gb/p/hue-philips-hue-wall-switch-module/8719514318045)

is it for example possible to dim lights when using it via ZHA in home assistant?"	2	['ivicii: Someone?', 'michaelthompson1991: Ooo interesting question, be good to know if someone knows']
1682451899.0	25-Apr-2023 12:44:59	Clarification on cameras for a somewhat-novice user	mrbiokman-8876	3	12ytray	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ytray/clarification_on_cameras_for_a_somewhatnovice_user/	"Hello everyone,

&#x200B;

Im building out my home assistant home and am confused about cameras and the terminology that is used when discussing them.

 My goals with cameras are as follows and #2 is most important and what i will be using the most

1. Store files locally (no cloud or paying for recordings)
2. **I want to be able to stream video to my phone when im at home AND not at home and using cellular (preferably without too much technical work with VPN's etc.)**
3. good home assistant integration.

&#x200B;

My confusion comes with the local control + streaming while im not home. Is something that WebRTC can do, or do i need to be on the same network as the camera to watch the feed?  If my main use of cameras is just viewing the feed when im not at home, is there any advantage to using something like reolink over a nest camera?

&#x200B;

Thanks for your help and sorry if these are stupid questions!"	3	"[""angrycatmeowmeow: Reolink can do all of that for nothing more than the cost of the cameras and either an NVR (preferred) or a microsd card in each cam. You will not get rich notifications from the reolink app without their cloud, but that's easily rectified with the HA integration (which seems to get better with every HA version). DIY your own notifications."", ""peterxian: If you want to access your camera streams, or anything inside your LAN for that matter, from outside your home (i.e. not on your local network), you need something on the public Internet. It could be a cloud provider, a secret VPN/tunnel you setup, or something more creative but it must be very, very secure. If you don't trust the camera makers' cloud services (and you absolutely shouldn't) then your choices are VPN/tunnel or a third-party service. If you're not interested in learning the technicals of how to set up the VPN/tunnel securely, I recommend a service. The best option is Nabu Casa Cloud, which provides remote access to HA for $6.50/mo. Another good option, if you have Apple stuff (HomePod/TV and iPhones), is they come with a remote access service (Apple Home) that works pretty well with Home Assistant (this is what I use). Note this is just for live streaming; accessing recordings is a separate issue altogether."", 'nickm_27: WebRTC is a transport / view type, it is not a function for providing the stream itself. It can work remotely, but your camera needs to support RTSP or similar and WebRTC depends on the type of network your ISP provides (it does not work behind a symmetrical NAT)']"
1682449729.0	25-Apr-2023 12:08:49	Aqara 2 button quirks doesn't work same as 4 button	NE556	3	12ysr6d	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ysr6d/aqara_2_button_quirks_doesnt_work_same_as_4_button/	"So I got a 2 button Aqara ZigBee, and I've been using 4 button. The 4 button quirks RemoteB486OPCN01V2 gives me \`single\`, \`double\`, \`hold\`, \`release\` for each of the 4 buttons. The 2 button RemoteB286OPCN01V2 only gives me \`step\` when I double press each button.

Anyone have any ideas? Is there some kind of magic ZigBee cluster I need to update for ZHA to give me what I'm expecting?"	0	[]
1682449083.0	25-Apr-2023 11:58:03	Aqara 2 button quirks doesn't work same as 4 button	NE556	3	12ysgla	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ysgla/aqara_2_button_quirks_doesnt_work_same_as_4_button/	"So I got a 2 button Aqara ZigBee, and I've been using 4 button. The 4 button quirks RemoteB486OPCN01V2 gives me \`single\`, \`double\`, \`hold\`, \`release\` for each of the 4 buttons. The 2 button RemoteB286OPCN01V2 only gives me \`step\` when I double press each button.

Anyone have any ideas? Is there some kind of magic ZigBee cluster I need to update for ZHA to give me what I'm expecting?"	3	"[""Krojack76: I've got the same device and that's all I've been able to get out of it..."", 'ZAlternates: I only have two on my Aqara button. \n\nAre you saying you got an Aqara button working with four or is that another brand entirely?', ""NE556: So I have some WXCJK12LM, identified as type \\` lumi.remote.b486opcn01\\`, which is considered a 4 button (even though it's only 2 'buttons' when you look at it, with a left/right or up/down sides). They're working how I would expect, with quirks \\`zhaquirks.xiaomi.aqara.opple\\_remote.RemoteB486OPCN01V2\\`\n\nThen I have a new WXCJKG11LM, identified as type \\` lumi.remote.b286opcn01\\` which is considered as having 2 buttons. It's using quirks \\`zhaquirks.xiaomi.aqara.opple\\_remote.RemoteB286OPCN01V2\\`. I'm getting the weird 'step' values, and only when double tapping. No single or hold/release.\n\nStrange thing though, I recently purchased and setup another WXCJK12LM 4 button, and it's using the same \\`zhaquirks.xiaomi.aqara.opple\\_remote.RemoteB486OPCN01V2\\`, but it's giving me the \\`step\\` on only 2 (one left/right panel) buttons on single press, or hold press. No double tap or release of any sort.\n\nI'm wondering if the model type is the same, but there's some updated firmware which they changed things, and we need some new quirks :(""]"
1682447469.0	25-Apr-2023 11:31:09	Dumb water meter device conversion possible?	RDSpt	1	12yrqr3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yrqr3/dumb_water_meter_device_conversion_possible/	"Lidl is beginning to sell these dumb water temperature and meter. How viable would it be to ""smartify"" these, and how would you do it?

https://preview.redd.it/x93i5nf5q2wa1.jpg?width=678&format=pjpg&auto=webp&v=enabled&s=4cdcbc6d148d519065810549d9d8e565d7c86b32"	1	['_Rand_: Possibly?\n\nI’d google the model name and ESPhome to see if anyone has done something with it already, but if not its still possible depending on how it works.  It will just be on the difficult side.\n\nAlternatively, projects like this exist.']
1682442066.0	25-Apr-2023 10:01:06	Button to toggle on/off 2 entities (for spa)	Th3R00ST3R	0	12yp9rb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yp9rb/button_to_toggle_onoff_2_entities_for_spa/	"I have 2 entities for my spa. Let's call them Spa and Spa High. The 1st turns on the spa and turns the actuators. The second boosts the RPMs so the bubbles turn on. Currently I only have 1 button that turns on the spa, but I would like it to trigger (toggle) on both and then turn them both off.I thought of using a script to do it so if the spa turns on, it then turns on the spa high, but that would require 2 buttons (one on and one off)

Is there an easy way for me to do this with one button. I have minimal YAML skills, so if it could be done in the interface, that would be helpful.  Thanks!"	5	"['Mdna2: Depending on your button (is it in the spa or external already?) you could create an automation to start both entities from the first button press and stop them from the second press.\nThis shoumd be easily done in the interface :)', 'mccmax95: You should be able to make a group of the buttons which will let you turn tem on and off at the same time https://www.home-assistant.io/integrations/group/', 'svogon: I do this with a couple of items with two automations.  Basically, if the state of Spa is on then call service switch turn on Spa High.  Do another automation that does the same except ""off.""  Unlike the script, you just use on/off for the Spa button.  This assumes you always want them on or off together.', ""Th3R00ST3R: Thanks, I think this is what I needed. That's more simple than button groups."", 'Th3R00ST3R: Worked like a charm and took less than 5 min to do. thanks!']"
1682441870.0	25-Apr-2023 09:57:50	Help centering horizontal stack in button card container	ayostepht	1	12yp63y	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yp63y/help_centering_horizontal_stack_in_button_card/	"https://preview.redd.it/oo16ttjx92wa1.png?width=407&format=png&auto=webp&v=enabled&s=edc8239fa824c0e3219c146620e8d667fa0bfffe

Hey All,

I'm just getting my feet wet with more ""advanced"" configuration options and am working on my mobile dashboards. Above is the start of my mobile music dashboard, and I've hit 1 major roadblock that I can't figure out (but is probably easy). In my experience, typically a horizontal stack will self expand to take up the whole card area, but for some reason I can't make that happen now. Any ideas, other than creating additional blank cards in my horizontal stack, to get my buttons to center? I'm hoping to re-use much of what I'm working on for the mobile music dashboard for other views that will contain different amounts of buttons, so figuring this out will make that process much easier. 

I'm currently using a container template ([https://community.home-assistant.io/t/fun-with-custom-button-card/238450](https://community.home-assistant.io/t/fun-with-custom-button-card/238450?u=ayostepht)), and some inspiration from u/Smeen89's dashboard they shared recently.

Thanks in advance!

**Template Code**

    button_card_templates:
      container:
        color_type: label-card
        color: rgb(240, 240, 240)
        styles:
          card:
            - padding: 0
          name:
            - border-radius: 0.4em 0.4em 0 0
            - padding: 0.1em
            - width: 100%
          grid:
            - grid-template-areas: '""buttons""'
            - grid-template-columns: 1fr
            - grid-template-rows: 1fr min-content min-content
          custom_fields:
            buttons:
              - margin: 0
              - padding: 0.3em

**Top Card Code**

    type: custom:button-card
    template: container
    name: Speakers
    show_name: false
    custom_fields:
      buttons:
        card:
          type: horizontal-stack
          cards:
            - type: custom:button-card
              entity: input_boolean.sonos_playing_status
              name: Sonos
              icon: mdi:sofa
              show_icon: true
              show_name: false
              show_state: false
              size: 50%
              tap_action:
                action: toggle
              hold_action:
                action: more-info
              styles:
                card:
                  - height: 60px
                  - width: 60px
                  - border-radius: 100%
                  - background-color: rgb(254, 254, 254, 1)
                  - border: 1px solid rgb(0, 0, 0, 0.5)
                  - box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15)
                  - align-self: middle
                icon:
                  - color: rgb(90, 153,92,1)
              state:
                - value: 'on'
                  styles:
                    card:
                      - box-shadow: inset 0px 1px 3px 0px rgba(0,0,0,0.35)
                      - border: 2px solid rgb(0, 167, 11)
            - type: custom:button-card
              entity: input_boolean.everywhere_playing_status
              name: Everywhere
              show_icon: true
              show_name: false
              show_state: false
              size: 50%
              icon: mdi:home
              tap_action:
                action: toggle
              hold_action:
                action: more-info
              styles:
                card:
                  - height: 60px
                  - width: 60px
                  - border-radius: 100%
                  - background-color: rgb(254, 254, 254, 1)
                  - border: 1px solid rgb(0, 0, 0, 0.5)
                  - box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15)
                  - align-self: middle
                icon:
                  - color: rgb(255, 202, 55, 1)
              state:
                - value: 'on'
                  styles:
                    card:
                      - box-shadow: inset 0px 1px 3px 0px rgba(0,0,0,0.35)
                      - border: 3px solid rgb(0, 167, 11)
            - type: custom:button-card
              entity: input_boolean.bathroom_playing_status
              name: Bathroom
              show_icon: true
              show_name: false
              show_state: false
              icon: mdi:bathtub
              size: 50%
              tap_action:
                action: toggle
              hold_action:
                action: more-info
              styles:
                card:
                  - height: 60px
                  - width: 60px
                  - border-radius: 100%
                  - background-color: rgb(254, 254, 254, 1)
                  - border: 1px solid rgb(0, 0, 0, 0.5)
                  - box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15)
                  - align-self: middle
                icon:
                  - color: rgb(65, 106, 154, 1)
              state:
                - value: 'on'
                  styles:
                    icon:
                      - color: rgb(90, 153 ,92, 1)
                    card:
                      - box-shadow: inset 0px 1px 3px 0px rgba(0,0,0,0.35)
                      - border: 3px solid rgb(0, 167, 11)
    view_layout:
      grid-area: A

**Grid Layout Options**

    grid-template-columns: auto 400px auto
    grid-template-rows: auto
    grid-template-areas: |
      ""Gutter1 A Gutter2""
      ""Gutter1 B Gutter2""
      ""Gutter1 C Gutter2""

  ""Gutter1 D Gutter2"""	2	['MainstreamedDog: In the Styles section, you ca use something like this for positioning within your grid:\n\ncustom_fields:\n    clouds:\n      - font-size: 14px\n      - align-self: middle\n      - justify-self: left\n\nIn some other cards I use direct positioning:\n\ncustom_fields:\n    icloud3zone:\n      - position: absolute\n      - left: 2%\n      - bottom: 9%\n      - font-size: 9px\n\nAll in all, recommend the share your projects of button cards Thread on the HA forum.', 'FantasyMaster85: I’d probably just add “margin-left: 20px” (or whatever pixel value needed) to whatever set of elements you need to move to the right.\n\nEDIT:  This is a relatively generic answer as I have no experience working with cards mentioned here. I’d also be using card-mod, which I didn’t look over your yaml thoroughly enough to see if you’re using that.']
1682440882.0	25-Apr-2023 09:41:22	Yale doorman card	j0hanSE	0	12yopdc	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yopdc/yale_doorman_card/	"How's everyone done with their yale / August integration. 

Any good front-end card?"	0	[]
1682438969.0	25-Apr-2023 09:09:29	WebRTC certificate challenges	look_ima_frog	1	12ynt9q	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ynt9q/webrtc_certificate_challenges/	"I am running a Ubiquiti UCK G2 which hosts my cameras. When I add them to my default dashboard, they display about 60 seconds behind. If I view the feeds from the Unifi app, they're within a second or two of real-time. To attempt to handle the latency being imposed, I have installed WebRTC. It loads, but the cards won't display the feed and instead I get an error message: [0m[31m""x509: certificate is valid for 127.0.0.1, fe80::1, not 192.168.1.2""[0m [36murl=[0mrtsps://192.168.1.2:7441/<redacted>?enableSrtp (I pulled that from system logs after enabling debug logging for WebRTC). 

So 192.168.1.2 is my NVR where the video feeds are hosted. If if view it in VLC, the URL provided is in near-real time, so the feed link is OK. What I don't understand is what the app is referring to as ""127.0.0.1"". I know that address refers to ""me"" but who is me in this case? My HA? The WebRTC app? I presume that the certificate is wrong, but where do I correct this? I can't find any useful information on the WebRTC github page and I don't want to break the local certs for my HA. Would anyone have any detailed experience as to what cert is being referenced here?"	3	['nickm_27: WebRTC integration uses go2rtc behind the scenes. Go2rtc doesn’t like the unifi rtsps so you just need to change the url to be rtspx and remove the ?enablesrtp', 'look_ima_frog: Wow, holy crap, that worked perfectly. Thank you so much!']
1682435873.0	25-Apr-2023 08:17:53	Best ZWave and Zigbee USB sticks for HA in 2023	RoachForLife	12	12ymejy	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ymejy/best_zwave_and_zigbee_usb_sticks_for_ha_in_2023/	"Hi all, so Im less than a week into HA and enjoying it so far. Def a good amount of work but getting things mostly to where I want them. Next to tackle are Zwave and Zigbee devices.

I was leaning towards the Zooz 800 series zwave stick as i believe its the newest and long range and whatnot. On the zigbee side I wasnt quite sure. I have seen a bunch of threads but most are 1-2years old so Im mainly posting this to see what is the best as of April 2023. Also to note was hoping for a relatively plug and play experience. FWIW I am using a VM thru my NAS however its my understanding it has complete usb pass through so no issues there. Thanks!"	47	"[""bob_the_lego_builder: Sonoff ZBDongle-P is still recommended one for zigbee.  There's a newer Sonoff ZBDongle-E but its still experimental and heard some people having issues."", 'chozobee: My zzh has never let me down- [https://electrolama.com/projects/zig-a-zig-ah/](https://electrolama.com/projects/zig-a-zig-ah/)', 'RoachForLife: Thanks for all the replies gang. For Zwave sticks, is the Zoos 800series a good one? Thanks', ""Krojack76: I just got a [SONOFF Zigbee 3.0 USB Dongle Plus-E](https://www.amazon.com/gp/product/B0B6P22YJC/) and it's working much better than my old [GoControl HUSBZB-](https://www.amazon.com/gp/product/B01GJ826F8/)1 stick. The down part about the Sonoff I got is it's version 2. A link below with more info about that.\n\nNow I did also offload my zigbee from HA ZHA to a Docker install of Zigbee2MQTT. I route from that to a MQTT broker which HA connects to. Not sure if this also had any effect in speed but ALL my devices react a bit faster on top of having better link quality. I feel like the larger external antenna helps a lot more.\n\nNow I'm looking for a good Z-wave hub replacement. \n\n&#x200B;\n\n[https://community.home-assistant.io/t/itead-s-sonoff-zigbee-3-0-usb-dongle-plus-v2-model-zbdongle-e-based-on-silicon-labs-efr32mg21-20dbm-radio-soc-mcu/442695](https://community.home-assistant.io/t/itead-s-sonoff-zigbee-3-0-usb-dongle-plus-v2-model-zbdongle-e-based-on-silicon-labs-efr32mg21-20dbm-radio-soc-mcu/442695)\n\nSo the V2 uses different firmware than the V1 and can't be flashed with the older tools. Mine works and doesn't seem to need a flashing but I hope some tools come out in the future that makes flashing it easier."", 'snaky69: Having a good experience with zdongle-p so far.', 'RoachForLife: And probably a dumb/newbie question but I am coming from Smartthings. It seems it may be possible to utilize this as an integration without the user of the NABA paid subscription. I presume moving things over to zwave and zigbee dedicated controllers on my HA is going to be better than just connecting to Smartthings?', 'ams3401: I use ZST10-700 by Silicon Labs', 'Dangerous-Clothes-23: I have been using a Sonoff-e for a couple of weeks and everything is perfect with z2mqtt. Before I had the conbee2, currently I have about 35 zigbee devices including bulbs, plugs, switches, sensors of all kinds and brands. I’m super happy with the Sonoff-e.', 'Rangandi: Do not buy a skyconnect right now', 'Large-Adhesiveness94: Using sonoff e for a month now. Working without issue.', 'No_1_OfConsequence: For Zigbee check out https://slae.sh/projects/cc2652/', 'ChipBeef2354: Hubitat C8', ""SirCampalot: I'm using Sonoff ZBDongle-P. HA runs as VM in UnRaid.\n\nSimply add dongle as device to HA and it runs out of the box. No fiddling needed."", 'MowMdown: No issues with the E version', 'peterxian: Zooz makes good sticks but before you get the 800-series, be aware that it’s pretty new and still might have some kinks to work out — there is an [issue at zwavejs](https://github.com/zwave-js/node-zwave-js/issues/5257) tracking the 800-series stick and ongoing incompatibilities. I’m testing their new GPIO module but am not using it for my main network yet.', 'elisspace: mine has worked flawlessly thus far. every time I press a button on a linked device it responds nearly instantly. Not a single missed step yet.', 'AZX3RIC: I don\'t have the technical knowledge of many people on here but I\'ll tell you ""better"" is subjective. \n\nIf you want a simple easy to use setup Smartthings is the way to go. \n\nIf you want an extremely flexible platform that you have full control over then HA is the way to go. Doing this, however, also means researching and troubleshooting everything yourself and angering your significant other when things don\'t work properly and she doesn\'t understand why you\'re obsessing over this when you can just turn on a light switch instead of talking to the house.', 'zSprawl: Why not?', 'michaelthompson1991: Mines been rock solid', ""400HPMustang: I've not had a problem with mine."", 'DerDennis87: Why ? It Works great. OP, I would buy skyconnect again !', 'BadPunFactory: Apparently you can use it with HA and also place it in a location that is better for your devices.', ""Uninterested_Viewer: It's still experimental with zigbee2mqtt. ZHA should be fine."", 'zSprawl: I would also hold off on the 800 since it did take them a while to work out the kinks on the 700. The 700 runs solid for me though.', 'RoachForLife: Sorry let me rephrase my question.\n\nI am planning to use HA moving forward. I love having everything all in one place and the level of control and flexibility. What I mean is that there is an integration from HA to Smartthings either thru NABA or thru a manual method (havent really looked into if this is free or what is involved). Just wondering as it relates to getting a zwave and zigbee dongles if maybe just linking to my existing Smartthings makes sense. I realize the main downside is it uses the cloud and not local but thinking about it\n\nSorry if this is what you actually meant. Just wanted to clarify it wasnt about selecting a hub platform but rather if I should link HA to ST or just keep all in HA via dongles. Thanks', 'peterxian: Personally I would wait until it is fully supported by zigbee2mqtt; right now it’s only “experimental”', 'fortisvita: Same. I was surprised to see people shitting on it in one of the previous posts.', 'MowMdown: I’ve been strictly using it with Z2M for the last 6 months', 'InternationalReport5: My Aeotec 700 is still pretty trash. Devices randomly disconnect like once a week and require a ping.', ""jasonsf: I'm doing exactly that. I use the smartthings integration. What it requires is a way for the smartthings Internet servers to directly access your ha box. I'm using a cloudflare tunnel that is unsecured for anything hitting that endpoint. Works well but requires Internet. I'm planning to slowly transition devices from smartthings to ha but most of my devices are zwave and I haven't gotten a zwave dongle yet."", 'zSprawl: Agreed but I’d recommend ZHA and Skyconnect for a new user in a heartbeat.', 'michaelthompson1991: Yeah I’ve heard so many people with problems but mines been fine 🤷🏼\u200d♂️', ""Uninterested_Viewer: Got it. Your comment made it sound like you are refuting that known issues exist for it, which they certainly *do* exist to the point that the lead dev recommends against using it on Z2M. ZigBee is very network-to-network when it comes to issues so I'm not at all surprised that you've personally not experienced problems with it."", 'Krojack76: I just setup mine up with Z2M about 2 weeks ago. went very smooth and works better than ZHA via my old GoControl HUSBZB-1.', 'RoachForLife: Thanks all, is there any other zwaves you guys recommend that are tried and true? I suppose they are cheap enough I can update down the road', 'zSprawl: I have the Zoozs brand with the latest firmware. The earlier firmwares had a ton of issues with devices going dead like you’ve described. Not sure if it was the same with Aeotec, but it’s worth checking.', 'RoachForLife: Thanks for the feedback. I suppose it may be worth trying out before I order the dongles. How much delay is there in any action? Fairly responsive still? Thx', 'zSprawl: Those having issues are more often than not trying to use Z2M, and the devs have even said it is only experimental so use at your own risk for now.', 'swampjedi: I had tons of issues with Sonoff zigbee sensors using the -E, totally went away when I got a -P. This was a few weeks back.', 'MowMdown: The recommendation from the dev is out of date', ""InternationalReport5: I did the FW update, it didn't do much."", ""jasonsf: I think there is a slight delay but for my purposes it is fine. There are some quirks, like for a remote I have, the only entity that gets created in ha is the battery status. I've created virtual buttons in st that show up in ha. I have the different remote actions (click, double click, etc) press those buttons. Then I use those buttons in ha to trigger automations. Overall it works fine. But you lose the ha promise of going 100% local."", 'michaelthompson1991: Yeah that’s exactly why I’m using ZHA', 'Uninterested_Viewer: The ""experimental"" status is in the official docs stating ""don\'t use this if you want a stable setup"", but I\'m sure you know best.\n\nhttps://www.zigbee2mqtt.io/guide/adapters/#experimental', 'zSprawl: Can you provide recommended guidance showing as such? Some people have no issues but some very much do. It’s the same with the Skyconnect.', 'MowMdown: That note on that page regarding the Dongle E is outdated...\n\nIf people actually paid attention to the updates... smh', 'Uninterested_Viewer: Cool. Go create a PR to update that outdated note and see how that goes.']"
1682435701.0	25-Apr-2023 08:15:01	Wyze Camera integration - Several options, questions on them	RoachForLife	1	12ymbtl	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ymbtl/wyze_camera_integration_several_options_questions/	Hi all. So I have a few Wyze cams. I originally got it up and running thru the Wyze Docker Bridge. It works, however Ive been reading people that seem to advise against it for some reason. I then realized I never installed HACS and saw it had a different Wyze integration. Got it up and running but for the cameras, I can only see the state, not the feed itself.  At this point, the docker method seems better but not sure if Im missing something or anything else worth exploring for Wyze cameras? Thanks as always!	8	"[""nickm_27: > I originally got it up and running thru the Wyze Docker Bridge. It works, however Ive been reading people that seem to advise against it for some reason.\n\nfrom what I've heard, that one works the best. Then again, wyze in general does not work well"", 'RoachForLife: For those using Frigate, I am attempting it again\n\nDid you all grab the RTSP value from the drop down in Docker Wyze Bridge?  Here is my frigate.yml\n\n&#x200B;\n\n \n\ncameras:  \n wyzebabycam:  \n ffmpeg:  \n inputs:  \n\xa0 \xa0 \xa0 \xa0 \\- path: rtsp://IP:8554/baby-cam  \n roles:  \n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \\- detect  \n detect:  \n width: 1920  \n height: 1080  \ndetectors:  \n cpu1:  \n type: cpu  \n cpu2:  \n type: cpu', ""jheizer: Mine go Wyze Docker Bridge -> frigate -> HA  I've found Wyze Docker Bridge method to be very reliable."", 'RoachForLife: Yeh wish I was on HA before I bought 8 of these things lol. Thanks for the feedback on docker', 'RoachForLife: Yeh I still want to tackle Frigate later this week and see if I can get all of that up and running. It wasnt starting last I tried but Ive been tinkering non stop over the last 3 or 4 ddays (just installed HA 4 days ago so its been a whirlwind getting all devices online). Thanks', ""Humbly_Hubris: So if you go docker bridge to frigate to ha, you don't need the other wyze integration?"", ""jheizer: I didn't even realize they had a ha integration.  Yeah everything goes thought frigate."", ""Humbly_Hubris: Awesome. I just got my coral. As soon as I figure out how to add my USB hard drive for the frigate recording, I'll be in business""]"
1682435552.0	25-Apr-2023 08:12:32	Govee bluetooth device and water leak sensor integration - possible?	RoachForLife	2	12ym9f5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ym9f5/govee_bluetooth_device_and_water_leak_sensor/	"Hi all, so I got the HACS govee integration going, and working well. I have a couple bluetooth devices which of course don't show since they aren't wifi. Curious if possible to do this somehow, even if I had to get some sort of BT dongle to extend the range closer to the device?

&#x200B;

Also i have about 12 water leak sensors from Govee. I was surprised they didn't show up but I suppose because they use their own gateway hub device. has anyone had any luck integrating those? 

Thanks all!"	4	"[""Krojack76: I use a [TP-Link USB Bluetooth Adapter](https://www.amazon.com/gp/product/B07V1SZCY6/) thats plugged into a [cheap USB 2.0 hub](https://www.amazon.com/gp/product/B08GYPDDLL/). This hub is on the end of a 6 foot USB extension to get it away from my server rack. \n\nFor USB, try installing [Passive BLE Monitor integration](https://github.com/custom-components/ble_monitor) via HASC. It seems to do all things bluetooth and is always being updated with new devices.\n\nI have 1 Govee BLE temperature sensor and it works just fine using the above.\n\nP.S. I also plug my Zigbee and Z-wave sticks into that same USB hub. It's best to get anything that uses radios away from electrical fields\n\nThe setup: [https://imgur.com/a/QkCvTBN](https://imgur.com/a/QkCvTBN)"", 'ElGuano: I think the Govee BT integration is for temp/humidity sensors only? \n\nhttps://www.home-assistant.io/integrations/govee_ble\n\nAnd the HACS one is for lights only?\n\nI have both, and none of them can see my Govee\nHumidifier.', 'RoachForLife: Thanks. I am actually referring to BT lights (older ones before wifi was am option). Not sure if this would be compatible', 'RoachForLife: Yeh I saw the BT one but it shows just humidity sensors only. Was hoping there was another solution out there']"
1682434237.0	25-Apr-2023 07:50:37	Smart Thermostat Recommendations	spudd01	8	12ylni9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ylni9/smart_thermostat_recommendations/	"I am in the market to get some smart thermostat valves and ideally want these to work with homeassisstant without the need for the cloud. 

A family member has a honeywell system with smart radiator valves and i do like the inhome control panel for turning on rooms, but from my research at the time it didnt look like it could work without the cloud.

I've seen some posts that tado work without the cloud using homekit bridge - anyone comment on their experience with it? And what about the likes of Nest and Hive?"	22	"['brewditt: I have 3 ecobee, and like them', 'Necessary_Ad_238: i have a 2nd gen nest and honestly been disappointed with the ability to integrate it into HA. Huge PITA, cloud only access, no local API. Our local energy company has a rebate program for programmable thermostats so i just ordered the new Ecobee Premium. Should be here thursday. looks really promising.', ""your_favorite_quote: I am using Tado with home assistant via homekit and haven't really had any issues.  Albeit I don't really use a lot of the features like open window detection or geofencing.  I had a firewall rule blocking the Tado bridge from accessing the internet at one point but disabled it to update the firmware on some of the devices recently.  The only small complaint is that you do have to use their app to enable or disable the child lock feature on the radiator valves."", 'Trayja_Polar: You can compare the specifications and features of the major current models here: [https://www.sortabase.com/SmartThermostats](https://www.sortabase.com/SmartThermostats)', 'Kitchen_Software: Honeywell T6 pro (Z wave). Bought a used unit on eBay, had it for a year, zero issues. \n\nWe have central, single-zone HVAC, so I cannot speak to any other config. I just use HA to auto adjust based on temp sensors, sun, windows open/closed, etc.', 'brewditt: No I have 1 on each floor. The higher model I have comes with a remote temp sensor you can place in another room to help out', ""-entropy: Is this for the US or UK? I haven't seen many US trv options. Or I don't know where to look for them. Everything makes it seem so easy but I'm almost sure I'd need a plumber to install them on my US radiators, right?"", ""mangiespangies: Alternatively get a cheap Govee thermometer and hygrometer for each room, and smart reliable boiler switches, and use Dual Smart Thermostat to control heating.\n\nI've ditched my Lightwave thermostats and gone down this route."", 'Xtasy0178: As always… depends where you live.', ""TheRealNap0le0n: Skip Nest \n\nI have a nest learning thermostat and it's a pain to integrate and it doesn't allow usage of the nest room sensors, also the nest sensor schedule is asenine only allowing you to choose which sensor to use during 4 pre determined time blocks that you cannot adjust the time."", 'Manodactyl: I’m still rocking radiothemostat ct50. They discontinued their clod service, still works perfectly via home assistant since it has a local api. Should be able to pick them up cheap since the clod function no longer works.', 'spudd01: is it designed as a 1 per room type system?', 'spudd01: Good to know, I was originally looking at nest but cloud only is a no go for me', ""your_favorite_quote: Shelly also has some nice looking ones but they weren't available back when I was in the market so I don't have any experience with them. https://www.shelly.cloud/en/products/shop/shelly-trv"", 'Logimac: Can I use Tado homekit controller without having homekit?', 'toddrob: I have 3x ecobee on a 3 zone system, but when my internet was out after a hurricane and the ecobee clocks were set to random times which screwed up my schedules, I started looking into local options. Honeywell T6 Pro z-wave is where I landed, but the project is sitting on the back-burner.', 'if_i_fits_i_sits5: Honeywell T10 Pro Wi-Fi). Works great over HomeKit. Blocked it from the internet and it still works but has a few persistent notifications about being unable to check weather. \n\nHad an ecobee before and really liked it.', ""your_favorite_quote: I am actually in the US and just ordered all of my Tado stuff from amazon.co.uk .  Shelly has their smart TRV available in the US now but didn't at the time I was looking https://www.shelly.cloud/en-us/products/product-overview/us-shelly-trv/ .  Whether or not you need a plumber to help install them would depend on the valves you currently have installed."", 'Better-Sundae-8429: I have two Ecobee, also one per floor. Ecobee sells additional sensors you can use for rooms, but I have Sonoff SNZB-02s in every room and use that temp data to influence actions.', ""-entropy: Well that's fantastic! Thanks for the info. We just have twist valves so I'm not sure about retrofitting. How did you figure out whether you needed something special?"", 'Arrabiki: Mind elaborating on how you’re doing this?  I have temp sensors in most rooms that tend to be more accurate than the ecobee ones so I’m thinking of using those but trying to maintain the existing functionality.', 'Better-Sundae-8429: Zigbee']"
1682433173.0	25-Apr-2023 07:32:53	Unlock my front door when i get home	jgeorge1983	1	12yl61z	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yl61z/unlock_my_front_door_when_i_get_home/	"I'm looking for the safest automation to unlock my front door, but i dont want it to randomly go off when im home.  so i want it based on location and wifi.  I tried with the below, but when i return into the zone, im not connected to the wifi straight away, anyone set anything like this up?

&#x200B;

    alias: Security - Jay Returns Home
    description: """"
    trigger:
      - platform: zone
        entity_id: person.jay
        zone: zone.home
        event: enter
    condition:
      - condition: state
        entity_id: sensor.iphone_ssid
        state: <ssid>
        enabled: false
    action:
      - delay:
          hours: 0
          minutes: 0
          seconds: 30
          milliseconds: 0
      - device_id: a163caaae1e20c366ac24443314a18db
        domain: lock
        entity_id: lock.front_door
        type: unlock
      - service: notify.mobile_app_iphone
        data:
          message: X is home
      - delay:
          hours: 0
          minutes: 1
          seconds: 30
          milliseconds: 0
      - device_id: a163caaae1e20c366ac24443314a18db
        domain: lock
        entity_id: lock.front_door
        type: lock
    mode: single

Thanks for any thoughts"	26	"[""flaquito_: I'm doing exactly the same thing, but there's a much simpler way.\n\nThere's an iPhone Device Tracker integration available from HACS, which does a very good job of detecting phones on wifi, even Android phones. I have my phone set up with a DHCP reservation from my router so it always gets the same IP address, and then that IP address is used in the iPhone Device Tracker. It actually creates a device tracker, say `device_tracker.jay_wifi`, that you can add as an additional device to your `person.jay`. Then all you need to do is automate based on your status. I would recommend using home/not_home instead of zones. So:\n\n    trigger\n      - platform: state\n        entity_id: person.jay\n        to: home\n\nThis has worked flawlessly for me. Rarely is the door still locked by the time I get to it, and it never sets me away while I'm home."", 'realsqlguy: I have six people coming and going, and using a combination of\n\n* iPhone Device Tracker (even for Android phones)\n* Google Maps integration\n* Home Assistant client app location\n\nI unlock doors and open garage door upon arrival, or, if everyone leaves home, lock the doors and close the garage door.', 'Acsteffy:  face unlock with frigate and double-take?', ""Kristopher_73: I have an unlock for the wife and some other things, but personally, I have one automation only for locking the deadbolt.\n\nWhen the door closes, lock the deadbolt... that's it nothing fancy and nothing else matters, door closes and it locks."", ""Ok-Jury5684: I got BLE trackers for this. If I'm not home, and my keys/wallet are approaching, door unlocks. Same for my wife. Had to write my own integration for this to work smoothly, but by the time, needed to walk from elevator to the door, it's ready to open. Closest device to the door is SONOFF NSPanel with ESPHome (I use it as alarm panel too).\n\nWhen door is shut for 10 seconds (in case I forgot something or someone) - locking it.\n\nIf lock was unlocked, but door was not opened, it will re-lock after 1 minute."", 'SwissGuyInNorway: I think this is not safe. Everyone that has your phone can open your door. Find a second independent trigger or state to make it more safe.', 'Additional-Card-7249: I suggest you don’t do this.\n\nI always consider “what if this went wrong?” \n\nWith lights, music, shades etc? Inconvenience. \n\nFront doors and your garage? The safety of your home and family.', 'jgeorge1983: Worked, perfect.  Thanks', 'jgeorge1983: Ok that sounds cool, I’ll give that a go.  Seems simple enough.  Thanks', 'Appropriate_One_1341: Interesting! Is this the integration that you are talking about?https://github.com/mudape/iphonedetect\n\nAnd if yes: How is the impact on your phones battery since it’s pinging the iPhone every twelve seconds?', 'jgeorge1983: 6 people, sounds like some complex settings', 'naynner: This is what I came here to say. Have a fail safe. My door only unlocks if my location is marked as home (or on WiFi) AND motion is detected at the front door. Then, if the front door is not opened or my location changes lock the door again. \n\nWe take walks at a park that brings us close to home before we’re actually there so the re-locking was a must. Only a few times in the last couple of years has the door not been unlocked when I get there.', 'jgeorge1983: I can see what you mean.  I’ll have a think.', ""Ok-Jury5684: Really, how tough 80% of deadbolts are? One good kick, or 10 seconds of jiggling pick?\nIf someone wants to get into your house, locked door won't stop them. As Paul Hibbert says, any burglar will just use a rock and window trick."", 'ZAlternates: What is going to go wrong that doesn’t already happen with lost keys or stolen garage door openers?', 'flaquito_: Great!', ""flaquito_: Yup, that's the one! I have an Android (Galaxy S21) and can't remember any noticeable battery impact since I started using it."", ""flaquito_: I have 3 people that I track, and I put them all into a group. I just act on the home/not_home state of the group, and it's ridiculously simple."", 'realsqlguy: No, not really', 'ZAlternates: It just means your phone is your key. This isn’t any worse than someone having your key and they would have to know it functions this way. \n\nLikewise some people are worried about the garage yet everyone in the last decade leaves those garage door openers on the car visor, which of course can be stolen. Not to mention it’s blatantly obvious what this does.', 'Additional-Card-7249: True, but just because a burglar can break your window and enter doesn’t mean you leave all your windows open', 'jgeorge1983: I just realised I can do the same thing for my watch!!', 'Appropriate_One_1341: Thanks a lot:-)', ""Ok-Jury5684: Open window is visible. Unlocked door isn't. \n\nNo one says you keep the door unlocked though. Actually, if I'm not home and the lock is getting unlocked, I will get notified. There's also alarm system in my flat. It's enough for me to consider it okay."", 'flaquito_: No problem!', 'ZAlternates: Agreed. \n\nYou can setup notifications and be MORE secure than a dumb lock.']"
1682432579.0	25-Apr-2023 07:22:59	1. Automation - how?	HerbDe	1	12ykwgj	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ykwgj/1_automation_how/	"Hi,
On surplus PV energy I want to activate a light vía a tasmota plug which I access via mqtt. 
I have a sensor 
Sensor.huawei.einspeisung
Which should have a number higher then 300. Then I would like to send a Power on to my tasmota. 

How do I Start?"	2	['4241342413: What have you tried?', 'HerbDe: &#x200B;\n\nhttps://preview.redd.it/y9akqiws79wa1.png?width=993&format=png&auto=webp&v=enabled&s=5d1fe85432881adc20530a3686d9c4795123b572\n\nDont even know if any of that is correct or what to write in Action...']
1682430400.0	25-Apr-2023 06:46:40	Day of week using UI Only - Configuration	matthewflinchbaugh	2	12yjxoa	homeassistant	https://community.home-assistant.io/t/day-of-week-using-ui-only/564385		1	['ZAlternates: You can use day of the week condition under the time option. \n\nYou trigger on time. \n\nYou check the day as a condition.\n\nhttps://i.imgur.com/EydIqh4.jpg']
1682429196.0	25-Apr-2023 06:26:36	Sonoff iFan04-L randomly turning on light	nw0915	1	12yjeq0	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yjeq0/sonoff_ifan04l_randomly_turning_on_light/	In the middle of the night last night I was woken up by my ceiling fan light turning on. This has happened before and I can hear the relay in the ifan clicking on to turn on the light but the logbook is Home Assistant doesn't show anything. Any idea why this might be happening and how I can stop it so I can keep using the ifan to control the light?	6	"['400HPMustang: How do you have it integrated with Home Assistant? the Sonoff-LAN integration?  or something else?', ""nw0915: Yes I'm using this one. And in the Sonoff/eWeLink app I have LAN control enabled\n\nhttps://github.com/AlexxIT/SonoffLAN"", '400HPMustang: I flashed my iFan04L with HAA firmware before I got rid of it so I can\'t specifically say the problem is device specific. \n\nI have a Sonoff RF bridge using the Sonoff LAN integration though. My experience with that is that it\'s not stable. Something happens...and I cannot tell if it\'s device level or integration level...that causes the RF bridge to ""think"" there was a button press on one of the RF devices I\'ve paired with the bridge which in turn causes a TTS automation to fire. Of course that automation should not fire. \n\nI tell you all of that to tell you that to say that I think that maybe it is the integration and the same thing is happening to your light...an inexplicable device control being fired.', ""nw0915: I did actually check the state history again and it does look like it goes unavailable and then turns the light back on. So maybe when the device reconnects it's triggering the light to turn back on? I could assume the wifi connection should be fine because the router is in the next room over"", ""400HPMustang: I think it is when it reconnects, I think that's similar or exactly what I see with the RF bridge but I don't think it's necessarily the device being the problem. I think it's something in how the Sonoff LAN integration handles reconnects."", 'nw0915: Definitely sounds like it. I do have smart bulbs in there so I leave the iFan light control on all the time so I might try disabling that entity and see if it helps']"
1682428232.0	25-Apr-2023 06:10:32	External Access Disabled	SamuelAbrahams	4	12yizsw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yizsw/external_access_disabled/	"Hi there, I am totally new to this, and I am setting up a dashboard on my android tablet with HomeHabit, and I want to link Home Assistant, but it requires the platform URL. When I put mine in, the webpage does not load. In the Home Assistant, it says that external access is disabled. How do I fix this? (macOS)

https://preview.redd.it/tz6c02id51wa1.png?width=1260&format=png&auto=webp&v=enabled&s=136091b177d4f2796339ade3006432146a8126b6"	5	"[""Matuin92: There are several ways you can set up external access but the easiest way is with Home Assistant Cloud. You should see it as one of the first options in the Settings menu. It's a paid subscription but they do offer a month free trial."", 'adiyasl: External access can be gained using several methods. The easiest way is through the HA cloud as someone mentioned above. Of course this is a paid solution. But if you can afford that please do that as it helps HA development as well.\n\nOf course if you don’t want to pay, you can configure a VPN or a reverse proxy.\n\nAs you seem new to this, the easiest solution for you would probably be installing tailscale and configuring it. There is plenty documentation and you don’t need any networking knowledge. Once you get the ropes a bit, you may move to wireguard and beyond', 'igor-ha: *HomeHabit developer here.*\n\nWhat URL did you use as a platform URL? Is it local network, the same as you would use in your browser when accessing Home Assistant UI?\n\nHome Assistant Cloud is not required to use HomeHabit, it could be done completely locally.', 'SamuelAbrahams: So can I not use HomeHabit with Home Assistant without having Home Assistant Cloud?', ""Matuin92: I'm not familiar with HomeHabit but if it requires external access from Home Assistant, there are several ways you can set it up like I said before. \n\nHome Assistant Cloud is the easiest way but you can also set it up manually if you want. You can find dozens of guides online on how to set it up manually but this is just one example: [https://everythingsmarthome.co.uk/free-remote-access-for-home-assistant-with-cloudlfare/](https://everythingsmarthome.co.uk/free-remote-access-for-home-assistant-with-cloudlfare/)""]"
1682427064.0	25-Apr-2023 05:51:04	How to Handle Automations After Reboots	danni_storm_	0	12yihii	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yihii/how_to_handle_automations_after_reboots/	"I understand that running automations dont survive reboots. However, I am curious on how people handle this behavior and ensure the home doesn't go absolutely bonkers.

With the 5+ monthly 2023.X.Y updates , power outages, required reboot of the host (HA OS is running as a Proxmox container), etc I have been growing frustrated at having to manually juggle things when HA OS reboots. Any ideas? Currently avoiding all but the mainline monthly updates and its running behind a small UPS to handle blip outages but still running into this issue a couple of times a month or more."	15	"['Rannasha: The easiest way to reduce the number of restarts is to not install every update. I typically get the monthly one in the second half of the month, as the initial release of the month is mostly about the new features and later releases are bugfixes. So unless there\'s a must-have feature for me, I\'ll wait for a few bugfix updates to have rolled out.\n\nI\'m not sure why your Proxmox host has to restart that often. Mine doesn\'t. Most updates for Proxmox don\'t require a restart of the host. But you can always plan your HA updates to align with your Proxmox restarts, so you can do both in one go.\n\nAs for the automations, there are some ways to smooth out interruptions. The first is by reducing how long automations run. If you have an automation that first does X, then waits for 2 hours and then does Y, consider splitting it into 2 automations. Add a helper boolean that is toggled by the first automation and trigger the second automation when the helper boolean has had the right state for 2 hours, then having Y as action as well as another action to reset the helper.\n\nThis approach is still somewhat sensitive to restarts, because this trigger is reset on HA restarts. Depending on the nature of the automation this may or may not be an issue. If it is, have the first automation set a date/time variable for the time the second automation should run and check the current time against this variable.\n\nAnother tool is the ""Home Assistant"" category of triggers. You can have automations trigger upon HA starting up or shutting down. You could use these to bring things to a sensible state upon startup. Add helper variables to your automations to keep track of what the desired state should be and use startup automations to achieve this. The shutdown trigger can also be used here, but it\'s less useful as it\'ll only help when HA shuts down gracefully (e.g. not during power outages that aren\'t covered by the UPS, or crashes).', 'diabetic_debate: The way I do it is, I have seperate automations if two actions need to happen far apart in time. For example, if I want to turn on a light at sunset and turn it off at sunrise, I have two automations that will do each step on their own. \n\nSince they are independent of each other, one running or not running has no effect on the other.', '_avee_: The solution is not to have long-running automations.\n\nAutomation you use as an example can be either split in 2 or converted into a single-action automation with multiple triggers. Same applies to pretty much all automations where you have wait_for_trigger or something similar.\n\nTemplates are great at simplifying automations: with proper setup most automations don’t need to be anything more complicated than “when single condition passes, trigger an action or several”.', ""generalambivalence: You probably need to share some yaml examples of automations that are giving you problems on restarts.\n\nDepending on the trigger, it might be something like you have your automation to trigger when a light state changes to `on` but when you restart, it changes from `unknown` to `on` which would trigger the automation. If you set the trigger when the state changes from `off` to `on` the automation wouldn't trigger on restart since the state is changing from `unknown` and not `off`. This is just an example and it may not apply in your case."", 'JCHHenderson: what kind of things do you need to juggle?\n\nI have a template \\`input\\_select\\` called \\`input\\_select.light\\_scene\\_should\\` that outputs the name of the scene that should be \\`on\\` according to ambient light.  The automation that sets the scene is triggered by this input\\_select changing.  It\'s also triggered by an \\`input\\_button\\` called \\`input\\_button.select\\_light\\_scene\\`.\n\nI have an automation that only runs on startup that presses that button...\n\n      - alias: ""HA: Restart""\n        id: ha_restart\n        description: \'\'\n        #initial_state: true #ensure automation is turned on when restarting HA\n        trigger:\n          - platform: homeassistant\n            event: start\n        condition: []\n        action:\n          - service: input_button.press\n            data: {}\n            target:\n              entity_id: input_button.select_light_scene\n          - service: script.notify_restart\n        mode: single\n\nMy thermostat is easier.  I have a template sensor that calls for the right temperature.  The automation that sets the thermostat is triggered by any change in that sensor so it\'s self-setting even on a restart (and doesn\'t need calling on restart).', 'danni_storm_: I didnt think about the HA triggers. That could be super helpful!\n\nSince money is tight, HA is on my homelab proxmox machine so I end up having to screw around with hardware. Normally isnt an issue as hardware changes take 5 minutes or less.', ""generalambivalence: You can combine the separate automations into a single automation with multiple triggers, separating the triggers with trigger IDs, then using if/then or choose actions and use the trigger ID as a condition. \n\nThis is really mostly a personal choice though. I prefer to have fewer automations with triggers that are grouped logically rather than more automations with names that are grouped logically.\n\nFor example, I have a single automation to control reading lights on and off in my kid's room. They turn on at a specific time, turn off at various times based on whether it is a school night or not, including a check to make sure they are off (they have control over turning them on and off within time windows). Instead of having 3 or 4 automations to do this, I have one automation with 6 triggers, each firing an action based on the trigger ID."", 'danni_storm_: Ohh that is also a great idea! I do wish tags were a thing. I generally keep automations together because organization becomes an issue but this is good!', 'danni_storm_: The one that I always forget about. Its got a couple of high wattage lights ($$$) in the front of the house that flip on at night and off at sunrise. Super simple but frequenty ends up flipping the lights on and never flipping the lights off around restarts as I tend to work on HA at night haha\n\n```\nalias: Light | Front Lamps\ndescription: Turn on front lamps at sunset and turn off at sunrise\ntrigger:\n  - platform: sun\n    event: sunset\n    offset: 0\ncondition: []\naction:\n  - service: switch.turn_on\n    data: {}\n    target:\n      entity_id: switch.outside_lamps_bottom\n  - wait_for_trigger:\n      - platform: sun\n        event: sunrise\n        offset: 0\n  - service: switch.turn_off\n    data: {}\n    target:\n      entity_id: switch.outside_lamps_bottom\nmode: single\n```', 'danni_storm_: This is very interesting and gives me some stuff to consider. Thanks!', ""OCT0PUSCRIME: Second this. Especially since there's no good organization in place for automations (in my opinion. I would much rather drill down into a 'folder' structure rather than worry about naming schemes and using the filter bar). I turned probably about 15 automations concerning my locks into one giant one with trigger ID's."", 'id_missing: One option you can use for this is trigger IDs. You have 2 triggers one for sunrise and the other for sunset.\n\nThen you can use a choose action based on the trigger to do different things. This way you can combine multiple related actions in a single automation.\n\nI use this setup for those Ikea 5 button remotes. Here is a example where you press the center button I toggle the ceiling light. As you can see I have 8 total actions in this single automation.\n\nhttps://preview.redd.it/6qke0vtv53wa1.jpeg?width=3195&format=pjpg&auto=webp&v=enabled&s=e27d6a9a61bd7ab31157230bc718cac9631f6c93', 'diabetic_debate: The way I get around with lack of tags is name the automations like so:\n\nRoom - device - action\n\nfor example:\n\n    Living Room - Lights - Turn ON at sunset\n    \nand\n\n    Living Room - Lights - Turn OFF at sunrise\n\nThis way they both appear together in the automations page.', ""generalambivalence: So right off the bat, I would suggest separating this into two triggers, one for sunrise and one for sunset. The way you have it set up, it is a long running automation action, so it won't survive restarts like you're experiencing.\n\nIf you separate the triggers, you can assign them trigger IDs, then in actions use an if/then or choose action and set (one of) the conditions to the trigger ID so they only run at sunrise or sunset. \n\nYou could also set up a trigger that would fire on HA restart to check the position of the sun and have it turn the lights on or off, as well. This would help if you restarted or there was a power outage at sunrise or sunset.\n\nEdit: if you didn't know, you can have multiple triggers in a single automation. They act as `or` statements. That's where the trigger IDs help run the right action based on which trigger fires."", ""ntsp00: The number one way to handle automations breaking from HA restarts is to stop unnecessarily using delays or waits. A second trigger accomplishes the same exact thing as ``` wait_for_trigger ``` and isn't interrupted by a restart. I'm on mobile right now but look up using multiple triggers and specifying trigger IDs with the choose condition in the HA documentation.""]"
1682422852.0	25-Apr-2023 04:40:52	Text to speech with google translate doesn't match language?	mitch66612	1	12ygu57	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ygu57/text_to_speech_with_google_translate_doesnt_match/	"Hi everyone! I'm currently trying to do something really easy (or i tought so!), i would like to cahnge the language of the messages i'm sending from home assistant (in a mini pc), to 2 google audio speakers. 

I was reading the official docs and copy/paste/modified what i needed to speak in spanish, but i'm probably missing something. 

I'm writing few lines in yaml. This is the code. 

&#x200B;

\# Text to speech  
tts:  
  \- platform: google\_translate  
 language: ""es""  
 tld: es

The aim is, later, add some voice notification related with an ikea pollution sensor, with just a sentence like ""please, open the windows"".

Pretty easy actually, but the language is still english. Anyone that could help a newbe here? 

Thanks!"	1	['MovieImpossible8224: The text is spoken as provided, it is not translated. The language settings are just to select the proper engine so the pronunciation is correct.']
1682420163.0	25-Apr-2023 03:56:03	Conceptual help needed!	akshitgupta95	1	12yfuvn	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yfuvn/conceptual_help_needed/	"Hey Everyone,

I am trying to make writing automation less of a pain for smart homes. We are just starting out and don't have anything to sell, but want to make sure that we are building something that actually helps. 

I have only ever come at it from the engineer's side and I'm having a hard time understanding how it all works from the consumer's side. You guys have actively been involved in the home assistant community for a while and could really help me cut through the fog. 

Do you have time in the coming days to meet up for a virtual chat?"	4	"[""supanovajuro: Hi, that's quite interesting. I own a few smart home devices such as smart speakers and smart light bulbs. Feel free to message me if I can be helpful."", 'akshitgupta95: Thanks. Feel free to block a slot in my calendly: [https://calendly.com/akshgupta/30min](https://calendly.com/akshgupta/30min)?', 'supanovajuro: Cool, done!']"
1682420095.0	25-Apr-2023 03:54:55	Question about Sonoff	TheIlluminate1992	1	12yftxs	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yftxs/question_about_sonoff/	"Getting ready to move to a new house and i'm looking at better ways to do all the switches then gosund smart switches which is what I have in my current house.  I was looking closely at sonoff.  Out of curiosity has anyone tried and had any trouble fitting multiple zbmini-L2 or Mini-R4s in the same gang box in case i have to put 2, 3 or even 4 in one box?  Also for that application would the wifi ones be better or would zigbee be the route to go?    


Thanks,"	11	"['severanexp: I don’t see how you’d fit multiple in one box…. But sonoff sells wall switches with multiple gangs, that’s what I went with.  \nIt doesn’t matter whether you go with Wi-Fi or zigbee as long as you have decent networks on both. If you have good coverage, a couple of aps or router devices, you’ll do good.', ""TheIlluminate1992: That's kinda what I was wondering.  I think I would be able to fit multiple minis in say a 2 or 3 gang box but it would be TIGHT.  I guess I should mention this is in the US.  So how does a 3 gang TX switch work?  Because it looks like it fits in a 1 gang box.  Do I have to get new boxes or what?"", 'severanexp: Nah the different gang switches all fit the normal sized boxes.', 'TheIlluminate1992: So my problem is that the US 3 gang TX switch fits into a 1 gang box.  How do I cover up that extra space?  I guess I could just do a 1 gang switch and just put them side by side....That kinda makes me a bit sad but it might be the only real option I have.', 'severanexp: AFAIK the sonoff US switches are drop in replacement to the normal us ones. Nothing to cover…', 'TheIlluminate1992: Yeah I get it now.  I was thinking of using the 3 gang TX switch which has 3 switches on it on a 3 gang box.  but thats not the intention of it.  Im on the same page now.', 'TheIlluminate1992: I MIGHT for fun try and use the Mini R4s behind a normal light switch and see if I have trouble fitting multiples in a 2 or 3 light switch box.', 'severanexp: You can also flash them with tasmota and get them off the internet. That’s what I’m doing.', 'severanexp: For sure you’ll be able to put maybe two there. Not sure how many more…', ""TheIlluminate1992: I would love to do that.  Do you have a decent guide?  I've never had to flash my switches or plugs before."", 'severanexp: Loads of them on YouTube.']"
1682419769.0	25-Apr-2023 03:49:29	Help with pointing my domain to dynamic DuckDNS domain via NGINX	TsarMarx	1	12yfq2x	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yfq2x/help_with_pointing_my_domain_to_dynamic_duckdns/	"Hello there, I'm trying to point a domain I own to a dynamic duckdns domain. I've forwarded port 443 to the raspberry pi running Home Assistant Operating System.

Currently, if I use the duckdns domain it works. But using my bought domain I get the error `SSL_ERROR_UNRECOGNIZED_NAME_ALERT`.

Below  you can see my configs, hopefully someone here has tried doing the same an can help.

   DuckDNS config

        domains:
          - <duckdomain>.duckdns.org
        token: <mytoken>
        aliases:
          - domain: homeassistant.<mydomain>.com
            alias: <duckdomain>.duckdns.org
        lets_encrypt:
          accept_terms: true
          algo: secp384r1
          certfile: fullchain.pem
          keyfile: privkey.pem
        seconds: 300

NGINX config

    domain: <duckdomain>.duckdns.org
    hsts: max-age=31536000; includeSubDomains
    certfile: fullchain.pem
    keyfile: privkey.pem
    cloudflare: false
    customize:
      active: false
      default: nginx_proxy_default*.conf
      servers: nginx_proxy/*.conf

I've also created the CNAMEs needed on Namecheap according to the documentations:

    CNAME _acme-challenge.<own-domain>    _acme-challenge.<domain>.duckdns.org
    CNAME                 <own-domain>                    <domain>.duckdns.org"	6	"['TsarMarx: Turned out changing the target domain in the NGINX config was the solution: `domain: homeassistant.<mydomain>.com`', 'danni_storm_: Pretty sure you need port 80 forwarded too for the certificate DNS challenge.', 'Confident-Win-1548: Maybe I don’t get your problem, but why not using  npm „Nginx Proxy Manager“?', 'TsarMarx: I did that and added the port in the NGINX addon configuration, but no luck :/', ""danni_storm_: I haven't used NGNX for a long time. I use Traefik, learned how to set it up using [this tutorial](https://docs.technotim.live/posts/traefik-portainer-ssl/) and this [GitHub](https://github.com/techno-tim/techno-tim.github.io/tree/master/reference_files/traefik-portainer-ssl/traefik) (has settings for HA and more). He uses Cloudflare but the process should be fairly similar.\n\nIf that doesn't work I have heard good things about [Caddy](https://caddyserver.com/) though I've never used it.\n\nSorry im useless on the nginx front."", 'danni_storm_: Also, you only get a couple of tries every 4 hours with Lets Encrypt. I have this issue with Traefik when doing SSL for local DNS records and I make a couple of config mistakes in a row. If you just made the port change wait for 4 hours and then spin nginx back up.']"
1682417970.0	25-Apr-2023 03:19:30	LocalTuya [Errno 104] Connect call failed	smibrandon	2	12yf47n	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yf47n/localtuya_errno_104_connect_call_failed/	"\*sigh\* I wish I had fewer Tuya devices. But, I digress.

I'm migrating to a new HAOS NUC, and I have a test environment in the new hardware before I complete the cut over. Everything is working well in the test--except Local Tuya. Only about half are working.

The new system was created from a backup, it's on the same network & subnet, I can even ping the IP's successfully from CLI. Yet still, nothing.

Hopefully someone thought of something I didn't. Thanks in advance!

Edit: I tried removing the integration, the HACS custom integration, rebooted, re-download from HACS, rebooted, add LocalTuya device. Only the previously-shown devices showed up in the dropdown. So, I tried to add it manually (w/ host IP, Device ID, Local Key) and got this interesting error: `Connection to device succeeded but no datapoints found, please try again. Create a new issue and include debug logs if problem persists.` I'm dumbfounded

Edit: [Solved](https://www.reddit.com/r/homeassistant/comments/12yf47n/comment/ji3yvb4/?utm_source=share&utm_medium=web2x&context=3) ✅✅

&#x200B;"	17	"['DariukaB: Devices are ghosted. Power cycle them from the breakers (main electric board).', 'DariukaB: Ah there is something related to DPs. Try to manually force the DPs when you are adding the devices to local tuya.', 'DariukaB: DP=data point', ""smibrandon: FIGURED IT OUT!! ( well, at least I made it work). Not sure the systemic rationale, but I got 'em working. \n\nSeems as though Tuya devices aren't broadcasting once they are linked with LocalTuya, because I can remove them from my Production system, and then I'm able to find (and add) them to my development. While they're on my Dev system, I can't add them back to Prod--only when I removed them from Dev could I get it back on Prod.\n\nWeird. But at least it's something."", 'Korg-Clan-Chief: You could try seeing if they still work with the SmartLife or Tuya app, adding back the Tuya integration (along with configureing the temporary development license) alongside LocalTuya and then you should be able to re-add them back via the Config button into LocalTuya. I have around 14 LocalTuya devices that I am moving to ESPHome - Tuya devices suck. Tuya sucks and LocalTuya sucks - it looks ok as you start to use it then you come to realise that it is not realy fit for purpose for a number of reasons.', ""3d-designs: A bit of lateral thinking, but when you say that you can ping them: have you definitely checked that the response is from the correct device? That is, IPs couldn't have become switched around between devices?"", ""smibrandon: Oh, I hope you're right! I have some reddit gold for you if you are! Once the kids are off to school, I'll start messing with the mains. \\*fingers crossed\\*"", 'smibrandon: No such luck, sadly. Same error', ""smibrandon: DPs? Not sure what you mean\n\nAs to your other comment, there's nothing blocked--that I'm aware of, at least. Devices A,B,C,D,E,F,G are available in the Production environment, but only A,D,E are available in Development. DNS settings are the same for both Prod & Dev (PiHole, that I've had for \\~3 years)."", 'smibrandon: Any more details or anything you can direct me to? Pretty please? Lol', 'DariukaB: Hmm i do have that error now and then... power cycling them fixes all the time... are the devices blocked from accesing internet and also from using the DNS?', ""DariukaB: When you add a new device there should be at the bottom a field of manually input of DPs. Try with DP1 or DP20 (for DP1 put 1 in that field, for DP20 put 20).\n\nYou can check what DP you should have/use as per your devices here: https://pypi.org/project/tinytuya/. (Scroll down and you'll find a section od DP ID list)."", ""smibrandon: Power cycling didn't work and all work via the app. Even weirder, when I poll the devices on my network, only the ones that show up in Local Tuya don't have an error [here ](https://imgur.com/a/ES7MnMt) when using [tinytuya](https://pypi.org/project/tinytuya/). Yes, they're on the same network (same subnet and no VLAN)."", 'DariukaB: Try to assign fixed IP addresses to your tuya devices on your DHCP server and power cycle them again. It looks like your devices are not connected to wifi...', ""smibrandon: They are though. That's what's driving me batshit crazy here"", 'DariukaB: Try to ping every device and check if they reply. If no reply means 100% they are not connected to wifi. If you get reply from devices it must be something wrong with your HA setup.', ""smibrandon: Figured it out! ( well, at least I made it work). Not sure the systemic rationale, but I got 'em working. \n\nSeems as though Tuya devices aren't broadcasting once they are linked with LocalTuya, because I can remove them from my Production system, and then I'm able to find (and add) them to my development. While they're on my Dev system, I can't add them back to Prod--only when I removed them from Dev could I get it back on Prod.\n\nWeird. But at least it's something.""]"
1682417301.0	25-Apr-2023 03:08:21	Govee Light Toggles	ckane89	2	12yevwb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yevwb/govee_light_toggles/	"Does anyone know how to change the lightning bolt icons that show beside Govee lamps/LEDS to be an on/off toggle switch to match all my other lights? I've been searching Google for a while and cannot seem to find a solution.

Any help/advice would be greatly appreciated.

https://preview.redd.it/yqe4lwvy80wa1.png?width=511&format=png&auto=webp&v=enabled&s=d2ec69f05c419d007525c7e06ff74dcf8c3b608c"	2	"[""AlmightyHeretic: Assuming you're using the HACS integration from LaggAt:\n\nSettings > Devices & Services > find **govee** and pick *configure* > untick *Use 'assumed state' (two buttons). Default: True*\n\nThat's what worked for me."", ""ckane89: unbelievable, I know it would be a really simple thing that I'd overlooked. Cheers for the assist.""]"
1682416721.0	25-Apr-2023 02:58:41	Help us improve your Home Approval Factor!	matthiasdebaat	386	12yeoko	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yeoko/help_us_improve_your_home_approval_factor/	"Hey Home Assistant users! Matthias from Nabu Casa here. We are working on improving the Home Assistant user experience and we have spent the last month researching how to increase your Home Approval Factor.

One thing we have learned so far is that it's important to make better UX not only for you - the creators of your smart home - but also for your users, the family members or roommates who live in your home.

Would you like to help us with our research? **We would appreciate it if you could invite your family members or roommates to participate our interviews, and help us help you set up your perfect home.** Interview will be in English. 

We fully understand that you may have some concerns about them sharing their feedback with us, but we assure you that we value your honesty and we want to improve our products based on their insights.

Please let us know by sending me a PM and we will arrange a convenient time for the interviews. Thank you for your cooperation and support!"	230	"['andrewrmoore: As a new user, I love the platform, however one of the most frustrating aspects is creating dashboards. The way you place and order cards isn’t intuitive to me. I’m sure some people don’t mind it or are used to it.\n\nMy partner shares my opinions on this.\n\nI’ve used Grafana a fair bit and I much prefer their approach. You can drag and drop cards on a grid, click to resize elements, and more. Just a suggestion.\n\nI find everything else, such as creating automations and setting up new integrations, very straightforward.\n\nThanks for all that you do!', 'nateguchi: It would be great to have proper user accounts, permissions and different dashboards assigned to different users.', 'dabbydabdabdabdab: Quick and easy time limited guest access.\n\nfamily or friend comes over, and they stay in the guest room.\nI’d love them to be able to scan a QR code or hit a URL, they put their name in and I get a notification for how long I want to allow them access (which I could extend).\nI can chose their role type (which would already have dashboards assigned) and maybe add an extra view [lets say if they are a baby sitter rather than just a visitor].\nThe user package can include a door code, fixed or random, ability to arm/disarm alarm etc.', ""T351A: I definitely think the UX can be improved, but I also don't think it has to look too pretty or be too restrictive. The ability to customize is a big strength.\n\nMostly I use HomeAssistant to connect a lot of different devices together; so I actually end up using Apple Home app or voice assistants quite a bit, leaving the HA dash for advanced things"", 'vontrapp42: Since your asking, imo you really should store sensor data one way only. I was dismayed when I tried to convert to Celsius just to see some data in Celsius. Thinking oh I can just convert, view what I need to and then switch back.\n\nHA proceeded to convert all incoming sensor data to C from all sources, and then stored it as C, but then proceeded to display historical already stored data *as C* and *WITHOUT CONVERSION*! That was a terrible experience. I quickly went back to normal and decided to live with this ""scar"" in my data. It\'s terrible. Fix that.\n\nAlso, being able to chart data better. Set axis ranges, multiple units on y axis would be cool. Conversion to a specific unit for that chart only. Etc.', 'feo_ZA: Just want to give my 2c. \n\nOne of the comments mentioned documentation and I have to agree. I always thought I was in the minority thinking that the documentation is bad but it really needs to be reworked.', 'liveforlaughs76: What kind of personas are you looking for Matthias? Should they have an understanding on how to ""develop"" in Home Assistant (create automations, edit dashboards, add integrations) or are you looking for interviewees that are pure users, who only open the companion app to utilize a dashboard the admin has created?', 'fursty_ferret: Happy to help. The current UI looks very 90\'s and a lot of stuff is unintuitive, even to experienced users. How about a wizard for adding template sensors? Or at least have them go in a separate configuration file, not one where a typo can stop HA from launching.\n\nOn top of that, the documentation is appalling. It shouldn\'t be so difficult to do things like template sensors or utility meters, and the fact that there\'s an ""old way"" and a ""new way"" of doing things doesn\'t help either. The examples are awful. Sorry to be blunt.', ""ashok36: I know some people will hate me but the mobile experience has to be the first consideration when designing the UX. I don't like it either but if we want 'the masses' to adopt HA, we have to meet them where they live and that's on phones and tablets.\n\nOn that note, we need to enable touch gestures across the board. The fact that swiping from one page to another is an add on and not default behavior is a huge miss currently. \n\nWe also need to 'beautify' the cards and backgrounds by default. The SmartThings app with nice gradient backgrounds in soothing colors, with rounded corners everywhere, is inviting and comforting. Home Assistant needs to embrace these design choices for mass adoption to happen."", 'ReallyNotMichaelsMom: I asked my son if he wanted to be part of this research. He said yes, but the only thing he wants to say is, ""You have to get her to stop! There are too many automations!"" \n\nThis is where he is clearly wrong, because I have neither too few, nor too many automations, but precisely the number I need. :)', 'mrBill12: Heck we can’t even have filters and tags or folders to organize Automations why would we expect anything to get more usable?', 'look_ima_frog: Nabu Casa: we want to talk to your friends/family/roommates\n\nReddit: I WANT A THING THE EXISTING THING IS BAD', 'SickemChicken: Something that would be awesome:  the mobile app auto selecting the initial dashboard view and tab based on what room you were in.  Granted then I would have to figure out location services to a room level lol.  But location based views would be awesome, even from a starting point of home versus not home.', 'new-chris: There might be a way to do it and I just don’t know - but it would be nice to have mobile phones use a mobile optimized dashboard.', 'cac2573: Initializing a new user account for someone is not great. No password requirements or ability to enforce OTP.\n\nI guess in some ways this would make the UX worse, but it’s a one time thing. I don’t want my roommate’s terrible security habits to open up my home.', 'Splnut: A better automated ui, like Dwains Dashboard, would be a huge step forward.', ""dryingsocks: I'm assuming the redesign of the popover cards is made as part of this effort? I absolutely hate that color settings for lights are now hidden away behind an extra click on there. I already have light sliders on my dashboard (default tile cards with the light-brightness feature enabled) so virtually every time I open the popover is to set light color / color temp."", ""FALCUNPAWNCH: I think the new dialogues were a step in the right direction but many people here complain that they're too simplified. Some of them could be made more usable by moving more controls onto the main page instead of subpages. Like lights could have brightness and color/temperature controls on one page, and covers could have the buttons and slider visible.\n\nAlso, the Home Assistant Android Auto integration feels like it's been abandoned. A few bug fixes were made since release, but it's practically unusable in its current state. It's completely clogged up with hidden or irrelevant entities and if we can't make a custom list of favorites to access it's too difficult to find the entities we want to interact with when we're in the car."", 'thephatmaster: Perhaps unpopular opinion but the UX just isn\'t there even for ""power users"" or tech savvy people.\n\nIn my opinion HA is a container holding a set of complex projects for hobbyists. \n\nIt\'s just not suitable for room mates etc unless they are also hobbyists.\n\nI find non-admins get frustrated with the frontend, and then nope-out when they see how changes need to be made in the UI or with Yaml', 'Queen_Combat: No flair, no mod approval, no other responses in five months and then a year, grammar and spelling errors\n\nIs this some sort of machine learning bot response?', 'tiberiusgv: [LESS SCREENS TO CHANGE A LIGHT SETTING! ](https://youtu.be/YNex2GWkpF0)', ""Laxarus: **Reliability,**\n\nIt needs to be more reliable: IE, it is rare sometime automations don't fire (Dunno why).\n\n**Crash recovery and smart error handling**: It needs to be so stable that when I am away from home and something goes wrong, I should not get calls from home in the middle of the night (happened too many times).\n\n**Less frequent updates**: We are getting one major update and multiple minor updates every month with new features and bug fixes of the new features. I think we have enough features for now. HA should focus on fixing bugs and resolving previous issues before introducing any other new feature or major updates. More importance should be placed on alpha and beta releases with longer times to make sure that all the bases are covered as much as possible.\n\n**Better Local language support and translations**: Elderly at my home do not speak English and using HA is a major challenge for them.\n\nIn short, it is **RELIABILITY**."", ""CaveNeanderthal: For me, the test is 'Can I install this for my grand-mother' - and the more I progress to that goal is ideal. \n\nI love the system, but loathe the need to be technical minded.\n\n1) Updates - The release cadence is insane! An example is EspHome - I have about 50 devices that use that system - every release of ESPHome shows me 50 Notifications of an update. \n\n2) Automations - Basic tempates added and when a device is added to the Zone, some smarts is incorporated. You just add a living room light and it ask you if you want it linked to something else - also Climate etc etc - device relationships \n\n3) Auto Dashboards based on 'Area' - Currentl all devices by default are added to 'Overview' - can this be split in to seperate pages."", 'chrisron95: Custom device relationships.\n\nI think it would be awesome to be able to add related devices manually to another device. We have the related tab for devices, but it’s very limited limited to just the integration it was setup with. But just for a simple example, I have a smart switch in the wall that’s connected to an ifan03. The smart switch is always on, but every once in a great while the ifan03 needs a hard reboot. I can search for the switch (which isn’t exposed on dashboards) but it would be nice if I could add a relationship so I can go to the ifan03 in HA and find the wall switch under related devices. This is a simple example but I can see many uses where this would be helpful.', 'Xtasy0178: I send you a PM. I think the wife factor is very very important. The controls need to be more intuitive. I think Apple Home is a good inspiration. Home Assistant Dashboards needs to be super easy to use for non techsavy people incl. changing things on it.', 'prankard: I’m a user of about 5 months. I have setup my dashboard but don’t tweak it much.\nBut when I press the up arrow to move a card on my dashboard, I have no idea where it will end up. It also blew my mind when I viewed my dashboard on a different device and it has 1 column, not 3. And blew my mind more when if by you hide the icons you get 4 columns (and your familiar icons shift round).', 'STATERA_DIGITAL: Fix how dashboards are made. We need drag and drop not this Microsoft Word type setup. I move 1 card and my whole dashboard is messed up. Trying to organize them is terrible. Other than that I am extremely happy with Home Asssitant and Nabu Casa! Keep up the amazing work! :)', ""0x7270-3001: Somewhat minor, but I'd love trusted header authorization so I can put HA behind the same SSO as my other services. Someone implemented it a while back but it wasn't merged and I'm not interested in using old, unmaintained, unchecked code for something as core as logging in."", ""djgrahamj: First let me say I love HA and you guys are doing an awesome job. I'm happy to be a paying subscriber.\n\nRespectfully, I believe user UX is not your responsibility. We - the techy admins who set up HA - are your users and the HA UX should reflect that. I don't believe you should be concerned with what my wife thinks.\n\nIdeally you should give us the tools to provide a good UX to our users. That means providing basic defaults that can be fully and easily overridden with community content. It also means permissions to lock things down.\n\nYou're never going to make everyone happy with a single dashboard UI. I think you should focus on making it usable for us and let us make it usable for our users.\n\nJust my 2c, thanks again!"", 'freeheelsfreeminds: The ability to have homeassistant swarms/clusters/nodes (whatever you call it, sorry not a CS expert). But, generally, the ability to run multiple instances that sync with each other and can handle fail-over. So, if one instance dies, a second or third instance can pick up the slack.\n\nNot that HA frequently crashes, but my hardware does go on the fritz from time to time. I already isolate my zwave, zigbee, and mqtt services on a separate machine from HA so that is HA goes down, some functionality remains (through nodered, tasmota rules, etc.)\n\nThanks!', 'TheCruelSloth: Enabling and disabling default_config settings would be a HUGE improvement!', ""satamusic: at home it's only me and my 6 cats. i tried teaching them how to use the Companion app to turn on/off the lights and fans, but they just puked a hairball on the iPad. they probably didn't like the look of the Overview Dashboard. haven't tried again."", 'NicklasTech: I would like a folder structure for the Automation’s to better manage and sorting them', 'shakuyi: I just want history graphs back on the first more info pop-up page.', ""kabelux: As a Nabu Casa costumer i think something that could increase approval is price localization. It's too difficult to convice people to pay dolar currency on some countries"", ""Mku32: You need to 'copy' elementor way (WordPress plugin) for designing dashboards."", 'prankard: I would love a drag drop automation for the ui to reorder if/else statements. So say you have the perfect code, but want to add a new if condition at the start and you can drag your old section into the new then statement. I do that and have to edit in yaml and copy it all, go back to the then statement, edit in yaml again and copy paste it in.', 'xPeacefulDreams: Multi-Language support would be great to have. In a multilingual household and particularly with guests, this would make life so much easier. I’m aware of the current functionality with aliases, but I think it only solves the entity names, not at larger scale (card content, UI, etc.)', 'pnade: Absolutely LOVE HA - been a user for years now. My #1 is: You guys definitely need something more robust for smart lock / code management. Keymaster is quite unpolished IMO and it’s a pretty significant piece to any smartphone platform', 'clogtastic: User visibility permissions at the Card level', 'wsdog: Yeah, revert the dialogs first and then we can speak.', 'LegallyIncorrect: I’d love to be able to make the bar at the top transparent again. You used to be able to do this with an addon from HACS but not anymore.', 'dsr33: I think I share pretty much everyone’s comments on here. Hopefully, these features/improvements get implemented soon, as they’re well overdue.', 'Rsherga: For the ""Choose"" action type, I wish we could name each Option within.', 'djgizmo: My biggest gripe is that HA mobile app usesthe IPhone device name as the identifier for the device.   The problem this is that sometimes iPhone users need to rename their iPhone due to App Store bugs (I can’t approve my kids apps without doing this once every 3 months).  So when I change the name, it borks up all mg HA notifications.   Multiply this by 2 (my wife and mine) and by 10 different automations, and this becomes a huge pain in the ass.  \n\nThe device identifier needs to be something OTHER than the phone name.  \n\nI’ve moved our notifications to discord because of this.  Changed iPhone names 4 times, it’s a non issue because discord just accepts the push. Period.', 'wuench: API first design, not UX first design.', 'angellus: LTS and fine grained permissions. Two of the most requested features that HA Core refuses to implement.', 'cweakland: New covers for locks and scenes. I like the new light covers.', 'Oinq: Dashboards ftw', 'ID10T_127001: Better logging. Or at least an easier way to find them. I’m a complete noob so maybe my point is moot. I was trying to hash out a zigbee issue and the only way I could find logs was to go to the coordinator as if I were adding a device and click show logs.  Either a central log or modules in a folder that one could tail or grep would be nice.', 'eyewander: I would pay money to get a front end dashboard building experience similar to a website builder like wix or similar!', ""TyGirium: My 2c: All the config in YAML is maybe good for some beginners, but it's really hard to maintain longer scripts and more complicated dashboards."", 'jspikeball123: Installation documentation is severely lacking for ""non standard"" installations.', ""Clooooos: Here is my approach for the UX of the dashboard, it's a mobile first approach. I've got a lot of positive feedback on it.\n\nI hope my work can help you or anyone reading this :)\n\nhttps://github.com/clooos/Home-Assistant-Mobile-First"", ""Christophev9: Aside from dashboards, I would like some work done for multiple assistants. \n\nAn example. I have 2 home assistants, one at my own apartment, one at my girlfriends. I try to do presence detection, but when I'm 'home' at my girlfriends apartment, it also sets me home at my apartment. Result: in the morning when my alarm goes off, the lights at my apartment also turn on, while there's nobody there. \n\nMaybe you could create a multifactor sensor that says where someone is, like Alarmo uses multiple entities to tell if the alarm should go off."", 'r__m_nd: Make user location private on the map. User based location automations are useful, but being able to see at all times where your family members are, is intrusive.', ""pinguugnip: Something that has been mentioned several times over the years is being able to set custom binary\\_sensor device classes. While I'm not a programmer, I can't imagine this being too difficult to implement.\n\nIf this can't be done, can we at least have a 'yes/no' option?"", 'RockBinkie: I have no complaints, love the package as a whole and the bits that are unreliable for me I expect are actually tied back to my device selection.\n\nA feature that would be useful to me is client-side helpers. A helper which is configured on the server, but has a local state on the client.\n\nExample - if I make a client helper, which when toggled changes the visibility of a conditional card, I would like for that toggle to only occur for the client who requested it. Other wording: I would like that helper to have an individual instance per each client such that a conditional card could be visible for one and not visible on another.', ""Bloodwing114: SSO would be pretty handy for my family. Or even just LDAP. It's pretty inconvenient to have to change the homeassistant password after changing the SSO password."", ""Soggy_Soft4333: I use Dwains Dashboard to avoid heavy UI customizing. Forever, with number of devices (in the 100s),it's slow and cumbersome. We need a better UI framework, where customizations are about placement and colors and not about absolutely everything, because it's daunting"", ""EpicFuturist: Please for the love of God can you guys fix the hassio error. The one where it feels to start after the system reboots. I have three separate systems, two of which are in grandparents' homes, and it is frustrating because they don't know what to do when all it requires is a home assistant container restart. There is some kind of race condition happening and tons of other people are experiencing this no matter what version or hardware they are on (hassOS, prox, supervised). The only thing I can tell is the people with normal computers or extremely fast computers for home assistant in other words have no issue"", 'EpicFuturist: There are still some features that require yaml configuration edits. That would be a good place to start is getting rid of the few things that are still required there and turning it into an interface addition. Templates, binary sensors, seem like they should be able to be added just like helpers especially for how often they are used', 'More_Branch_3359: Yep, the dashboard experience is rubbish, I’ve got so many devices and I’m nowhere with dashboards.\nAlso, automations in the UI are a bit too hard to debug/setup', 'tobboss1337: I would love to have preset buttons like for fans in the new tile card for other entities like lights and covers. I never use sliders in productive use but have my 3-4 settings i want to switch to fast and precisely.\nFor example by bedroom window cover at 0%, 15%, 60% and 100%\nFor lights different color/brightness combinations i use the most and so on.\nCan think of a lot of use cases for every entitiy where you set analog values and have sliders as of today.\n\nThis integrated in the new dialogs without hassling to much with custom hac(k)s to achieve basic fluent UX would be great.', 'vontrapp42: I thought of another one. Definitely want tags on entities, devices, automations. Groups are a joke. I want to be able to create a card and include devices to that card by tag. Card ""upstairs lights"" include tags: lights and upstairs. Card ""hallway lights"": include tags: lights and hallway. Being able to do boolean and/or operations with tags would be great but honestly just having tags is a huge start because I can implement any logic with just adding tags as would be the results of whatever logic I want.', 'JamesNewby123: Ability to auto update at certain times to avoid issues would be great', ""knorkinator: >The way you place and order cards isn’t intuitive to me. I’m sure some people don’t mind it or are used to it.\n\nI've been using HA for several years and am still annoyed every single time I want to move a new card from the bottom of a dashboard to the very top without copy-pasting YAML. Having drag and drop for cards would be a gamechanger."", 'chrisron95: I’ve been using HA since around 2019ish. I’ve got just about every aspect of my home in there, custom built scripts and automations galore.\n\nBut the ONE spot I absolutely hateeee, is working on the front end. It’s so painful to build a dashboard that’s user friendly, looks nice, AND includes everything I need. Drag and drop would be so nice. Have one nice dashboard I setup a while ago based on a template I found. I set it up for an Amazon fire tablet. Did it about a year ago and took me like a month to set up. It’s still not complete and there’s changes I need to make, but I avoid it at all costs based on the complexity of the process.', '-entropy: Grafana should be the exact model to follow, I agree!', 'boojew: This. The cards are great. The masonry / grid approach is really bad. It’s a terrible end user experience', ""GritsNGreens: The dashboards need to be awesome by default, with customization being unnecessary unless you're super advanced. I have zero desire to customize dashboards, please just make good ones for me. Or make a way for the community to share them and let me choose a pretty dashboard that another user has created."", 'calinet6: Yep, this is the one.\n\nWe really just need intuitive layouts that aren’t this strange column wrap thing.', 's1500: I wish I could just drag & drop dashboard cards instead of hitting up/down arrows hoping for the best.', 'sultanc: If I could +1000 any comment, it’d be this. Please fix dashboards. Just blatantly copy someone else’s, but the defaults should be visually appealing, functional and awesome. Let’s put areas to good use and make it a seamless experience. Nothing else would even come close in my view.', 'Old_Perception: I remember a video floating around a while ago demonstrating a drag and drop feature update that was supposed to be in-progress at the time. Wonder what happened to that.', 'djgizmo: This all day.  This is why I don’t use dashboards anymore.  I just automate and get things done.', ""twicemonkey: Absolutely. It's my biggest pet peeve. Home Assistant is so easily customisable in everything except placing tiles."", 'kinkobal: Oh god yes. Dashboards are a nightmare!', ""Majkel19: Same here! We need a better way to organize cards, and also a way to set their height. Grafana's style, although simple, seems pretty good for what it can do."", 'Stresa2013: place and order is not intuitive, making them and choosing what kind of card you need is not intuitive aswell (or am i dumb? :D), some have different names but show the same? i still dont know how i can show the next calendar appointment with name and date (day or time till) without using the big calender card. i just want to see at what day i need to get which trash out without opening the calender or using the big ass calender card for 1 date a week.\n\nsometimes i would like to add a big card for thermostats for example to some small that only show lights, but i need 2 cards then? im not happy with the dashboard.\n\n&#x200B;\n\neverything else is fine and i dont use the dashboard that often because most of the stuff is automated and i dont need to touch it but when i need to touch it im always disappointed :D', 'EpicFuturist: Definitely needs to be a more up-to-date way of creating dashboards', 'T351A: This is a big one for me. Would love to give access to family members without letting them access everything.', 'Omripresent: Same feeling here, a proper RBAC setup and even a step further support for OIDC natively.', ""cosmicorn: This would be a big improvement. There are so many use cases where  a proper user and permission system would be useful. Giving limited access to a  guest for example. Or stopping mischievous children turning off your home office lights.\n\nThe closest thing currently is creating and setting custom dashboards. But that involves creating a dashboard for each use case, and then selecting that dashboard on the user's devices/apps, and it can still be easily broken out from. Dashboard assignment is another bugbear of mine - why can't we directly assign a default dashboard to a user?"", 'SickemChicken: And the ability for users to configure their own dashboards.  So basically devices need to have their own permissions as well.  For example my wife toggling some of my outlets accidentally could be a bad thing.  I’d also love to be able to allow my daughter to have the app and use it on her tablet to control just her room lights and media devices in her room.  But at the same time, would be good to allow them to move things around on their dashboard.', 'electromotive_force: This!\nI would add dashboard entries in the sidebar that are only visible for some user(s).\n\nThen every family member can create their own dashboard without cluttering the UI for everyone else', 'EmtnlDmg: Family happines feature requests:\n- Expose / hide entities to / from users. At least would be great to have an admin/user level. \n- Dashboard to user assignment.\n- carplay app (shelly has its own already but i don’t want cloud connection) and be able to publish entities. Buttons as a minimum if dashboard is too complicated\nThat would be great addition and make my family more happy.\n\nFor me:\nMushroom cards are much more useful than the built in ones.\nMore useful, designed and dynamic charts / stats', 'agentadam07: Yeah I’d love it if I could create a ‘guest’ permissions or dashboard and give it to a couple of people and they are only allowed certain scenes and devices. What I want is a dashboard that explains stuff step by step who may be visiting.', 'faregran: Different dashboards to different users!!! Please!!!', 'richardwonka: This is absolutely necessary. \n\nUsers and groups and **most of all** assignable dashboards.', 'avanai: I built this. Consider it very alpha, and I need to put some more work on it, but it’s basically adding RBAC by inserting a proxy that can filter which events and service calls are allowed through based on your user. \n\nhttps://github.com/emoses/home-assistant-limited', 'shbatm: And options for read only!', 'ElectroSpore: Would love to be able to have my kids view the cameras like the doorbell, get notifications and have their devices update presence but nothing else.', ""TheCruelSloth: I'm still waiting for a way to disable certain settings in the default_config. \nFor now, I have to manually check for new items and enable/disable them to my needs."", 'stacecom: I already do this.  I have specific users locked to specific dashboards.', 'DanGarion: I would love to not have to declare which dashboards should default and display every time there seems to be an update to the Andriod mobile app...', 'lukerwry: This is probably my top ""want to have"". My next would be the ability to have folders and tags for automations, scripts, etc.', 'virtualbitz1024: LDAPS groups >> RBAC permissions structure please and thank you', 'bwyer: RBAC!  RBAC!  RBAC!', 'mvassli: This!', 'cac2573: Maybe even a good use case for those instant apps? I think Apple calls them app clips.', 'TenseRestaurant: This would be awesome, I can definitely see myself using this', ""bingoNacho420: Wow, I hadn't even thought of that! Id definitely use it! I hope it gets implemented at some point!"", ""Nyghtshayde: I'd totally support this - outside keymaster, lock integration is not well done. It's something that could make life a lot easier for third parties."", ""ashok36: I'd be happy if there was just an easy way to export a CSV file from a sensor (or group of sensors) across a defined span of time. Pair that with automation to send that CSV file to an endpoint and you could do some cool stuff with it. I don't think the devs need to spend time reinventing graphs and reports that I can make a lot easier in Excel or PowerBI (or any of the free alternatives)."", ""jlboygenius: I ran into this problem with importing my water usage. \n\nhaving an external DB(like mariaDB) and phpmyadmin access was great because I could go in and delete the bad rows of data. The auto-ranging charts are great, but when you have 1 row that is 1000x more, it doesn't really work. I just deleted that one row."", ""antisane: Bad is a great understatement. Much of it is outdated, and some that isn't is confusing as hell."", 'kryptonitecb: The documentation could be better and to add I’ve been trying to get a straight up broken and dead integration removed for months. Since no developer is linked/assigned no one looks at my comments on GitHub. I’m super happy about the team but every comment I make on the “suggestions” gets slapped down by admins. So there’s a broken integration that everyone can try and no one wants to fix or remove.', ""sycor: My god yes! It's so hard to figure out how to do something when all the videos or documentation is so far out of date. And that might just be 2-3 months sometimes. HA is always changing and things get moved in menus and figuring things out can be daunting. I don't YAML, I barely understand YAML and I much prefer the visual interface. But so many videos are out of date and don't work anymore."", 'cweakland: I find the documentation to be a “good starting place” I would like to see the list of entities for an integration.  I often have to add something just to find out what details it exposes.', 'snaky69: It is downright horrible, but nobody wants to do documentation…', 'matthiasdebaat: For now, we are trying to discover the different types of users, from our users. We will create some personas based on our discoveries. How much involved in the usage and development of their smart home is definitely a topic I am interested in.', ""mdziekon: I completely agree with the documentation bit. Honestly, I think this is the single worst thing about HA, because in certain aspects it's a huge blocker. In many cases, the documentation is disorganized, incomplete, or worst case - completely lacking.\n\n  \nThe HA forum helps a bit, but their forum's software is a nightmare to use in terms of searching."", ""ewlung: Definitely, HA documentation is one of the worst parts. It's not clear, it feels incomplete, and confusing. I have to search to get the right examples."", 'crumpet_concerto: The documentation is horrible. I once made a PR to add some helpful info to a doc after I spent a long time figuring out how to do something and was shut down from making the change. No alternative was offered. \n\nI love HA, but there is dictator-like control over the documentation for no reason.', 'MyloFiore: I disagree that the UI looks very 90’s. A lot of people on this thread say that Grafana widget layout is what they would prefer - but that’s for when you are designing for one orientation and size - like a wall mounted tablet. Personally, I like the fact that the UI is responsive and renders properly on portrait phones, and landscape tablets and laptops. That being said, I wouldn’t mind some drag and drip reordering.', ""flac_rules: I don't think the UI is very 90s, I think it is reasonable, but needs some added options. The mushroom stuff everyone loves is not very space efficient in many circumstances."", ""junon: As sort of a 'moderate' level user, it seems like template sensors are very much the gateway to very powerful dashboards and automations and they're very much locked behind the wall of 'very involved yaml editing' which keeps me from wanting to bother diving into it."", 'pfak: My favourite is the ""improved"" lighting controls...', 'Kogg: From my experience as a dev, Material UI (which is what HA uses) is incredibly polarising. A lot of people love it, but I’d argue even more hate it. \n\nI’m on the side that hates it. For those coming from Android, or from deep in the Google ecosystem, I’m sure they barely even register it. But for those that don’t, it’s one of the worst well-supported component libraries out there for JS, in my opinion. \n\nI’m sure when it was introduced there probably weren’t a tonne of options for UI components, but today there’s so many fantastic choices that aren’t Material UI, and aren’t as divisive as Material UI.', 'sleep-woof: I just want to register my disagreement with this users opinion. Whatever he said, but the opposite...', ""Ulrar: Actually I have one thing that drives me nuts on mobile, I use gesture navigation and it conflicts pretty badly with the HA app. Literally the only app having trouble with it on my phone.\n\nWhen I swipe back using the left side, it often pulls the sidebar a little, totally invisible but it actually makes the app freez. It took me a while to figure out that I don't need to kill it, there's a very narrow band where I can swipe without triggering back to finish pulling the HA sidebar out, then just send it back to collapsed to unfreeze the app.\nJust awful experience, for month I thought it was crashing and I was killing it 20 times a day, now I'm constantly trying to pull that damn sidebar out to unblock it.\nSolution could be to just have a way to disable the swipe to pull the sidebar out, which someone using gesture navigation will never be able to use anyway"", ""junon: My recent 'touch' frustration is when I'm in a device list for an integration on my phone and I see in the upper left on the phone is the 'back' arrow... okay, so I go to swipe from the left side of the screen to avoid the reach aaaaaaand... the left sidebar menu pops out instead of taking me to the last page I was on.\n\nNot super intuitive tbh."", 'clogtastic: Yeah Lovelace should become the default card set for starters...', ""ReallyNotMichaelsMom: You can use folders for automations, in fact, I'm kind of thinking of switching over to packages myself.\n\nUnless you mean that then you can't get the auto provided link to issues in your automations when something needs fixing. Then yeah, never mind. :)"", ""MaddyMagpies: It's funny because in other threads we also saw this:\n\nReddit: My spouse/friends/family/roommates aren't using my HA setup! WHY???\n\nIn terms of UX, it makes sense, since HA instances have always been UIs designed by sysadmins. They want a UI usable for actual users."", 'Arrabiki: Ahh, I see someone else has also been to /r/Plex lol', 'alterexego: Can be done with mmwave sensors, ""navigate"" actions, on a per user case.', 'Akilestar: You can set device default dashboards. Make a dashboard specifically for mobile and set it as the default on that device. I put in all the things I want and then ordered them in mobile so I can see what it looks like.\n\nThat being said, being able to emulate a screen resolution while developing a dashboard from a PC would be super cool.', 'is_that_a_question: Yes! I want it all in one popup. Buttons are much less responsive now too', 'mmakes: [Matthias posted the same thing as a moderator on the HA forums](https://community.home-assistant.io/t/help-us-improve-your-home-approval-factor/564324), so this should be fine.', ""matthiasdebaat: Maybe I'm even a beta version of ChatGPT5"", 'ID10T_127001: >\tgrammar and spelling\n\nEnglish as a second language is a thing.', 'Ulrar: Agree with the rest, but disagree about the updates. Plenty of the new features are great, and as for the small bug fixes I\'d personally rather have them as soon as possible. When you\'re affected you don\'t want to wait months for the fix.\n\nIf your HA has all the features you want already you don\'t have to update. A lot of people stay a few months behind to be sure they always update to a stable ""done"" version, which is sensible', 'jdblue225: Agreed 100% about reliability. Though I feel like there are a lot of factors (like quality of sensors or communication technology) that may be outside of the ability for the devs to fix. \n\nI definitely could use some more control/debugging ability over nabu casa\'s connection to my home assistant instance. For example, my token expired (multiple times now) and all of the automations that relied on a connection to the companion app stopped working. \n\nThis was just one example but situations like these are almost a daily occurrence. I jokingly pass it off as a ""gremlin"" at work in my HA.', 'coredalae: What broke for you? Ive been running updates straight away for 4+ years and the last time i encountered anything breaking is probably 3 years ago', ""0xde4dbe4d: I agree that reliability is key, however I must say most reliability issues I face are outside of home assistants issues. It's usually somebody switching off a zigbee bulb that was a core-router and thus messing up the mesh. Just to name one example. Whenever I'm facing unreliability issues, it is not home assistants fault. \n\nAlso regarding updates: 1 you don't need to do every single update (check release notes) and 2 unless I overlook a breaking change that was mentioned in the release notes, no update every broke things for me."", ""tiberiusgv: I'd like to see an option on release channels similar to Ubiquiti. Let the power users down the Release Candidate versions, get the bugs sorted out and then once everything is happy do a single monthly regular release (patches if absolutely necessary). I think that could really help the people who juat want it to work and aren't chasing the latest features."", 'Arrabiki: FWIW on #3 there’s a “magic areas” HACS addon that sort of does this.  The only downside is it picks up EVERYTHING assigned to a room, and for example I don’t necessarily want “My computer is not idle” as a presence indicator.  I found that after a while I was spending enough time excluding things that it was outweighing the benefit.\n\nGave me some good ideas for sensor grouping, though.', 'jwildman16: You should be able to configure the layout to be shown differently based on how many columns are on the page. If I order the cards the way I want for a single column mobile layout, it is currently nowhere near what I would like to see on the desktop.', 'matthiasdebaat: I agree with your 2c, but it may not be the same for every user. One of the things we explore is how we can help you create the best experience for your users. Interviewing housemates can give us more insight.', 'ReallyNotMichaelsMom: I have fewer cats, but the reaction I got was a look that said, ""We are Gods, not servants. Bring us food.""\n\nThen the hairball.', ""ashok36: I don't have a dog in this race but having a per-user toggle for this behavior, with the graph hidden as default, would probably make everyone happy."", 'mmakes: What kind of sensors or entities do you look at the history the most? Can you give some examples?', 'InternationalReport5: The focus of this topic is making HA more usable for less technical people. Making the actions on the dialogues clearer is clearly a step in that direction.', 'matthiasdebaat: That looks really cool! Can you tell me a bit more about the steps you took to get this end result?', 'chunkystyles: I\'m not sure I understand what you mean by this.  If you have a binary sensor, could you not use a template to make ""on"" = ""yes"" and ""off"" = ""no""?', 'vontrapp42: And be able to do actions and triggers and conditions based on tags also.', ""ashok36: I would be happy if the cards were just numbered when you're in UI editing mode. As is it's impossible to tell where a card is going to end up if you move it up or down."", 'Belazriel: All of my cards are nestled into Vertical/Horizontal stacks to keep them where I want. It can be a little frustrating.', ""poke50uk: As a UX designer, I still haven't worked it out and I basically rage quit every time. It annoys me so much knowing better ways of doing it."", 'Vexxicus: Literally the same exact scenario. Soooooo many hours put into making dashboards that look okay', 'MairusuPawa: But at least do keep the vertical stack / horizontal stack / grid ""stack"", so some items can be moved as a group', ""MrSlaw: > The dashboards need to be awesome by default, with customization being unnecessary unless you're super advanced. \n\nI honestly don't know how they'd do this considering the vastly different integrations and preferences people have.\n\nFor example, say I have a temperature sensor. If it's being used to monitor the inside temperature and control the HVAC system, I'd likely be fine with it being shown on the dashboard. However, if instead it's simply sitting inside the freezer and only being used as an automation trigger, do I really need and/or want to know that the freezer has been reading -18°C  every day for a year? \n\nAs far as HA knows, all either does is measure the temperature, there's not a lot of context for it to go off of without some sort of user intervention."", ""eightysguy: Totally agree. One easy way to enable this is to make dashboards be Area based and auto generated. One main screen of something like area cards that lead to auto generated dashboards that sum up the area. \n\nI did this was lovelace gen, if I add or remove devices from areas the entities on the dashboards just do their thing and I don't have to think about it any more."", ""YowaiiShimai: So maybe Im just forgetting the nitty gritty of how this works and functionally wrong but can't you already do this to an extent? Assign dashboards so only certain users can see it etc?"", 'randytech: yeah you can already do this and it is really really simple. you can hide entire dashboards or even just specific subviews. just hit the little pencil on the tab when you are editing the dashboard. also make sure the dashboards are set to admin only and user is not set up as an admin so that they can really only see the dashboards you want them to see\n\n&#x200B;\n\nhttps://preview.redd.it/gjojkfuok2wa1.png?width=777&format=png&auto=webp&v=enabled&s=b80975533fdf65c377221c6710eb641b4aae14c0', ""virtualbitz1024: I'll settle for LDAPS"", 'Archon-: Even just having support for a remote user header would be awesome', 'Clutch70: WTB LDAP', 'pbanj_: Just set the permission on the dashboard. I have a panel user that only has access to the ""control panel"" dashboard. Then there\'s my wife\'s account which can only see the ""default"" dash. The panel dash auto hides/removes stuff so they can\'t get out of that dash to any other part of the app', 'daath: >I would add dashboard entries in the sidebar that are only visible for some user(s).\n\nEdit Dashboard - Click the pencil next to the name at the top left, click Visibility.  *Et voilà*! :)', 'KnotBeanie: Yes, Please just make mushroom cards apart of HA core.', 'Ok-Jury5684: Yeah, and how do you enforce user to dashboard? Especially from fresh start?', 'ReallyNotMichaelsMom: They do have folders for automations. If you do a search for ""packages"" you can find out how to set up (and move everything :) )', 'Anti-ThisBot-IB: Hey there mvassli! If you agree with someone else\'s comment, please leave an **upvote** instead of commenting **""This!""**! By upvoting instead, the original comment will be pushed to the top and be more visible to others, which is even better! Thanks! :)\n***\n ^(I am a bot! If you have any feedback, please send me a message! More info:) [^(Reddiquette)](https://www.reddithelp.com/hc/en-us/articles/205926439#wiki_in_regard_to_comments)', ""Ulrar: Outdated is my biggest gripe, it's usually pretty good (for an open source project at least) but I often remember reading about a change in the release note that does not appear in the doc. Having to read through the release announcements to try and find it back isn't pleasant"", 'Drunken_Economist: To understand the consumer distinction between HA and Hubitat, [would you like to interview my dog](https://www.reddit.com/r/Hubitat/comments/wnskbh/i_installed_some_fibaro_buttons_so_the_dogs_could/)?', ""flac_rules: Yeah, ditto, I have tried improving the documentation, it was a more hassle than it should be and the change wasn't event implemented (and it was a pretty clear cut thing), that was the only time I tried."", ""ashok36: I just want to register that if you don't want to be downvoted you should probably explain why you disagree. Otherwise, your comment appears entirely contrarian and does not add to the conversation."", ""jwildman16: It's even worse swiping from the right side. It will activate whatever button, switch, or action is under your finger. And it does it without you seeing it on the screen because it happens after that app has closed out from view."", 'chrisron95: If you’re willing to play with YAML, packages are a godsend lol. I’ve been using them for about a year now and unless there’s significant improvements elsewhere I plan on keeping using them.\n\nMy only complaint about packages is that errors aren’t the most helpful. If there’s a problem, it just points you to your configuration.yaml file. It won’t tell you which package file has a problem. Hoping they tackle this in a future release but doesn’t seem like anything happening soon. Pros far outweigh the cons with packages though in my opinion.', ""djgrahamj: > You can use folders for automations\n\nCan you elaborate please? I'd love for the Automations section to support grouping the automations somehow. If this is possible I'd love to know how!"", 'mrBill12: Folders are not available in the UI.  Even my yaml only are managed via the gui.  The only method to organize is keyword as the first word of the automation name.', 'Queen_Combat: Ah okay TY', 'Laxarus: It is true that the new features always bring joy but what I want to point out is almost all the time, the new features have a lot of problems. They have not been tested sufficiently. Currently, they fix those in a relatively short amount of time with minor updates, however, this takes resources and time. Some users might also experience hard time due to these issues.\n\nMy point is to test these updates for a longer period of time to reduce those issues as much as possible before they are released to the stable production channel. This will both save time for the ha team and reduce the number of users having trouble with these features. The main production channel should be for users who want a more stable environment. Any other adventurous user can switch to beta or alpha channels to experience the cutting edge stuff. I believe Nabu Cass team is doing the best they can, however, they have limited resources. Currently, I believe we have a very good and robust software already. That is why I suggest that their main focus should be more on the bug fixes, performance improvements, accessibility and ease of use.\n\nI am sure many of you have experienced at least once that some problems have raised after updating. It might have been fixed with you fiddling with yaml or with a minor release. The goal is to reduce admin intervention as much as possible to let the system do its job.', 'Laxarus: Hard to recall right now. But a lot of things broke for me mostly some integrations stopped working as expected or fail to load altogether in some cases. For example, when Bluetooth proxy was released, I wanted to try it out and it was a nightmare to get it working properly at least for me. After many updates, they fixed most of the issues.\nAnd I cannot believe that you did not change your config after an update for 4 years. I am sure that you had to make some modifications on your yaml for some of the updates. My point is to make it so stable that it needs less ad in intervention.', ""djgrahamj: It definitely makes sense to get a holistic view of how HA is used by everyone who will use it. I'm sure the survey will be enlightening.\n\nI just think that if I know my wife's needs and I'm the one making the UX for her then it's me you should be asking what I need to do that. Of course there's no shortage of people telling you anyway in these comments lol... maybe you know our side well enough already ;)"", 'shakuyi: Mainly its the graph of fans, lights, switches etc... any graph that used to be shown with the control is what I am missing. I would prefer both history with control on the same page.\n\nSensors are fine since they still show the history, its purely that anything with a control is whats missing.', ""shakuyi: It's not about the actions it's about returning to old behavior with the history graphs. Everybody loves the design changes but hates that history is hidden behind another click"", 'wsdog: No. The new dialogs are just ugly and less functional. They are heavily geared towards the tap interface, which is fine, but the tap interface is not the only HA interface.', 'Clooooos: Thanks! For the steps, well... \U0001fae3 \n\nIt\'s the Noctis theme modified by me, I use the slider-button-card for the rooms lights sliders and a lot of css with card-mod. The widgets are horizontal-stack with custom:vertical-stack-in-card in it. Not easy to explain in fact, that\'s why I\'ve never took the time for writing an ""how to"" but you can find most of my modifications in my lovelace.yaml and in my Noctis theme.\n\nBut if you have more specific questions I will be glad to answer them :)', ""pinguugnip: Yes but it's such a basic option, it should be available."", ""superdupersecret42: Agreed! Because it's simultaneously trying to auto-arrange it for a widescreen/multi-column display, so sometimes tapping UP puts it at the bottom of a different column.  \nI get it's got to be hard to figure out every display configuration, but I'd love to be able to drag things to where I want them."", 'RedTical: Agreed. I hate adding a card. Moving it up, down, all around to where I think it should be then hitting Done and finding out it actually ended up somewhere else.', 'cosmicosmo4: It would be so much more controllable and intuitive if you could just explicitly say which cards are going to be in which column... and let me make a totally separate layout for mobile (because it displays in a totally separate layout) without having to remake every card.', 'GritsNGreens: I know what you mean, but HA does know what the sensor is used for. And a lot of the time the naming will tell you the purpose. If they really tried they could look at automations, triggers, whatever and find a meaningful way to show the UI rather than listing devices by area.\n\nNot saying this is easy but if they made 2024 the year of awesome default dashboards and the whole team focused they could definitely make improvements. Alexa, Google Home, and Apple are all in the same boat in this regard. HA just has way more features/integrations.', ""kelvin_bot: -18°C is equivalent to 0°F, which is 255K.\n---\n^(I'm a bot that converts temperature between two units humans can understand, then convert it to Kelvin for bots and physicists to understand)"", ""Flacid_Monkey: Yes you can and it's dead simple.\nI have my pc controls dash visible only to me however, it doesn't stop someone looking for the devices individually. Luckily that's more than 3 clicks so nobody will do it."", ""rourke750: I think you can but if they still know certain endpoints they can still do stuff even if it isn't shown"", 'richardwonka: I have not seen anything like that.', 'faregran: Those are tabs INSIDE a dashboard, the dashboards are defined in settings > dashboards.\n\nWhat about hiding the Energy dashboard?', ""cosmicorn: I don't think the panel visibility settings offer enough granularity. I'd rather be able to set visibility and control permissions per entity."", ""donald_314: Doesn't work for example in the Energy dashboard"", 'electromotive_force: This only works on that particular device.\n\nNot even your user account, just that particular browser/app on that particular device. And any new dashboard is visible by default.', 'lukerwry: Thanks for the tip. From what I read packages seem to be for organizing yaml. Is there a way to organize the GUI based navigation?', ""stacecom: This bot is worse and spammier than the problem it's trying to solve."", 'matthiasdebaat: Hahaha, that is really clever! Can you teach him the difference between `yes` and `no` buttons?', ""sleep-woof: Thanks for the feedback... I'm sure you are right...\n\nFor the record, I do like the documentation and examples and I really like the UX... I'm sure things could be improved as they have been improving..."", ""STATERA_DIGITAL: I always have to pull up the side menu or a dashboard that doesn't have anything on the bottom so I can close the app without accidentally turning on a light or something"", 'kryptonitecb: Started using packages around the same time and I have the same feedback. “Automation error line ?? column ??” is helpful but could be better. I’m not sure how feasible it would be but it would help me greatly.', 'icegustpl: In configuration.yaml you can define automations like this\n\nautomation: !include_dir_merge_list YourNameOfFolder', ""ReallyNotMichaelsMom: I thought I'd heard that if you give the automations a unique id, they showed up in the UI. \n\nI'm not comfortable enough with my yaml skills to give up the ui, so I guess I won't be moving to packages :) But I like your suggestion of organizing by keyword as the first word of the automation!"", 'mmakes: Just out of UX curiosity - Why do you need to see the history of when you turn on or off fans, lights, and switches?', ""ashok36: I don't hate that."", 'matthiasdebaat: Thanks! Do you’ve got family members or roommates that are using your creation? If so, how are they involved in your smart home?', ""chunkystyles: I mean, it *is* available.  They've made it so you can have the sensor be any two values you want it to be.  Which is far more useful than trying to enumerate all the values someone *might* want."", ""vontrapp42: Or allow us to use tags in entities and devices. Thsn tags could be used to determine what you want to be displayed or what you don't want to be displayed."", 'wolfmanwhtwlf: I would agree, but my 11 year old son found out he can access scripts and devices in like 2 mins lol', ""superdupersecret42: Correct. I've got it so I can only display the particular dashboard tab to specific users, but that doesn't stop them from clicking the sidebar and opening the Logbook, allowing access to basically any device."", 'Sjorsa: That only hides them from the bar though. If they have the link they can visit any dashboard they want.', ""YowaiiShimai: I'm not crazy, the other person who replied to me agreed its possible. It was a recent ish sort of update, sometime last year I think"", 'MrSlaw: > What about hiding the Energy dashboard?\n\nIf you mean for all users, you can long press the Home Assistant title above the dashboards list, and it will go into ""wiggle mode"" which will allow you to hide them from the side panel\n\nhttps://i.imgur.com/uZ1Fdxv.png', 'ntsp00: It should just auto remove the comments', ""Drunken_Economist: There's no way to find out - he's too much of a brat to every agree to anything LOL"", ""Ulrar: I think they meant in the UI, but that's good to know"", 'djgrahamj: Amazing, thank you!', 'shakuyi: I like to see the graphs of how often it was on or off, how long it was in that position or previous position, did it have any connectivity issues, etc... Just a quick glance at its history really. And yes I like to see that every time I click on the More Info panel.  Why else do we call it More Info? Lately it feels like the ""info"" part of panel is hidden.', ""Clooooos: Yes my wife is using it and she like to use it, but I don't really have other users because everything is automated in our home. We only use the dashboard to disable automations when we want to fine tune something, it's why I've made a Settings menu in the right of the header menu for turning on or off our main automations. We also use the dashboard for informations, like cameras, music, weather and calendar.\n\nI also use a lot the Mute button in the left of the menu, it mute everything in our house, like vacuums, music, tv, Google Minis and all TTS automations. It's toggled automatically when I receive a call but it's not working for the iPhone of my wife for exemple.\n\nBut I've done a lot of work in this because I wanted something easy to understand and use, even for guests with important controls directly accessible in the main dashboard without having to scroll and tap too much. Sub dashboards are mainly for fine tuning.\n\nIt took a lot of time to figure what is really important to have on my dashboard and what is secondary but I'm really happy with the result."", ""ntsp00: Didn't they say in the same comment it doesn't stop someone from still having access to all devices"", 'sibartlett: That only works per device (browser, app, etc)', ""exclaim_bot: >Amazing, thank you!\n\nYou're welcome!"", 'mmakes: Besides connectivity issues, was it for tracking energy consumption, knowing if anyone else has touched the switches, or something else?', ""YowaiiShimai: So if my device can only access a specific dashboard and that dashboard doesn't have everything on it... doesn't that effectively limit them from accessing everything?"", 'shakuyi: Honestly its never the same reason, history is well just history and I want to see it when I select an entity to view more info.', 'ntsp00: They still have access to the sidebar soooo', ""YowaiiShimai: Fuzzy on the details but I've limited access to the sidebar in the past for users. There was a way to make it so my user couldn't mess things up accidentally. And if a dashboard isn't available to them then... they're still limited to whats been made available on their dashboard right?"", ""ntsp00: No, that's the point"", ""YowaiiShimai: Look I'm making a good faith effort to at least explain myself, least you could do is the same :)"", 'ntsp00: What\'s there to explain? You asked ""they\'re still limited to whats been made available on their dashboard right?"" and I answered ""No, that\'s the point"". What are you confused about?']"
1682410286.0	25-Apr-2023 01:11:26	Simple automation for Button Press Control with Wake-On-LAN and Media Player Integration	Ronyn77	1	12ycmrk	homeassistant	/r/nodered/comments/12yclvy/simple_automation_for_button_press_control_with/		0	[]
1682409806.0	25-Apr-2023 01:03:26	Revert to standard recorder	Patrick161019	1	12ychsd	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ychsd/revert_to_standard_recorder/	"Hi! I have some continuing problems with MariaDB after I’ve restored an HA Backup once. I now want to revert back tot the standard recorder to see if that fixes the issue, delete MariaDB completely and if the problems don’t return, retry MariaDB once again. 

How do I safely stop using MariaDB?"	3	"['davadvice: I just done this yesterday and all I did was comment out the recorder code in config.yaml', 'Patrick161019: Thanks!! Did you also reinstall MariaDB again? \nHow did it go?', ""davadvice: Nope as I'm not using it it will allow HA to default to SQLite just restarting home assistant and my data began to appear""]"
1682409380.0	25-Apr-2023 00:56:20	Who’s turn is it?	Accomplished_Run_447	1	12ycd5t	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ycd5t/whos_turn_is_it/	My kids are supposed to do the dishes in the evening, but they’re both always arguing whose turn it is. I would love to solve that with a card in home assistant. How could I create a card that shows their names, switching between the 2 every day?	13	"['Kaleodis: the grocy addon has a chores function which does exactly that. pair that with the custom grocy card thing (via hacs) and you got that exactly (the chore card can display all chores filtered for one grocy User)', 'Mdna2: You could create a calendar and use this.\nOr you can do a little template lookup with some modulus.\nOr a binary sensor which can be switched by the one doing the dishes, also gives a lookup option who changed it last.', ""Skeletorjus: You can create an input_boolean that you toggle every day at 00:00 with an automation. Then use a markdown-card to show the name:\n\n    type: markdown\n    content: |-\n      {% if is_state('input_boolean.kidtoggle', 'on') %}\n      Name 1\n      {% else %}\n      Name 2\n      {% endif %}"", '404flyer: This template would switch names every day without needing a helper or having the ""fewer even days of month"" someone else alluded to. You could put it directly in a card, or create a [template sensor](https://www.home-assistant.io/integrations/template#state-based-template-binary-sensors-buttons-numbers-selects-and-sensors) and it that to your card.\n\n    {% if (now() | as_timestamp  / 60 / 60 / 24) | int % 2 == 0 %}\n      first kid\n    {% else %}\n      second kid\n    {% endif %}', 'SaveFutureYou: Throw in a template sensor? Odd numbered days for kid one, even numbered days for kid two.', ""JimFive: Works until you go out to eat and skip some bodies' day."", ""MissTortoise: Hehe... good luck with that!\n\nThey'll find some way to make it not their turn for some reason. This isn't something tech can solve, sorry!\n\nWhat *might* work is having points for completing tasks, that they can then use to 'buy' something of value, like screen time or physical things / toys. I've contemplated implementing this, but haven't actually done it."", 'adelaide_flowerpot: I’ll take the even days thx', 'myplacedk: Sooner or later that will even out close enough.', ""bstrauss3: It's based on the days since the epoch via timestamp so there's no bias."", ""MissTortoise: That doesn't mean they wouldn't rather spend time arguing about who's turn it is, rather than just doing it!"", ""myplacedk: There's nothing to argue. Each has every second day. Some days are easier than others. End of story.\n\nI will listen to good arguments for exceptions and consider them seriously, but I will not have a long discussion."", 'MissTortoise: If only my kids would agree with that logic!']"
1682406196.0	25-Apr-2023 00:03:16	Weather station - conceptual help needed	notalbymangels	5	12ybbsd	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ybbsd/weather_station_conceptual_help_needed/	"I'm going around in circles and have confused myself, could use some guidance...

I want to build a weather station primarily to calculate evapotranspiration, but the raw weather data will obviously be useful too.

I have an ESP32 which I will use to provide the sensor data, say 10 minute sampling interval.  I then plan to save it to Influxdb running in HA, and display it using Grafana, also in HA.  Don't know how to do that yet either.

Where do I calculate Evapotranspiration?  I can use a python script to do it

https://soilwater.github.io/pynotes-agriscience/notebooks/evapotranspiration.html

and I could run that script on the ESP32 with some mods, but it would seem better to collect the daily data (ETo, Temp & RH min/max, total solar radiation, average windspeed) on the HA machine, not the ESP32 - if the ESP32 is turned off it will lose the calculations for that day.

How do I collect daily min/max, average, cumulative totals, on the HA machine?

How do I run the python script for ETo on the HA machine?"	19	"[""sembee2: I wouldn't use Home Assistant for this. Certainly not if you want to keep long term stats as HA as it isn't really designed for long term stats provision.  \nGrafana/InfluxDB within HA are community addons which are maintained by amateurs, therefore could stop being updated, a bad update could cause a problem etc and anything long term lost. \n\nThe sensors in an ESP32 are not sensitive enough in my experience to get anything meaningful without some serious hacking about. \n\nWhat you need is something that is designed to process weather data, running within its own system. Then look to take the results to use within HA. I would go as far as having a dedicated machine for collecting the weather information. Run it in a VM and leave the machine running 24x7. A low powered mini pc is ideal. \n\nYou also need to gather multiple weather information to do the calculation as it is a combination of elements, and trying to hack something together is going to be frustrating and may not be very accurate. \n\nWhat I would do is get a weather station off the shelf that is supported by Weather Display. That will get you the raw information. You can then process that information as you see fit. Weather Display is one of the most widely used systems for processing data from a PWS and as such you should be able to work with the data easily. It can generate a file which there is an integration for HA which can read. WD can also do the calculation for you, so if you want to do your own processing, you have something that you can compare it to."", 'DIY_CHRIS: Are you set on doing a DIY on this soil sensor? Ecowitt has weather stations and soil sensor that easily integrate into HA. I added a soil sensor on my front lawn after overhauling the entire irrigation system and reseeding the grass. The ecowitt appears to work ok.', ""lastingd: I would use home assistant for this, use the ESP for data collection, use HA for the math, data storage, HA already has basic graphic for entity history.\n\nIf you can get the various values into HA variables, you can carry out the calculations in HA, they are not exactly complex and you've already linked to various examples.\n\n\nAs for retaining data, you can set specific paramters for storing data on a longer term basis:\n \nhttps://www.home-assistant.io/integrations/recorder/\n\nAs for the previous comments:\n \n> The sensors in an ESP32 are not sensitive enough in my experience to get anything meaningful without some serious hacking about.\n\nIs utter tosh, the ESP32 doesn't have sensors, it has GPIO pins, the resolution of these is measured in Mhz that is millions of samples per second (ADC) more than adequate for environment monitoring.\n\n> Grafana/InfluxDB within HA are community addons which are maintained by amateurs, therefore could stop being updated, a bad update could cause a problem etc and anything long term lost. \n \nThe entire HA system is really for hobby automation, if you plan on using this for commercial operations then be prepared for breaking changes in updates, which are usually well documented. So read the docs before any updates and you should be ok.\n\n> What you need is something that is designed to process weather data, running within its own system. Then look to take the results to use within HA. I would go as far as having a dedicated machine for collecting the weather information. Run it in a VM and leave the machine running 24x7. A low powered mini pc is ideal.\n\nThis would be massive overkill if you are doing this from a hobby perspective. For commercial operations it may be worth considering.\n\n> You also need to gather multiple weather information to do the calculation as it is a combination of elements, and trying to hack something together is going to be frustrating and may not be very accurate. \n\nAgain, utter tosh, there are plenty of weather addons and additional data may be scraped from websites within HA if an integration doesn't currently exist.\n\n\nThe Weather Display data is here, lots fo useful data to scrape if there's no integration : https://www.pwsweather.com/"", 'vontrapp42: For your one specific question ""how do I run the python script?""\n\nWhat I do is publish the data to mqtt (as well as to ha). Esphome has some great filters and preprocessing capabilities. You can copy/branch the data along many paths, some crude to sophisticated filtering to ha directly. Raw and/or also filtered data to mqtt. Then use python to subscribe to mqtt data and do things with it, then republish to mqtt where now ha can ingest that as well, or even ingest back into the esp if desired.\n\nI run python scripts this way to process owntracks location updates for my own in/out area logic and for a bed scale to determine bed occupancy (this is still wip)', 'redpandabutts99: I plan on doing something similar and set up a local weather station, but not utilizing ESP32. I’ve got Ecowitt sensors and plan to set up a dedicated raspberry pi to run WeeWX. Look into that to see if that would be a good solution for you. \n\nhttps://weewx.com', 'blentdragoons: for a weather station weewx is really good. then use mqtt to transport data to ha. works great.', 'Der_Dingel: I disagree with not using home assistant. I use an off the shelf weather station connected to home Assistant and then use the influxdb add on for long term storage. Even though the addon has not been maintained for a while it still works. You can always just set up your own DB instance and link it to Home Assistant. There also is already an add on that takes care of the calculations OP is looking for.\n\nhttps://github.com/jeroenterheerdt/HAsmartirrigation', 'notalbymangels: I could use a Pi or something dedicated to this purpose, I have a couple laying around unused.  But I have an i7 Lenovo running HA in my office for Frigate, it would be nice to use this if possible.  I\'m happy that the Influxdb and Grafana addons will be reliable enough - it\'s for monitoring not control.  As for ""designed to process weather data"", well, that\'s what I\'m trying to do to.  It\'s just time series data and it seems that is what influxdb is all about.\n\nI would also like to run multiple dashboards scattered around displaying irrigation status and weather info, HA would make this easy.\n\nIf the image on the home page of Weather Display is as good as it gets I reckon I can do better with Grafana.', ""notalbymangels: I have a sophisticated soil moisture system in the orchard already (capacitance probes at multiple depths to 1.5m).  I want Eto to help with scheduling not monitoring, but haven't been able to find a suitable off the shelf solution that isn't stupid expensive.\n\nI also like DIY, especially if it stretches my abilities.  Needs to be fully local as well."", 'joke-complainer: How do they integrate? I looked into them a while back but was under the impression they are their own ecosystem', ""notalbymangels: \nSo where do you run the python script?  On another device to the device running HA?\n\nLooks like it's possible to run it on the HA machine\n\nhttps://www.home-assistant.io/integrations/python_script/\n\nwill do some more research."", ""notalbymangels: That looks useful although I'd rather not have another device running.  It's definitely an option though, I have spare RPi's laying around."", ""notalbymangels: I tried HAsmartirrigation a couple of times (again last night) but can't seem to get it to expose just the ETo figure.\n\nI want to use ETo based on site measurements to help schedule irrigations in an orchard and nursery.  I want the plain ETo figure so I can apply crop factors to it for use in a drip irrigated commercial farm - this add on doesn't do what I want, although it appears solid for it's intended purpose.\n\nI intend to chart ETo and plant water use (with a separate proprietary soil moisture monitoring system) to assist in making manual changes to the irrigation control system.  It's a proof of concept at this stage so don't want to spend thousands.  If it works well enough I could end up with a few weather stations at different sites. \n\nI don't believe off the shelf weather stations are going to be that much more accurate than an ESP32 with decent sensors, unless I go for $2k Campbell Scientific units or something."", ""sembee2: I wasn't advocating using Weather Display as the interface. I have used Weather Display for over 15 years, only look at the interface when there is an issue. It is used as a tool to collect and process the data. You can use it to share content with the various community weather sites for example. \n\nThe data would go in to Weather Display, and then the Output is processed by HA to display the content. It is just another source of the weather. \n\nFurthermore, by separating it out from HA, I am not at risk of losing data, trends etc when I work on HA. I am not a fan of loading HA with lots of irrelevant things. My HA installs are dedicated to that job only. Anything else I might have is elsewhere. I find it more reliable."", 'DIY_CHRIS: Wow that’s quite deep. Sounds like a lot of digging! I like to DIY too, but only when a cheap and easy alternative is not available. (“Done” is preferred over perfect). I just recently finished replacing the irrigation in our front yard, and half way done with the back yard. That was 75 feet of trenches in the front and 105 feet in the back, but only a foot deep. For the sprinkler controller, I built one with an RPi, relay, and a buck converter using Opensprinkler. It’s local and works with HA. But for monitoring, I was concerned with water, corrosion, and the elements, so I opted for an off the shelf solution. For $20, the Ecowitt WH51 is good enough for soil moisture measurement. I haven’t done anything with the data yet though since I just reseed the grass and watering often for the seedlings.', 'DIY_CHRIS: https://www.home-assistant.io/integrations/ecowitt/. The webui for the gateway sends data locally to your HA ip:port. You can also block it from accessing external, but it won’t pull weather. The sensors aren’t specially mentioned in the integration, which was confusing for me, but they do come in as entities as well.', ""vontrapp42: It runs as a systemd service. Mine is in the same host that runs homeassistant but doesn't have to be."", ""Der_Dingel: I've dabbled with my own sensors in the past and it was always a bit of a pain to get accurate readings. For outdoor use you would also need a housing that protects the sensors from the weather and doesn't affect the readings. I'm using a Bresser 7 in 1 weather station that I just found online for 90 euros and I'm reading the values with an rtl433 add on."", ""notalbymangels: The probes are 1.5m long but the deepest sensor is 110cm.  It's measuring the rootzone of a mature tree, so has sensors at 10, 30, 50, 80 cm (the rootzone) and the one at 110 monitors drainage and subsoil moisture.\n\nThey are installed in vertical pvc tubes using an augur and guide rig - in a previous job I was the tech manager for the company that sold them, we were putting probes in in about half an hour each one.  A cellular modem is fitted to the top of the probe to transmit the data to a cloud based server.\n\nwww.sentek.com.au\n\nAbout $2k per probe last I bought one.\n\nI have complex proprietary irrigation controllers at work (up to 64 valves each, multiple controllers on an RS485 network).  I know a good amount about the tech and what works or doesn't, yet I use OpenSprinkler at home too on a RPiZeroW.  It's solid and reliable.""]"
1682405244.0	24-Apr-2023 23:47:24	Esphome - Ikea Vindriktning sensor not showing up in HA	crabe919	2	12yb078	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yb078/esphome_ikea_vindriktning_sensor_not_showing_up/	"First time with esphome, and got a d1 mini clone installed and found correctly inside of HA. 

Did severale OTA updates with a supposed working yaml file, but my sensor stays unknown.

If i try Rx-pin: D2, i get an script error. So i looked at the board layout and used GPIO4 instead. Still not showing up. I swapped the sensor position on the board to pin D7 and used GPIO13 but still not showing up.

&#x200B;

I've connected the ikea sensor with a resistor voltage reducer, 2x 1 Kohm and 1x1Kohm as shown in the link below:

\[only used for connecting the sensor, did not use arduino ide\]([https://www.youtube.com/watch?v=NwHL8XMarFY&t=169s](https://www.youtube.com/watch?v=NwHL8XMarFY&t=169s))

&#x200B;

here is the yaml code used at the moment:

    esphome:
      name: esp-ikea
      friendly_name: esp-ikea
    
    esp8266:
      board: esp01_1m
    
    # Enable logging
    logger:
      
    # Enable Home Assistant API
    api:
      encryption:
        key: ""Zxxxxxxxxxx=""
    
    ota:
      password: ""xxxxxxxx""
    
    wifi:
      manual_ip:
        static_ip: 10.0.1.187
        gateway: 10.0.1.1
        subnet: 255.255.255.0
    
      ssid: !secret wifi_ssid
      password: !secret wifi_password
    
      # Enable fallback hotspot (captive portal) in case wifi connection fails
      ap:
        ssid: ""Esp-Ikea Fallback Hotspot""
        password: ""4gp0Czxcl437""
    
    captive_portal:
        
    # Ikea Vindriktning PM2.5 sensor
    uart:
      rx_pin: GPIO13
      baud_rate: 9600
    
    sensor:
      - platform: pm1006
        pm_2_5:
          name: ""Ikea Vindriktning PM25""

https://preview.redd.it/33u1orct8zva1.png?width=3294&format=png&auto=webp&v=enabled&s=df7a65fc7b4e7ea6ff0e740562d98ad77dc4a70e

&#x200B;

https://preview.redd.it/r7hfcayu8zva1.png?width=2546&format=png&auto=webp&v=enabled&s=23a77af8fe2aa614d9e414729ed0c78961e351cf

&#x200B;

https://preview.redd.it/osdwjdpy8zva1.png?width=1866&format=png&auto=webp&v=enabled&s=36f9c8aa954eff82d888fca157ec11675dbe0007

Any help would be welcome."	2	['crabe919: Thanks, but looking to learn esphome.', 'pinguugnip: This is the guide I followed for mine, using Tasmota rather than ESPhome.\n\n[https://www.youtube.com/watch?v=BQ222qzYUqw](https://www.youtube.com/watch?v=BQ222qzYUqw)']
1682404825.0	24-Apr-2023 23:40:25	Smart Lab system with home assistant	SciencePeddler	2	12yavbk	homeassistant	https://www.reddit.com/r/homeassistant/comments/12yavbk/smart_lab_system_with_home_assistant/	"Hi everyone,

Bit of context:

I have a couple of labs i manage in two separate buildings in close proximity (100M away from each other). Each one has a variety of different things i'd like to monitor like air quality, leaks, CO2 detection, temp, humidity, etc. Currently i'm using Unifi dream machines, access hubs, UA6-Pro wireless for internet/network, security, and access control. 

I've been scratching my head a bit trying to suss out what sort of alarm system i should get (motion detection/sirens) and remembered we've been using a pi-powered home assistant setup to monitor a few of the variables mentioned in the lab with the ESP addons.

That coupled with the fact there are no off-the-shelf ""smart lab setups"" i'm thinking of getting an intel NUC and running linux on it to act as a ""smart lab"" building control system.   


There will be a lot of sensors to set up for a single lab + alarm system for the building and so I'd like to ask 

1) How easy it would be to ""clone"" what is on a NUC in one building in the other building to minimize repeating the same work i've done in one space to another?"	3	"['ElephantOrnery: 1. Super easy!', ""5yleop1m: You have two options for cloning,\n1. Clone the whole drive, you can use software like clonezilla to get a bit-by-bit copy of the fully setup NUC and restore it on the other NUC. \n\nThe down side here is initially you don't want both NUCs running at the same time since they'll be clones. You'll need to go into the cloned NUC and change things like hostnames and other unique settings so they show up as two different systems on the network. \n\nFor security you should also change all passwords so they aren't shared between the two devices. \n\nThe other option will require some manual work, you can setup both NUCs and then setup home assistant on one NUC and then use the home assistant backup addon to take a full backup of the first NUC. Then restore that backup onto the second NUC. \n\nThe down side here is you'll still need to setup most of the two NUCs, but you'd only have to do the major Home assistant setup on one NUC."", ""lastingd: Barely an inconvience.\n\nThere's also a remote HA addon https://github.com/custom-components/remote_homeassistant""]"
1682402005.0	24-Apr-2023 22:53:25	Custom Integration. Best way to handle Home Assistant shutdown	Pleasant-Phase	1	12y9w5c	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y9w5c/custom_integration_best_way_to_handle_home/	"My integration is loaded and unloaded using the following methods in __init__.py:
async_setup_entry
async_unload_entry

I can see these events are called when you add the integration or disable/enable it from the Integrations UI.

What's the best way to monitor a server shutdown so that I can close sockets, etc. Is it only possible by listening for the shutdown event?  Would this be registered in __init__.async_setup_entry also?

Does anyone have a link to good documentation that describes the scaffolding of an integration?

Thanks."	3	"['barneyman: [this link](https://developers.home-assistant.io/docs/integration_listen_events/) gets you to your first answer and also lands you in the middle of all your others ;)', ""Pleasant-Phase: Thanks. \n\nIt wasn't clear exactly where I should register for that event. And even comparing against some other integrations I came up empty. \n\nAnd the doco is very comprehensive but seems aimed at someone more familiar with the codebase IMO. I was maybe hoping for more hand holding 😄\n\nI'll keep digging though, thanks for the pointers."", ""barneyman: I don't disagree with your comments at all!\n\nI generally squirrel away at other components to work out what to do.\n\nI have a couple of components [here](https://github.com/barneyman/custom_components) running to different levels of complexity as I've discovered more.\n\nThey tend to change underlying APIs at a whim, so target a version of HA and don't update it until you've tested your code.\n\nTheir \\`dev-container\\` is pretty awesome to use, but, again, you need to understand docker to make use of that.""]"
1682401570.0	24-Apr-2023 22:46:10	Add sound to eufy 2k Wi-Fi doorbell	MaderaJE	22	12y9qnc	homeassistant	https://www.reddit.com/gallery/12y9qnc		17	"['3dprinteruzer: How did you display your eufy doorbell cam? I didnt think there was an integration.', ""milandzuris: Hi won't you give me please code for Ha Status Card thx"", 'MaderaJE: Hello everyone. Has anyone figure out how to add the sound of the doorbell “mic” into the home assistant dashboard? I have mine running and I can get live video with rtsp simple server. Was a lil hassle to set up but everything is working for now. \n\nAny help will be amazing', 'Ninjotoro: I can’t help you, but I’d love to know where you get the Aurora info from, and how you get the Windy map in there?!', 'Island_Three: I’d love to know how you created those integration/add-on status cards.', 'MaderaJE: There is an integration but you have to do a couple of work arounds. Look up on google Eufy wireles doorbell home assistant and github will show for you. It has all the “follow me” instructions. Did that and everything works. Make sure you follow them TO THE T', 'murtoz: [https://github.com/fuatakgun/eufy\\_security](https://github.com/fuatakgun/eufy_security)', 'MaderaJE: Status card is a uptime kuma extension from my docker. \nIm running a container with uptime kuma. Found this integration here on reddit from another user and it shows up automatic on HACS on HA. Just make sure you log in into your uptime kuma and signal this cards towards your equipment', 'MaderaJE: https://www.reddit.com/r/homeassistant/comments/mbq3i2/i_made_an_uptime_card_for_home_assistant/', ""SkyNetIsNow: Is this the integration that is generic camera? I briefly tried that but use the frigate one now.   I'm not sure why it would have sound. I gave this an upvote tho.\n\nHow do you do the small color cards to check if things are up? It looks nicer than a list I have."", 'MaderaJE: Windy map is using the web card. Embedded url. Quick look on google will provide link to do this.\n\nAurora is using the noaa aurora service integration included on HA os.', 'MaderaJE: Uptime kuma running on container on other server. Uptime kuma front end card found here on reddit. Install. Restart. Have the HA front end see the container with uptime kuma. Profit. \n\nIf you google uptime kuma cards for HA reddit website will appear with the info', 'MaderaJE: https://www.reddit.com/r/homeassistant/comments/mbq3i2/i_made_an_uptime_card_for_home_assistant/', 'MaderaJE: Its uptime kuma on a container. Been using it for the longest time.  The front end cards i found a user here on reddit that created them. Just look for them on HACS store and install. When you edit your dashboard make sure you select the custom: uptimekuma card and signal them towards your container that is running uptime kuma and it will auto populate', 'MaderaJE: https://preview.redd.it/kd26tyq6o6wa1.jpeg?width=1284&format=pjpg&auto=webp&v=enabled&s=1975244dd19574c87bdfff18d418caba79572438\n\nAfter installing the uptime kuma integration from HACS restart and you will find it. Fill the slots and connect ha to UK', 'MaderaJE: https://preview.redd.it/d3nkzf7fo6wa1.jpeg?width=1284&format=pjpg&auto=webp&v=enabled&s=6eb47176b39aab2fa4807c5bfaab9055b304aa80\n\nAnd then just configure the front end custom card that i mentioned earlier. And thats it.', 'Ninjotoro: Thank you']"
1682401477.0	24-Apr-2023 22:44:37	The uninstalled Alexa integration turns lights on at 2am	manosioa	95	12y9peo	homeassistant	https://i.redd.it/uwstxrzcf0wa1.jpg	"Hi everyone!

Since April 13 I have this weird thing when after 2 am every night, Alexa integration seems to turn on 4 lights. 1 light is in bedroom, 3 in living room.
The lights turn on with about 10’ difference.

I’ve uninstalled the Alexa Media Player integration completely from HA, restarted it.
The issue still happens.

There is no automation that runs at that time, I don’t have any Node-RED automations using Alexa nor turning on these lights (I’ve searched in Node-RED to be sure).

Any ideas what could be causing the issue?
Anyone else had something similar?
I’m going crazy and I’m scared :scream:"	33	"[""Klikini: There's probably a routine/schedule/etc. in the Alexa app that is sending an API command."", 'Jay_from_NuZiland: FYI you can exclude the RPi CPU temp (and other similar sensors that change values frequently) from the logbook if you want', 'TomParis01: Are you sure that ""Alexa Media Player"" is the integration that turns up in your logbook? There is an Alexa Skill too that may be configured in your YAML.', 'TheMagicVariable: Sounds stupid, but should double check this anyway— we dealt with an issue like this with Alexa-lights turning on in the middle of the night. Went through multiple Amazon support people who couldn’t figure it out.  Finally realized the problem after noticing there was a pattern, but not a perfect one— it was Alexa’s “pretend someone’s home” mode (whatever it’s called) turning things on and off when we set our alarms.\n\nStill can’t believe multiple support people couldn’t figure that out…', 'Grand-Chocolate5031: You have to buy the 2am expansion pack to turn that off. 😂\n\n\nBut seriously, this is why I don’t use Alexa anymore. That thing always wanted to sell us something, even the kids would often buy things by accident.', 'ilikeyoureyes: I don’t use Alexa, and your question may already be answered, but another place to look is settings-> home assistant cloud-> Alexa. You can expose entities to Alexa there.', ""d4_mich4: That's Alexa's revenge for trying to deinstall her... 😄"", 'ElGuano: FWIW, I\'ve been seeing similar things, in the vein of ""mystery action takes place, cannot for the life of me figure out which of 50 possible pathways caused it."" With all the octopus-like integrations across multiple ecosystems, it\'s no wonder there are legacy settings, forgotten integrations, mislabeled or unlabeled actions vexing folks.\n\nFor me, it was an Assistant action that just worked differently on one of 5 devices, and I couldn\'t understand why. I checked volume, integrations, DND, etc. It turns out Google had a SECOND DND function associated with bedtime that was causing it, and was something I had enabled months/years ago when I was first setting up/playing with the device.  \n\n\nI think there\'s a real need for super-verbose debugging options, so we can see exactly what enabled or caused any action to trigger, and not just ""triggered by <user>.""', 'manosioa: Forgot to mention that there are no routines or schedules in Alexa app. Regardless, the Alexa app is not connected by any way with HA as I uninstalled the integration from HA.', 'manosioa: Very nice catch! Thanks! I will be doing this ASAP as now that I need to see things in logbook, I’m kind of confused with all the mess from these sensors!', 'transcodefailed: Just upvoting because you’re from NZ', 'manosioa: I think you might be right! The Alexa media player is for being able to manipulate echo speakers through HA. \nThe HAASKA on the other hand is the thing that shows up in logbook! \nYes! You at right! \nI did delete the long live access token as another user proposed, so that might do the trick. \nWe shall see tonight! \nI will keep you posted.', 'manosioa: Amazingly, that was it! \nI cannot thank you enough! \nAfter a recent update (on April 13th), the Alexa alarm could not disarm. I got notifications every time I came back home and HA was trying to disarm it but couldn’t for some reason and I always postponed looking into it. \nSo the Alexa alarm was always in away mode and the “Away Lighting” automation I have configured in the Alexa app was doing its thing as it should.\n\nYou saved me more sleepless nights!\nI’m so thankful! 🙏', ""srelysian: Alexa's renegade behavior is why I started down the HA rabbit hole in the first place. The final week before I had literally thrown my echo show 5 out the bedroom window, it had started playing full volume adverts and news reports at 2-3am forcing me to get out of bed to beat it with a stick.\n\nI've buried the Echo in an unmarked grave. Also literally."", 'manosioa: As per Paul Hibbert’s wise words “CORPORATE GREED!!!!”. That’s what it is.', 'manosioa: Thanks for the suggestion! I do not use the Nabu Casa service for connection with Alexa. I did use the HAASKA alternative for years. As one user suggested, I deleted the Long Lived Access Token for HAASKA. That should do it. Will be posting the results tonight :)', 'manosioa: I knew she’s a petty b*tch. But this… this is too much 😂', 'Klikini: If you open your user profile in HA and scroll all the way down to long-lived access tokens, is there Alexa might be using?', 'Jay_from_NuZiland: Chur', 'HateChoosing_Names: Who… Jay?', 'zSprawl: The “hunches” and “guard” features has been the source of many random support tickets, lol.', ""Grand-Chocolate5031: I set mine on fire after it started summoning Jeff Bezo's future deceased ghost in daily seances at 3am."", ""MattHashTwo: That'll all get fixed by HOOOOME ASSISTANT\n\n*pelvic thrusts*"", 'manosioa: That’s a very good point! I’ve just delete it!\nLet’s wait and see what’s gonna happen tonight.\nI will post in the middle of the night to update you 😂', 'transcodefailed: Yeah! Jay.', ""Commercial-9751: It's been 42 minutes with no update. OP is a goner for sure. The ghosts got him."", 'manosioa: 😂😂😂 I’m here! Tonight I will be posting the results, as this happens after 2am midnight. Hope Casper will let me sleep tonight.', 'Neon_44: I await your update at exactly 2am\n\nGood luck, soldier', 'Rolling_on_the_river: Keep us posted!', 'Sjorsa: Did you wake up yet? 😬', 'mekaneck84: https://reddit.com/r/homeassistant/comments/12y9peo/_/jhno2uc/?context=1', 'manosioa: I did! After 15 days my body naturally wakes up at 02:00 am 😀\nWE DID IT! \nIt was indeed the Alexa’s “Away Lighting” feature that was on and the Alexa alarm/guard that I left on (did not disarm)!\nIM GOING BACK TO SLEEP 😴 so happy… I’m kind of going to miss this 😅\n\nThanks everyone for your suggestions!\nWe did it ❤️', 'elisspace: excellent story. Good hook, nice arc, with a great finish. Thanks for the ride.']"
1682400478.0	24-Apr-2023 22:27:58	aqara p1 motion sensor illumination update frequency	Witty_Music_9101	1	12y9bwt	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y9bwt/aqara_p1_motion_sensor_illumination_update/	If I add aqara p1 motion sensor using zigbee2mqtt or zha, how often does the illumination update? Does it also update even there is no motion?	9	"['michaelthompson1991: I think it’s set to 30 seconds but you can change this too. Only really updates on motion', 'andyblac: IIRC it only update on motion detected, which make it pretty useless.', 'andyblac: this is the motion sensor, not the LUX sensor.', 'mbcbt90: Or we are just missing a smart automation where luminescens is comsidered only when light off/before turn on...', 'michaelthompson1991: Apologies wrong wording! It updates upon motion', 'Witty_Music_9101: I need to light sensor in real time, do you know a good one for HA? I found the aqara t1 light sensor, but it is not available in the US', 'zuz242: Some window sensors have an additional luminance feature. Got one zigbee from aliexpress.', 'michaelthompson1991: I’m afraid I don’t, I would like to know too', ""Stresshead2501: Not really a solution, but I use my piece of junk Shelly motion sensor for lux. It's the only thing it's good for.""]"
1682398448.0	24-Apr-2023 21:54:08	Generic Thermostat doesn't show up in dashboard	mkujoe	5	12y8lcy	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y8lcy/generic_thermostat_doesnt_show_up_in_dashboard/	"Hi,

&#x200B;

I have created a couple of generic thermostats, and most of them show up in dashboard and are usable via google home as well (e.g. as in heat, off, set temperature). Recently I have added a couple more thermostats, but they don't show up in dashboard. They show up in google home, but you can't interact with them. Their entities are all showing up in developer tools. Ie. I can query their state attributes there and can change the state.

What am I missing?"	3	"['keatonatron: What happens if you try to add one to the dashboard as an entity card? Did you add them straight into the config YAML?', 'mkujoe: Yes the generic thermostats are all defined in config yaml', ""keatonatron: I would check and recheck your settings there, to make sure something isn't conflicting. Maybe strip down the parameters as much as possible and get generic thermostats to show in the dashboard, then add parameters bit by bit while checking to see if they still work.""]"
1682398357.0	24-Apr-2023 21:52:37	ZHA not finding devices, unsure where I went wrong.	RobotSocks357	2	12y8k8a	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y8k8a/zha_not_finding_devices_unsure_where_i_went_wrong/	"Good evening all,

I'm struggling a bit tonight and I am just disappointed in my own abilities to figure this all out.

TLDR; HA running in container on Ubuntu, Sonoff ZigBee dongle, attempted a passthrough to container, but I can't get anything to pair.

Last year, I purchased an HP Elite desk Mini to run HA (I needed my pi for another project). I installed Ubuntu, docker, running HA in a container. Seems simple enough. Except I came from supervised, and containers (to be transparent) a foreign concept to me.

Fast forward to today. I got the Sonoff dongle (version P). Plug it in and it is not automatically detected by HA. I figured it was the container not being able to see the hardware. So I added the '/dev/ttyUSB0' host in Portainer, relaunched.

Still could not get ZHA set up; ""Add Integration"" timed out and threw an error that said ""Error"".. I don't think it knew what device to add. 

I manually added ZHA to the configuration.yaml, and now I can click 'Add ZHA device' in HA, but I can't pair anything. I've tried a different USB port, a different extension, different devices (Sylvania bulbs, Aqara T&H sensors), etc.

I *think* the Sonoff drivers installed fine (there was no prompt). I *think* the Portainer passthrough worked fine, but how do I know? I *think* the .yaml is set up properly, but again, how do I know?

Can someone please tell it to me like I'm 5 where I'm messing up? Thanks in advance.


Edit: Solution is below!! TLDR, had to manually update windows drivers to get windows to recognize the coordinator (dongle), so I could use the TI software to update the firmware. HA then recognized the coordinator and I was able to set up the ZigBee network."	12	"[""chicknlil25: First thought - have you checked Ubuntu to see if IT is detecting your coordinator? If not, can you try different USB ports? I believe that the Zigbee coordinators aren't designed for USB 3.0.\n\nFailing that, I'm less then familiar with docker-HA. But I've got recent experience with HA as a container (via Proxmox), though, so this is something that could apply to me that may work for you as well.\n\nZigbee2MQTT (Z2M) can be run as container as well, and I've been told works very well/stable with your coordinator (I have a different one and any issues I have are Aqara based rather than Z2M based). [This site](https://smarthomescene.com/guides/how-to-separate-zigbee2mqtt-from-home-assistant-in-proxmox/) has a good walk-through on setting it up, but it's with Proxmox in mind.\n\nGood luck - hopefully you're able to resolve your issues in short order."", 'thereddevil20: You could try using something like docker compose and try to pass through the usb. Also, have you verified that the usb shows up on HA. I think you can see it in Settings>System>Hardware (not sure if this is present in the container)z \n\nAn alternative is that you could install proxmox and run HA OS on a VM. I have that setup and it works well for me.', 'RobotSocks357: I figured it out! Whew.\n\nSo the issue, in case anyone else comes across this:\n\nWhen I did the auto ZHA setup, it threw in an error that literally said ""Error"". \n\nWhen I added ZHA to the configuration.yaml, it just never found any devices when I was trying to add them to the ZigBee network. The HA logs said ""watchdog check failed"" and mentioned some details around Python files (application.py). \n\nBUT... I found that when I did the auto ZHA setup, the serial number for the coordinator was correct, so HA definitely could ""see"" the coordinator.\n\nI figured ""why not update the firmware?"", So I followed one of the YT videos to download the TI software, etc. I could never get the coordinator to be recognized by Windows/the TI software. Windows device manager had the yellow triangle, and it could not find the updated driver. \n\nSo I downloaded the SI Labs UART drivers, and manually updated the drivers in device manager (I let it choose between the arm, x64, x86 options).\n\nFrom here, the TI software saw the coordinator! I updated the firmware. Then I used a different (cheap, guaranteed not to be USB 3.0) and I did the auto ZHA set-up. I left the antenna disconnected during setup. Once the initial set-up was complete, I was able to discover the T&H sensors and lights!', 'RobotSocks357: I am not certain, but I\'m semi-confident that Ubuntu can see the coordinator. I ran \'sudo dmesg\' and it returned a lot, but it did say \'usb 1-3: cpx210 converter now attached to ttyUSB0\'.\n\nWhen I ran ""lsusb -v"" it returned ""couldn\'t open device, some information will be missing"", but it lists the coordinator MFR, serial#, product name, and more.\n\nThis machine only has USB3.0 ports (per HP\'s site); the extension I am using is USB 2.0. I don\'t know if this achieves the same effect though.', ""dharma000: HA on a docker container is not same as HA on Proxmox as a VM.  Proxmos on a VM is exactly same as it's on Rasberry Pi as OS."", ""dharma000: I would suggest try getting the whole thing on Proxmox, so you're back to your HAOS supervised version.  Who has time to learn all this?  :)"", ""RobotSocks357: You and a couple others mentioned Proxmox. I *think* I chose the docker route because of the extra overhead, and this being a thin client with a low power CPU. \n\nAlso, I have deployed containers for Pihole, Duplicati, and HA. Is there a reason I can't run HA, Duplicati, Pihole, Plex, etc with Proxmox?"", ""chicknlil25: So I'm not sure if it makes a difference or not, but my box is also almost entirely USB3, and I ended up getting a small, powered USB hub is I guess compatible with all versions of USB. Whatever the case, I've had no issues with it + my extender."", 'RobotSocks357: I was honestly tempted to go back to my Pi4 because of the PnP ease-of-use. How is Proxmox to get stood up?', 'thereddevil20: Proxmox is not that resource intensive. \n\nI don’t see any issue with running the containers you listed in proxmox', 'RobotSocks357: I\'ve read about that! But, I don\'t want to shotgun new components (hubs, extension cables) at it if I am unsure that ""recognizing the device"" is the issue.', 'dharma000: Installing HAOS as a VM on Proxmox is far easier than to install it as a docker container.  This is one of the step-by-step guide.  \n\n\n[https://youtu.be/arKoIPQ5\\_YU](https://youtu.be/arKoIPQ5_YU)']"
1682397102.0	24-Apr-2023 21:31:42	mDNS/discover through second NIC	trumee	2	12y84bw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y84bw/mdnsdiscover_through_second_nic/	"Hello,

I have two nic's in my system to separate IOT network from regular traffic. The first NIC is connected to the regular network while the second one is connected to IOT. Unfortunately, all the mDNS/discover packets are sent through the first NIC only. Any device i connect to the second NIC network is not discovered by HA.

Is there any way for HA to send discover packets through both the NICs?

Thanks"	5	['theautomation-reddit: If you want to broadcast mDNS to multiple VLANS or subnets I think Avahi deamon is what you are looking for. I use it in my firewall for mDNS on VLANS.', 'bdraco104: You need to enable the second network interface in settings', 'trumee: How about running Avahi on the home assistant device itself?', 'trumee: Thank you.  This did it', 'theautomation-reddit: Depends on how you run home assistant. Something like this maybe?https://github.com/flungo-docker/avahi']
1682396110.0	24-Apr-2023 21:15:10	HA Cloud + Tags = Tags anywhere?	MITstudent	3	12y7rp3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y7rp3/ha_cloud_tags_tags_anywhere/	As the title suggests, I'm wondering if there's a way to use HA Cloud such that I can scan a tag outside of my home network to trigger an automation.  Then I can put nfc tag stickers on my car and be able to trigger things even when I'm traveling.	5	"['andi242: Tested this with HA cloud (nabu casa subscription) and WiFi off on my phone and it works for me.', 'richardwonka: No need for cloud. As long as the scanning device can reach your ha instance, you should ™ be good.', ""migidi: I use zerotier add-on (included in Hassio add on store already) to create VPN to my Hassio then download zerotier to my phone. When I leave my home it connects to that VPN automatically (and vice versa) and I'm able to access Hassio where ever I am. And since it's not forwarding all my traffic trough it I'm still connected to my phone cellular for internet and the zerotier network just connects to Hassio. That way i can do normal internal network stuff outside. Just keep in mind I'm not sure how secure this method is."", ""MITstudent: Oh I'm using my phone to scan, but I guess then you mean my phone would VPN to my home network or something"", 'richardwonka: I’m using the duckdns plugin, but vpn would also work.']"
1682392487.0	24-Apr-2023 20:14:47	Remove devices from Alexa / Google but maintain voice control?	letsmodpcs	3	12y6fdi	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y6fdi/remove_devices_from_alexa_google_but_maintain/	"Hello all,

I'm very new to HA.  Just got HAOS running on proxmox a few days ago, and so far I'm loving it.

I wanted to get some clarity about the Alexa and Google integrations.  I *thought* I was going to be able to remove all my devices from Alexa, then use the alexa integretion as essentially a ""portal"" into HA issuing commands directly to HA.  However after adding the HA skill to Alexa, every device in my home has added again to Alexa.  (The first time being my pre-HA configuration, and the second time after adding the HA skill.)

I'm (very slowly) trying to remove my data from Amazon and Google where I can.  So I was interested to remove all my smart home devices from Alexa, and just have Alexa pass commands to HA.  But it seems this isn't how this actually works?

Could someone help a noob understand?  And if I have to have the devices linked in Alexa with the HA integration - should I go in and strip out all the pre-HA devices that Alexa knows about?"	4	"['ruytterm: Hi! I can\'t get you specifics, but I\'ll try to give you some information.\n\n* There is a portal where you access you alexa account and can remove devices easier.\n* You can filter what type of device (swith, light, cover...), and what devices gets added to alexa. There\'s a way to make a blacklist and whitelist on the yaml configuration.\n* You can remove devices but create some helper entities (buttons, toggles...) on HA and passed them to Alexa. Then when you use some voice command, Alexa interacts whith this entity and you can use it as trigger inside HA automations.\n* There is a skill you can ""create"" (I guess is just follow a tutorial) and use it with the HA add-on Node RED, where your commands are intercepted directly on Node Red and you can run automations with it.\n\nI\'m not aware of other options, but I don\'t have extensive knowledge about alexa...\n\nHope this somewhat helps...', 'ashleypenny: Following this as used it. Died it but had the same issue leading to many ""there is more than one device called kitchen lights"" issues', 'Grim-D: When you setup the Alexa intergration you can choose what you want to expose from HA to Alexa. What ever you expose to Alexa will be added to it as a device same as is if you added it from in via any other Alexa skill. So you will need to setup rooms and add the devices to them in Alexa if you want it to be context aware of what room contains what.', 'ZAlternates: HA will expose your devices to Alexa so they appear local to Alexa and then you can control these devices with voice commands. \n\nAlexa does NOT take your voice commands and send them to HA to process.']"
1682392045.0	24-Apr-2023 20:07:25	No neutral smart switch	way_out_space_ranger	1	12y69c6	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y69c6/no_neutral_smart_switch/	What are good in wall switches with only positive and negative, with or without ground. The switch I want to convert has no neutral wire in the box	27	"['diabetic_debate: Lutron Caseta.', 'Shamsherr: What you are calling positive and negative is infact just the a positive wire with a break where the switch is inserted, the neutral only exists at the location where your light bulb etc is. There is no negative in alternating current. The neutral will also exist at the switch where you can plug in appliances.', ""0x7270-3001: I have a couple aqara ones if you use zigbee. they have single and double versions\n\nPS, AC doesn't have positive and negative, it has hot and neutral"", 'c0keaddict: Inovelli', 'Impossible-Shelter82: Aqara has a Zigbee one', ""MfJonesy: I've been happy with my GE enbrighten zwave ones."", 'Murky-Sector: I think shelly makes one', '86stevet: My go to is\nhttps://a.aliexpress.com/_mK3Qe60\nHave several and they work perfectly for me.', 'chicknlil25: I can suggest avoiding GE Cync (wireless/bluetooth). I had such a horrible experiences with them that I asked my electrician to come back and put **dumb switches** back in!', 'Crafty_Station_3617: i just bought 2 shelly 1L', ""joseph_bejart: If you're a Z-Wave kind of guy I have a couple of Fibaro Walli switches which operate without neutral and which I'm very happy with. They provide dimming, one or two switches, have an RGB LED ring for signalling whatever you like (or which you can disable), and give you power metering. Icing on the cake they are available in versions compatible with Legrand or Schneider finishing plates in order to use the same finishing plates you might already have in your rooms. Also they act as Z-Wave routers as well."", 'Critical_Egg_913: Yeah those are nice... wish I had more', ""icaranumbioxy: I'm convinced these don't exist. I've never seen one to purchase for retail. They are always third party sellers at 3x retail."", ""CharityConnect6903: Shop carefully. Some of their products require a neutral connection, others don't."", 'CharityConnect6903: The correct technical terms are line and load. Line is the terminal that connects to the breaker box. Load is the terminal that connects to the light bulb.', 'nitehawk012: I have one of these that I used for years', 'The_Doctor_Bear: Second vote for inovelli.\n\nSmall business with a great team, super responsive to users on their forum and the /r/inovelli subreddit.\n\nPlus they just look darn cool with the LED bar for dimmer levels and notifications.', 'nclpl: You have to buy them from an electrician supply house. I use Ready Wholesale Electric. \n\nLook up the part numbers on Lutron’s website, then email or call them.', 'diabetic_debate: I bought mine from Lowes ¯\\\\_(ツ)_/¯', ""sneakpeekbot: Here's a sneak peek of /r/Inovelli using the [top posts](https://np.reddit.com/r/Inovelli/top/?sort=top&t=year) of the year!\n\n\\#1: [Looks like Inovelli has started an Indygogo for mmWave occupancy switches!](https://www.indiegogo.com/projects/mmwave-occupancy-smart-switch-by-inovelli--2) | [24 comments](https://np.reddit.com/r/Inovelli/comments/128jjum/looks_like_inovelli_has_started_an_indygogo_for/)  \n\\#2: [Email about the Blue switches](https://np.reddit.com/r/Inovelli/comments/yp39y5/email_about_the_blue_switches/)  \n\\#3: [Received my pre-order today.](https://imgur.com/a/qdb2t7h) | [10 comments](https://np.reddit.com/r/Inovelli/comments/y97nwb/received_my_preorder_today/)\n\n----\n^^I'm ^^a ^^bot, ^^beep ^^boop ^^| ^^Downvote ^^to ^^remove ^^| ^^[Contact](https://www.reddit.com/message/compose/?to=sneakpeekbot) ^^| ^^[Info](https://np.reddit.com/r/sneakpeekbot/) ^^| ^^[Opt-out](https://np.reddit.com/r/sneakpeekbot/comments/o8wk1r/blacklist_ix/) ^^| ^^[GitHub](https://github.com/ghnr/sneakpeekbot)"", ""CharityConnect6903: I've seen them for sale at home Depot and Lowe's"", 'nclpl: Some of their P/Ns are available at big box stores and Amazon, but a lot of it needs to be ordered directly. For example, you can get Picos without the central “favorite” button so they match the normal dimmers, or you can get dimmers with the central “favorite” button. But they’re basically impossible to find for a reasonable price at retail/Amazon. \n\nThe normal switches (not dimmers) require neutrals, while the neutral-less switches are hard to find without ordering directly.', ""CharityConnect6903: I didn't have any trouble finding them in my local big box. Your mileage may vary."", 'nclpl: Cool! When I look on Lowes website I don’t even see half of the options that I know are available. I wonder if your store is better stocked.', 'redditusersmostlysuc: I am wondering if everyone here is talking about the non-dimmer no-neutral switch?  Those are hard to find.  The dimmers with no-neutral?  You can walk into any Home Depot or Lowes and grab those.', ""CharityConnect6903: They have the starter kits, the dimmers, and the pico remotes, but that's it."", ""CharityConnect6903: I forgot to mention I think they sell Lutron's automated window shades too. I'm certain Home Depot does.""]"
1682392027.0	24-Apr-2023 20:07:07	Cannot find/access configuration.yaml [Home Assistant Core, HiveMQ]	ohheyheyCMYK	1	12y692i	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y692i/cannot_findaccess_configurationyaml_home/	"*I'm very new to both linux and operating software via anything other than a GUI, so apologies in advance and please bear with me if I ask basic or stupid questions or have large gaps in my knowledge.*

I'm trying to get Frigate NVR up and running by way of Home Assistant.

I keep hitting a wall because each bit of software actually requires two other bits of software to work, which in turn each require two other bits, seemingly ad infinitum.  And most of the answers/solutions I've found after extensive searching seem like some real [How to Draw an Owl](https://i.kym-cdn.com/photos/images/original/000/572/078/d6d.jpg) type shit, at least to me \[an idiot\].

I'm currently stuck trying to get an MQTT integration configured/up and running on a secure managed cloud broker.  I'm all signed up and set up on HiveMQ, but I apparently need to access and edit configuration.yaml to get the integration going and I absolutely for the life of me cannot figure out how to find/access it.  Here's what I've done so far:

1. Intel NUC mini PC
2. Fresh and fully up-to-date Ubuntu install
3. Installed Home Assistant Core via Snap
4. Created account and credentials on HiveMQ Cloud Free
5. Following the HiveMQ instructions [here](https://www.hivemq.com/blog/connect-home-assistant-to-hivemq-cloud/), \[currently stuck on step 5\]

When I pull up the system information via the method outlined [here](https://www.home-assistant.io/docs/configuration/), it gives me a specific file path that does exist in my file system, but when I navigate there in the Ubuntu GUI, the folder is empty \[regardless of whether hidden files are shown or hidden\].

I can't use add-ons to access/edit the config file \[as most solutions suggest\], because I'm running Core.

It also says:

>*If you use Home Assistant Core, you can find* ***configuration.yaml*** *in the config folder passed to the* ***hass*** *command (default is* ***\~/.homeassistant***\*).\*

I do use Home Assistant Core, but I don't at all understand what that means.

Why is the config file not where HA says it is?

Is configuration.yaml not really an actual file in the traditional sense?

Do I need to use some other new separate piece of software to even see or access it?"	3	"['gregigk: Why are you running core? I have a mini pc running proxmox and HomeAssistant supervised.', ""hihaatje: > Is configuration.yaml not really an actual file in the traditional sense?\n\nNo, it is an actual file that can be edited in any text editor.\n\n> Do I need to use some other new separate piece of software to even see or access it?\n\nShould not be, any text editor will do.\n\n> I do use Home Assistant Core, but I don't at all understand what that means.\n\nI believe that installing the snap package *installs* the home assistant software on your system, but does not run it. To start it, you usually need to use a terminal command. This is what the ***hass*** command is refering to. As an optional parameter to this command, you can specify the directory containing the configuration file you want to use. If this doesn't exist, home assistant will make a new, empy configuration file. \n\nNow, since you're able to get the directory from home assistant itself it should already be running. But it might be that the snap install runs some containerized version of home assistant. This means that it will create a separate, walled off part of your file system that it feeds to home assistant. Then the file paths will no longer match, since the paths home assistant gets are inside the container, not your entire file system. Is [this](https://snapcraft.io/home-assistant-snap) your version? If this is the case, you first have to figure out where the snap container is running. \n\nAlways a good option to double check is to check via a terminal. If you have no experience in this, don't worry, it shouldn't be too difficult. Open up a terminal session and type\n\n```\ncd [directory given by home assistant] \n```\n\nAnd then \n\n```\nls\n```\n\nTo list the files in that directory. If the configuration file is there, you can also edit it using\n\n```\nnano configuration.yaml\n```\n\n(nano is a sort of mini text editor inside the terminal)\n\nEdit:\n\nI just looked a bit into the snap [documentation](https://snapcraft.io/docs/data-locations). It seems like snaps are located in\n\n```\n/home/<username>/snap/<snap name>/<revision>\n```\n\nMaybe if you do some digging there you will find the config file."", ""ohheyheyCMYK: Honestly primarily because it was the easiest way. I have a bit of prior experience with Ubuntu, and and I was able to install HA with a few clicks via snap. And since Frigate can run easily as an integration I dont (think) I really need add-ons.\n\nVery open to other approaches if I've actually just stumbled into a world of pain.""]"
1682389528.0	24-Apr-2023 19:25:28	About to integrate tesla with HA, but how safe is the android app for Auth tokens?	youmeiknow	0	12y581q	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y581q/about_to_integrate_tesla_with_ha_but_how_safe_is/		4	['jackmcconnell: I did this recently with iOS and used the “Auth for Tesla” app from the App Store. Being an app on the iOS App Store, I felt safe enough to do it. Integration with HASS went perfectly and been running fine since. If you’re worried, there’s probably a way to do it yourself but you’ll most likely have to write some code to interact with Tesla’s API.', 'youmeiknow: Good to know, thank you. \n\n>If you’re worried, there’s probably a way to do\n\nDo you have idea about it? I am sure someone would have done this.', 'jackmcconnell: Found this. It might help get you started: https://tesla-info.com/tesla-token.php', 'youmeiknow: Thank you, this seems good to start with.']
1682386320.0	24-Apr-2023 18:32:00	How you going with SkyConnect?	jakc13	18	12y3v6k	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y3v6k/how_you_going_with_skyconnect/	"Would be interested to hear how people have been going with  SkyConnect and if there are any firmware updates on the roadmap?

I have not had a good experience.  Purchased and have it on a long shieled cable with HA on VirtualBox and USB filter passing it through.   Have two test  Aqara P1 devices that I eventually paired, but have had about a dozen dropouts over last couple of months.  Only reliable solution has been to remove devices and re-pair, which is also not a consistent experience.

Not looking for help troubleshooting my issues, just want to hear how others are going to help understand if I should be looking at alternative Zigbee hub."	44	"[""befish2: I am slowly getting it stable, but initially I was very frustrated, and for a while.\n\nI replaced my Conbee II back in February and initially I had a terrible time with the SkyConnect maintaining connections to various devices that previously worked well under the Conbee II.  My Skyconnect is on the exact same USB extension cable in the same spot as the prior stick.  I had to replace 3 of 4 Martin-Jerry on/off switches that simply wouldn't cooperate regularly with the SkyConnect.\n\nI still feel like I have the occasional extra drop-off that I didn't have before, but now several months in, I feel like at least it is mainly stable.  BTW, I have 43 devices/216 entities in my Zigbee network."", ""Time-Button4999: I have a large network of about 100 devices connected to it. No problems at all, it works flawlessly.\n\nAny issues I've experienced, are due to the end devices (Aqara) or my own stupid fault."", 'Shdqkc: Was having trouble for the last week or so with a couple devices frequently dropping off. Only way to get them back was to restart z2m, and even then they were only back for a little while. \n\nYesterday I finally swapped out the USB extender that came with it for a new one, then I deleted and re-added one of the devices I was having trouble with. Going on a bit over 24 hours with no issues now. \n\nThis post of mine will surely jinx it.', 'ekobres: I can’t recommend Multi-protocol, but it’s been fine for Thread. \n\nI got one for Thread support with the possibility for future use for Zigbee. Muli-protocol firmware was a train wreck for me even though I had no immediate plans to use it for Zigbee. The OTBR service would die frequently and Thread was super unstable.\n\nI flashed it to Thread-only firmware and it’s been pretty solid for that with the OTBR add-on.', 'maglat: I switched from Conbee ll to Skyconnect ZHA. In total i have 83 devices connected. A wild mix of Hue, Ikea, Aqara and Lidl devices. The only dropouts I have are the Hue products like the remote and motion sensors. Especially after I restarted HA, 2 (always the same devices) of my 5 hue motions drop out and i need to pair again. Ikea, aqara works and lidl products work fine.', ""flyize: I'm shocked to hear people having issues. I'm using it with ZHA and have not had a single issue."", 'doabbs: Bought it to help support Nabu Casa plus seemed like a good way to future proof my setup. However quickly realized that this product is still in basically a beta/alpha phase development/wise with lots of issues to iron out before you can use it in a predictable/reliable setup.  The straw that broke the camels back for me was if you try to send a  Zigbee command too quickly the network starts becoming unresponsive and you get errors. Looking up the error message and the only replies on git are that it’s functioning per spec and every other stick is actually doing it wrong and the network is suppose to error out when you try to send commands too quickly!  Ok so I went to a Sonoff stick instead and mothballed the SkyConnect. Maybe at some point Silicon Labs will fix this thing to where it’s stable.', ""TheNotoriousDRR: Generally just fine. The only issue I had was when I upgraded the firmware to support matter/thread. Upgrade failed and device didn't work. I just reflashed the stock firmware and have been fine since.\n\nI have ~25 zigbee device on the network. After three months of use, only one device stopped talking. I removed/replaced the batteries on the device and it was back online.\n\nI'm very happy with the purchase."", 'derclou: Terrible Experience. Would not recommend.\n\nBought it to upgrade from a Conbee II with ZHA, made my Zigbee network completely unstable. Not a day where not at least 3 - 5 devices became unavailable (mostly tradfri bulbs and lights, as well as fyrtur shades) and had to be repaired which was also a pain, because it would only work occasionally. \n\nBought a better and longer extension cable. No change. Finally gave up, migrated the network to a Sonoff Zigbee 3.0 Dongle P and my network has been rock solid since then. Not a single dropout. \n\n&#x200B;\n\nTerrible, terrible experience.', 'WVSCYZWJOW: I had an aqara p1. Constantly dropping out. Got a different device from thirdreality and no more drops. I think it’s aqara.', ""srn_pj: I bought one to support Nabi Casa, but it was terrible. I can't recommend it.\n\nI paired two lights, it wouldn't pair with the third one. These were hue bulbs that I never had a problem with my conbee 2 stick.\n\nI now got a Sonoff ZigBee 3.0 Dongle E Plus - hope that it works better than the SkyConnect."", 'Rangandi: I cant get it to work with z2m and i dont know why\nBut the zigbee network is stable:)', ""Mysterious-Bowler15: I have one running for a couple of weeks and seems to work good.\n\nI bought a lot of different brands sensors and switches and they all connect without any problem.\n\nJust as a several people told here Aqara sensors sometimes disconnect but we had the same with the original Aqara hub so it's the Aqara brand I guess and not Skyconnect.\n\nI have the Skyconnect directly connect to my USB port of a B-Max mini pc no expansion cable used."", 'xDznutzx: I migrated from ST to the skyconnect, my innr plugs drop more frequently then I like, in fact they replaced my kasa plugs but found to unstable to rely on (kasa back where it matters). My bulbs (mix of ST and Seg) seem to work ok with the exception of one I had to delete and re add twice this morning to get it to work.', ""Old_Perception: I haven't had a good experience with mine either, both with Zigbee-only and with multiprotocol. Lots of dropouts and unresponsiveness and crashes that were fixed as soon as i migrated back to my old CC2531"", 'tatDK94: Damn, I thought my experience was the exception. I’ve had nothing but problems with it. Switched back to my Sonoff stick which performs perfectly. I had been thinking about trying the SkyConnect again soon, thinking that a lot of the teething problems would be solved by now. Sounds like that’s still too early.', 'snattack_: Worked perfectly from day 1, never had to do anything. Mostly used with Schneider Wiser.', 'dierochade: I have dropouts with nous A1z plug too, although there is a device specific quirk. Not convinced so far.', ""No_beef_here: I bought mine early on to support the boys but because of what I read at the time (and still now in a number of cases it seems) I've not actually tried it and just stuck with my zzh! ( CC2652R1 ) coordinator  running 78 devices.\n\nI might do what others have done and use it just for Thread (only)."", 'Useful_Distance4325: coming from ConbeeII, yes, I have exact same experience and feelings.', 'jakc13: Thanks.  Good to hear this from someone with a more established network.  Still not exactly an improvement over your prior hardware though.  Main buying reasoning for me was to have the extra matter support.  Ideally want as little hubs/moving parts as possible', 'notHelpFullatAll: zha or z2m?', 'jakc13: Did similar today.  Swapped out the shirt extender cable they provide with a 2m one.  Has been stable for the day but not got a lot of faith.\n\nI hear good things about z2m but assumed the SkyConnect is designed primarily for zha so didn’t want to jump to something that might have less support going forward?', 'jakc13: How would one go about flashing it to thread only firmware?  This sounds like a good option where I can still use it but have another more stable stick for zigbee', 'msalad: This is my plan as well, to use it only for Thread', 'jakc13: Great to hear.  Can you elaborate on what aqara devices you have?  Any hypothesis into why the two hue devices don’t pair?  Range to hub is further than the others?', 'shrewd-raven: Did you have hue dropouts on the conbee2? A lot of my network is hue and they’re extremely stable on conbee. I was planning to move to sky connect and your has caused me concern. Thanks!', 'jakc13: How many devices? And mix of brands?  Good to hear a happy vote.', 'jakc13: Is migration fairly straightforward?  Any aqara in your setup?', ""randommen96: Same, also on Z2MQTT now lol. I love it even better... Way easier to make specific adjustments as they're built into the GUI..."", 'jakc13: Shame as the price point is appealing and they get plenty of love from the usual YouTube channels.  I assume having an aqara hub and sky connect is going to cause some network clashes and issues in HA?', '_Rand_: Aqara stuff in general I find to be a bit wonky.  Some stuff worked great, others not.\n\nI don’t really trust them.', 'zSprawl: I too had problems with their p1. The original motion sensor works great though.', 'jakc13: Is the general consensus that z2m provides more entities to play with?  But SkyConnect targeted at zha?', 'jakc13: I’m not that tech, but I wonder what’s the underlying reason for the stability issues when compared to other devices.  Hardware limitations?  Firmware differences?  Trying to work out if there might be a future update that resolves all of this.  Has there been any mention of a new update coming out?  Even a mk2 version of the device with improved hardware/antenna?', 'Time-Button4999: Zha', ""Shdqkc: Sorry, missed this.\n\nWhen the SkyConnect came I set it up and got to work on zha. I did find that it seemed reliable enough and pretty simple to add things using the HA interface. The only reason I switched is because I had a device I wanted to add that was a little more unique and zha found it, but didn't know what to do with it, even with quirks.\n\nI happened to have already been running MQTT for something else so I figured it wouldn't be that much work to clear out the zha stuff and fire up z2m to see what it would be like. But I was genuinely just testing and prepared to ultimately switch back to zha after giving both a try. \n\nWell it turns out z2m found all my devices easily, including the unique one that caused the switch. \n\nI liked the zha interface a bit more but I ended up adding my z2m server link as a panel in HA so I can make changes there and then easily click over to my HA integrations and see the changes I've made on the MQTT side."", 'ekobres: That’s what I do. \n\nNabuCasa firmware repo on github: https://github.com/NabuCasa/silabs-firmware\n\nSpecifically the Thread RCP firmware is here: https://github.com/NabuCasa/silabs-firmware/blob/main/OpenThreadRCP/NabuCasa_SkyConnect_OpenThread_RCP_v2.2.2.0_ot-rcp_hw_460800.gbl\n\nRead all the docs. Also, you’ll need the ORBR add-on which is in the normal place you’d expect for HA.', 'maglat: Aqara multiple temp and humidity sensors across the house and socket with power metering. Regarding the hue devices, the ones with drop outs are very near compared to the working  ones.', 'flyize: I have 35 zigbee devices and brands are all over the board. Aquara are for sure the pickiest, but mine seem to stick once paired (unless my HA server ends up off for an hour or more).', ""derclou: I have five aqara temperature / humidity sensors and three pir sensors. These mostly didn't drop out. Except one PIR sensor that was the furthest away from the coordinator. That one dropped out every few days with the SkyConnect.  \n\n\nMigration was extremly easy. Almost everything worked. Had to repair one of five aqara temperature sensor and the pir sensor mentioned above."", ""No_beef_here: I'm not that tech either when it comes to the details but I believe I understand that things that can make a big difference to our reliability experience are limits and performance.\n\nBy limits I mean the number of concurrent connections a coordinator can maintain and performance ... the speed or processing power of the device, so as to not 'drop' messages.\n\nAt the time, the best upgrade to the 'std'  CC253X coordinator was the [zzh!](https://electrolama.com/projects/zig-a-zig-ah/)  CC2652 and I'd have to say <touching wood> it's been pretty good so far, pairing with most things and everything staying online etc.\n\nPart of my reason for going for the zzh! stick though was how compete and understandable all the support was, plus you had (have?) access to the supplier of that kit, handy if you have any questions.\n\nNow I've also got the Sonoff V3 (two in fact, still in the draw) and I've not tried them because I think they may contain the same ( CC2652 ) hardware as my zzh! so likely no technical advantage in any case?\n\nI would really like to update the firmware on my zzh! stick but am frightened to because I currently have 78 Zigbee devices connected and really don't want to have to re-pair / connect or do without any of them for more than 5 minutes! ;-)"", 'jakc13: Thanks for this, will consider the thread only option in a few more weeks of testing.  \n\nI assume if there has been new firmware since I purchased, HA would prompt me and take care of the install or does that need to be done manually?', 'ekobres: Multi-protocol add-on will do it automatically but only for the multi-protocol firmware, but OTBR will not - at least so far.']"
1682385238.0	24-Apr-2023 18:13:58	Errors upgrading ESPHome	cptskippy	1	12y3e4y	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y3e4y/errors_upgrading_esphome/	"I'm trying to upgrade the ESPHome Add-On and receiving errors.

It doesn't appear to be an issue with ESPHome but rather the HA Update process:

    Apr 24 21:50:20 homeassistant dockerd[474]: time=""2023-04-24T21:50:20.471845359Z"" level=error msg=""Handler for POST /v1.42/images/create returned error: Head \""https://ghcr.io/v2/esphome/esphome-hassio/manifests/2023.4.1\"": Get \""https://ghcr.io/token?scope=repository%3Aesphome%2Fesphome-hassio%3Apull&service=ghcr.io\"": context deadline exceeded""
    Apr 24 21:51:41 homeassistant dockerd[474]: time=""2023-04-24T21:51:41.556914714Z"" level=info msg=""Attempting next endpoint for pull after error: no matching manifest for linux/arm/v6 in the manifest list entries""

It looks like it's trying to download the ARMv6 version of ESPHome, which doesn't exist.  The thing is that I'm running a Raspberry Pi 2B which is ARMv7l based.

Thoughts?

\*Update::  I never received responses here or discord.  I ended up making a backup then removing and reinstalling the Add-On.  It installed the latest version without issue and carried forward the settings from the removed install without having to resort to restoring a backup.

So the issue is resolved."	0	[]
1682383620.0	24-Apr-2023 17:47:00	Recommended database/metrics/visualization? VictoriaMetrics, influxdb, gra fans, etc….	lasul	6	12y2o6b	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y2o6b/recommended_databasemetricsvisualization/	"Hi, now that I’ve finally gotten more storage I’ve decided to look into a long term database, metrics, and some graphing…but ive no idea what to choose….

I’ve heard lot about influxdb plus grafana….it seems to be the most popular. But, I’ve also seen some discuss Prometheus and victoriametrics….what I’ve not seen is a good description of the pros/cons of each. Or should I use a combo?

I’m looking at keeping track of maybe 125 entities, sensors, switch, some weather data, etc. I’d like to be able to make graphs and look at trends.’

Thanks for any help!"	1	['SnooWords9033: VictoriaMetrics is the most resource efficient metrics storage for Home Assistant, e.g. it uses the lower amounts of RAM, CPU and disk space comparing to InfluxDB. It also saves persistent storage lifetime by flushing the data to disk at configured intervals. See https://community.home-assistant.io/t/influxdb-vs-victoriametrics/453361']
1682382663.0	24-Apr-2023 17:31:03	I'm not sure if this is a bug or local issue. last couple of releases the brother printer integration has not been loading but I have had this error in the log 1000s of times	lionslair50	1	12y28af	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y28af/im_not_sure_if_this_is_a_bug_or_local_issue_last/	"I'm running the core install and all works fine. I see nothing in this error related to brother integration but it's the only one that has stopped working.

Here is the error

Logger: homeassistant
Source: .virtualenv/lib/python3.10/site-packages/pyasn1/codec/ber/decoder.py:654
First occurred: April 24, 2023 at 1:28:13 PM (12350 occurrences)
Last logged: 8:30:46 AM

Error doing job: Exception in callback AbstractTransportDispatcher._cbFun(<pysnmp.carri...x7fa7bef41300>, ('192.168.1.66', 161), b'0\x82\x01\x...\x03j\xad\xb0')
Error doing job: Exception in callback AbstractTransportDispatcher._cbFun(<pysnmp.carri...x7fa7bef41300>, ('192.168.1.66', 161), b'0\x82\x01\x...00C\x03j\xaex')
Error doing job: Exception in callback AbstractTransportDispatcher._cbFun(<pysnmp.carri...x7fa7bef41300>, ('192.168.1.66', 161), b'0\x82\x01\x...00C\x03j\xaf;')
Error doing job: Exception in callback AbstractTransportDispatcher._cbFun(<pysnmp.carri...x7fa7bef41300>, ('192.168.1.66', 161), b'0\x82\x01\x...\x03j\xaf\xfe')
Error doing job: Exception in callback AbstractTransportDispatcher._cbFun(<pysnmp.carri...x7fa7bef41300>, ('192.168.1.66', 161), b'0\x82\x01\x...\x03j\xb0\xcb')
Traceback (most recent call last):
  File ""/usr/lib/python3.10/asyncio/events.py"", line 80, in _run
    self._context.run(self._callback, *self._args)
  File ""/srv/homeassistant/.virtualenv/lib/python3.10/site-packages/pysnmp/carrier/base.py"", line 80, in _cbFun
    self.__recvCallables[recvId](
  File ""/srv/homeassistant/.virtualenv/lib/python3.10/site-packages/pysnmp/entity/engine.py"", line 151, in __receiveMessageCbFun
    self.msgAndPduDsp.receiveMessage(
  File ""/srv/homeassistant/.virtualenv/lib/python3.10/site-packages/pysnmp/proto/rfc3412.py"", line 291, in receiveMessage
    msgVersion = verdec.decodeMessageVersion(wholeMsg)
  File ""/srv/homeassistant/.virtualenv/lib/python3.10/site-packages/pysnmp/proto/api/verdec.py"", line 15, in decodeMessageVersion
    seq, wholeMsg = decoder.decode(
  File ""/srv/homeassistant/.virtualenv/lib/python3.10/site-packages/pyasn1/codec/ber/decoder.py"", line 2003, in __call__
    for asn1Object in streamingDecoder:
  File ""/srv/homeassistant/.virtualenv/lib/python3.10/site-packages/pyasn1/codec/ber/decoder.py"", line 1918, in __iter__
    for asn1Object in self._singleItemDecoder(
  File ""/srv/homeassistant/.virtualenv/lib/python3.10/site-packages/pyasn1/codec/ber/decoder.py"", line 1778, in __call__
    for value in concreteDecoder.valueDecoder(
  File ""/srv/homeassistant/.virtualenv/lib/python3.10/site-packages/pyasn1/codec/ber/decoder.py"", line 654, in valueDecoder
    for chunk in substrateFun(asn1Object, substrate, length, options):
TypeError: decodeMessageVersion.<locals>.<lambda>() takes 3 positional arguments but 4 were given"	5	"[""mini_juice: Without knowing anything about your setup and, admittedly, very little about HA, I'd suggest it's local. My brother integration is working well. The only thing I can think is maybe your printer ip changed?\n\nHA 2023.4.5\nSupervisor 2023.04.1"", 'zSprawl: I assume we have rebooted?', 'Lopsided_Aioli_2013: u/lionslair50 I am facing the same issue starting from python 3.6 onwards. i dont get this error using pySnmp for 3.5 or earlier', 'lionslair50: Yes. Reinstalled couple times too', 'lionslair50: You need At least python 3.10for ha these days though']"
1682379459.0	24-Apr-2023 16:37:39	Trying to find motorized wifi shade that work with HA	sir574	4	12y0qym	homeassistant	https://www.reddit.com/r/homeassistant/comments/12y0qym/trying_to_find_motorized_wifi_shade_that_work/	"I have a large picture window with an outlet nearby and I'm having a really hard time finding some motorized cellular shades work over wifi with HA that can also be powered by a wall outlet.

Any recommendations?"	14	"[""peterxian: If you're set on WiFi, your options are more limited. The vast majority of solutions are RF433, Zigbee, and Z-wave, with a number of new Thread options coming out. These are common because they typically offer a battery-powered option, and WiFi is not battery-friendly so  would have to be plug-in only. A number of vendors use a separate RF433-to-WiFi bridge (external adapter) so they can advertise blinds as compatible with Google, etc but are not native WiFi. \n\nPersonally I went with Bali Z-wave shades, which are a reputable brand with a choice between battery or plugged-in power. I ordered from Costco because they're often 20% off.\n\nIf you're feeling DIY, Zemismart makes WiFi tube motors, including a new [Matter-certified WiFi motor](https://www.zemismart.com/products/zm25m), which could be the most future-proof — designed to be installed in an existing shade's 37mm tube and plug into wall ac power."", 'deverox: Did you check the Ikea ones?', 'NotJustAnyDNA: I have Serena shades from Lurton.  They are wireless with multiple D cell batteries (life of about 16-18 months with open/close daily) controlled by Lurton Caseta base over WiFi…. And also has Ethernet port in base.  \n\nI am not aware of any blinds that are controlled directly over WiFi.', 'sir574: I looked at the Bali ones through home depot, and I\'m confused with what all i\'d need. They have both Z wave auto view thing & ""smart home capability"" check box.... if I check both it gets pretty pricey.. not sure If i need both or just one.  \n\n\n&#x200B;\n\nhttps://preview.redd.it/y7oprjj38zva1.png?width=683&format=png&auto=webp&v=enabled&s=964fb55f0380bc7d46955278bcc6a851cd8a2e2e', ""sir574: Ikea doesn't make cellular shades only roller style"", ""sir574: the main thing is having them be able to be powered, as the window is up about 12 feet in a 2 story Foyer. I don't want to ever have to go back up there once its setup and working."", 'peterxian: ""Smart Home Capability"" refers to the Bali Z-wave hub and app. If you already have a Z-wave controller (e.g. Home Assistant), you should not buy this option. I use a [Z-wave USB stick](https://www.thesmartesthouse.com/collections/controllers/products/zooz-800-series-z-wave-long-range-usb-stick-zst39) in my HA server with the zwave-js-ui add-on.\n\nFor comparison, I ran those specs through the configurator at [baliblinds.costco.com](https://baliblinds.costco.com) and it came out to $355 with ""basic"" remote and an 8-ft extension cord. The remote is required for initial setup of the bottom stopping point of the shade.', 'deverox: https://www.ikea.com/us/en/p/praktlysing-cellular-blind-smart-wireless-battery-operated-white-90514236/', 'Ok_Animator363: I’ll bet you could use the Lutron Serena shades and run some wires through the wall down to an accessible battery pack for when you need to change them. They are designed to house the batteries but you don’t have to use them that way.', 'NotJustAnyDNA: There is a wired kit for the blinds as well', ""sir574: Looks like I stand corrected haha. Doesn't look like they will work though as I need a custom size :( Appreciate the feedback though."", ""sir574: Yeah, I don't want to use batteries. I did look those ones up and they do offer and plug in the wall solution. Then all I need is the Lutron hub ( I think )."", ""sir574: Yeah I saw that, do I need the lutron hub that's an add-on?"", 'NotJustAnyDNA: Yes… the hub is required but works flawlessly with home assistant and SmartThings, as well as stand-alone with schedules.  I have it integrated into Google Home and Amazon Alexa for commands and other automation.']"
1682377328.0	24-Apr-2023 16:02:08	Cover controllers going unavailable a lot lately	Ornux	2	12xzvci	homeassistant	https://i.redd.it/ulecx0b1ywva1.jpg		8	"['aprettyparrot: Maybe a neighbor has something making interference?', ""Ornux: I've been using cover modules (LoraTap) for more than a year now, and while they sometimes missed a command by doing unavailable, it was pretty rare so I was fine with it.\nLately tho, it's become increasingly problematic to the point where my WAF is currently plummeting.\n\nI'm trying to figure out why, as I haven't changed much (I've only been tweaking with dashboards and installing updates lately).\n\nAnyone has any pointer as to why it might be happening? I've ordered some ZigBee repeaters to try and have stronger mesh network, by with ~13 routers around the flat + my Conbee coordinator, it should be fine shouldn't it?"", ""Ornux: The moment things started to get a bit crazy matches my update to version 2023.4.0\n\nI guess I'll dig in that direction then."", 'Warhawk988: What are you using?', 'AtticJest0r: I had this issue with other devices. I took my Pihole off the network, restarted the devices and then it worked way better.', ""Ornux: Maybe yes, any idea on how I can test that hypothesis? I'm willing to verify anything regarding the network quality.\n\nRegarding WiFi, as it *can* interfere with ZigBee, there isn't much in range other than my own networks."", ""Ornux: Depending on what you mean, I'm using ZHA and the whole system is running on a Home Assistant Blue setup.\n\nEdit: oh, and yes mostly ZigBee devices"", 'Ornux: You mean, restart the devices with HA offline, then let it come back online ?\n\nI can do that pretty easily, just power cut the whole appartement :)']"
1682373687.0	24-Apr-2023 15:01:27	240v 2 phase reversing switch?	timmyjane	0	12xy5qo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xy5qo/240v_2_phase_reversing_switch/	"Can anyone offer advice on how to automate the switch referenced in the title? This type of switch is commonly used in boat lifts and hangar doors. 

I have this installed on a hangar door and it takes 1 min and 10 seconds to open the door, same for closing I would like to automate this so I could click a button on my phone and open and close the door.  A second choice would be to push a hardwired button that would run the motor for 1 min and 10 seconds. 

I bought a Shelly 2.5 and later realized that it is only for 240v single phase connections. The switch in the box is a Bemas A 1700 series rotary switch. 

Any thoughts?"	7	"['mrphyslaww: Reversing contactor driven by whatever two relays you desire', 'Dramatic_Tangelo_207: Are you reversing a DC motor or a 3ph motor.  WTF is 2ph motor?', 'Dramatic_Tangelo_207: [https://kb.shelly.cloud/knowledge-base/shelly-2-5](https://kb.shelly.cloud/knowledge-base/shelly-2-5)\n\n[https://www.youtube.com/watch?v=DIPzbCsSaa4](https://www.youtube.com/watch?v=DIPzbCsSaa4)', 'None: [removed]', 'timmyjane: A 240v DC motor. Not a single phase 240 like in Europe but a 2 phase 240 as we have in the US.', 'timmyjane: Shelly not compatible with 2 phase 240v. :(', 'Dramatic_Tangelo_207: The sonoff basic switches can do ""inching"" (timed activation) and work with home assistant without flashing.']"
1682369892.0	24-Apr-2023 13:58:12	Snail mail sensor	OlliMorpnod	22	12xw801	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xw801/snail_mail_sensor/	"I have a mailbox that has a two doors: A smaller flap on the top for dropping in new mail and a door wirh a lock (facing the front) for collecting the mail.

As there are six people in my household I don‘t only care about a „new mail notification“ but also for an info whether new mail has already been fetched and brought inside the house.

So I 3D-printed this: https://www.thingiverse.com/thing:4578380

I slightly altered it: I removed the housings for the reed switches and kept them in ther original cases with the double-sided tape. I also added a hole for the connect button as I sometimes need to use it.
I opened and modified (soldering the two reed switches to the matching contacts on the push buttons) a tradfri dimmer - et voila: I put it in the printed case and have myself a really cheap Zigbee mailbox notifier (around ten bucks).

Love that stuff 😊👍"	4	"['aztech-85: Love to know more about all the parts you used', ""pieceofthecloud: Interested to hear how it's going and how you've configured it. Any potential moisture issues?"", 'OlliMorpnod: Simple generic reed switches off of Amazon and an IKEA tradfri dimmer (2 way switch). Nothing more… \n\nWhat exactly do you want to know?', 'OlliMorpnod: Have had several hacked ones outside… as long as you stay away from direct rain, everything is fine. \n\nConfiguration is rather simple: \nIt has 3 stages for on and 3 for off: press, continuous press, release after continuous press. Just assign what you want to happen to the right state.']"
1682368474.0	24-Apr-2023 13:34:34	Finally found a use for a wall switch that didn't do anything.....	PhobicCarrot	1	12xvggk	homeassistant	/r/smarthome/comments/12xvg26/finally_found_a_use_for_a_wall_switch_that_didnt/		0	[]
1682367809.0	24-Apr-2023 13:23:29	Recommendation: Energy monitoring for 240v electric dryer	andrewisthedevil	1	12xv3dg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xv3dg/recommendation_energy_monitoring_for_240v/	"Looking for any recommendations for local energy monitoring for an electric dryer for the purposes of a ""Dryer Is Finished"" automation. I've tried the Aqara Vibration sensor as well as building my own with an ESP board but have limited success with way too many false alarms. I also have a Smart dry that I have flashed to work locally via ESPhome thanks to a custom firmware by the community but it eats through batteries - I am replacing the batteries every 10-14 days. 

Ideally I would just use an energy monitoring smart plug for this application. I see that GE/Jasco makes a [smart switch](https://byjasco.com/enbrighten-z-wave-plus-direct-wire-indooroutdoor-smart-switch-40a?utm_term=&utm_campaign=SL+-+PMax+-+Smart+Home&utm_source=adwords&utm_medium=ppc&hsa_tgt=&hsa_grp=&hsa_src=x&hsa_net=adwords&hsa_mt=&hsa_ver=3&hsa_ad=&hsa_acc=2023482469&hsa_kw=&hsa_cam=18468658461&gad=1&gclid=CjwKCAjw0ZiiBhBKEiwA4PT9z6TlQigiijheA92ZcThDaDs86WBEBDoE6DFvXjBpE_xsikPZM70mBhoCMMMQAvD_BwE). 

Anyone with experience with this one? 

Any other recommendations are welcome. Unfortunately the bullet proof light sensor system that I have on my washing machine won't work for the dryer due to the way the buttons are oriented."	7	"['kg333: I ran into similar problems with Aqara Vibration for my dryer.  I ended up building a small custom ESP8266 based breadboard and wiring a current clamp into it, which attaches over one of the 120V legs in the back of the dryer cord.  This approach had the advantage of not interfering with the dryer power connection in any way - I\'ve heard of problems with smart plugs under heavy loads like a dryer or A/C.\n\nThis also let me add a PIR motion sensor and a door open/close sensor attached to the same board, so now the laundry room lights turn on when the PIR senses motion, and the ""dryer done"" notification clears when the dryer door is opened.', 'andy2na: Easiest way is to get CT clamps and put on on your washer circuit and dryer circuit (if they are on their own circuit)\n\nI recommend emporia vue if you want multiple circuit monitoring:\n\n[https://www.amazon.com/dp/B08G37ML2R](https://www.amazon.com/dp/B08G37ML2R)', 'Complex_Solutions_20: I\'m unfamiliar with ""Smart dry"" but if its a device that stays stationary why not just replace the batteries with a DC power supply of the appropriate voltage?', ""phidauex: I just got one of these for a similar project: [https://www.aliexpress.us/item/3256804905348082.html?spm=a2g0o.order\\_detail.order\\_detail\\_item.3.54d4f19ckX4Kic&gatewayAdapt=glo2usa&\\_randl\\_shipto=US](https://www.aliexpress.us/item/3256804905348082.html?spm=a2g0o.order_detail.order_detail_item.3.54d4f19ckX4Kic&gatewayAdapt=glo2usa&_randl_shipto=US)\n\nSupposedly Z2M support, and it is 240V rated so while it is labeled L1/N, it should work fine as L2/L1 connection. You'd need to wire it inside the dryer wiring box (easiest), or the outlet box (probably too tight), or the main panel."", 'uosiek: Try Shelly EM', 'ZAlternates: Just incase you weren’t aware, you can adjust the sensitivity of the vibration sensor. \n\nhttps://joshmccarty.com/how-to-increase-sensitivity-on-aqara-vibration-sensor-with-home-assistant-zha/', 'andrewisthedevil: The sensor part of the Smart Dry system does in the dryer drum.']"
1682367553.0	24-Apr-2023 13:19:13	Button/switch for presence detection	LawerenceDominguez	0	12xuyaq	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xuyaq/buttonswitch_for_presence_detection/	"My girlfriend always has her location services and bluetooth turned off. I would like to place physical button next to the front door that she can press when home or going away, to change her status in the home. Is something like this possible?

What could be other solutions? NMap doesn’t work well at all, unfortunately.

Thanks for any suggestions!"	4	"[""quixotic_robotic: Ping sensor is pretty reliable, set the phone to have a static MAC then have your router give it a static IP. It's not instant but should react within a couple minutes of connecting to the wifi.\n\nFor actual buttons - if you have Zwave, I love the Zooz Zen34 remotes. Stick them anywhere, blend them in with normal decora switches, or not. Easy to automate different stuff for tap, double tap, hold, etc. like holding the button close to the door could turn off all the lights and TV and set to Away mode."", 'sembee2: Got a smart lock? Have it that when she unlocks/locks the door, it toggles a binary sensor. \nPing the device? If it is using a dynamic mac, then you should be able to turn that off for just your WiFi, then set a static address on the DHCP table. \nButton/switches can be forgotten about or just missed, so it needs to be transparent.', 'LawerenceDominguez: Thanks for your suggestions! I set up the ping sensor last night and it seems to be accurate.', 'tcbailey239: Requiring her to push a button negates the whole automation aspect. As others have said, use her cell phone which presumably connects to your wifi (ping).']"
1682365797.0	24-Apr-2023 12:49:57	Any recommendations for motorized HVAC dampers? DIY or off the self?	nw0915	1	12xu1s4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xu1s4/any_recommendations_for_motorized_hvac_dampers/		3	"['sir574: I literally just bought flair smart registers last week and got them working with HA last night.  \n[https://flair.co/](https://flair.co/)\n\n&#x200B;\n\nhttps://preview.redd.it/0t2py671iyva1.png?width=926&format=png&auto=webp&v=enabled&s=8e25862171f1a18437a41234063ab660eb336328', 'peterxian: My economizer (fresh air) damper had a manufacturer-installed Honeywell M7215 motor, which uses the HVAC\'s 24V ac line. Its controller was dumb, and finally broke, so I replaced it with a Z-wave 0-10V flush dimmer from Qubino, which works perfectly — it even reads the motor position output on its input pins. It was a little tricky to power, as it was impossible to find a properly-isolated ac-dc 24v rectifier, so I ended up installing a dedicated dc power supply.\n\nEdited to add: thanks to Home Assistant, this ""dimmer"" and position sensor can be used together to create a template cover entity so the damper appears properly in HA (and Apple Home).', ""realsqlguy: I'm using Durozone dampers to regulate the temperature in my master bedroom (two ducts, two floor vents, two dampers). They've been working perfectly for almost 7 years now. Powered by a 24V power supply, controlled by a Zooz ZEN16 relay.""]"
1682365603.0	24-Apr-2023 12:46:43	Plex Play Radio Station - Artist Radio / Library Radio	Oen386	1	12xtycp	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xtycp/plex_play_radio_station_artist_radio_library_radio/	"Hello all,

I have read through the [Plex integration documentation](https://www.home-assistant.io/integrations/plex/), and I have single items and playlists working fine. Does anyone know how to get a ""radio station"" to play? I have tried using the playlist example and modifying it.

It seems in a change on GitHub support for stations was added, at least through the Plex media browser.

>entity_id: media_player.plex_player

>media_content_type: PLAYLIST

>media_content_id: '{ ""playlist_name"": ""The Best of Disco"", ""shuffle"": ""1"" }'

I am trying to figure out what the media_content_type is. I assume STATION, or something similar. I also am curious about what content would need to be in the media_content_id field.

Thank you!"	0	[]
1682365010.0	24-Apr-2023 12:36:50	Smart devices on network	t0m-c	0	12xto2w	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xto2w/smart_devices_on_network/	"Hi folks, I´m new to homeassistant.
I currently have some zigbee devices, and what i like is, that they are connected to a local hub.
And only the hub is connected to my wifi router.
So.. i´m looking into home assistant and I´m wondering if this is the same?
Do all your smart devices (lights, switches, etc) connect to the home assistant device and that connects to your router? (Same as zigbee)

Or do they all connect to your router?"	6	"[""404flyer: Home Assistant isn't a closed platform where all devices use the same protocol to communicate to it. It's an open platform that can integrate to just about any device. So it can use zigbee devices (which, as you say, wouldn't connect to your router), or it can integrate with wifi devices (which would connect to your router, of course).\n\nYou can choose which devices you use with Home Assistant, so if not using wifi is a requirement for you, then that decision is up to you, and will inform which devices you buy. HA will not impose a requirement on you one way or the other."", 'aprettyparrot: I have all my smart stuff on a 2.4ghz wifi on its own subnet. But I’m a network engi so I like ips :>', 'mhzawadi: Also you can connect cloud services to home assistant, like hive heating and tuya stuff', 'KTibow: > or it can\n\nIt\'s more of an ""and"" than an ""or"". You can mix it up, put devices from different vendors in the same group, use them together in an automation, etc.', 't0m-c: I like that idea, how can i setup a system like that?', 'aprettyparrot: To do a separate subnet you need an actual router, not your one from isp or netgear. I’ve got a netgear nighthawk and it’s kinda shit, but needed for isp 1gig.\n\nI have 24port layer 3 switch off that, and my 2.4ghz tplink deco mesh is connected there on different vlan. \n\nI like it because I can deal with ip easy, my wiz lights sometime go off and don’t come back without turning them on/off, no idea why :> they’ve always been kinda flaky though']"
1682364515.0	24-Apr-2023 12:28:35	NGINX proxy works but not for the app	Operations8	1	12xtfhx	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xtfhx/nginx_proxy_works_but_not_for_the_app/	"I use to run my HASS app by entering this server url:


Http://hass.ad.domain.nl:8123


Now i have setup NGINX Proxy Manager (see setup below) with LE SSL. This works fine, when i type hass.ad.domain.nl in my chrome/ff it redirects to hass with an encrypted connection. So far so good.


But when i use https://hass.ad.domain.nl in the app it doesn't work, the app keeps trying to connect.




Setup Nginx like this:

DOMAIN NAME: hass.ad.domain.nl

Scheme: http

Forward Hostname: hass.ad.domain.nl

Forward IP: 8123


Enabled Websocket Support


Under SSL:

Enabled: Force SSL, HTTP/2 Support, HSTS Enabled, 

HSTS Subdomains


Under Advanced:

  proxy_set_header Host $host;

proxy_set_header X-Forwarded-Proto $scheme;

proxy_set_header X-Real-IP $remote_addr;

proxy_set_header X-Forwarded-For

 $proxy_add_x_forwarded_for;

proxy_max_temp_file_size 25600m;

client_max_body_size 0;


And i have created a Lets Encrypt SSL certificate with DNS challenge for *.ad.domain.nl."	13	"['MrRMNB: You have to allow this in the HA config file. I can point you to the configuration when I’m on my computer.', 'Wtrdk_: I have exactly the same configuration except for the advanced part and that works for me. Could you try it without the advanced part?', 'Operations8: Yes please.', 'MrRMNB: Sorry, I misread your question. I meant you need to edit the config file with the ip of the ""trusted_proxies"" but you must already be doing that if you\'re getting in from chrome/ff. Can you access HA from your phone\'s web browser using the URL?', 'Operations8: Yes accesing from browser on phone with hass.ad.domain.nl works fine.\n\n\nWhat you mean by ip of ""the trusted_proxies"" and which config file?', 'MrRMNB: See the description here: https://www.home-assistant.io/integrations/http/\n\n>When using a reverse proxy, you will need to enable the use_x_forwarded_for and trusted_proxies options. Requests from reverse proxies will be blocked if these options are not set.', 'Operations8: In my configuration.yaml\n\nI have this:\n\n\n\nhttp:\n\n   use_x_forwarded_for: true\n\n   trusted_proxies:\n\n\n  - 192.168.100.230\n\n    - 192.168.100.0/24\n\n   ip_ban_enabled: true\n\n   login_attempts_threshold: 30\n\n\nIP from my Hass is 192.168.100.230. Fixed it by adding HASS IP address to the trusted_proxies', 'MrRMNB: So it works now?', 'Operations8: Yes. Like i said i added the IP address of my HASS to the config file.', 'Operations8: Thanks :)', ""Operations8: Don't know why but i am getting error 400 bad request now. I changed nothing regarding this... mmmmm.\n\nThe log tells me:\n\n\nInvalid config for [http]: not a valid value @ data['http']['trusted_proxies'][2]. Got '172.30.33.0/23'. (See /config/configuration.yaml, line 5). Please check the docs at https://www.home-assistant.io/integrations/http\n\n\nI am not seeing what us wrong with my config file"", 'MrRMNB: > \'172.30.33.0/23\'.\n\nIf you are running nginx in Docker then it looks like its getting an internal docker ip address of ""172.30.33.0"".\n\nIn my case, I set a docker network subnet of ""172.30.0.0/16"" and static ip address of 172.30.0.10 for Nginx. Then in homeassistant trusted_proxies I use ""- 172.30.0.0/24""', 'Operations8: I am running HASS (which runs NGINX) on debian 11 virrual machine. No docker']"
1682364123.0	24-Apr-2023 12:22:03	I was today years old when I learned that you could add attributes to template sensors. I've added a working example to the body of this post for those curious! Unlike the state of the sensor which is always a string, the attributes can be an array.	maxi1134	20	12xt8x7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xt8x7/i_was_today_years_old_when_i_learned_that_you/	"[Context of the template sensor](https://github.com/maxi1134/Home-Assistant-Config/blob/master/includes/template.yaml)  
Sensor:  


          - name: ""active_media_playback""
            state: >-
                {% set ns = namespace(mediaactiverooms = []) %}  {# create a namespace object to store variables #}
                {% for media_player in states.media_player -%} 
                  {%- if  ""plex"" not in media_player.entity_id and ( ""chromecast"" in media_player.entity_id or ""speaker"" in media_player.entity_id ) and ""owntone"" not in media_player.entity_id and ""roku"" not in media_player.entity_id and ""display"" not in media_player.entity_id -%}  
                    {%- if media_player.state == 'playing' -%}
                    {% set currentroomname = media_player.entity_id | replace('media_player.','') | replace('chromecast.','') %}
                      {%- set ns.mediaactiverooms = ns.mediaactiverooms + [currentroomname.split('_') | first] -%}   
                    {%- endif -%}
                  {%- endif -%}
                {% endfor %} 
                {% if ns.mediaactiverooms  | list | length > 0 %}
                on
                {% else %}
                off
                {%endif%}
            attributes:
              speakers: >-
                {% set ns = namespace(mediaactiverooms = []) %}  {# create a namespace object to store variables #}
                {% for media_player in states.media_player -%} 
                  {%- if  ""plex"" not in media_player.entity_id and ""speaker"" in media_player.entity_id and ""owntone"" not in media_player.entity_id and ""roku"" not in media_player.entity_id and ""chromecast"" not in media_player.entity_id and ""group"" not in media_player.entity_id and ""display"" not in media_player.entity_id -%}  
                    {%- if media_player.state == 'playing' -%}
                    {% set currentroomname = media_player.entity_id | replace('media_player.','') | replace('speaker.','') %}
                      {%- set ns.mediaactiverooms = ns.mediaactiverooms + [currentroomname.split('_') | first] -%}   
                    {%- endif -%}
                  {%- endif -%}
                {% endfor %} 
                {{ ns.mediaactiverooms | unique | list}}
              chromecasts: >-
                {% set ns = namespace(mediaactiverooms = []) %}  {# create a namespace object to store variables #}
                {% for media_player in states.media_player -%} 
                  {%- if  ""plex"" not in media_player.entity_id and ""chromecast"" in media_player.entity_id and ""owntone"" not in media_player.entity_id and ""roku"" not in media_player.entity_id and ""speaker"" not in media_player.entity_id and ""display"" not in media_player.entity_id -%}  
                    {%- if media_player.state == 'playing' -%}
                    {% set currentroomname = media_player.entity_id | replace('media_player.','') | replace('chromecast.','') %}
                      {%- set ns.mediaactiverooms = ns.mediaactiverooms + [currentroomname.split('_') | first] -%}   
                    {%- endif -%}
                  {%- endif -%}
                {% endfor %} 
                {{ ns.mediaactiverooms | unique | list}}"	4	"['Warhawk988: You can also reference the state and its attributes within the sensor using this.state and this.attribute.[your_attribute] which can simplify things further.', ""chicknlil25: Thank you for this. I've barely scratched the surface of templates in automations so seeing just how far it can be taken is fascinating."", ""droans: And very useful for trigger based sensors. \n\nI've got my Ikea and Hue remotes through Z2M. When a button is pressed, the state quickly updates before returning to an empty string. Because I wanted to be able to have automations with 2x, 3x, etc, I use the triggers plus `this` to replicate it and add a debounce. \n\nUsing `this` is necessary because HA can lose the state on a reboot or if it's been too long since the button was used, leading to an initial tap being required to reset the state and another tap to use it. \n\nInstead, this works perfectly:\n\n```\nname: Switch Name Last Action \nstate: >-\n  {% set st = trigger.to_state.state %}\n  {% if st is not none %}\n    {% if st not in ['','unavailable','unknown'] %}\n      {{ trigger.to_state.state }}\n    {% else %}\n      {{ trigger.from_state.state }}\n    {% endif %}\n  {% else %}\n    ''\n  {% endif %}\nattributes:\n  last_updated: >-\n    {{ as_timestamp(now()) }}\n  prior_state: >-\n    {% set result = this.state %}\n    {{ result }}\n  press_count: >-\n    {% set return_result = true %}\n    {% set current_action = trigger.to_state.state %}\n    {% if 'prior_state' in this.attributes %}\n      {% set previous_action = this.state %}\n    {% else %}\n      {% set return_result = false %}\n    {% endif %}\n    {% if 'last_updated' in this.attributes %}\n      {% set last_update = this.attributes.last_updated %}\n    {% else %}\n      {% set return_result = false %}\n    {% endif %}\n    {% if return_result %}\n      {% if 'attributes' not in this %}\n        {% set return_result = false %}\n      {% else %}\n        {% if as_timestamp(now()) - last_update < 5 and current_action == previous_action %}\n          {% set result = (this.attributes.press_count | int(0)) + 1 %}\n          {% if result > 5 %}\n            {% set result = 1 %}\n          {% endif %}\n        {% else %}\n          {% set return_result = false %}\n        {% endif %}\n      {% endif %}\n    {% endif %}\n    {% if return_result %}\n      {{ result }}\n    {% else %}\n      1\n    {% endif %}\n```"", ""generalambivalence: I am going to have to dig into this more. I'm using a trigger based template sensor for my Lutron Aurora. This could be really handy for extending the functionality even more.""]"
1682363939.0	24-Apr-2023 12:18:59	Google Assistant + CF Tunnels, VERY inconsistent behavior	jakegh	0	12xt5t0	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xt5t0/google_assistant_cf_tunnels_very_inconsistent/	"I've got a really weird problem with the Google Assistant integration running over a Cloudflare tunnel where it *intermittently* stops working-- and even two commands in a row, one will work and the other won't. No problems with the original linking, only afterwards. ""Hey Google sync my devices"" also fails but also-- only intermittently. Sometimes it works, sometimes not. Bizarre!

I painstakingly went over the HASS documentation and triple-checked every item. I'm aware it's complex and long, so I really invested time into it in an effort to not be embarrassed when I finally resort to asking for help and it ends up being something super stupid. For example, everything is IP addresses no hostnames (other than the CF tunnel host of course), so no exposure to DNS shenanigans. IPv6 is disabled too. I did my homework, best I could.

I also went to Cloudflare and tried a bunch of page rules and WAF rules to eliminate caching and ensure Google is permitted to access the host. Running a mtr from outside my network I show zero packets being lost to the Cloudflare tunnel hostname. It's definitely internet-accessible, I tried with a VPN.

I also checked my LAN's firewall (a UDM Pro) just in case, although I'm using Cloudflare tunnels so no port is opened or anything. Nothing in there to account for this behavior. 

Reading through the Google cloud console action logs, it gives ""BACKEND_FAILURE_URL_ERROR"" which looks like Google can't reach my CF URL. I can't seem to figure out why!

I'm running the very latest version of HASS OS in a Proxmox VM. Config YAML is all bog-standard, nothing unusual, straight from the documentation, including the SECRET_ACCOUNT.JSON file which I also triple-checked was correct. No issues with perms either, everything is readable by root.

Are incoming webhook calls logged anywhere in HASS? I can't seem to find them. 

Anyone have any ideas, other than just paying nabu casa to do it for me? 

Happy to post any config files people need, although again they're very standard. Here's the Google actions log error:
```
{
  ""textPayload"": ""requestId <<removed>> failed with code: BACKEND_FAILURE_URL_ERROR"",
  ""insertId"": ""28bvi2frnk33g"",
  ""resource"": {
    ""type"": ""assistant_action"",
    ""labels"": {
      ""action_id"": ""SMART_HOME_EXECUTE"",
      ""project_id"": ""<<removed but it's correct>>"",
      ""version_id"": """"
    }
  },
  ""timestamp"": ""2023-04-24T18:15:51.351253610Z"",
  ""severity"": ""ERROR"",
  ""logName"": ""projects/<<removed>>/logs/actions.googleapis.com%2Factions"",
  ""receiveTimestamp"": ""2023-04-24T18:15:51.362590945Z""
}
```"	4	"[""jakegh: For anyone lurking, I believe I figured out the problem. I setup Cloudflare Access on this URL, meaning that any rando coming in from the internet would have access denied by Cloudflare. Then I allowed specific origin IPs from Google to bypass that access restriction, based on posts here on Reddit. \n\nThe problem was those posts had an incomplete list of Google origin IPs, and it looks like Google randomly switched between them, leading to my frustrating inconsistency. \n\nAnyway, my complete list of Google Assistant origin IPs now is:\n\n```\n66.249.80.0/20\n66.102.0.0/20\n108.177.0.0/17\n192.178.0.0/15\n74.125.0.0/16\n```\n\nThis may (and probably will) change and need to be fixed in the future. Only real solution to that is to use a script that allows every IP Google owns (connecting to CF via API to setup the access group), but that also includes Google Cloud so the security aspect is obviated. \n\nOr to pay Nabu Casa their $5/month, of course. Honestly if it was $1/month I'd just subscribe for the rest of my life, even now that I got it working without, but I'm too cheap for $5."", 'nickm_27: Weird, our setups are pretty different as I run everything in docker containers directly without HA OS including HA so I am just using the cloudflared container 2023.2.1 but I have not had any issues like this, it has consistently worked for me.', ""jakegh: I have a skyconnect, so I don't think I can switch to the docker install.\n\nYeah, it's a super weird problem, where it *sometimes* works, then fails, even in multiple commands right after another.\n\nDid you do have to do anything in the cloudflare page rules or WAF rules? I told it to skip auth on everything from Google's ASN and added page rules to disable all WAF/performance/etc in my debugging. Nothing seemed to work."", ""nickm_27: I don't have auth setup for my HA endpoint besides HA itself. all other tunnels do have auth though, so maybe that is a difference""]"
1682362820.0	24-Apr-2023 12:00:20	RECC's: Looking for the best Zigbee/Z-Wave etc Radio for HA	ALHeadshots	0	12xsn05	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xsn05/reccs_looking_for_the_best_zigbeezwave_etc_radio/	"Hey all!

I'm getting started with HA and looking for the best radios to get.

I've played with it in a container in my Unraid server, but I think I'll be looking to go the VM route using the full HA install, again on the Unraid server, once I'm ready to build out a production.

I've seen the HA homegrown Skyconnect, but there isn't much out there with real-world testing on its range and operation.

I saw Paul Hibbert's [video](https://www.youtube.com/watch?v=6FCJV_oaBes) about the new Hubitat box with dual antenna kicking butt in a range test. I'd like the same kind of perf with something for HA."	0	[]
1682362697.0	24-Apr-2023 11:58:17	Setting up SSL cert to allow StreamDeck to work?	RoachForLife	0	12xskvc	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xskvc/setting_up_ssl_cert_to_allow_streamdeck_to_work/	"Hi all, so I set up DuckDNS using the built in SSL cert. Did the port forwarding and that seems to work fine. I then tried to add my Elgato Streamdeck and where I first add a connection it wants the websocket URL and the long term token. I generated the token however it keeps saying 'Failed to connect to wss://IP/api/websocket

&#x200B;

I dont know much about the certs but Im thinking that I need to modify it somehow to allow this to connect? Any help is appreciated! Thanks"	1	"[""RoachForLife: This ended up being something dumb. The url is shows is 'WSS' but the example says 'WS' at the beginning. So yeh, 'WS' is the proper format. Problem solved for anyone else having this in the future. Thanks""]"
1682358832.0	24-Apr-2023 10:53:52	Casting automation for youtube	blacknacoustic	2	12xqpoa	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xqpoa/casting_automation_for_youtube/	I've been struggling with this for a minute I can't figure it out. I'm working on a automation for my bedtime routine and I want it to cast a specific YouTube video to my Chromecast. But I keep getting error messages using any way i could find. Is there an easy way to setup an automation to cast a youtube video to a chromecast?	3	['maxhosted: I’d never even thought of that. That’s an awfully nice hint to “go to bed now!”', 'enjokers: Docs got a YouTube example that works just fine: https://www.home-assistant.io/integrations/cast/', 'martamoonpie: I did this just the other day. Works as expected.']
1682358568.0	24-Apr-2023 10:49:28	Help with HA and Twilio API	FunTooth3	0	12xqkta	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xqkta/help_with_ha_and_twilio_api/	"Hi! I'm trying to create a TwiML function that's relatively simple, that says nothing, hangs up the phone, and sends the webhook on to my HA instance in the same way that setting the Call Handler to post the webhook to a link would. However, the event that's received is missing a lot of the data when I listen for it. It's missing all of the details that I would expect to be sent in the event object, like to/from number, location, etc. I can't find much that's helpful for this in either documentation. Below is my code. Would love some help! Thanks so much.

    exports.handler = async function(context, event, callback) {   
        const axios = require('axios');   
        const twiml = new Twilio.twiml.VoiceResponse();   
        twiml.say('');   
        twiml.hangup();   
        try {     
            await axios.post(       
                'https://link.com/',       
                event     
            );   
        } catch (error) {     
            console.error(error);     
            throw error;   
        }   
        return callback(null, twiml); 
    };"	0	[]
1682358174.0	24-Apr-2023 10:42:54	Best HA Compatible (Local) powered Temperature+Humidity sensor in 2023?	ForceSpike	0	12xqdty	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xqdty/best_ha_compatible_local_powered/	"I'm looking for an HA compatible local temperature and humidity sensor that ideally can be plugged into a wall outlet for power.  Wifi or Zigbee would be ideal.  I've had so many issues with battery powered ones like the Aqara and Shelly H&T where they just offline after awhile or the battery prematurely dies. Ideally I'm just looking for accurate readings and a consistent connection.  Any suggestions would be appreciated.

&#x200B;

EDIT: BTLE sensors would also be fine as long as powered."	7	"[""Codeman20400: if you're comfortable with flashing firmwares, I've seen others use the Sonoff THR316D, I'd put Tasmota on it to make it truly local, but it has a wired power input and runs over wifi with mqtt"", 'Burner_account_546: You... You DO realize both versions of the Shelly H&T can be plugged into a 5 volt phone charger, right?\n\nFor the 1st gen Shelly H&T you need to replace the bottom part, with one of these\n\nhttps://www.shelly.cloud/en/products/shop/usb-power-supply-for-shelly-h-and-t-white\n\nFor the 2nd gen Shelly H&T, you just plug a USB C phone charger in the USB C port.\n\nAlso, this automation will scan all your battery powered devices, once a day and inform you of anything with a low battery (phones included)\n\nhttps://community.home-assistant.io/t/low-battery-level-detection-notification-for-all-battery-sensors/258664/20', ""Kitchen_Software: I have been using ESPresence (on ESP32 boards) with AHT10 sensors. Runs you about $20/ea for parts and you get room presence as a bonus feature. Very easy to setup, and if room tracking isn't of interest, you don't have to use that function."", ""ForceSpike: Sorry I should have clarified my other issue with the H&T when I brought it up. I am aware of the additonal power addon.  I purchased two separate shelly H&Ts 1st gen that both were significantly off in their temperature reading (over 5 degrees confirmed by multiple independant sensors) . When I contacted support they're response was to use the temperature offset feature to just manually adjust the difference which seemed like a ridiculous response for a sensor of that price.  A sensor whose sole purpose is temperature & humidity monitoring should not need a manual offset entered to be accurate.\n\nThat script does seem useful, thanks for that.  However my battery issue with the aqaras specifically was it seemed to just sit at 80% battery forever and then all of a sudden would just be dead at 0.  I was finding the battery reporting to be inconsistent along with the signal.  However the H&T accuracy was great."", 'tarzan_nojane: > AHT10\n\nAre you able to turn off ALL of the LEDs on the EPS32 board?  I would be concerned that an illuminated LED would increase the temperature in the immediate vicinity.  I am unable to turn off the red power LED on my ESPresense tracking ESP-WROOM-32 boards.', ""Burner_account_546: Maybe you got some lemons. I have one H&T and one H&T Plus. The H&T has a little variance, but not 5 degrees of variance, whereas the H&T Plus is spot on.\n\nMaybe get a Shelly H&T Plus from somewhere with a generous return policy and give it a try. It has an E-ink display that works wonders for power consumption. Also, it can act as a bluetooth relay for other bluetooth devices, through Home Assistant's new bluetooth relay functionality.\n\nhttps://www.shelly.cloud/en/products/shop/shelly-plus-h-and-t\n\nAlternatively, you can get a Sonoff TH16, with a waterproof temp and humidity sensor and weatherproof case. The TH16 can be powered from 100-240V directly and can be flashed with tasmota, which will make it completely local, like the Shellies. I have one, that I've tasmotized, which seems to be accurate and it samples every 2 seconds."", 'Kitchen_Software: I haven\'t tried to be honest, but if that\'s a substantial concern, I would connect the sensor to the board with wires rather than soldering directly (this is what I\'ve done). So I have about 4"" between the two.\n\nIf I had a 3D printer, I\'d just print a case for the board, obscuring the LED, and for the sensor--with a few holes.']"
1682357724.0	24-Apr-2023 10:35:24	Opinions on new Automation	anthonym9387	0	12xq5t3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xq5t3/opinions_on_new_automation/	I received my two new FP2's on Friday and eventually my dumb ass figured out how to get them into HA (add them to the Aqara app and your Home on iOS, after updating firmware and setting up regions, delete them from Home on your iPhone but not the Aqara app and HA will auto-detect them if you have the Homekit Controller integration installed for anyone stuck on this). WOW are these things great. I set up so many automations this weekend that I'm loving so far. Well I still have an FP1 as the presence sensor in my bedroom. I want to set up an automation to pause my bedroom TV and turn on the LED's under my bed whenever I get out of bed at night, but the FP1 is set up through Z2MQTT and setting up regions seems like a pain. I might tackle it eventually but in the meantime I now have two Aqara IR motion sensors that the FP2's have made redundant. Is there any reason why it would be a bad idea to put these on the floor under my bed and have them trigger the described automation when my feet hit the floor? Is this already a thing people have done and I'm just ignorant? lol	0	[]
1682357134.0	24-Apr-2023 10:25:34	Help debugging a suddenly unreliable Zigbee network (ZHA)	frobnitz	3	12xpvpn	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xpvpn/help_debugging_a_suddenly_unreliable_zigbee/	"My rock solid Zigbee network has become increasingly unreliable. My network consists of 42 devices with a HUSBZB-1 coordinator on an Intel NUC running ZHA on HA 2023.4.4. Everything is up to date.  
My problems began about 3 days ago when my 24 Inovelli Blue 2-1 switches upgraded their firmware. At the same time, I added 6 new of the Blue switches, bringing the total to 30.

Commands are now getting lost and timing out. Simple automations are failing. In my logs, I'm getting messages like:

\[139689718647728\] Failed to deliver message: <EmberStatus.DELIVERY\_FAILED: 102>  
Any suggestions on how to go about debugging this?"	6	"['ZAlternates: First we need to enable debug level logging for ZHA. You can do this by going into the device list and clicking the ellipses next to ZHA. \n\nhttps://i.imgur.com/JpFFmVR.jpg\n\nNext I would create this lovelace card to see all the details about my devices in one place. \n\nhttps://github.com/dmulcahey/zha-network-card\n\nNow you’ll be able to look at the logs, see what commands are failing to which devices by looking at the NWK numbers. Once you get the NWK numbers, you can look them up in the ZHA card to see what device it is. \n\nLook for patterns. It could be all your 24 devices are affected but it’s more likely one or two didn’t fully update but it’s part of your mesh and jamming things up, so to speak. \n\nA misconfigured or bad router in the mesh that the mesh hasn’t identified as bad can really cause problems.', ""frobnitz: I've enabled the debugging for ZHA. ~~I'm running HAOS, so I downloaded the zha-network-card.js, put in the /config/www directory, and added the resource (/local/zha-network-card.js), and restarted. However HA is telling me that the card does not exist.~~ \n\nEDIT - I was able to get the card loaded.\n\nFrom the UI, I attempted to turn on a light, which fails. In the logs I see this, which indicates that the delivery failed.\n\n    2023-04-24 16:39:32.107 DEBUG (MainThread) [bellows.ezsp.protocol] Application frame received messageSentHandler: [<EmberOutgoingMessageType.OUTGOING_DIRECT: 0>, 44649, EmberApsFrame(profileId=260, clusterId=6, sourceEndpoint=1, destinationEndpoint=1, options=<EmberApsOption.APS_OPTION_NONE: 0>, groupId=0, sequence=102), 118, <EmberStatus.DELIVERY_FAILED: 102>, b'']\n    2023-04-24 16:39:32.107 DEBUG (MainThread) [bellows.zigbee.application] Received messageSentHandler frame with [<EmberOutgoingMessageType.OUTGOING_DIRECT: 0>, 44649, EmberApsFrame(profileId=260, clusterId=6, sourceEndpoint=1, destinationEndpoint=1, options=<EmberApsOption.APS_OPTION_NONE: 0>, groupId=0, sequence=102), 118, <EmberStatus.DELIVERY_FAILED: 102>, b'']\n    2023-04-24 16:39:32.108 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xAE69:1:0x0006]: command failed: 'on' args: '()' kwargs '{}' exception: 'Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'\n    2023-04-24 16:39:32.108 DEBUG (MainThread) [homeassistant.components.zha.entity] light.rec_room_overhead_light_2: starting transitioning timer for 1.25\n    2023-04-24 16:39:32.108 DEBUG (MainThread) [homeassistant.components.zha.entity] light.rec_room_overhead_light_2: turned on: {'on_off': DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>')}"", 'ZAlternates: Does anything Zigbee work?', ""frobnitz: Yes, most devices respond to the UI, and several of the automations are working just fine. Other automations succeed or partially succeed at random. I'm not having any problems remote turning on/off most switches. I have a couple in the downstairs that are sporadic, and one which will does not seem to respond at all to a remote turn\\_on/off.  The LQI/RSSI numbers for these switches are in the same range as the other switches, so I don't think it is a signal strength issue. Especially when devices in the same gang box are working fine.\n\nI have a higher failure rate with the zha.issue\\_zigbee\\_cluster\\_command command used to set the LED sidebar on the Inovelli switches. Switches that seem solid for the turn\\_on/off commands will fail with this command."", 'ZAlternates: Unfortunately it sounds like one or more of those switches you updated is having an issue and it’s causing intermittent problems. How to troubleshoot this? Well hopefully you can line up the nwk numbers to find which device else you’re going to have to start removing stuff from the mesh and troubleshooting that way, which suuuucks.', 'frobnitz: BTW, your ZHA Network Card is awesome.']"
1682356373.0	24-Apr-2023 10:12:53	AirPlay Receiver Output to 3.5 Audio	JTP335d	3	12xpivo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xpivo/airplay_receiver_output_to_35_audio/	"Is there a way to run an Apple AirPlay receiver in home assistant and output audio via the 3.5mm jack on the raspberry pi?

I have home assistant running on a raspberry pi in my camper and to reduce devices and power usage I thought it would be nice if I could run an airplay receiver on the raspberry pi in home assistant and output via the 3.5mm jack to the receiver in my camper. 

Do the Aircast and Airsonos add-ons only output to those devices? Or can they be configured to output locally?

Edit: [This](https://github.com/v3rm0n/addon-shairport-sync) add-on works to do what I was looking for. Thanks."	15	['Eximo84: Shairport?  Not sure if it can run inside home assistant.', 'Admirable_Ad9948: The best way to do this would be to run HA in Docker on Pi OS, then run [shairport-sync-docker](https://github.com/mikebrady/shairport-sync-docker) alongside.', 'blackleel: Belkin airplay 2 adapter', 'JTP335d: I noticed that one. Reading the docs on it don’t seem to imply it will do what I want.', 'UngluedChalice: That’s exactly what shairport does. It’ll output audio from the pi to whatever you plug the 3.5 mm cable into.', 'JTP335d: Yes, but can it be run and configured from within home assistant? Currently home assistant has the 3.5 output.', 'UngluedChalice: Yeah there’s an add on and everything so you can configure it in the GUI.', 'JTP335d: Add-on or via hacs? Can you post a link?', 'UngluedChalice: [Here’s a screenshot.](https://i.imgur.com/pyeudVH.jpg)\n\nI’ll have to look for more info when I get home and I’m on my computer.', 'JTP335d: Thanks. I can’t find the repository for that.', 'UngluedChalice: Here you go:\n\n[https://github.com/parautenbach/hass-shairport-sync](https://github.com/parautenbach/hass-shairport-sync)', 'JTP335d: The way I read that add-on is that it is an interface for an instance running somewhere else. Is that not correct?', 'UngluedChalice: Shoot, wrong one!\n\n[https://github.com/v3rm0n/addon-shairport-sync](https://github.com/v3rm0n/addon-shairport-sync)', 'JTP335d: That was too easy! Thanks. It just works.', 'JTP335d: Hey thanks. Gonna give this a try. I did see that one but I missed the repository link somehow.']
1682356254.0	24-Apr-2023 10:10:54	Kodi integration shows random screenshots from movie instead of movie posters. Is there a way to fix this?	Okonomiyaki_lover	8	12xpgwq	homeassistant	https://i.imgur.com/qZuUcll.jpg		0	[]
1682355783.0	24-Apr-2023 10:03:03	How can I view the influxDB logs? It's causing HA to crash.	TimmyViking	1	12xp8t1	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xp8t1/how_can_i_view_the_influxdb_logs_its_causing_ha/	Running HA on a RP4 with SSD and I was having almost daily crashes and the UI would often take a long time to load or timeout. Since disabling InfluxDB that has all stopped and its working perfectly. I'm trying to get it working again but I can't seem to find out how to view the logs to try and see the cause of the crashes. Nothing useful seems to show in the HA logs. I was fairly new to HA when the crashs started so I ended up starting everything from scratch and the crashes continued even after a fresh install.	2	"[""TRDeadbeat: The cause of the problem is just literally InfluxDB.\n\nInflux will natively consume every single ounce of available memory on its host machine, and hold onto it as long as it's running. This is how Influx works, it stores the time series indexes in memory. The bigger your dataset, or the higher your cardinality, the faster it fills up the memory.\n\nThe fix is to move Influx to a different host from HomeAssistant. Alternatively you can try to tune the Influx TSI or reduce series cardinality in your collections, but that's a whole other can of worms."", ""TimmyViking: Ah! Thank you, I was suspecting it was something to do with memory as I've only got the 2GB PI, although I've never seen it get over 70%.""]"
1682353259.0	24-Apr-2023 09:20:59	Ring Addon lost Alarm Option after latest Update	amgine	0	12xo0mi	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xo0mi/ring_addon_lost_alarm_option_after_latest_update/	"Hello,
I recently ran the updates for my HA to 2023.4. Now the Ring addon is missing the alarm options and the devices are unavailable. The only devices found now are related to the cameras, not the alarm. There isn't an update for the addon to fix this, what can I do?

I have tried restarting HA and reinstalling the Ring addon. 

https://imgur.com/a/c0kI9K6"	5	"[""run1fast: Mine is still working fine. I'm running this version. Fyi, most of the functionality only costs a monthly fee for new users. Existing users are grandfathered in with the free functionality.\nHome Assistant 2023.4.6\nSupervisor 2023.04.1\nOperating System 10.0\nFrontend 20230411.1 - latest"", 'StumpyMcStump: Didn’t the alarm functionality in Ring just become an additional fee?', ""amgine: Weird, I wonder what happened to mine. I'll continue to mess with it. The devices are just gone. I already pay for Ring Protect (1st gen) or whatever it's called."", ""amgine: I didn't know that. Maybe that's what my issue is."", 'MowMdown: What?']"
1682353213.0	24-Apr-2023 09:20:13	Local Tuya not updating device status	love10000	0	12xnzrf	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xnzrf/local_tuya_not_updating_device_status/	"Hallo.

I am using Localtuya and have the issue that the status of my devices (all lamps/lights) is not updated. 

For example: If I turn one of my lights off via wall switch (power cut), this is not always reflected on my dashboard. Same can happen the other way around, if I turn a light on.

What confuses me is that in the Tuya App (Smart Life) it updates as expected, but not in HA.

I wanted to go local with my Tuya devices through HA, get away from their cloud. But now I hit this challenge and I am not sure how to solve it.

Thank you,  
\-love10k"	1	['love10000: If I change the configurations for any device (and then move it back to the expected ones), then I can interact again with the HA interface and inputs work as expected.\n\nMoreover HA updates the device status if I update it through the Tuya up (e.g. brightness). However I cannot interact with the device through HA.']
1682352827.0	24-Apr-2023 09:13:47	Aqara single rocker (no neural) unresponsiveness	billybob476	1	12xnsta	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xnsta/aqara_single_rocker_no_neural_unresponsiveness/	"I recently installed an Aqara lumi.switch.b1laus01 in my cold room. This is a single rocker, no neutral switch since this one spot in my house doesn't have a neutral wire.

The switch pairs fine with ZHA, I was concerned about the cinder block wall between it and the rest of my network so I placed a SONOFF smart plug just on the other side of the wall from it and it shows it is connected through that router. The coordinator is a HUSBZB-1 connected to a USB extension cable. 

The behaviour I'm seeing is that the switch remains connected to the network but after about an hour, it becomes unresponsive via Home Assistant. The only resolution seems to be to delete and re-add it to the network where it will again respond for about an hour and then go silent again. 

I'm seeing LQI on the device ranging from 150-255 and RSSI hovering around -90.

Aside from this the rest of my zigbee network has been incredibly solid. 

Any advice would be appreciated!"	2	['techdan98: I have a few of these, routed through an aqara smart plug, which are working ok.', 'billybob476: Thanks for the feedback. It’s odd. They report as connected and state changes are reflected (if I turn in the switch it showed as on in home assistant) but when I try to send commands it just does nothing.']
1682352812.0	24-Apr-2023 09:13:32	Tuya_Local Garage Door opener keeps disconnecting and activating from HomeAssistant.	aztech-85	1	12xnsie	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xnsie/tuya_local_garage_door_opener_keeps_disconnecting/	"Tuya\_Local Garage Door opener keeps disconnecting and activating from home assistant.

&#x200B;

This can happen up to 4-5 times per night.

&#x200B;

Here is what I have found thus far and my setup:

* No open/ closed read sensor has been attached. (I have ambitions to use an esp32 to control this via alternative means but for the moment no read sensor)
* This is connected to a gate (functions the same way as a garage door
* If running the native app this does not seem to occur. Tuya Smart
* The device does not seem to be disconnecting from the wifi and has plenty of signal -42 to -46 dBm
* Tried changing the ""Tuya Local"" version back as far as it goes with still no luck.
* Using this yaml file dongguan\_garage\_door\_opener.yaml
   * I note this file has this twice:
      * optional: true #BUGBUG Sometimes after power off this DP doesn't report state but will be available later

If I am correct and I have no idea if I change these two areas to ""false"" will this resolve the issue or is it something else?

&#x200B;

&#x200B;

TIA!"	0	[]
1682352596.0	24-Apr-2023 09:09:56	"Changed Z2M channel to 25 - now getting ""adapter mismatch"" error and won't start"	pdawg17	1	12xnosb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xnosb/changed_z2m_channel_to_25_now_getting_adapter/	I think it's due to my Sonoff dongle still being on channel 15 but how do I change it on that end?	2	['ZAlternates: If you change the channel, you gotta start over.', 'Warhawk988: Like what was already said. If you want to change the channel then you have to reconnect everything. \n\nZ2M is telling you that your config doesn’t match whats on the stick. They do this to let you know if you want to force changes, say if you had to change out sticks or what not, so that you don’t accidentally do something. \n\nYou should be able to change it back without much, if any, trouble.']
1682352528.0	24-Apr-2023 09:08:48	Cloud Service used for?	4reddityo	0	12xnnmi	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xnnmi/cloud_service_used_for/	Do you need cloud service in order for automations to work such like gps related triggers on your phone? Eg. I leave home and this triggers an automation? Or I’m coming home.	5	"[""Chrisrdouglas: Yes and no. If you want to have an automation triggered when you leave work then you'll need to have some way to access home assistant remotely. If you want it to do something as you arrive at your home you could probably get away without remote access.\n\n\nThere are a few ways to achieve remote access\n1. Easy - sign up through nabu casa\n2. Medium - Connect via a VPN\n3. Harder - set up proxy server (what nabu casa does but you diy it)\n\nThere are probably other ways too that I just don't know of. I use both nabu casa (helps to support HA development) and OpenVPN running at home."", 'Wild-Bus-8979: No.', ""ashok36: 1.5 use tailscale.\n\nSeriously, it's like magic. I'm happy to send the HA devs money every month but with the tailscale add on its absolutely unnecessary (and probably less secure than tailscale too)."", ""jakegh: Cloudflare tunnels are pretty easy and there's always port forwarding too, although that has security implications. And tailscale, which is kinda a VPN but very cool. For most people (who don't need to integrate Google or Alexa) tailscale makes a lot of sense."", ""jakegh: Doesn't get you voice assistant integration but otherwise yeah. Made my post before reading yours.""]"
1682352466.0	24-Apr-2023 09:07:46	Frigate + Coral + i5-7500	Marcoskp-	3	12xnmlb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xnmlb/frigate_coral_i57500/	"I have a dell optiplex with i5-7500 running frigate. I was able to get my hands on a Coral and all seems to be working fine, but after changing my configs I saw a different pattern in my CPU usage.  
I am running 2 cameras one at 1080p and the other one at 720p (both for detection). Before using the coral, my cpu would fluctuate a lot, going from 15% all the way to 100%. Now, after using frigate, my CPU never spikes to 100% (max was 90%) and it fluctuate way less.  


The thing is, the lower value is around 25%, and not 15% any reason for this?

Also, I tried Hardware Acceleration with both `hwaccel_args: preset-vaapi` and `hwaccel_args: preset-intel-qsv-h264` since my streams are H.264 and I didn't see any difference between them (but when not using it my lower value of CPU usage goes to 65%).  


Am I missing something?"	9	"[""nickm_27: You'd need to use the 0.12 system page or top to be able to see what processes are using more CPU than before. Otherwise there is a lot of guessing involved"", 'rich33584: Dont know if this helps you gauge anything, but Ive got a 10700K I7 and the processor stays around 4-8% on average with no Hardware acceleration. 3 1080p Cameras going.', 'Marcoskp-: Current status! I just added a new camera to test with\n\nhttps://preview.redd.it/odn92cjphxva1.png?width=1432&format=png&auto=webp&v=enabled&s=4397433301bbc6d32f14d215b293be6771b7cbec', 'nickm_27: I’d be curious to see your whole config, does seem a little high but I could be wrong.', 'Marcoskp-: Here you go:  \n\n\n    mqtt:\n     host: host\n     user: user\n     password: password\n    \n    go2rtc:\n     streams:\n     Social: rtsp://user:password@192.168.15.2:554/cam/realmonitor?channel=5&subtype=0\n     Portao: rtsp://user:password@192.168.15.2:554/cam/realmonitor?channel=2&subtype=0\n     Frente: rtsp://user:password@192.168.15.2:554/cam/realmonitor?channel=1&subtype=0\n    \n    ffmpeg:\n     hwaccel_args: preset-vaapi\n    \n    cameras:\n     Social:\n     ffmpeg:\n     inputs:\n            - path: rtsp://user:password@192.168.15.2:554/cam/realmonitor?channel=5&subtype=0\n     roles:\n                - record\n                - detect\n     detect:\n     width: 1920\n     height: 1080\n     fps: 5\n     stationary:\n     interval: 0\n     threshold: 40\n     objects:\n     track:\n            - person\n            - bicycle\n            - motorcycle\n            - car\n     mask: \n            - 1920,310,1920,0,1393,0\n     #filters:\n     #person:\n     #  threshold: 0.60\n     #car:\n     #threshold: 0.60\n     #min_area: 13000\n     #max_area: 65000\n     motion:\n     threshold: 45\n     contour_area: 35\n     mask:\n            - 1920,0,1920,130,1829,375,1731,110,1678,0\n     improve_contrast: false\n     zones:\n     zone_calcada_social:\n     coordinates: 1550,570,1063,78,865,49,681,125,803,1080,1920,1080\n     objects:\n              - bicycle\n              - motorcycle\n     zone_calcada:\n     coordinates: 1067,78,700,93,769,380,1376,347\n     objects:\n              - car\n     zone_portao_social:\n     coordinates: 372,0,871,652,982,1080,0,1080,0,0,207,0\n     objects:\n              - person\n     Portao:\n     ffmpeg:\n     inputs:\n            - path: rtsp://user:password@192.168.15.2:554/cam/realmonitor?channel=2&subtype=0\n     roles:\n                - detect\n                - record\n     detect:\n     width: 1280\n     height: 720\n     fps: 5\n     stationary:\n     interval: 0\n     threshold: 40\n     objects:\n     track:\n            - person\n            - bicycle\n            - motorcycle\n            - car\n     filters:\n     car:\n     threshold: 0.56\n     min_area: 130000\n     motorcycle:\n     threshold: 0.65\n     person:\n     threshold: 0.68\n     min_area: 10000\n     min_score: 0.45\n     motion:\n     threshold: 25\n     contour_area: 30\n     mask:\n            - 783,38,982,540,888,720,1280,720,1280,0,735,0\n     improve_contrast: false\n     zones:\n     zone_calcada:\n     coordinates: 0,541,0,720,339,720,356,454,819,433,884,0,286,0\n     objects:\n              - bicycle\n              - motorcycle\n              - car\n     zone_portao:\n     coordinates: 394,720,1051,720,921,138,846,0,743,0,682,270,498,318,444,432\n     objects:\n              - person\n     Frente:\n     ffmpeg:\n     inputs:\n              - path: rtsp://user:password@192.168.15.2:554/cam/realmonitor?channel=1&subtype=0\n     roles:\n                  - detect\n                  - record\n     detect:\n     width: 1280\n     height: 720\n     fps: 5\n     stationary:\n     interval: 0\n     threshold: 40\n     objects:\n     track:\n              - person\n              - bicycle\n              - motorcycle\n              - car\n     mask:\n              - 493,0,788,0,791,278,565,234,438,210,184,315,86,271,0,297,0,0\n     motion:\n     threshold: 25\n     contour_area: 30\n     mask:\n              - 1280,0,1280,219,0,150,0,0\n              - 0,0,519,0,517,216,0,296\n     improve_contrast: false\n     zones:\n     zone_calcada:\n     coordinates: 281,434,0,477,0,720,907,720\n     objects:\n                - bicycle\n                - motorcycle\n                - car\n    \n    \n    snapshots:\n     enabled: True\n     bounding_box: True\n     required_zones:\n        - zone_portao\n        - zone_calcada\n        - zone_calcada_social\n        - zone_portao_social\n        - zone_calcada2\n     retain:\n     default: 3\n    \n    record:\n     enabled: True\n     retain:\n     days: 0\n     events:\n     required_zones:\n          - zone_portao\n          - zone_calcada\n          - zone_calcada_social\n          - zone_portao_social\n          - zone_calcada2\n     pre_capture: 5\n     post_capture: 5\n     retain:\n     default: 3\n    \n    detectors:\n     coral:\n     type: edgetpu\n     device: usb\n    \n    birdseye:\n     enabled: False', 'nickm_27: okay, that seems reasonable for running on 1920x1080', 'Marcoskp-: Ok! Thanks a lot! Also, any reason my GPU wont go higher than 10%  for both hwaccel\\_args h264 and vaapi?', 'nickm_27: Because it’s not using that many resources?', 'Marcoskp-: Oh, that makes sense. I thought the GPU would take most of the processing and leave just a bit to the CPU. I added 4 more 1080p cameras and now the GPU is running at 16% and the CPU at \\~55%. I imagined that I would suffer more by adding more cameras, since the low CPU values increased when adding the coral, but it turns out my system is way more stable now, and this is miles better than low CPU numbers but many high peaks.  \nThanks for your help!']"
1682351875.0	24-Apr-2023 08:57:55	Lutron Caseta, Pico Remotes, and interesting behavior	IroesStrongarm	1	12xn9t7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xn9t7/lutron_caseta_pico_remotes_and_interesting/	"So today I just discovered an interesting bit of how the Lutron Caseta system seems to communicate with its switches and remotes and thought I'd share it here.  Let me start by saying that I know I have my hub  in the worst place possible, which is in my basement on the complete far end from my bedroom, but I like it there.

I have had in my bedroom for some time now two Caseta switches.  One for the main lights, and another for the ceiling fan.  I have a Pico remote for each as well and they are on the Lutron 2 remote pedestal.  No problems.

Very recently I added two Hue bulbs to the night stands, and paired another Pico remote to control those two.  It was for the week just sitting loose on the night stand, again, no problem.

Yesterday I ""upgraded"" (don't judge me for overspending on the pedestal, but secretly go ahead and judge me for it) to the 3 remote pedestal.  I put the nightstand remote in the middle.  Lights aren't working.  The other two work fine.  Seems the two remotes on the outside block some of that signal from the center one (I'm sure this works fine with a properly placed hub).  I swapped the fan remote to the inside and the nightstand to the outside.  Nightstand works and fan works.  I assume all is good and move about my life.

I have an automation at night time that if I turn on the ceiling fan it'll turn off after 30 minutes.  I turned it on and went to bed.  About an hour or so later I woke up and it was still on.  I turned it off, but thought it strange.

This morning I checked the logs and it never registered the fan on at all.  I flipped the fan on and off again but from the wall switch, HA sees it.  I do it from the remote, fan turns on but nothing in HA.  I separate the remote from the stand and now HA sees the activity.

As I can gather, it seems Lutron does pair the remote directly to the switch, but for status update it relies on the remote to talk to the hub directly.  Also note that I checked the status in the Lutron app as well, not just relying on HA.  Seems weird it doesn't check the status of the actual switch when flipped, but thought I'd share this info in case it is ever useful to anyone.

I've since gone back to my old 2 pedestal and a separate 1 pedestal stand. I got a refund so now you can only judge me slightly less."	0	[]
1682351123.0	24-Apr-2023 08:45:23	Frigate Question: Different retention times for All and Motion recording options	naynner	4	12xmemi	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xmemi/frigate_question_different_retention_times_for/	"I'd like to retain all video for 2 days, but also retain motion for something longer like 7 days. As far as I can tell from the docs you can only choose one of the config options (I'm already retaining events for longer).

I have high traffic areas excluded from motion detection but would still like to review 24/7 recordings of them if necessary. I *could* get a larger SSD (currently on 500GB with 9 various cameras) but I'm trying to avoid that for now. 

Apologies if this has been covered somewhere but I couldn't find it."	3	"['nickm_27: Not currently supported, there’s a pinned feature request for this https://github.com/blakeblackshear/frigate/issues/2590', ""egoalter: I solve my video features by using Zoneminder externally to HASS and then have it use the integration. If/when I need to see recording events I head to zoneminder. It has all the smart/needed camera features, and I can still see the live cameras in HASS dashboards including basic event status information.  Zoneminder also supports basic zone painting for motion detection, parameters etc - so for me it's better to use a tool meant to do that, than expected more and more advanced parameters to be in a single tool."", 'naynner: Ah, didn’t see that. Thanks! I’ll keep an eye on that request']"
1682349784.0	24-Apr-2023 08:23:04	Hi The push notifications on the Reolink integration is that for the Home Assistant app or the Reolink app ? I am using an automation to toggle this which is changing in the Home Assistant app but the Reolink app settings don’t change.	Stuartyboy75	1	12xkw83	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xkw83/hi_the_push_notifications_on_the_reolink/		4	"[""TotalyNotAMurderer: Not 100% sure myself to help with your situation.\n\nI would have thought the push notification toggle under the specific camera entity in HA would be for the reoling app push notifications.\n\nPersonally, I just installed a reolink setup and am fine tuning it all still.   I have turned off all the push notifications for the reolink app and have person detect notifications sent to me on Telegram via HA.\n\nI used to have HA send me notifications directly when  my motion sensing light detected motion but, this would often come through with multiple minute delays, not ideal.   So far, using HA to send notifications over Telegram seems more instant.\n\nOther info if it helps or not:  I've set up some toggle buttons (helpers) in HA to control different parts of my notification automations (front door, garage, driveway etc).  I have a button on my wall switch by the front door that disables notifications for front door and garage while I'm doing work in the garage, it still leaves notifications on for the driveway.  If I forget to turn it back on, when I leave home (gps) it triggers all notifications back on.\n\nI have set up timers for each notification location (garage, front door etc)  so when it first detects a person at the door it will send me a notification and also start the timer (20 sec).  Then if it keeps detecting  a person, for the next 20 sec those notifications will come through silent.  A great way to not be getting a thousand notifications dings every minute.\n\nAnother reason I'm in favor of using Telegram is that I'd like to try sending snapshots of the person detect with notification in the future.. if I can figure that on out.. if it's even possible.."", 'Stuartyboy75: Hi\n\nThanks for the response i am looking to move away from the Reolink app so i can control it from Home Assistant. I didnt know you could use Telegram with Home Assistant i have only been using it for short term and learning everyday.\n\nReolink has the scenes but i want to automate these if i forget to put them on and leave the house when my phone drops off the wifi it triggers the automation but i thought it was going to change the Reolink toggle.\n\nWanted to also see how reliable the notification where from Home Assistant before i trust it completly.\n\n&#x200B;\n\nStuart', ""TotalyNotAMurderer: I used this video to get the basics of Telegram notifications set up [Video from the 23 minute mark](https://youtu.be/tsuWrXErWGI).\n\nSounds like you're setting it up much like I have mine, all notifications coming from HA (one way or another) and then automations/scene to activate/deactivate certain areas with HA.  Bloody handy once up and running.   \n\nOnly thing I used the reolink app for now is to live view the cameras and play back."", 'Stuartyboy75: Yeah sounds like it want all devices under one app. Thanks for the link. \n\nNext will see if I can get live feed to phone. I have it pop a web browser on a tablet which brings a live view which I can see in my living room saves me lifting my phone.']"
1682349345.0	24-Apr-2023 08:15:45	Building a Brewery Dashboard in Home Assistant	DerBakbanaan	1	12xkdwo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xkdwo/building_a_brewery_dashboard_in_home_assistant/	"Hello fellow Home Assistant crowd!

I am working on setting up a dashboard for my home brewery and would greatly appreciate your advice. My goal is to create a dashboard that can display information from various sensors and, in the future, control automations such as pumps.

I've considered using BrewPi, but I prefer Home Assistant for its compatibility with different switches and sensors.

Before I dive into one of the three options I've identified, I would like your input on which one would be the most suitable for my needs (or maybe some fourth option I've missed):

**Option 1:** Webpage-card or Picture Element Card. This option involves creating a locally hosted HTML, CSS (and JS) webpage and embedding it in a Webpage-card or Picture Element Card. I would then use JavaScript to update the information using sensor data and control automations.

**Option 2**: External Website (Online or Local Webserver). In this approach, I would create a website (either online or locally hosted) and include it in the dashboard. I could then communicate with the website using GET and POST actions for updating information or starting automations. The advantage here is the ability to use a powerful server-side language like PHP and easily update the layout (e.g., with a MySQL database). Is it possible and advisable to update information through a REST API, for example? I could use Node-RED to easily update the actual information on the website.

**Option 3**: Picture Elements Card (Floorplan Style). The third option is to use a Picture Elements Card, similar to a floor plan. However, positioning everything is quite difficult, and certain CSS-style-options are unavailable. The main issue with this option is the very long YAML which is difficult to update for new devices (like fermenters)

Which of these options do you think would be the best for my home brewery dashboard? Are there any other options or resources that you think would be helpful? I'm open to any suggestions and tips to make this project a success. Cheers!

&#x200B;

&#x200B;

[I'm using NODE-RED to update some sensors, so I could also update server-side information this way](https://preview.redd.it/uyvqo29onuva1.png?width=1714&format=png&auto=webp&v=enabled&s=01638a2c6a62160c82791d17dd72b7e2d589569d)

  


[A few of the cards I used to test all the information](https://preview.redd.it/uh7cs1pqnuva1.png?width=1028&format=png&auto=webp&v=enabled&s=aaecd0418ac8f2220d5a3eb8a7c858821c4a35cc)

&#x200B;

[I used a Picture Elements Card to combine this Pixel Art fermenter with the sensor information of the current temperature. The goal is to have a overview of the 'brewery' using more of these icons.](https://preview.redd.it/bs843pitnuva1.png?width=302&format=png&auto=webp&v=enabled&s=dd42cf18a0b0087f4e797fe55520a18b7247b2f7)

&#x200B;

Thanks in advance for your help!"	10	"[""joke-complainer: I've done this! I don't have a lot of advice for you, but if this helps, here's some inspiration from my setup 🙂\n\n[Fermenter Control Page](https://i.imgur.com/VGedOPH.png)\n\n[TV over the fermenters with data](https://i.imgur.com/e6T7JAn.jpg)\n\nI also have two homemade weight sensors that sit under my kegs and sync with Taplist.io then display it in a tablet on the kegerator. \n\nGood luck, please post with what you come up with so I can steal your good ideas!"", ""yycTechGuy: I am a brewer and I do industrial controls for a living.\n\nHonestly, I'd just build your GUI yourself.  There are lots of JS libraries for displaying data these days.  Once your data is available on your network, it is pretty easy to connect the data to a web element of your choosing.\n\nHA might do everything you need.  But someday it won't.  At that point you'll wish you had programmed it from scratch.\n\nThe easiest way to get data from a control on your network is with UDP over a websocket, if your device supports web sockets.  \n\nOnce you get the data in the web browser it is very easy to display."", ""DerBakbanaan: That looks awesome!\n\nCan you tell me a bit about how you handle the back-end? I see a 'fermentation steps'-button and heating plus cooling options. Right now, I'm using a non-smart device for temperature control, but I'm working on integrating it into HA.\n\nBased on [yycTechGuy's advice](https://www.reddit.com/r/homeassistant/comments/12xkdwo/comment/jhj4q9q/?utm_source=reddit&utm_medium=web2x&context=3), I'm brainstorming on how to connect an external webpage to HA. I'm thinking of using the WebSocket API and then extracting and processing the JSON server-side.\n\nI've got some more stuff running on a webserver, like my inventory that I update after importing a brew from Brewfather (since it doesn't support bottling-container inventory). It'd be cool to have my entire brewery setup together in one place.\n\n&#x200B;\n\nhttps://preview.redd.it/tnboipkek1wa1.png?width=1322&format=png&auto=webp&v=enabled&s=3c6e1f15d327212880fbae11766b034350dc5e4a"", ""DerBakbanaan: Thanks you for your response. I appreciate your insights as a brewer and someone experienced in industrial controls.\n\nI'm leaning towards scripting the GUI myself, as you've suggested. And I think keeping it separate from Home Assistant is a smart move. However, I still need HA to handle connecting and exposing the devices I'm using.\n\nDo you have any advice on suitable libraries for a situation like this? I'd love to hear your recommendations."", ""joke-complainer: I built my own brewery controller using ESPHome. Those buttons are scripts that set the thermostat mode and temp on the device, which uses relays to turn on heating/cooling.\n\nThe specific gravity is gathered via an iSpindel. \n\nAll the data is compiled in the graph. \n\nOn the backend, I have a few automations.\n\nOne imports the Brewfather recipe with fermentation steps. I use this to automatically change the temperature per the schedule in Brewfather. \n\nAnother sends alerts when I've reached estimated FG or if gravity is stable for 24 hours. \n\nThe final one is just various alerts for temperature out of limits, going offline, temp probe heartbeat, etc. \n\nI do well with GUI scripting and maybe some complex YAML. The stuff you're planning sounds complex to me and so I just stick to what I know! Maybe one day I'll run into a limitation because of Home Assistant, but so far I have not. \n\n[Brains of my fermenter controller](https://i.imgur.com/gzMjDVz.jpg)"", 'yycTechGuy: What devices are you connecting to ?  What interface do they use ?  \n\nThe great thing about HA is that if it connects to them you have access to the code it uses.', 'DerBakbanaan: Wow, your brewery controller setup is awesome! I really like how you built the ""brains"" of your fermenter controller yourself.  \n\n\nTo be honest, I\'m not so good with the technical stuff, so I\'m focusing on using different off-the-shelf parts and linking them together with code. I\'m curious, do you use the built-in automation interface for your automations, or did you script it yourself?\n\n  \nI\'ve been using NODE-RED as an interface and I\'m pretty happy with it, both for how it looks and its scripting possibilities. I\'ll definitely keep this thread updated with my progress as I continue on this journey.  \n\n\nLooking forward to learning more from you and others in the community!', ""DerBakbanaan: Hey, thanks for your reply! I'm currently using a mix of devices in my setup, such as TRÅDFRI and Shelly smart plugs, temperature sensors from Shelly, and the NODE-RED-Brewfather API to gather information about the brew. The flexibility of this system is great, as it allows me to add or modify devices as needed over time."", ""joke-complainer: Due to the limitations of the m Home Assistant automation GUI, I ended up scripting most of it myself. \n\nIf I had to do it again, I would absolutely start in Node Red. At the time, I did not have an easy way to connect the two due to some networking issues I had. \n\nNode Red is the way to go. Far more powerful and can be done almost entirely visually instead of YAML coding. \n\nI'll be interested to see what you come up with! I'm always looking for good ideas to make my brewery smarter and easier!"", ""joke-complainer: Oh, another thing... Node Red has an AWESOME Brewfather integration. So if you use Brewfather and Node Red, you're in a good place to set up automations based off the recipe/data in a batch.""]"
1682348425.0	24-Apr-2023 08:00:25	Simple Garden House Control	varano14	3	12xjae6	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xjae6/simple_garden_house_control/	"I would like to set up the option to remotely control the watering of my vegetable garden with the possibility of automating it down the road. The automation is easy with home assistant but its the hardware I am stuck on.

Just about all of my searches returned people suggesting the various lawn irrigation controllers which seem like overkill for what I am doing. I am running 1 sprinkler head so I just need to be able to turn on/off the water supply to it. I don't need zones and have zero plans or need to add them.

I do not currently have a dedicated hose bib for this but have the skills and space to add one if required. Unfinished basement so adding a supply line is no issue.

Local control (zigbee or zwave) greatly preferred, I have Bluetooth set up as well. Wifi would be my last resort.

So anyone doing something like this or have any suggestions for me?"	11	"['minionsweb: Orbit bhyve?\n\nI use 5 valves to automate drip irrigation & rain barrel refill in dry weather.', ""lastingd: One of these:\n\nhttps://www.amazon.co.uk/Pmandgk-ESP32-WROOM-Development-Appliance-Accessories/dp/B0BRZ226Z1/ref=sr_1_3?crid=36OZWDKL2CNIR\n\nAnd one of these:\nhttps://www.amazon.co.uk/Normally-Solenoid-Plastic-Electrical-Dispense/dp/B07M6Z59VD\n\nAnd use ESPHome to do the rest.\nhttps://devices.esphome.io/devices/Generic-Relay\n\n\nBoth devices I've linked on Amazon can be foudn on aliexpress MUCH CHEAPER.\n\n/tl;dr I have an six valve system setup using something like this:\n\nhttps://www.amazon.co.uk/ILAME-Bluetooth-Compatible-Eight-Channel-ESP32-WROOM-Development/dp/B0BZLD63BK/ref=sr_1_46?crid=30NQWEPL45KA&keywords=esp32+relay&qid=1682360157&sprefix=esp32+relay%2Caps%2C83&sr=8-4"", '400HPMustang: [Zigbee Hose Timer](https://www.amazon.com/dp/B09TP86CKY)', ""_tedi_: I'm using 2 different ZigBee Watering Timers, both of them working nicely without any issues:\n\n[https://wooxhome.com/products-c10/other-c4/woox-r7060-smart-garden-irrigation-control-p61](https://wooxhome.com/products-c10/other-c4/woox-r7060-smart-garden-irrigation-control-p61)\n\n[https://zigbee.blakadder.com/Lidl\\_HG08675.html](https://zigbee.blakadder.com/Lidl_HG08675.html)"", 'varano14: How are you interfacing it with home assistant the individual valve appears to be bluetooth only and the github only lists the wifi products.', 'devnul73: Similar to this but zigbee instead of ESPHome/Wifi:\n\nUse a solenoid and this: \nhttps://www.amazon.com/MHCOZY-Adjustable-Selflock-Momentary-SmartThings/dp/B08X218VMR', 'varano14: That looks promising I definitely like the idea of zigbee vs wifi', ""minionsweb: I'm not yet.\n\nJust about to set up ha for my 1st time\n\nHome office is last piece to be put back together after a 1st floor renovation, it's been a temporary wood shop & staging area.\n\nThey are wifi too, using their dongle as a gateway.\nYes I saw your not preferred way.\n\nWas just throwing it out there since I know it's accessible Bluetooth & wifi."", ""varano14: Appreciate the suggestion non the less. Price wise they are reasonable so I don't mind wifi if I can't find anything else that works."", 'minionsweb: Overall, I like them.  I suspect interfaced they could be better controlled than the bhyve app, which I find clunky & confusing at times.', 'varano14: That’s the reason I try to get as much as I can into home assistant. Many apps are underwhelming compared to the actual product.']"
1682348303.0	24-Apr-2023 07:58:23	Database migration to mariaDB	frankrice	2	12xj597	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xj597/database_migration_to_mariadb/	"Hi.

In the past mariaDB was the best alternative for the database storage on HA. I've read recently that the developers made huge performance improvements on the sqlite part and now the performance is maybe similar (?). I had a database consistency error (sqlite) and decided to migrate to mariaDB, is that a mistake? Should I stick with sqlite? Maria is still better?  
thanks."	1	['ZAlternates: Either is fine. \n\nHowever there is no need to move to mariadb/mysql like the old days. Nothing wrong with using it though and you’d probably see a performance gain when/if the db gets super large.']
1682347907.0	24-Apr-2023 07:51:47	Stuck on mobile dashboard on pc?	hermy65	2	12xip9k	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xip9k/stuck_on_mobile_dashboard_on_pc/	Running into a weird issue where on my desktop browser or on my wall tablet my dashboards get stuck in a mobile view where it only shows one column vs the normal view which would be 3-4 columns. Usually doing 1 refresh wont fix it but after the 2nd-3rd one it reverts back to the normal view. Any idea what is happening here?	2	['ReallyNotMichaelsMom: No idea, but what layout are you using? If you switch to a different layout (like horizontal or something), do you still  have the same issue? \n\nIs it repeatable? Does it happen after updates or overnight?', 'hermy65: im using masonry layout - just happens randomly. I have a tablet on the wall that goes to sleep when motion isnt detected and refreshes on motion and probably 1 out of 3 times it goes mobile on refresh. My desktop browser is probably similar in 1 out of 3 times when the tab goes to sleep and i refresh it']
1682347442.0	24-Apr-2023 07:44:02	Any major difference between Coral USB vs mini PCIe?	louislamore	3	12xi5ym	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xi5ym/any_major_difference_between_coral_usb_vs_mini/	"I can’t find the USB and haven’t been able to for years other than from scalpers. It looks like the specs are pretty much identical on the USB and mini PCIe with a few minor differences: https://stackoverflow.com/questions/62536146/comparison-between-usb-and-mini-pcie-interfaces

Am I missing anything? I’m planning to get a dedicated NVR (probably Odyssey Blue) and run frigate."	10	"['nickm_27: Main difference is that usb is plug and play while pcie requires drivers. The pcie supports automatic thermal throttling while the usb doesn’t. They are also of course dependent on different busses so pcie based is usually marginally faster.', 'Warhawk988: USB is also for development and testing, where as the PCIE are built for production applications.', 'rourke750: Pcie is also half the cost!', ""droans: mPCIe also will likely require an adapter. It is technically faster, but it won't really make a difference for NVR usage. The USB version is already fast enough."", ""rourke750: Why would you need an adapter shouldn't it slot into any pci?"", 'louislamore: I think the Odyssey Blue has a slot. It’s sold as a bundle through Seed.', ""droans: It's miniPCIe, not regular. \n\nYou'll likely only find the slots on some laptops. Even still, most of those are designed for wifi cards and usually don't work with the Coral."", 'c0keaddict: They bundle it with the USB coral. I have the Odyssey Blue and was able to get a m.2 b+m key coral for it. No adapter needed.', 'rourke750: Oh, would it be better to get the m2 and an adapter for that to pcie', 'nickm_27: most likely']"
1682345756.0	24-Apr-2023 07:15:56	Looking for Quick and Efficient Keyless Entry Solutions	BrooklynCatDad	12	12xh8py	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xh8py/looking_for_quick_and_efficient_keyless_entry/	I've recently installed a smart lock and I'm exploring innovative ideas for keyless entry. Currently, I can unlock it through the HA Frontend on my phone, but I'm searching for something even faster. Do you think RFID or NFC tags could be a potential solution? Open to any suggestions and recommendations to make my smart home experience even more seamless!	20	"[""fortisvita: NFC tags work pretty well, and they are easy to set up on home assistant. You can buy some NFC stickers for less than a dollar each on Amazon. Just beware that they don't work on metal surfaces, if you have a metal door panel, stick it somewhere else.\n\nAnother solution is to automate the door opening when you arrive. This is obviously a risk if not done right. I built an automation that is triggered with me entering home zone, then it waits for my Wi-Fi to connect, then waits for a person detection on the video doorbell. It's a pretty specific sequence and if the conditions are met, I would definitely be at home, so I feel confident using it."", 'Confident-Win-1548: Fingerprint with Esphome', ""Lectere: I have fingerprints for 3 years now. Few big plusses; you cannot forget them, you can't pass them to others, you can configure time based access depending on the person, and it can be easily revoked, hard to copy. Big minus, sometimes doesn't recognize your print, specially when hands are damaged."", 'bra1nphuk: The “Grow R503” is an awesome capacitive Fingerprint reader that is cheap, waterproof, has RGB LEDs, and can be used to start different actions depending on what who or which finger has been used! \nFor my Front door I just use a “Nuki” door lock which also has a finger print sensor as an accessory, but my garage door and post box are opened using the R503 using ESPhome.', 'tvoided: Homekit when first person arrive / when last person depart automation lights up a mock light.  HA activates the lock. Dont even need to touch anything and your door is locked when you are away.', ""AdvisedWang: Do be careful with cheap nfc tags. They can be cloned as they are just static data. Maybe that's fine for your application but you should be aware.\n\nProfessional keyless entry system use solutions like mifare desfire nfc chips or protocols besides NFC. I don't know whether these can be interested into home assistant."", 'Junior-Appointment93: I have a smart lockly smart lock from Home Depot. You can punch in the code or use Bluetooth from the app. I have it set to automatically lock as soon as the door closes.', ""lakeland_nz: I have an old Schlage Sense lock.  We used to have it integrated via the Apple ecosystem but now the only way to add/remove/change codes is via an old iPhone and BT.\n\nAnyway it works pretty well - everyone understands keypad entry.  I find entering a code to be just as much effort as getting my phone out and it doesn't require people to be carrying anything.  It's also much easier to give out a code to someone than giving out a RFID fob.  It's also reasonably well designed, with a key backup and a flashing LED for when the batteries need recharging.\n\nThe only three things its missing are: integration beyond BT range or with Android, auto-unlock if a trusted device is very close, and disable auto-lock when the door is left open."", 'BlackReddition: I have the Apple Watch integration working well, you get a complication on your watch which opens the interface for the automations and you can scroll and tap. I have this for anything I might need to operate manually.\n\nI also have black NFC tags around the house too.', 'tungvu256: i use NFC. easy to set up as seen here [https://www.youtube.com/watch?v=XIbmHYT\\_4F0](https://www.youtube.com/watch?v=XIbmHYT_4F0)', 'meshmeld: You can also do a simple when entering home zone + short delay about average time it takes you to get to the door. Make sure to also add an automation to lock the door once you leave the home zone. This at least makes sure the door is secure again and does not require you taking your phone out. \n\nAdditionally. Automation to notify or relock the door if left unlock for more then x mins (5 in my case). \n\nSimple effective and it’s been about four years since I had to manually unlock my door. \n\nBonus make sure to add notification on the lock battery getting low. So you know to change it. Most locks only notify you on lock or unlock event that the battery is low and if you are never next to it thanks to above notification…', ""Tatermen: > you can't pass them to others\n\nMe and my garden shears [say otherwise!](https://www.newscientist.com/article/mg18624943-600-finger-chopped-off-to-beat-car-security/)"", ""BrooklynCatDad: Can you word that first sentence differently? I skimmed your profile, you clearly know home automation stuff, but I just can't follow how the automation works at all. Not tryna be a d*k at all"", ""fortisvita: NFC being cloned is pretty irrelevant. Someone clones my NFC tag and all they will get is some gibberish string. That data needs to be sent to homeassistant, with a device that is already logged into your account to actually trigger the automation.\n\nEdit: Just to clarify, I'm referring to a stationary NFC tag, activated by a phone/home assistant companion app. If there's a reader at the door, and the user is carrying the tag, yes, I agree that's not secure."", ""fortisvita: > You can also do a simple when entering home zone + short delay about average time it takes you to get to the door \n\nI'm well aware I can make it simpler, but I just don't want it to be. I'm more comfortable placing several checkpoints for something as critical as a door lock."", 'Beginning_Feeling371: Wow, you’re brave', ""Joeyprc: Homekit (apples home automation software on iphones and homepods etc) can make automations based on when your phone shows as home in the homekit environment and it's worded exactly like they have it above , you can make a mock light in HA under the helpers section in the device area where you would add a new integration and homekit would turn that light on when whatever phone the automation is attached to changed status. HA would monitor that light and change the lock accordingly (light on /lock -light off/unlock or vice versa)."", ""AdvisedWang: Yeah I had the latter in mind, but if you can accept this only working for ppl with home assistant app then it's a great solution. (Which is likely, as the device probably has a code or whatever for others)"", 'tvoided: Yep exactly. Look at HomeKit automation  you can find a event based trigger when someone going in and out of a location. The top of the list when you add automation on your iphone. Can be your home or anything else and use it to light up a light  then trigger what you want from HA automation based on the status of that light. The only down side is the homekit triggers it when you are about 100m away so it might be not ideal if you live in an apparent', 'Joeyprc: Side note to see anything outside of your home wifi with homekit you need a Homepod or apple tv as a homekit hub.']"
1682345212.0	24-Apr-2023 07:06:52	Ideas for garage gang box with ethernet	muddro	0	12xgynw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xgynw/ideas_for_garage_gang_box_with_ethernet/	"Sorry for the vague title, but I am looking for ideas on what I can do with a old single gang box in my garage that has some cat5e rinning to it. It used to be a landline phone by the previous owner, but I am converting all the outlets and wires to ethernet ports. 

For this one, I was wondering if anyone had any ideas of something that ran on POE that would fit in a gang box and be useful, perhaps some type of sensor or maybe a camera."	2	['kunigit: Of course there are tons of PoE cameras, but you could also run almost anything 5v if you can fit a PoE 5v USB splitter ([example](https://www.amazon.com/dp/B073P7J1KR)) in the box or nearby.\n\nI think there are even ESP32 boards with ethernet (maybe PoE?). That could open up the whole world of ESPHome sensors without having to worry about power. Of course, you could still run a standard wifi/bluetooth ESP32 and just power it with a splitter.', 'emuhack: [https://wesp32.com/](https://wesp32.com/)']
1682344793.0	24-Apr-2023 06:59:53	How can i write into this?	Rangandi	2	12xgqye	homeassistant	https://i.redd.it/688qzs5tqvva1.jpg		3	['litemostlikely: You are probably using safari. Just swap to chrome to edit settings.', 'Rangandi: Thank you, that worked', 'litemostlikely: No problem!']
1682344727.0	24-Apr-2023 06:58:47	Door sensor showing on/off (in English) on Desktop PC, but open/closed (in German) on Mobile. Both logged in with the same user, same frontend language (German) - What could be causing this?	carlinhush	3	12xgpt9	homeassistant	https://i.redd.it/brf5flar8uva1.png		10	"[""teachers_petgoat: What about something like this:\n\n    type: custom:mushroom-template-card\n    primary: |-\n      {% if is_state('binary_sensor.sensor_tuer_contact', 'on') %}\n        Offen is\n      {% else %}\n        Zu is\n      {% endif %}\n    secondary: Garagentor\n    icon: mdi:garage-open\n    icon_color: |-\n      {% if is_state('binary_sensor.sensor_tuer_contact', 'on') %}\n        orange\n      {% else %}\n        grey\n      {% endif %}"", 'RedactleUnlimited: Your browser sends language headers in each request. Maybe your devices are sending different languages.', ""amraohs: Shouldn't it say 'open' and not 'on' in english? Almost think the used type is not available on desktop, but don't think thats possible? Do you have the yaml for this, maybe that would give a clue."", ""rafe101: I don't know how it's getting the text on mobile, but the on/off seems that it's simply the states returned from the sensor. You would have to have some code to rename the states"", 'unisit: Does it work correctly if you use incognito mode in your browser? Could be a cache issue then', 'carlinhush: Thanks! Actually I use this card inside a conditional card, so it only shows when the door was left open', 'carlinhush: Nothing fancy, just a simple card:\n\n```\ncard:\n  type: custom:mushroom-entity-card\n  entity: binary_sensor.sensor_garagentor_status_contact\n  fill_container: true\n  name: Garagentor\n  icon: mdi:garage-alert-variant\n  icon_color: red\n  primary_info: state\n  secondary_info: name\n  tap_action:\n    action: none\n```', 'carlinhush: Good idea, will look into it', ""teachers_petgoat: ignore some of the stuff and use only primary to set the correct state which will not be translated\n\nedit: if its only shown conditional, you can even use just title. you don't need an entity ;-)"", ""amraohs: Same 'error' on a default entitycard?""]"
1682343246.0	24-Apr-2023 06:34:06	Anyone else having to reenter their Honeywell password every day?	ThisBytes5	2	12xfzlm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xfzlm/anyone_else_having_to_reenter_their_honeywell/	"&#x200B;

https://preview.redd.it/a5jiyt2n4uva1.png?width=270&format=png&auto=webp&v=enabled&s=dd9c13c6c75db9bff7f191e8979c6ba68f152fb6"	7	"[""Alex3M3TI8: The Dev wrote a bug fix for it and it got approved for merge last week.\n\nhttps://github.com/home-assistant/core/pull/91228\n\n\nUnfortunately, it didn't make it into 2023.4.5 or 2023.4.6.  Hopefully the fix gets merged soon. Not currently listed as part of 2023.4.7 yet. \n\nhttps://www.reddit.com/r/homeassistant/comments/119y9hk/comment/jhfepjy/?context=3"", 'Konig1469: Yeah it just started happening to me.  My guess is that Honeywell is limiting API calls or something.', 'BoozeMakesItBetter: Yup. Same here.', 'Queasy_Reward: I have the same issue every night.  I automated an HA restart every day at 5am and that seems to keep it from impacting me.', 'davidr521: Geeeeeeez - glad I found this. Thought something was borked on just my install.', ""ThisBytes5: Glad there is a bug fix, but that sucks it won't get in for a while! Especially through the hot summer months in FL!\n\nThanks for the info"", ""Alex3M3TI8: Looks like it's coming for sure in 2023.05 which is in one week.\n\nhttps://rc.home-assistant.io/changelogs/core-2023.5\n\nSearch for 'honeywell' and you'll see two PRs that the dev put in.""]"
1682341946.0	24-Apr-2023 06:12:26	Can't get HA to setup Envisalink	RoachForLife	1	12xfc4i	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xfc4i/cant_get_ha_to_setup_envisalink/	"Hi all, so tried HA the other day just to see what it can do, and already thrilled with the capabilities. One area I am struggling with is with my Envisalink EVL4 unit. I followed the simple configuration.yaml settings outlined on their site here [https://www.home-assistant.io/integrations/envisalink/](https://www.home-assistant.io/integrations/envisalink/)

&#x200B;

When I reboot HA I get the following. 

 **2023-04-24 09:04:30.720 ERROR (MainThread) \[pyenvisalink.envisalink\_base\_client\] The server closed the connection. Reconnecting...** 

&#x200B;

I confirmed I can go to the IP directly and connect with user and pass. Although only the EVL3 needs a 6 character password I made mine under 6 for testing (FYI). Here is a sample of the config file. I also made all of the names match what is being used when I log into the normal Web interface

 

envisalink:  
 host: x.x.x.x  
 panel\_type: DSC  
 user\_name: user  
 password: pass  
 code: ""1111""  
 port: 4025  
 evl\_version: 4  
 keepalive\_interval: 60  
 zonedump\_interval: 30  
 timeout: 10  
 panic\_type: Police  
 zones:  
 1:  
 name: ""Front Door""  
 type: ""opening""  
 2:  
 name: ""Dining Room Window""  
 type: ""opening""

partitions:  
 1:  
 name: ""Home Alarm""  


&#x200B;

There isnt much to it so not sure what I am missing. Do I have to enable some setting on the EVL4 to allow it to connect outside of itself? I tried called Envisalink just now and they said they cant offer any help. Anyhow, any thoughts would be great. Thanks!"	11	"['gpb500: Also, you might want to look at the new rewrite for this, envisalink\\_new by the same dev.  It\'s gone through full testing and is only ""pending"" migration due to time constraints and requirements from the core HA team.  You can find the documentation here.  The migration is probably going to be a while...it\'s explained in the discussion thread.\n\n[https://github.com/ufodone/envisalink\\_new](https://github.com/ufodone/envisalink_new)', '949BFN: If you have a previous integration e.g. with Smartthings, make sure that the previous integration has been shut down/disconnected. The EVL4 only allows one connection at a time. It took me hours to realise that.', ""Destructtor0: I don't know know if this is helpful but I moved from one HA to another HA (manual reconfiguration) and i couldn't get the alarm to connect.  envisalink will only accept one remote connection at a time.  I turned off my old HA server and the new one connected fine."", 'RoachForLife: Also I left the default port of 4025, perhaps that needs to change. Unsure what the port might be if something else though', 'RoachForLife: Thanks all for the speedy feedback (as mentioned Im only a few days into my HA journey) and loving the community support for us newbies!\n\nSo I got this working and it was so dumb I almost dont want to post. I had thought my unit was from DSC when in actuality it was the HONEYWELL option. I forgot when we got a new unit 5 years back they switched the brand. A simple change to the config got it all working. Doh!!', ""liveforlaughs76: As long as your zones are indented correctly (can't tell based on reddit formatting), your config looks identical to mine (although I have Honeywell). Does the EyezOn app work?"", ""TallEnoughJones: Mine has been working for years and it's almost identical to yours. I don't see anything that I have that you don't.\n\n    envisalink:\n      host: 192.168.x.x\n      panel_type: DSC\n      user_name: me\n      password: mypassword\n      code: xxxx\n      evl_version: 4  \n      zones:\n        1:\n          name: 'Bat Cave'\n          type: 'opening'\n      partitions:\n        1:\n          name: 'Home Alarm'"", 'gpb500: Since it’s Honeywell, I’d recommend using the new one I mentioned below since it makes it more robust and adds night stay.  You’ll need HACS but you’ll probably want that anyway at some point.  I’m reluctant new myself and HA is fantastic.  Cheers.', 'RoachForLife: Thank you I definitely will! Cheers', 'RoachForLife: Interesting, when I go to the Addons page and click to add a repository "" https://github.com/ufodone/envisalink\\_new "" it says its not valid. It says to do from Integrations but Im thinking maybe the layout changed not too long ago as now in the integrations page, the 3 dots only gives the option Application Credentials. Am I missing something? Thanks', 'gpb500: You need to install HACS first and in HACS you can add the custom repo.  There are videos on how to do this…or ask again if you get stuck.']"
1682341616.0	24-Apr-2023 06:06:56	SPOILER: Home Assistant will introduce a local TTS service called Piper	beatbrot	356	12xf66y	homeassistant	https://github.com/home-assistant/addons/blob/master/piper/README.md		156	"['XxNerdAtHeartxX: Ill be waiting for the Gavin Belson signed Home Assistant Yellow Boxes later this year too', 'beatbrot: Looks like they will be introducing local TTS via piper to Home Asistant. I suspect that this will be announced on the Year of the Voice Livestream on April 27th.\n\n[Here are some voice samples](https://rhasspy.github.io/piper-samples/)\n\nEdit: Upon further inspection: It looks like Home Assistant will provide a ""Wyoming"" integration that allows pluggable TTS and STT services. It seems like they are starting out with Piper for TTS and [OpenAI Whisper](https://github.com/home-assistant/addons/tree/master/whisper) for STT.', ""synthmike: Piper author (and Year of Voice guy) here. Glad to see people getting excited :)\n\nI'm happy to answer questions, though I do plan to leave a little mystery for the live stream on the 27th ;)\n\nListening to the samples, you may wonder why some voices sound so much better than others. Besides the audio quality (low/medium/high), it comes down to the type of data used to train. Many datasets come from LibriVox (free audio books), which is not ideal because people use different voices for the characters in the book. Narrators also read in a flowing style with rising/falling tones over multiple sentences, whereas the models are trained in single sentences. So you can get sentences that sound weird :/\n\nThe best open voice dataset I've found comes from Thorsten Müller and Dominik Kreutz: [https://www.thorsten-voice.de/](https://www.thorsten-voice.de/)  More datasets like these, and we would have awesome open source voices!"", 'Samm1293: Can’t wait to replace those echo devices', 'Catsrules: TTS = text-to-speech', 'NightPossumPete: Hope we can somehow leverage this in our Sonos ecosystem to replace Alexa.', ""SpencerDub: Combined with Assist and the upcoming [Voice Assistant](https://www.esphome.io/components/voice_assistant.html) component in ESPHome, it seems to me we are not far off from homebrewed and natively integrated smart assistants (to replace Alexa or Google Home devices).\n\nI know that's the goal of the Year of Voice, but it's exciting to see it taking shape."", 'ElectroSpore: I look forward to it, I have been using the external Google integration and while it works very well I have had so many issues with my actual Google Minis outside of HA I would like to fully remove all dependencies on google in the future.', 'I-am-that-damn-good: Is this a nod to Pied Piper?  And more importantly, does it use middle out? :)', ""ewlung: Great, I can't wait. 1 less Google thing is always good for me 😆"", 'shawnshine: The Ryan voice sounds great!', 'ListenLinda_Listen: This is it: https://github.com/rhasspy/piper', 'YeahRightBro: Can someone explain why this is a big deal in non-technical terms?', 'TECbill: &#x200B;\n\nhttps://preview.redd.it/u2k2okvdg1wa1.png?width=974&format=png&auto=webp&v=enabled&s=03e99ac1062d932a736749b29dec303c15450f13', 'dostick: What is TTS?', 'samuraipizzacat420: Pied Piper', ""MobileRelation6: And I'm here just waiting for a good speech to text option on HA"", ""FishScrounger: Seeing as Home Assistant is from the Netherlands, I'm looking forward to all of the *pijpen* jokes."", 'Grand-Chocolate5031: Can you make it sound like that tick tock lady? I love her voice.\n\nhttps://weilbyte.github.io/tiktok-tts/', 'danTHAman152000: Will this feature be free? I use Amazon Polly currently but I imagine I’ll like this better.', 'ColonelRyzen: Can the training take advantage of multiple 8G GPUs?', 'Krojack76: So how many of us are going to be using the Jarvis voice?', 'Evantaur: Made a [quick test drive](https://github.com/evantaur/pipertest/find/main) of the  `en-us-libritts-high` voice (as it was the only one with high quality) sounds ok at least if the only thing you want is to HA read poems for you... (btw i also did try the `en-gb-southern_english_female-low` but that got demonic quite fast )', 'cavedildo: ""Here\'s an example of where we could install one of your boxes""\n\n""Here\'s another example of where we could install one of your boxes""', '510Threaded: ""But thats....""', ""QueueWho: can't wait to have my own pipernet"", 'Joebidensthirdnipple: Its Bold.', ""Ulrar: That'd be pretty cool actually"", 'djgizmo: *Amber', 'wokkieman: Damn, they should bring them back', 'MeetLawrence: Funded by Russ Hanneman.  THIS BOX FUCKS.', 'donald_314: Wow. The German ones are surprisingly good. Except for the occasional weird intonation and some mispronunciations they sound like DLF speakers.', 'marcelock: The samples in english are great, but the portuguese one seems like a person learning how to read using a scientific paper as ABCs... Still impressive tho!', 'Not-An-Astronaut-69: Year of voice livestream? Where can I find more info on this\n\nEdit: nvm, found the link on the hass website!', 'Th3R00ST3R: I like the  en-us-libritts-high one', 'Buelldozer: What is a ""Wyoming"" integration?', 'Additional_Cook6785: Is there a way to provide voice data sets? I know some people that have amazing narrater voices.\n\nEdit: grammar', 'StarfishPizza: Silly question, but.. Can this be run on/made into a docker container image?', ""Surrogard: This sounds awesome, I'll have to look for the year of voice thing. Because I am very interested in TTS and voice recognition but don't want to add the typical spy devices...\nThanks for your work on that"", ""beatbrot: Didn't Mozilla collect voices a while ago? I think it was called CommonVoice"", ""inrego: Not sure if it's useful, but here's a great resource for Danish speech:\nhttps://github.com/fnielsen/awesome-danish"", 'beatbrot: Any estimation what the hardware requirements might be? :) Is a Pi 4 enough?', '999999potato: Will home assistant be able to cache the resultant Piper TTS audio? I’ve been considering setting up my system with Rhasspy but with the new version coming out I’ve held off.\nRight now I use the Google translate TTS plug-in with caching to output notification audio from different HA automations with a ESP Muse Mn Cast plugged into a cheap Bluetooth speaker. “Water detected in the utility room” and similar kinds of messages are really nice to be able to announce. It works fairly well but it would be great to cut Google out of the mix and retain functionality when the internet is down. I think the speed issue could be mitigated fairly well for my use case if caching is enabled and then I just test run each applicable automation.', 'DrClawski: how cool!\n\nare you planning to include SSML tags? To the engine allows multi language sentences? and is there a way to convert commercial tts voices to the onnx format? \n\nI appreciate your work though, and am looking forward to the official announcement!', ""tigole: Can we have Star Trek's computer voice (Majel Barrett) and Iron Man's Friday (Kerry Condon)?"", 'diagnosedADHD: Will this support ssml markup?', 'Aluavin: You can do already. Rhapsspy is working perfectly already in a multitoom setup including roomawareness', ""nobody2000: What's the best way to go forward on removing my voice assistants from a hardware standpoint? Echo/Google both look decent and have decent speakers and microphones. I'd prefer something with those features packed in those aesthetics over something like a microphone, speaker, and a PI mounted onto a block of wood."", 'Drewelite: STT = speech-to-text (Also mentioned here)', 'Mitoria: Thank you!', ""suddenlypenguins: I'm not hopeful but yeah I feel this will only gain traction if there is a way to incorporate it into existing smart speaker devices. At this point many people are heavily invested in an ecosystem."", ""antisane: I use TTS cloud\\_say (Nabu Casa) on my Sonos currently. You don't HAVE to use Alexa. Localized would be better though."", 'LuckyCharmsNSoyMilk: I just hope we start seeing shells being sold on Amazon/ the like. I have a 3D printer but sometimes you gotta appreciate injection molding.', ""LifeBandit666: With the whispers I've heard about them defunding Assistant I'm probably more inclined to at least keep an eye on how this develops. \n\nI too am getting a bit fed up of my Home Mini's being Dickheads. I'm just wondering how much it's gonna cost me in hardware and upgrades to my system."", 'ashok36: Maximum tip to tip efficiency.', 'Astec123: Did you try the en-us-libritts-high option?\n\nThat one seems very interesting and seems hard to distinguish from a real person talking naturally compared to being artificially generated like this.', 'antisane: Localized TTS, no cloud. It will work even if your internet is down.', 'SpencerDub: This is a significant step toward having a Home Assistant-based smart home system that can ""talk to you""—it\'s basically the ""voice box"" that takes lines of text and synthesizes them into natural-sounding speech.', 'LiupingToo: Text To Speech.', 'BCRS2018: Do you really like it?', 'Th3R00ST3R: and when something fails, it could say ""Oh no! Oh no! Oh no no no no no!""', 'yellowfin35: After talking to a friend at AWS I was disappointed to learn this was all a lie.  Big data companies buy racks of these servers at a time.  One server goes down they just leave it dead in the rack.  Eventually, the entire rack gets replaced.  It is not worth them to swap out individual servers.', 'XxNerdAtHeartxX: Theyre pretty easy to 3d print and slap on anything. I put one on my server box once I saw them on [thingiverse](https://www.thingiverse.com/thing:3402972) lol', 'einsq84: I want the german voice of the NCC1701-D Enterprise Eva-Maria Werth ;)', 'genceldoruk: de-kerstin-low sounds like Merkel  \n\n\nI want Merkel to turn off my lights when I go to bed', 'Johann_VR: Der eine Bruder klingt auf jeden Fall wie ein Thorsten', 'Dedriloth_: The German version is so long compared to the English version', 'ashok36: There was one US english one that sounds uncannily like a 16 year old girl cold reading from a text book in high school English class. I was actually kind of taken aback.\n\nThis one: en-us-libritts-high', 'Archy54: Any Jarvis ones?', 'SpencerDub: It seems there are several different voices under that single file!', ""truthfulie: I don't know if I actually like this or just find it the most natural/realistic sounding. Either way, this one in particular sounded most impressive to me."", 'crixyd: Easily the most realistic', 'cyber2th: sounds like the female version of Marvin. The perfect amount of depression. I love it', ""synthmike: Yes! Ping me and we can chat about it. They'll need a decent microphone and be willing to release the dataset under some Creative Commons license."", 'synthmike: Definitely. Check it out here: [https://github.com/home-assistant/addons/tree/master/piper](https://github.com/home-assistant/addons/tree/master/piper)', ""beatbrot: Yes :) that's what the addon I linked to is about"", 'synthmike: They did, but those are for a different purpose (speech to text). Speech to text models need many different speakers, lots of noise, and a variety of recording environments.\n\nText to speech models need fewer speakers (usually 1) with no noise and in a tightly controlled recording environment. Otherwise, the model will try to reproduce the sound of cars driving by, birds singing, etc. :D', ""Baul: From Piper's GitHub page:\n\n> A fast, local neural text to speech system that sounds great and is optimized for the Raspberry Pi 4.\n\nI'll guess yes."", ""synthmike: Pi 4 will work, but it's a little slow. A 2 second response takes about 1 second to generate. Still usable, but a noticeable delay.\n\nBumping up to something like an Intel i5 is a huge improvement."", 'synthmike: Yes, and caching will work correctly if you change the voice in the Piper add-on.', 'synthmike: I would like to include SSML. I added it in a previous project ([https://github.com/synesthesiam/opentts/](https://github.com/synesthesiam/opentts/)) and it worked for basic things like switching languages/models and changing the speaking speed.', ""ashok36: Someone just needs to figure out a way to flash the firmware on them. Otherwise that's *a lot* of e-waste.\n\nEven if I had to pull out the internals and replace with a new board, that'd be better than just chucking them all in the bin whole."", 'Poop_wrangler: With what hardware? What device under $20 has a speaker and microphone?', 'georgkozy: The jank solution is first, then someone comes along and makes a Kickstarter for the same thing but in a nicer package and so on and so forth, until decently sized companies make good lucking and functioning products.', 'ElectroSpore: Ya I would take more ""limited"" functionality if it was just consistent!\n\n""play x by X"" Sometimes plays on Spotify sometimes states you need a YouTube subscription ""play x by x on Spotify"" is sometimes needed.\n\nSimple commands like ""turn it down"", ""Turn down the volume"" etc work ""sometime"" other times it will prompt with a ""did you mean"", a search, etc The best is when google tells you ""say X"" when X is EXACTLY WHAT YOU SAID, and the transcript in the app shows it as well.', ""Sunsparc: The measurement you're really looking for is dick to floor, call that D2F."", ""SpencerDub: I'm interested to check out the many different voices under that single file. With a bit of initial experimenting, some sounded better than others."", 'samuraipizzacat420: you are shitty CEO', 'Grand-Chocolate5031: Yasssss! I love that song! Make it the default! \n\nhttps://youtu.be/xTEB8jEWpz4', 'd2k1: https://xkcd.com/1737', 'noisufnoc: Cattle vs Pets', ""mejelic: My company definitely replaces machines. We definitely aren't at the AWS scale though. We only have like 6k - 7k servers in production."", 'RupeThereItIs: The show was NOT insinuating selling those boxes to ""big data"" companies like AWS or Facebook. \n\nThey where selling it to industry. think massive fortune 500 companies that own their won massive datacenters, but aren\'t themselves \'tech\' companies. That was that scene with the old depressing datacenter tech guy (who I think was played by Judge himself if memory serves?). \n\nI\'ve worked for several of these companies over the last 20 years & they sure as shit aren\'t leaving dead servers in the racks for more then a week or two, that\'s not something a global manufacturing company, or household name retailer (a few personal examples) does in their own datacenter. \n\nI\'m pretty sure ""The Box"" was inspired by googles old cheese boxes, that they would sell for corporate intranet indexing & searching. \n\nhttps://en.wikipedia.org/wiki/Google_Search_Appliance\n\nBut lemme tell you, there are endless startups who will sell you ""an appliance"" that will fix all your datacenter needs.\n\nHell there are \'appliences\' that do dedup & compression, as Pide Piper was supposed to do.', ""Daniel15: > One server goes down they just leave it dead in the rack\n\nWell, somewhat.\n\nWith 'big tech' companies, buying new servers can be a big project that takes a long time - potentially a year or more. They often have a limited number of standard SKUs (unique server configurations) to make maintenance easier. For example you might have a webserver SKU with balanced specs, DB server SKU that's RAM-heavy, storage SKU with a lot of HDDs, etc. Those SKUs have to be designed to last many years, so you have to ensure all suppliers will continue to stock the parts for any repairs. CPU supply has to be checked with Intel or AMD as the company may be ordering thousands or tens of thousands of processors at a time. User growth has to be factored in to the planning. Everything has to be budgeted. It's a lot of work.\n\nSubsequently, if there's no need to replace a dead server in a rack, you're right that it'll just be left there if the capacity isn't needed, until the next hardware refresh (servers are usually specced for 3-5 years useful life).\n\nOn the other hand, companies may be either power constrained (at or near capacity for power supply at the data center) or space constrained (no free racks left), so if there's spares on hand and more processing power is needed, that dead server is definitely going to get swapped."", 'look_ima_frog: That show was brilliant on so many levels, but not too good so that they were above making a dick joke.', 'sulylunat: Dammit, now I’m torn about whether or not to stick one of these on my server pc, which happens to be located in my guest room…', 'georgkozy: Merkel wake me up at 7, and if the bedroom lights are not on by 7:05 turn on the siren!', ""bk553: It's German's fault.\n\n[https://www.youtube.com/watch?v=77nvJuMmnC4](https://www.youtube.com/watch?v=77nvJuMmnC4)"", ""Th3R00ST3R: I've got 99 voices but a Brit ain't one."", 'Th3R00ST3R: Yes, it was the most realistic, although monotone.', 'krakenant: I wonder if we could get enough money together to hire Paul bettany to record training set for us 😁', 'Asfalots: At some point, could we train it with our own voice?', 'dabbydabdabdabdab: This is an HA add-on. Is there a classic docker container for those of us using HA core?\nI have a GPU (and coral TPU) in my server so that could be useful to speed things up.', 'StarfishPizza: I’m afraid I’m not knowledgeable enough to use the dockerfile to create a docker image that I can use with my containerised HA that would be useful, but if someone does build one and posts it publicly, I’ll happily download it and test it out!', ""_cool_username_: This is really really good stuff, and your work is amazing.  Also, I totally understand squeezing blood from a stone.  But the elephant in the room is that voice stuff sounds like it's going to be pretty rough on the Yellow.\n\nWill there be designs for maybe running the heavy lifting in docker images that can be run elsewhere and integrated with HA via integrations, or something?\n\nSimilarly, I run Frigate and DeepStack, but on their own VM on a server, and can interface with those services via addons/integrations/proxies on my HA instance running on a Yellow."", '999999potato: Awesome—thank you!', '_Rand_: If I can reuse the mic/speaker and jam an esp32 in there instead you bet your ass I will.', 'Krojack76: I got so many Google speakers free from Google that I still have 2 version 2 unopened ones in my closet.\n\nIf I could flash these things it would be amazing. IMO we need laws that require companies to make unlocks available when they stop supporting such devices like speakers, tables and phones.', 'davidr521: Also asking. (For a friend 😁)', 'Aluavin: Rpi0 + respeaker 2 hat + 8ohm Mini speaker', ""renaiku: Atom echo m5 stack.\nIt's also the hardware esphome is developped on for voice-assistant.\nThis is low budget for a low quality mic and speaker."", 'Sauce_Pain: *This* guy fucks.', 'firemogle: Do you know how long it would take to jerk off everyone in here, because I do', ""PluginAlong: I've always loved this analogy."", 'skelleton_exo: CPU supply may be specially produced for them at the scale they buy.\n\nMy Home Server has two Xeon E5-2696v2 which was produced specifically for one of the big ones (Amazon I believe).\n\nI would not be surprised that it might have been hard for them to get spare parts. As in additional orders required a certain batch size or something.', ""ashok36: Scarlett Johansen. I'm not even a big fan of hers but she was fantastic as a disembodied voice in Her."", 'tedivm: That cameo website where you can pay celebrities to make quick videos for you is about to get weird.', 'usafa43tsolo: I’m glad I’m not the only one thinking it! There’s not even an English-GB voice set in piper!\n\nEdit: it’s not listed on the GitHub, but there are two EN-GB voices.', ""synthmike: It's possible with Piper now, but requires a decent GPU (8+ GB minimum) and some experience with PyTorch."", 'SpikeX: What do you think the surprise is on April 27? 😄', 'enter360: More importantly how much would it cost to have Paul Bentley train his voice in ?', ""honestFeedback: +1.  Add-ons really wind me up.  Lots of us can't use them."", ""phobiac: https://docs.docker.com/engine/reference/commandline/build/\n\nIt's not as difficult to build a docker image as you might be assuming it is."", ""synthmike: Yeah, it will be possible to connect to external STT/TTS servers. I'm building out other side of this in Rhasspy3 ([https://github.com/rhasspy/rhasspy3/](https://github.com/rhasspy/rhasspy3/)).\n\nThere's still hope for the Yellow, though. You don't need a full Whisper model to turn lights and off, etc. I will be working on an add-on that can run a very fast STT model for just the sentences in our intents repo ([https://github.com/home-assistant/intents/](https://github.com/home-assistant/intents/)).\n\nFor TTS, caching will take care of quite a bit because the responses do not vary that much from the default HA conversation agent."", 'pixel_of_moral_decay: If you think about it, how many notifications are really that time sensitive? ie already you likely have a 1-2 second delay with existing options once all the latencies are added up.\n\nI’d bet for most applications even :20 before TTS notification fires is likely more than acceptable.\n\nReality is we obsess on speed, but lots of things are less than instant, we just don’t notice it because we don’t see when it was started.', 'renaiku: There is a github and a discord where we are doing exactly that: https://github.com/renaiku/echo-419', 'Aluavin: See comment of op', 'Neldonado: Great suggestion unfortunately, the availability of the pi zero is scarce and the prices are much more than an echo device. Hopefully supply increases and prices fall', 'Neldonado: https://shop.m5stack.com/products/atom-echo-smart-speaker-dev-kit\n\nThis looks promising', 'Daniel15: >CPU supply may be specially produced for them at the scale they buy.\n\nDefinitely - and that takes quite a while :)', 'honestFeedback: The female GB voice is the best of the lot IMHO.', 'treyf711: Hey, I have one of those things.', 'lmamakos: I\'ve been playing around recently with mimic3, which ""drops right in"" using the Home Assistant MaryTTS integration.  It has  pretty good quality, and SSML markup (which I find handy to give a hint for saying numbers a digit at a time, etc.)  It\'d be great if that same sort of API would be supported so we could interchange different engines. \n\nI look forward to hearing more about this!   Also really interested in voice recognition with a lightweight Whisper model.  I was just chatting with a buddy of mine that my current usage of Amazon Echo devices is mostly restricted to asking about the outside temperature and controlling Home Assistant devices.  I\'d love to move those things over to something that\'s local and also allows simpler speech announcements for output, rather than relying on alexa media server and round-trips to the cloud and back.', '_cool_username_: For the TTS only direction, you\'re totally right.  I was thinking about the whole pipeline, STT, intent recognition, TSS, etc.  If the Yellow is crunching all the numbers, immediate feedback is more important if you say ""Turn on the kitchen light"", and it takes 10 seconds for you to know whether it worked, or it misheard you, etc.', ""shadow7412: That's awesome! Is there a similar project for the google pucks?"", 'djgrahamj: Cool!', ""SirDarknessTheFirst: The discord badge on that doesn't seem to link to the actual Discord server. Do you have an invite link by any chance?"", 'FishScrounger: Are you serious right now?!', 'Aluavin: Well I was asked to put a list of under 20. of course a echo device is much cheaper because it get subsidized by the Data collects.', 'pixel_of_moral_decay: That could be solved with some basic caching and precompiling. You don’t need (or want to) regenerate the same thing over and over.\n\nWith the performance a pi 4 can provide that’s pretty reasonable to work with.', '_Rand_: Hopefully, because I have google shit.\n\nStill I fully support the hacking of any of these things.', ""renaiku: I don't own any Google pucks, but if you have any electronic skills you are welcome to try and use the base hardware we are working on !"", 'renaiku: https://discord.gg/Tz4nJMvhSB\n\nI fucked up the badge link ! I will update the github soon with it fixed', 'renaiku: ?', 'Neldonado: I’m just saying the stuff you listed is over $20. Not saying it’s a bad deal because like you mentioned, the privacy is important.', ""_cool_username_: Yeah, again in the TTS direction, that might be so.  But in the speech-to-text (STT) direction, there's no caching or precompiling you can do to solve that problem.\n\nKeep in mind the thread's title is about TTS, but the ultimate goal is to run a full voice assistant pipeline."", ""shadow7412: I know the theory, and I've done some stuff with ESPs, but I wouldn't say I know enough (or be accurate enough with the soldering) to do much with the kinds of chips one would likely find inside smaller consumer devices...\n\nThat said, it is tempting. There is one google home in particular that hasn't seen use for a long time now (even though it's still plugged in)"", 'SirDarknessTheFirst: Thank you! Appreciate it.', ""FishScrounger: Sorry, I got excited. I'll join the discord later.\n\nI had a...ahem...disagreement with a Dot Gen 4 a year ago so I have a spare board 😅"", 'pixel_of_moral_decay: There’s a lot of caching you can do. Theoretically all of it. This isn’t Google. HA knows what entities you have, what methods they support and possible outcomes.\n\nAnd reality is 99% of that can be consolidated into “done” assuming its successful.  If it’s an error, and extra 10 seconds to generate an error message won’t be a big deal. It likely already took a while to timeout.\n\nAgain, you only think this way because you know what’s behind the scenes. Tricks like this are in every consumer product. Siri as a “feature” won’t even say anything if it completes a simple task like turning on a light. Makes it feel faster.\n\nWhy do you think all these devices do things like chimes or “ok” for responses for simple tasks like this? Computationally it’s not just faster but saves millions in infrastructure costs at their scale. They also obviously cache, you can checksum the inputs and use that as a cache key.', ""renaiku: Hahaha nice ! I've already broken 2 !"", '_cool_username_: You cannot do ""basic caching"" and ""precompile"" the very computationally complex task of speech to text.  It will bring a Pi to its knees and take whole seconds to get a response back.  Not good.\n\nI don\'t work on this project, but I\'m a developer and have worked on projects involving machine learning.  I think you have no idea what you\'re talking about.', 'pixel_of_moral_decay: The output is audio files. You can absolutely cache them. Every smart device makes heavy use of caching. You don’t need to generate the same output more than once EVER if storage is cheap enough.\n\nYou really think every response is generated fresh every time? Seriously?\n\nThe fact that you don’t realize this is evidence your developer claims are false. I’d expect an intro to programming student to know when data can be reused or not, and how to potentially optimize a function by saving its return in some way in whatever language the class is using. That’s very basic stuff.\n\nAnd FYI machine learning makes extensive use of these patterns. If you were familiar with it, you’d know that.', ""_cool_username_: It's like you're intentionally not reading.  Yes, the output TTS can be cached.  What is the opposite of text to speech?  How do you cache that?  That's your voice getting turned into text via ML or AI, or however they're doing it.  Please explain that part because it still sounds like you're really missing something here."", 'pixel_of_moral_decay: That’s a completely unrelated and different process with different optimization paths, and again something widely done.\n\nYour changing the subject now.', ""_cool_username_: My brother in Christ, you need to go back and reread this thread haha.  i said that 3 hours ago.  I can't continue on this thread anymore.  Goodbye.""]"
1682340437.0	24-Apr-2023 05:47:17	Replace LED controller with smart one	aprettyparrot	7	12xektj	homeassistant	https://www.reddit.com/gallery/12xektj	"I got two of [these](https://www.amazon.com/dp/B09L16WMR3) guys awhile back and didn’t realize they didn’t have wifi just “wireless”, and I’m trying to cannabalize them to light under my couch.

I cut off the wires from controller and figured out which was which with mr multimeter. I got one of these [12v 3pin controllers](https://www.amazon.com/dp/B09G66L6L1). I’ve got some of the 4pin version from same company and they’ve all worked fine, but I can’t get jack from this one. 

I tried playing with the IC type and color order in the magic home app but got nothing. From the trash “LED Lamp” app the original used I found that it’s “GRB”. The ICs on the tape don’t seem to have any writing on them at all.

I hate to throw out the LEDs in it since they are pretty high density and work just fine. But if I can’t get another controller to work them, they may as well be useless :<"	11	"[""mr1337: This is a 12v LED strip with the WS2811 integrated circuit. Each set of three LEDs is controllable as a single unit.\n\nI would recommend getting a controller that runs [WLED](https://kno.wled.ge/). There's one on Aliexpress that requires no programming or soldering: https://www.aliexpress.us/item/3256803590533763.html\n\nI have this one and it works great.\n\nThere's also a smaller one that can't handle as many LEDs, but it's simpler if you already have a connector on the power supply and LEDs: https://www.aliexpress.us/item/3256802012212983.html\n\nYou can also look here for a list of controllers with WLED preinstalled: https://kno.wled.ge/basics/compatible-hardware/#controllers-with-wled-pre-installed"", 'TheBoyInTheBlueBox: Ask over at r/wled. Wled program for an esp32 designed to control these sorts of strips, kinda like esphome. It integrates really well into home assistant.\n\nI use wled for my Christmas tree.', ""Kitchen_Meaning5345: Do I understand you correct, that you try to replace the controller?\n\nThe Strip is a WS2811 because the black controller says it ;)  \nThe easiest way i can imagine is to buy a ESP32 which includes Wifi.  \nThen create the programm for it with esphome in Home assistant and flash it on the ESP32. Connect the Din to the Pin which you defined in esphome.  \n\n\nKeep in mind that the strip is working with 12V the ESP32 is 3.7V or 5V so don't fry it"", 'FakespotAnalysisBot: This is a Fakespot Reviews Analysis bot. Fakespot detects fake reviews, fake products and unreliable sellers using AI.\n\nHere is the analysis for the Amazon product reviews:\n\n>**Name**: Corner Floor Lamp, Corner Light, RGB Color Changing Led Floor Lamp with Remote and App Control, Dimmable Minimalist Mood Lighting, Music Sync Timing, Multi Lighting Modes for Bedroom Living Room \n\n>**Company**: Pitras\n\n>**Amazon Product Rating**: 4.3 \n\n>**Fakespot Reviews Grade**: C\n\n>**Adjusted Fakespot Rating**: 2.7\n\n>**Analysis Performed at**: 04-16-2023 \n\n[Link to Fakespot Analysis](https://fakespot.com/product/corner-floor-lamp-corner-light-rgb-color-changing-led-floor-lamp-with-remote-and-app-control-dimmable-minimalist-mood-lighting-music-sync-timing-multi-lighting-modes-for-bedroom-living-room) | [Check out the Fakespot Chrome Extension!](https://chrome.google.com/webstore/detail/fakespot-analyze-fake-ama/nakplnnackehceedgkgkokbgbmfghain)\n\n*Fakespot analyzes the reviews authenticity and not the product quality using AI. We look for real reviews that mention product issues such as counterfeits, defects, and bad return policies that fake reviews try to hide from consumers.*\n\n*We give an A-F letter for trustworthiness of reviews. A = very trustworthy reviews, F = highly untrustworthy reviews. We also provide seller ratings to warn you if the seller can be trusted or not.*', 'tungvu256: should we worry about any spyware/malware already loaded in?', ""look_ima_frog: I bought the one in the aliexpress link (directly from seller however) and I've been very pleased. I have two of the upright color, individually addressable tower lights. \n\nThey're lots of fun. I have mine set up to change with the weather. They do rain animation when weather says raining, blue for snow, yellow for sunny, etc. They turn on and off at scheduled times, though I may move to do presence instead just so they last longer. Since they're next to the TV, I could have them turn off when the TV turns off."", 'DamnTarget: ESP Home is great - but WLED firmware is specific for this purpose and works really really well with home assistant with built in effects and everything', 'TheBoyInTheBlueBox: >Then create the programm for it\n\nThat program is called  r/wled', 'aprettyparrot: I completely missed that on the controller :>\n\nAnd that is correct, want to replace it to use wifi so I can control with HA', ""mr1337: ESPHome has a RGBIC module called FastLED, but it's not as flexible as something like WLED. If you need ESPHome to handle other things like having multiple sensors and outputs, sure go with that, but if you are just wanting to run an RGBIC strip on it, WLED is the way to go."", 'aprettyparrot: For wled? That’s open source so I think someone would have spotted it']"
1682339591.0	24-Apr-2023 05:33:11	Home Assistant Assist in Telegram	seronfire	0	12xe60k	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xe60k/home_assistant_assist_in_telegram/	"Good afternoon, I would like to know if there is a way to use Assist from Telegram just like you do in the browser.

Thank you in advance."	3	"['antonio1475: You can send commands, but you don\'t get the actual reply back so knowing if it failed is a no-go.\n\nThere\'s an open PR for that: [Add processed event for conversation #89839](https://github.com/home-assistant/core/pull/89839)\n\n&#x200B;\n\nBasic automation assuming that you already have a Telegram bot:\n\n&#x200B;\n```\nalias: Telegram Assist\ndescription: """"\ntrigger:\n  - platform: event\n    event_type: telegram_text\ncondition: []\naction:\n  - service: conversation.process\n    data:\n      text: ""{{ trigger.event.data.text }}""\nmode: single\n```', 'Lectere: I would like to know if I can turn on my toaster with the horn of my car...', ""Stuartie: When there's a will, there's a way buddy lol""]"
1682339492.0	24-Apr-2023 05:31:32	Question about cameras/go2rtc/RTSPtoWebRTC and frigate	Nighter83	1	12xe49r	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xe49r/question_about_camerasgo2rtcrtsptowebrtc_and/	"Hi all, 

&#x200B;

I'm planning to use a dedicated NUC or SFF for my HA and run docker on it, in order to run frigate properly.

As there are several ways to integrate cameras as it seems, I just want to know what would be the right way forward. In some tutorials they are talking about RTSPtoWebRTC some are mentioning go2rtc and I'm a bit lost now on the ""latest/best"" combination for my cameras and how to set them up. 

I'm currently using the picam from[https://github.com/iizukanao/picam](https://github.com/iizukanao/picam) together with its node-rtsp-rtmp server on each of the cams as this provides video+audio. From what I understood the picam is also able to output to a tcp address/port. 

Is there any way that I could get rid of the node-rtsp-rtmp server on each of the cameras by providing the tcp (MPEG-TS) output to a central server (maybe go2rtc? don't know as I don't get all the functionalities of that thing yet) running on the NUC/SFF? is there some kind of addon that provides sth like a listener for the tcp MPEG-TS stream that works well with frigate? 

I hope someone can bring some light into the dark go2rtc corner in my mind :D"	15	"[""nickm_27: frigate comes with go2rtc built in, so that is definitely the recommended way from frigate's point of view to set things up. it is fully features and works with the HA webrtc card, the frigate card also supports mse / webrtc. The only reason (IMO) to run RTSPtoWebRTC is if you prefer the pictures glances card to have the webrtc stream."", ""swpete: I haven't been able to find any sort of tutorial for go2rtc anywhere. If you stumble on one, please let me know!"", 'tsaG1337: I am not sure but I just have the config as shown on their website. As I understood, it utilizes Go2rtc. For me it just works. \n\n&#x200B;\n\nFor example \n\n \n\n`go2rtc:`  \n `streams:`  \n `Gartencam_high: # <- for RTSP streams`  \n\xa0 \xa0 \xa0 `- rtsp://user:pass@192.168.1.22:554/11`  \n\xa0 \xa0 \xa0 `- ffmpeg:Gartencam_high#audio=opus`  \n `Gartencam_low: # <- for RTSP streams`  \n\xa0 \xa0 \xa0 `- rtsp://user:pass@192.168.1.22:554/12`  \n\xa0 \xa0 \xa0 `- ffmpeg:Gartencam_low#audio=opus`  \n`cameras:`  \n `Gartencam:`  \n `ffmpeg:`  \n `output_args:`  \n `record: preset-record-generic-audio-copy`  \n `inputs:`  \n\xa0 \xa0 \xa0 \xa0 `- path: rtsp://127.0.0.1:8554/Gartencam_high?video=copy&audio=aac`  \n `roles:`  \n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 `- record`  \n\xa0 \xa0 \xa0 \xa0 `- path: rtsp://127.0.0.1:8554/Gartencam_low?video=copy&audio=aac`  \n `roles:`  \n\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 `- detect`  \n `detect:`  \n `enabled: True`  \n `fps: 10`  \n `width: 800`  \n `height: 600`  \n `motion:`  \n `mask:`  \n\xa0 \xa0 \xa0 \xa0 `- 619,21,800,21,800,0,619,0`  \n `live:`  \n `stream_name: Gartencam_low`\n\nEdit: it effed up the formatting but I think you get the point.  It gets the data from the cam and then restreams to be used it locally', 'None: [deleted]', ""Nighter83: OK thank you. Is there any way that go2rtc can pickup multiple of the tcp MPEG-TS streams that I might be able to configure on the picam? so from what I've seen in the picam doc, there should be an ffmpeg listener running (in nginx?), which can pickup the stream  `ffmpeg -i tcp://127.0.0.1:8181?listen -c:v copy -ar 44100 -ab 40000` \n\nor does go2rtc provide a listener interface already? sorry for all these dumb questions but I'm totally lost on that topic."", 'nickm_27: we have one as part of the frigate docs https://docs.frigate.video/guides/configuring_go2rtc', 'nickm_27: thanks, glad you are enjoying it! already have some goodies merged in for 0.13', ""nickm_27: go2rtc (and frigate) come with ffmpeg built in. it supports as many streams as you have so that won't be an issue"", '_AlexxIT: Add support TCP MPEG-TS source  \n[https://github.com/AlexxIT/go2rtc/issues/310](https://github.com/AlexxIT/go2rtc/issues/310)', 'Nighter83: ah ok thank you.\n\nBut wouldn\'t the example streams:\n\n `streams:`\n\n`tcp-1: tcp://localhost:8888`\n\n`ffmpeg -re -i bbb.mp4 -c copy -an -f mpegts tcp://localhost:8888?listen`\n\nmean that there is a local mp4 which will be streamed as mpegts to tcp and the tcpstream is picked up by ""tcp-1"" camera as source? \n\nsorry for the question but the whole ffmpeg streaming topic is completely new to me. \n\nso what I ""guess"" what I need is an ffmpeg server listening on my HA instance (with any kind of addon or whatever) on a several specific ports (due to having multiple picams which could tcpout the stream to a server?)\n\nI tried with following configuration, but not working as I thought \n\n`streams:`\n\n  `testcam170: tcp://localhost:31170`\n\n  `ffmpeg: -i tcp://IPofHASystem:8170?listen -c:v copy -c:a aac -f mpegts tcp://localhost:31170`\n\n&#x200B;\n\nI guess my config is just wrong as I never worked with go2rtc before, so can it start multiple listening servers via config?', '_AlexxIT: The TCP server must be running on the raspberry:  \n```\nstreams:  \n  raspberry: tcp://192.168.1.123:1234  \n```', ""Nighter83: >raspberry: tcp://192.168.1.123:1234\n\nnow you lost me completely. what is expected to happen with this line? If there should be something running and listening on port 1234, then this is not working.\n\n&#x200B;\n\nmaybe I should elaborate more on the current setup:\n\nRaspiA: Picam connected and the picam program from git installed. This tool requires a running tcp server (somewhere) to write its tcp output. If the server is not reachable the picam won't start. Ive tested the connection between RaspiA and RaspiC with running a separate node-rtmp-rtsp server (from same git author as picam) running on that RaspiA and configuring an rtsp source in go2rtc for the camera. Was working (even if no sound was played in the HA-UI, but was played in VLC). Now I try to get rid of the node-rtmp-rtsp server running on that RaspiA, by sending the Picam output via tcp to RaspiC (to reduce the load on the cameraRaspiA (and to get rid of a bit unreliable node-rtsp-rtmp server)\n\nRaspiB: same as RaspiA\n\nRaspiC: HAOS installed with go2rtc and several other stuff (NO frigate yet).\n\n&#x200B;\n\nCurrent goal: add some cards to my HA boards showing the streams permanently when the dashboard is open and playing the stream with sound if I click on a card (not talking about sending sound back yet)\n\nUpcoming goal: send the streams to frigate for motion and object detection in order to record the streams\n\n&#x200B;\n\nWhat would I need to have a server permanently running and listening on the port, I've configured on RaspiA and RaspiB with the picam --tcpout tcp://remotehost:10170 (RaspiA) and picam --tcpout tcp://remotehost:10110 on RaspiC?"", ""_AlexxIT: I see. picam can't work as TCP server. And go2rtc can't work as TCP server.\n\nYou need to use ffmpeg, like in picam example for nginx:  \nhttps://github.com/iizukanao/picam#using-picam-in-combination-with-nginx-rtmp-module\n\n```\n/path/to/ffmpeg -i tcp://127.0.0.1:8181?listen -c:v copy -ar 44100 -ab 40000 ...\n```\nAnd select some incoming format for go2rtc:\nhttps://github.com/AlexxIT/go2rtc#incoming-sources\n\nrtsp or flv or mpegts"", ""Nighter83: ok so it was more or less a misunderstanding on my requirements/current setup in this case :)\n\nas I want to reduce the load on the picam RaspiA/RaspiB, running an nginx with rtmp module would not be ideal (could stick to the node-rtsp-rtmp server in this case)\n\nso I need to setup some server on my HA machine, that runs constantly, accepts the incoming mpeg-ts tcp streams on different ports and provides these streams as separate streams (different ports or paths) as rtsp (best case?)\n\nI guess  RTSP Simple Server Add-on  is also not what I'm looking for?"", ""Nighter83: Ok what I did to test, as the ffmpeg on my HAOS is not reacting as expected, is to run `ffmpeg -i tcp://myserverip:8170?listen -c:v copy -c:a aac -rtsp_transport tcp -f rtsp rtsp://HAIPwithgo2rtc:8445/my/cam` on a separate server. This was working and ffmpeg is waiting for a connection from picam.\n\nStarting Picam: `./picam -tcpout tcp://myserverip:8170`\n\nPicam connects and starts streaming. ffmpeg is doing sth, but ending with  `av_interleaved_write_frame(): Broken pipe`\n\nI've configured in go2rtc\n\n`streams:`\n\n`testcam170:`\n\n`- rtsp://localhost:8554/my/cam`\n\nit seems that the listening ffmpeg is closing, as no consumers are really consuming the rtsp stream at that point in time.\n\nI tried a separate run with the rtsp simple server addon as target (using different rtsp port)\n\npointing ffmpeg to the rtsp simple server port did work for \\~15 sek, before the connection is closed again. If I try to connect via vlc for example to the rtsp stream, within these 15 seconds, the connection continuos without issues.\n\nSo I assume that there is some ffmpeg magic needed in order to continue listening to the tcp stream even if the output rtsp server is closing the connection, correct? or is this behaviour expected for rtsp?"", '_AlexxIT: As I know, rtsp simple server can support rpi camera. But it should be runner on rpi.  \n\n\n```\nstreams:\n  rcamera:\n```\n\n```\nffmpeg -i ... -f rtsp rtsp://go2rtcIP:8554/rcamera\n```']"
1682336905.0	24-Apr-2023 04:48:25	What smart locks do your recommend?	4reddityo	17	12xcwuz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xcwuz/what_smart_locks_do_your_recommend/	"
Best Home Assistant Compatible Lock?"	60	"[""swpete: I have a schlage Zwave lock with keypad on my front door. The rest of my doors I'm using Wyze door locks and trying to use the zigbee settings in them to eliminate the need for the Wyze cloud. \n\nhttps://www.schlage.com/en/home/smart-locks/connect-zwave.html"", ""z3ndo: I'm pretty happy with Yale Assure locks. For various reasons I have two with Zwave modules and one with Zigbee. \n\nI would like remote PIN management but it's no big deal to do it from the lock itself. Batteries have lasted over a year so far"", 'seronfire: For me the best is Nuki, also have a good integration.', 'thibaultmol: Nuki', 'Xtasy0178: Depends where you live', ""Complex_Solutions_20: Probably any of the name-brand Z-Wave locks are equally good for normal residential use.\n\nI've been happy with the Yale Z-Wave deadbolts I have."", 'debar0n: I use Nuki with this hacs plugin, then everything is possible. \n\n https://github.com/hacs/integration', 'DuckDuckJeeper: I’ve used Yale SmartLiving Zwave locks since forever (and a day) and have had zero issues. They don’t drop connection, they don’t jam or need weekly lubrication, they don’t go through batteries and yes, if you’re old school and like burying keys, you can get the deadbolts with a keyed tumbler.', 'Crafty_Station_3617: Nuki with an esp32 bridge, not a single problem yet', ""techramblings: From what I've seen of the excellent Lockpicking Lawyer videos on the Youtubes, probably best to steer clear for the time being."", 'andy2na: Ultraloq with zwave\nOnly available lock that I found with zwave, pin, physical key, and fingerprint', ""Time-Button4999: From a security point of view, as in literally break in, none that I've seen so far."", 'blentdragoons: august', 'MobileRelation6: August is very popular in NA', 'mguaylam: Yale ZigBee.', 'FredJohnson100: The type of door and existing lock need to be factor into your decision (torque etc). As well as  options for the event of system crash or power cut.', ""chicagoandy: Kwikset 916 Zigbee.   Their 'smartkey' feature meant I could rekey the lock to my existing house keys ridiculously easily.\n\nI  just changed the batteries for the first time after a year of daily use."", 'Doranagon: Yale yrd 256. No key pin only.\nI have keyed on garage and backdoor', 'Troll-U-LOL: If you like locks that don\'t look like a smartlock ... I like the Level Bolt.  Basically replaces the innards of an existing deadbolt ... with a smart one.  We were able to do 2 out of 3 doors in our place with these.\n\nWeird critique some people will say - ""*oh, because the \'deadbolt\' part is now the battery housing ... that won\'t be strong enough against the door being kicked in!*"" to which ... the obvious answer is ... ""*yeah, and neither are any of the windows a foot away from our door door strong enough to prevent against being \'kicked in\' either*""\n\nYou can integrate it with HomeAssistant via the HomeKit bridge stuff, which I haven\'t taken the time to figure out just yet.', 'Apprehensive_Ad3112: Which country?', 'ozziemannen: I have the Danalock V3 Bluetooth, with wireless keypad and wifi bridge, for the front door (Sweden). Like Yale Linus it attaches to existing lock. Not integrated with HA, works fine with the keypad (which is what we use for the most time), but the app and proximity unlock is flakey.', 'mg_165: I’ve had a Nuki for a while now and it’s been great, definitely would recommend. Works well with a multipoint lock, only thing I need to remember is to lift the handle fully up for it to lock, but I was in that habit well before I got it.', ""0x7270-3001: have had no issues with my kwikset zigbee lock. nice bonus is that it's got the kwikset smartkey system so my one key is very conveniently shared across all my doors and all the doors for my parents house"", 'SILENT_TheRealBeck: yale aspire 2, but set it up in august app. 10/10', ""Adventurous-Mud-5508: I got a Kwikset 912 with zigbee. It's basically not smart at all without homeassistant, but I actually like that because it means I have more control over things like the auto-lock timer by writing an automation. And no wifi means the battery lasts a lot longer than a lot of smart locks. Been halfway meaning to write the software for it myself that would give it a nice user experience like adding/revoking codes from the UI, but haven't bothered yet."", ""FinnElhaz: I've been really happy with my Kwikset Convert Zigbee. Integrates with existing door hardware including Schlage so no need for new keys or rekeying, no external keypad (this was a WAF thing), complete local control."", ""chicknlil25: Keyless entry or door knob?\n\nIf you're looking keyless entry, the Eufy (yes, I know) 8520 (and the wifi variants of the 8510 and 8520) can all be pulled through to HA via [fuatakgun](https://github.com/fuatakgun/eufy_security) and [bropat](https://github.com/bropat/eufy-security-client)'s eufy addon and integration. I've got the 8520 (I bought it well before their big security deal and before I'd jumped into HA) but I'm plenty satisfied with how I can use it in HA. I can quickly and easily lock/unlock doors with it, and use that as part of automations, as well."", 'Tyx2: I have the alfred smart lock with Zwave been rock solid for me at home . Bought the Wifi only version for the cabin will not pair to HA ..', 'z3ndo: FYI regarding Schlages smart locks (or one of them at least)\n\nhttps://youtu.be/mGR3h6KTntc', '4reddityo: Do you like the Schlage x wave? Easy to use in HA?', 'mototodo: I have been using this lock for the past year and it has been 100% reliable. My only complaint is that the lock/unlock servo is very loud.', 'Squeebee007: Take a look at KeyMaster, it adds a lot of scripts and blueprints that clutter up the HA UI, but it does the job:\n\n [FutureTense/keymaster: Home Assistant integration for managing Z-Wave enabled locks (github.com)](https://github.com/FutureTense/keymaster)', ""IroesStrongarm: I have a Yale Assure Z-wave and definitely see the ability to add pins to mine from Z-Wave JS UI. Haven't tried it since no need but there's at least 50 slots there to add pins to."", 'Twinsmaker: I was looking into it but watching different videos it looks like it was very loud. Which one do you have and is the noise acceptable?', 'Apprehensive_Ad3112: People who don’t think they have to mention their country are most often from the US in my experience.', 'shrewd-raven: https://github.com/technyon/nuki_hub\n\nLink for the curious', ""ozzie286: At the least search to see if he's done a video on it. If it's less than 3 minutes long, stay away."", 'RTGTech: Seconded for Ultraloq! It’s not cheap but well built and no cloud required!', 'NorinBlade: I bought two of those based on the exact criteria you just listed. Ultraloq U-Bolt Pro.\n\nOne is on the north side of the house in shade, one is under a porch. Had them less than one year.\n\nLock #1 for no reason stopped reading fingerprints. I cleaned it, then finally did a hard reset using the pin tool. It will no longer recognize any commands, will not add fingerprints or new codes. \n\nI called tech support 6 times over four days before finally getting someone to speak with me. She was nice, but after an hour of talking basically her message to me was ""you lock broken, sorry.""\n\nAt least it remembers the master code so I am technically able to enter and exit using the keypad. Can\'t use fingerprint, or add new people, or any of the lock\'s features.\n\nLock #2 for no reason has decided the only acceptable state is ""unlocked."" If I exit the house and use the keypad to lock the door, it pauses for 20 seconds then unlocks. If I enter the house and physically lock the door, it waits 20 seconds then unlocks itself. No matter what I try with software or physically leveling/balancing the lock, it refuses to remain locked. Which is the only thing I ask a lock to do. Unlocking itself against my wishes is even worse.\n\nSo I spent about $800 for two locks, one of which functions at a bare minimum, and one of which will not allow the door to stay locked. That one just has the batteries removed and the front door is basically unusable.\n\nThe build quality on both locks is excellent.', 'ayyycab: >as in literally break in  \n\nThat’s all locks though.', 'MobileRelation6: Have you met lock picking lawyer?', 'pixel_of_moral_decay: Yea. Even the big name brands seem to be using this segment to push the cheapest quality lock hardware with some half baked electronics.\n\nI wouldn’t trust the current generation anywhere security is important.', 'flyize: With no real way to manage the lock in HA?', ""swpete: That's a different model from that I have. Mine has all the electronics on the inside of the door and mine still uses a traditional key if you want in addition to a keypad. \n\nHowever it's sad to see such an expensive lock with such an easy flaw."", 'PolloPowered: While I agree locks should be better engineered than this, when it comes down to it, if someone wants to break into your house, they’re smashing their way in, not using their brains to learn how to bypass your lock.', ""droans: I've also got the Schlage Z-Wave and I love it. \n\nJust fyi, pair it before you install it. The lock is very difficult to pair if it's not right by your dongle."", ""swpete: I do. I have a HUSB ZB-1 dongle that can do both Zwave and zigbee, however I use it only for Zwave cause I upgraded zigbee to a Sonoff zigbee 3.0. You can set two primary passwords and also set guest passwords. It's very responsive in the HA interface. My wife who isn't a big smart home person still likes it for the touch keypad and you can still use a key if you want."", 'snel6424: I also have a Schlage Connect Z-Wave lock and I love it. Works great.', 'swpete: Oh super loud, but definitely gonna hear an intruder if your not expecting someone lol', 'redpandabutts99: I use Keymaster with my Yale Assure Zwave locks. It was a pain to get configured, but since it was set up it’s been great.', 'seronfire: It is true that it makes noise but, for me, nothing exaggerated. The model I have is Smart Lock 3.0. I took it without Wifi because I have the Nuki Bridge for the Opener. But if you want to integrate it directly with HomeAssistant I recommend the Pro. I hope I have helped.', 'jcxl1200: i resemble that remark!', 'andy2na: damn, thanks for posting your experience. Hopefully mine wont have similar issues', ""_Rand_: Realistically I can have the most high security lock in existence put on my door.... and one good kick or a brick through the window 6' away will get someone in.\n\nI have an alarm, I have cameras.  Those should/will alert me and film what happened. \n\nThe lock is just there to make it less likely that someone walks in unimpeded."", 'mguaylam: If we want features we can do merge requests. 😇', ""z3ndo: For sure. But I still wouldn't buy a lock that I knew had such a weakness."", 'Squeebee007: Mine paired fine, but I already added a Z-Wave repeater on the main floor since my dongle is in the basement, my door locks have had no problem since.', ""tolrahC98: Amen to that.  I installed the lock before pairing and had a hard time with Zwave, it would pair but I couldn't manage the pin from Home Assistant.  Some features of the lock was missing since the signal wasn't 100%.  Also, make sure the the lock is connecting directly to your hub, without hop with other devices, it also caused me some issues."", 'ayyycab: Exactly, which is why most people don’t care what kind of lock they have, just that they have one', ""flyize: Yes, I understand that's the default fallback argument for open source. Not everyone can do that though for any number of reasons.\n\nAs it stands now, there's no easy way to manage a zigbee lock in HA.""]"
1682336846.0	24-Apr-2023 04:47:26	Frigate - Trying to stop camera detecting parked vehicles, using zones, but it's not working	Boba_ferret	1	12xcvyb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xcvyb/frigate_trying_to_stop_camera_detecting_parked/	"I have a camera on the parking area behind our house. I have setup two zones, one called parking (yellow) and the other lane (orange). Frigate keeps detecting the vehicles in the parking zone, even though I have set the config to not detect vehicles in that zone, as far as I understand how to do this. However, clearly I'm not doing it correctly!

What do I need to change to stop the constant detection of parked vehicles?

[This is the camera view with the zones]  (https://imgur.com/a/GQKpibL)

This is the config for this camera:

    4_back_lane: 
        ffmpeg:
          inputs:
            - path: rtsp://admin:****@192.168.1.104:554/cam/realmonitor?channel=1&subtype=2
              input_args: preset-rtsp-generic
              roles:
                - detect
                - record
        
        detect:
          width: 1280
          height: 720
          fps: 5
          stationary:
            interval: 30
            threshold: 50
        record:
              enabled: true
          retain:
            days: 7
            mode: motion
          events:
            required_zones:
              - parking
              - lane
            retain:
              default: 7
              mode: active_objects
              objects:
                person: 7
                dog: 3
                car: 7
                backpack: 5
        zones:
          lane:
            coordinates: 0,0,571,0,609,331,329,720,0,720
            objects:
              - person
              - dog
              - car
             - backpack
          parking:
            coordinates: 613,332,595,0,1280,0,1280,720,345,720
            objects:
              - person
              - dog
              - backpack
      
     objects:
         track:
        - person
        - dog
        - car
        - backpack"	4	"['nickm_27: Why do you want to stop the vehicles from being detected? Doing so would be directly fighting with the way frigate is designed to work and you’ll end up causing more weird behavior and problems. \n\nFrigate tracking the vehicles means a different vehicle will drive by and frigate will know the difference. If you force frigate to not detect these vehicles then when a vehicle drives by there will be motion and the parked vehicles will get detected too causing confusion for the tracking.\n\nIf you don’t want notifications or some other behavior, that’s still easily accomplished.', ""Boba_ferret: I want them detected in one zone, but not the other. This is the point of zones, you can control what type of objects are detected, per zone. \n\nThe issue is that frigate is constantly redetecting the vehicles over and over again, when they are static. I have followed the guide here: https://docs.frigate.video/guides/stationary_objects & https://docs.frigate.video/configuration/zones to mitigate this, but I'm clearly doing something wrong."", 'nickm_27: To be clear, I am one of the contributors to frigate. zones object list will configure which objects are part of the zone and if you have required_zones set for recordings and for snapshots it will limit events to only objects which have entered those zones.\n\na zone will not make the object stop being tracked / detected entirely though. \n\nin this case it seems you have not set required_zones for snapshots and that is probably your problem', ""Boba_ferret: Thanks, I can see that I had missed part of the config now. After adding that and a restart, it seems that it's fixed the issue, as it normally detects the parked vehicles on restart, but has not done so this time. I'll see what it does over the next day.""]"
1682336538.0	24-Apr-2023 04:42:18	Nvidia Shield Integration - http proxy setting on/off	jimmisavage	0	12xcr3n	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xcr3n/nvidia_shield_integration_http_proxy_setting_onoff/	"Not sure if this is possible but I'm hoping someone here might be able to help.

I'm wanting to set up the Nvidia Shield go though a http proxy (i'm currently working this out) but i would like this to only happen when a certain app is launched and being watched - if the app isn't being watched i want the http proxy to switch off and just work through my usual wifi as normal. 

I'm not sure if the http proxy is an on/off option (as i'm not at home to check) but if it is, i'm assuming this would be possible within home assistant? I already have the Nvidia Shield integration installed but can anyone point me in the right direction here please?"	8	"[""jimmisavage: Turns out this might not be neccesery as the Nvidia Shield http proxy settings have a bypass setting. I think i can just add the apps i want to bypass - i'll check when i get home and have some time.\n\nIn the meantime, if anyone does have the answer to my opening question i'd still be intested to hear the answer."", 'Lectere: Maybe repost your question without bordering others with non relevant details...', ""Numerous_Pitch: Did you work out how to bypass apps? I've tried adding app names into the bypass settings e.g. [com.netflix.ninja](https://com.netflix.ninja) but it doesn't seem to work."", 'jimmisavage: Sorry if my post bored you. Which parts are non relevant?', 'furtivedeimos: Maybe repost your troll after you proofread for spelling.', ""jimmisavage: I've gone a different route and i'm trying shadowsocks instead with the shadowsocks app. The app is great on the phone but not so great on the shield. Then just now, i've got a warning:  WARN\xa0\\[ip\xa0getter\\]\xa0too\xa0many\xa0requests\xa0sent\xa0for\xa0this\xa0month\xa0from\xa0https://ipinfo.io/:\xa0429\xa0429\xa0Too\xa0Many\xa0Requests \n\nMight have to go back to http proxy and see if that'll work out better for me. You're bypassing the way I would have though. Are you just bypassing netflix? Maybe add this as well com.netflix.mediaclient"", ""Numerous_Pitch: Thank you. And also the Disney Plus app. I've tried com.disney.disneyplus but that doesn't work. Any thoughts?"", ""jimmisavage: Hmm... did the netflix one work? How are you seperating?\n\nI'd go for something like this (comma, no spaces)\n\n[com.netflix.ninja](https://com.netflix.ninja/),com.netflix.mediaclient,com.disney.disneyplus""]"
1682333920.0	24-Apr-2023 03:58:40	Watermeter	tomboo91	3	12xbolk	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xbolk/watermeter/	"Hi,

I want to measure my water usage in HA. As far i can see its an analog meter but so far i only see a lot of diy sensors. Any off the shelf meter that could make it work?

Its a new (+-1yo) Honeywell meter (NL, brabant water)"	7	"[""DrClawski: I recently integrated both my power meter and my water meter into Home Assistant via the sensors from [homewizard.com](https://homewizard.com). The power meter is a dongle that attaches to the P1 port, whilst the water meter is a small device with a magnetic sensor that is mounted onto the physical water meter via a universal mounting bracket. Universal in the sense that it supports common dutch (and belgian) water meters. \n\nThey communicate via wifi. The dongle gets power from the P1 port. The water meter can be battery powered, but can also be usb-powered (which is what I did). The benefit of USB power is that it senses continually instead of occasionally. \n\nBoth devices are cloud connected, but it is easy to enable local polling and read the data into your home assistant via a standard integration. If you don't want to let your data leave your premises you will have to firewall those devices after you configured them."", 'Deining_Beaufort: [https://smartgateways.nl/](https://smartgateways.nl/) from Venlo, NL. He has various smartmeters that can do this.', 'quixotic_robotic: I think the Flume attaches on top of your meter and reads the magnet', 'PADFTGW: Look for the HomeWizard watermeter! \nhttps://www.homewizard.com/nl/watermeter/', 'Martijn02: I have bought one of these: https://smart-stuff.nl/product/esphome-waterlezer-dongle/ it works perfectly and integrates directly with home-assistant.', 'NovoNL: Could not find it easily on their website, but does it require to use their app/infrastructure in order to connect it to home assistant?', ""DrClawski: so .. \n\nI had to install an app on my phone in order to find these devices on the network: it probably uses a local detection method like bluetooth so see whether a phone with an active app is nearby, and if so, it opens up a local wifi network where you can do the initial configuration. \n\nIn this configuration you put in your wifi credentials. After you're done, the devices reset and join your online account via the normal wifi. From now on you can view your homewizard devices from anywhere in the world. \n\nI did some additional configuration to open up their API to my local network; that way they are discoverable by Home Assistant. \n\nYou can close up your network afterwards if you do not want to let the date leave your network. But for setting up the devices you do need the app.""]"
1682333704.0	24-Apr-2023 03:55:04	Automating humidity control?	No_beef_here	1	12xblsg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xblsg/automating_humidity_control/	"Hi,

I have a dehumidifier in a bedroom and have three long poles suspended under the ceiling that can carry a full set of king sized bed linen, or loads of things on hangers.

This works very well for general washing drying and seems more economical than our old conventional electric tumble dryer.

I have the dehumidifier on a TP-Link Kassa smart / monitoring switched socket and using that I can manage the On/Off and the current draw and so alert for 'Tank full' etc.

Because I'm not coder I have 3 automations that seem to manage all scenarios.

The first one turns it on at 10:30 with the condition the humidity is above 70%.

The second one turns it on if the humidity goes above 70% after 10:30 and before 22:00.

The third one turns it off if the humidity drops below 65% or if the time is 22:00.

I also added a Zigbee button on the headboard that turns the 'On when above 70%' automation off and then turns the dehumidifier off, if we are say ill and want to sleep or are watching TV etc.

I have two questions. 1) I understand that the 'relative humidity' can change as a function of temperature and so I wondered if there was an automagic way of adjusting for that re my humidity setting? (I do have 'Thermal perception' on both an inside and outside temp / humidity senders but haven't made use of them other than a desktop indicator).

2) I use the 'Climate' integration to manage the electric heaters in two rooms and I wondered if that was be a better way to manage the humidity?

Open to any advice or suggestions here. ;-)"	0	[]
1682331598.0	24-Apr-2023 03:19:58	ISO Suggestions for better space utilization on wall tablet(s)	chicknlil25	5	12xauk8	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xauk8/iso_suggestions_for_better_space_utilization_on/	"&#x200B;

https://preview.redd.it/qwm8t2zk2tva1.png?width=1868&format=png&auto=webp&v=enabled&s=d1e864be512937ce4f62609537b3bd2995991e49

So this has been my wall tablet setup for several months now (2x Fire HD 10 - 2017, Fully-Kiosk, + [kiosk-mode](https://github.com/NemesisRE/kiosk-mode) \[via ?kiosk to hide sidebar/header}). I found this design originally on FB, and just changed the info to make it more applicable to me.  I'm not married to any of the information presented, though quick access to the two bedrooms (and especially turning their lights on and off) is helpful.

I may need to go with two separate views (one for each tablet) because my use case for each is different. The one near the front door I'm largely checking weather related things before I leave. With the upstairs one, besides the bedroom access, I'm also locking and unlocking the front door (on the first floor) as a last step before going to bed, particularly if that's well before my lock-for-the-night automation.

Really, looking for thoughts/suggestions/whatever on cards/integrations/etc that people think might be helpful. I'm not entirely comfortable with card-mod, because my CSS ""skills"" are woefully out of date, but I can always muddle my way through.

Things that might be helpful to know about me in terms of what could/should be presented:

* WFH
* No HAF needed
* A variety of doctor's appointments, all over the place
* Most lights are tied to motion sensors
* allergic to a stupid amount of airborne shit
* 2 cameras I can see feeds of, one (Nest Doorbell) easier to access than the other (Eufy Floodlight)
* East Coast US

Feel free to ask me questions about things I might have integrated already if you've got ideas that may be reliant on something specific.

Thanks in advance for any suggestions/etc!"	5	"['ReallyNotMichaelsMom: Is there a reason you favor dashboards over automation? I know some people just like them, but i get the feeling they might be frustrating for your use case.', ""chicknlil25: I'm not sure I favor dashboards over automations, necessarily. I feel like sometimes information should be available on demand, like is the air quality/allergen level bad enough that I should be traveling with my epipen?\n\nI've got a number of automations, but there are some things (like turning on a light in the guest bedroom long enough for me to grab a clothing item) that doesn't necessarily make sense to automate, IMO. Any sort of motion/PIR sensor would work for the vast majority of the time, yes, because it's just me, but the second I have guests, that's problematic. And while the lights in my bedroom have automations to turn them on or off, sometimes I turn the lights off, especially if a migraine has me staying in bed outside my normal sleeping hours.\n\nThere are other things (like the weather alerts that's a conditional card currently) that I haven't been able to figure out the logic to automate in a way that would be beneficial to me. Like, I'd for sure like to be woken up ASAP if there's a (rare) tornado bearing down, but I don't really need to know immediately if we're getting walloped with a blizzard. \n\nThat all being said -  I'm happy to listen to any thoughts or suggestions for not just the dashboard, but how I can better be using HA in general. I can always edit the OP with my other views if it would be helpful."", 'ReallyNotMichaelsMom: I think it\'s about use cases and how you like to manage things, which is why I asked. \n\nFor example, while I haven\'t had anyone in my guest room, I do have a ""guest"" toggle button which would change my automations (turn some off, change others) if I did have a guest. I have a night time routine that turns off lights and locks the door, etc, but only when I plug my phone in next to the bed. Then, because I don\'t trust my automations to run correctly every time, I have a back up automation where ""Jarvis"" gives me a night time status report on whether the door is locked or unlocked, and if there are lights on in any rooms. \n\nI don\'t have allergies at the epipen level (yet). But I do have an announcement that triggers when I open the door to let me know what the weather is and if I should take a jacket. \n\nI have chronic pain (herniated disk and spinal stenosis) and no compelling reason to get out of bed in the morning, so my house stays in ""sleep mode"" (lights off, and my smart speakers stay in ""do not disturb"") until I actually get out of bed. (And there\'s a nap mode, but that\'s just basically sleep mode for the middle of the day.)\n\nHowever, having said all that in an attempt to lure you into the joys of full automation, not everyone has the time to do all that :) \n\nI do know there are a couple of dashboard videos out there that seem like they change based on time of day, or whatever. I only use my dashboard for troubleshooting :) \n\nIf you don\'t get answers here, you might find something under ""home assistant interactive dashboards"". I\'ll see if I can find anything, and post back.', ""chicknlil25: I've already got a button in that bedroom (one of those Moe's knobs) that I think I could probably set to double-tap to put into guest mode. Guests wouldn't be liable to double-tap it (they only need to single-tap to launch DashCast on a Nest Hub) so that could be a viable option. Would you then suggest some sort of motion sensor...somewhere in that room...to pick me up when I go in to grab clothes?\n\nYour bedtime routine timers make sense - I'd just need to get in the habit of charging my phone nightly (it's got a stupidly fast charger that I can use to charge it from near zero to full in roughly 30 minutes during the day), but that's not outside the realm of possibility. The whole house locking, etc right now is time based. But my lights turning off (and my bedroom humidifier turning on) are based on my butt/hip activating the pressor sensor on my bed - so maybe I use that with a time condition at night? Only problem there is that it's SO sensitive that a little shift either way will acivate or deactivate it, which would re-trigger the automation. Hmm. You're giving me things to think about, at least!\n\nI've got a set of strip lights at my front door that, if I can get a template sensor properly figured from IMAP, should show how bad an overall allergen day it is by color. I'll get there, right now I just don't have the patience to figure it out.\n\nThanks much for all your thoughts and feedback - definitely not what I was anticipating when I made this post but incredibly useful nonetheless!"", ""ReallyNotMichaelsMom: I have a Withings sleep mat but, like yours, it triggers off and on because it's too sensitive. I ended up having conditions to make sure I was actually out of bed. Right now, I have three conditions to make sure I'm really awake. \n\nFirst is that my phone is unplugged (though I did think about using an NFC tag and setting it up so that if my phone is on the tag that means I'm asleep). Second, that the sun is above the horizon (because seriously). Third is that the smart plug I'm using to charge my phone is at a number lower than .5 power. \n\nIf I were a man, I'd probably wear belts and suspenders :)""]"
1682330314.0	24-Apr-2023 02:58:34	any tips on how to avoid a disaster whilst changing the LAN IP of my router?	Pir-8	3	12xaehf	homeassistant	https://www.reddit.com/r/homeassistant/comments/12xaehf/any_tips_on_how_to_avoid_a_disaster_whilst/	"Long story short - 
other than the obvious “don’t do it” - is there a comprehensive guide anywhere on the steps to take if you need to change the IP of your router without wrecking your existing HA setup? (or can anyone give me some pointers please)
e.g. I want to switch from XXX.XXX.8.XXX to XXX.XXX.1.XXX

Long story Long - 
I’m running supervised HA on an rpi3 - with quite a number of Zigbee devices & automations working well… however, I have a certain AV device on my network which has an inbuilt static IP that just will not change from the default XXX.XXX.1.XXX (I have tried everything but it just will not budge and so far will not be recognised by my router, but works perfectly fine with an older (redundant) router I had lying around which has the correct LAN IP format set-up)

Currently feeling like I have £1k worth of AV hardware which I will need to hook-up to a separate network in order to operate it remotely… which kinda defeats the purpose of the integrated smart home I am trying to create.

Last resort I can see to get everything to play together is looking like updating my router IP from XXX.XXX.8.XXX to XXX.XXX.1.XXX to accommodate it… although know this will involve a load of issues to my HA setup.

IF I go down this route, how do I set myself up for success beforehand on HA so that I don’t kill the previous year of hard-work getting it sweet?
(would be lovely if I just changed the IP and everything was seamless, but know that is never quite the case with HA)

Again, I understand the base case response will be “don’t”… but please, any guidance would be massively appreciated!"	8	"[""AlTeRnAtE-PoIsOn: Does the router that is running now, support vlan? Then that would be your answer. On the other hand, if everything in HA is zigbee, there should be no problem in changing ip's"", ""StillLoading_: Can you post the make and model of the AV device ?\nI've seen some strange things, but burnd in IPv4 addresses I can count on one hand. Maybe there's just some special trick to it."", 'emzy21234: I still have nightmares from the time I did this but I was a bit naive to the consequences and didn’t prepare at all. Good luck.', ""ShittyFrogMeme: Check if your router supports VLANs as they could be an easy solution. Otherwise, you'll just have to go through and update IPs. I recently had to do a very similar thing and it's basically just make the switch and fix everything that's broken. Fortunately I have a lot of my stuff hooked up through host names. Otherwise it was a bit of a pain, but didn't take that long relatively speaking."", 'Pir-8: thanks for all the advice! had no idea what a VLAN even was until this thread… on the case now and sounds like it will solve the trick without too much hassle!', ""Tusspot88: I did this a couple of weeks ago while installing an OPNsensec router. It took me a lot longer than I hoped since some some devices didn't DHCP to the new addresses at all. I think a lot of that was because my new router did not like bridging LAN ports, so I had to set up a new switch.\n\nHaving DHCP configured on your router helps a lot, and understanding it.\nBe ready to map static IPs. I've started doing this for all wifi IOT devices - shelly, tasmota, etc.\nBe ready to resolve IP conflicts if you have a complex network - I had some APs that tried to match addresses to my router.\nDouble check if you have any devices that declare their IP (like a Linux server that isn't using DHCP). Have a plan to update them.\nI had to manually go in and remap my sevices (like MQTT server names). I tried to use Docker bridge network naming instead, but some services did not like that. I've now set up a reverse proxy, so I need to revisit that."", 'legendary_footy: This.....easier, safer and a hell of a lot less headache', ""AlTeRnAtE-PoIsOn: Still no answer... What else besides HA and that AV stuff is on your network? You only mentioned does two and the rest zigbee. If it's no more then 6 or 7, or even just 3 and the rest zigbee, just change the ip of your router!""]"
1682327652.0	24-Apr-2023 02:14:12	Light slider through alexa media player	ThatHackerGuy50	1	12x9igo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12x9igo/light_slider_through_alexa_media_player/	Any way I can have a slider on the dashboard that accepts a percentage based on the slider input and them calls the service with that number included, perhaps as some sort of variable. Thx	1	['ZAlternates: The built-in tile card has options for a light slider in the latest release.']
1682324068.0	24-Apr-2023 01:14:28	Custom iPhone notifications based on local weather? (eg. freezing, high wind etc)	Pir-8	0	12x8cbj	homeassistant	https://www.reddit.com/r/homeassistant/comments/12x8cbj/custom_iphone_notifications_based_on_local/	"Hi there,
I’m looking to set up an automation/ script which sends a notification to my phone when there is specific weather conditions forecast - are there any pointers/ guides available for something similar?

(e.g. if the weather is expected to fall below freezing, then send a reminder to shut-off all external pipeworks - also - if wind gust is forecast to reach Xmph, then send reminder to put outdoor garden furniture in the garage)

I have tried to set one up myself using AccuWeather but with little success so far :("	3	"['mnoah66: Yes you’ll want something like a template binary sensor where you’re checking for whatever “severe” keywords exist in the forecast text you want to check. \n\nThis thread should get you on the right track. https://www.reddit.com/r/homeassistant/comments/keeu1t/any_ideas_for_upcoming_weather_triggers/', 'Pir-8: thank you!', ""exclaim_bot: >thank you!\n\nYou're welcome!""]"
1682323641.0	24-Apr-2023 01:07:21	Am I the only one struggling with Tuya-CloudCutter?	brettfk	1	12x8788	homeassistant	https://www.reddit.com/r/homeassistant/comments/12x8788/am_i_the_only_one_struggling_with_tuyacloudcutter/	"First off I realise this is not necessarily the best place to post but figure it's worth a shot. Like (I imagine) many others I have some devices I can't convert from Tuya because Beken. Then I watch Digiblur's video on CloudCutter and got all excited, and gave it a go.

I don't know if it's just me but I have **not** had a great deal of success. Of the devices I have tried, which are 3 x Arlec PC191HAs (on the supported device list) and 1 x Arlec PC192HA (not on the list but found a version and chip match), I've had 2 of the 3 PC191HA devices 'bricked\*' while the other running the forked ESPHome is OK but does not report energy usage like it is supposed to.

The PC192HA is also bricked.

Running the script and following the instructions I didn't get any errors; the devices simply stopped booting after the cloud cutting.

Is anyone else seeing similar results or I am doing something dumb?

&#x200B;

\*Apparently the chips can be recovered by flashing SPI but you need a Pi for that."	14	"[""chozobee: The devices aren't bricked, but won't do much without Esphome code added. Are they showing as online in LibreTuya ESPHome (they won't appear in regular Esphome since the hardware isn't supported yet). The one you used during cloudcutter.Did Cloudcutter complete successfully?  \nEdit: Wrong esphome name."", ""ferbulous: It's kinda hard to get those  bricked\nI've got a few tuya devices running openbeken or libretuya and only 1 stopped working (water heater switch)\n\nAnd that was after repeated flashing because i couldn't find the pin for the touch button. Was gonna use spi, but i ended just swapping with esp."", 'Marc-Pot: I’m using localtuya, after blocking their internet access through a VLAN (Don’t forget to block their DNS too, else they won’t work.) they work fine.\n\n(I’m aware this isn’t the answer you asked for.)', ""brettfk: Yes, CloudCutter completed successfully with no errors at all which is why I was confused. The first device I tried flashing was using LibreTuya/ESPHome which failed, so on the second I just used the OpenBeken firmware.\n\nSecond device was a success and rebooted OK, so I then tried a third also with the OpenBeken firmware and that also borked itself.\n\nI've been able to get them working after removing the chip from the board and flashing via serial but I didn't want to have to do that."", ""brettfk: So it turns out they weren't 'bricked'. They definitely stopped working and required a serial flash but I found a post somewhere that says in some devices with the WB2S, the Rx and Tx pins are connected to buttons, LEDs, etc. That explained why I couldn't flash it.\n\nAfter removing the WB2S from the board and then trying (a few times) to get the OpenBeken firmware on there, I've now got a working device again.\n\nI also note the serial flash 'failed' the CRC check but seems to work anyway..."", 'sero_t: Do you have a short explanation on how to block the vlan and dns, is this in the modem or because i will get anew router in couple months one with vlan support', ""brettfk: It's all good. No reason it can't be discussed anyway :)\n\nI used LocalTuya for a little while but it drove me nuts. The notifications I had set up for appliances being finished combined with having to restart it almost as often as the Tuya integration itself just drove me mad. I have about a half dozen devices through Tuya that I am/was looking forward to cutting and running ESPhome on."", 'chozobee: If cc completed successfully, it should have flashed esphome and added your wifi. Do you see it online via router? I had one fail the last step and failed back to its own AP. To confirm you\'re checking in LibreTuya ESPHome and not ESPHome? They are different and beken devices do not yet appear in ""regular"" esphome. If you ran cc from a raspberry pi, libretuya esphome runs independently from there in addition to your regular esphome you may run elsewhere. Your beken devices appear in this other version only.\n\nI got sick of maintaining two devices, so I\'ve since migrated mine to an add-on:\n\n[https://github.com/libretuya/esphome-hass-addon](https://github.com/libretuya/esphome-hass-addon)  \n\n\nEdit: beken', 'Marc-Pot: It’s in the router. You can find a loooot of tutorials on youtube, just search for IoT VLAN.\nTutorial usually shows the rules you need to add to the firewall.', 'stevekuchta: The Hook Up did a nice video series a while ago that does a good job of explaining it. It’s not super complicated, but it does require a lot of planning.\n\nI think this is the video where he discusses VLANs, but if you are looking into doing this, I would recommend the whole series (3 videos I think). \n\nhttps://youtu.be/vz3u6E3Fxi8', 'Marc-Pot: Since blocking DNS I haven’t had the need to reload the integration. Before blocking the DNS it was a shitshow.\n\nAnyways, good luck fixing your stuff!', 'sero_t: Yes i had looked in to it a while go now you say it, had forgotten it thanks. I am waiting on my new router i will receive later this year', 'stevekuchta: If this is interesting or fun for you (like it is for a lot of us), you can start mapping out the different VLANs on paper in preparation for getting your router. It will also help you identify any other devices you may need (like managed switches). Know that you don’t need everything at the beginning and take your time implementing things. It’s easier to identify problems if you set things up piece-by-piece. Good luck!', 'sero_t: Yes i had some scratched somewhere already. Also when i looked in to it from the videos from the hookup. Also did some front work in the unifi switch.']"
1682319030.0	23-Apr-2023 23:50:30	Ring contact sensor issue	adnan_malik1	1	12x6g84	homeassistant	https://www.reddit.com/r/homeassistant/comments/12x6g84/ring_contact_sensor_issue/	"Me being new to home assistant trying to pair Ring Alarm system and contact sensors (gen 2) but unable to do so. 
I purchased and inserted the Nortek USB which includes Zigbee and Z-wave both. 

In home assistant I configured Z-wave JS as well. But after that when I try to add devices, ring contact sensors or any other devices are NOT detected. It keeps searching and then times out. 
Are there any steps I’m missing? Appreciate any input."	3	"['ProfessorSlocombe: What hardware are you running HA on?   If it is a PI4 then it is recommended that you use a USB extension cable instead of  directly plugging the dongle into the PI.\n\nAlso are the sensors in pairing mode when you try to add them?', 'adnan_malik1: Thanks for the recommendation of using the extension cable as I’ve the dongle plugged in directly. Yes, it is running on Pi4. I will make the switch.\nContact Sensors are already connected to the ring alarm base. Should it be unpaired and then re-paired with the HA using Z-wave dongle?', ""ProfessorSlocombe: If you want the sensors to be directly referenced by HA then you will need to unpair the sensors and then pair again with HA. \n\nI don't have the ring ecosystem so I don't know if there will be any ramifications by referencing the sensors directly.""]"
1682316492.0	23-Apr-2023 23:08:12	How can I track my Townhouses energy usage	misterfoxtrot	4	12x5g6d	homeassistant	https://i.redd.it/1w98c3k0xrva1.jpg		22	"['Crafty_Station_3617: its shelly available in australia?\n\nIf yes, Shelly EM', 'misterfoxtrot: I am looking to track my overall power usage in HA. I dont have any solar so do not need to track energy in.  I live in Australia and am using ESPHome in HA if the solution involves that.  \n\n\nPreferably would not like to use an electrician to switch out the fuses.', 'Roemeeeer: Emporia Vue 2 flashed with ESPHome works great.', 'xaris33: If you are comfortable with esphome then pzem004t, costs peanuts from Aliexpress.', 'Additional-Nerve-421: I can highly recommend this product. It integrates into HA perfectly and easy. And does not require any additional “non-moveable” hardware other than the current transformer clamps \n\nhttps://iotawatt.com/', 'Goldoni91: So if I was looking for something to track my power usage for the month/year from two different breaker boxes. What should I buy or direction should I go?', 'dk_DB: Shelly Pro EM3 or schelly EM3\n\nRelatively cheap and will do the job. No nodding required - and will fit on the bus bar. (or din rail or how ever you call them).\n\nAs you (whalt looks like) only have one phase you only need of the three clamps to be connected.\n\nAlso - that panel is due to change - looks like the platic will brittle awwy if you touch that.', 'HowHaveIEndedUpHere: Be extremely careful. It’s against the law to do anything with electrical wiring in Australia. \n\nYour insurance will also be void if any electrical fault causes damage to your home. \n\nAlso, an electrician may refuse to do any work if any uncertified devices or wiring is in your house. When they work on your home, they sign off on its electrical safety. There are serious  implications on their business and license if something happens to your house and they signed off that it’s ok.\n\nYou can find lots of devices online that will technically work and might even meet Australian Standards if they were certified. Sonoff seems good - but I don’t know if they are allowed to be connected.', 'jingois: https://shop.openenergymonitor.com/6-channel-energy-monitoring-emontx-v4/\n\nClamp sensors around the wires inside the switchboard, easy.', ""the_iron_cobra: Electrician in Australia 🦘\n\nCan confirm that a Shelley em3 will be perfect for your use case here. Fills the empty din rail spot to the right of that nhp breaker and will give you the ability to.konitor overall consumption plus 2 individual circuits. Native Shelly app is awesome in HA.\n\nI have been personally using the em3 for around 3 years with no issues.\n\nI have also installed a Shelley EM in a very simple lar scenario for a customer with similar results but only overall consumption monitoring. \n\nIf you're in Wollongong I can help you out!"", 'esqulin: I confirm and works great. Is non invasive', 'Late-Act-9823: PZEM-004T Voltage Energy Multimeter Module, bow it could help with monitoring of energy using?', 'wigam: I’ve run the Shelly EM3 for a year, it just works.', 'Late-Act-9823: I red it’s a wifi module. How do you connect it to the HA? I worked with Zigbee devices only.', 'Physical-Constant148: In this case I think smart plugs or switches can help, only buy if they have energy consumption output', 'xaris33: https://preview.redd.it/bstp2hvhawva1.jpeg?width=1080&format=pjpg&auto=webp&v=enabled&s=60827cfa97b5f46ad6896ece77e7c74a9595187a', ""LambdaNuC: There's a native local wifi integration for Shelly devices."", 'Late-Act-9823: Sorry, I still can’t get it. On your screenshot I can see only current situation, how it helps to understand how many energy was used last month?\nOr do you mean you could store emerge every minute for instance, calculate the average and them sum it?', 'Late-Act-9823: Will it work if I have bad wifi connection in the place where I’d like to place this Shelly? Zigbee devices work perfectly, I guess because they create their own network between each other.', ""xaris33: There's no need to calculate anything, it all goes to the Energy dashboard\n\nhttps://preview.redd.it/dqzouz3x70wa1.jpeg?width=1080&format=pjpg&auto=webp&v=enabled&s=9dfe020713a94addb765903b695b643f8c889c09"", ""LambdaNuC: They don't need great signal, but honestly the only way to know is to try."", 'Late-Act-9823: Wow! Thanks a lot! I’m going to order this PZEM. It’s amazing.']"
1682314363.0	23-Apr-2023 22:32:43	Automatically Arrange Cards Based on Condition.	Drummerjoey567	1	12x4nse	homeassistant	https://www.reddit.com/r/homeassistant/comments/12x4nse/automatically_arrange_cards_based_on_condition/	I'm setting up a dashboard view for all the lights in my home. Is there a way to make the card show at the top of the stack only when on? So all the lights that are on are automatically placed at the top and not buried somehwere in the dashboard? I'm fairly new to HA and I've attempted to figure it out. Thanks in advance!	3	['antisane: You could do it with conditional cards.\n\n[https://www.home-assistant.io/dashboards/conditional/](https://www.home-assistant.io/dashboards/conditional/)', 'Additional-Nerve-421: You could also consider using the badges and conditionally only showing the badge when the lights are on. This is useful when you want to see what lights are on (you normally don’t care about those that are off)\n\nUse the Entity Filter Badge\n\n[https://www.home-assistant.io/dashboards/badges/](https://www.home-assistant.io/dashboards/badges/)\n\nhttps://preview.redd.it/flnvgockfvva1.jpeg?width=1170&format=pjpg&auto=webp&v=enabled&s=96768bca3f8ba8486773d439b1b54259ba187b5f', 'Drummerjoey567: That should work, I can duplicate each card. A top and bottom section. The top will display cards that are on and the bottom displays those that are off. Thanks!']
1682310721.0	23-Apr-2023 21:32:01	Help with getting Feit LED bulbs to goto cool white	mattfox27	2	12x35tl	homeassistant	https://www.reddit.com/r/homeassistant/comments/12x35tl/help_with_getting_feit_led_bulbs_to_goto_cool/	I bought some feet RGB light bulbs from Lowe's and no matter what I do I can't get them to just go to normal colors like cool white or warm white.  When I select just white in the color wheel it's like a weird looking white color like with blue in it...	0	[]
1682303651.0	23-Apr-2023 19:34:11	Battery free tablet kit	lokaaarrr	0	12wzx7w	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wzx7w/battery_free_tablet_kit/	"Might be of interest here, a kit to disable the battery on an android tablet:


https://youtu.be/lCkP_AUMZzw"	6	"[""antisane: I would think that leaving the battery in, and have an automation that charges it when it drops a certain threshold, and stops charging at another threshold, would be better and save money on electricity. Also, if you need the tablet for something else it's not hobbled by having to be on a cord all the time.\n\nAlso, anyone notice the lack of specs on some of the tablets they are selling?"", 'ThePixlPirate: Here’s the link to the website so you aren’t stuck watching the video\n\nhttps://decentespresso.com/accessories', 'lokaaarrr: But much more complex.\n\nThe tablets are for use with the espresso machine they make, you probably don’t want one.', 'antisane: ROFL! I completely missed that (although I did wonder why a few tablets had ""espresso"" in the name...', 'chicknlil25: Not really that complex at all, though. Smart plug and either Fully-Kiosk, the HA app or both on the tablet (either of which sends battery data). Automation using numerical state of that battery data, triggering the plug on or off depending on battery level. Hardest part is probably acquiring the smart plug, because the automation setup can be done in a few minutes, max.', 'lokaaarrr: Yeah, just a similar situation with a tablet always plugged in']"
1682303221.0	23-Apr-2023 19:27:01	ted5000 questions	notsosureaboutit	1	12wzp3f	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wzp3f/ted5000_questions/	"Hello,

I recently bumped into an inexpensive, still in a box, two sets of ted5000 devices. I figured I could dip my toes into the power monitoring with HA. At first the gateway device wouldn't save any settings whatsoever, but after I got firmware updated, I was finally in business. At this point I have one MTU, one gateway, and two remote displays (had to solder new rechargeable coin batteries for those)  


I'm wondering if anybody is still using those devices with HA, and if so:  


1. The built-in support gets me current power consumption in Watts, and current line voltage. Unfortunately, power consumption does not show up in the Energy tab at all. Do any of you poll the APIs directly from the device, and if so - would you mind sharing your configs?
2. I could not save any settings with System Settings Wizard until I upgraded firmware (both gateway & footprints). After upgrading to the latest version I could, but the Utility Settings Wizard still doesn't seem to save any settings, eg: I can't set actual utility rates, etc. Am I missing something obvious?  


Thanks in advance!"	0	[]
1682301319.0	23-Apr-2023 18:55:19	Getting this error after the last studio code server update. Any help?	SCwarrior92	8	12wysqh	homeassistant	https://i.redd.it/j2i9d7mj5sva1.jpg	I’m unable to access home assistant through the app while on my home network. If I turn off my wifi I can access it (through Duck DNS). Any idea what’s going on or how I can fix it?	3	"[""iWQRLC590apOCyt59Xza: Don't use homeassistant.local, the certificate isn't valid for that name."", 'zSprawl: Open the site in your web browser and examine the certificate and errors.', ""kneticz: I've moved from `.local` to `.home` to avoid any issues with the .local domain.\n\nhass.home and hass.mywebsite.com for external""]"
1682301147.0	23-Apr-2023 18:52:27	Trigger main Thermostat from other room sensor + generic thermostat	mkujoe	0	12wyq1p	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wyq1p/trigger_main_thermostat_from_other_room_sensor/	"Hi,

&#x200B;

I have been making some progress in getting each room set up with a sensor and identified a generic thermostat for heat and cool for each room. Now for 'remote'-steering the actual thermostat I started implementing this automation logic below. Basically when the remote room wants to cool, the main thermostat is set to cool and then its target temperature is set to one degree lower than the current temp to ensure that it's getting started. Once the remote room reaches temp, the thermostat gets turned off. Similar automation for heating but with target temp set to one degree higher.

&#x200B;

Currently I experience though that the thermostat does not update the target temperature, if I adjust it from the remote room. Is there a way I can debug the automation with logging? Is there something else wrong about the logic or the way I try to update the value?

&#x200B;

Thanks

&#x200B;

\- id: '0001'

  alias: 'Smart AC Control'

  trigger:

platform: state

entity\_id: climate.master\_bedroom\_ac

attribute: hvac\_action

to: 'cool'

  condition:

condition: template

value\_template: '{{ states.climate.master\_bedroom\_ac.attributes.temperature < states.climate.master\_bedroom\_ac.attributes.target\_temp\_low }}'

  action:

service: climate.set\_temperature

entity\_id: climate.upstairs\_ac

data\_template:

temperature: ""{{ states.climate.upstairs\_ac.attributes.temperature - 1 }}""

\- id: '0002'

  alias: 'Update Main Thermostat Target Temp'

  trigger:

platform: numeric\_state

entity\_id: climate.master\_bedroom\_ac

attribute: temperature

above: ""{{ states.climate.master\_bedroom\_ac.attributes.target\_temp\_low }}""

  action:

service: climate.set\_temperature

entity\_id: climate.upstairs\_ac

data\_template:

temperature: ""{{ states.climate.master\_bedroom\_ac.attributes.temperature }}""



\- id: '0003'

  alias: 'Smart Thermostat Control'

  trigger:

platform: state

entity\_id: climate.master\_bedroom\_heating

attribute: hvac\_action

to: 'heat'

  condition:

condition: template

value\_template: '{{ states.climate.master\_bedroom\_heating.attributes.temperature > states.climate.master\_bedroom\_heating.attributes.target\_temp\_low }}'

  action:

service: climate.set\_temperature

entity\_id: climate.upstairs\_ac

data\_template:

temperature: ""{{ states.climate.upstairs\_ac.attributes.temperature + 1 }}""

\- id: '0004'

  alias: 'Update Main Thermostat Target Temp'

  trigger:

platform: numeric\_state

entity\_id: climate.master\_bedroom\_heating

attribute: temperature

below: ""{{ states.climate.master\_bedroom\_heating.attributes.target\_temp\_low }}""

  action:

service: climate.set\_temperature

entity\_id: climate.upstairs\_ac

data\_template:

temperature: ""{{ states.climate.master\_bedroom\_heating.attributes.temperature }}"""	0	[]
1682300031.0	23-Apr-2023 18:33:51	just another wall mounted dashboard	ColinFoxMSD	155	12wy82k	homeassistant	https://www.reddit.com/gallery/12wy82k		33	"['Stealth022: How do you display the NHL scores? 😀', 'hoodlumj3: Lovely stuff, the theme is easy on the eyes haha.\n\nAny particular details you\'d like to share on what tablet that is and how you\'ve powered/ mounted it?\n\n( I\'m guessing it\'s an amazon fire hd tablet 10""?)\n\nAnd does it dim (at night) or shut off when not used for a while?', ""ColinFoxMSD: for those asking here is a list of everything I use in my setup (most of which came from [HACS](https://hacs.xyz/))\n\n**Theme**\n\n* [Waves](https://github.com/tgcowell/waves)\n\n**Integrations (HACS)**\n\n* [Govee Lan Control](https://github.com/wez/govee-lan-hass) (Back TV Lights)\n* [Frigate](https://frigate.video/)\n* [Fully Kiosk Browser](https://www.fully-kiosk.com/)\n* [Team Tracker](https://github.com/vasqued2/ha-teamtracker)\n\n**Integrations (Home Assistant)**\n\n* Android TV (3 Fire TVs)\n* Google Nest\n* Roomba\n* TP-Link Kasa (Light Switches and Outlets)\n* Tuya (Outlets)\n* AccuWeather (API for Weather Card)\n\n**Frontend Cards (HACS)**\n\n* [Lovelace Animated Weather Card](https://github.com/bramkragten/weather-card)\n* [Team Tracker Card](https://community.home-assistant.io/t/real-time-sports-scores-w-teamtracker-and-teamtracker-card-beta/456923/304)\n* [Mushroom Cards](https://github.com/piitaya/lovelace-mushroom) (The light cards with sliders)\n* [Frigate Card](https://github.com/dermotduffy/frigate-hass-card)\n* [Vacuum Card](https://github.com/denysdovhan/vacuum-card)\n\nThe card I use for lights plugged into my smart outlets or smart wall switches is just the Home Assistant Button Card. Just pick the best icon that matches the device.\n\nThe link for the team tracker card is probably the most useful for setting up team tracker in general. The teams need to be added to your configuration.yml individually and 32 NFL teams, 30 MLB teams, 32 NHL teams, and any other sport you want to add, it gets a bit tedious. However, there are already precompiled lists by some very generous people and can be copied and pasted. you might need to fix some minor formatting but that's it.\n\nAlso, for those of you who like to make your columns aligned and even, the team tracker cards expand when a game is in progress to give you more information. So keep that in mind"", 'Large-Adhesiveness94: Looks awesome. I like the variety of integrations displayed. \nWhich dashboard is this? Any third party?\nCan you attach any steps or web link document that can help?', 'chicknlil25: ***GO BRUINS!***\n\nAhem.\n\nHave you considered [kiosk-mode](https://github.com/NemesisRE/kiosk-mode) to hide the sidebar (since it looks like you use the header to navigate)?', 'mark2fly1034: Do you have a link to said dashboard setup', 'zSprawl: I like but really wish you could make all the columns the same height…', '0gtcalor: Looks great! Which clock card are you using?', 'danTHAman152000: Nice job. I’m currently getting my dashboard configured on a FireHD 10” with a MB Mount. I’ve been debating on a larger option (12.4” galaxy FE) but didn’t really like the mounting options. I ended up changing to vertical orientation for my dashboard and like it a bit better.', 'reasonman: Hey how did you get your thermostat card to drop the decimal? When you change the temp does it go by whole degrees or in tenths? I cannot figure out how to change the resolution to a whole number.', 'CrankyCoderBlog: Nice!! What mount is that?', '1aranzant: [https://github.com/vasqued2/ha-teamtracker](https://github.com/vasqued2/ha-teamtracker)', ""ColinFoxMSD: yes!\n\nI have a Fire HD 10 tablet in a Smart Home Mount from Amazon. behind the tablet is a Geeni smart outlet with 2 USB ports, which I use with the Type-C cable from Smart Home. I use an automation to turn the outlet on and off to charge the tablet so the battery doesn't expand. \n\nThe tablet screen turns off at 11pm and turns back on at 6am.\n\nMy 4 IP cameras are set up in Frigate, and I use the Birdseye on my 3rd dashboard view along with automations for push notifications for various devices.\n\nwhen I get a chance I'll add links to all the cards, themes and integrations i used in my setup"", ""ColinFoxMSD: I was sad that I didn't have time to go to game 3 or 4.\n\nbut I use Frigate and some of the other sidebar buttons so I decided against kiosk mode. I prefer to go into the Frigate UI to watch recorded events. I assume there's a way to do it in main my dashboard but it seems easy either way."", ""Legendary_Outlaw-: I was about to comment that I have the same scoreboard at the top of my dashboard, but the teams are in opposite order... Glad someone else cheered the B's on first. \nAnd +1 to kiosk-mode as well."", ""ColinFoxMSD: it's a combination of several different cards and integrations. I can shoot you a list of what I use next time I'm on my computer.\n\nthe theme is waves"", 'chicknlil25: You *probably* could with card-mod (and a chunk of CSS) but I would guess it would depend on how important it was to you.  For me, I try to make mine ""close enough"" with the understanding that at some points during the day, things will be out of alignment.', 'xHASHTAG_PANTSx: boring\nlol', 'chicknlil25: That appears to be [Digital Clock Card](https://github.com/wassy92x/lovelace-digital-clock).', ""ColinFoxMSD: I debated on a larger tablet but after getting the Fire tablet setup I'm very very happy with it."", 'ColinFoxMSD: so it originally showed as Celsius with a decimal, but when I switched to Fahrenheit, the decimal went away.', ""ColinFoxMSD: it's a Smart Home Mount. they are 3D printed and they make mounts for several different tablets \n\nhttps://www.amazon.com/dp/B0BCQXZ9ST?ref=ppx_pop_mob_ap_share"", 'ColinFoxMSD: probably my favorite integration', 'Operations8: What automation do you use to do this (sorry i am a newbie), and more important how / why would this stop the battery from expanding?', ""chicknlil25: Totally makes sense why you'd keep both then. I like to mention it because some people aren't aware it exists."", ""ColinFoxMSD: yea it doesn't bother me so much. I prefer this over large gaps and making the mobile app look off"", 'danTHAman152000: Yeah it’s a great setup. I have more than one location to put a tablet. I have a similar spot like yours, but in my master room I have a decent amount of room on the wall and was exploring my options a bit for larger display.', 'reasonman: weird, im already F. wonder if i change to c then back to f itll work.', 'CrankyCoderBlog: Gotcha.  I was hoping you had 3dprinted it yourself and had a good source for the files.  I have tried to print some I have found but either they only work if you have a large format printer or the pieces are way too tight even adjusting for tolerances.  Thanks for the Amazon link.  I may end up biting the bullet and going that route and buying it.  Even though I have 3 printers here lol', ""Th3R00ST3R: I can't seem to get PGA working.   \nI set PGA as the League and an \\* for the Team.Athlete, but it says [sensor.golf](https://sensor.golf) is unavailable. Any suggestions?"", ""ColinFoxMSD: so the automation turns the outlet on when the tablet battery reaches 30% and off when it reaches 80%. this way the battery doesn't sit with a full charge for days, months, or years. when a lithium-ion battery sits with a full charge and not able to drain it will usually expand and ruin the life of the battery over time.\n\nalso im old and that may not be the case anymore"", ""chicknlil25: I end up doing lots of nesting, and ample usage of blank mushroom title cards as fillers. They're usually just enough space to even things out."", 'ColinFoxMSD: shoot me a PM with what you put in your configuration.yml and your card. im happy to help']"
1682295530.0	23-Apr-2023 17:18:50	Lovelace Collapsable cards Markdown Title Card Width	Anonimo32020	0	12ww0x3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ww0x3/lovelace_collapsable_cards_markdown_title_card/	"I just created a Lovelace [Collapsable card](https://github.com/RossMcMillan92/lovelace-collapsable-cards) using a Markdown card as the Title card so that the title is the same font as all of the other titles in my dashboard. However the markdown card does not use the full width of the card. The [Expander card](https://github.com/Alia5/lovelace-expander-card) does use the fill width but I have to click on the arrow to expand and collapse which I don't want to have to do. With the Collapsable card I can click anywhere on the title and it will expand/collapse.

What can I do to get the width of the title in the markdowns the same as the Collapsable card minus the dropdown arrow?

My Collapsable card - [https://i.imgur.com/2t66CV1.png](https://i.imgur.com/2t66CV1.png)

My Expander card - [https://i.imgur.com/sF4QH22.png](https://i.imgur.com/sF4QH22.png)"	0	[]
1682294515.0	23-Apr-2023 17:01:55	Security Cameras and Doorbell Cam	Sm0k3y175	0	12wvipa	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wvipa/security_cameras_and_doorbell_cam/	Just purchased a home in October. I have a bunch of smart devices, but all are cloud based and Wi-Fi dependent (Google Homes, bulbs and plugs using Geeni App, Nest Thermostat and a handful of cameras on Wyze). I've be doing a lot of renovations, but that is now winding down and I am looking for some recommendations on security cameras/doorbell cameras. I will be looking to migrate everything to a local network utilizing Zigbee2MQTT so would want compatibility there. Any recommendations are appreciated.	3	['_Rand_: Cameras don’t have anything to do with zigbee aside from some Aqara cameras that seem to have a built in hub, which I don’t believe work with zigbee2mqtt. Any interoperability will be with zigbee2mqtt/HA being the man in the middle and with whatever cameras you chose.\n\nWhat you want are cameras that support rtsp/onvif and record them with frigate/viseron/zonemindee/blue iris etc.\n\nPersonally I’ve had good luck with Reolink cameras, but there are a bunch available from hikvison, empiretech etc.', 'beornraukar: The new Reolink Doorbell has totally local integration into home assistant through the official addon. You can then block the internet access to the camera and it still works great.', 'Flipontheradio: I second the reolink doorbell. Just be aware it does not work with your existing chime box. This was a non issue for me but something to be aware of.']
1682292002.0	23-Apr-2023 16:20:02	NFC tags and automations	way_out_space_ranger	2	12wu8qu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wu8qu/nfc_tags_and_automations/	"Hey there, some what new, I create a tag in the tag config in settings. Then I create a simple turm my light off automation. I press the run automation on my phone and it works, but when I scan the NFC tag (that is set to my trigger) I get the dog from my phone that it recognized the NFC tag was scanned, but the automation is never triggered. I'm using a Pixel 6pro running the latest Android OS. Could the URL being loaded into the tag be messed up? I have a Nabu Casa account and remote control is checked in Home assistant cloud options.

What could be going on?"	6	"[""Node815: You need to have the Home Assistant app installed and logged in to make the tag work.  You didn't mention that you have that installed so I am taking a shot in the dark here that you might not have it installed. :) \n\nIf it's installed (since you said you created a tag in the settings), then I'd double check to make sure that you are pointing to the correct tag."", ""Rare-Entertainer5485: You have to set HA app as default to open those links. Else it will just open with you normal web browser app, which won't work."", ""way_out_space_ranger: Thanks for the reply! I have the app installed and authorized. This is my only tag. Not sure what's going on. Using a different app I wrote a youtube URL to another chip and that works no problem when I scan it."", ""Node815: I have two tags that I have programmed to do this with and never had an issue.  Perhaps you can check the payload on the tag?  Something like NFC Tools will work, it should give you something like: \n\n[`https://home-assistant.io/tag/longstringofnumbersanddigits`](https://home-assistant.io/tag/longstringofnumbersanddigits)\n\nIf it doesn't have that, then it is not programmed properly.   The tag will need to be programmed through the HASSIO app unless your computer can read them."", ""way_out_space_ranger: That's exactly what I get haha There has to be some setting off somewhere haha so annoying"", ""Node815: Perhaps?[https://community.home-assistant.io/t/nabu-casa-authentication-failing/110963](https://community.home-assistant.io/t/nabu-casa-authentication-failing/110963)\n\nCheck your access logs in Home Assistant, there's something not happening, if it is stopping in Home Assistant, then you know you at least made it there, and it's not making it far, but if Home Assistant logs don't indicate any response from the tag, then we know your phone isn't invoking it at least.\n\nI only pointed to this link because of the good reminder to check the logs. :)""]"
1682291506.0	23-Apr-2023 16:11:46	Best ceiling fan options?	Mylifereboot	4	12wtzeh	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wtzeh/best_ceiling_fan_options/	What are the best smart ceiling fan options that integrate into home assistant? Light control would be nice but ok if no light.	32	"['clintkev251: Just using dumb fans with a leviton zwave fan controller', 'cvr24: Lutron Caseta', 'Bulky_Jellyfish_2616: Lutron Caseta fan switch is my pick', ""0x7270-3001: i just got an ifan04 and flashed esphome. the documentation is not great for doing that but it works fine for 3 speed fan control and on-off light control and it's probably easier to use tasmota or the default firmware. if you're a diy person I think some people have managed to solder sensors onto free pins to use any uart or i2c device you want to add (air quality, lux, temp/humidity etc)"", 'b3542: Modern Forms integration works reasonably well, but the controller does hang once every few months requiring a power cycle. The fan wasn’t cheap, but looks good and has been reliable (as far as “smart” fans go).\n\nhttps://www.homedepot.com/p/Modern-Forms-Zephyr-52-in-Indoor-Outdoor-Matte-Black-3-Blade-Smart-Ceiling-Fan-with-LED-Light-Kit-and-Remote-Control-FR-W2006-52L-MB/312830884\n\nIf I had it to do over, I would probably just use Lutron Caseta.', 'HTTP_404_NotFound: The best ceiling fan, is a dumb fan, with a smart switch.  \n\n\nExtremely happy with the Innovelli Fan+Light switch.   \n\n\nAs well, have used Shelly 2s for controlling both fan+light in the ceiling fan, however, did not offer variable speed.', 'cac2573: Use a bond bridge', ""tcm0116: I got a fan from Smafan and was able to integrate it via the localtuya integration. It'll probably work with the official Tuya integration as well, but I was already using localtuya."", 'bran1210: Bond did really well for me. Have a lot of dumb wireless fans around the house, and it learned each of their remote controllers for fan speed and light controls. It integrates with Home Assistant locally over wifi, so no depending on the cloud. This gives me the bonus of picking quality fans with the specs I want with integration into HA locally so long as it is wireless, which many are these days.', 'iammayhem: Very happy with the Hunter Phenomenon. It’s HomeKit so it’s paired with HomeKit controller integration. It moves a lot of air too.', 'ams3401: Dumb fan + tasmota wall switch', 'Tiny-Leopard-2946: Bond bridge', 'Tiny-Leopard-2946: Bond bridge it works great with HA', ""DikkeUiers: I use a dumb fan with a Shelly connected to it.\n\nIn HA I made a sensor where I can select Summer-mode and Winter-mode.\n\nOnce in Summer-mode, I created automations that the fan will turn on once it is 21 degrees in the living room. It turns off once it is below 21 degrees and when we're going to sleep.\n\nIn Winter-mode it turns the light on and it turns on and off with the rest of the lamps in our living room.\n\nThe 'dumb' thing about it is that I have to select the mode in HA twice a year and on the remote of the fan turn off the fan speed and toggle the lamp twice a year.\n\nBut it is much, much cheaper than a out of the box smart fan."", 'ShittyFrogMeme: Get dumb fans and use some sort of smart switch. Do you have separate switches for the fan and light or different? If different, the Lutron Caseta fan switch. If the same, the Inovelli fan/light switch.', 'mrdead113: Sonoff Ifan.\n\n&#x200B;\n\nOthers have mentioned a dumb fan with smart switch but that doesnt give you speed control', 'deverox: I used this one and it works well. Ceiling Fan Remote Control Kit,... https://www.amazon.com/dp/B07YS5H7SM?ref=ppx_pop_mob_ap_share', 'mnoah66: This is the way. Just stinks how huge they are in the box especially if you have the light control and the fan control in the same box.', 't3abagger: We just got two Modern Forms fans and they *look* amazing but we will have them installed this week.  Reading up on them, I saw they need access to an ntp server on the Internet.  I could see a situation where they couldn\'t talk NTP they might need a reset.   Who knows; I will report back after a few months.\n\nTBH, we weren\'t looking for smart fans specifically, it just so happens the fans my SO picked out, happened to be ""smart.""', ""perkinsjt: I just bought this fan 2 days ago to replace an old rickety fan. The Zooz light/fan dimmer combo I have in there works great, but the fan itself is clicking and wobbling and dusty and outdated. Now I'm wondering if I'm going backwards on this one. \n\nDoes power cycle = breaker flip? Because that's annoying as all get out."", 'bw1235: Feeling solidarity, knowing I’m not the only one resetting my Modern Forms fan every couple of months 😂', 'mnoah66: Have you noticed a delay from button push to the light turning on?', ""Mylifereboot: I have one. I didn't work. Fans are old as it is."", 'Maximus555: Were you able to integrate it into HA?', 'cvr24: My electrician told me about these thin wire nuts from Ideal, called Twister Proflex, really helps with shoving all the wires into a crowded box.', 'b3542: Mine made noise initially, but it settled/balanced itself within a few days of operation.\n\nThe reset was a breaker reset, but I don’t have a switch in front of this particular fan. It might be possible to reboot the controller through software - I may end up doing that weekly anyway.', 'b3542: I’m looking into the API to see if I can reboot it weekly or something.', 'HTTP_404_NotFound: make sure  **\\[47-112-0-51\\] Button Delay**  is disabled.  \n\n\nIt makes a small delay, which enables scenes based on button presses.', 'cac2573: Sad, good luck with your hunt', 'deverox: Yes,. Think it was tuya', 'mnoah66: Hmm what does that mean? I see there is parameter 4 which controls the ramp speed for the light from the physical switch. I set that to 0 but it didn’t seem to do anything.', ""HTTP_404_NotFound: This parameter isn't exposed in home assistant as far as I can tell.   \n\n\nI can only see it when looking at the configuration via ZwaveJS.""]"
1682287936.0	23-Apr-2023 15:12:16	HAOS on NAS or dedicated machine?	NefariousnessHairy57	1	12ws7c7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ws7c7/haos_on_nas_or_dedicated_machine/	Hi folks, I am running HA on a dedicated mini PC and it runs great. However, I have a NAS and I am getting the itch to install on this. Is there any pros/cons to this and how do you get ZigBee / matter connectivity to your NAS?	15	"['JamesMBaldwin: I migrated my HA from a dedicated pc to a Proxmox VM a couple of weeks ago. Pass through of the USB device was really easy, lots of tutorials online.  \nWhat I will say I’m having trouble with is likely some permission issues around VM file access because my HA won’t run an update now. Something I’ll need to fix soon, but isn’t killing me immediately.', '_Rand_: Running a VM on unraid here.  Works great aside from the fact that it insists on grabbing the wrong usb device on start up, which is annoying but its a quick fix and I rarely restart.', 'mekaneck84: I run HAOS on a qnap NAS; I pass through USB dongles but it loses them when I restart the NAS (which is not often) so I have to go into the virtualization station app UI and pass them back through again.', ""sokopa: I'm on a Synology NAS and had installed a VM with supervised HA. I mount the Zigbee usb stick to the VM, but quite often it would be unmounted from the VM, and when restarting the NAS it would be the same too.\n\nWhat I ended up doing and am quite happy with, is:\n\n\\- have some scripts in the NAS that execute on startup, that will load the usb devices. You can see some ideas in this post:  [DSM 7 production and Zigbee USB dongles : synology (reddit.com)](https://www.reddit.com/r/synology/comments/oa40v6/dsm_7_production_and_zigbee_usb_dongles/)\n\n\\- set up Zigbee2MQTT as a separate docker container, not via HAOS. in the docker-compose file or whatever you use to run docker containers, you can map the usb from host machine to the z2m container:\n\ndevices:  \n\\- /dev/ttyACM0:/dev/ttyACM0\n\n\\- add the Add-On Zigbee2MQTT Proxy in Home Assistant and configure the port for the frontend, so you can manage it internally in Home Assistant"", 'Node815: I have HAOS installed in a KVM on my NAS which is using OpenMediaVault.   It works quit ewell and fast.', 'ayyycab: While I’m here, can anyone explain how this works? I thought NAS was literally just a basic machine that consolidates a few drives and puts them on the network. These things have enough processing power to run HAOS?', ""cvr24: After futzing with VMs and containers I finally went HAOS and I'm not looking back."", 'SeniorPoopyButthole: HAOS on a dedicated mini-pc all the way.\n\nSaves me a ton of trouble and make maintaining and updating a breeze.', 'Plisky123: Currently running on its own Pi4, long term plan is to move it to a Proxmox server and consolidate all the other Pis I have in my rack', 'RJM_50: Runs fine in my Synology DS920+', ""MfJonesy: Weird, I'm running a HA OS VM in unRAID with a zwave stick passed through and I've never had a problem with restarts. That would bug me lol"", 'chillaban: Yeah a lot of NASes come with decently strong CPUs like C3000 family Atoms or even a Celeron /Pentium branded CPU that’s like a baby core i3. Some even directly come with support for running VMs or Docker containers or both. \n\nIt’s a super convenient setup that the thing with your big redundant storage array can also directly run stuff like Plex.', 'RJM_50: A good NAS is more than network storage folders.  Has a Media server, security camera footage recording, Virtual machines, docker containers, mail servers, etc. Synology has the best OS, a few other brands are cheaper and/or have better hardware. But Synology-DSM OS is the gold standard (I just triggered the DIY TrueNAS fans).', 'chillaban: Lol funny you say that. I’ve been using TrueNAS/FreeNAS since the early days and 8 years ago when I built my last NAS Synology wasn’t nearly competitive but today it’s a different story. If I were doing it from scratch today I might go the other way.', ""RJM_50: I started with Synology decade ago, I have my lifetime security camera licences, and I sell my NAS every 4 years for ~65% what I paid and roll that into a better machine on Black Friday.  It's not that bad when doing the upgrade path like this, other people are willing to risk their media server on old hardware. And I don't have to do as much on my NAS already set-up by Synology.""]"
1682287767.0	23-Apr-2023 15:09:27	Embarrassing question: Where in the heck is the persistent notification setting on Android 13 (Pixel 4a)?	denogginizer	5	12ws46q	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ws46q/embarrassing_question_where_in_the_heck_is_the/	"I've read the applicable HASS docs, searched around, and I can't find the persistent notification setting in the Android companion app.
(It's weird because I've seen it before.)

I guess you'd better ELI5 as I'm feeling pretty stupid right now :(

- Android App Version 2023.3.0-full
- Home Assistant OS: 10
- Home Assistant Core 2023.4.5
- Android Version: 13"	2	"['gjs520820: It was moved a couple of updates ago:\n\ncompanion app - servers & devices - ""your server""', 'denogginizer: Solved! Thank you.']"
1682281584.0	23-Apr-2023 13:26:24	Unable to connect to Home Assistant after restoring backup from RPi to Proxmox	Matuin92	1	12woxb3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12woxb3/unable_to_connect_to_home_assistant_after/	"Hi all,

I'm fairly new to Home Assistant and I've been troubleshooting this issue for a few hours now and could use some advice from anyone familiar with migrating their HA instance from RPi to Proxmox. As soon as try restoring my RPi backup file, I lose connectivity to my Proxmox HA instance and I am unable to connect again. Both the RPi and Proxmox are running 2023.4.6 and OS 10 

I created the HA instance on Proxmox using  `bash -c ""$(wget -qLO - https://github.com/tteck/Proxmox/raw/main/vm/haos-vm.sh)""` with default settings

I've tried using Samba Share to see what is happening in the log file but as soon as I start restoring the backup, I get a notification saying that I need administrator permissions to access /config. I have no issues accessing /config before restoring the backup. 

I was able to get some log info with the command `core logs` from the HA CLI but I'm not seeing anything that is standing out as to why I can no longer connect. I've attached an image with the output in Proxmox:

https://preview.redd.it/twpihbprzova1.png?width=2557&format=png&auto=webp&v=enabled&s=03e9c6eaea6de85d4c302442f71e8166e1f02f84

It's not a very complex config so I wouldn't have too many issues remaking it from scratch but I'd like to exhaust all of my options before going that route. Any suggestions would be greatly appreciated!"	2	"[""jmcgeejr: Here's something I learned and not sure why.  Setup your base image of HA and before you do any configuration via the CLI manually set the IP to what your IP used to be on the PI for HA.  Then go through setup and restore your backup.  Mine would never work until I did that.  It would connect and respond to ICMP's but never actually load the UI."", ""Matuin92: Thanks a ton for your comment! I started looking into the IP settings based on what you suggested and realized that I had set up a Dynamic DNS to remotely access my HA but that I hadn't updated the port forwarding settings on my router. I didn't think that would prevent me from accessing it locally at <IP address>:8123 but at least I'm able to get into it now using the domain name. Thanks again!!""]"
1682280304.0	23-Apr-2023 13:05:04	Irrigation schedule based on average temperature and last time the lawn was watered	martinkrafft	12	12wo8qp	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wo8qp/irrigation_schedule_based_on_average_temperature/	"Hello,

I am new to HA, and so I had a good look around before posting this. I am also not afraid to dive in at the deep end, and yet, I would appreciate if you could indicate to me whether the following is possible:

```
At a given time each day (e.g. 4 hours past sunset):
  Let T be the average temperature of the last 24 hours
  If it's been more than fn(T) hours since
  - either the last time it rained
  - or this automation ran
  Then:
    Turn on a device until
    - either 30 minutes have elapsed
    - or current condition changes to rain
```

And obviously, if you have tips, or a working example, I wouldn't say no ;)

Thanks,
m"	7	"[""blueshiftlabs: Absolutely doable. You'll need a few helpers:\n\n- A [statistics sensor](https://www.home-assistant.io/integrations/statistics/) to compute the average temperature over the past 24 hours (`max_age = 24`). We'll call this `sensor.daily_average_temperature`.\n- A sensor that returns the time when it last stopped raining. You can do this with an automation and a date/time helper, although if templates and YAML don't scare you, I'd suggest using a triggered template sensor instead. Call this `sensor.rain_stopped_time` - if you're using the helper, that'll be `input_datetime.rain_stopped_time` instead. \n- Your function, expressed as simple math (no logarithms or anything fancy).\n- A script (not an automation!) that does the necessary service calls to turn on your sprinklers. We'll call it `script.water_lawn` below. \n\nMake an automation. Give it a time-based trigger, configured however you'd like. In the conditions block, set a template condition:\n\n    {%- set rain_stopped = as_timestamp(states('sensor.rain_stopped')) -%}\n    {%- set last_watered = as_timestamp(state_attr('script.water_lawn', 'last_triggered')) -%}\n    {%- set seconds_since_water = as_timestamp(now()) - max(rain_stopped, last_watered) -%}\n    {%- set average_temp = states('sensor.daily_average_temperature') -%}\n    {%- set water_threshold = /* some function of average_temp */ -%}\n    {{ (seconds_since_water / 3600.0) > water_threshold }}\n\nThen, in the actions block, call the service `script.water_lawn`.\n\nTo turn off the water, have a second automation with two triggers - one being the current condition becoming rain, the other being the lawn-watering device being in the 'on' state for 30 minutes."", 'cfrudolphy: Might want to have a look at this integration\n\nhttps://github.com/jeroenterheerdt/HAsmartirrigation\n\nI am pretty sure it does what you want and takes more factors into consideration than just last time it rained or is raining now.', ""CurrentlyInHiding: Just an FYI that you shouldn't be watering your yard at night. Best would be in the morning."", 'JonesCZ: Buy rachio :D', 'noneofyourbizwax: Take a look at [irrigation unlimited](https://github.com/rgc99/irrigation_unlimited)', 'JRAT24: That really depends on your definition of night.  Very early morning 3 am or so is very good.  Maximizes moisture absorbed but the sun comes up in time to dry out the rest before it can cause fungus issues.', ""CurrentlyInHiding: Yeah that's true. I guess I wasn't very clear. But yeah you definitely don't want the water just sitting on the blades for too long.""]"
1682279207.0	23-Apr-2023 12:46:47	Homeassistant is changing HVAC modes without user input	Xtasy0178	5	12wnnoy	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wnnoy/homeassistant_is_changing_hvac_modes_without_user/	"Hello,

so HA has been for a while changing the operating mode on my Heating system. I am using Homematic IP and it is properly integrated. For whatever reason it changes the HVAC mode from Auto to Heat but I don’t see what it triggering it. Weirdly enough it is just in 2 rooms where that happens, the rest operates normally.   


You can see at 16:10 it was triggered und at 21:40 I changed it back to Auto after I realized it. How can I find out what triggers the homeassitant.turn\_on

https://preview.redd.it/53xg1iiwtova1.jpg?width=2278&format=pjpg&auto=webp&v=enabled&s=d824aa45b9fe9fd08a49ea8d50f2e4e58773db4d"	5	['keatonatron: Look in the logbook at the time the heating was triggered and see what ran immediately before it', 'Affectionate_Taro126: Are you sure it’s HA changing the HVAC and not something your HVAC is changing and HA is just reporting it? \nThat’s how it shows up for me when I change devices directly.', 'selmaohneh: I had the same issue with some tado TRVs. For me it really was a setting on the TRV itself, not Home Assistant. There was a fallback check box that changed back to schedule-mode from manual-mode after a given time period.', 'Xtasy0178: Yes because every room as their own thermostat on her wall controlling the heater um valve. AUTO Mode means it heats according to schedules etc', 'Xtasy0178: Why does it do that only for specific rooms though?']
1682278893.0	23-Apr-2023 12:41:33	Switching to Zigbee2MQTT and having trouble	chai_investigation	2	12wnhn3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wnhn3/switching_to_zigbee2mqtt_and_having_trouble/	"EDIT: Resolved, and left for prosperity in case someone else has my problem. It looks like at some point my MQTT Broker stopped running and I hadn't noticed. Yes, I am a genius. Once it was started again, everything worked. 

So, I've been having problems with my Zigbee reliability. Thanks to a whole bunch of helpful posts here, I am transferring over from a ZHA integration to Zigbee2MQTT.

For context, I have Home Assistant running on Docker on a Raspberry Pi. MQTT is installed on the main Raspberry Pi and Zigbee2MQTT is running via (sudo) Docker Compose.  I flashed the Sonoff Zigbee Dongle with the coordinator firmware.

I've hit what is probably a very silly brick wall--specifically, this error: MQTT error: connect ECONNREFUSED \*\*Raspberry Pi IP\*\*:1883

I know everything else is working because when I use [test.mosquitto.org](https://test.mosquitto.org) as the MQTT broker address Zigbee2MQTT works fine.

I know I can't use localhost because Zigbee2MQTT is running in a container. I have tried the IPs of the Raspberry Pi and docker0 but no luck.

My Mosquitto installation is set to allow anonymous access.

I'm guessing there's something simple I'm overlooking, but I'm not sure where to start. Ideas? If you need more information, please just let me know."	5	"[""daniu: Can you connect to your mqtt broker using a standalone client? My first guess would be you didn't forward the 1883 port in your container startup."", ""amraohs: Zigbee2Mqtt can't find your mqtt service. You should look at your configuration of your mosquitto docker. Is the docker running? Is the port forwarded? Is it running at some other (random) port?"", ""bontempi_harold: You should be able to run Zigbee2MQTT without specifying sudo in front of docker-compose. Have you added the pi user to the docker group? That's usually all that's required to run docker commands without sudo each time. \n\n`sudo usermod -a -G docker pi`\n\nThen reboot the pi or log out/back in to refresh user session."", ""chai_investigation: I've fixed this. Turns out it was even sillier than that. The MQTT Broker had stopped running at some point and I hadn't noticed. Once it was turned on, everything worked. \n\nSiiiiigh."", 'chai_investigation: I knew I was an actual idiot.\n\nIt looks like at some point the MQTT Broker stopped running. Once I turned it back on, everything is working. \n\nThank you for humoring me.']"
1682276808.0	23-Apr-2023 12:06:48	I made a Home Assistant macropad with RGB back lighting and reactive keypresses	drpeppershaker	187	12wmdb1	homeassistant	https://i.redd.it/618lq9zrlova1.gif		13	"['drpeppershaker: [Project Link Here](https://github.com/drpeppershaker/ESP32_keypad)\n\nMacropad for use with Home Assistant. It has 8 keys each of which support single, double, triple clicks, long clicks, and hold.\n\nSo, that\'s 40 actions that can be automated via various button presses.\n\nI\'m currently using it as an interface for [Baby Buddy](https://github.com/babybuddy/babybuddy), which has a pretty great [Home Assistant integration](https://github.com/jcgoette/baby_buddy_homeassistant) for tracking feedings, diaper changes, etc. for my newborn.\n\nHowever, this can be used for any number of automations, controlling lights, turning switches on and off, anything you could think of inside HA.\n\nEDIT: I\'ve included a ""dummy"" automation yaml file which has a place for all 40 actions. Just fill in the blanks (and delete the ones you don\'t want to use)', 'szay87: awesome project! I was just talking to the wife about doing something similar this morning so we can stop having to always have our phones around to track stuff', 'ttadam: The grey backround gave me an idea:  \nstreamdeck but with eink display. That way it could be battery powered.', 'wkndjb: I built an IOS shortcut connected to a spreadsheet for our first son and with another on it’s way I’m pumped to learn about baby buddy!', ""drpeppershaker: Thanks! It's been super helpful for tracking baby stuff because our brains are pretty much mush at this point lol"", ""drpeppershaker: I actually have one upstairs that's plugged into the wall, and a second that is downstairs and it lives attached to a usb battery pack.\n\nE-ink would be dope though. Check out the [FreeDeck](https://freeyourstream.com/) for more inspiration!"", 'drpeppershaker: Ooh, yeah, I forgot that I also had an idea to have one button exclusively controlling ""modes"" through an [input_select](https://www.home-assistant.io/integrations/input_select/). Each input select could make the rgb backlights do a different effect or different color for visual differentiation.\n\nSo press mode and now you\'re in lighting mode and the backlights pulse. Now each key controls different lights.\n\nThen press the mode button and you\'re in switch mode and the backlights turn green or whatever and each button controls a different smart switch.\n\nIt would be difficult to remember each ""mode"" without a display, but the possibilities are essentially endless.', ""drpeppershaker: Check out the [ios widget](https://i.imgur.com/ZupHSsn.jpg) I put together for the baby buddy HA integration. We use that when we're out of the house. \n\nMy wife likes the keypad better when we're at home though."", 'sshwifty: Honestly impressed you could put this together with baby brain lol.\n\nEven on good days I can barely focus.', 'mynewme: Curious why you need to track such things at all.', 'wkndjb: Yeah I can imagine having the keypad by the kettle or changing table would be great', ""drpeppershaker: You really don't unless the baby has some issue with feeding or your doctor asks you to. Mainly peace of mind tbh.\n\nWe find it helpful to know when the last time the baby ate was, or for my wife who is breastfeeding to keep track of which side the baby was fed on last.\n\nPlus I'm a little bit of a data nerd. \n\nEventually the macropad will get used to run automations in my office."", 'Artiscursive: When doctors ask how many dirty diapers per day or how often they are eating and how long, it’s easier to track and have a real number, especially if the kid has some issue']"
1682276330.0	23-Apr-2023 11:58:50	Multi Floor robot vacuum?	BeerDoctor	2	12wm3n3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wm3n3/multi_floor_robot_vacuum/	"I'm curious if anyone has a robot vacuum they like that they have figured out to use with multiple floors in home assistant?

I know the common advice is to buy a robot per floor, but I have a weird split level house with 6x separate areas I have to manually move the robot to.


Right now I a roborock s5 with valetudo, but things get wonky when I move floors.  Valetudo [explicitly states they will never support multiple floors](https://valetudo.cloud/pages/general/why-not-valetudo.html)

I'm considering dedicating my roborock to one floor and buying a 2nd newer robot to do the other 5x floors.  I have no idea which one I should be looking at though.  Also open to any workarounds."	6	"['Better-Sundae-8429: I have the Shark AV2501AE - got in on an Amazon sale for like 45% off and I’ve seen them go on sale plenty of times since. \n\nSeems to work well for the occasional time I want to move it to another room downstairs that it normally doesn’t hit. Just hit clean and it figures it out. Seems to be working okay with HA (just rebuilt my entire install a week ago).', 'GageCounty: The Dreame L10 has 3 maps. We like ours.', ""sloths_in_slomo: It could be possible with a bit of playing around.\n\nI had an issue where if the robot did a run and saw a closed door, later on it would refuse to clean that room thinking it was unreachable. I solved this by doing a run with all doors open, then storing the map file, and later when the robot is docked a HA automation triggers a script on the robot to copy the stored map into the active map file. This way it always starts with a clean map of the whole house with the dots open.\n\nIt would be fairly straightforward to modify this to handle multiple floors. Just record a map of each floor and store them in separate files, the use a HA automation to tell it which floor it is on. It would need to be placed in the same spot every time when doing this.\n\nI tried to bring up the issue about the closed doors with valetudo but the suggestion wasn't taken up, i guess devs think either it's not an issue or is unsolvable (neither is the case).\n\nSo it takes a bit of familiarizing with the files on the robot, but might be workable to run it on multiple floors with one robot"", 'Sure-Temperature: My Roborock S6 allows for saving two floors in the stock app', 'ImATrickyLiar: iRobot’s J7 handles multiple floors automatically.', 'BeerDoctor: Whoa this is ideal! Are you doing this with valetdo? Any links or resources on how to load a map from HASS? I did not know that was possible.']"
1682275239.0	23-Apr-2023 11:40:39	Appliance monitoring Blueprint false triggers	stevieo81	6	12wliee	homeassistant	https://i.redd.it/u07d02vzzpva1.png	I'm using leofabri/appliance-status-monitor Blue print. I was using a different automation before that I manually setup using some older guides I found on this reddit but never really worked well for my dryer but never had the issue that I'm currently experiencing now with this solution. Not sure if it can be fixed but basically I get random triggered alerts saying the washing machine or dryer is started even when they're off and sometimes at night. Not really sure what's causing those spikes but not sure if there's a way to suppress alerts when it hits 1000 watts like that. Open to any suggestions at this point.	9	"[""Fun_Reference2364: Set a delay/helper to only trigger if it's above X and below Y for Z minutes?"", 'SirIanChesterton63: For mine I use both wattage AND time for the trigger. So for my automation it must be above 20 watts for 30 seconds. Adjust the values as needed.', ""stevieo81: Thanks for the suggestions. I don't know why, I guess I haven't fooled around my system in sometime and i realized I could use IF statements on the blue print automation to ignore the spikes in the wattage. All is well from what i can see now. :)"", 'zSprawl: Is your smart plug failing? Seems odd and would hate for there to be a fire hazard.', 'ayyycab: A moving average sensor might do the trick too', 'Fun_Reference2364: Couple of good guides out there.', ""stevieo81: I've got two, one for the dryer and washer. I do have them both off a surge protector. It could be that maybe."", 'zSprawl: I’m assuming they are false positives but I suppose they are within the realm of possible. If both plugs are doing it then I’m less likely to think it’s a mechanical failure, assuming they are rated for 10A or so.', ""stevieo81: I think I've narrowed down where these power spikes are coming from. I thought I had suppressed the false reports and then this morning my wife went downstairs to the kitchen. I have a sensor that turns on the cabinet lights when someone walks into the kitchen and the switch is an innovell red on/off. She mentioned that the washing machine notice popped up on the Google home when those lights came on. So I went back to the log history and saw that the spike happens at the same time the spiking happens. So I suspect the outlets under my cabinets and my laundry room are connected. Not sure if I have some sort of wiring issue possibly.""]"
1682274747.0	23-Apr-2023 11:32:27	Help with Zwave devices	NapkinsOnMyAnkle	1	12wl8ur	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wl8ur/help_with_zwave_devices/	"I have HAOS running via VMware on a windows mini pc. I also have a Aeotec Z-stick 7 on firmware 7.19.2. I am coming from Smart Things after they deleted all my stuff. I am pretty good with software and electronics in general but oh my god, so far this ecosystem is a massive headache at every turn.

Anyways, how do I add zwave devices? From Smart Things, you usually just put it in pairing mode and click the button. The devices are still able to be paired/excluded using my old Smart Things hub.

I have the Zwave JS addon and the Z wave PC Controller. The z stick shows up in both. I run exlusion mode and none of my zwave devices pop up as being excluded when I trigger them. I run inclusion mode and nothing happens when I trigger devices. I do this in both Zwave JS and the PC Controller program. Nothing happens. Main devices I am trying are GE ZW1001 outlet and ZW4003 switch.

What am I doing wrong? Is there some documentation on this I am missing? Is the z stick not compatible? Is it busted? Please help!

Edit: ended up being the most obvious and simple issue. My region was set incorrectly! Changed that and everything works perfectly as expected! Thanks for the quick replies!"	5	"['daphatty: Have you excluded your devices from Smart Things? Or even better, have you factory reset your devices?', 'flaquito_: First, I\'d recommend that you uninstall the Z-Wave JS addon, and instead use the Z-Wave JS UI from the Community Add-ons section. That will give you a really nice UI that you can add to your sidebar if you want. Then, configure it with your Aeotec stick.\n\nOnce you have that configured, go to integrations and install the Z-Wave JS integration. That\'s the part that lets Home Assistant communicate with the add-on. Now that you\'ve done that, you can either add devices from the add-on or the integration. Most things can be done directly through the integration, but having the advanced UI is really nice.\n\nTo add devices from the integration, go to the integrations section and click ""Configure"" on Z-Wave JS. There will be an ""+ Add Device"" button at the bottom-right. Click that, and then do whatever you need to reset your Z-Wave device. It should automatically go into pairing mode and show up in Home Assistant.\n\nFeel free to ask if you have any other questions!', 'egoalter: Before everyone keeps telling you to install this version, use my hardware and other (well meaning?) advice, Zwave is a bit different than the protocols you know for instance WiFi - it\'s more akin to Bluetooth and if you have never programmed to that device, it can be a bit hard particular the first time.\n\nI have about 20+ Zwave devices active with HASS using the very stable Zwave JS. My only \'issue\' is how HASS names devices - don\'t plan on reusing them, with a different name. That will cause headaches, although it can be done if done right (not that I\'ve found that really documented).\n\nFirst of, this is relatively easy if the device has NEVER been joined/adopted before. If it has, some devices will not negotiate with a new zwave broker.  And infortunately the procedure to hard reset a Zwave is a bit different on each device.  Usually you have to hold down the button for 10-15 seconds and hurry to hit ""delete device"" from the JS console. I\'ve seen it work automatically I\'ve seen it only manually - mostly the latter. If your system has never seen the device before, just resetting the device _should_ be enough, but it\'s not always easy to see if there\'s an existing configuration on it. Out of habit I do this now for all new devices before I adopt them.\n\nThe basic procedure requires a bit of fast touching. I advise using the mobile app, head to where you\'re plugging in the new zwave device for the first time, put that device into ""add mode"" using the procedure you laid out, and THEN hit the add device. HASS will show a menu where zwave is first - as long as it\'s done within 20-30 seconds the device should be found. If not, there may not be a signal. Plug the zwave device in very close to where to you have broker antenna that HASS is using. And this is another complication. Not all Zwave devices are created equal. You\'ll need something close to the 700 series or higher of the plus version, to get a mesh where each device will be a routing point for others. This means you can reach much longer. If the device you\'re trying is missing this, or the devices you have do not support this it\'s easy to find dead zones in a house.\n\nLastly if connectivity is noisy, you may see a partial adaptation. Using ""heal"" on the device can resolve that in most cases. \n\nI learned a lot by putting the broker into debug mode and inspecting the logs. It\'s one way to see if communication is spotty or if your HASS thinks it already knows the device under another name (if so, remove that - I even had a duplicate name once - hard to resolve). But I wouldn\'t really recommend that unless you have a fancy for IT protocols. \n\nOnce the device is adopted it\'s been rock solid. All attributes are seen, the response to state changes are fast. And I love the battery life of the sensors.', ""NapkinsOnMyAnkle: Hey thanks for this. Will definitely be asking more questions! It looks like I was already using the zwave JS UI. What's the difference if I may ask?"", 'flaquito_: Z-Wave JS UI is an implementation of Z-Wave JS that adds extra stuff. It adds a really nice control panel, the ability to connect to an MQTT broker (not necessary with Home Assistant), debugging, Z-Wave network visualization, and some other stuff.\n\nZ-Wave JS UI used to be called ZWaveJS2mqtt, so if you see references to the old name, that should help clear up some confusion.']"
1682274740.0	23-Apr-2023 11:32:20	Tuya lamp local server	MekoMix-	2	12wl8pk	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wl8pk/tuya_lamp_local_server/	"Hi I'm trying to set up Tuya lamps to connect to my local server. I have already seen ""Local Tuya"", but it seems to me that it uses the IoT platform for management. Is there a fully local server for Tuya. The problem is that due to the large number of lamps, they fall off and do not respond to the request, this causes a lot of discomfort. But it's also possible that I'm just stupid and I'm not configuring the server correctly (if you know a good guide, please write)or  if you know such Tuya server for Home Assistant. Thank you"	1	"[""tcm0116: Use of the Tuya IoT platform with `localtuya` is optional and is only needed to get the device key and ID. From the [documentation](https://github.com/rospogrigio/localtuya#usage):\n\n> NOTE: You must have your Tuya device's Key and ID in order to use LocalTuya. The easiest way is to configure the Cloud API account in the integration. If you choose not to do it, there are several ways to obtain the local_keys depending on your environment and the devices you own. A good place to start getting info is https://github.com/codetheweb/tuyapi/blob/master/docs/SETUP.md or https://pypi.org/project/tinytuya/.""]"
1682274515.0	23-Apr-2023 11:28:35	Aqara Smart Smoke Detector - What's your opinion?	SuperCat373	3	12wl48z	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wl48z/aqara_smart_smoke_detector_whats_your_opinion/	"Does it work well with Zigbee2mqtt? Is it a good smoke detector?

&#x200B;

Edit: I've noticed it has no CE marking, so I have discarded it, thanks for your coments, though."	27	"['mistahclean123: I would not use Aqara for any life safety devices.', ""user17600: Depending on your dongle, you could consider the  First Alert Z-Wave Smoke Detector & Carbon Monoxide Alarm.\n\nI installed this alongside the built-in smokes in our rented townhouse so that I get informed whether we're home or not."", 'fursty_ferret: To be honest, think hard about what you might do if you get an alert while you’re out. If you have cameras in every room, you can maybe take a look to see if there’s smoke, but ultimately it might lead to immense stress if you’re a long way away.', 'OverloadMission: Is this for a rewire? You may find that local electrical code requires you to install permanently live with a battery backup. \n\nIn an abundance of caution possibly install them in conjunction with conventional ones.', ""Burner_account_546: Go for the Shelly Smoke.\n\nIt's local first (with the cloud connection off by default) and fully supported by Home Assistant, with an integrated web server.\n\nIn fact, Alterco (Shelly's parent company) make it a point to support Home Assistant in all of their products."", 'mekaneck84: I would recommend buying smoke alarms without any smarts and focus on the best detection/reliability/etc. once you choose your non-smart detectors and install them, you have two options:\n1.\tSmoke alarm listener. I use the [Ecolink Firefighter](https://discoverecolink.com/product/firefighter-wireless-smoke-co-audio-sensor-oem/), but you can find a few different options around. These just sit next to your alarm and listen for the siren, and issue a different alert for smoke versus CO. \n2.\tRelay with your choice of contact sensor. [Here’s an example](https://www.thesmartesthouse.com/products/zooz-kidde-diy-smart-smoke-alarm-kit) of the components you’d need from Zooz to integrate with a Kidde smoke alarm. Kidde also sells a different relay for CO alarms, so if you want to detect both you’d need both relays. First Alert sells similar relays. \n3.\tNew [option from Zooz](https://www.thesmartesthouse.com/products/zooz-800-series-z-wave-long-range-dc-signal-sensor): similar to #2 but packaged into a single device.\n    \nBenefit of both options is that they don’t affect the primary purpose and functionality of the smoke/CO alarms, and you don’t have to compromise on the quality of detector. You also don’t need to replace those components every 10 years like you do with the actual detectors themselves. \n\nOption 2 & 3 will only work when the power is on, while option 1 still works when the detectors are operating on battery backup.', 'SuperCat373: Why not? Which one would you use?', 'zSprawl: These are pretty solid. I got two that I run alongside the NESTs just cause.', 'zSprawl: Agreed. A good fire response plan is a must. Hopefully a trusting neighbor?', 'SuperCat373: I simply just want to install them. In Spain we don’t have any regs about smoke detectors at home.', ""antisane: Wasn't there a discussion here recently about Shelly not being UL listed, and the fact that you insurance provider can refuse you coverage after the fact due to that?"", 'emzy21234: I use nest which also detects carbon monoxide, no complaints after 3 years. The integration with HA can be a bit hot and miss sometimes though', ""mistahclean123: Aqara devices are cheap (Chinese I think) so I have their zigbee sensors all over my house, but many of them are constantly falling offline, killing batteries for no reason etc.\n\nI really do like my Nest thermostats.  They're super expensive compared to any other thermostat at the hardware store but I like their features:\n\n1) Frequenct self-check that everything is working properly.\n2) Talks to my Nest thermostat and turns off the furnace in case of fire.\n3) At night it lets you everything's working well before you go to sleep.\n4) The app allows you to override a smoke alarm if you choose.  Super handy if you frequently burn things in the kitchen.\n5) They work as a night light also."", 'OverloadMission: Fair enough! I would double check they are CE marked though. If in the worst case they actually cause a fault they could invalidate your home insurance if not CE marked.', ""Burner_account_546: UL listing applies only to the US and op mentioned CE certification, which is an EU thing.\n\nAlterco is based in the EU and this does respect the EU's equivalent certification."", 'SuperCat373: The problem with Nest is the price, I’ll need to install at least 3…', 'SuperCat373: No trace of the CE marking, discarded!', ""SuperCat373: I'll definetly check it! I like the design, the price and the compatibility these have. I don't why don't we have regs about smoke detectors at home..."", 'blentdragoons: you get exactly what you pay for. the nest are worth it -- great devices. i have 10 of them.', 'zSprawl: If your house burns down, you don’t want your insurance company finding out you had uncertified smoke detectors in your home. \n\nMake sure you know your local laws!\n\nFor example, in California, you can’t use a smoke detector with removable batteries unless it has interconnecting smart features. This rules out a lot of options.', ""mistahclean123: Yep I think they are $120 each and last for exactly 10 years so $1/month.\n\nI agree with the other guy about getting what you pay for.\n\nI'm not even tried to integrate these with home assistant because the Nest app does everything I want."", ""mooremo: Life saving devices aren't a place to cheap out."", 'macnar: Besides price I would consider that the nest smoke detectors are one of the oldest nest devices without a refresh. Could be due for a new version or dropping support by Google relatively soon.', 'zSprawl: I have 4. \n\nThey are great and work fine with HA as far as telling you when battery is low or smoke alarms. The integration could be better though.', 'zSprawl: I connect mine to HA because I’ve automated things to turn off or on in a smoke situation. A lot of lights come on so people can get around the house. \n\nIf there is a fire in the kitchen, kill the power to the toaster oven and air fryer. Likewise, if gas detected near the furnace, shut down the furnace. \n\nIf smoke or fire in garage, yell across all the Alexas and Google Assistants in the house too cause I might not hear it. \n\nOn and on.', 'mistahclean123: Wow! And you did this with Nest smoke detectors?', 'zSprawl: Absolutely!']"
1682273693.0	23-Apr-2023 11:14:53	Pyscripts on Homeassistant Container Installation	filisterr	1	12wknos	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wknos/pyscripts_on_homeassistant_container_installation/	Can you point me with a working way to install JupyterLab and Pyscripts on a HomeAssistant Container installation. I have installed it through Docker Compose and added the Pyscript in the \`configuration.yml\` and have this integration listed in the UI but I would like to be able to use JupyterLab to edit my files. I have tried to install JupyterLab as a separate container in Docker Compose, but I am not seeing the pyscripts kernel and not sure how I can connect it so that I can interface with HA.	0	[]
1682272863.0	23-Apr-2023 11:01:03	Sensors for home pressurization	sauberflute	15	12wk6m7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wk6m7/sensors_for_home_pressurization/	"Anyone have an idea to sense home pressure more precisely?

I want to keep the house pressurized. Experiments with a box fan in the window with a filter duct-taped on, powered by a smart plug, seem to keep the house more comfortable, keep temperatures more even between rooms, control allergies, and clear co2 from cooking faster. (It comes on when humidity is sensed in the bathroom, when co2 goes up in the kitchen, when the dryer is on, or when the house is negatively pressurized.)

This is because by pressurizing the house, air won't seep in through random cracks and the only air coming in goes through the filter.

Currently I am using two Aqara sensors - one outside and one inside - to calculate the pressure differential;  but they only read to 1 hpa which is about 0.4 inwc; the research I have read is that you should aim for 0.05 inwc of positive pressure.

I've considered mechanical hvac switches wired to an esp32 but these are only accurate to 0.15 inwc (still better than the aqara).

Anyone else experiment with pressurization? Anyone have ideas on pre-built pressure sensors that speak zigbee or bluetooth?"	25	"['madsciencetist: You want a differential pressure sensor. They have two ports, and you connect a silicone tube to one or both. One tube goes outside and the other inside (but not in the turbulent airstream). This will be much more accurate than two individual pressure sensors.', ""isitallfromchina: I cannot answer your question!!!  But this really caught my attention and curiousity! Pressurized house, as in, like an airplane at 30k ft ?  I'm sorry if this comes off like an AH and it probably does, but what do you get from a pressurized house that you don't get from one that isn't ?   I'm fascinated to understand."", ""Till_Fl: What immediately came to my mind is a BME280 in combination with ESPHome. Ideally two connected to one esp so you can determine the Delta locally on the ESP.\nThe documentation states that it has a 0.12 hPa relativ accuracy.\nThat gets you down to 0.0048 inwc, i think.\n\nCheckout the ESPHome webpage for more supported sensors which may have different accuracies.\n\nEdit: misread datasheet. The absolute accuracy is still 1 hPa but the relativ accuracy is 0.12 hPa (which I think is the one you're looking for)"", ""SaveFutureYou: This sounds like PIV. Positive Input Ventilation. I have nothing to offer in the sense of measuring it. But I'm interested to see what comes up in this thread after reading recently that PIV can help prevent damp/mould."", 'blissy456: Sdp-800 is compatible with esphome, thus home assistant. It is sensitive enough for whatever you want.', ""sauberflute: Most houses have pretty tight doors and windows. So when you run the kitchen fan and the bathroom fan, and exhaust goes up the chimney from your furnace and water heater, the house will be at a lower pressure than the outside - a partial vacuum - negative pressure.\n\nBut no house is perfectly sealed. So air will seep in through cracks and crannies. Not only will that bring in allergens such as pollen, it may pick up other nasty stuff from unfinished spaces such as dead bugs, rodent droppings and mold. And in an older house (like mine) that could also include lead dust, asbestos, soot and coal dust.\n\nIt will trap all that stuff in the house plus excess CO2 and radon. Positive pressure does the opposite and would help expel all that stuff. \n\nYou need make up air to offset the exhaust, which you can bring in filtered and even conditioned. But how much air?\n\nToo much make up air will cool and dry your house in winter and heat and humidify it in summer - which are both bad.\n\nMany people just have a fan that brings in air that turns on whenever the kitchen hood is on (that's even code some places). That helps a little but is pretty imprecise.\n\nFrom what I've read, ideal is just slightly pressurized, 0.05 inches of water (inwc). But that is well beyond the precision I can find in HA-compatible sensors."", 'HowHaveIEndedUpHere: Having a positive internal air pressure such that air leaks at a specific rate is part of some high efficiency housing standards.\n\nFor example, [Passivhaus](https://en.m.wikipedia.org/wiki/Passive_house) compliant house need to leak air at a rate of 0.6x house volume per hour, amongst other things.', 'sauberflute: That is a great lead, thanks.', 'None: [deleted]', ""WWGHIAFTC: Bme280 are great affordable sensors. Relative accuracy is very good. The charts spike and dip according to joint pain. Because I'm over 40. And just being alive hurts now 😫"", ""TheOtherManSpider: It's not quite that simple, especially in colder climates. If you have a high overpressure inside, warm air leaking through cracks and meeting the cold outside air can cause condensation in the walls, causing mold and other moisture issues."", ""isitallfromchina: So, what's the net result ?  If you are able to achieve such a pressurized balance, what do you get from it ?  And, if you have to venture outside for shopping, doctor, maintenance on the home is there an offset ?\n\nAs I stated earlier, I really find projects like this interesting and wonder what the end game is.  \n\nThanks again for your complete explanation and I hope you find sensors and a solution that fits your approach."", 'sauberflute: That is even better.', ""sauberflute: There isn't much data on that that I could find, but I've seen some small-scale experiments run by builders that found that wasn't a problem. Still inconclusive."", 'sauberflute: Healthier air and energy efficiency. As detailed above.\n\nBut this was the last place I expected to hear ""why would you want to do that?""\n\nOn this sub, we automate it because it\'s *there*', 'hirscheyyaltern: why is as important as how. yeah sometimes its just because you can but theres almost always a benefit from it, and you stated yours here for the curious redditor above', ""isitallfromchina: Didn't want it to come off that way and I apologize for that.  I just find some things like this curious and like to understand how and why?  You gave a good explanation and I appreciate that and hopefully this segment educates others.\n\nI'm all about educating curious minds and sometime it brings change!\n\nThanks again"", 'XErTuX: This conversation has expanded my mind, thanks for asking to OP.', 'isitallfromchina: I am definitely much more informed about this and had no clue.', 'ValleyDude22: Hey, do you remember from your tempostudio tear down if there is a video input on the monitor?', 'isitallfromchina: I sold the thing.  I think there was a video, HDMI!', ""ValleyDude22: Oh ok. I'm buying one off someone and gonna repurpose the monitor"", 'ValleyDude22: Thanks!', 'isitallfromchina: What will you be doing with the monitor.', ""ValleyDude22: Probably just hook it up to a chrome cast or something. That way, i can play workout videos from yt. Think it'll work?"", 'isitallfromchina: give it a try, I think it might work.']"
1682272643.0	23-Apr-2023 10:57:23	Change Light Color by 1 RGB a day	SeecretIdentity	0	12wk28j	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wk28j/change_light_color_by_1_rgb_a_day/	"Hi Everyone, 

I put some Govee led strips in the kitchen for my wife and I'll randomly change the colors on her when I'm out of the house to mess with her.   Can I automatically change the color over time, but so slightly that she wouldn't notice, so every 30 days it would be a different shade, like green, teal, blue,  indigo, purple, etc, just go around the color wheel. Thanks. Then I want to see if she asks me if she's going crazy."	7	"[""maxi1134: \\>  Then I want to see if she asks me if she's going crazy.   \nWhy are you gaslighting your wife?"", 'lass93: You can do it through node red easily.', ""hirscheyyaltern: What youre asking to do isnt that hard. it's your wording that's concerning"", '-Ghundi-: I second this. Why would you do this? It feels super unnecessary', 'TCSNY_Dan: Cool. Mind explaining how?', 'AnxiouslyPessimistic: I can’t speak for OP but I know some of us have fun relationships where we take the piss, make jokes and do harmless pranks. He’s not looking to slowly poison her, just change light colours', ""ImTotallyTechy: Seems like a very harmless prank to me as long as his partner isn't actually questioning their sanity.\n\nThis is super easy to do too, btw.\n\nIf the light stays on 24/7, take the current value for R, G, or B then add one, and send it back to the light. If it turns off you could try having it make the change on the first turn-on of the day.""]"
1682271963.0	23-Apr-2023 10:46:03	Coral dual tpu in hp t620	sero_t	1	12wjole	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wjole/coral_dual_tpu_in_hp_t620/	Hi guys i need some help if possible, i am searching and scrathing my heas for days now. I have recently received my dual tpu after 6 months of waiting and i also bought and adapter for it to fit in my t620 pcie slot. I am really not home in to pcie slots and everything around it, so please don't be harsh on this noob. I have a hp t620, it has for what i understand a pcie slot, i think it is an 1x v2 from what i can find online, but in the bios i saw a setting with pcie 4x. It is the slot where normally a wifi card would be sitting in. I don't want to use a wifi module, i use a lan cable. But what happens is when i put it in, the system starts fine, but i can't acces my home assistant anymore. When i disable the port in the bios it will work again or when i pull the tpu out. I think there is something that the system thinks it is a wifi module but doesn't know what to do with it. I want to use it for face detection with frigate and double take. I have home assistant os general x86-64 installed, it is up to date. Is there any i can do or try? Thank u in advance.	3	"[""rich33584: Most likely it wont work in that wifi card slot anyway and if it did, only 1 tpu will show.\n\nIf these will fit, get this:\n\n[https://www.makerfabs.com/search.html?&search=MBS.PCI20102.2](https://www.makerfabs.com/search.html?&search=MBS.PCI20102.2)\n\nDo the cheapest shipping and youll get it in about 10 days in the United States.. Both TPU's will show and function."", ""sero_t: But why wouldn't it work in that slot? I don't mind if it uses 1 tpu, because i have only 1 camera at the moment and at peak it will be max 3 in total. But for now i need it to work on 1. I had already seen these but where the break is at those golden pins, is in my hp the other way around. I don't know if it is a problem. I also have 1 usb 3.0 and 1 usb 2.0 free on the motherboard inside the case, is there any adapter you know of i can use there or a m2 slot. I have m2 slot for memory but i could place that m2 storage to the usb ports with an adapter"", ""sero_t: I now received the b+m key version, it was in stock for couple hours and maintained to get one, received in 2 days. I will try to use this one but can't get work until now, still trying""]"
1682270880.0	23-Apr-2023 10:28:00	Issue Pairing August Smart Lock Pro with Zwave	BrooklynCatDad	1	12wj2rv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wj2rv/issue_pairing_august_smart_lock_pro_with_zwave/	"I am using the zwave-js-ui within a Docker container, along with the Z-Wave integration in Home Assistant, and an Aeotec Gen5 stick (FW: v1.1). However, I have encountered difficulties during the pairing process, with repeated failures and the lock (August Smart Lock Pro Gen3) appearing as an 'Unknown model' with a single 'ping' entity. I understand that many people have successfully integrated this lock with Home Assistant. Could anyone please provide guidance on resolving this issue and achieving a successful integration?""

The specific error:

    The device was added insecurely. There was an error during secure inclusion"	4	"[""slomar: I believe you have to check the box to use S0 encryption. Also, makes sure you have an S0 encryption key setup in the zwave settings. \n\nThat being said, that lock is absolute garbage for zwave and the main reason I got rid of it. Even if you successfully pair it and it works, after some time the lock goes into some deeper sleep and can't be used with zwave unless you unlock it with the native app. And even then, it sometimes stops working and you have to exclude it and set it up again. It's incredibly unreliable with zwave and arguably not even worth your time to begin with."", ""Node815: I installed a August Smart Lock Pro version 3 this last week, and the August integration seems to work much faster in response than the Z-Wave connection.    Timing it, it takes about 2 seconds with the Integration vs 8 or 9 seconds with Z-Wave.  \n\nI also own a Hubitat C5 (I stopped using once I went to Home Assistant) and for kicks, I paired it with that, and it didn't work, it also complained about insecure pairing.  \n\nBack to Home Assistant, I put it  back on with Z-wave using the inbuilt Zwave-JS. \n\nOverall, the door/open closed status seems on par with Z-Wave, but the commands to send via Z-Wave are much slower.  I don't mind the cloud for this instance, so I've fallen back to the August cloud integration for this one."", 'BrooklynCatDad: I didnt have the encryption key setup. I added it and now its working. Thank you!!!', 'slomar: Nice. Hope that lock works out better for you than it did for me.']"
1682265809.0	23-Apr-2023 09:03:29	Grocy ChatGPT Meal Suggestions	Father-Mahoney	23	12wgbry	homeassistant	/r/grocy/comments/12wdajl/chatgpt_meal_suggestions/		1	['antisane: I know there is a Grocy integration for Home Assistant, but what does this have post have to do with HA?']
1682265710.0	23-Apr-2023 09:01:50	Need assistance with coding	Muizaz88	0	12wg9ub	homeassistant	https://i.redd.it/x5801znxpnva1.jpg		9	['Muizaz88: Update: [Got it working again](https://imgur.com/e4zFdWv)!', 'Confident-Win-1548: Maybe ask Chat-Gpt. Just curious if it can help you out', 'Muizaz88: Buttons for Blinds Controls used to be working but have suddenly disappeared. Would be eternally grateful to anyone who could have a look at my coding below and see what might be wrong. Thanks in advance!\n\nhttps://pastebin.com/yCF69keg', 'Babbelingfish: How did you make that weather card??', 'AnxiouslyPessimistic: ChatGPT is a tricky one. 1. It’s out of date (2020 and earlier data) and 2. It makes a lot of minor mistakes which can end up taking you longer to fix.\n\nCertainly helps start you off though for sure', 'Muizaz88: https://github.com/pkissling/clock-weather-card', 'maxi1134: Bing chat gpt is up to date tho', 'Possible-Week-5815: isnt chatgpt til end of 2021?', 'Babbelingfish: Thank you!!']
1682263948.0	23-Apr-2023 08:32:28	LEGRAND	Bigbroccoloo	0	12wevqz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wevqz/legrand/	"Hello, i want to connect my Legrand devices but it gives me error 505

Can someone help me pls?"	2	['NicoLeOca: Please give more details.\nWhat kind of device are we talking about? Which integration do you plan to use?', 'Bigbroccoloo: I resove this problem']
1682263343.0	23-Apr-2023 08:22:23	Companion app won't connect to instance.	tylersprice	0	12we7z0	homeassistant	https://www.reddit.com/r/homeassistant/comments/12we7z0/companion_app_wont_connect_to_instance/	"New phone, trying to connect it to HA and it refuses. I can open HA in a web browser on my phone and login with 2fa and then use the dashboard.

  


With companion app I get to the location tracking page and after I set up location tracking and granting permissions, it always says it can't connect. I've refreshed cache and data, uninstalled and reinstalled and tried to re setup and it always fails right after location tracking.

  


Attached is a screenshot.

  


[screen shot ](https://freeimage.host/i/H8BOVYQ)"	3	"[""tylersprice: So argo tunnels seems to have added this security page that checks a user's browser. And it stops HA companion app dead in its tracks. If I use a browser I can login after the browser check has completed.\n\nThis also affects my ZoneMinder instance as it uses an app 'zmNinja' to connect via mobile. Same symptoms and I can access my zm frontend behind an argo tunnel in a browser after the security check.\n\n  \n\n\nHere is a screenshot of the companion app and the cloudflare security check.\n\n[companion app with cloudflare security check](https://freeimage.host/i/H8CIAl4)"", 'mccmax95: What url settings are you using?', ""tylersprice: Sorry, it's something to do with ~~OPNsense~~ CloudFlare argo tunnels. I haven't changed anything in OPNsense for awhile now and all of a sudden today, when I'm on my home wifi network, I can't connect to my externally routed services using cloudflare argotunnels and a domain name.\n\nIf I use mobile data it's fine, so it's something to do with OPNsense or cloudflare argo tunnels.""]"
1682261659.0	23-Apr-2023 07:54:19	Doorbell notifications, how to format the action to open the Reolink app?	Diligent_Oil6245	10	12wcd1k	homeassistant	https://www.reddit.com/r/homeassistant/comments/12wcd1k/doorbell_notifications_how_to_format_the_action/	I’m fiddling with a new doorbell and some cameras.  I have a snapshot working fine, but I’d like to be able to open the Reolink app from an action on the notification.  But I’m struggling to find the way to configure the action properly.	4	"['LazorEyez: I asked a similar question the other day and got a result:  \n\n\nThis is my automation action step. The \'url\' is what opens the Reolink app when the notification is pressed:\n\n&#x200B;\n\n    service: notify.mobile_app_user_iphone\n    alias: Send a notification to user\'s iPhone\n    enabled: true\n    data:\n      message: Person detected at {{now().strftime(""%H:%M:%S"")}}\n      title: Front Camera\n      data:\n        url: fb1675493782511558://\n        group: front-camera\n        attachment:\n          url: /local/tmp/snapshot_front_person.jpg\n          content-type: JPEG\n          hide-thumbnail: false', ""liveforlaughs76: I have Amcrest, but conceptually it's just an URI action (https://companion.home-assistant.io/docs/notifications/actionable-notifications/) :\n\n    actions:\n      - action: URI\n        title: Open Amcrest\n        uri: app://com.mm.android.amcrestsmarthome"", 'Getslow6: Do you know how they got the url? I’ve got the same question but then for the Tapo app and gave up on trying to find an answer.', 'LazorEyez: I believe it was something to do with an IPA file for the app on iOS… bit over my head unfortunately! Good luck!']"
1682257365.0	23-Apr-2023 06:42:45	Automation action works when testing but not when triggered by a menu button	IphtashuFitz	1	12w94i5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12w94i5/automation_action_works_when_testing_but_not_when/	"I have an automation that I simply call ""bedtime"" that turns off all the lights that I have controlled through HA. We recently got a couple Sonos speakers that I now have configured in HA as well, and am able to do things like play various music streams, adjust the volume, etc.

I figured it would be nice to update the ""bedtime"" automation to also turn the speakers off. So I went into the editor and added another action to this automation that looks like this:

    service: media_player.media_pause
    data: {}
    target:
      entity_id: media_player.kitchen_speaker

When I'm in the editor and run this automation it does what I expect it to do. The speaker is paused, and all the other lights in the automation turn off as well.

The trigger for this automation is just a menu button. In the editor it looks like this:

    platform: state
    entity_id:
      - input_button.bedtime

When I click that button in the menu all the actions in the automation that turn off the lights work fine, but the speaker does not get turned off. It's only when I'm editing the automation and run it that way that the speaker turns off. I don't see anything in the system logs after running the automation via the menu button.

Why would this one action work properly when invoked one way but not the other? Am I missing something somewhere?"	6	['dukemib: Have you checked the traces? Normally it shows which conditions are not met and why an action is not triggered.', 'Shooter_Q: Do you have conditions or anything that would prevent the Sonos action from firing when the automation is executed manually? Might be worth posting your entire automation code instead of the snippets.', 'IphtashuFitz: From what I can gather the trace shows it thinks it performed the step.', 'IphtashuFitz:     alias: Bedtime\n    description: Turn off lights, etc. at bedtime\n    trigger:\n      - platform: state\n        entity_id:\n          - input_button.bedtime\n    condition: []\n    action:\n      - service: media_player.media_pause\n        data: {}\n        target:\n          entity_id: media_player.kitchen_speaker\n      - type: turn_off\n        device_id: 1726d743d084835b129cf1981353c72a\n        entity_id: switch.back_yard_lights_2\n        domain: switch\n      - type: turn_off\n        device_id: 951bcaff077652f2017678df2c0d3c9d\n        entity_id: switch.front_exterior_lights_2\n        domain: switch\n      - type: turn_off\n        device_id: 1edbbcb92dd8644f80ca8e099f3e7e53\n        entity_id: switch.driveway_light_2\n        domain: switch\n      - type: turn_off\n        device_id: d0df0cbc611109575cb51fead48ef01c\n        entity_id: switch.z_wave_plus_700_series_on_off_switch\n        domain: switch\n      - type: turn_off\n        device_id: 02653197a97d3f646ae32af601436d03\n        entity_id: switch.basement_workout_room_light_switch_2\n        domain: switch\n      - type: turn_off\n        device_id: 38c26765c20df7e3efb383ed24b8c8bd\n        entity_id: switch.basement_workshop_light_switch_2\n        domain: switch\n      - type: turn_off\n        device_id: 760e0a411114126dd25fb98d1b0a596a\n        entity_id: switch.basement_back_room_light_switch_2\n        domain: switch\n      - type: turn_off\n        device_id: 174b6ddc7686f73feff6e3289c156fe8\n        entity_id: switch.basement_main_light_switch_2\n        domain: switch\n      - service: input_boolean.turn_off\n        data: {}\n        target:\n          entity_id: input_boolean.yard_floodlight_helper\n      - type: turn_off\n        device_id: 63df6f11cc04c0ce168dd1188d0abe0e\n        entity_id: light.2nd_floor_bedroom\n        domain: light\n      - type: turn_off\n        device_id: 9aacc167a1e2e4d84817a67e618a058d\n        entity_id: light.great_room\n        domain: light\n      - type: turn_off\n        device_id: c93ce5a1405f798b6982f5f32100291f\n        entity_id: light.tv_room\n        domain: light\n      - device_id: 61aa5d7fef9dd780820792926ad4c664\n        domain: lock\n        entity_id: lock.bulkhead_smart_lock\n        type: lock\n      - device_id: 982b9f548aec649ede48e5a2182b9abf\n        domain: lock\n        entity_id: lock.mud_room_smart_lock_2\n        type: lock\n      - type: turn_off\n        device_id: d0ef790bd802da939e906e11e76c513e\n        entity_id: switch.on_off_module_40_1c_41\n        domain: switch\n    mode: single', 'dukemib: Can it be that something else is overriding the step?\nWhat I mean is, that the automation is triggering the step but something else triggers the speaker to continously play', 'Shooter_Q: Tried it myself with no issue. Not sure what’s causing your problem.\n\nThings I could think of to try and troubleshoot: \n- Stop instead of Pause\n- Make a duplicate automation and button combo that has nothing but the Sonos command, and see if it runs.']
1682254894.0	23-Apr-2023 06:01:34	Environment Canada Down?	sometin__else	1	12w7vib	homeassistant	https://www.reddit.com/r/homeassistant/comments/12w7vib/environment_canada_down/	"Is environment Canada down for anyone else? Sensors unavailable and logs show service unreachable

Edit: Looks like its back up now"	6	['Automate_This_: Try reloading the integration and see if it comes back up. Mine did that recently.', 'Tight-Farm-7797: Hax0rx lol', 'cvr24: My logs show it was down for about an hour at 9pm PDT.  Maybe for maintenance.\n\nIf you use weather station data for automations, you really should be using at least two data sources and averaging them.', 'sometin__else: Yup no dice, I also noticed the website is not loading as well: [https://www.weather.gc.ca/](https://www.weather.gc.ca/)', 'sometin__else: na i just use it for my dashboard and weather card', 'edz9876: Yup, mobile app is not working this morning either']
1682253097.0	23-Apr-2023 05:31:37	Home Assistant Supervisor - will it only offer Supervisor updates?	Dundy1	1	12w70km	homeassistant	https://www.reddit.com/r/homeassistant/comments/12w70km/home_assistant_supervisor_will_it_only_offer/	"I am running HA Supervisor on a Synology NAS and 2023.4.2 and it's given me a notification that 2023.4.6 update is available. However, the update doesn't specify that it's Supervisor (and not the regular version).

Will Supervisor only offer updates to Supervisor versions or is it possible that a regular non-Supervisor version is being offered?

First time it's updating thus not sure how this works.

Thanks!"	9	"['mrBill12: 2023.4.2 and 2023.4.6 are core version numbers.  Supervisor updates are less often and supervisor current version is 2023.4.0\n\nThe update offer should have the word [Core](https://i.imgur.com/Lay7tAj.jpg) at the end.  This indicates you’re updating core.  A supervisor update will say Supervisor.', 'hirscheyyaltern: Lots of people have described this much more in depth than I can, but the simple version is that Supervisor is a layer on top of home assistant. Core is the main home assistant', ""iWQRLC590apOCyt59Xza: That is the latest version for the part called 'core', which is HA.\nYou can safely install this to get the latest fixes for HA.\n\nUpdates to the supervisor will be offered as well, but they will be installed automatically.\nThe latest version is shown here:\nhttps://github.com/home-assistant/supervisor/releases/tag/2023.04.1"", 'Dundy1: Thanks, so much to learn still!\n\nThis is what my About shows:\n\n""Home Assistant 2023.4.2\nSupervisor 2023.04.0\nFrontend 20230406.1 - latest""\n\nWhen you say I can update the core version to 2023.4.6, does that mean that if I update I will still get to keep the Supervisor version of HA? So core is the basis of Supervisor and each are updated separately (Supervisor one automatically like you said).\n\nIs my understanding correct? \n\nMany thanks!', 'Dundy1: Thanks, now I understand that the core version can keep getting updated and the supervisor is on top of that, updated separately. I thought Supervised was a separate HA version altogether requiring Supervised versions only.', 'mrBill12: Yes, part of supervisors job is to monitor for updates for all modules and offer them when available.  Just install the update, accept the offer to backup.\n\nThen install an addon called [Google Drive Backup](https://github.com/sabeechen/hassio-google-drive-backup) and make backup overnight every night.    Still select backup on update offerings too, but since o had to type the word backup and you’re new I thought I’d tell you to install the addon.', 'mrBill12: Supervisor and core are actually next to each other.  The user doesn’t really notice but it’s two separate processes.  While you reach core at http://homeassistant.local:8123 you can view Supervisors status at http://homeassistant.local:4357 (‘HELP’ is 4357 on a phone dial).', 'Dundy1: Many thanks for the detailed reply. Have updated the core successfully. \n\nWith regards to daily backup, there should be an option to backup locally on the NAS instead of Google Drive, right? I will read up on this more.', 'Dundy1: That is interesting to know. Thanks for sharing!']"
1682253030.0	23-Apr-2023 05:30:30	RTL_433 MQTT Auto-discovery not working	Ihf	0	12w6zca	homeassistant	https://www.reddit.com/r/homeassistant/comments/12w6zca/rtl_433_mqtt_autodiscovery_not_working/	I am using a Raspberry Pi to receive Acurite temperature sensor information with an RTLSTR stick. I can successfully send the data via MQTT to my Home Assistant running on another machine. My problem is that although I can see all the messages in the MQTT broker using MQTTtool I don’t see any device being created by MQTT auto discovery. Have I missed a step?	14	"['udit39: You need the auto discovery addon: https://github.com/pbkhrv/rtl_433-hass-addons', 'Ihf: Thanks, I thought that might be the case. Can you please tell me how to add this addin  that is not in the addin store?', '_Rand_: There are instructions how to so it on the page linked actually.  Basically under the three dot menu thing in the add-on store click repositories then add repository.\n\nThen just add the page they linked.', 'Ihf: I added [https://github.com/home-assistant/hassio-addons-example](https://github.com/home-assistant/hassio-addons-example) but nowhere am I seeing the rtl\\_433 in the HA Community Add-ons.', '_Rand_: You need to add https://github.com/pbkhrv/rtl_433-hass-addons , Make sure you reload, also it should add its own category.', 'Ihf: >https://github.com/pbkhrv/rtl\\_433-hass-addons\n\nOK, after 2 restarts, I now have the  add-ins repository with rtl\\_433. Given that I am sending the MQTT data from another machine and not running the stick under HA, which add-ins are required? Both rtl\\_433 and rtl\\_433 AutoDiscovery?', '_Rand_: Just auto discovery should be installed, it should pick up topics from mqtt regardless of what system they come from.\n\nrtl-433 itself requires the usb stick is present.', 'Ihf: At last! Thanks for your help (and patience). I am adding these to a Dashboard and I see that I have temp and humidity being reported. IIRC, the sensors also report battery level and id (and possibly other parms). MQTTtool shows these as having been received by the HA broker. Is there a way to add these?', 'Ihf: Also, I am finding that 1/2 of my sensors  have a model ""Acurite Tower Sensor"" and are not showing their temperature in HA. The temp and humidity show in the MQTT messages on HA but apparently are not being parsed or for some reason just show unknown.', '_Rand_: I’m not terribly familiar with the acurite sensors, it’s possible that auto discovery is ignoring them.\n\nIt should be possible to add them to mqtt manually,  it its kind of complicated.\n\nSee discovery under https://www.home-assistant.io/integrations/mqtt/ \n\nFair warning though, battery levels tend to be unreliable as hell in my experience and barely worth bothering with.\n\nAs for other missing entries it’s possible they might just start working later, but its also possible HA thinks they are duplicate entries.', 'Ihf: RTL-433 Autodiscovery adds the devices just fine but is showing temp and humidity as unknown when I know the info is in the MQTT messages. I suppose the Acurite Tower sensors may use a different format which is not understood.', ""Ihf: Another problem, I have a second Raspberry Pi with 2-3 Acurite sensors on it on the same subnet. It appears I can't simply run rtl\\_433 on both RPis and connect to HA MQTT broker at the same time. Is there a way to work around this? (If I try, one machine seems to logoff the other)."", 'Ihf: The latter problem of having 2 clients running simultaneously may require that I specify a unique client id for each. But how do I do that? I tried adding #clientid to the mqtt:// string but that failed.', 'Ihf: Fixed the multiple login by changing the hostname of one of the RPis.']"
1682252287.0	23-Apr-2023 05:18:07	How I solve PIR / ESP01s sensor false triggering	zoomtronicONE	3	12w6n29	homeassistant	https://www.reddit.com/r/homeassistant/comments/12w6n29/how_i_solve_pir_esp01s_sensor_false_triggering/	"I added extended signal wire and added choke , I had pain in the neck because of this false triggering, tried with capacitors signal to ground, filtering power supply line , and nothing helped . Then I tried this choke on signal wire an ti works like charm.

https://preview.redd.it/4oqekqeommva1.jpg?width=832&format=pjpg&auto=webp&v=enabled&s=be8c4cbe76fa052c7cb473a50c26b5371d8cd6fb

https://preview.redd.it/8vk27ueommva1.jpg?width=832&format=pjpg&auto=webp&v=enabled&s=c40a5e6ed40e4cdde1d29edd835dd8388d7115e0

https://preview.redd.it/02h2oteommva1.jpg?width=1800&format=pjpg&auto=webp&v=enabled&s=93a8b6afacac406af2fa25916343aca38b7cc7e8

https://preview.redd.it/iu1toueommva1.jpg?width=1800&format=pjpg&auto=webp&v=enabled&s=b1dd8287d65cbaf26ee3bd72ea8cd64cb1f2fd2a

https://preview.redd.it/dpfhhveommva1.jpg?width=1800&format=pjpg&auto=webp&v=enabled&s=d117e8e0dab530b5d0e7300025e0293eb97655b1

https://preview.redd.it/8g5byseommva1.jpg?width=1800&format=pjpg&auto=webp&v=enabled&s=60bb01185208fbc7ece7847f0f5adda6fb9ef366"	1	"[""3kker: Thank you for sharing! I have a few of these set up around the house, and some are still false triggering like crazy. I found that putting as much distance as possible between the PIR and the esp helps, but that's not always possible. Again, thank you for sharing!""]"
1682247035.0	23-Apr-2023 03:50:35	Tuya Financial Results published	Korg-Clan-Chief	28	12w4ksy	homeassistant	https://www.reddit.com/r/homeassistant/comments/12w4ksy/tuya_financial_results_published/	"[Tuya Financial Results](https://ir.tuya.com/news/news-details/2023/Tuya-Reports-Fourth-Quarter-and-Full-Fiscal-Year-2022-Unaudited-Financial-Results/default.aspx)

Tuya is burning cash and running up big losses. Tuya runs the iOT platform behind most of the worlds branded smart home devices."	42	"['peterxian: There\'s a lot of misinformation in this thread so I thought I\'d try to clarify a few things having read the financial statement and investor briefing.\n\nFirst, Tuya (the company) apparently makes money in two key areas: selling their Platform as a Service, which is a one-time fee paid by device makers for ready-made apps and libraries, and selling Software as a Service, which is subscription-based smart homes for businesses like hotels, commercial buildings, etc. \n\nThe PaaS revenue this quarter was WAY down, almost 50% below a year ago, while SaaS revenue was slightly up. They blame supply-chain inventory slowdowns for the drop, and expect a recovery next year in the device market. Their margins are still very strong (and growing) at 43%+ so they are making money on sales, when they get any. They ""only"" lost around $20M this quarter which for a startup is normal to good in this perspective.\n\nThere is no indication (at this time) they have any plans to charge users for their cloud service. They do mention expanding to add user fees for value-add services like push notifications and content, but not for using the web platform, which is paid for by device makers\' fees. \n\nPersonally, I found two items in this report to be somewhat surprising. One, for a company we\'ve all heard of that has ostensibly enormous reach in the Smart Home space, annual revenue of $208 million seems *incredibly* small. These are not the scale of numbers I expect from an industry heavyweight. They clearly don\'t get royalties from device sales (which is probably their selling point compared to alternative platforms).\n\nSecond, even though they\'re losing $20M a quarter, they have almost $1 BILLION in cash reserves. Presumably this is investor/seed money, and will last them many  many years at their current burn rate.', 'aprettyparrot: Why I like things I don’t need an account for. Finding them lately has been harder though', 'Grim-D: ""Total gross profit in the fourth quarter of 2022 decreased by 37.6% to US$20.2 million from US$32.4 million in the same period of 2021."" \n\nSo their profits were down from the same quarter in the previous year but they still made $20 millon so don\'t think their in much trouble yet.\n\nEdit: Grammer', ""zolli07: It's sad that all people here are happy about it, yeah I agree that tuya is not a great company and their product not top notch quality, but everyone need to realize that Thier agressive pricing strategy brings down the prices in the whole IoT segment as well. Also worth to mention that Thier ZigBee devices as most of the time great value and works with Z2M almost all the time, yeah, the protocol is exotic but we'll documented."", 'JoseLopezC11: They keep doing all they can so people dont flash things into their products. Its their biggest sales blocker.\n\nIf they just made it easy to flash, their sales would sky rocket.', 'amarao_san: I have more than 20 devices with tuya branding in my home, and I got 0 (zero) connection to their cloud. Why do they do this? If they stuck at selling ZT2S, they would burn way less money on it.', 'GVDub2: Yet another reason to opt for local control.', 'CharityConnect6903: Good. I hope they go out of business. Their products are garbage, probably made in a sweatshop.', 'RJM_50: I thought most of the Tuya devices could be flashed with Tasmoto or ESPHome and run locally?', ""tiberiusgv: Nice write-up\n\nCan't say I'm helping. I'm a cheap ass and have bought the majority of my treatlife switches (now running esphome) second hand."", ""tiberiusgv: Hence why I'm moving all of my 60 some Tuya based devices over to Esphome."", ""fishpick: Gross isn’t net…\n\nNet loss was US$22.7 million in the fourth quarter of 2022, compared to US$48.8 million in the same period of 2021. Non-GAAP net loss was US$5.2 million in the fourth quarter of 2022, compared to US$31.2 million in the same period of 2021. The difference between loss from operations and net loss in the fourth quarter of 2022 was primarily because of a US$10.2 million financial income achieved mainly due to well implemented treasury strategies on the Group's cash and deposits recorded as short-term investment."", 'GhettoDuk: But sales are not where they are looking to make money. They want to establish a customer base that allows them to start charging for the cloud services to run these things.', '_Rand_: But then they wouldn’t have a constant drip feed of valuable data (and subscribers?  Do they have subscription fees?)', ""peterxian: Their product is the software platform, which they sell to device makers. Tuya doesn't make any direct hardware from what I can tell."", ""SmartThingsPower1701: I agree, I tried some of their devices and ultimately pulled them. I know people swear by then, but I don't get it. I hate devices that need a special hub  and then they didn't work with my platform. I also lothe cloud based devices."", ""CharityConnect6903: Not if they don't have ESP32 or ESP8266 chips in them. They stopped supporting the ESP chips to make them more difficult to overwrite the firmware with open source alternatives."", 'zSprawl: I mean their wifi stuff is no good from a Home Assistant integration perspective. Their Zigbee stuff works well though, but of course that is cause it’s Zigbee and separate from their web platform. \n\nYes there is Tuya local but it is a reverse engineered code, so without official api support from Tuya, it breaks and has issues.', 'mkosmo: If only they didn’t use such a hodge podge of crappy hardware in some of their gear.', 'Schnabulation: In the meantime: do you know localTuya?', ""Grim-D: Oppps I got it the wrong way around, don't do finance much. Pritty sure they are fine currently either way. Unless Im miss reading it again it seems to suggest their profit to loss for 2022 was better then 2021 so going in tje right direction.\n\nI dont use any of their stuff so don't think it makes much difference to me either way."", 'SkyNetIsNow: Other tech companies have racked up losses for years as they grow. Not sure of this is a similar model or if they are in a worst situation.', 'Novocaine85: When they\'ll run out of money and say ""whops, we have to shutdown the cloud"" then maybe people will learn that cheap doesn\'t mean good.\n\nDon\'t know in US if there are regulations for programmed obsolescence but I really hope that EU will choose to let the final users decide what to do with the brought devices.', 'JoseLopezC11: >s them to start charging for the \n\nI get it, but their cloud service is sub-par at best, they should focus on making it stable and fast if that\'s were they want to make money.\n\nThey could also make both things (a product line for their cloud and open products for that part of the market) but they are trying to be too Apple like where they say ""This is how it is, deal with it!"", but that only works for apple!', ""JoseLopezC11: I don't know if they do, but you're right about the valuable data."", ""CharityConnect6903: That's news to me. I thought they made the hardware. I figured they were like MTD. Pretty much every lawn mower sold in the US is made by MTD, regardless of the brand name."", 'CharityConnect6903: Before they switched to a different chipset, tuya devices could be flashed with open source firmware like ESP home or tasmota. Those devices are becoming more and more difficult to find because they want you on the cloud so they can track you.', ""RJM_50: I thought I saw someone replace that dumb proprietary chip with an ESP chip because the pads still line up? I didn't think they completely reinvented their PCBs?"", 'Locked_door: Esphome doesnt sell any gear', ""tiberiusgv: I'm switching away from local Tuya. Switching to Esphome has really improved device response times."", 'GhettoDuk: Debt is getting more expensive, and investment in money-losing companies is harder to raise in the current economic climate. They are not doomed to failure, but this is a bad sign.', ""RJM_50: That was my understanding, I have many different brands of devices that all seem to end up with the Tuya set-up. And that's the link to my Home Assistant.🤷🏻\u200d♂️"", 'SmartThingsPower1701: Yep, hard no.', ""CharityConnect6903: The new chips don't have enough memory space to change the firmware."", 'mkosmo: That’s correct. Tuya does.\n\nConverting Tuya devices can be a royal pain due to their shoddy gear. \n\nContext, man.', 'Kaldek: Agreed, localtuya for me was a dead duck, particularly as I use multiple VLANs.  Seems to really mess with localtuya.', ""brettfk: I'll second this. I was a bit lazy earlier on in the piece and set up LocalTuya but some days it was more unstable than the regular Tuya integration. And setting up LocalTuya was a pain if you got the datapoints wrong - which I did constantly (ID10T error).\n\nI love ESPHome, and have since the minute I started using it."", ""tiberiusgv: I've converted over 40 devices with 18 left to go and I don't find it difficult.\n\nI have a preference for serial flashing so no dinking around with wifi flashing hacks. Sometimes that means desoldering the chip off and I've replaced many with ESP chips. May seam liken more work, but I think the process comes with less surprises. \n\nI've certainly put some time into researching, testing, and playing with a DMM, but plan to add what I've learned to the list of devices on the ESPhome device list. I think it's a fun process, but maybe that's just me."", ""tiberiusgv: I've had some issues with vlans as well. Will have to try again once my last devices are over to Esphome"", ""RJM_50: What devices are you converting? I have a few window controls I'm worried won't be supported by ESPHome.  Particularly I have dual action vertical blinds that retract and tilt I'm afraid of losing the ability to set their exact percentage of tilt and retraction for different times of day (sunlight and weather). \nhttps://youtu.be/mdKPNDCJAUU\n\nPlus this has a 2.4GHz remote that needs to sync \nhttps://imgur.com/a/OlhF3cJ"", 'Kaldek: Tasmota and Esphome work fine.  There are no layer 2 requirements on these platforms.', ""tiberiusgv: Haven't done any window controllers. All switches, fan controllers, lights, and have some specific ESP chips coming to convert some plugs.""]"
1682246457.0	23-Apr-2023 03:40:57	Home assistant MQTT command for multiple valves (on a single device) on a single topic	Dr-LucienSanchez	2	12w4d0m	homeassistant	https://www.reddit.com/r/homeassistant/comments/12w4d0m/home_assistant_mqtt_command_for_multiple_valves/	"tldr; How can I send a command via MQTT from home assistant which contains data for multiple switches/valves on the same device over a single topic? How do I set up the config.yaml?

Context:

I am building my own irrigation controller which uses a wizfi360-EVB-Pico (raspberry pi pico basically). The unit has some libraries that can be used for sending MQTT via wifi. The library expects the subscription and publishing topics to be set prior to connecting to the MQTT broker and if you want to change them you need to kill the connection, reset the topics and fully reconnect to the broker - not really what I want to do.    
To work with this set up I have set up my pi to publish a dictionary with each valve as a key and a value of 0/1. I am able to decode this on the home assistant side with the config in the image (I just added the command topic name and am not using it right now). 

But when it comes to sending a command back from home assistant I am at a loss how I would achieve this since I am only using a single topic. What I would like to do is publish the command using a dictionary just like the one I publish from the wizfi360 or send a int which I would interpret as binary on the pi side which I would then decode as flags, i.e. 2=>0010 would be the second valve.

I just got into using MQTT with home assistant so any help/reccommendations on tutorials would be greatly appreciated."	2	"['lastingd: Without a ""Why you want to do it this way"" preamble, this is an abstract request for help.\n\nCare to explain further?\n\nConvention would have each valve with it\'s own topic for status and command and these could be controlled from a single HA switch entity setup as a group.', ""Dr-LucienSanchez: I agree that this is not the ideal way to do this, and I wouldn't do it this way except that to me it looks like the mcus wifi module has an at-serial command which requires the topics to be set prior to connecting to the broker - [at commands](https://docs.wiznet.io/img/products/wizfi360/wizfi360ds/wizfi360_atset_v1118_e.pdf) - unless I am mistaken. \n\nIf I am right then my choices are, disconnect from the broker and reconnect everytime I want to send/receive for a valve from mqtt (this takes a while and I'd prefer not to do it this way), have one MCU per valve (which is an overkill and seems like a waste) or find a way to send commands for multiple valves on a single topic. I'd prefer the last since all the valves are controlled by a single MCU.\n\nDo you know if it is possible via an inbuilt or custom message type to achieve sending a single command message with multiple entries i.e. valve 0, valve 1, etc?""]"
1682245530.0	23-Apr-2023 03:25:30	My sonoff nspanel pro doesn’t show up in terminal when connected via usb, can someone help me out?	Significant-Gas-4467	1	12w4028	homeassistant	https://imgur.com/a/oAQ0V6m/		6	"[""dryingsocks: are you sure that isn't a charging-only cable"", ""the012345: You can turn on developer mode and then ADB over the air  does mean you can't do official updates anymore though"", 'Significant-Gas-4467: And how do I check that? I’ve tried 3 different cables I got the same issue with all of them', 'Significant-Gas-4467: Didn’t work that’s why I used the cable instead', ""dryingsocks: I'd just use a different device"", 'joazito: It took me around 4 cables to find one that worked. Just go through your stash.']"
1682243468.0	23-Apr-2023 02:51:08	Shelly 1L detached mode, dim smart lights	ivicii	1	12w374t	homeassistant	https://www.reddit.com/r/homeassistant/comments/12w374t/shelly_1l_detached_mode_dim_smart_lights/	"I have some smart bulbs and i am using home assistant.

I was wondering if the following is possible with the shelly 1L. I want to set the Shelly 1L to detached mode so the smart lights won’t go offline. Then I can set the pulse dimmer to turn the bulbs on and off via home assistant.

Is it also possible to dim with a pulse dimmer the smart bulbs?"	0	[]
1682242069.0	23-Apr-2023 02:27:49	Automation - if temp > XX°C → switch Boolean	MadSnow-	1	12w2nc1	homeassistant	https://www.reddit.com/r/homeassistant/comments/12w2nc1/automation_if_temp_xxc_switch_boolean/	"Hi there :) I’d like to create an automation that checks the forecast every 2h „if the temperature is above a certain degree → switch boolean to off“ and if it’s below → on 

My idea was to use openweathermap as a source but I’m quite new to HA sooo… yeah 
Thank you!"	5	"[""tbgoose: Sort out where you're getting the temp info from. Then just create a threshold helper at whatever temp you want something triggered - can be = / < / > \n\nThen automation is if threshold state changes on, switch.turn_on etc\n\nYou'll need to also at a second automation to revert, or use a choose action to capture both on and off in one automation"", ""imjerry: Sure, you need to set up the integration (see [documentation](https://www.home-assistant.io/integrations/openweathermap/)) and you'll need an API to set it up. OpenWeatherMap can do hourly forecast and is updated every 5mins."", 'JoseLopezC11: Create a numeric helper for the max temp and another for the min temp. Then you can adjust said max and min manually if needed. then create an automation with this code:\n\nalias: Whatever\n\ndescription: ""some description""\n\ntrigger:\n\n  \\- platform: time\\_pattern\n\nminutes: ""\\*""\n\nseconds: ""00""\n\nhours: ""\\*""\n\ncondition: \\[\\]\n\naction:\n\n  \\- choose:\n\n\\- conditions:\n\n\\- condition: numeric\\_state\n\nentity\\_id: sensor.sensor\\_temp\n\nabove: input\\_number.max\\_temperature\n\nsequence:\n\n\\- service: switch.turn\\_on\n\ndata: {}\n\ntarget:\n\nentity\\_id: switch.youdlike\n\n\\- conditions:\n\n\\- condition: numeric\\_state\n\nentity\\_id: sensor.freezer\\_sensor\\_temp\n\nbelow: input\\_number.min\\_temperature\n\nenabled: true\n\nsequence:\n\n\\- service: switch.turn\\_off\n\ndata: {}\n\ntarget:\n\nentity\\_id: switch.youdlike\n\nmode: single\n\n&#x200B;\n\nThis will check every minute if the temperature is above or below your limits and turn on and off accordingly.\n\nAnd also a single automation.', 'lastingd: Change ""below"" to ""above"" and adapt the trigger to your conditions\n\n    - id: \'1618302824537\'\n      alias: Freezing Temp Alert\n      description: \'Freezing Temperature Alert\'\n      trigger:\n      - condition: numeric_state\n        entity_id: sensor.min_temp_next_36h\n        below: 0\n      condition: []\n      action:\n      - data:\n          entity_id: switch.master_socket_l1\n        service: switch.turn_on', 'MadSnow-: The second part is almost done… I’m resetting all thermostats at 3am so that shouldn’t be an issue :) thank you tho!']"
1682240342.0	23-Apr-2023 01:59:02	API CURL Assistance - api / services / input_select / select_option	HerebyGuy	5	12w1yfg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12w1yfg/api_curl_assistance_api_services_input_select/	"I feel like I'm real close but I've been working on this part for a couple of hours. I have everything working within the frontend but now I'd like to get this API call working so that I can call it outside of the dashboard. Here's my curl... What am I doing wrong? Thanks!

    curl -X POST -H ""Authorization: Bearer ABCDEFGHIJKLMNOPQRSTUVWXYZ"" -H ""Content-Type: application/json""  -d ""{\""entity_id\"": \""input_select.change_kids_movie\"", \""option\"": \""Cinderella\""}""  http://192.168.1.x:8123/api/services/input_select/select_option/

Edit: this is returning a 404: Not Found."	3	"['QuizzicalGazelle: Have you tried it without the slash at the end of the url?', ""HerebyGuy: This is what happens when you won't give up and just sleep on it. Life Saver! That was it. Wow... Thank you!"", 'hirscheyyaltern: its always the silly things like this']"
1682238769.0	23-Apr-2023 01:32:49	Templating question on how to invert a negative value	redrhyski	5	12w1daw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12w1daw/templating_question_on_how_to_invert_a_negative/	"Heya.  I'm bouncing my head off the wall with templating fun, and I think I'm missing something fundamental.  


I have a battery inverter which gives me a ""sensor.battery\_power "" value for watts, which can be positive or negative depending on direction of energy flow.  A positive value would be the battery discharging, a negative would be for a charging battery.  


I'd like to create two custom sensors ""sensor.battery\_charging\_power"" and ""sensor.battery\_discharging\_power"" with a minimum of zero.  


I've tried using the elif but I have problems getting it to output, I think I don't understand what I need to write as the output part of the code.  


Any help would be appreciated, thanks in advance!"	8	"['ProfessorSlocombe: Try the follow in your value template\n\nReplace <sensor> with your actual sensor.\n\n{% if states(""<sensor>"")  >=  ""0"" -%}\n\n  {{ states(""<sensor>"") }}\n\n{%- else -%}\n\n   0\n\n{%- endif %}', ""beaverlamp: This is how i do it with a Powerwall, \n\n&#x200B;\n\nI cant see how to post code with the correct formatting so you will need to make sure you get the right indentation in configuration.yaml but once you restart you will have 2 new sensors \n\ntemplate:\n\n\\- sensor:\n\n\\- name: battery\\_charging\\_power\n\nunit\\_of\\_measurement: 'W'\n\nstate: >\n\n{% set battery\\_power = states('sensor.powerwall\\_load\\_now') | float %}\n\n{% if battery\\_power > 0   %}\n\n{{ ((battery\\_power )) | round (2)}}\n\n{% else %}\n\n{{0}}\n\n{% endif %}\n\n&#x200B;\n\n\\- name: battery\\_discharging\\_power\n\nunit\\_of\\_measurement: 'W'\n\nstate: >\n\n{% set battery\\_power = states('sensor.powerwall\\_load\\_now') | float %}\n\n{% if battery\\_power < 0   %}\n\n{{ ((battery\\_power \\* -1)) | round (2)}}\n\n{% else %}\n\n{{0}}\n\n{% endif %}"", 'beaverlamp: Can you post your code and we can make suggestions. I suggest using the template developer tool to make sure your code works as well', 'FalconUK17: You can use the max or min functions to do this in a single line. No if statement required.', 'redrhyski: That works fine in dev tools, but then I try to add it to the config as:  \n\n\n  \\- sensor:\n\n\\- name: battery\\_discharging\\_power\n\nstate: {% if states(""sensor.battery\\_power"") >= ""0"" -%}\n\n{{ states(\'sensor.battery\\_power\') }}\n\n{% else %} 0\n\n{% endif %}  \n\n\nBut I get the error: missed comma between flow collection entries (third line of my code:17)', 'redrhyski: Much appreciated, I see now how to set a state as a ""result"" and your code is pretty much what I needed.  Thanks!', 'seanomat: You are missing a "">"" and a new line after ""state:""', 'redrhyski: Thanks.']"
1682234313.0	23-Apr-2023 00:18:33	Show entities inside ui group?	pseudoheld	1	12vzmo7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vzmo7/show_entities_inside_ui_group/	"I have an ui group containing all lights inside my house to easily monitor if some light is still on when leaving out going to bed. 
However I would really like to be able to to see which light is still on inside the group. 
I know there are the old groups via yaml which allow this but managing the group via UI is just much nicer.  
Is there a way or a workaround to show the contents and state of the entities inside the ui group? 
Thanks for any help!"	2	"['ProfessorSlocombe: Assuming you are using a button card for the group, you could create a sub view card and assign it to the hold action of the button.\n\nThe sub view card could have all the entities in the group in a grid card (or which every card you want to use)', ""LifeBandit666: There's a HACS card https://github.com/thomasloven/lovelace-fold-entity-row. I believe that if you add a Group as the entity it will add a foldable drop down with all the entities in it. You can also use auto entities with it so you can display all lights that are currently on. \n\n[It's a really useful add-on that has made my dashboard more compact](https://i.imgur.com/RKdXpm7.jpg)""]"
1682233615.0	23-Apr-2023 00:06:55	Convert this controller to a smart one?	nbanbury	33	12vzcza	homeassistant	https://i.redd.it/l95ua918kmva1.jpg	I have an led strip under my kitchen cabinets which I'd like to be able to control via HA and Hue. What's the best way of going about this? Thanks in advance.	39	"['JKBCo: Cheapest and simplest is probably to replace it with an Ikea Trådfri Zigbee driver.', 'a3535: This is just a led power supply, not a controller. You could install a Shelly rgbw2 between that and the led strips.', 'phrxmd: It looks like your LED strip is a plain white unit, so no RGBW and no colour temperature light.\n\nIn that case either get one of the many Chinese non-RGBW 24v LED controllers from brands like Gledopto and install it between the power supply and the lights — or replace the power supply with an integrated Zigbee-capable 24V unit, such as an IKEA TRÅDFRI smart controller that has both the power supply and the controller built in. The IKEA is probably the easier and cheaper option.', ""nbanbury: Thanks everyone! Yes it's just a white Led strip (at least for now). My bad for calling the power supply a controller!\n\nI'll get the IKEA solution I think. Cheers."", 'vihila: You can make a WLED controller out of an ESP8266.', 'MairusuPawa: You have two options: replace this power supply, or put some sort of smart switch before it to cut the power off', 'ketiljo: Replace the driver with this https://www.ikea.com/us/en/p/tradfri-driver-for-wireless-control-smart-gray-60342661/', 'dk_DB: You can keep the druver and feed it to an shelly rgbw 😉', 'Additional_Inside366: Gledopto Zigbee LED controller makes smart any LED driver', 'SXHWARTZ8833: If you only want to turn it on and off, I’d use one off [these](https://a.aliexpress.com/_mruUVP6) with te esp01 on it.', 'fenty17: If it’s just on/off you need, I’d recommend a Sonoff ZB-Mini. I used this just in front of a driver almost identical to your pic and super chuffed with it. Very solid and seems to work better as a router than other zigbee switches I have so strengthened my mesh nicely too.', ""nbanbury: Would this work?\n\nGledopto Zigbee 3.0 with Reset Button RGBW CCT LED Controller Plus Studio LED Light Controller Pro Working with Home Center TUYA Smartlife Voice 2.4G RF Remote Control https://amzn.eu/d/b8NgKeC\n\nCan't seem to find a single colour controller. I assume I would need to wire the strip to V+ and W?"", ""86stevet: It's a bit of a hackey way to do it, but I used a DC connector from the power supply to a ZigBee controller and then connect the LED strip. Just make sure to get the correct controller for your LED strip. I've linked the one I used below.\n\nI have 1 under each cabinet and control them on HA as a group. Works perfectly for me.\n\nhttps://a.aliexpress.com/_mPkLsgY\nhttps://amzn.eu/d/7pu3uNM\n\nThis is how mine turned out, it was the first one I did so it's a bit more messy than the other\nhttps://imgur.com/a/KbYfseI"", 'lieven121: I recommend the h801\n\nThey are amazing', 'wardzhou: How about just a smart outlet, if you are not looking for any fancy features', 'theautomation-reddit: If it is a RGB(W) led light else a shelly dimmer should also work.', 'MurkentO: Why not better install a shelly 1 BEFORE the power supply? So you only power the power supple when you want to turn on the LEDs, not always. This way you save some money and the power supply will last longer', 'Ancient-String-9658: Check your power consumption first. Tradfri are quite underpowered.\nA sonoff basic, Shelly, sonoff mini etc will give you smarts with the existing power supply.', 'TinkeNL: Do note that IKEA is Zigbee only. Shelly is WiFi or Bluetooth and connects with Google Home. Personally I prefer that over using Zigbee.', ""nbanbury: It looks like the IKEA Tradfri needs to be plugged into a socket. My current power supply is wired straight to a switch, so not sure it's the right solution after all. Will look at Gledopto etc"", 'ReferenceOriginal806: I think the IKEA zigbee driver is 12v your power supply is 24v. I would recommend a zigbee controller fitted after the LED power supply if you want dimming. Or alternative would be just a zigbee switch before for just on and off or even fit both for LED dimming use something like this Zerodis Milight Controller, 5 in 1 LED Wireless Controller for Single Color/CCT/RGB/RGBW/RGB+CCT Strip Light Lights https://amzn.eu/d/fRFmnKP', 'WWGHIAFTC: That and a 12/ 24v power shield, and a 12/24v pwm module ans its perfect. Cost s maybe 5 bucks each if you want to build 10 of them, ha.', ""nbanbury: Thanks. As it's a white Led strip, I assume I shouldn't get an RGB controller?"", 'PrpleMnkyDshwsher: > Gledopto\n\nSeconding these, I have several around my house and work flawless with Hue and HA.\n\nBest part is they make a RGB+CCT model that lets you mimic the Hue RGB and Tunable white strips for a fraction of the price.', 'nbanbury: Thanks. I think I want a more flexible solution, for if/when I change the strip to RGBW and dimmable.', 'nbanbury: Thank you. How would I wire correctly?', ""CeeeeeJaaaaay: It wouldn't unless the PSU accepts dimming on the AC side"", 'JirkaCZ88: But if the intention is not to dim the LEDs, I would go for Shelly (Plus) 1 to turn off the power supply completely.', 'nbanbury: Interesting point. Will do some more research.', 'ketiljo: Ikea is 24v', 'Additional_Inside366: Yes it is. Gledopto exist models for single color and RGB LED strips', 'Not_Pelle: In this case the following GLEDOPTO models would be suitable:\n\n- GL-C-009P - Zigbee 3.0 + 2.4 GHz RF - single color\n- GL-C-009P (mini) - Zigbee 3.0 + 2.4 GHz RF - single color\n- GL-C-009W - Wi-Fi (Tuya) - single color\n- GL-C-001P - Zigbee 3.0 + 2.4 GHz RF - 5-in-1\n- GL-C-002P - Zigbee 3.0 + 2.4 GHz RF - 5-in-1\n- GL-C-001W - Wi-Fi (Tuya) + 2.4 GHz RF - 5-in-1\n\nI would not recommend using a Wi-Fi model, because that is based on Tuya, but note that for Zigbee models you need to have a Zigbee coordinator, like the SONOFF ZBDongle-E, so you can use it with Home Assistant through the zha integration or Zigbee2MQTT.', 'fenty17: Switch off power at mains. Check it’s definitely off with mains tester. Disconnect live and neutral from the led driver and connect to live in and neutral in of the Sonoff. Connect the live and neutral out of the sonoff to your led driver. Add optional physical switch to the remaining contacts of the sonoff, if desired. Dead easy.', 'theautomation-reddit: That is true', 'ReferenceOriginal806: I stand corrected for some reason I thought they was 12v then fitting one of these is the best option touches all bases with the Philips hue op wanted', ""nbanbury: Thanks. What is wrong with TUYA?\n\nIf I get a Zigbee controller can I integrate it into Hue?\n\nCurrently running HA on a Synology NAS so can't use USB dongles unfortunately."", 'nbanbury: Thank you', ""Not_Pelle: Tuya is cloud based and you'll need to create an account in their app. I prefer to keep things local.\n\nGLEDOPTO's Zigbee controllers can indeed be connected to a Hue Bridge."", 'nbanbury: Thanks']"
1682232551.0	22-Apr-2023 23:49:11	Mitsubishi SVZ-KP30NA Integration?	BloominFosters	2	12vyxj8	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vyxj8/mitsubishi_svzkp30na_integration/	"Hi! I recently had a Mitsubishi SVZ-KP30NA air handler installed with an electric heat backup. Has anyone ever connected something like this to Home Assistant? It has a ""wireless"" (not wifi) thermostat that I can't seem to connect anything to. I'd love to be able to control it from my phone."	4	"['dimnone: You need the kumo cloud adapter to make it Wi-Fi enabled. [hass-kumo](https://github.com/dlarrick/hass-kumo) then integrates it into home assistant.', 'Wild-Bus-8979: That is one way to do it, waste $175, and get tied to the cloud. Or you could use a 3$ ESP8266 https://github.com/SwiCago/HeatPump', ""BloominFosters: Unfortunately I don't have Kumo, which is part of the confusion when trying to find a method to connect it."", 'BloominFosters: This might be the way! For others looking, I found this comment in the issue tracker of that repo:\n\n>Confirmed that the following units work [with this WeMos clone](https://www.amazon.com/dp/B08C7FYM5T) from Amazon:\n\n>SVZ-KP30NA basement air handler\n\n>[...]']"
1682230593.0	22-Apr-2023 23:16:33	Migrating from x86 docker to RPI4 - HassOS or Docker	johnny_chicago	3	12vy6nn	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vy6nn/migrating_from_x86_docker_to_rpi4_hassos_or_docker/	"Hello --

My big x86 file server/docker host decided to call it quits, and I am considering not reviving it anymore (smells like motherboard failure), but reengineer my setup a bit.

I have a Raspberry Pi 4 with an USB SSD. I was considering just installing Docker on the base OS, mounting my existing volume and dealing with any eventual consequences from moving from x86 to arm. But then, alternatively I could install HassOS as well and have this be a bit more plug-and-play. I have not found how I can move my current config over since I never used Home Assistants backup functionality. I have always been snapshotting at the file system level. Is there any recent tutorial on that that I haven't found yet? I am comfortable on the command line.

My home assistant config goes back to the days when lovelace was the hot new thing, I am quite vested in being able to take it over to a new environment intact.

Also, how about Frigate? I have an USB Coral, would an RPI4 cope with 2 or 3 cameras in addition to HA?

Thanks"	7	"[""boxalarm: Run a full backup of HA. Install HA on the Pi4 and when's it's installed, there's an option to restore your config. Upload the backup you did, wait a few minutes, and you're good to go!\n\nI originally ran my HA on a Raspberry Pi 2 with an 8GB SD card. It finally filled up to the point where I couldn't do anymore updates on it. I had a Raspberry Pi 4 just running ADSB so I robbed that, put a 64GB SD card in it and installed HA. Uploaded the backup I took an hour before and everything worked perfectly with not one single issue. All of my add-ons, configs, passwords, etc all transferred over just fine. I literally had to do NOTHING...it just worked like nothing happened."", 'ElectroSpore: >Also, how about Frigate? I have an USB Coral, would an RPI4 cope with 2 or 3 cameras in addition to HA?\n\nWell the Coral takes care of the object detection, but video scaling / preprocessing is done by the host CPU/GPU\n\n2-3 cameras probably will work as long as you setup Hardware acceleration and if NONE of your cameras need transcoding for any reason but if you have plans for more cameras I would run frigate on a seperate host.\n\nMake sure to follow the [Hardware Acceleration](https://docs.frigate.video/configuration/hardware_acceleration/) docs for frigate that turn on the presets for teh PI and change you PI GPU memory setting.', 'johnny_chicago: Backing up is something I cannot do. The current instance is down. I am wondering if I can submit the current config folder in another way.', 'johnny_chicago: Oh - surprised the RPI4 has hardware acceleration now availble on Frigate. Hadnt looked at 0.12 yet :)', 'StarfishPizza: Possibly with a changeover to docker, you may be able to just drop your config files into the new machine, however it takes a little jiggery-pokery to get it up and running correctly unless you’re going from docker to docker or supervisor to supervisor. This information is just what I can remember from when I looked into it myself, as I am on a rpi4 with docker for HA, wanting to go to a better machine. In the end I decided to stay put.', 'ElectroSpore: I have 8 cameras and picked up a Lenovo mini PC with a decent Intel CPU to run as a dedicated frigate box.\n\nMy home assistant runs on an intel NUC\n\nYou may still run into performance issues if you do things like pass cameras to HomeKit via HA etc  \n\nOverall I would not recommend doing video heavy HA stuff with a PI but the PI4 is fairly powerful and the HW acceleration is there for frigate 0.12 just don’t have high expectations.', 'johnny_chicago: Which is what I did - installed docker on my laptop, dropped in config folder, started container, pulled backup. Then dropped backup on RPI.\n\nWorked well - a bunch of addons need work, that I had in separate docker containers before and that I can now install directly as addons :)']"
1682230435.0	22-Apr-2023 23:13:55	Any one try using chatgpt or other ai to create rules or automations?	Accomplished_Pick950	0	12vy4e6	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vy4e6/any_one_try_using_chatgpt_or_other_ai_to_create/	As the title says has anyone tried to use ai to create automations?	9	"[""Node815: Hit or miss at best, I have tried it a few times, it usually takes about 5-10 rounds of corrections, it often misses the correct device mapping or reference when calling for a device type or whatnot. \n\nIt's good in my opinion to get you started in scripting, but not really a go to source for building anything without 100% assurance it will work.   When giving it a correction, it will make roughly 3 attempts at giving a good answer, then it will try an alternative, after this, if you redirect it, it repeats the same information, so like the chatGPT guidelines say, it is still very much in beta.  \n\nI am not aware of any other free to try AI systems which don't use chatGPT so I can't answer on the others."", 'ruddwasadud: Faster to do it yourself and you learn something. Debugging plausible but wrong code is a useless activity.', 'cooljimy84: Its gets it 90% there, but makes mistakes as it was trained on data up till 2020 ish.\nHome assistant is a fast moving project, a lot can chance in a few years', 'Jonsj: Whole automations it is completely useless as it gets a lot wrong.\n\nSmall code snippers it can often do.', 'Drunken_Economist: This actually was my project for the GPT Plugin dev program alpha - an HA config wizard. It took a not-insignificant amount of fine-tuning to get functional rules without asking overly-technical questions of the user.', 'woundedbearhair: It’s a good jumping off point and handy to work through a problem…but ya…it is never right when you first do it and you need to tweak it a bunch. If you’re new to scripting, then it’s a great learning tool and just test your script.', 'Drunken_Economist: Because the configurations are syntactically narrow and well-documented, you\'d likely be better off with a different model than ChatGPT or GPT-4. Unless you are feeding it ""known good"" configs to start with.\n\n\n[Bard did pretty well](https://i.imgur.com/fILbRYG.png), except it thinks I sleep in the kitchen?', 'Accomplished_Pick950: At first glance that looks good. Did you test it to see if it works?', 'Drunken_Economist: I didn\'t, but a few things I\'d nitpick about it:\n\n* My prompt mistakenly missed a word in ""7a everyday, but I **\\[get\\]** the first Sunday of each month off"". Instead of clarifying, it defaulted to M-F plus the first Sunday.\n* A 7am automation to say ""It is Monday Match 11. You need to leave for work at 7am"" is kinda an awful reminder, right?   \nFor comparison, that prompt in gpt-4 (tries to) configure a reminder to trigger at 6:45am.\n* is `sensor.is_first_sunday_of_month` a built-in sensor? I\'d prefer something more like (pardon the pseudo-code)\n\n&#x200B;\n\n    condition:\n      condition: template\n      template_value: {{\n                        now().isoweekday < 6 or\n                       (now().isoweekday == 7 and now().day <= 7)\n                      }}']"
1682230250.0	22-Apr-2023 23:10:50	Moisture sensors that can go in the actual lawn?	leimoochi	8	12vy1rh	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vy1rh/moisture_sensors_that_can_go_in_the_actual_lawn/	Most sensors I’ve seen have a little bit that needs to peek out above the soil - are there any that can be submerged to avoid been trodden on / mowed? Or that can be seperated (ie the smarts in a flower bed with a wire running underground into the lawn with the sensor)?	6	"['GoAheadTACCOM: Doesn’t look like there is much besides some experimental products priced/marketed for commercial operations. Short of spending thousands on something like that, your alternative could be burying a [small irrigation valve box](https://www.homedepot.com/p/NDS-6-in-Round-Valve-Box-and-Cover-Black-Box-Green-ICV-Cover-107BC/100377386) and putting any sensor stuck sideways in the soil', '-shellprompt-: I have mine connect to a a ambient weather station that supports remote soil sensors that run on battery. Works well.', ""Nicao: Given your profile I assume You're in the UK? \nIf indeed, you're within the distribution area of Gardena who provide specifically such a sensor. \nIt's in the soil and checks for moisture, light exposure and near ground temperature. \nhttps://www.gardena.com/int/products/smart/smart-system/smart-sensor/967986501/ \n\nIt requires a hub to operate and can be connected to the smart irrigation systems and other smart components (like lawn mower robots) of Gardena. Using a few of them in my garden and quite happy about it since I can optimize a lot of things around irrigation. Mine are flat on ground level and are safe to be stepped on or mowed over therefore.\n\nThere's a native home assistant integration for those Sensors available 😀"", 'leimoochi: Nice! Which weather station and sensors?', 'justfordickjoke: Waiting for response', '-shellprompt-: [https://ambientweather.com/wh31sm-soil-moisture-sensor](https://ambientweather.com/wh31sm-soil-moisture-sensor) \\- works with either the 2000 or 5000 stations (I have 5000)']"
1682228570.0	22-Apr-2023 22:42:50	Yale Assure Lock 2 does work with ZWave Module	Money-Atmosphere-650	2	12vxd9z	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vxd9z/yale_assure_lock_2_does_work_with_zwave_module/	"The documentations on Yale website are very confusing. 

I tried it myself and I can confirm that Yale Assure Lock 2 (my model is YRD-430) does work with the ZWave module (model AYR202-ZWV-USA) and connects with Home Assistant.

Note that you should not follow the installation instractions that comes with the lock, instead, use [these instractions](https://products.z-wavealliance.org/ProductManual/File?folder=&filename=product_documents/4650/400%20series%20Keyed.pdf).  With these, there is no need to install the Yale app.

One caveat: the door sense - a sensor that detects if the door is open or closed does not work. The entity appears in Home Assistant, but does not update."	2	"[""B1ackmath: If it's like other Yale or August locks the doorsense works only through wifi and you might need the extra wifi module."", 'MowMdown: Yeah I’ve been using mine now for about a month now with the Yale assure 2 and their zwave module\n\nMine however is paired directly to my Ring alarm system which is then hooked into HA through Ring-MQTT\n\nThis way I don’t have to create an automation to disarm my alarm system when I unlock the door, this is handled through ring natively and all my door access codes are also handled through ring. (I don’t need a separate service to handle codes and scheduling)']"
1682226493.0	22-Apr-2023 22:08:13	Milliamp Smart Power Outlet?	IIAIronWolf	3	12vwj68	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vwj68/milliamp_smart_power_outlet/	"I have multiple power monitoring smart plugs, but they all fail at detecting small current draws. I have a dog water fountain that runs off a USB wall plug and I’m wondering if anyone knows of a way to measure the small, milliamp current draw of the pump? If I can find one, I’ll be able to tell if the fountain is running low when the motors current changes.

Edit: I just found this and it may be what I’m looking for. [Zigbee USB Power Monitor and Controller](https://www.tindie.com/products/mind/zigusb-zigbee-usb-device-power-control/)"	7	"['lnjfk: Not a direct answer to your question, but instead a power monitoring solution I’d stick a water level sensor and and esp with esphome to solve this. It’s cheaper too.\n\nDIYables Water Sensor Detector for Arduino, ESP32, ESP8266, Raspberry Pi, 5 Pieces https://www.amazon.com/dp/B0BXKMLB4D?ref_=cm_sw_r_apin_dp_CC9M3SMZPMKYW2PBWQEJ\n\nEdit: or literally just an esp with 2 wires connected to one of the digital and ground pins mounted just above the level you want to be notified at. You can power the esp from the same usb plug you are using for the pump (or replace it with a multiple port one)', ""tbgoose: I went about our dog pump the other way and added a motion sensor above it. It triggers when my dog walks over to it and she drinks. It has a cool down so won't trigger again until she comes back again after 1 minute.\n\nIt otherwise doesn't run. I don't get why it should run all the time using up filters and costing money to run / adding cycles to the pump.\n\nMy fountain is a tuya one so using localtuya, but you could add a smart switch at the USB plug end if yours isn't smart."", 'IIAIronWolf: I thought about this too but worry about electrolysis putting stuff in the dogs water.', 'IIAIronWolf: I’m going to add a motion sensor for mine as well, but that won’t tell me when the water level is low sadly', 'lnjfk: It will not (12 mA of current won’t do much to the wires), but there are ultrasonic sensors as well.', ""tbgoose: Yeah true, mine does that through the cloud. Its the only tuya device I haven't blocked :)"", 'IIAIronWolf: Oh really?? That’s cool! I’ll have to check that out']"
1682220394.0	22-Apr-2023 20:26:34	Sonoff Ifan04 - how to change speed of fan?	snoretech	3	12vtxqt	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vtxqt/sonoff_ifan04_how_to_change_speed_of_fan/	"Hi. So I have this fan controller installed and when I create a card in HA, it only allows me to turn on/off the light and turn on/off the fan; however, its not allowing me to change fan speed from the card. How do I set it up correctly so that I can have speed preset buttons? I am a bit of a newb at this so be gentle.

&#x200B;

https://preview.redd.it/va0zib03zjva1.png?width=1924&format=png&auto=webp&v=enabled&s=efe6f8b08c1cb2657df8cb73cf77b303d843c00f

https://preview.redd.it/lzpt4qkdzjva1.png?width=1384&format=png&auto=webp&v=enabled&s=364fed8e0d1fbf6809097b6106bc8c5c82397eb2"	3	"['Rokanishu: As you have shown in your screenshot, the Sonoff fan controllers have 4 different \'preset modes\' (`states[""fan.sonoffFan""].attributes.preset_mode`):\n\n* Low\n* Medium\n* High\n* Off\n\nSo in order to set the fan speed, you have to call the service `fan.set_preset_mode`, and feed in one of the above presets (case sensitive).\n\nHere\'s the layout I use on my dashboard for my fan. Top button just toggles the fan, bottom 3 call the Set Preset Mode service. The top button\'s icon rotates based on the fans current set speed.\n\nhttps://preview.redd.it/5nw2abrlxmva1.png?width=252&format=png&auto=webp&v=enabled&s=a0b48060a6e3320c8c0f84cee8f299537b9bfff4\n\n[YAML Code](https://pastebin.com/kyFk7Q0t)', 'snoretech: Thank you! Let me tinker with this and see how it turns out.', 'snoretech: >fan.set\\_preset\\_mode\n\nok, everything worked!']"
1682215961.0	22-Apr-2023 19:12:41	More than 300 guides showing how to flash IoT/Smart Home devices with open source firmware (Tasmota and multiplatform OpenBeken) in order to free it from the cloud and pair with Home Assistant. Make your devices 100% local, step by step guides for beginners, YAML often included	openshwprojects	282	12vry6b	homeassistant	/r/tasmota/comments/12vq9xw/our_tuya_device_teardownstemplatesguides_list_has/		10	"['Pulsahr: That\'s probably an amazing project, but I have to admit the github readme is overwhelming to newbies like me. I\'m a programmer, that\'s not the problem, but I\'m new to flashing IoT stuff and there is too much blue links and internal links to other docs.\n\nI think a (very) short introduction with a title like ""What is this project for?"", telling something like ""If you have one of our compatible devices (see below), and you have \\[other hardware or stuff needed\\], this project allows you to flash the proprietary firmware into an open source one, disconnected from the cloud."". Something like that, and without links ;)\n\nAt this point I don\'t know if I need an usb dongle / card / anything if I want to flash something. I\'d like to know just by reading the first lines of the readme, not having to go in several other documentations telling me what I need to do in details just to see if there is something specific I need to buy.', ""flaquito_: That seems really cool, especially since I literally just purchased my first Tuya-based device 15 minutes ago! However, I'm completely unable to use the devicesList.html page, as the sheer number of resource it loads at once drives my computer to a crawl. I'd love to take a look and see if the device I bought is in there, but I just can't."", 'shaulbarlev1: Works so well on my smart water boiler switch. I have a command that spits out an MQTT msg on a physical button press so HA can differentiate a command sent over the network to physically touching the button. Wouldn’t be possible with Zigbee as far as I know.\nThe docs are a little daunting but otherwise flashing this isn’t too hard. Also they made impressive changes making the process even easier since I got started with this project.', 'Kn0xster: Link?', 'openshwprojects: That\'s a great comment, we will take that into consideration.\n\nBasically we have youtube videos showing the process step by step with CH340 USB to UART dongle, they are featured before device list, but indeed, you are spot on, we\'ll try to add some kind of brief description of ""what and why""\n\nBut basically, you can take USB to UART converter, and flash the firmware, either Tasmota for ESP8266, or OpenBeken for many new devices (it\'s multiplatform). Then you configure it via access point and then it runs locally on your network. It\'s 100% private and safe.\n\nHere is our flash tool:  \n[https://github.com/openshwprojects/BK7231GUIFlashTool](https://github.com/openshwprojects/BK7231GUIFlashTool)', ""DaMonkfish: OP's submission already links to it... https://www.reddit.com/r/tasmota/comments/12vq9xw/our_tuya_device_teardownstemplatesguides_list_has"", ""ayanamiruri: Oh, dear God.  Save me from YouTube videos.  I don't care about YouTube videos.  I want text that I can read.\n\nIf I'm troubled by something, I want text that I can read over and over again.  Something to stare at as I figure things out.   You can't do that with videos."", ""wenestvedt: I would suggest that videos are great *once I have decided to go ahead*, but I vastly prefer text when I am rapidly skimming a project's docs & web pages & READMEs to decide whether I am capable of trying it."", 'joncgde2: Yes, the comment is a good one. \n\nEven if the steps can be followed and everything makes sense, you have to see it from the perspective of a newbie. \n\nFor example, you might be a smart person (let’s say you are!), but if you’re trying to get into a new area, you would surely appreciate a guide that breaks down the overall concepts in a simple way. Even if it’s completely understandable content, it can be overwhelming to start off reading it all for the first time if it’s a huge mountain of info.', 'Kn0xster: Thanks. I missed that.']"
1682214667.0	22-Apr-2023 18:51:07	HA OS 10.0 and Bluetooth problems	Geotig	9	12vrd10	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vrd10/ha_os_100_and_bluetooth_problems/	"Updated to OS 10.0 when it got released, all is working good minus the Bluetooth integration.

I have only one Xiaomi BLE thermometer and before with 9.5 the connection was rock solid. Now it updates every few hours and after a reboot it can appear half a day or more as unavailable. Temperature and humidity update at different intervals too, sometimes only the humidity gets updated and sometimes only the temperature gets updated.

Does anyone know if the updated BlueZ stack changes output power or something like that? I can't imagine other cause for this performance drop in the connection.

More information:
\n* HA is installed on an old laptop (i5-6200u, Intel wifi/Bluetooth card)
\n* Distance is about 6 meters between laptop and thermometer, with only one wall between them.
\n* Laptop is inside a TV rack (is this useful?)"	4	"['Leon_elpanda: I am experiencing a similar issue. I am currently using a Switchbot to unlock the entrance to my building. However, this week I have noticed that it failed to activate while I was outside. Initially, I suspected that the problem might be associated with my 5G network or internal security settings. Nevertheless, even when I was at home, the action failed to trigger. Upon checking the log, it consistently displayed as ""unavailable"". As a reference, I am running HASS on a Mac Mini 2012 with the internal Bluetooth adapter through Proxmox. I eventually decided to use a spare USB BT Dongle I had, and thankfully the connection has remained stable. (Disabled the internal one)\n\nhttps://preview.redd.it/3lglh3f9opva1.png?width=910&format=png&auto=webp&v=enabled&s=c47dab3660c314098d87494bee294425494ebe04', ""gjs520820: [Link](https://github.com/home-assistant/operating-system/issues/2485)   HA OS 10.0 is causing many users to have BT problems.  I'm guessing the BlueZ stack is not compatible with some devices/systems."", ""Geotig: It seems that an external adapter is my solution, but I'll try to fix if by software first. I don't want to give away the cleanliness of my setup right now.\n\nIf I get somewhere I'll update the post."", 'Geotig: Thanks for the link. It seems that 9.5 it is until the software gets fixed.']"
1682214365.0	22-Apr-2023 18:46:05	chatgpt addon?	moderatevalue7	0	12vr82l	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vr82l/chatgpt_addon/	"Is there anything plug & play yet? So I can just purchase the chatGPT API and experience ChatGPT-4 via home assistant chatbot type interface?

Don't care about any integration, just looking to experience the chatgpt-4 version .."	6	['KTibow: What kind of experience are you looking for? Do you mean in the conversation UI, in a chat app, a separate website, etc? What would you ask it?', 'moderatevalue7: Exactly same kinda stuff I ask the chatGPT at the OpenAI website, general random stuff', 'KTibow: Do you mean in the built-in conversation UI or in an automation?', 'moderatevalue7: Built-in conversation', 'KTibow: If you copied the official OpenAI Conversation integration, made it use gpt-4, and put it in your custom components folder it might be able to do that.', 'moderatevalue7: Awesome thanks!']
1682210906.0	22-Apr-2023 17:48:26	Smart watering system	thoegn	7	12vpnye	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vpnye/smart_watering_system/	"Does anyone know of an irrigation system, that isn't for outdoors and the whole garden?
I love plants but don't really have a green thumb and often forget to water them. So I wanted to find an automatic solution to water all the plants I have indoors in multiple small pots. I know that the multiple pots would be very difficult unless they're close to each other but maybe there is something where I can have some sort of sensor embedded in the pot that tells me when go water them🤔🤷🏻‍♂️.
A more ""classic"" system would be great for the flower boxes on my balcony's railing but I still didn't find anything for such a small scale.
Anyone know of products or tutorials to make your own?
PS: Sorry if I made mistakes! English is not my first language😅"	13	"['JeopardE: I use Mi Flora sensors. HA sends me a text message whenever one of the plants is thirsty or needs fertilizer.', ""Geotig: There are some Aqara sensors for measuring humidity in the soil. I think that they are the same as the Xiaomi Mi Flora sensors.\n\nHaven't tried the myself, but they might be what you are looking for"", 'PizzaOrTacos: We were heading out of the country for 2 weeks and needed an automated pump for our grow tent full of future garden veggies. I have an outdoor automated solution but also searched for something to use indoors. I picked up a few of these rainpoint pumps and used tuya to connect to them. They still say ""unsupported"" in HA but show in Google home and tuya. We used them to set up a watering schedule and it\'s been working great for quite some time. Not ideal but it does the job. The key is setting up the pump below the plants being watered but above the supply tank. Hope this helps. \n\n\nhttps://a.co/d/1gtJmUj', ""mscottco: I would start with monitoring, either with the miflora or ecowitt sensors. Once you've got a good idea of what their ideal soil moisture is, you can start automating the watering with a small pump and a smart outlet (or build your own with an esp8266)"", 'dudeinparis: Ive got a few ecowitt soil moisture sensors that I use for this exact reason. Takes a bit of time to figure out what percentage you want to be at for each plant, but once you get it then you can set alerts and monitor them.', 'No_Impact7840: Not really on brand for this sub, but you could just get some self-water bulbs. You still have to refill them occasionally, but they do extend the time you can go between watering.', 'wigam: Mi Flora + opensprinkler + HA', 'morbidpete84: Esp8266/32, relay or transistor, capacitive soil moisture sensor, tiny 5v water pump. Write up some ESP home to get all the components talking to HA and have some automations run when needed.', 'Arrabiki: Looking forward to responses to this.  I just put the finishing touches on my outdoor irrigation system so I’m interested to see what people are doing indoors.', 'hometechgeek: Me too, these works great for indoor plants', ""thoegn: Thanks! I'll look into them😁"", 'JohnC53: > self-water bulbs\n\nThose are OK for certain plants, but many plants prefer DRY, with an occasional drink.', 'JeopardE: Last batch I got on Ali Express was $16 each, so they have gotten pretty cheap now. The bundled app has a nice plant database built in so you can see the recommended ranges for your plant for your automations/dashboards.']"
1682209017.0	22-Apr-2023 17:16:57	Looking for a HA mini-PC that will support Proxmox? Check out my Beelink mini-PC line up review	Travel69	2	12votcm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12votcm/looking_for_a_ha_minipc_that_will_support_proxmox/	"If you want to run Home Assistant OS, Plex, InfluxDB, Grafana, and more on a Promox host then I have three Beelink mini-PC options that are really great. All feature the 12th Gen Intel CPUs, and the entry level model goes for less than $200. Each is super power efficient and very compact. 

[Hands On: Beelink Mini-PCs for Proxmox, Home Assistant and Plex](https://www.derekseaman.com/2023/04/hands-on-beelink-mini-pcs-for-proxmox-home-assistant-and-plex.html)"	12	"[""sexelevatormusik: I have purchased several Beelink NUCs.  I use one for HA, one as a music server, and have built out a couple as Kodi servers for family.  For the most part I've been satisfied with them however when the one that I was using as a PBX failed while under warranty it took literally months to get a replacement and then only after I shipped back the failed unit on my own dime.  Their support team will only respond via email at most once per week or so and it will take at least 3 or 4 back and forth communications to complete the return process."", 'ChipBeef2354: Curious how Proxmox deals with Big/little cores? Would be cool to give HA some little cores and save the big cores for a Plex VM.', 'AnxiouslyPessimistic: Got a Beelink about a month ago. So far so good. Though I’m not exactly taxing it yet haha', ""might_and_magic: You guys don't use RAID 1 through zfs in your HA hardware? It would be great to have mini PC with 2 nvme slots."", 'Pedroxns: I used to run proxmox with LXC containers and VM on a beelink u59 + 16gb ram, the only issue I got was a ssd failure', 'Travel69: Good to know. I purchased on Amazon and contacted Beelink via Amazon to get the auto on BIOS setting. I got a reply in less than 24 hours that solved my problem.', ""IdleDev66: This happened to me too with a PBX on BeeLink hardware! Had to double check to make sure I didn't write that post and forget 😂. Under warranty failure with a PBX and took 3 months for replacement and a lot of following up. I've also had 2 BeeLink failures shortly off warranty. These seem great for the price but would not recommend any system critical applications unless you can live with restoring backups on alternative machines. Look for older Dell micros as an alternative, you can usually find retired ones for reasonable price, replace the storage and thermal paste and they just keep on ticking."", ""John3791: FWIW, I had a good experience with Intel support when my NUC wouldn't boot. They emailed me a prepaid label, I dropped it off at UPS, Intel sent me a replacement the day after they received my return. I wish I hadn't needed to return it to begin with, but the process was as smooth and quick as can be expected."", ""Travel69: Plex is not a CPU hog from what I've observed. I streamed a 4K HDR video with hardware transcoding to a cell phone and Plex CPU utilization was 3-7% after the initial 3-5 min spike that was around 30%."", ""Travel69: I have no need. I use Proxmox and it does nightly backups to my NAS, and I also do nightly Google drive backups as well. I don't need/want added complexity."", ""ChipBeef2354: It can be I guess it just depends on the hardware. Intel's quick sync helps a lot, Amd is fine as long as its windows. I dont believe Amd can use hardware in Linux for transcoding."", ""might_and_magic: I do that too, but one night my SSD drive just died, nothing at home was working and I did not have a spare SSD. Despite having backups I took me a while to get things running again. Since then I use zfs mirror with two SSD drives for proxmox VM's and one for backups. I was thinking about upgrading my hardware since I use an old laptop to further reduce the risk of hardware failure but there are not many options with 2 NVMe slots.""]"
1682207650.0	22-Apr-2023 16:54:10	What Pi4 CM was bundled with HA Yellow on Crowd Supply?	WarriusBirde	0	12vo7w6	homeassistant	https://i.redd.it/h5ipvpg0fkva1.jpg	"I’m trying to determine what version of the Pi4 CM that HA Yellow was bundled with on Crowd Supply before they (understandably) removed that as an option. My order info doesn’t have any details on the matter and a cursory search around hasn’t turned up the info.

Picture of dirtbag dog unrelated, but required per sub rules."	4	"['ella_bell: I love the puppy. 10/10', 'geckosnfrogs: 2 gig mem no WiFi Bluetooth I think 32gb storage', ""antisane: I've seen, and posted myself, posts without a picture. I also see only 3 rules, listed on the right side of this very page, and none have anything to do with pictures.\n\nCute dog anyway. :)"", 'WarriusBirde: Perfect, thank you.']"
1682202813.0	22-Apr-2023 15:33:33	Switching from Insteon Hub to PLM on ODROID-N2/N2+	_fireball_	0	12vlyjm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vlyjm/switching_from_insteon_hub_to_plm_on_odroidn2n2/	"Since PLMs are back in stock at the Insteon store, I think I’m gonna bite the bullet and switch from my fully-functional but periodically unstable Insteon hub to a PLM 2413U. I’m running HA on a Hardkernel ODROID-N2/N2+ and just want to be sure that once I plug the PLM USB into it, I will be able to access the PLM via the HA Integration, which is what I’m currently using with my Hub. I understand that I will likely need to manually connect all 51 (!) switches, dimmers, plugs, etc.

Any advice/tips would be appreciated."	2	['mwolczko: I don’t use that PLM but instead I have the wireless USB unit (2448) and it works well.  I have had it running on RPi for nearly a year now.  I kept my Insteon hub running because HA doesn’t implement all the functionality (eg adjusting LED brightness on dimmers), although the stuff that’s missing I rarely need and maybe can accomplish some other way.  \nThe main issue I had when starting was that the functionality in HA to add a device by Insteon ID did not work at all.  Instead I used a service call under Dev Tools (Insteon>Add all link) to add devices one at a time by pressing the set button to link to the 2448; this info was tucked in an obscure corner of the documentation and had me scratching my head for a while.  A couple months back there was a release which — I think — claimed to fix adding devices by ID but I’ve not needed it.  \nI’ve deleted all the Insteon scenes and replicated them in HA, which is much more flexible and reliable.  I expose all my devices through the HomeKit bridge and can control them using Apple’s Home app or Siri, and also via Alexa/Amazon Dot.  Everything is working well, except a few devices which show unreliable responses. I haven’t figured out yet whether the devices are failing or if I have a power line noise problem.\nGood luck.  Happy to answer further questions.', '_fireball_: Thanks! I’ll get back to you if I run into any problems.']
1682199928.0	22-Apr-2023 14:45:28	2023.4.6 Update Crash	mcavoya	6	12vki7h	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vki7h/202346_update_crash/	"The struggle is real. I've posted a few times about trying to update HA core in OS 10.0 on an R-Pi. I think this time I have a good capture of the HA SU log.

    23-04-22 16:12:34 INFO (MainThread) [supervisor.homeassistant.core] Updating Home Assistant to version 2023.4.6
    23-04-22 16:12:34 INFO (SyncWorker_1) [supervisor.docker.interface] Updating image ghcr.io/home-assistant/raspberrypi3-64-homeassistant:2023.3.0 to ghcr.io/home-assistant/raspberrypi3-64-homeassistant:2023.4.6
    23-04-22 16:12:34 INFO (SyncWorker_1) [supervisor.docker.interface] Downloading docker image ghcr.io/home-assistant/raspberrypi3-64-homeassistant with tag 2023.4.6.
    23-04-22 16:18:17 INFO (SyncWorker_1) [supervisor.docker.interface] Stopping homeassistant application
    23-04-22 16:18:38 INFO (SyncWorker_1) [supervisor.docker.interface] Cleaning homeassistant application
    23-04-22 16:18:39 INFO (MainThread) [supervisor.homeassistant.module] Update pulse/client.config: /data/tmp/homeassistant_pulse
    23-04-22 16:18:40 INFO (SyncWorker_2) [supervisor.docker.homeassistant] Starting Home Assistant ghcr.io/home-assistant/raspberrypi3-64-homeassistant with version 2023.4.6
    23-04-22 16:18:40 INFO (MainThread) [supervisor.homeassistant.core] Wait until Home Assistant is ready
    23-04-22 16:19:10 INFO (MainThread) [supervisor.resolution.evaluate] Starting system evaluation with state CoreState.RUNNING
    23-04-22 16:19:12 INFO (MainThread) [supervisor.resolution.evaluate] System evaluation complete
    23-04-22 16:19:13 INFO (MainThread) [supervisor.homeassistant.api] Updated Home Assistant API token
    23-04-22 16:19:16 INFO (MainThread) [supervisor.updater] Fetching update data from https://version.home-assistant.io/stable.json
    23-04-22 16:19:16 INFO (MainThread) [supervisor.store.git] Update add-on https://github.com/esphome/home-assistant-addon repository
    23-04-22 16:19:16 INFO (MainThread) [supervisor.store.git] Update add-on https://github.com/home-assistant/addons repository
    23-04-22 16:19:16 INFO (MainThread) [supervisor.store.git] Update add-on https://github.com/hassio-addons/repository repository
    23-04-22 16:19:23 INFO (MainThread) [supervisor.store] Loading add-ons from store: 71 all - 0 new - 0 remove
    23-04-22 16:19:23 INFO (MainThread) [supervisor.store] Loading add-ons from store: 71 all - 0 new - 0 remove
    23-04-22 16:20:24 ERROR (MainThread) [supervisor.homeassistant.core] Home Assistant has crashed!
    23-04-22 16:20:24 CRITICAL (MainThread) [supervisor.homeassistant.core] HomeAssistant update failed -> rollback!

This is what was in ""home-assistant-rollback.log""

    2023-04-22 16:19:40.043 WARNING (MainThread) [zhaquirks] Loaded custom quirks. Please contribute them to https://github.com/zigpy/zha-device-handlers
    2023-04-22 16:19:43.119 WARNING (MainThread) [homeassistant.components.sensor] Setup of sensor platform sun is taking over 10 seconds.
    2023-04-22 16:19:43.122 WARNING (MainThread) [homeassistant.setup] Setup of script is taking over 10 seconds.
    2023-04-22 16:20:01.886 WARNING (MainThread) [homeassistant.components.light] Setup of light platform group is taking over 10 seconds.
    2023-04-22 16:20:01.893 ERROR (MainThread) [homeassistant.components.hassio.handler] Timeout on /store/addons/core_zwave_js request
    2023-04-22 16:20:01.909 WARNING (MainThread) [homeassistant.config_entries] Config entry 'Z-Wave JS' for zwave_js integration not ready yet: Failed to get the Z-Wave JS add-on info: ; Retrying in background
    2023-04-22 16:20:10.114 WARNING (MainThread) [zigpy.application] Coordinator does not support energy scanning

Any ideas what's causing the update to choke?"	8	"['mcavoya: I have a bit more information.\n\nI disabled the Zigbee integration, and then the update completed successfully.\n\nHowever. . .\n\nAs soon as I re-enabled Zigbee, the whole system becomes unstable and goes into a ""boot loop.""\n\nI am willing to consider uninstalling/reinstalling the Zigbee integration. Is there a proper/recommended way to do this?', 'mcavoya: With nothing to lose, I deleted ZHA.\n\nThen I reinstalled it, keeping the network settings. This did not help.\n\nSo I deleted ZHA again. Swapped my XBee 2C coordinator for an XBee 3. Reinstalled ZHA with a new network. . . did not help.\n\nThe SU log looked identical to above. However, the rollback log has additional information this time.\n\n    2023-04-23 08:57:08.397 ERROR (MainThread) [aiohttp.server] Unhandled exception\n    Traceback (most recent call last):\n      File ""/usr/local/lib/python3.10/asyncio/base_events.py"", line 1205, in _sendfile_fallback\n        read = await self.run_in_executor(None, file.readinto, view)\n    asyncio.exceptions.CancelledError\n    \n    During handling of the above exception, another exception occurred:\n    \n    Traceback (most recent call last):\n      File ""/usr/local/lib/python3.10/site-packages/aiohttp/web_protocol.py"", line 512, in start\n        resp, reset = await task\n      File ""/usr/local/lib/python3.10/site-packages/aiohttp/web_protocol.py"", line 458, in _handle_request\n        reset = await self.finish_response(request, resp, start_time)\n      File ""/usr/local/lib/python3.10/site-packages/aiohttp/web_protocol.py"", line 611, in finish_response\n        await prepare_meth(request)\n      File ""/usr/local/lib/python3.10/site-packages/aiohttp/web_fileresponse.py"", line 286, in prepare\n        return await self._sendfile(request, fobj, offset, count)\n      File ""/usr/local/lib/python3.10/site-packages/aiohttp/web_fileresponse.py"", line 99, in _sendfile\n        await loop.sendfile(transport, fobj, offset, count)\n      File ""/usr/local/lib/python3.10/asyncio/base_events.py"", line 1184, in sendfile\n        return await self._sendfile_fallback(transport, file,\n      File ""/usr/local/lib/python3.10/asyncio/base_events.py"", line 1214, in _sendfile_fallback\n        await proto.restore()\n      File ""/usr/local/lib/python3.10/asyncio/base_events.py"", line 268, in restore\n        self._transport.resume_reading()\n      File ""/usr/local/lib/python3.10/asyncio/sslproto.py"", line 343, in resume_reading\n        self._ssl_protocol._transport.resume_reading()\n    AttributeError: \'NoneType\' object has no attribute \'resume_reading\'\n    2023-04-23 08:57:43.282 WARNING (MainThread) [homeassistant.setup] Setup of input_number is taking over 10 seconds.\n    2023-04-23 08:57:43.306 WARNING (MainThread) [homeassistant.setup] Setup of input_datetime is taking over 10 seconds.\n    2023-04-23 08:57:43.310 WARNING (MainThread) [homeassistant.setup] Setup of timer is taking over 10 seconds.\n    2023-04-23 08:57:43.314 WARNING (MainThread) [homeassistant.setup] Setup of input_boolean is taking over 10 seconds.\n    2023-04-23 08:57:43.868 WARNING (MainThread) [homeassistant.components.sensor] Setup of sensor platform energy is taking over 10 seconds.\n    2023-04-23 08:58:01.562 WARNING (MainThread) [zigpy.application] Coordinator does not support energy scanning\n\nI\'m out of ideas. Any suggestions appreciated.', 'stahlhartes_Glied: Just chill', 'zSprawl: Try shutting down the pi, and then pulling the Zigbee stick physically from the stick and put it back in (aka reboot the stick itself).', 'AstronomerFeisty4297: I saw you have custom zha quirks, maybe one of them is responsible for the crashes? Just a thought', 'mcavoya: Not sure I understand. Are you saying that it will eventually shake itself out?', ""mcavoya: I gave that a try, didn't work. I've also left the whole thing powered down for a couple hours (while restoring the SD card from the backup)."", ""mcavoya: That's a thought.\n\nI reset everything back to square 1 (reflashed my SD from my backup and reinstalled the original XBee coordinator).\n\nThen I deleted quirks from the configuration and also deleted the quirks subdirectory.\n\nUnfortunately, upgrading had all the same results and behaviors. With Zigbee enabled, the upgrade fails and rolls back to 2023.3.0. With Zigbee disabled, the update is successfull; but, as soon as I re-enable ZHA the system crashes, restarts, crashes, restarts. . .\n\nI'm starting to compile a nice list of what's *not* the problem.\n\n\\- It's not the quirks.\n\n\\- It's not coordinator hardware.\n\n\\- It's not the Zigbee network.\n\nI can't be the only one running ZHA on an XBee coordinator, but that's what it's starting to feel like.\n\nCan anyone confirm they have 2023.4.6 running with an XBee?""]"
1682199626.0	22-Apr-2023 14:40:26	Howto: Change screen color temperature and brightness of Linux PC from Home Assistant	sgunb	10	12vkcw2	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vkcw2/howto_change_screen_color_temperature_and/	"Hi all,

I found a solution to the unpleasant thing, that the screen brightness and color temperature of my Linux PC never fit to the color temperature of my lamps. (Home assistant runs on a raspberry pi.)

I want to share, how I solved it in case somebody wants to do the same:

Linux PC:

* install redshift (but don't use the automation)
* create a user 'homeassistant' on the Linux PC.
* write a script which automatically copies the .Xauthority file to the homeassistant user's home after login of your own user (e.g. by using you window managers autostart function)
   * to avoid issues with permissions, passwords, rights, ... I used scp:
      * Copy your Linux PC user's ssh public key to /home/homeassistant/.ssh/authorized\_keys so you don't need a password
      * Copy the ssh public key of your raspberry pi's homeassistant user's to the same file on your linux PC
      * the script to copy the .Xauthority is only this line:

&#x200B;

    #!/bin/bash
    scp /home/user/.Xauthority homeassistant@localhost:""

&#x200B;

* on your raspberry pi:
   * write a simple bash script ""linuxpc\_screen.sh"" to change the screen settings on your Linux PC

&#x200B;

    #!/bin/bash
    ssh homeassistant@linuxpc ""DISPLAY=:0 redshift -x"" 
    ssh homeassistant@linuxpc ""DISPLAY=:0 redshift -P -O $1 -b $2""

&#x200B;

* In home assistant
   * make helpers: two input\_text and one button
   * In your configuration.yaml add the shell\_command

&#x200B;

    shell_command:
      linuxpc_screen: /home/homeassistant/linuxpc_screen.sh {{ states('input_text.screen_colortemp') }} {{ states('input_text.screen_brightness') }}

* make an automation triggered by the button which runs the shell command as a service
* If you want to trigger it automatically by changing a scene, you can use the event trigger in further automations:

&#x200B;

    trigger:
      - event_data:
          domain: scene
          service: turn_on
          service_data:
            entity_id: scene.my_scene
        event_type: call_service
        platform: event

Voila: Now, your screen brightness and color temperature fits the to light in your room."	3	"['Wolfgang-Warner: Nice work, a major improvement to the mood of a room I bet', ""sgunb: Thanks. Not only for the mood, but mostly for the eyes adjusting to the color temperature and brightness in the room. It is staining the eyes if the screen does not fit. And in the evening you don't get tired when looking at a bright coldwhite screen with high amount of blue."", ""Wolfgang-Warner: Makes sense, I've switchable temp lights that can really clash, for me anyway, some ppl don't seem to mind.""]"
1682199231.0	22-Apr-2023 14:33:51	"How to query ""Madam A"" for HA temperature sensor readings"	tarzan_nojane	1	12vk5h2	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vk5h2/how_to_query_madam_a_for_ha_temperature_sensor/	"I am not using Nabu Casa.  The communications between the Alexa ecosystem and Home Assistant are limited to the Alexa Media Player HACS addon and entities exposed locally to Alexa using the emulated_hue integration.  
  
Paired to the ZHA integration are standalone zigbee temperature/humidity sensors as well as zigbee motion and door/window sensors that also report temperature.  Custom ""rounded"" sensor entities take of decimal, calibration, and averaging (multiple sensors in a location) issues.  
  
For each temperature value that ""Madam A"" will report, add a ""Toggle"" helper to create an input_boolean entity, i.e. ""input_boolean.patio_temperature_tts"".  Then add a corresponding emulated_hue entry, i.e. ""TTS Patio Temperature"", which then will be discovered by Alexa as a Royal Philips Electronics light device.  
  
Create a Home Assistant automation as follows for each value that Alexa is expected to report. When the input_boolean is toggled ON, a TTS announcement is sent to the Echo device, and 5 seconds later, the input_boolean is switched OFF:  
  
    alias: Announce Patio Temperature
    description: ''
    trigger:
      - platform: state
        entity_id: input_boolean.patio_temperature_tts
        from: 'off'
        to: 'on'
    condition: []
    action:
      - service: notify.alexa_media_last_called
        data_template:
          message: >-
            The temperature in the patio is 
            {{states('sensor.rounded_ts0201_06_temperature')}} degrees.
          title: Announce Patio Temperature
          data:
            type: tts
      - delay:
          hours: 0
          minutes: 0
          seconds: 5
          milliseconds: 0
      - service: input_boolean.turn_off
        data: {}
        target:
          entity_id: input_boolean.patio_temperature_tts
    mode: single  
  
Finally, in the Alexa app, create a Routine as follows:  
  
* When you say ""Alexa, patio temperature""
* Action: TTS Patio Temperature - Power: On
* Action: Wait 10 seconds
* Action: TTS Patio Temperature - Power: Off  
  
EDIT: ~~I haven't yet figured out how to direct the target for the tts announcement to be the particular Echo device that received the requested routine.  Any insight(s) or other suggestions in the comments are appreciated.~~ 
  
added **service:notify.alexa_media_last_called**"	1	['morbidpete84: What if you just exposed the template sensor to Alexa as a temp sensor and you can just ask her what the temp of  X is instead of all this work']
1682195261.0	22-Apr-2023 13:27:41	Do MMWave sensors (like the FP2) cause each other interference?	Flintr	13	12vi604	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vi604/do_mmwave_sensors_like_the_fp2_cause_each_other/	Could I use two FP2s in the same open floor plan area, or would they interfere with each other making presence reading less accurate? I’ve Googled and searched Reddit but can’t find a clear answer.	1	['Taefey7o: it depends on how they have implemented it in radio level.']
1682194289.0	22-Apr-2023 13:11:29	Struggling with actionable notifications	michaelthompson1991	2	12vhpch	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vhpch/struggling_with_actionable_notifications/	"So I’ve been trying and trying it get actionable notifications working, so I’ve just got the one working in the HA documentation https://imgur.com/a/sfm39A0

Im trying to work out whether you can do an action for turning an input Boolean off?

Or is there ant other way ti achieve this?"	28	"[""ktfzh64338: You can't call services directly from the notifications, but you would just set up automations on your HA server such that when the server receives specific notification responses, to run certain actions (like input_boolean.turn_off).\n\nI'd read this part of the documentation again:\n\nhttps://companion.home-assistant.io/docs/notifications/actionable-notifications/#building-notification-action-scripts"", 'MrCuddlez69: You absolutely can call services directly from the notifications, as I do it with my security alarm reminder. Here\'s my action code:\n\n```\naction:\n  - alias: Set up variables\n    variables:\n      action_arm_home: ARM_HOME\n      action_arm_away: ARM_AWAY\n      action_no: NO_ALARM\n  - alias: Ask question\n    service: notify.mobile_app_brad_s_pixel\n    data:\n      message: Would you like to arm the alarm?\n      title: Alarm Set Reminder\n      data:\n        tag: alarm\n        actions:\n          - action: ""{{ action_arm_home }}""\n            title: Arm Home\n          - action: ""{{ action_arm_away }}""\n            title: Arm Away\n          - action: ""{{ action_no }}""\n            title: ""No""\n  - alias: Wait for response\n    wait_for_trigger:\n      - platform: event\n        event_type: mobile_app_notification_action\n        event_data:\n          action: ""{{ action_arm_home }}""\n      - platform: event\n        event_type: mobile_app_notification_action\n        event_data:\n          action: ""{{ action_arm_away }}""\n      - platform: event\n        event_type: mobile_app_notification_action\n        event_data:\n          action: ""{{ action_no }}""\n    timeout:\n      hours: 0\n      minutes: 10\n      seconds: 0\n      milliseconds: 0\n  - if:\n      - condition: template\n        value_template: ""{{ wait.trigger.event.data.action == action_arm_home }}""\n        alias: Answer Arm_Home received\n    then:\n      - service: alarm_control_panel.alarm_arm_home\n        data:\n          code: [SOME_CODE]\n        target:\n          entity_id: alarm_control_panel.alarmo\n  - if:\n      - condition: template\n        value_template: ""{{ wait.trigger.event.data.action == action_arm_away }}""\n        alias: Answer Arm_Away received\n    then:\n      - service: alarm_control_panel.alarm_arm_away\n        data:\n          code: [SOME_CODE]\n        target:\n          entity_id: alarm_control_panel.alarmo\n  - if:\n      - condition: template\n        value_template: ""{{ wait.trigger.event.data.action == action_no }}""\n        alias: Answer Arm_No received\n    then:\n      - service: notify.mobile_app_brad_s_pixel\n        data:\n          message: clear_notification\n          data:\n            tag: alarm\n```', 'michaelthompson1991: Thanks I’ll take a look, the documentation is so in depth it’s confusing 🤣', 'michaelthompson1991: I’m still confused 🤔 what do I put as the action in the notify data to start?  Then I can’t work out how to get the trigger from that into a script or automation to switch the input Boolean off', 'michaelthompson1991: Thanks so much! Can I put that into the action part of an automation or does that need to be in configuration.Yaml? \n\nAlso might need your help to change the code to what I want, if you don’t mind. \n\nI don’t think I was including the set up variables part which is probably why I couldn’t call the service, because it didn’t exist! \n\nLooking forward to learning', ""MrCuddlez69: You would copy my code and put into the action section of your automation.\n\nFeel free to change the variable names and services called to suit your needs! I'll help if I can!"", 'michaelthompson1991: Oh cool, so because you’re code has action at the start does that mean I can put the whole block of code in actions? \n\nYeah I gathered that, might just need your help for names of service calls etc and just ask any questions along the way', 'MrCuddlez69: > Oh cool, so because you’re code has action at the start does that mean I can put the whole block of code in actions? \n\nYep! Just copy and paste in the YAML view in your automation, making sure you only have one action block. So if you copy my **action:**, then make sure you delete yours or replace it with my copy.', 'michaelthompson1991: No problem, thanks! I’ve had to go out now but I’ll get on it when I get back home 👍🏻', 'michaelthompson1991: So I think I’ve altered your code for what i need, apologies have got the hang of quoting code yet \n\n`action:`\n  - alias: Set up variables\n    variables:\n      action_ input_boolean.turn_off: INPUT_BOOLEAN_OFF\n  - alias: Ask question\n    service: notify.mobile_app_michael_iphone_12\n    data:\n      message: Would you like to turn the input boolean off?\n      title: Water Plants Reminder\n      data:\n        tag: boolean\n        actions:\n          - action: ""{{ action_ input_boolean.turn_off }}""\n            title: Turn Input Boolean Off\n  - alias: Wait for response\n    wait_for_trigger:\n      - platform: event\n        event_type: mobile_app_notification_action\n        event_data:\n          action: ""{{ action_ input_boolean.turn_off }}""\n    timeout:\n      hours: 1\n      minutes: 0\n      seconds: 0\n      milliseconds: 0\n  - if:\n      - condition: template\n        value_template: ""{{ wait.trigger.event.data.action == action_ input_boolean.turn_off }}""\n        alias: Answer Input_Boolean.Turn_Off received\n    then:\n      - service: input_boolean.turn_off\n        data:\n          code: [SOME_CODE]\n        target:\n          entity_id: input_boolean.turn_off\n  - if:\n      - condition: template\n        value_template: ""{{ wait.trigger.event.data.action == action_ input_boolean.turn_off }}""\n        alias: Answer Input_boolean.Turn_Off received\n    then:\n      - service: notify.mobile_app_michael_iphone_12\n        data:\n          message: input_boolean.turn_off\n          data:\n            `tag: boolean`\n\nCurrently I have the following in my actions, not sure where to put this new code or what to do with it \n\n`if:  - condition: state    entity_id: calendar.tasks    attribute: message    state: Water Bedroom Peace Lilythen:  - service: _        data: {}        target:          entity_id: input_boolean.snug_plant      - service: persistent_notification.create        data:          message: Water the Dypsis Lutescens in the Snug          title: Water Indoor Plants  - Turn Off Boolean    else:      - if:          - condition: state            entity_id: input_boolean.bedroom_peace_lily            state: ""on""        then:          - service: notify.mobile_app_michael_iphone_12            data:              data:                input:                  reminder_minutes: ""15""              message: Water The Bedding Peace Lily              title: Water Indoor Plant  - Turn Off Boolean        else:          - if:              - condition: state                entity_id: input_boolean.snug_plant                state: ""on""            then:              - service: notify.mobile_app_michael_iphone_12                data:                  data:                    input:                      reminder_minutes: ""15""                  message: Water the Dypsis Lutescens in the Snug                  title: Water Indoor Plant  - Turn Off Boolean            else:              - if:                  - condition: state                    entity_id: calendar.tasks                    attribute: message                    state: Spray Peace Lily                then:                  - service: notify.mobile_app_michael_iphone_12                    data:                      message: Spray the bedroom peace lily                      title: Spray Lily                      data:                        sticky: ""true""`', 'MrCuddlez69: Something like this perhaps?  \n\n\n    action:\n      ## Name your Variables ##\n      - alias: Set up variables\n        variables:\n          action_water: WATER\n          action_skip_water: SKIP_WATER\n      ## Sends the Question actionable notification to your phone ##\n      - alias: Ask question\n        service: notify.mobile_app_michael_iphone_12\n        data:\n          message: It\'s time to water [PLANT_NAME_HERE]\n          title: Watering Reminder\n          data:\n            tag: plant_watering\n            actions:\n              - action: ""{{ action_water }}""\n                title: Water\n              - action: ""{{ action_skip_water }}""\n                title: Skip Watering\n      - alias: Wait for response\n        wait_for_trigger:\n          - platform: event\n            event_type: mobile_app_notification_action\n            event_data:\n              action: ""{{ action_water }}""\n          - platform: event\n            event_type: mobile_app_notification_action\n            event_data:\n              action: ""{{ action_skip_water }}""\n        ## This will timeout the automation if you don\'t do anything with the notification for 1 hour.\n        timeout:\n          hours: 1\n          minutes: 0\n          seconds: 0\n          milliseconds: 0\n      - if:\n          - condition: template\n            value_template: ""{{ wait.trigger.event.data.action == action_water }}""\n            alias: Answer Water received\n        then:\n          - service: input_boolean.turn_off\n            target:\n              entity_id: input_boolean.[BOOLEAN_NAME_HERE]\n      - if:\n          - condition: template\n            value_template: ""{{ wait.trigger.event.data.action == action_skip_water }}""\n            alias: Answer Skip Watering received\n        then:\n          - service: input_boolean.turn_off\n            target:\n              entity_id: input_boolean.[BOOLEAN_NAME_HERE]', 'michaelthompson1991: Thanks I’ll give it a try tonight! So would that when the first notification comes say water the plants are turn on the Boolean then have a button saying plants have been watered and when that’s pressed turn the Boolean off? \n\nMight have to try this this out in a new automation', 'MrCuddlez69: This would only send one notification for turning OFF the boolean. You could have some other automation turn ON the boolean when the plants need watering, and trigger this actionable notification automation when the watering boolean has been turned ON.\n\nYou could also have two of these actionable notification automations. One to ask IF the plants need watering to turn ON the boolean, and another one to ask IF the plants have been watered to turn OFF the boolean.\n\nI personally would prefer option one, that way you only get one notification ever few days maybe.', 'michaelthompson1991: Well basically I have 1 automation with local calendar events which sends me a notification then that also switches on a Boolean. \n\nThe reason for the Boolean is incase I’m out when the notification comes, so then I have if I arrive home and the Boolean is on to notify me so I remember to water the plants.\n\nNot sure if this is the best way to do it but the only problem I have is I have no way of turning the Boolean off, hence the actionable notification.\n\nI’m aware I’m probably going to need an actionable notification on both automations, unless there’s a better way to do this again', 'MrCuddlez69: Then this should work perfectly!\n\nJust trigger this actionable notification automation when the BOOLEAN is turned ON, and use this actionable notification automation to turn it off! Simple! :D', 'michaelthompson1991: So this is my first automation https://imgur.com/a/bb7reOY would it work with that? The other automation is slightly different but I’ll sort this on first', 'michaelthompson1991: I think this is the Yaml of the first one `alias: Water Indoor Plantsdescription: """"trigger:  - platform: calendar    event: start    offset: ""0:0:0""    entity_id: calendar.taskscondition:  - condition: state    entity_id: input_boolean.holiday_ha    state: ""off""action:  - if:      - condition: state        entity_id: calendar.tasks        attribute: message        state: Water Bedroom Peace Lily    then:      - service: notify.mobile_app_michael_iphone_12        data:          message: ""Water the Peace Lily in the Bedroom ""          title: Water Indoor Plants - Turn Off Boolean          data:            sticky: ""true""            push:              badge: 1        enabled: true      - service: input_boolean.turn_on        data: {}        target:          entity_id: input_boolean.bedroom_peace_lily      - service: persistent_notification.create        data:          title: Water Indoor Plants - Turn Off Boolean          message: ""Water the Peace Lily in the Bedroom ""`', ""michaelthompson1991: so I think I've got something which I want [https://imgur.com/a/Ha4FV2a](https://imgur.com/a/Ha4FV2a) but it won't save, it says message malformed: expected dictionary @ date \\[\\`action\\`\\]\\[0\\] the code also wouldn't copy which is why I sent the image. Also its doesn't turn off the input Boolean"", ""MrCuddlez69: Can you show a screenshot of the full YAML that includes the action?\n\nIt may be an indentation issue.\n\nAs far as the specific service to turn off the Boolean, you'll need to go in to developer tools and locate the proper call to turn the Boolean to false"", 'michaelthompson1991: Apologies I haven’t got it up anymore because it wouldn’t save but I think this was the code I used which seemed to look correct but wouldn’t save \n\n`- alias: Watering Complete \n  variables:\n   action_water: WATERING_COMPLETE\n\ufeff\ufeff- alias: Ask question\n  service: notify.mobile app michael iphone 12 \n  data:\n    message: It\'s time to water bedroom peace lily \n    title: Watering Reminder \n    data:\n      tag: watering_complete \n      actions:\n\ufeff\ufeff      - action: ""{f action_watering_complete }}"" \n        title: Watering Complete\n\ufeff\ufeff - alias: Wait for response \n  wait_for_trigger:\n\ufeff\ufeff  - platform: event\n    event_type: mobile_app_notification_action \n    event data:\n      action: ""{{ action_watering_complete }}"" \n  timeout:\n    hours: 1\n    minutes: 0\n    seconds: 0\n    milliseconds: 0\n\ufeff - \ufeffif:\n\ufeff\ufeffcondition: template\nvalue_template: ""ff wait.trigger.event.data.action == action_watering_complete }}"" alias: Answer Water received\nthen:\n- service: input_boolean.turn_off target:\nentity_id: input_boolean.bedroom_peace_lily`\n\nLike i said I haven’t cracked quoting code yet!', ""michaelthompson1991: I put it into developer tools and templates and it says UndefinedError: 'action_watering_complete' is undefined"", 'michaelthompson1991: Here’s a screenshot of what I’ve got currently in dev tools which as you can see has an error https://imgur.com/a/vPwQ5dF', 'MrCuddlez69: Ok, you had some spelling errors in there lol - copy and paste this:\n\n    action:\n      - alias: Watering Complete \n        variables: \n          action_water_complete: WATERING_COMPLETE\n      - alias: Ask question \n        service: notify.mobile app michael iphone 12 \n        data: \n          message: It\'s time to water bedroom peace lily \n          title: Watering Reminder \n          data: \n            tag: watering_complete \n            actions: \n              - action: ""{{ action_watering_complete }}"" \n                title: Watering Complete\n      - alias: Wait for response \n        wait_for_trigger:\n          - platform: event \n            event_type: mobile_app_notification_action \n            event data: \n              action: ""{{ action_watering_complete }}"" \n        timeout: \n          hours: 1 \n          minutes: 0 \n          seconds: 0 \n          milliseconds: 0 \n      - if: \n          - condition: template \n            value_template: ""{{ wait.trigger.event.data.action == action_watering_complete }}"" \n            alias: Answer Water received \n        then:\n          - service: input_boolean.turn_off \n            target: \n              entity_id: input_boolean.bedroom_peace_lily\n\nWithin developer tools, go to **Services**, then choose the **input\\_boolean.turn\\_off** and select the entity by ID. This is the same service the above code calls. It should work so long as you directly copy/paste the above code into the **Action** YAML section of your automation.', 'michaelthompson1991: Apologies, it’s been a long day! In templates it still comes up with the same error, or should I be testing it somewhere else?', ""MrCuddlez69: You won't be able to test this in templates. Create a new automation and copy/paste my code into the YAML for the action section"", 'michaelthompson1991: So I’ve tried wait for template and notify as the action then pasting your code and i get this https://imgur.com/a/WEVH2Do and it still wont save', 'MrCuddlez69: Try this:\n\n    action:\n      - alias: Watering Complete \n        variables: \n          action_water_complete: WATERING_COMPLETE\n      - alias: Ask question \n        service: notify.mobile app michael iphone 12 \n        data: \n          message: It\'s time to water bedroom peace lily \n          title: Watering Reminder \n          data: \n            tag: watering_complete \n            actions: \n              - action: ""{{ action_watering_complete }}"" \n                title: Watering Complete\n      - alias: Wait for response \n        wait_for_trigger:\n          - platform: event \n            event_type: mobile_app_notification_action \n            event data: \n              action: ""{{ action_watering_complete }}"" \n        timeout: \n          hours: 1 \n          minutes: 0 \n          seconds: 0 \n          milliseconds: 0 \n      - if: \n          - condition: template \n            value_template: ""{{ wait.trigger.event.data.action == action_watering_complete }}"" \n            alias: Answer Water received \n        then:\n          - service: input_boolean.turn_off \n            target: \n              entity_id: input_boolean.bedroom_peace_lily\n    mode: single', 'michaelthompson1991: Thanks I’ll give it a try today!']"
1682192132.0	22-Apr-2023 12:35:32	Is it possible to create a new sensor on IOTLink?	geekypickygecko	6	12vgo9g	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vgo9g/is_it_possible_to_create_a_new_sensor_on_iotlink/	"I'm quite newbie on IOTLink (and HA in general), but I believe what I want to achieve is possible - I just don't know how!  


I'd like IOTLink on my PC to share on a new topic the result of a command I set up (actually a powershell script), so my HA can use it as a sensor (more specifically, the ""is the PC muted or not, with "" Get-AudioDevice -PlaybackMute "").

I guess I could set a HA Script that queries from HA to my pc this via the ""iotlink/workgroup/pc/commands/run"" handle, but I'd like to avoid my HA having to ask every now and then about it, and having my PC proactively delivering it!

So far, IOTLink is sharing its own predefined sensors, and I could create my own scripts on HA to send commands to my PC, but this part is the one that I'm missing.... can someone point me up in the right direction?"	5	"['PhotonArmy: Given that IOTLink is discontinued as a project, I would recommend the annoying, but relatively worthwhile migration over to HASS.Agent.  You can make Powershell sensors.  You can literally feed it powershell, and it can run it every x seconds.\n\nHowever, by default, I think it has audio sensors.\n\nthe description is:\n\n""Provides information various aspects of your device\'s audio:\n\nCurrent peak volume level (can be used as a simple \'is something playing\' value).\n\nDefault audio device: name, state and volume.\n\nSummary of your audio sessions: application name, muted state, volume and current peak volume.""\n\nMight do what you need out of the box.\n\n&#x200B;\n\nThere are some aspects of IOTLink I liked... but HASS.Agent, while it doesn\'t have as nice of a ""default experience"" is a \\*lot\\* more powerful in long run.', 'NoIWouldntMind: IOTLink was discontinued, as it says on the [gitlab](https://gitlab.com/iotlink/iotlink/-/blob/develop/README.md) page. But [HASS.Agent](https://github.com/LAB02-Research/HASS.Agent#functionality) is recommended instead and it supports creating your own sensors. \n\nI’m pretty sure the PC audio mute is a default sensor that you can add without the need for a custom PS script.', 'Ashley-Ashley: +1 for HASS.Agent. I noticed IOTLink was leaking memory a while ago, so I took the plunge and HASS.Agent actually has more features, and more easily configurable imo.', ""geekypickygecko: Oh god it took me like a week to get IOTLink running just to find there's this HASS.Agent!  \n\\-\\_\\_\\_-   \nwill give it a try, thank you!"", 'PhotonArmy: This is the way.']"
1682191568.0	22-Apr-2023 12:26:08	How to see actual disk usage within HA w/supervisor running in a VM on Unraid	MattWeiler1984	4	12vgeq8	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vgeq8/how_to_see_actual_disk_usage_within_ha/	"How can I see the actual ***disk space usage*** my ***qcow2 image*** of ***Home Assistant w/supervisor*** that is running in a VM on ***Unraid***?

# Past Disk Space Issues

About 18 months ago I started running ***Home Assistant***, with the supervisor, in a VM running under ***VirtualBox*** on ***Windows 10***.

But roughly 2 months ago I started having issues where some of my addons would fail to start with an error of ""***no space left on device***"":

    Can’t start addon_a0d7b954_nodered: 500 Server Error for http+docker://localhost/v1.41/containers/a7b66ba697a19f694afca72eb799f6a12fd987b85b6d58a618995eb1a8cff9c6/start: Internal Server Error (“failed to open stdout fifo: error creating fifo /var/run/docker/containerd/a7b66ba697a19f694afca72eb799f6a12fd987b85b6d58a618995eb1a8cff9c6/init-stdout: no space left on device”)

At the time, I found some threads that suggested this could be due to the docker images not being properly pruned. But I wasn't able to figure it out, so I just reverted to an older saved VM image. This lasted me until I build my new ***Unraid 6.11*** server.

^(I've migrated my) ***^(Home Assistant VM)*** ^(to) ***^(Unraid)*** ^(using the below thread to convert the) ***^(vdi)*** ^(disk to a) ***^(raw)*** ^(disk and then to a)  ***^(qcow2)*** ^(image:) [^(https://forums.unraid.net/topic/52357-import-from-virtualbox/#comment-514994)](https://forums.unraid.net/topic/52357-import-from-virtualbox/#comment-514994)

# Disk Usage Looks sus

Everything has been running well on Unraid, but I still think that I'm having some issues of old files not being properly cleaned up.

^(I say this because when I run the below command via the) ***^(terminal)*** ^(in) ***^(Unraid)***^(, I can see that the) ***^(virtual size)*** ^(of my VM image is) ***^(100GB)***^(, which is fine, but the) ***^(disk size)*** ^(is) ***^(83GB)***^(.)

    root@Unraid:qemu-img info home_assistant.qcow2 
    image: home_assistant.qcow2
    file format: qcow2
    virtual size: 100 GiB (107374182400 bytes)
    disk size: 83 GiB
    cluster_size: 65536
    Format specific information:
        compat: 1.1
        compression type: zlib
        lazy refcounts: false
        refcount bits: 16
        corrupt: false
        extended l2: false

Is the `disk size` actually the amount of data being stored in the image or is that something else?

&#x200B;

But when I check the disk usage in the ***Home Assistant web GUI***, it shows only `17GB` being used, which would be fine if that's the case.

https://preview.redd.it/2ho2hohhkhva1.png?width=787&format=png&auto=webp&v=enabled&s=700c24c96911d141ec4deae09235a47b11800662

This is corroborated when I run the `df` command via the ***terminal addon***, I can see that it looks like my ***disk usage*** is only `17GB`.

https://preview.redd.it/h8b7xshhihva1.png?width=641&format=png&auto=webp&v=enabled&s=53cfe5f272148f1019fd2a2d3a44fd66c5d9f4a9

I also installed the ***Glances addon*** and it also seems to corroborate the `17GB` of usage:

https://preview.redd.it/hoad3bhrihva1.png?width=555&format=png&auto=webp&v=enabled&s=cc7ee21b89835df1c027f5bac21ef5511ba04f03

I'm just not sure if this `17GB` being reported within ***Home Assistant*** is the full story... I'm clearly not an expert on ***Home Assistant*** :p"	2	"['LifeBandit666: I had issues where my logs on my Pis were getting stupid big and taking up all my memory. I believe they were being rotated out and compressed but still taking up space. \n\nSo I just went in and deleted them all using these commands https://i.imgur.com/qGajNVe.jpg and set home assistant to notify me when my memory is running out so I can do it again', ""MattWeiler1984: Thanks for the info, but when I check the `/var/log` directory, there's nothing there.\n\nI checked using the ***terminal plugin*** within ***Home Assistant***.\n\n&#x200B;\n\nFor now, everything looks good, but I'm just worried if something is growing out of control :p""]"
1682191054.0	22-Apr-2023 12:17:34	Building home server from scratch	DustyAir	1	12vg5ye	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vg5ye/building_home_server_from_scratch/	"All,
     I'm new to this. I'm attempting to design my home network from scratch for my new house.  Instead of piece milling things together I want to have a good basic design from the start.  If I build a tower server on a i7-8700k would I be good running the following on a vmware esxi bare metal installation? Also, what else should I add? What should I remove? 

Blue iris
Pi hole
Open vpn
Zabbix
Home assistant"	4	"['fastender: Take ""Unraid"" and have Fun!', 'MrCuddlez69: Take a look at Proxmox!', ""DustyAir: Thanks. Researching everything I don't know is turning into a full time job. Ha"", 'christianjwaite: Another vote for unraid here. Why waste all that on “just” home assistant. Just install hassos on a vm on unraid.']"
1682189757.0	22-Apr-2023 11:55:57	battery doorbell	Delicious-Handle-756	1	12vfjbw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vfjbw/battery_doorbell/	"Hey ! I moved to a 1930's UK house that never had Chimes! So to get quick results without having to bring 220v transformers next to the front door, I am looking for a doorbell with these requirements:

- battery powered 
- integration with Home Assistant (see entities to create automations)
- no subscription fees

Feel free to share your own experience and product advice."	1	['jkirkcaldy: I’ve got my eye on the new aqara doorbell. It’s not home assistant compatible yet but I’m hoping it will be soon. \n\nThat or the reolink doorbell. \n\nThe problem is that two way audio is currently not supported for any doorbell in home assistant.']
1682188758.0	22-Apr-2023 11:39:18	"Customize Google Home/Alexa to directly interface with HA ""year of voice"" (Rhasspy?)"	starmanj	2	12vf1gc	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vf1gc/customize_google_homealexa_to_directly_interface/	I just think it's a wasted effort to make HA users buy/build new speakers to put in every room. I already have an Alexa and Google home everywhere. Is there a way, in developer mode, to have Google or Amazon automatically forward commands to HA for action? I know you can have them process custom commands but I want HA to do it.	3	"[""kapits: For Google you can hook up your Home Assistant via Google Assistant integration  and chose exposed entities etc.). Setup takes a while and afaik requires exposed HA instance via https but works like a charm. Not sure what's there for Alexa though."", 'starmanj: Right I already did that. That\'s what I meant by custom commands. I wanted to use HAs ""assist"" features or rhassby directly. I supposed that\'s impossible.', ""Clutch70: I figure they're working on it. They hired the guy (he's like a super phd in CS/speech recognition) that wrote Rhasspy at the end of last year to do all the voice. I gotta figure he saw his first task as building out a LOT of voice/intent backbone into HA.""]"
1682187736.0	22-Apr-2023 11:22:16	Any irrigation controllers well supported? Would be fun to trigger a specific zone based off pet detection in my front yard :)	Diligent_Oil6245	2	12vejd9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vejd9/any_irrigation_controllers_well_supported_would/	"We have an oooold controller I’ve been meaning to replace for some better water usage control.  

Anything that works well with HA?"	8	"['yabdali: OpenSprinkler', 'chamberlain2007: Rachio works well, and I’ve been pleased with its built-in scheduling features.', 'groutnotstraight: I currently do this with Rachio and Frigate. It’s not 100% accurate, and there is some latency between the detection and irrigation, but when it works it’s glorious to watch the results!', 'ryanm91: Open sprinkler', 'tcbailey239: ""Orbit b-hyve 4-zone smart outdoor sprinkler controller"". Uses wifi so it does go over cloud but it works great. Zones show up as individual switches. Can be used in automations, scripts, etc.  Has a HACS integration.  About $60 on Amazon.', 'Internal-Exit-2059: You could just use sonoff 4ch pro and have a normal magnetic valve\n\nAlso with frigate :)', 'blentdragoons: \\+100 for rachio. really love mine.', ""PizzaOrTacos: +1 for orbit, minus the cloud integration. Just switched from the single zone to the 4 zone after one season. It's been amazing so far, I do love the auto rain delay.""]"
1682187489.0	22-Apr-2023 11:18:09	can I add an entity to alarm panel	emzy21234	1	12vef1a	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vef1a/can_i_add_an_entity_to_alarm_panel/	"I have the Yale smart home integration and i'm using the alarm control panel but I wanted to add the panic but to this panel too, is this possible?

I tried adding the two together using a horizontal stack but changes the layout of the control panel. 

&#x200B;

[This is on two different cards but I want them on the same card.](https://preview.redd.it/a43dy7499hva1.png?width=503&format=png&auto=webp&v=enabled&s=362f2d2333504ebf6ee1f1f9e7f310b605c0811f)

&#x200B;

&#x200B;

[When using Horizontal stack](https://preview.redd.it/qvywrd8g9hva1.png?width=470&format=png&auto=webp&v=enabled&s=6d474ba5f34fbec4f088d5b8d4b6399b8a59d36d)"	1	['emzy21234: I resolved this using a vertical-stack-in-card']
1682186443.0	22-Apr-2023 11:00:43	Rogue camera entity through errors in log even though it doesn't exist?	guesswhochickenpoo	3	12vdxfs	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vdxfs/rogue_camera_entity_through_errors_in_log_even/	"(\* ""through"" = ""throws"" 🤦🏻‍♂️. Muscle memory)

I recently switched from several custom generic camera entities defined in yaml to the Reolink integration for my Reolink cameras. Since then I have a rogue camera entity throwing errors in the logs and I can't find it or get rid of it. The error shows up hundreds of times a day in the logs but I cannot find the actual entity to get rid of it.

https://preview.redd.it/lh48bga74hva1.png?width=1343&format=png&auto=webp&v=enabled&s=3e6c330035927551a678465dcef0944df1638cb4

    Error from stream worker: Error opening stream (HTTP_UNAUTHORIZED, Server returned 401 Unauthorized (authorization failed)) rtsp://****:****@192.168.1.40:554/h264Preview_01_sub

`camera.garage_inside` was the name of a previous camera I had setup in the config yaml. The base name of the camera now that it's configured in the Reolink integration is still 'Garage Inside' but the entity the integration has created is `camera.garage_inside_sub`, there is no `camera.garage_inside` entity anymore. All functions of the camera work as expected so that's another confirmation that the `camera.garage_inside` entity that's throwing errors isn't the new one via the integration.

https://preview.redd.it/zyd8297c5hva1.png?width=491&format=png&auto=webp&v=enabled&s=96c1f95ab5a02e7aa4cec312af617fdad2c5b13e

Searches in all my HA files (even beyond the config yamls) turns up nothing. There's just some legacy stuff in the secrets file that's commented out.

https://preview.redd.it/dz096euz4hva1.png?width=446&format=png&auto=webp&v=enabled&s=7667e1b2b1d19c2f53670bf4e1e149ba92c301a9

I did find a lingering entity under the original name in the UI and I tried disabling and even renaming it but the errors still get thrown under the original `camera.garage_inside` name in the log. So it seems like this entity isn't even representatives of the one that's throwing the errors? I'm confused.

&#x200B;

https://preview.redd.it/8ni0nyqu5hva1.png?width=544&format=png&auto=webp&v=enabled&s=cacfb235c0074d205f288867a36e2af143b919d3

Obviously I've rebooted HA (several times in fact) and the problem remains.

Suggestions?"	2	['smarthomepursuits: Is it in Settings > Devices & Services > Generic Camera?', 'guesswhochickenpoo: OMFG that’s probably it. I think HA did one of those “we’re moving the config from YAML to the UI” updates and I didn’t notice. All my previous yaml cameras were there under Generic Camera in the UI. Deleted them and will see if the errors clear up.']
1682185452.0	22-Apr-2023 10:44:12	HA+NodeRed+OpenAI+Telegram = Notifications with personality	frrst	220	12vdgte	homeassistant	https://www.reddit.com/gallery/12vdgte	"I resurrected Viking-era Estonian leader Lembitu  as the AI-powered persona of my smart home – Lembitu3000.

First, a power monitoring node monitors the Shelly smart plugs for power consumption, detecting state of the machines. 

Next I have a paid account at OpenAI, then used DALL-E to generate various images for ""washer/dryer"" and different weather conditions. Then scripted to upload all of these to Telegram servers (posted to my private chat), resulting in a CSV of topics and `file_ids`. This cost me a few euros. 

Then I have a function node that compiles the conditions, notification text as well as ""context"". The GPT node then turns the context and message into Viking-words. 

Then I pick a random image matching the topic and post to Telegram chat using three Telegram switch node. 
Initially I built also a 15 mom and 1 hour reminders (a delay node feeding back into the Telegram Switch node), but after some time now I think I'm going to drop the reminders and keep simple notification.  

The weather notification flow is quite similar, just that it turns forecast into a themed image and nice text and most importantly - whether I should bring an umbrella. 

BTW. When I initially used ""Dryer has stopped"" wording, GPT was kind enough to provide me a checklist of potential issues for troubleshooting. 😂"	22	"['8nfinity: Can you post the node red code?', 'iWQRLC590apOCyt59Xza: Hahaha, this is great. Well done.', 'Worish: I need this in my life.', 'caraar12345: This is ridiculous and stupid. I love it.', 'frrst: I uploaded the flow along with a description to Gist here:\n\n&#x200B;\n\n[https://gist.github.com/borgand/9294381189b6d092e6b20b8d4e413a04](https://gist.github.com/borgand/9294381189b6d092e6b20b8d4e413a04)\n\n&#x200B;\n\nSince this is my first Node Red flow of any complexity, please be gentle.\n\nAnd although I tried to santitise the code, if I still happened to publish my credentials, please leave me money for one coffee still on my credit cards. 😂', 'milanistadoc: OK?? Da Fuk? Change that to HUZZAH asap!', 'hakitudSpinat: Väga lahe, OP. Nüüd tahaks ka oma Lembitubot :)', 'MisterK00L: Lol! \U0001faf6🏻', 'TamahaganeJidai: I approve of this!', ""Arttu1: I've been planning similar approach for my Telegram bot. My bot sends every morning a morning greeting with current weather + forecast, I would like the AI to construct the message.\n\nHow much approx one request costs for you?"", 'frrst: I will try to put it together. It is split into various sub-flows and I need to sanitise it of my credentials', 'frrst: And the prompts for generating the images for the Ruby script:  \n\n\n```\nPROMPTS = {\n  ""washer"" => ""Generate Detailed Digital Art humorous image of Lembitu3000, a mighty viking warrior and knowledge guardian, playfully interacting with a washing machine. Make him look realistic. Highlight his unique blend of ancient viking warrior heritage along with his beard and futuristic technology like glowing eyes or cyber helmet as well as a sword, as he uses his warrior spirit and advanced knowledge to conquer laundry day."",\n  ""sunny"" => ""Create a Impressionist Painting picture depicting a sunny environment where a smallish Viking warrior with big head, blue eyes and a prominent beard is training vigorously. Capture the warrior\'s determination and strength as he hones his combat skills under the warm rays of the sun, staying true to his Viking heritage."",\n  ""cloudy"" => ""Create a Digital Art picture illustrating a environment where there are a few light clouds, but it is not rainig, where a smallish Viking warrior with big head, blue eyes and ja prominent beard is training with steadfast determination. Showcase the warrior\'s resilience and power as he hones his combat skills under the moody, overcast skies, embracing his Viking heritage. Highlight the light clouds. Viking has beautiful face with eyes and nose and beard clearly showing"",\n  ""rainy"" => ""Create a Detailed Impressionist Painting picture depicting a smallish Viking warrior with big head, blue eyes and a prominent beard, holding an umbrella while training unrelentlessly in a heavy rain. Capture the warrior\'s unwavering determination and adaptability as he continues to hone his combat skills, embracing his Viking heritage even in the face of adverse weather conditions. Highlight the umbrella."",\n}\n```', 'frrst: May I ask what objection do you take with it?', 'frrst: They have token count based pricing, I.e. depending on message size. \nOne token is roughly 4 chars or 3/4 of English word. The usage report tells me that these requests are roughly 180 tokens each, meaning roughly 2,5 messages per 1 cent. \n\nOnce GPT-4 is enabled, I plan to switch to that, which is sadly 2-3 times more expensive. \nCurrently on the 3.5 Turbo\n\nhttps://openai.com/pricing', 'milanistadoc: With such a glorious output, the dryer deserves the Huzzah it is expecting back. ;)', 'TheStalledAviator: You mean ""more than 10x the price"" not ""3-4x"".', 'Zouden: Why would you switch to the more expensive GPT4 for this task?', 'Arttu1: Thanks a lot for the info, pricing seems affordable for this kind of tasks. \n\nLooking forward to see your flows :)', 'frrst: Ah, got it. My bad.', 'frrst: Correct', ""frrst: Because I actually want Estonian text and GPT-4 gives better results. Currently it's s bit clunky""]"
1682185336.0	22-Apr-2023 10:42:16	Reverse Proxy Issues	LoungingLemur2	0	12vdevw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vdevw/reverse_proxy_issues/	"I've been struggling with getting this working for several days now, and I have to imagine that others have tried to do something similar. Here goes...

I am running HAOS in a VirtualBox VM on a Win10 machine. I have previously successfully enabled external access to Home Assistant via the duckdns addon within HA, which authenticates the certificates using letsencrypt (according to [this](https://peyanski.com/home-assistant-remote-access/) guide). I was successfully able to configure HA to use a sub-sub domain from duckdns (e.g. **ha.mydomain.duckdns.org**). My Duck DNS addon config file therefore looks like this:

`domains:`

  `- ha.mydomain.duckdns.org`

`token: <my-duckdns-token>`

`aliases:`

  `- domain: ha.mydomain.duckdns.org`

`alias: mydomain.duckdns.org`

`lets_encrypt:`

  `accept_terms: true`

  `algo: secp384r1`

  `certfile: fullchain.pem`

  `keyfile: privkey.pem`

`seconds: 300`

Recently, I am trying to stand up several other services that will be running in docker containers (on the same host machine as the HA VM). I am running docker via Ubuntu 22.04 LTS within a WSL2 environment. I would like to use NGINX reverse proxy to enable external access to those services using sub-sub domains from the same duckdns domain (lets use Nextcloud as an example). I installed certbot in my Ubuntu environment, and successfully obtained a wildcard certificate for \*.mydomain.duckdns.org. NGINX in docker is configured to point my Nextcloud instance to **nc.mydomain.duckdns.org**. However, my Home Assistant instance shows up when I navigate to each of the following URLs:

* ha.mydomain.duckdns.org (as is expected)
* nc.mydomain.duckdns.org (problem)
* mydomain.duckdns.org (problem) 

I'm starting to wonder if this configuration won't work...is there a conflict between the certificate issued via the duckdns addon in HA and the certificate issued by NGINX in docker because they both ultimately point to the same duckdns subdomain (**mydomain.duckdns.org**)? Does anyone else run HAOS in a VM, and use a reverse proxy to manage other self-hosted services? How do you avoid this conflict?"	6	"[""Lectere: Reverse proxy for one ha instance is madness and you are just relay your certificate problem. HA should offer normal certificate support from the GUI if you ask me. The let's encrypt is nice, but general certificate support via the GUI would be better."", 'iWQRLC590apOCyt59Xza: I have nginx proxy manager as add-on and it serves as proxy for multiple sub domains using the wildcard certificate provided by the duckdns addon.', 'LoungingLemur2: I’m not using the reverse proxy for HA. HA only uses the duckdns add on to enable external access. \n\nI want to setup a reverse proxy for other services (like Nextcloud) that run on the same host machine as my HA instance and use a different sub-sub domain of the same base duckdns domain…and that’s where I run into issues.', 'LoungingLemur2: Just to make sure I understand you correctly:\n\nYou set up the duckdns and nginx addon’s within HAOS. The nginx add on (even though it resides within HAOS) is used to reverse proxy services that run outside of HAOS?', 'iWQRLC590apOCyt59Xza: It proxies for services both in- and outside HAOS.  \nI.e. jellyfin runs on another computer, but Vaultwarden does not.\n\n[https://community.home-assistant.io/t/home-assistant-community-add-on-nginx-proxy-manager/111830](https://community.home-assistant.io/t/home-assistant-community-add-on-nginx-proxy-manager/111830)', 'LoungingLemur2: Oh that’s brilliant. I assume the converse is true then as well: I could run NPM stand-alone in docker, which would proxy home assistant and any other services running externally to HAOS?\n\nI think I got stuck thinking that the **only** way to get HAOS external access working was to use the addons within HAOS (and that an external NGINX config somehow wouldn’t work).']"
1682184742.0	22-Apr-2023 10:32:22	Question about controlling smart light bulb with Sonoff mini r2.	XErTuX	1	12vd4jo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vd4jo/question_about_controlling_smart_light_bulb_with/	"I have Tapo L510 that i integrated to hass. it works well with a downside that when i ""on"" the mechanical light switch it takes 5-10 seconds to boot and connect to hass to control brightness.

i want to combine mini switch r2 with the smart light that when the mechanical switch is off it wouldn't cut the electric of the light, but turns the smart light off via automation.

The old mechanical switch need to stay.

is it possible with the r2, i am not a automation geek, can you show me the way how to do?"	3	"['UKGRaffe: Depending on how your switch is wired you should be able to flash tasmota on the r2 and detach the switch in software\n\nSomething similar here https://www.youtube.com/watch?v=AtA0i45KGU8', ""XErTuX: Thank you, this is the functionality that i want. i wonder if it's possible to this on sonoff mini L2 on hass which is strictly zigbee only. Cuz i have no neutral available at the switch."", ""UKGRaffe: Hmm I haven't tried the zigbee ones so not sure if the same functionality is possible, if I had to guess I'd say not but I may be wrong.\n\nYou might be able to put the WiFi R2 with tasmota in the ceiling, I've done that on a couple of lights (well I got my electrician to!)\n\nOne other option would be to permanently connect the switch as on, then use something like this from that same chap on YouTube https://youtu.be/tz_F4Tjhap0""]"
1682184015.0	22-Apr-2023 10:20:15	Looking for help setting up ble gateway	smdifansmfjsmsnd	1	12vcrrq	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vcrrq/looking_for_help_setting_up_ble_gateway/	"Found this [post](https://community.home-assistant.io/t/esphome-ble-gateway-and-other-ble-components/367935) and wondering how to set up the code and if this will help solve issues with range problems on a Govee Bluetooth sensor.  Already have a Bluetooth proxy within feet of the sensor but it doesn’t seem to do anything (can’t even tell if the sensor is connected) and was recommended to try the ble gateway instead and specify the MAC address of the sensor in the code.  I’m also confused what the passive ble monitor section is for - do I need to run this integration instead of the Govee one?  

Any help would be greatly appreciated and not sure if this will even solve issue so if there’s other options I should look at then I’m open to suggestions."	0	[]
1682183685.0	22-Apr-2023 10:14:45	Analog Meter converted to wind speed meter	Niconico68	69	12vclu9	homeassistant	https://www.reddit.com/gallery/12vclu9		7	"['photonicsguy: You need a servo motor to rotate the windsock based on wind direction.', 'ML2128: Can you add more details on a post on r/esphome ?', ""mattfox27: That's awesome do you have a write-up"", 'generalambivalence: I love this. Great job! \nWould love to see the details on it.', 'Wolfgang-Warner: Wow, that looks really cool. And it\'s a practical ""whether"" station.', 'augugusto: Analog meter sound like a tool to measure how analog something is', 'einsq84: ... and a windsock that moves to the speed of the wind....']"
1682183105.0	22-Apr-2023 10:05:05	Looking for a doorbell camera - but without a doorbell	scnr83	1	12vcbaa	homeassistant	https://www.reddit.com/r/homeassistant/comments/12vcbaa/looking_for_a_doorbell_camera_but_without_a/	I want the same functionality as a doorbell camera, but without the doorbell button. So just a camera and probably a mic/speaker in the same form factor that I can mount on my door frame. It should run on batteries and connect to WiFi. I also don't really need video, I just want something to snap a pic as soon as my regular Doorbell (which is already integrated into home assistant) is pushed, so I can see who's at the door.	2	['KurtaPajama: Get a camera with 2 way audio', 'ten1219eighty5: They make camera bulbs that ate pretty sweet']
1682179003.0	22-Apr-2023 08:56:43	Is anyone having problems displaying cameras to AppleTV ?	notrox	2	12va808	homeassistant	https://www.reddit.com/r/homeassistant/comments/12va808/is_anyone_having_problems_displaying_cameras_to/	I did a couple HA rolls backs, so I’m pretty sure it’s a HomeKit on tvOS problem, but recently my camera won’t display. It does work on all my other iDevices using HomeKit as a front end.  Is anyone else experiencing this?	5	['_Rand_: How are you exposing them?\n\nI was never able to get HA to expose them and have it work, but scrypted works perfectly.', 'Cezza168: Another +1 for scrypted', 'notrox: It’s just a generic cam. I added it to the HomeKit include domains: in the config file.  It has worked forever and still does on my phone and iPad.', 'naynner: Yeah, I never really got them to work well until Scrypted.', 'notrox: Cheers, I just setup scrypted and it works again.']
1682178513.0	22-Apr-2023 08:48:33	Pushing toggle helper into Alexa	voidsyourwarranties	2	12v9z87	homeassistant	https://www.reddit.com/r/homeassistant/comments/12v9z87/pushing_toggle_helper_into_alexa/	"I feel like I've scoured as much information as possible and still turning up with nothing. I have a Nabu Casa account and the alexa media player integration. No problems with anything pushing anything discovered in HA into Alexa.

I realize I can't send webhooks from Alexa to HA, but I can have Alexa turn a toggle on or off once I give a voice command. I create my toggle, HA sees it, but it doesn't push to Alexa. Scripts push into Alexa as scenes, but I can't seem to do anything with those.

Am I missing something completely obvious?"	3	"['martamoonpie: You can choose what entities are exposed to Alexa in the cloud settings.', 'big-ted: Create a binary sensor for your input boolean\n\nThe device_class is the important bit, Alexa only recognises some of them. It will be seen in Alexa as Alexa_HA_Fan\n\n      - binary_sensor:\n      - name: Alexa_HA_Fan\n        state: ""{{ is_state(\'input_boolean.ha_tower_fan\', \'on\')}}""\n        device_class: garage_door', ""voidsyourwarranties: Thank you so much, I don't understand how I missed that.""]"
1682176954.0	22-Apr-2023 08:22:34	Timer to get ready for work	percebeFC	3	12v96fi	homeassistant	https://www.reddit.com/r/homeassistant/comments/12v96fi/timer_to_get_ready_for_work/	"Hi guys 

I'm have really poor time management skills particularly in the morning and I wanted to see if you had an idea how to better approach this 

Basically I'd need a timer card that tells me how long I have to get ready and leave the house, based on the time I need to be at work by, and the commuting time with current traffic.


So the way how I think this would work:

- A dropdown where I can choose the time I need to be at work (9:30,10,10:30 etc)

- A sensor for commuting time with traffic (I already have this) 

- A sensor to get the current time

- An automation that starts a timer by passing the following variable: 10:30 (dropdown) - 00:30 (commute) - 09:20 (current time) = 00:40 min timer

- a button to start the automation 

- a timer card that lets me display this 

Am I missing something? Do you have any advice on this, as I'm quite new to all of it? 

Thank you"	3	"[""Fritz00015: Do you know the time you need to be at work based on your calendar? If so you could easily integrate this with a template. \n\njust a quick example:\n\n>{% set work\\_event\\_start =  state\\_attr('sensor.YOUR\\_WORK\\_EVENT','start').time() %}  \n>  \n>{% commute\\_time = states('sensor.YOUR\\_COMMUTE\\_TIME')  \n>  \n>{% set last\\_time\\_leaving = work\\_event\\_start - commute\\_time %}  \n>  \n>{{last\\_time\\_leaving}}\n\nWith that you could create a timer or an alarm."", ""percebeFC: Thank you so much for this! Seems straightforward enough, I will give it a try and feed back.\n\nThe calendar could be a good idea but in my case I usually decide in the morning what time I'll head to the office, depending on how busy I'll be during the day and what has gone wrong the day before."", 'Fritz00015: If you need further help, let me know.\n\nDoing it with a dropdown can be easily done with the dropdown helper.']"
1682176274.0	22-Apr-2023 08:11:14	Custom card history with drop down filter and textbook wildcard filter	anatawaurusai2	1	12v8uad	homeassistant	https://www.reddit.com/r/homeassistant/comments/12v8uad/custom_card_history_with_drop_down_filter_and/	I see there is an ability to call to the logbook api to see the history and i would like to incorporate this into a dashboard card so i could easily dropdown a filter to only view contact sensors and see the history (text not a graph) i am hoping someone already built this but I couldn't find anything. Thank you so much	0	[]
1682171280.0	22-Apr-2023 06:48:00	How to mount SMB media shares from separate NAS for Plex addon?	HisCromulency	2	12v6fqo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12v6fqo/how_to_mount_smb_media_shares_from_separate_nas/	"I have Home Assistant OS 10 installed bare metal on an Intel NUC. 

I can't figure out why my configuration isn't letting me access and mount SMB shares from my OpenMediaVault server. I followed [this previous Reddit thread](https://np.reddit.com/r/homeassistant/comments/rm36s3/how_to_mount_an_nfs_or_smb_filesystem_on_ha/) as a guide, and as far as I know I did everything correct. 

This is what I have in my configuration.yaml:

    homeassistant:
      media_dirs:
        movies: /mnt/media/movies
        tv: /mnt/media/tv
        music: /mnt/media/music
        
    shell_command:
      mount_media_movies: mkdir -p /mnt/media/movies;mount -t cifs -o username=HisCromulency,password=HisCromulencyPW //192.168.1.199/Movies /mnt/media/movies
      mount_media_tv: mkdir -p /mnt/media/tv;mount -t cifs -o username=HisCromulency,password=HisCromulencyPW //192.168.1.199/TV_Shows /mnt/media/tv 
      mount_media_music: mkdir -p /mnt/media/music;mount -t cifs -o username=HisCromulency,password=HisCromulencyPW //192.168.1.199/Music /mnt/media/music

I did the step of creating the Movies, TV, and Music directories first in HA. Did a full system reboot. Made the shell commands, and validated that there were no problems. I also made the automation to run the shell commands on HA boot: 

    alias: Mount /media on HA start
    description: """"
    trigger:
      - platform: homeassistant
        event: start
    condition: []
    action:
      - delay:
          hours: 0
          minutes: 0
          seconds: 0
          milliseconds: 15
      - service: shell_command.mount_media_movies
        data: {}
      - service: shell_command.mount_media_music
        data: {}
      - service: shell_command.mount_media_tv
        data: {}
    mode: single

I also have ""allow guest access"" permissions on my OpenMediaVault SMB shares.

When I click on Media>Local Media, I can see the Movies, TV, and Music folders I have created https://imgur.com/7mT0z9r. But when I click on say ""movies"" folder, I just get an infinite loop of loading the movies folder over again and again. 

Plex cannot see the folders I tried mounting in /media as well https://imgur.com/TxFGYvF https://imgur.com/ZSl1fH4. What exactly am I doing wrong?"	6	"['IroesStrongarm: Why not run Plex in docker on your OpenMediaVault server?', ""BeautifulHoliday5242: I am also facing this issue where Plex and Jellyfin are not recognizing any media in the mounted folders. However, when I go into the media tab in HomeAssistant, I can see the mounted folders and play the media inside. Additionally, I have my NAS with OMV, but I don't want to run Plex or Jellyfin there as it is just a Jailbroken WD MyCloud Home with only 1GB of RAM. Can someone provide any assistance?\n\nI also saw this repo https://github.com/mrvnklm/plex-docker-smb-mount but this would limit me to plex but in the future i would also love to setup radarr and sonarr and also try Jellyfin"", 'HisCromulency: for some reason no matter what i do I can\'t install Docker on OMV. I\'ve tried changing settings on my router and OMV, nothing works. I also have a RaspberryPi running DietPi has errors when updating or installing as well.\n\nI always get ""network unreachable"" errors.\n\n    Err:5 http://deb.debian.org/debian bullseye InRelease\n      Could not connect to debian.map.fastlydns.net:80 (199.232.34.132). - connect (101: Network is unreachable) Unable to connect to deb.debian.org:http:\n    Err:6 http://deb.debian.org/debian bullseye-updates InRelease\n      Unable to connect to deb.debian.org:http:\n    Err:7 https://openmediavault-plugin-developers.github.io/packages/debian shaitan InRelease\n      Could not connect to openmediavault-plugin-developers.github.io:443 (185.199.108.153). - connect (101: Network is unreachable) Could not connect to openmediavault-plugin-developers.github.io:443 (185.199.109.153). - connect (101: Network is unreachable) Could not connect to openmediavault-plugin-developers.github.io:443 (185.199.110.153). - connect (101: Network is unreachable) Could not connect to openmediavault-plugin-developers.github.io:443 (185.199.111.153). - connect (101: Network is unreachable)\n    Err:8 https://download.docker.com/linux/debian bullseye InRelease\n      Could not connect to download.docker.com:443 (108.139.15.103). - connect (101: Network is unreachable) Could not connect to download.docker.com:443 (108.139.15.28). - connect (101: Network is unreachable) Could not connect to download.docker.com:443 (108.139.15.3). - connect (101: Network is unreachable) Could not connect to download.docker.com:443 (108.139.15.20). - connect (101: Network is unreachable)\n    Err:9 http://security.debian.org/debian-security bullseye-security InRelease\n      Could not connect to security.debian.org:80 (151.101.66.132). - connect (101: Network is unreachable) Could not connect to security.debian.org:80 (151.101.130.132). - connect (101: Network is unreachable) Could not connect to security.debian.org:80 (151.101.2.132). - connect (101: Network is unreachable) Could not connect to security.debian.org:80 (151.101.194.132). - connect (101: Network is unreachable)\n    Err:10 https://packages.openmediavault.org/public shaitan InRelease\n      Could not connect to packages.openmediavault.org:443 (178.254.11.33). - connect (101: Network is unreachable)\n    Err:11 https://deb.debian.org/debian bullseye-backports InRelease\n      Could not connect to deb.debian.org:443 (199.232.34.132). - connect (101: Network is unreachable)\n    Err:12 http://download.proxmox.com/debian/pve bullseye InRelease\n      Could not connect to download.proxmox.com:80 (144.217.225.162). - connect (101: Network is unreachable)', 'BeautifulHoliday5242: I just went with DietPi', ""IroesStrongarm: Won't pretend to be the expert on it but used to run omv and portainer and Plex in a container there. I recall using many DB Tech guides back when. Try this guide maybe?\n\nhttps://youtu.be/ZLa5NGPKQv0"", 'zSprawl: I don’t know this issue is, except it appears some of the urls have changed, but I agree, Plex on HA isn’t the best choice. I’d run it as a VM elsewhere before I did it as an addon. Plex needs cpu power for transcoding.']"
1682171158.0	22-Apr-2023 06:45:58	Any way to add a virtual thermostat type device, where I can specify one device to use for temperature, and another as a relay to turn it on or off?	Nouns_2023	4	12v6dxj	homeassistant	https://www.reddit.com/r/homeassistant/comments/12v6dxj/any_way_to_add_a_virtual_thermostat_type_device/	"I have a Shelly 1 that controls my pool heater and also shows the water temperature.  Are there any virtual devices or helpers or anything I can do where I can add a ""Thermostat"" to a dashboard or as a device, but where it uses the temperature sensor on the Shelly to show the thermostat's temperature, and then if I set the thermostat to Heat and higher than the current temperature, it activates the relay on the Shelly to turn on the heater?"	3	['mallrat32: https://www.home-assistant.io/integrations/generic_thermostat/', 'Nouns_2023: ty!!', 'TCSNY_Dan: Used this integration all winter. Worked like a charm.']
1682170912.0	22-Apr-2023 06:41:52	Can you add Shelly devices to HA via Shelly cloud rather than locally?	Beginning_Feeling371	2	12v6a2e	homeassistant	https://www.reddit.com/r/homeassistant/comments/12v6a2e/can_you_add_shelly_devices_to_ha_via_shelly_cloud/	I have a couple of Shelly’s at work I’d like to add into my home HA setup to automate. Is there anyway of doing this without a VPN?	1	['uosiek: Yes, do it over MQTT.\n\nhttps://github.com/bieniu/ha-shellies-discovery']
1682167612.0	22-Apr-2023 05:46:52	Next on the list of things to automate ...	swake88	513	12v4xtw	homeassistant	https://i.redd.it/eu9lw5jy3hva1.jpg		50	"[""_who__cares_: Looks nice. I've got a German one from Siemens. They run on 26V AC/DC, so they are pretty safe to handle. I 3D printed some Light-Masks with a bicycle symbol  on it, and now it shows me when my Bike is being charged and when it's fully charged."", 'tobimai: Soooo you were drinking last night?', 'SamanthaJaneyCake: Perfect as an “occupied” light for the bathroom XD', 'FlickeringLCD: I have a Jeep grille on the wall in my living room, the headlights are controlled by ESPhome on a NodeMCU and everything is powered by a computer power supply.', ""illiteratebeef: I got some stop lights after seeing the [TechnologyConnections](https://www.youtube.com/watch?v=GiYO1TObNz8) video on them and put a Hue Go light in it for zigbee RGBWW. It's pretty directional, but works well when bounced off the ceiling and a wall.\n\nI didn't take progress pics, but [here's a post](https://imgur.com/gallery/0xSrZyo) about the microscope light I did the same thing with."", 'ManicMods: Hahaha nice!  Reminds me of my Yacker Tracker for kids, a 3 color stoplight for noise levels. Interestingly I had to automate it as it was originally only push button on.  \n\nWhat are you planning for it?', 'TruckerLogix: Reminds me of superman 3 when Richard Prior hacked everything and the green guy was fighting the red guy...', 'jura0011: Sure, nice.  \nBut they are huge. Had some at work to show if everything was fine. Even there it was way to big.  \nNext time better get a small one for bicycles.', ""Gareth79: Ah nice! I almost got a mini bicycle one recently but it was a little too £, I'm still going to get one when I see another.  I have a flipdot bus destination blind in my front window which I turn on at some times of the year to show stuff, I wrote a display driver for ESPHome."", ""augugusto: I'm personally interested in whatever you do with this. I had some ideas but can't figure out which would work better in my home:\n\n- bathroom occupied / free\n- alarm armed\n- have it tell me when I should stop backing the car I to the garage\n- some game for my kid where the game would randomly start  whenever someone is in front and you can only move when the light is gree. If its red an you move, you lose and have to wait until it decides to start again"", 'noisytwit: Somewhat off topic, but I have the same radiators and valves. Great choice!', 'QlusiveNL: Sir you are not allowed to take these home.', 'seganku: *screeeee*\n*thump* *thump*', 'migidi: Why. How. How much and what for', 'doctorniz: Squid Game at home!!', ""swake88: Niiiice! I'm most likely going to gut the insides and use some RGB LED's inside instead.\n\nI've also got to figure out whether it'll live in my office or use it outside in the garden."", ""Esava: > They run on 26V AC/DC, so they are pretty safe to handle.\n\nDoesn't that depend on the model?   \nI wouldn't be surprised if there is variation in operating voltage for traffic lights."", 'skaterrj: Now I want one with Ampelmann.', 'wenestvedt: This is awesome!\n\nCan you share the shapes for the light masks?', 'EatShitLyle: What are you using to determine charged state? The bike or the power point?', 'druffinger: Where did you get that from? :D', ""swake88: Hahahaha nah. I stumbled across this in a 'second hand' shop for £20!\n\nThere were two up for grabs but the Mrs would only let me have one in the end!"", 'jrhenk: Haha you beat me to this comment', 'Tie_Good_Flies: Yacker Tracker... Never knew what it was called but they had one in my middle school lunchroom, and if it went red, our recess got cancelled lol', ""LifeBandit666: > I have a flipdot bus destination blind\n\nI had to Google this to see what it is. So it's the display from the front of a bus that tells you where it's going? That's cool! \n\nIt's the Blind part that's confusing me. Are you saying you have window blinds that are also able to display information? That sounds cool AF!"", 'MrDreamzz_: Which valve is that?', 'djgrahamj: Oh I assumed the idea was to manage traffic on those narrow stairs :D', '_who__cares_: Yes, it depends. There is also a 230V Version. \nMine is acually rated for 40V AC but with a little reverse engineering I figured out they work also with dc and down to 26V.', ""_who__cares_: Yes, I'll do that tomorrow. I'm not home right now. \n\n!remindme tomorrow, 13:00"", '_who__cares_: I use a shelly plug s with tasmota to measure the power and turn on and off the charger of my Bike', '_who__cares_: I bought it from a traffic-light-collector on the German version of Craigslist', 'antisane: But honey, what if I need parts from one to fix the other? ;)', 'DVXT: Where abouts was this shop? 👀', 'tehrmuk: Nice find. A few months ago a BMW took out a couple of traffic lights near me and I regret not nabbing a couple of choice bits from the wreckage that was piled up for weeks afterwards.', ""regypt: > There were two up for grabs but the Mrs would only let me have one in the end!\n\nWith some practice, I'm sure you'll be able to take more in the end in no time!"", 'tobimai: Ah yes the second hand shop which definitely does not sell stolen things :P', 'Mrmastermax: Keep the receipts in case someone comes on you and asks', 'BrianBlandess: Teachers can be assholes', 'BloominFosters: This brought back long buried memories.', 'Gareth79: Ah no, ""blind"" is just a name given to the signage on buses, since they used to be a roller blind that the driver wound round to read the next destination.', ""noisytwit: They're not smart valves, very dumb, but here\n\nhttps://www.bestheating.com/milano-chrome-modern-radiator-valves-corner-pair-33028"", 'Complex_Solutions_20: Our office needs some to manage traffic at the intersection of the break-room hallway!', 'RemindMeBot: I will be messaging you in 20 hours on [**2023-04-23 13:00:00 UTC**](http://www.wolframalpha.com/input/?i=2023-04-23%2013:00:00%20UTC%20To%20Local%20Time) to remind you of [**this link**](https://www.reddit.com/r/homeassistant/comments/12v4xtw/next_on_the_list_of_things_to_automate/jhadtl5/?context=3)\n\n[**2 OTHERS CLICKED THIS LINK**](https://www.reddit.com/message/compose/?to=RemindMeBot&subject=Reminder&message=%5Bhttps%3A%2F%2Fwww.reddit.com%2Fr%2Fhomeassistant%2Fcomments%2F12v4xtw%2Fnext_on_the_list_of_things_to_automate%2Fjhadtl5%2F%5D%0A%0ARemindMe%21%202023-04-23%2013%3A00%3A00%20UTC) to send a PM to also be reminded and to reduce spam.\n\n^(Parent commenter can ) [^(delete this message to hide from others.)](https://www.reddit.com/message/compose/?to=RemindMeBot&subject=Delete%20Comment&message=Delete%21%2012v4xtw)\n\n*****\n\n|[^(Info)](https://www.reddit.com/r/RemindMeBot/comments/e1bko7/remindmebot_info_v21/)|[^(Custom)](https://www.reddit.com/message/compose/?to=RemindMeBot&subject=Reminder&message=%5BLink%20or%20message%20inside%20square%20brackets%5D%0A%0ARemindMe%21%20Time%20period%20here)|[^(Your Reminders)](https://www.reddit.com/message/compose/?to=RemindMeBot&subject=List%20Of%20Reminders&message=MyReminders%21)|[^(Feedback)](https://www.reddit.com/message/compose/?to=Watchful1&subject=RemindMeBot%20Feedback)|\n|-|-|-|-|', 'EatShitLyle: Thanks! Does the output wattage drop or something?', 'druffinger: Damn might have a look on Kleinanzeigen then :P', 'Crushinsnakes: Its the one right by your city! Or thats what i always hope...', 'MrDreamzz_: Ah okay. Was hoping for smart valves :)\n\nLooking for which to buy. Both great working and affordable, since I need 5 of them', 'noisytwit: Sorry to get your hopes up.', 'TheDevFreak: I paid £119 for 6 of these a few months back (Looks like you can get 5 for around that now). Work great. using ZHA in hass - heard they work equally as well if not better under Z2M.  \n\n\n  \n[https://www.aliexpress.com/item/1005002433465221.html](https://www.aliexpress.com/item/1005002433465221.html)', 'MrDreamzz_: Haha, no worries man. Thanks though!']"
1682165974.0	22-Apr-2023 05:19:34	Access webcams	MessyMakerMinis	2	12v4amh	homeassistant	https://www.reddit.com/r/homeassistant/comments/12v4amh/access_webcams/	"Okay so I'm building a campervan. I have a Microsoft surface I want to use as a head unit in the van. I want to install home assistant on it. I'll be connecting it to a mobile router. 
I'd like to plug 4 webcams into the surface one for either side of the van one for the back and one for inside. 
I'd like to use them as parking cameras at a glance at the screen, but I'd also like to access them remotely as a CCTV/security system.
Is this possible with home assistant? I know I could to it with IP cameras but I'd like the speed of a wired webcam so there's no lag when I'm using them as parking cameras. 
TIA for any advice."	1	"[""Stvoider: I'm currently doing some experimentation with USB webcams and Frigate. I can get the streams displaying, so I would say it is possible, but using Frigate with HA.""]"
1682164369.0	22-Apr-2023 04:52:49	HOW TO - Update Z-Wave 700 Series Firmware	MarkWattTech	4	12v3p3y	homeassistant	https://youtu.be/j5cNZbFL3SM		4	"[""MarkWattTech: This method is for the Z-Wave JS addon using an Aeotec dongle and a Windows machine. This will work for other platforms and dongles (you will need to find the firmware).\n\n&#x200B;\n\nIf you are using Z-Wave JS UI it's even easier and no additional tools are needed."", 'mallrat32: How do you do it in UI? I don’t see an OTA option', 'msalad: In the bottom right hit the + sign, then advanced settings, and the dongle firmware update option is there', 'mallrat32: Thank you']"
1682164170.0	22-Apr-2023 04:49:30	Painting Aqara FP1/2	Beneficial-Alarm-146	2	12v3mlm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12v3mlm/painting_aqara_fp12/	"Hi all, 

Maybe a bit of a random question but I think you guys know. I’m moving next month and I’m installing an Aqara FP1 in my new office. I would like to keep my office very clean/minimal so I want to paint the sensor in the same color as the wall. Do you guys think this is possible? Or will it effect the performance? 

Thanks!"	7	"['None: [deleted]', ""redwirelessus: Make sure whatever paint you use has no metal particulates;  some paints add these to create particular colors or other features (not mentioning lead as these are not supposed to be around anymore). Metal in paint will affect the wireless pattern/performance of the device. In fact, most sensors and electronics mfrs will warn not to paint them, so I'd ask Aqara 1st and hear what they have to say. If you go online and fill their support form, they'll answer within a week or less. Better safe than sorry.●"", 'Sporebattyl: I’d buy a can of plasti-dip, spray it on at your desired thickness, then test it out. \n\nPlasti-dip can peel off pretty easily from most materials. If it changes the performance of the sensor, you should be able to take it off. Test it on some other similar plastic first.', ""flossraptor: Unless you put a lot of effort into painting it well, it's going to look worse.\n\nI have a bunch installed on my ceilings and they look great unpainted."", ""put_on_the_mask: If you do have problems I don't think they'll be with the sensor working through a thin coat of paint. More likely issues will be:\n\n- the paint used on the wall probably won't adhere well to the plastic, and depending on the colour you might not be able to get a good colour match in a more suitable paint. Two different shades of a colour will still stand out. \n\n- unless you're spraying the paint on, the finish could easily end up looking bad enough that you wish you'd stuck with the original white plastic."", 'Beneficial-Alarm-146: Thanks!', 'camper1: \n\n> mmWave is a low frequency radio signal that will easily pass through it.\n\nMillimeter wave is *not* low frequency. It is the name given to 30-300 GHz band, which ITU names Extremely High Frequency (EHF). Radio waves at this frequency are easily absorbed by various materials. E.g. when used outdoors even drizzling rain will attenuate it, affecting performance.\n\nAccording to their FCC filing the mmWave radio on Aqara FP2 operates at 60-64 GHz band. https://fccid.io/2AKIT-PS-S02\n\nI tried finding the FP2 user manual online but to no avail. Check if it mentions painting over it. Given how high frequency radio this is, I would err on side of not obstructing it.\n\nEdit:\nFound the user manual [elsewhere](https://manuals.easygates.co.uk/PDF/misc/Presence-Sensor-FP2_User-Manual.pdf). It has no mention of paint. Only warns against installing near heat sources.', 'Wild-Bus-8979: Many pigments also contain graphite which could affect the impedance of the antennas.']"
1682160220.0	22-Apr-2023 03:43:40	Can’t Connect 8266 to WiFi	ConvexS	0	12v274k	homeassistant	https://www.reddit.com/r/homeassistant/comments/12v274k/cant_connect_8266_to_wifi/	"Hi. I have Home assistant running via my raspberry pi 3 b+ and since yersterday I’m trying to connect my 8266 board to it via WiFi to automate stuff but it just doesn’t work and I have no clue why since absolutely all tutorials and documentation are different from the updated Home Assistant version. 

When I’m connecting a new device to HA it pops a message saying “install ESP home via the browser” and that “not all requirements are met” since ESP Home isn’t running over HTTPS (I don’t have https on my local ha adress) so he tries to download the project and asks me to run the installation via esphome web, which I try to do. The downloading of the projects stays at the “preparing download …” step without downloading anything. 

On esphome web, everything works fine, after installing the drivers he finds the port and installs everything. That is until I’m trying to connect to my wifi asking credentials and this step just doesn’t work since I get an error message saying “connection failed”. My credentials are good and when I try to connect it to WiFi using Arduino ide it works just fine. 
I didn’t edit the device on ha, I don’t know if it’s related to that or not … been trying for 8 hours straight now watching and reading everything without an answer, please help !"	8	"['JohnnyKeyboard: Make sure that your wifi endpoint has the 2.4GHz radio turned on and also try setting the channel to anything other than 12 thru 14.', 'Fritz00015: You can try connecting the board directly to your pi to flash it. I had similar problems with one of my boards.', 'TerminatioN1337: Do you have an Asus router?', ""sadicarnot: I do. Ugh tell me the $900 mistake I've made"", 'TerminatioN1337: Lol, don\'t panic yet but strap in, long post incoming...\n\n&nbsp;\n\nLuckily for you I went through a very similar scenario the last couple days trying to get my D1 mini clone to connect to my Asus RT-AX86U router and finally got it to work consistently last night. The biggest thing to be aware of is that myself (and many others) have found that making changes to settings or rebooting the router often temporarily allows the device to connect but you will find this doesn\'t last and awhile later (only like ~5 mins for me) the problem will ""return"" and the device will disconnect or be unable to reconnect ... really just means the underlying issue wasn\'t fixed. I combatted this by turning my device off and on 10+ minutes after I made a change or a reboot was fully completed and only once it succeeded it in that scenario (and successive tests) did I consider the problem fully fixed.\n\n&nbsp;\n\nI also want to be transparent that I am not an expert and don\'t fully understand what a lot of these settings do. I don\'t use the 2.4GHz band for anything other than IoT devices so performance or security may be effected. YMMV and do this at your own risk. But if you want a consistent connection then this is the only thing(s) that worked for me after going through a lot of suggestions found online, so it is likely worth a try for you. Lastly, I can\'t pinpoint exactly which of these were required to make this work. A subset of these instructions may work, just be aware of what I described in the first paragraph.\n\n&nbsp;\n\nAnyways without further ado I started with the instructions here: https://www.asus.com/support/FAQ/1042475/\n\n&nbsp;\n\nThat still didn\'t work so I read someone suggesting to go to the ""Professional"" tab and disabling the following:\n\n* Roaming assistant\n* IGMP Snooping\n* TX Bursting\n* WMM APSD\n* Universal Beamforming\n\n&nbsp;\n\nThat still didn\'t work so I saw someone suggest changing the ""Wireless Mode"" setting in the ""General"" tab to ""Legacy"".\n\n&nbsp;\n\nThen and only then was my device able to connect consistently. If you get to the end and yours is working too you could go back through and try and pinpoint which of these are actually required by changing them back one by one but it will be time consuming. I may try it eventually and will update this post with any further findings. Good luck.', 'sadicarnot: I have 3 of the RT-AX88U. Two are connected via ethernet to the first for AiMesh. I had a lot of problems connecting my IoT consistently to the 2.4 GHz network. I ended up reusing my airport extremes where you can turn off the 5 GHz frequency. So I have 2 of those connected in bridge mode with a different SSID only broadcasting on the 2.4 GHz freq. It has been working well. The only problem I have is when I go outside. Seems like the WiFi does not go through the concrete block as well as I would like it to.', 'sadicarnot: Looking at that article, I have everything enabled. I think I am not having problems because all the IoT stuff is on a separate SSID through the Airport Extremes, and since they are connected to the AX88s via ethernet, the main AX88 thinks they are all connected via ethernet.', ""TerminatioN1337: Sorry, thought you were the OP. But yeah if you have them connected to a different AP (even though the AP is connected to the Asus) then those wifi settings on the Asus won't be relevant. The settings on the Airport Extremes are what is relevant in that scenario. This is a valid workaround and one I considered but I didn't want to setup a whole AP for a single IoT device in my situation.""]"
1682159439.0	22-Apr-2023 03:30:39	Measuring the savings of my solar battery	defeatedbythecat	0	12v1wtq	homeassistant	https://www.reddit.com/r/homeassistant/comments/12v1wtq/measuring_the_savings_of_my_solar_battery/	"I'm trying to work out a way of measuring in HA how much the battery is saving me.

But the difficulty is calculating the following day and the left over off peak electricity and solar left in the battery from the previous day.

Has anyone done anything like this and have some examples they could share?"	10	"['The_Manoeuvre: By peak power I presume you mean you are on a variable rate and can charge the battery off the grid; so you charge in the valley.\n\nI can’t tell you how to do it in HA (but would be interested in hearing how). I think trying to think about it as “solar left over” is where you’re going to trip up because the battery doesn’t differentiate.\n\nI think* that’s the way to think about it is a case of average purchase price - say you have a empty battery and charge it to 1kwh for 60p total, and then charge by Solar for another 1kWh. You now have 2 kwh of electric stored at a 60p per kWh.\nIf you discharge 1 kwh hour you have 1kwh at 60p per kWH, and if you then charged another 1 kwh you would have 2kwh at 30p per kWh.\n\nSo I’d have a tariff that fluctuates with the ratio of charge method and then saving is realised with the discharge.', 'DragonQ0105: If you\'re with a provider that has an API for unit price (i.e. Octopus in the UK), you can get an actual cost figure by setting your ""energy import"" and tariff correctly in the Energy dashboard.\n\nThen all you have to do is compare that to a second figure, which is basically ""home usage"" multiplied by the tariff at each interval. This is the part I\'m not entirely sure how to do and would depend on your setup.\n\nI know that before getting solar our usage was 50% peak and 50% off-peak so it\'s easy to work out, plus I know what our average bill & usage was anyway.', ""defeatedbythecat: Yeah I think that's the way to go about it. But it's how to keep track of those ratios on days where I don't use any grid. \n\nSo then the next day I need to keep that average price and work out a new one with what goes in the next day. \n\nI know the battery doesn't differentiate, but the saving will fluctuate based on what goes in. \n\nThe rate of grid is fixed so that's not an issue.  Just tracking the ratios"", ""defeatedbythecat: I've got some automations in place which adjusts the off peak energy into the battery based off the solar forecast for the next day. \n\nThis will potentially complicate matters a bit more!\n\nSome things to ruminate on"", 'DragonQ0105: So do I but why does that complicate matters? All you need to know is 2 of the following 3 stats: ""house usage"", ""solar generation"", ""energy imported"". You can calculate the 3rd based on the other 2. How much goes in/out of the battery is irrelevant when working out cost or savings.', ""defeatedbythecat: I might be missing the point here or have not explained myself well.\n\nI'm essentially trying to work out the savings of the battery. ROI essentially.\n\nIf today the battery has 10kwh of off peak at 10p per kWh and the house uses that, and my tariff is 50p per kWh then the battery has saved me £4\n\nIf the battery is full of solar which costs 0 and the house uses all that I've saved £5\n\nIf it's a bit of both then it varies."", 'DragonQ0105: But you can surely work out ROI by just comparing actual cost with ""cost if I didn\'t have the battery""? Much simpler than trying to track whether the energy going into the battery was from solar, peak grid, or off-peak grid. Some (most?) inverters won\'t even track that.', ""defeatedbythecat: Oh man. \n\nI've been over thinking this in spectacular fashion haven't I?\n\nCalculate the grid energy used by home during peak hours\n\nMultiply the result by the peak electricity rate \n\nCalculate the cost of grid energy that would have been used without the battery\n\nMinus the cost of grid energy used from the cost of grid energy that would have been used without the battery \n\nThat about it?"", 'DragonQ0105: Pretty much. As I said earlier, HA will calculate actual cost for you if you set the Energy dashboard up properly. So the only thing you\'d have to do manually is work out ""cost without battery"". How complicated that\'d be depends on your tariff.', 'defeatedbythecat: Tariff is simple really. Off peak and peak. \n\nPlus a sensor from supplier which tells the current price']"
1682157801.0	22-Apr-2023 03:03:21	Error while loading page lovelace.	tortuga3385	0	12v1asv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12v1asv/error_while_loading_page_lovelace/	Yesterday I was unable to connect to Home Assistant. I unplugged the power to my raspberry pi, and after the system rebooted, I am able to use my Alexa to control my devices, but I am not able to use the website. I am able to connect through SSH, but that is about it.	0	[]
1682157493.0	22-Apr-2023 02:58:13	frigate clips wont play on android	Xyic0re	4	12v16jz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12v16jz/frigate_clips_wont_play_on_android/	"Hello, I have an android 11 phone, set chrome as the default browser through android settings. Using either 'media' or via the 'card' I am unable to play clips. When I attempt to play the clip I receive this '~' in place of the play button, indicating that the clip failed to play. There are no errors on the frigate console, I can see my device get the clip.
Downloading the clip via the 'card' and playing direct from phone works fine.

Update: Its working correctly on my wife's phone, its also an android device. I have removed firefox from my phone, and the issue still remains.

Update2: Even while using home assistant cloud inside google chrome, the clips/live fails to play. As mentioned previously, everything works great on my wifes android phone."	0	[]
1682153646.0	22-Apr-2023 01:54:06	Would you use this technology to improve care for your loved ones?	Max999444	26	12uzxxv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12uzxxv/would_you_use_this_technology_to_improve_care_for/	"Dear members,

For some time now I have been caring for my grandfather who lives 40 min away from me in the outskirts of Munich. Since I am so far away, I always worry about whether he is alright. I always looked for solutions to calm my mind. During a project at the university, I then developed intelligent adapter plugs together with other students. The aim of this plug-in is to record when a technical device in the household is used (e.g. TV, refrigerator, bedside lamp). During the first few days, it is determined how often a person in need of care uses the technical devices in the household. If there are subsequent deviations in usage behavior, this could indicate health problems. For example, if the bedside lamp comes on eight times a night instead of twice, this could indicate insomnia. If the refrigerator is opened only twice a day instead of five times, lack of appetite could be the reason. In such a case, a relative is notified directly by SMS. It is important to note that caregivers will not be able to see the daily usage behavior of the persons they care for, i.e. they will not be able to see how often the TV is used. They will only get a message once typical behavior deviates.

What do you think about this solution?"	23	"['trantoriana: Good idea, but latency of events is probably too high. Behaviour changes overtime also need to be taken into consideration.\nFor a loved one i would always use a camera based approach, like video contact at a certain agreed time. \nHowever for professional paid care this may be useful additional information.', 'skinwill: I do similar to this with an elderly loved one. I put a motion sensor under the bed to detect when they get out of bed. This also turns on the hallway and bathroom light between certain times of night. I set a timer to automatically turn some lights on an hour before dusk because he had a habit of sitting in the dark. There is also a magnetic door sensor on the cabinet with his meds to make sure daily meds are not missed. The mail arrives through a slot into a box with a motion sensor to send a message to his phone when mail arrives. There are motion sensors at the top and bottom of the stairs that automatically turn on the stair lights. All hallways and stairs are lit that way actually. \n\nThe point I had was to make daily life easier such as never needing to hunt for a light switch in the dark and help with depression by lighting rooms before dusk to help maintain a schedule. With the datapoints I can setup notifications to my phone if routines are broken. This part I couldn’t get working until chat GPT came out.  Until then I was just getting notices when the med cabinet was opened. Now I just get them when it doesn’t. \n\nHe also tends to fall asleep with the tv on so I’m thinking of experimenting with a TI GHz breath sensor to detect sleep. Figured one of these would work connected to an esp32 with esphome. https://wiki.seeedstudio.com/Radar_MR60BHA1/', ""brintal: I like it this idea a lot Especially that you planned a layer that ensures privacy cause I think this is crucial to any solution being accepted. \nBut maybe just using cameras/motion sensors would be easier as you don't have to wire the whole house?"", ""SeniorPoopyButthole: Reminds me of a recent story about a grandmother that always played Wordle with someone every day, and when their opponent didn't see them on for a couple days they called the police.\n\nTurns out she fell and they were able to get her well again because of that call. \n\nI think your strategy for monitoring is very strong. It's simple and that makes it more reliable than just having one expensive presence sensor that can have errors.\n\nAs long as the instance is on a reliable device, like mini-pc with Hass OS, I think this is useful as a monitoring setup."", 'Natoochtoniket: When my father was in an assisted living facility, in the US, they had motion sensors in each room.  Not cameras. Only motion sensors.   If they detected no motion for too many hours, they sent someone to check. \n\nMost people use the toilet every several hours, so even just one motion sensor in the bathroom might be enough.', ""Kerivkennedy: I like it. My daughter has special needs and requires total care. Granted she isn't quite 18 yet and will be living at home for many years to come. \nMy husband and I are always looking at ways we can use tech to monitor and improve her quality of life. \n\nOne thing I wish, and I'm sure other caregivers would appreciate is with wearable health tracking devices (Ie Fitbit, Garmin, apple watch etc). Many elderly people, or those like my daughter with profound intellectual disabilities can't operate such devices. I would LOVE to be able to request the heart rate, O2 or whatever through the app instead of only the device. My daughter has epilepsy, so spot checking these numbers without disturbing her would bring me much peace of mind, especially when she is sleeping so deeply."", 'Julius_A: I use technology to support my wife a lot. She’s got Alzheimer’s and is deteriorating quite quickly. Milkier this idea a lot because it is independent of the person’s abilities. I use TTS and other methods to make sure she takes her meds. She just doesn’t respond like she used to anymore. This line of thinking gives me some new ideas.', 'p_235615: install gadgetbridge on an android device in home, and get him some bluetooth mi band or similar bracelet with gadgetbridge support. Then you can pull logs from the bracelet about heart rate, activities, steps done and similar...', 'Tex-RN: This is actually a great idea. Of course you would use it in conjunction with other solutions such as cameras. I love how it may see behavior changes we might overlook.', 'niggles0000: Has the kettle been boiled in the last hours - too many hours with the kettle being boiled is a potential issue (for a cup of tea or coffee) ditto fridge being opened', 'jdsmn21: That makes me think for my mother - is there a wearable that can communicate with HA? Something along the lines of the Life Alert device, with a button that folks wear as a necklace?\n\nI’d love to get her an Apple Watch, but the idea of daily charging might be much. And it might be too complicated.', ""chicknlil25: Check out [this article](https://smarthomescene.com/guides/how-to-connect-garmin-watch-to-home-assistant/). I know I was pulling my Garmin data into HA at one point (Withings as well) but realized I wasn't using it for anything useful so I removed it. My experience with Garmin's app (I've been using their devices for at least 6 years now) is that as long as the phone bluetooth is in decent range of the device, it'll pick up the data you're looking for (assuming it provides it in the first place), so if you have her device on you/your husband's phone, you should be able to monitor remotely.\n\nGarmin has a relatively inexpensive device (as those devices go) called the Lily that might be what you're looking for.\n\nHere's hoping you find useful ideas in this thread and others. The way that people come up with tech solutions to help their loved ones is remarkable to me."", 'Nimar_Jenkins: I have seen alot of Demented and also Delirious people destroying such Devices.\n\nI once broke a Chair (and my wirst) during an epileptic seizure. And now i try to make sure that my Patients with epilepsie dont wear any Devices around their wrists and dont wear any Necklaces.', 'Greenhousesanta: You can hook fitbit to home assistant through alexa', 'tazUK: There are a number of them that can send SMS messages I believe - the GSM integration handles receiving messages.', ""Kerivkennedy: That's the biggest reason I follow this sub. My husband is the one who does all our smart home stuff, but it helps give ideas too"", ""Kerivkennedy: My daughter's seizures are mostly tonic (not tonic-clonic) and complex partial. So she doesn't have enough movement (or enough for seizure detection devices). She does have her medical alert bracelet on in case something happens and I can't be her voice."", ""chicknlil25: Did I understand one of your other comments correctly in that your daughter has limited mobility and that being able to tell when she's seizing would be beneficial to you guys?\n\nI'm not quite sure if it would work, but on that same site I linked, there's a DIY section that has pressure sensors, and how they're set up. I use a different variation (mine didn't require any soldering - I can give you more info if you'd like), but mine can detect if my hip/butt are in a particular spot on my mattress (where I've set the sensor). So in theory, if she deviated from that very specific spot, you could have it send you an alert (lights flashing, audio announcement to smart speakers, notification to your phone, etc).\n\nI spent the better part of 4 years working for a local non-profit that assists adults with developmental and/or intellectual disabilities. It was probably the most mentally fulfilling work I've ever done. Perhaps because of that, I'm always interested in seeing how smart home tech can be used for adaptive technology. I know how it works for me, but I'm autistic, and that's a VERY different ball of wax!\n\nAll the best."", 'Nimar_Jenkins: I know of these braces and i dig them.\n\nIn my country tho they are very rare tho.\n\nHow are the treatments going for your little sunshine?', 'Kerivkennedy: I think a pressure sensor like that is something we are starting to look at using.  I know my husband has mentioned one.  \n\nI know something else the ID/DD community NEEDS is more affordable tech.  If you have seen any of the stuff on https://enablingdevices.com/ you know they are obscenly overpriced for the tech that is in them.  \nthe new age of hobbiest smart tech creators and those with a 3D printer need to band together and bring down the assholes that take advantge of families.  \n\nmy hubby has started trying to create things for our daugher.', 'Kerivkennedy: Nothing helps. She has intractable epilepsy. Multiple seizures daily. Tried nearly every medication there is. Has a VNS and had corpus callostomy surgery last December.', ""chicknlil25: Just looked at that site and holy ridiculousness. The first thing that I saw (the adapted bluetooth speaker) I'm pretty sure could be recreated within the confines of ESPHome (because I just saw [this post](https://www.reddit.com/r/Esphome/comments/12wm52q/i_made_a_home_assistant_macropad_with_rgb_back/) with a macropad) and I know when I was looking for a smart speaker option, I got pointed to [this site](https://raspiaudio.com/muse)."", 'Kerivkennedy: Most of the stuff there can be easily done with ESPHome or Arduino for pennies compared to what they charge.']"
1682148454.0	22-Apr-2023 00:27:34	How-to: Turn off switch but trigger nothing?	Teter09	3	12uybzz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12uybzz/howto_turn_off_switch_but_trigger_nothing/	"I use a Zooz switch (disabled local and Zwave control) in order to turn on and off our ceiling fan light (via Bond hub). My wife was happy about this since she hated the 'useless' switches as the fan is controlled by remote (its DC powered). 

She however hates when the switch is out of sync with the light. Every night we go to bed and the switch is 'on' but we use the remote to turn the light off. Then the next day it's 'backwards' and she gets annoyed.

Does anyone have an idea how I should configure this so turning the switch on, always turns the light on (even if the switch is already in the on position)? And the same for turning it off? 

I would also be happy with some sort of way to turn the switch off at a set time in the morning without triggering the light or actually killing the power to the fan.

EDIT: 

I got it working thanks to u/InertLeaf and the examples provided for using the switch as a scene controller. My original attempts failed, but now regardless of the switch state, pressing the button performs the intended action on the light."	11	"[""Grim-D: I would say the best thing is for her to get used to the idea that you just flip the switch to change the state. My lights are all like this and everyone got used it it pritty quickly. If you do what your saying but still controll it remotely then its still going to be out of sync and now you have to flip the switch twice to make it do what you want. She'll probably end up hating that even more.\n\nEdit: spelling."", 'JCHHenderson: If the switch is useless (i.e. you are not using it), cover it up.\n\n[https://www.amazon.co.uk/UK-Light-Switch-Guard-Protector/dp/B0BR61NLZR/ref=sr\\_1\\_5?crid=2SZ2HNFS1PLVT&keywords=light+switch+cover&qid=1682155267&sprefix=light+switch+cover%2Caps%2C86&sr=8-5](https://www.amazon.co.uk/UK-Light-Switch-Guard-Protector/dp/B0BR61NLZR/ref=sr_1_5?crid=2SZ2HNFS1PLVT&keywords=light+switch+cover&qid=1682155267&sprefix=light+switch+cover%2Caps%2C86&sr=8-5)', 'mekaneck84: I’m entirely confused a as to what you’re describing. Typically the “out-of-sync” problem happens when you have a normal non-smart switch wired up to a smart relay hidden behind it. And those smart relays typically have a configuration option if you want to enforce turning on the relay only when the switch state goes from off to on. So if both the switch and relay are physically on and then you change the relay state to ‘off’ via z-wave, you’d have to turn the switch off then back on in order to turn the relay back on. \n\nHowever any Zooz in-wall switch I’m familiar with is a physical toggle switch and doesn’t have an ‘on’ or ‘off’ physical position. The switch sits in the neutral position and you momentarily push it up or down to change the relay state and it springs back to the neutral position.  https://www.getzooz.com/switches-and-plugs/. Therefore no such setting exists on these because it doesn’t make sense in that setup.', ""PersistentPizza: You can configure the Zooz switch so that on off both do a toggle instead of an explicit on/off. In this way it wouldn't matter the state of the switch and it wouldn't matter if someone hits the in or off part of the switch.\n\nThis is the setup I settled on my fan controls using Zooz switches and Bond Bridge."", 'danielszajkowski: I don’t know which zooz switch you’re using.\n\nI have a zen30, that the top switch does nothing. So I used 2 automations one for ‘on’ and another for off.\n\n\n\nalias: upstairs fan light  from xmas switc - offdescription: """"trigger:  - platform: event    event_type: zwave_js_value_notification    event_data:      device_id: b364322538518d0d1638d4312f108460      label: Scene 002      value: KeyPressedcondition: []action:  - type: turn_off    device_id: c85a5a5ef15e33e6e5a01eb3c4bf6e77    entity_id: light.upstairs_stairwell_fan_hunter_light    domain: lightmode: single\n\n\n\nalias: upstairs fan light from xmas switch - ondescription: """"trigger:  - platform: event    event_type: zwave_js_value_notification    event_data:      device_id: b364322538518d0d1638d4312f108460      label: Scene 001      value: KeyPressedcondition: []action:  - type: turn_on    device_id: c85a5a5ef15e33e6e5a01eb3c4bf6e77    entity_id: light.upstairs_stairwell_fan_hunter_light    domain: lightmode: single', 'InertLeaf: I think I understand your situation. I have a similar setup at home with a zen23 in a three-way configuration with a normal switch. I basically had to completely ignore the state of the actual switch itself and use the scene control feature of the zen23 to detect if the paddle was being pressed up or down and then control the lights based on that with an automation in HA.\n\nI’m on mobile right now so hopefully that is enough info to get you on the right path. I can fill in more details later if you need help getting scenes working in HA', ""Teter09: Perhaps I have my switch configured incorrectly?\n\nThe use of the ceiling fan remote is what gets the light out of sync. The wall switch logbook reflects a 'triggered on' state, but the rf remote has turned off the light (since we don't want to get up and walk across the room to turn the light off and walk back to bed in the dark).\n\nThis is the automation I use when the wall switch is turned on\n\nhttps://preview.redd.it/j4fh9ksyqhva1.png?width=1080&format=pjpg&auto=webp&v=enabled&s=6a81815655509711d75311f95af4ebf77bc70651\n\nIf the wall switch is in the 'turned on' state already, pressing the wall switch to turn it on does nothing."", ""Teter09: I had thought using it as a scene controller would be the best option and did try this but i didn't have any luck in getting it to work. If you wouldn't mind including a screenshot (or the configuration you've used) I'm hoping that will tell me where I went wrong."", 'InertLeaf: First you\'ll need to make sure that scene control is turned on on the switch. (Parameter 9 in your zwave JS or zwave JS UI settings)\n\nThen create an automation in HA and for your trigger select ""Event"". The event type is ""zwave\\_js\\_value\\_notification"" the event data will look something like this:\n\n  \n`node_id: 19`\n\n`label: Scene 002`\n\n`value: KeyPressed`\n\nWhere the node\\_id is the node of the switch\n\nlabel can be either Scene 002 for up or Scene 001 for down\n\nvalue can be KeyPressed for one tap, KeyPressed2x for two taps, etc. It can also be KeyHeldDown\n\n&#x200B;\n\nI have my zwave innnoveli bulbs set to turn on to 70% on a single tap up, 100% on a double tap up, turn on the fan for a triple tap up, etc.\n\nI also mentioned that my switch is in a 3 way configuration. For posterity, the external (dumb) switch can only control the actual switch function of the zen23. So I have an automation where if the state of that switch changes, it checks if the lights are on or off and then toggles them accordingly. That switch ends up being in all sorts of different configurations of up and down, but that\'s how it was before in the three way configuration anyway so my wife doesn\'t mind. Just thought I\'d leave that tid-bit in in case somebody else could use it.', ""Teter09: It works!! \n\nThank you. When I tried doing the scenes originally, I wasn't setting it up correctly and was trying it in the ui. With your examples above I was able to edit a blueprint and apply it to my Zen71....and now it works!! I can press either part of the button and it now cycles the light.\n\nPlus I understand a few more variables for future use!!"", 'InertLeaf: You can now tag me as “Guy who saved my marriage” haha. Glad it’s working.']"
1682144645.0	21-Apr-2023 23:24:05	Is there a way to control the Xiaomi Vacuum Mop P (viomi.vacuum.v10) via Home Assistant? I've included methods I already tried.	akshay7394	2	12ux212	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ux212/is_there_a_way_to_control_the_xiaomi_vacuum_mop_p/	"Solved it right after I posted this! 🤦🏽‍♂️ I just used the miio2 integration and it worked perfectly, struggled to find it so I'm going to post it here - https://peyanski.com/home-assistant-xiaomi-vacuum-cleaner-integration/#Home_Assistant_Xiaomi_Vacuum_integration_%E2%80%93_2nd_method


~~Hi folks! Pretty much what it says in the title -- how do I add viomi.vacuum.v10 to Home Assistant? All documentation suggests using the Miio integration, but none of the viomi vacuum device types seem to be appearing there at all. When I try using the generic \`roborock.vacuum\` and the \`rockrobo.vacuum\` device classes, then allows me to add it via the add-on but I get a new error saying that viomi.vacuum.v10 is not a supported device.~~ 


~~Is there any way for me to bring this vacuum into home assistant, or alternatively at least use another model's commands (eg: viomi.vacuum.v8) to see if it at least accidentally manages to control the v10 vacuum?~~"	0	[]
1682140416.0	21-Apr-2023 22:13:36	Change background of temp based on formula?	deverox	8	12uvkbp	homeassistant	https://i.redd.it/2teeczc3veva1.jpg	I have a bunch on temp sensors.  Some outside and some inside.  Is there a way to change the colors of the inside ones if it’s colder outside?  Basically if it’s colder outside I want to know to open windows etc.  (it’s Southern California so it’s hardly ever  cold cold).	4	"[""AccidentalBirth: If you just want to change colors on the graph itself, the mini graph will work. It has a threshold feature which allows you to customize colors if values or above or below certain ranges.\n\nI'm on mobile, but here's what I do for download speed for example. [Picture](https://i.imgur.com/o1Cf7DU.jpg)\n\nYou can also consider apex charts which is highly customizable"", 'Hto005: I’d probably make one average sensor inside, one for outside and a template sensor which says if inside or outside is coldest, then you can probably do some trickery with the graph cards to get the color you want (might have to use apexchart for templating the color?)', 'MordAFokaJonnes: Is that a 24"" tablet?', 'deverox:  No fire hd 10 I got for  $50 on prime day refurbished']"
1682137082.0	21-Apr-2023 21:18:02	Adaptive Lighting issue with only one set of lights	ThePakistaniVaper	1	12uubvj	homeassistant	https://www.reddit.com/r/homeassistant/comments/12uubvj/adaptive_lighting_issue_with_only_one_set_of/	"I have a bunch of Meross HomeKit lightbulbs (BR30s) integrated with Home Assistant via the HomeKit Controller integration. I had been using Adaptive Lighting on these without any issue for a long time, until about a few weeks ago, they stopped adapting continuously. If I turn the lights off and back on, they adapt to the correct brightness, but in a constantly ""on"" state, they're no longer adapting automatically. None of my other adaptive lights have this issue (though none of the other ones are Meross, either). Does anyone know what could be causing this and what can I do to remedy it? I've already tried deleting the integration and creating it again..."	6	"['Windex4Floors: You sure that the setting for those lights is set to adapt continuously vs. only adapting when they are turned on?', 'ThePakistaniVaper: yes they are. In fact, the setting is exactly the same as others that are behaving correctly. Just out of caution, though, which setting should I specifically be looking at?', 'Windex4Floors: It\'s a checkbox in the config of the adaptive light setup for the lights you are trying to adapt. ""only_once: Adapt lights only when they are turned on (`true`) or keep adapting them (`false`""', ""ThePakistaniVaper: Got it. And this is supposed to be unchecked for continuous adaption, right? That's the state that I have it in."", ""Windex4Floors: Hmm, that's odd. Do you maybe have another automation that might be changing the state and the adaptive lighting is taking it as a manual override?"", 'ThePakistaniVaper: Nope. That’s the oddest thing. I didn’t change anything. That’s why I’m curious if something changed with the integration settings in one of the updates. Still don’t know what’s the issue. \n\nThanks for your input though!']"
1682133549.0	21-Apr-2023 20:19:09	UniFi Protect event_id’s	tuxbell	5	12usxik	homeassistant	https://www.reddit.com/r/homeassistant/comments/12usxik/unifi_protect_event_ids/	How do I go about getting the event_id talked about in https://www.home-assistant.io/integrations/unifiprotect/ when my doorbell detects something?	6	"[""ReallyNotMichaelsMom: Hmmm....I'm not sure if we're talking about the same thing. Did you already create a new user in the UniFi ap? And did you add the integration?"", 'Uninterested_Viewer: It gets published to MQTT if you have that set up. I just scrape it from there.', 'tuxbell: The protect stuff has been integrated for a while, I’m just trying to understand how to craft notification automations', 'tuxbell: I am not using mqtt with this right now… how does it fit in your workflow?', ""Uninterested_Viewer: Sorry I got confused between the protect integration and frigate...\n\nFor the Protect integration, the event id is published to the camera's motion/object detection sensors as data.new_state.attributes.event_id\n\nI use nodered to grab that when motion is detected and then hit the protect API using that event_id to grab the image snapshot and video clip of the event."", 'tuxbell: Awesome and many thanks.']"
1682131151.0	21-Apr-2023 19:39:11	Where is the transition option for LIFX lights?	josephlikescoffee	1	12urxkx	homeassistant	https://www.reddit.com/r/homeassistant/comments/12urxkx/where_is_the_transition_option_for_lifx_lights/	"I have several LIFX lights, using the LIFX integration (not the LIFX Cloud integration). According to the docs, I should have the option to change brightness with a transition, but I can't seem to find that anywhere in the UI.

I can turn them on and off from HA without issues, and am using them in automations.

I wonder if this is something to do with the way I've set these up? They weren't auto-dicovered, because they're on an IOT subnet. I've added them manually to my YAML as follows:

    lifx:    
      light:
        - broadcast: 192.168.3.108 #bedside 1
        - broadcast: 192.168.3.243 #bedside 2
        - broadcast: 192.168.3.174 #rumpus 1
        - broadcast: 192.168.3.167 #rumpus 2
        - broadcast: 192.168.3.56 #laundry

What do I need to do to enable the transition option, and is this supposed to be visible in scenes, or automations? (It's not in either).

Thanks for helping this relative newbie"	2	['J0RD4N300: In your automation when you call the service of light turn on/off the transition option is shown', 'josephlikescoffee: Found it, thanks']
1682128186.0	21-Apr-2023 18:49:46	what is best practice for naming an entity id ?	takayo72	2	12uqmgz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12uqmgz/what_is_best_practice_for_naming_an_entity_id/	"should i put a brand name, room name where the device located

For example , there are two smart plug used on two different room

should i

state.smartplug\_rooma.voltage  
state.smartplug\_roomb.voltage  
or  
state.smartplug\_one.voltage  
state.smartplug\_two.voltage"	10	"['hirscheyyaltern: i mostly just name them after what theyre attached to. if i change what theyre attached to i can rename the entities, or if i swap them out for a better functioning device, i can just name the new device entities what the old ones were and i dont have to go fixing my automations.\n\nwhen a device has a ""main"" entity, i will name all sub devices after that, so if its a tempature sensor i will have `sensor.living_room_temperature` and `sensor.living_room_temperature_battery`, `living_room_temperature_humidity etc`, as it helps me keep the devices grouped but differentiates the primary entity for me. if its a light i would do  `light.kitchen` and `sensor.kitchen_light_temperture.` perhaps poor naming scheme on my part but where the domain name identifies the device class, i will only add the domain name into the object id if i have multiple of the same that area grouped entity, so like `light.fan_lights_1` and `lights.fan_lights_2`', 'ttgone: Personally I don’t like to use brand as it can (and likely will) change over time for a specific device or location or function. For the same reason I don’t use esp ID / Mac in esphome anymore.', ""SaveFutureYou: The only one that I think I've mastered (and probably be told otherwise now!) is my door sensors. Eg...\n\n\nbinary_sensor.door_int_bathroom\n\nbinary_sensor.door_ext_patio\n\n\nThis way I can filter between internal and external doors, to count what's open and notify on certain scenarios. Nothing else follows this naming convention."", 'mekaneck84: https://reddit.com/r/homeassistant/comments/12mw91d/_/jgd9sgc/?context=1', 'Shooter_Q: For plugs, I just name the device after what they\'re attached to and only use names/floors to differentiate if it would actually get confusing. For example, I don\'t need ""a, b, c..."" or ""1F, 2F..."" for ""light.christmas\\_tree"" and ""switch.aquarium\\_pumps."" Then I just let the attached entities inherit the base name.\n\nFor plugs I have integrated but sitting in a box, waiting for a use, they are marked ""A1, A2, A3..."" in sharpie with matching entity names in HA, so I know what\'s what when I go to set them up.', 'Till_Fl: Consistency', 'jpb: My scheme is roomname_type_number or roomname_type_friendlyname. That way all the stuff in my basement sorts together, and the switches and lights each sort into their own section.\n\nBasically, do whatever makes sense to you, you can always change it later.', 'redrhyski: I named them after their jobs or location but then I changed them around and it got messy.  Now I just number then in the apps eg Kasa01, and then change the name in HA to where they are.\n\nAs for naming entities, I always put the duration at the end (eg ""now"", ""today"", ""annual"", ""total"") so I can see straight away what it\'s referring to.  \n\nI also include ""Calc"" in anything that I calculated in config, and ""Scrape"" to anything that relies on a web scraped value.  Easier to troubleshoot what has gone wrong.', 'takayo72: For lights there are different kind of lighting devices, light blub, light strip ,  ceiling  light and etc. will you name all of them are light or distinguished by type light_blub, ceiling _light, light_strip', 'Shooter_Q: So, what’s stopping you from naming those by what they are?\n\nIf they’re all smaller pieces of a larger group, name them by number, same as I said above, as pieces of the group entity’s name.\n\nOrganization should be as simple or as complex as you, the person running your HA, need it to be.\n\nhttps://preview.redd.it/8hw3boqvbhva1.jpeg?width=1125&format=pjpg&auto=webp&v=enabled&s=b14b66b0dfbfcf78f5ba94485f80b43c4c010ffd\n\nAll of these entities just have “1f” in front of their entity names. The most granular I’ve had to get so far is using cardinal directions for multiple windows in one room.\n\nAnd at the end of the day, if you feel you got it wrong, you can just go fix all of it later.']"
1682127400.0	21-Apr-2023 18:36:40	Home Assistant Radar Human Presence Sensor Promotion	slboat	0	12uqa2i	homeassistant	https://www.reddit.com/r/homeassistant/comments/12uqa2i/home_assistant_radar_human_presence_sensor/	"We have made quite a few radars and found them to be quite stable after testing, so hopefully more people will be able to use the convenient radars.

We did some promotions that would be more affordable for adding multiple radars.

https://preview.redd.it/b61hrzd6bcva1.png?width=641&format=png&auto=webp&v=enabled&s=74338ed36eaf8bea69f764c530288ad3160da1d5

[https://www.ebay.com/itm/185840589963](https://www.ebay.com/itm/185840589963)

&#x200B;

https://preview.redd.it/blgyk7yuacva1.png?width=375&format=png&auto=webp&v=enabled&s=3c4f8f12949e82df9760fbd7753f6ade4c9fbe25"	6	"['geckosnfrogs: I have bought a few of these.  So far they are working well.  I had a couple with a defective mm-wave radar.  They offered to replace with no questions asked but also asked if I would be willing to troubleshoot.  We managed to figure out the issues.  In the interaction I got the feeling that they were committed to making the best product possible and making sure my issues did not happen to anyone else.  Would recommend.', ""iWQRLC590apOCyt59Xza: I just noticed the following warnings in my log:  \n\n\n* Entity sensor.screek\\_human\\_presence\\_sensor\\_1u\\_55f978\\_still\\_energy (<class 'homeassistant.components.esphome.sensor.EsphomeSensor'>) is using native unit of measurement '%' which is not a valid unit for the device class ('energy') it is using; expected one of \\['Wh', 'MWh', 'MJ', 'GJ', 'kWh'\\]; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+esphome%22\n* Entity sensor.screek\\_human\\_presence\\_sensor\\_1u\\_55f978\\_sun\\_light (<class 'homeassistant.components.esphome.sensor.EsphomeSensor'>) is using native unit of measurement '%' which is not a valid unit for the device class ('illuminance') it is using; expected one of \\['lx'\\]; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+esphome%22\n* Entity sensor.screek\\_human\\_presence\\_sensor\\_1u\\_5135fe\\_move\\_energy (<class 'homeassistant.components.esphome.sensor.EsphomeSensor'>) is using native unit of measurement '%' which is not a valid unit for the device class ('energy') it is using; expected one of \\['Wh', 'MWh', 'MJ', 'GJ', 'kWh'\\]; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+esphome%22\n* Entity sensor.screek\\_human\\_presence\\_sensor\\_1u\\_5135fe\\_still\\_energy (<class 'homeassistant.components.esphome.sensor.EsphomeSensor'>) is using native unit of measurement '%' which is not a valid unit for the device class ('energy') it is using; expected one of \\['Wh', 'MWh', 'MJ', 'GJ', 'kWh'\\]; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+esphome%22\n* Entity sensor.screek\\_human\\_presence\\_sensor\\_1u\\_5135fe\\_sun\\_light (<class 'homeassistant.components.esphome.sensor.EsphomeSensor'>) is using native unit of measurement '%' which is not a valid unit for the device class ('illuminance') it is using; expected one of \\['lx'\\]; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+esphome%22\n\nIs there a solution for this?"", 'KTibow: How custom is the software running on these? Can you adopt them into your network / recompile it yourself?', 'slboat: Thanks for the support and hope to create some more interesting accessories next.  \n\nWe are working on some zigbee testing, and we hope to make something very low-power, which we hope to have the opportunity to share with you when the time comes.  \n\nhttps://preview.redd.it/sqs76p7tn2wa1.jpeg?width=1000&format=pjpg&auto=webp&v=enabled&s=98a71aefc4fff4aa7b2fbd99f2540f2da579ea10', 'slboat: We did a firmware update and this firmware addresses this log alert.\n\nHope it helps you.\n\n[https://www.youtube.com/watch?v=33t7lURhEAc](https://www.youtube.com/watch?v=33t7lURhEAc)', 'slboat: Yes, the whole core architecture is esphome and the profiles are open, and we mentioned this in one of the earlier presentations.\n\n[https://www.reddit.com/r/homeassistant/comments/127mcvc/build\\_a\\_smaller\\_human\\_body\\_radar\\_sensor\\_using/](https://www.reddit.com/r/homeassistant/comments/127mcvc/build_a_smaller_human_body_radar_sensor_using/)']"
1682127367.0	21-Apr-2023 18:36:07	"Better than ""Find My Device"" - HA!!"	prhay	5	12uq9ky	homeassistant	https://www.reddit.com/r/homeassistant/comments/12uq9ky/better_than_find_my_device_ha/	"I thought I'd share a quick and dirty hack. I'm about to travel with my (expensive) guitar and it will probably end up in baggage. I have a great flight case. I had an idea to use a retired Pixel XL phone with LineageOS & GAPPs installed and make use of Android's ""Find My Device"" but every time I picked up my current phone to see the XL's location it showed up as unavailable. Crap! So, I installed the Home-Assistant companion app and added it to my profile. One of my tabs has two Map Cards (one for me and one for my wife). I simply added the XL to my card and now it will show my location and the guitar's. I've found a way to disguise its presence in the case so if it gets stolen, I'll be able to help the police locate it. If Find My Device also works, all the better. Yes, I'm a genius ...in my own mind. LOL"	2	['hirscheyyaltern: i have an automation that makes device trackers for some of my bluetooth devices and they update when theyre connected to my phone. then i use the map the same way as you. makes for a quick glance being able to see where i last used my device to at least give me a head start on where to look for it lmao', 'UngluedChalice: Wait, there’s a map thing where you can show location on the map! I never knew that. I have alerts set up for entering and exiting zones, makes sense that there is a map.']
1682123357.0	21-Apr-2023 17:29:17	Aqara FP2	mbonaccors	293	12uoeit	homeassistant	https://www.reddit.com/gallery/12uoeit	Wow this thing is incredible. What a nice piece of tech, I’ve been created 2x2 foot distinct zones in my home, all connected to home assistant and powering various automations and AI engines. Great response time as well. Kudos to that team that built this.	183	"[""hbar98: So that's where they all went..."", ""Trevsweb: kinda weird how home assistant doesn't have a grid based/co-ord based mapping tool to plot out your house. have to draw my house plan in illustrator seems a bit old"", ""notownblues: Did you not have issues with these? I've had so many including:\n\n1. Presence stays stuck on Detected after I left the room (I did some fine tuning with interference zones etc but would still happen)\n2. It would think I left the room but I was still there and the lights turned off\n3. Reporting the wrong number of people in the room\n\nSame as Lewis from Everythingsmarthome described here at 11:21:\nhttps://youtu.be/qmtSRUH6yXs\n\nI've sent mine back because despite the new features I found the FP1 was more reliable and performed better in general."", 'bitcoind3: Does this support fully local control? Or does it require sending data over the internet?', ""Scorp1579: These seem really cool but not sure if it makes sense for me. None of my rooms are 'open plan' so I'd kinda need one for each room. I want one for living room / office if anything so that lights don't turn off when I sit still but this seems like overkill with the zones etc."", ""onepixelcat: This looks impressive but I've heard it requires an internet connection which is a no go for me"", 'gregable: Has anyone figured out how to integrate directly to Home assistant or do you have to have a homekit hub?', ""Witty_Music_9101: Great to know you like them. May I ask a question? It has 120 degree detect range, If you're standing at the top right/left corner, will it be able to detect you?"", 'scoptimus_prime: How far is the range? My main floor is pretty open and I’m not sure one would cover the whole area. It’s probably 35-40 feet.', 'Th0mC: What is the delay to detect presence?\nI read that it was not as good as ir detector for a corridor as you mainly only pass through.\nI have ikea tradfri presence detector and I’m looking for something more accurate.\n\nWhat are for you the advantages of FP2 over FP1 which is zigbee?', ""jeffmefun: Am I the only one who's not able to find these on Amazon?..."", 'None: [deleted]', 'pookexvi: If it had a temperature sensor and worked with home assistant right away. I would be buying a few of them right away.', ""dm_me_somethin_silly: How does it deal with walls? I'm tempted but some rooms are adjacent to others so am wondering about overlaps"", ""N1ce_: Aqara is Xiaomi's name for their home automation products... not sure if I want them to map out my home down to the latest nook unless there's a safe way to stop those device from calling home.\n\nAside from that, I watched a video and the functionality is truly nice and amazing!"", ""Time-Button4999: Can't believe Home kit is the only way to get these in. Are they not Zigbee?"", 'SirBardBarston: Do they have a PoE version?', '_hellraiser_: This looks like an awesome piece of equipment. But do I understand that, apart from HA you need also an Aqara hub?', 'AssDimple: What sort of AI engines are you running?', 'yoshiatsu: Does anyone know if this thing works with Zigbee2MQTT?', 'God_TM: Is an aquara hub required for setup (or can I pair it with home assistant directly)?', ""MrCalifornian: If this had full functionality in home assistant I'd get them. Does anyone know if they'll use matter over thread?"", 'ArtisticMammoth4167: How can you connect this sensor when you only have an Android phone ?', ""Mysterious-Bowler15: Think all the positives are written bij sellers. This fp2 is not working different then a fp1 which cost half the price. In home assistant you only can use the occupancy and lux sensor. We bought the fp2 because it had fall detection but we tried to setup this in the Aqara app with no luck. You don't need a hub and internet it will connect bij WiFi and homekit. For setup zones you need the Aqara app. After setup you can delete the app."", 'samuraipizzacat420: i heard they are disappointing, and this guy bought 3.', 'Warmier: Woah, how have I never heard of this company? They have some sweet stuff for smarting your home. They recently become popular or something? They’ve been around since 2016, yet this is the first time I’ve ever heard of them.', 'ferbulous: What’s the interference source? Curtains/fans?', 'solts: Anyone know of these work with mq2tt in HA?', 'RetroGamer87: How many do you need to create a grid?', 'Superkyle1721: Where did you snag these? Looking to add a few to my network and not sure where to buy from the US?', ""Infamous_Bee_7445: I picked one up because I feel like properly implemented, this will be a total game changer for home automation. That said, I'm really struggling with the line power requirement and how it impacts product placement. I have a pretty strict wife approval process, so I can't just have dongles and wires hanging around everywhere. I'd ideally like to ceiling mount these sensors but am really struggling with how to deal with the power."", 'Mosheridze: I hope it will be possible to flash esphome on it', 'Negative-Exercise-27: I’m considering putting on in a hallway, to record occupancy based on zones for when people enter and exit rooms. \n\nThere is like 5 rooms 1 sensor could do. Problem is if it isn’t 100% accurate or someone runs into a room it wouldn’t be ideal. I may test this out. \n\nWould save a ton of money on a sensor for each room and use use the zoning for the hallway.  Anyone else tried this?', 'tascotty: I want a motion detector to use to trigger an alarm if I move out of the range of the detector - i.e. I have to stand in front of it for X minutes or the alarm will start again. Does anyone know if this is the right kind of product and how I could do this?', 'abysse: What is your AI engine is doing ? Could you tell me what it does ? If others are picking that post up? How does AI register in your home ?', 'alconaft43: I need ceiling mount version running ESPHome.', 'No-Meal-6666: Is this available in the US', ""ericstern: So far I've only found one youtube video that has mentioned that the device doesn't work quite right if you block it from internet(unlike its predecessor). IMO that's a very important point to make since a good chunk of the community blocks IOT devices from the internet for various reasons."", 'what_comes_after_q: Question, would it be better to use a camera in a room and do object detection versus using one of these in common rooms? Clearly not in bathrooms, but in kitchens and living rooms, it feels like cameras would have better accuracy, but with more overhead processing required.', 'theloneranger08: Is Amazon the only place to get it?', 'FloridaIsFull: There’s so much wrong information in this thread.', 'TheBurtReynold: I suspect these will be obsoleted in the fairly near future when we can wear a glasses (i.e., head mounted sensors) that know which room they’re in', 'mbonaccors: Sorry \U0001f979', ""Nicao: Honestly, there haven't been too many use cases where you could actually have a tracking precise enough to allow this to be useful.. but yeah with the rise of mmwave technology to mass market devices it might be different very soon"", 'parrot42: You could try [https://github.com/adizanni/floor3d-card/releases](https://github.com/adizanni/floor3d-card/releases) .', ""mbonaccors: t took a bit of tweaking on the grid, but once I've masked away all the air purifiers, humidifiers, etc. on my grid, then it starts working perfectly."", 'RonSpawnsonTP: Having these exact same issues, plus pairing keeps failing.', 'Ulrar: Everything Smart Home just did a video on it and confirmed that blocking the internet for it breaks it completely right now, so yeah it requires the internet sadly', 'ttgone: To clarify. The sensors are direct & local through HomeKit. It does however also talk to the cloud', ""nerull7: Setup needs to be done online but after that I've blocked sensor on my router and it works in HA without a problem.\n\ntcpdump on router and ap shows that sensor constantly tries to connect to cloudflare dns (I've setup iot network to use cloudflare dns) and fails constantly"", ""Nicao: It's cloud bound for the moment. \nWatch this space to see if it goes for local control sometime soon: https://github.com/rospogrigio/localtuya\n\nHowever, there's still significant Firmware Updates to be expected which might not work with local tuya control"", ""IroesStrongarm: I've got a Tuya M100 that might work for you. Mines the ZigBee model and acts as a router unlike the FP1. Pretty happy with the ones I have and it sees me on the couch not moving."", 'patrikulus: Seems like FP1 would be good enough for your needs', 'Nurgus: It might not be good enough, but microwaves do go through (some) walls. Your house is more open plan than you think..', ""nerull7: I don't know if my setup is special but I'm able to use FP2 sensor with internet blocked on router"", 'ya_gre: Yes! If it runs local on Home assistant I will buy some', 'GritsNGreens: I think it said they will upgrade to Matter which would probably be the best option long term.', 'Durag5: Can you not add it through homekit integration under Devices, Integrations, Apple?', 'ryocoon: These are little WiFi homekit sensors plugged in via USB-C. I imagine you scan (home assistant mobile) or input the printed codes using Apple HomeKit integration. Sadly not directly Matter/Thread, but they seem good from reviews.', 'mbonaccors: Yes but that’s it’s weakest area. I would set the motion sensitivity to low which slightly increases the detection time.', 'mbonaccors: Distance range is extremely good, better than I expected. Probably 40-50 feet. The width is a bit more limited, maybe 15 feet.', 'nguyenkien: > I read that it was not as good as ir detector\n\nI read FP2 much faster than FP1, like 1s. There are some review on youtube, check that out.', ""KeesRomkes: just get a cheaper tuya m100 with zigbee for your hallway use case. It's excellent in detection once placed correctly."", 'mbonaccors: They are already sold out', 'Flintr: They removed it from search results. Here’s [a direct link.](https://a.co/d/dNXyv8X)', 'Raul_77: [https://youtu.be/yarollsdao4](https://youtu.be/yarollsdao4)', 'StumpyMcStump: Yes. Detect when my wood stove is on and monitor temp', 'mbonaccors: You can set where your walls are to prevent any issues on the grid.', ""Nicao: Your AliExpress furniture recommendations will just keep getting better... Where's the issue? 😂"", ""Not_Pelle: No, it isn't. Aqara is an entirely separate Chinese company. They have however made white label products for Xiaomi."", 'Lostbutnotafraid: No the FP2 is wifi and Bluetooth.', 'niceman1212: What’s the problem with homekit?', 'Nurgus: Is home kit another thing I have to buy or is it an app?', 'mbonaccors: Not that I am aware of. But I believe they make Poe to USB C adaptors', 'ttgone: You don’t', 'mbonaccors: Location engine (location of each person in home), activity engine (what activity the person is currently doing), plant engine (watering, fertilizer, temp etc.), robot engine (manages mop and vacuum room and scheduling ), device engine (oversees the home automation devices and alerts to battery change or connectivity issues), weather engine (monitors outdoor weather), indoor environment (monitors air quality in each room), tablet display engine (services the dynamic tablet ui in each room’s panel), health engine (tracks health trends / sleep data / fitness ), circadian lighting engine, and a few others at the moment.', 'mbonaccors: It’s WiFi', 'susanacf: The FP1 has Zigbee.', ""KeesRomkes: it doesn't."", 'GB_CySec: You can pair it directly via the HomeKit add on and then re-expose it to HomeKit if you require that', 'ttgone: No it’s not', ""RedditAcctSchfifty5: I don't have this exact model, but most of my Aquara stuff I was able to pair via community drivers with my Hubitat."", ""mbonaccors: I am editing my previous comment. Ok, I figured it out - there's a bug/feature where after you install the FP2, you need to remove the entity from your Home app in the iPhone, before it will appear in Home Assistant.  As soon as I removed it from the Home app, it instantly appeared in Home Assistant. Strange! Ok, it's good news - no Aqara hub needed at all!"", 'ttgone: No thread. It will supposedly supper matter over wifi at some point. Today it does HomeKit over wifi which home assistant suppers natively.\n\nWhat functionality are you missing?', ""Nicao: On Amazon the FP2 just took over the product page, ASIN and reviews of the FP1. That's illegal according to Amazon t&C's. I also wondered but with keepa it was easy to see that they cheated. Weird since Aqara usually plays by the rules on Amazon"", ""1aranzant: what's the price of an FP1 and FP2?"", 'mbonaccors: I’m not disappointed. Have FP1s in each room of my home currently and slowly replacing with the FP2, much better speed and accuracy.', 'Beukers: Nah aqara is a pretty common name already.', ""ryocoon: Aqara is the brand name for XiaoMi's smarthome lineup. They originally adopted it for international sales, but now use it internally on mainland as well. The original batch of stuff was all Zigbee, but with quirks. However, due to their really cheap prices, many really liked them. They make lots of buttons and sensors, but also made neat stuff like motorized curtain rails."", ""MrCalifornian: Most of my sensors and buttons are from them. They have cheap, usually-zigbee, mostly-reliable sensors, but they've definitely gotten better recently (accidentally got some old version motion sensors and they're a bit less reliable)."", 'mbonaccors: It’s a air purifier', 'mbonaccors: Amazon on day 1 of release.', 'edgefundgareth: This sounds oddly like you’re trying to keep someone prisoner and want to be notified if they escape…', ""EPluribusAnus: This would pretty easy to implement using this, but you wouldn't even need to have to stand in front of it or in any particular place. Just make your bed a zone and have an alarm play until you leave the zone.\n\nSource: am just as bad at getting out of bed and will be doing this exact thing when mine comes in."", 'mbonaccors: The several AI Engines I am running do several things. 🤣', 'AbleDanger12: It is, but looks to be sold out everywhere I looked. Amazon too.', ""KeesRomkes: what's your use case?"", ""hbar98: Ha! No worries. I'll snag one eventually... or something else may come out that tracks multiple people, has zones, and can ignore fans."", ""Trevsweb: I have espresence and they're developing something similar. But yes not super precise but easier to set up using co-ord for me than draw things out."", 'tatDK94: Aqara has fixed the bug that required it to have a cloud connection to send local presence notifications to Home Assistant. You can now block all outbound traffic from it and still have it work through the local HomeKit(/Home Assistant) connection.', 'Mysterious-Bowler15: No need for setup online just use the Aqara app over WiFi, after setup you can delete the app', ""GeoffreyMcSwaggins: Isn't aqara their own stuff and not Tuya at all?  \n\n\nAlso you can use these with the homekit integration but that said apparently they don't even work with that if they don't have an active internet connection"", 'Mysterious-Bowler15: Nonsense it has nothing to do with Tuya and cloud. You can connect with homekit over Wifi', 'KeesRomkes: I can approve, the tuya ones are excellent and you can get 4 for the price of one FP2, having everything run on zigbee is a big plus too!', 'moldy912: But they don’t sell that in many places…', 'Kendrome: Hopefully even better we will be able to use EspHome on it at some point.', ""gregable: I wonder if the existing ones will be upgradeable or if it'll be a new hardware release"", 'mbonaccors: That’s the exact way that you add it.', 'scoptimus_prime: Wow, that’s actually amazing. What about the integration with HA. I saw a review and they didn’t seem too high on it and recommended HomeKit.', ""mbonaccors: It's much faster - it's also used for presence more than drifting through a space."", ""jeffmefun: So weird that it's not even showing up... plenty of stuff is sold out, but the listing is still up. Oh, well... time to keep checking. Thanks for the info!"", ""BigTimeButNotReally: D'oh.  I only ordered one.  To try it out ..."", 'willquill: How much is one of them? Can’t find price anywhere. Price is not on the website or the Amazon page since it sold out.', 'techdan98: Glad I ordered it yesterday! Mine arrived today, and completely agree that it seems awesome.', ""Rolling_on_the_river: I don't like that it has an IP-address and access to the internet. The device isn't functional if you cut off internet access."", 'ttgone: Exactly. For home assistant it’s just another protocol / standard', ""MissHearthstone: Need to use an Apple device, if you don't have one well.."", 'Time-Button4999: HomeKit is an Apple technology that is exclusively designed to work with Apple devices such as iPhones, iPads, Apple Watches, and Apple TVs. In order to control HomeKit-compatible devices, you must use the Apple Home app or Siri on an Apple device. HomeKit is not compatible with other platforms such as Android, Windows, or Linux.', 'ttgone: You don’t need anything. Home assistant supports that natively', '_hellraiser_: So you can setup the zones directly in HA?', 'MrCalifornian: How are you doing per-person locations? Are you getting more detailed data from these where you can do gait detection?', 'theangrybarbarian: Are these engined integrations? Something in HACs? Or something you built? Btw... I also bought 3. Very excited to get these little pieces of future tech.', 'ryocoon: This one is WiFi (although not ESP or Tuya to our knowledge) and exposes itself via HomeKit protocol. So you would need to set up HomeKit on HomeAsisstant (or whatever your SmartHome control software) over your local network, or expose it to your IoT network if you have one. After you have set it up via BT/WiFi in the Aqara app (for zone setup and some certain feature configs) you can have it add to HomeKit in whatever home control scheme you have (provided it has support for it, which HomeAssistant does).', 'Lostbutnotafraid: The site says it doesn’t require a hub.', 'ttgone: It does not', 'MrCalifornian: Zone configuration, not trying to use the aqara app (or, especially, hub).', ""ntsp00: It's pretty obvious the reviews aren't for the FP2 when they're dated from before it was even released. I don't see what the issue is when Amazon just combines all the reviews and ratings for every listing that has multiple models or products anyway. You have to filter for the one you're considering."", 'Mysterious-Bowler15: Fp1 45 - 50euro fp2 around 80 euro', 'Warmier: Ah… I must be living in a box I guess.', 'tigole: Why does the air purifier interfere?', 'tascotty: I am, it’s me. I’m the prisoner who can’t get out of bed in the morning and stay up 😢', 'tascotty: Greetings fellow bed lover. I don’t think my girlfriend would appreciate me forcing her up too 😂', 'abysse: Really eager to know what :D', ""Ok-Jury5684: Bluetooth never will be precise enough. Also, I found ESPresence to be really hard to manage/update. ESPHome is much better at latter, but their Bluetooth is super unreliable.\n\n\nSo I built my own ESPHome - based solution for Bluetooth presence. It's still Bluetooth, but at least it's integrated to HA seamlessly and works very fast."", ""Nicao: Sound really cool. Actually it'd be feasible for the chip used in FP2 to do the same according to a teardown I saw. Wonder if  it might be released in the future as a new feature"", 'nerull7: Well, I think sensor needs internet for setup to connect it to your account. Also sensor needs cloud for zones setup', 'Drumdevil86: Aqara is Xiaomi Smarthome.', 'gandzas: Order it from Aliexpress. They are safe, just may take a while for the shipping.', 'Ulrar: There was a thread the other day, someone already did so. Getting zones working on that is probably going to be tricky however', 'Rolling_on_the_river: Do you need to own an apple device?', 'mbonaccors: You set it up in the Aqara app and then it showed the zones in HomeKit at which point you can integrate it into HA', 'ttgone: HomeKit is just a protocol / standard. Home assistant supports that.', 'Nurgus: Supposed to be about $80, expect to pay a lot more because availability is stuffed.', 'tatDK94: Aqara has fixed the bug that required it to have a cloud connection to send local presence notifications to Home Assistant. You can now block all outbound traffic from it and still have it work through the local HomeKit(/Home Assistant) connection.', 'niceman1212: How is it not functional when you cut off internet access?', 'niceman1212: Have you ever tried adding a homekit device to home assistant without an Apple device?', ""ryocoon: That maybe what HomeKit was designed for, but HomeKit works inside HomeAssistant just peachy. Hell, I even have an LG smart TV that can operate either as a client device or as a central hub for Homekit as well.  \nIt isn't \\_ONLY\\_ Apple stuff."", 'niceman1212: That is a piece of nonsense. \nSource:\n- https://www.home-assistant.io/integrations/homekit_controller/\n- my tado thermostat connecting to homeassistant without Apple devices intervening (using homekit)\n\nIt even allows for local-only connection so you’re not depending on cloud (or again, any devices whatsoever)', 'ttgone: No, you use their app. The device communicates over wifi', 'mbonaccors: I’m using a variety of other motion sensors and using some pretty advanced algorithms that also take into affect current activity context and previous movements. I create movement trails for each person and also see who is closest to the last triggered motion sensor etc. to determine who most likely is moving.', 'mbonaccors: They are custom AI models that I’ve written in python, they run on a separate server that connect to home assistant via the events framework.', 'mbonaccors: Then how are you connecting / exposing the FP2 to home assistant via HomeKit without the aqara hub?', 'ttgone: No hub needed, but yeah, you do need the app unfortunately', '1aranzant: thx', 'NameIsYoungDev: There’s fans inside of it. These things are super sensitive.', 'EPluribusAnus: Fair! I wonder if it would be possible to achieve this using an Apple Watch or something. \n\nSpeaking of which, there are watch apps that will gently and silently buzz your wrist when it detects you’re the easiest to wake up. Not HA related, but maybe there’s a way.', 'Trevsweb: Any guides to convert to esphome?', 'Mysterious-Bowler15: No internet needed I have setup two of them and my home assistant is not connect to internet just on my local network', 'AndrewFromAqara: No, Aqara is NOT Xiaomi Smarthome. For the global market, we basically never support Mi Home, and Xiaomi is our direct competitor in many categories.', ""GeoffreyMcSwaggins: It's my understanding that you don't."", ""nerull7: You don't need ios device,\n\nI would recommend to setup FP2 device on android because on iOS it tries to connect to apple home kit directly not through home assistant"", 'None: [deleted]', 'WizrdOfSpeedAndTime: Did it actually work with the HomeKit integration? I thought I saw it would show up but the sensors didn’t actually work via the integration.', ""Rolling_on_the_river: I saw a video where they tested to remove internet access and it stopped working. I'll try to see if I can find it.\n\n\nEdit: I think it was this video https://youtu.be/0t3Olkr6E-I"", ""ryocoon: Yup.   \nI've added a few TVs using HomeKit interface on HomeAssistant via web from a Windows machine (while the HomeAssistant machine is Linux VM on a Linux machine) and same web interface but inside the HomeAssistant app on Android (Pixel 2XL to be specific). Just fed it the code numbers during setup, although I think I could have scanned the QR codes with the app interface.   \nAlso, Added my wife's iPhone to the homekit instance on HomeAssistant using a generated QR code from the web interface if I remember correctly."", ""_hellraiser_: Ah, great! Thanks for this info. I'll definitely check it out then."", 'KeesRomkes: you some scary mf :D', 'zacs: How do you write the models in python? What training data do you use? Off the shelf modules to help? Etc etc. Would love to learn more.', 'meme1337: I’m interested on these models you wrote: do you mind sharing a bit more info about them?', 'mikenhu: I’m also interested. Would you mind sharing how your setups are?', 'ChrisKolan: I am also interested in how you implemented the models.', 'ttgone: Wifi. Bluetooth for initial app setup', 'tigole: Because the blades move?', 'tascotty: My Fitbit does it. I turn it off/snooze it before I’m fully conscious :/', 'Ok-Jury5684: Here are repos:\nhttps://github.com/formatBCE/ESP32_BLE_presense - ESPHome part.\nhttps://github.com/formatBCE/Format-BLE-Tracker - HA integration (it creates sensors, device_trackers and has ability to create combined device_trackers for custom logic).', 'nerull7: Do you have internet block for all new DHCP clients? Sensors are connecting directly to aqara cloud', 'Drumdevil86: Well ok, it \'is\' not the same as Xiaomi, but How does that work then? Aqara is owned by Lumi United Technology. On their Linkedin page it says:\n\n""*Lumi joined Xiaomi’s ecosystem in 2015.*""\n\nAnd also:\n\n""*Lumi’s Aqara brand, established in 2016, is designed to seamlessly integrate with Xiaomi’s Mi Home and Apple’s HomeKit ecosystems*""\n\nDon\'t get me wrong, I have several Aqara Zigbee temperature/humidity/pressure sensors and they are great. However, they were marketed as being from Xiaomi on AliExpress several years ago.', 'ntsp00: No.', 'niceman1212: Thanks. I was interested as I didn’t see a reason for it to not function without internet since it has homekit. Oh well I guess I’ll wait until this kind of sensor is made by another manufacturer', 'mbonaccors: It’s all custom python that’s built upon other more basic AI engines and a general framework that I’ve created. \n\nFor example, once the location engine is working, then when the apartment sees someone is cooking it can assign the cooking activity to that person. \n\nThe activity engine is the most complicated. It’s a mix of a learning model (custom) plus some fixed assumptions. The learning model takes a snapshot of all the sensors in my home every 30 seconds and compares it with a database of the last 30 days worth of activities to determine what is most likely happening at any given moment. It’s a bit conservative to minimize false negatives, but if it does get it wrong you can choose a different activity on your local room tablet and it will re-tune the model slightly.', ""mbonaccors: Can you explain a bit more in detail, as I'd like to connect the FP2 to my Home Assistant instance without using a hub. If I use Bluetooth for initial app setup I cannot add the FP2 as an accessory - because HomeKit requires your WiFi to be on. My FP2 in HomeKit doesn't expose in HomeAssistant if there is no Aqara hub as part of the system."", 'NameIsYoungDev: Yep! The fan blades inside are enough to set it off. These sensors are even capable of detecting breathing rate if the software wants to.', 'Mysterious-Bowler15: I have no internet connection at al, we only have a local network not connected to any modem of the outside world. So no sensor can connect the cloud', ""mbonaccors: Ok, I figured it out - there's a bug/feature where after you install the FP2, you need to remove the entity from your Home app in the iPhone, before it will appear in Home Assistant.  As soon as I removed it from the Home app, it instantly appeared in Home Assistant. Strange! Ok, it's good news - no Aqara hub needed at all!""]"
1682121583.0	21-Apr-2023 16:59:43	Issues with Magic Home Wi-Fi lights	formerswimmer32	2	12unk8q	homeassistant	https://www.reddit.com/r/homeassistant/comments/12unk8q/issues_with_magic_home_wifi_lights/	"I added four Wi-Fi LED dimmers/controllers to Home Assistant using the official Magic Home integration. Initially the devices worked fine however after running for a few hours they all go offline and can no longer be controlled by HA without a full restart. The controllers can still be controlled in the Magic Home app and SmartThings without an issue. Other Wi-Fi devices (TP-Link smart plugs & LIFX) work fine. Has anyone else had issues with this specific integration and is there anything that can be done about it? 

Worth noting: My system runs on a Raspberry pi 3B+ in a docker container connected to my home network via Ethernet. All the controllers that are having the problems have reserved IP addresses, and show up as online in the router app. Since I have a mesh system I even checked which router they are connected to and it is the closest with the strongest signal."	2	['WVSCYZWJOW: Same issue with a mesh system. I ended up having to bind all the bulbs to the main router. Seemed to fix it for the most part.', 'formerswimmer32: I will try that then. Hopefully it works for me as well!']
1682120355.0	21-Apr-2023 16:39:15	Light control with keyboard volume knob (AutoHotkey + MQTT + HA)	returnedinformation	113	12umyz3	homeassistant	https://v.redd.it/9scowy2tpbva1		16	"['ElJuanSnow: This is awesome, any info on how to set something like this up?', 'fischgeek: Good idea. I assume AHK for the ctrl+vol and then send the mqtt command topic to HA?', 'fuuman1: Wow. I have A LOT of stuff automated at home but I never even thought about using my Razor Chroma to trigger things. And your post just opened that new world to me, haha 😅', 'rockking1379: And just like that I need some kind of smart lighting in my office', 'Shooter_Q: This is that good good.', 'ownsjo: Thanks for sharing! I set this up using my  Corsair iCUE software that calls for .bat application using similar cmd that you provided. Also tip for others, use MQTT Explorer when troubleshooting setup or when testing topics. Made it easier for me.', 'returnedinformation: I did it just last night and didn\'t spend much time perfecting it, but I\'ve tried to make it as simple as possible.\n\n**Install Mosquito broker Addon** on Home Assistant (you can use any MQTT broker you\'re comfortable with ofc, but this is how I did it). Later on you can use the existing account credentials of user in HA to login to MQTT, but I\'m prefering to set a specific user just for MQTT so in the options tab/panel of Mosquitto broker I\'ve inserted this into the **""Logins"" section** (watch out for the indentation):\n\n    - username: mqtt\n      password: yourpasswordhere\n\nI\'ve **installed Mosquitto client** for Windows which you can find on [https://mosquitto.org/download/](https://mosquitto.org/download/)\n\nI\'ve **installed AutoHotKey** and made this script:\n\n    ^Volume_Down::\n        Run ""C:\\Program Files\\mosquitto\\mosquitto_pub.exe"" -h 192.168.1.100 -t livingroom-light/brightness -m ""decrease"" -P yourpasswordhere -u mqtt,,hide\n        return\n    ^Volume_Up::\n        Run ""C:\\Program Files\\mosquitto\\mosquitto_pub.exe"" -h 192.168.1.100 -t livingroom-light/brightness -m ""increase"" -P yourpasswordhere -u mqtt,,hide\n        return\n\n**Volume\\_Up::** means the following will run with that ""keypress"", and the **\\^** in front of it meaning you also have to **hold CTRL button**. See AutoHotkey documentation for complete set of keypresses and modifiers.\n\nThe **-h** parameter definines the host where MQTT broker is, **-t** a topic which you want to write to (you can write topics however you\'d like, learn more about MQTT if you want to customize it more, I haven\'t done it before but it\'s not supposed to be difficult to learn at all), the **-m** being the message you\'re sending related to that topic (I\'m using ""increase"" for increasing and ""decrease"" for decreasing the brightness), and **-P** and **-u** being the password and username for logging into the MQTT broker\n\nIn HA you create 2 automations, one for increasing the brightness and one for decreasing it. You add a **MQTT trigger**, set the **topic** to livingroom-light/brightness (or whatever you wanna set), and **payload** to ""increase"" (and in the other automation you set payload to ""decrease"")\n\nIn the **action** section you pick your light and there are actions (at least for my light dimmer) for increasing and decreasing brightness of it. I\'m not sure if all of lights get that in Home Assistant, but my did so I didn\'t look into it further.\n\nIn the end I can recommend adding a **logbook exclusion** for the 2 automations beause you\'ll get it filled with brightness changing. To do this, modify the **configuration.yaml** file and insert this (set the entities to the automations you did), check if your configuration is valid in Developer Tools and restart the HA\n\n    - logbook:\n        exclude:\n            entities:\n                - automation.keyboard_increase\n                - automation.keyboard_decrease\n\nDisclaimer: I\'ve did this yesterday, I have no idea if it\'ll work flawlessly. Any suggestions to improve this are welcome. Thank you!\n\nMy dimmer switch is this one: [https://www.aliexpress.com/item/1005003223371466.html](https://www.aliexpress.com/item/1005003223371466.html)\n\nKnowing AliExpress the link will expire soon, so here\'s a link to the screenshot: [https://imgur.com/a/KeHz5Eb](https://imgur.com/a/KeHz5Eb)\n\nIt indentifies in Home Assistant as Quirk: zhaquirks.tuya.ts0601\\_dimmer.TuyaSingleSwitchDimmer\n\nIt also looks the same as Moes Dimmer[https://www.aliexpress.com/item/1005001914150720.html](https://www.aliexpress.com/item/1005001914150720.html)', ""THEGamingninja12: I'd also like to know, I have a volume knob on my keyboard, would be very cool to set up"", 'returnedinformation: Yep. And then a simple automation with an MQTT trigger that runs the lights Increase/Decrease brightness. Kept it as simple as possible, aka KISS method', ""returnedinformation: I've written the steps in another comment of this post."", ""returnedinformation: I've written the steps in another comment of this post"", 'Rolling_on_the_river: Does it also affect sound volume?', 'fischgeek: As an everyday user of all these things, this should’ve been obvious to me. Thanks for the post!', ""returnedinformation: It does not, that's why I've made it work only while holding the CTRL button, so that the knob still controls volume by default, and controls only the light when I press down CTRL"", ""Rolling_on_the_river: Nice! I'll consider doing something like it."", ""returnedinformation: I've written the steps in another comment of this post.""]"
1682119274.0	21-Apr-2023 16:21:14	Issues with live streamed (motion-eye) camera feed on lovelace	Basic-Tear-6117	1	12umg2x	homeassistant	https://www.reddit.com/r/homeassistant/comments/12umg2x/issues_with_live_streamed_motioneye_camera_feed/	"Hi All,

I can view my live camera feed on lovelace using google-chrome.  But when I try to use Firefox, the live streams never load up.  My computer fans also ramp up.  I tried playing with the different settings  in Firefox, but nothing seems to work (hardware acceleration on/off, DRM).

&#x200B;

Anyone have any clue whats going on here?

Thanks"	0	[]
1682118631.0	21-Apr-2023 16:10:31	IOS app won’t let you change light colour anymore	qsandc	1	12um4u4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12um4u4/ios_app_wont_let_you_change_light_colour_anymore/	If I try to change light color in the app (IOS) I see an empty screen… is this a bug?	5	['zSprawl: They updated the UI so perhaps you need to clear the cache? Start with hard killing the app (double tap or swipe up from the bottom to open task switcher and swipe up on HA to close it). If that doesn’t work, remove and reinstall it.', 'mgithens1: I just checked… I’m on latest app and HA versions and I can change / control light color as expected.', 'qsandc: Interesting.  I can change colours with individual lights, but not groups', 'qsandc: Yes is tried that and it’s also showing the same results of two different phones.', 'qsandc: Hmm, that’s odd.  I have even tried the app on two phones of different models.  Perhaps HA isn’t passing the information across?']
1682118441.0	21-Apr-2023 16:07:21	AccWeather Integration in HA	eruisi	5	12um1a7	homeassistant	https://i.redd.it/ujt7zg38kbva1.png		5	"['tarzan_nojane: Developer Tools > States > Entity > Filter entities [weather.home] *enter the name of your accuweather entity*  \n  \nHere you will find the state, attributes(7), and 40 forecast attributes.', 'eruisi: I  enabled AccuWeather in HA, but I can see a complex entity that icnlude Temperature/Humidity/Wind/etc, but no separate entity for each. \n\nHow to get those separate values and show them onto floorplan of my house?', ""mrbmi513: They're all available individually as attributes."", 'ams3401: Go to device/integration and search for entities?', 'Witty_Music_9101: I think you should be able to use template to get them?']"
1682116234.0	21-Apr-2023 15:30:34	Can a symfonisk gen 2 remote be used with ZigBee hub that's built into amz echo without IKEA hub?	Rx7Jordan	3	12ukxdr	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ukxdr/can_a_symfonisk_gen_2_remote_be_used_with_zigbee/		0	[]
1682114116.0	21-Apr-2023 14:55:16	How to use Prometheus to monitor homeassistant itself, not just its sensors?	simplex5d	2	12ujuwr	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ujuwr/how_to_use_prometheus_to_monitor_homeassistant/	"I just set up Prometheus & Grafana to monitor my home network. I'd like it to monitor my HomeAssistant too; it's running HAOS on a RPi 4. 

I set up the Prometheus integration, but as far as I can tell that just forwards sensor values and so on to Prometheus. I'd like to monitor the health of the RPi system: free disk space, CPU, RAM, load average, etc. Has anyone done that?"	1	['simplex5d: Oh, I see -- I need https://community.home-assistant.io/t/new-add-on-prometheus-node-exporter/354629\nThat works great!']
1682113128.0	21-Apr-2023 14:38:48	CAN'T LOAD HACS, please help	RalphWPicklechips25	1	12ujd1w	homeassistant	https://i.redd.it/e8qz27dd4bva1.png		2	['RalphWPicklechips25: I ended up going through sombashare and deleting all the files and reinstalling that finally worked.', 'sleekelite: Like it says - a file is corrupt so restore from backup.']
1682110932.0	21-Apr-2023 14:02:12	Google Coral Mini PCI-E accelerator - Which Mini PCI-E to PCI-E adapters can I use?	buffyvsparenzo	10	12ui9dg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ui9dg/google_coral_mini_pcie_accelerator_which_mini/	"Hello! I managed to get my hands on a Google Coral Mini PCI-E accelerator ( [https://coral.ai/products/pcie-accelerator](https://coral.ai/products/pcie-accelerator) ), which I currently cannot use because my server doesn't have a Mini PCI-E slot :(

Reading on the internet, many people suggest purchasing this adapter: **Ableconn PEX-MP117 Mini PCI-E to PCI-E** 

There's one problem, though: that particular card appears to be sold out everywhere.

Are there Coral users which could provide me with an alternative adapter I could use? 

Bonus points if it's available somewhere in Europe.

Thanks in advance!"	19	"['_Rand_: I’m using this one\n\nhttps://www.amazon.ca/dp/B0B6HYW2CB?psc=1&ref=ppx_yo2ov_dt_b_product_details\n\nWorks perfectly.', 'ayyycab: Is anyone using the *dual* TPU M.2? Aside from a small number of motherboards and devices that are some combination of niche, expensive, and hard to find, I can’t find anything that will be compatible', 'adorablehoover: I use the Coral in this one https://www.amazon.de/dp/B08BPJ5T2V.\nOnly works in the M Key slot obviously. \nThe other is just a SATA to B Key adaper and is not connected to PCIe at all.', 'Whiffed_Ultimate: I just used a basic off the shelf pcie to mpcie wifi adapter from a noname brand. Seems to work fine for me under frigate.', 'ufgrat: Yeah-- sorry about that, I think I bought the last MP117.  Good news is, it works.  :)\n\nNeed to be careful not to get the WiFi only ones-- they lack the circuitry to make the TPU work.\n\nAvoid ones that say ""works only with WiFi"" or ""does not work with Mini PCI-e cards"".  Also needs to support half-height mini PCI-e.\n\nHere\'s one that [might work](https://www.newegg.com/p/0XM-003Z-00028).', ""MissTortoise: I got this one from aliexpress: [https://www.aliexpress.com/item/1005002018020880.html?spm=a2g0o.order\\_list.order\\_list\\_main.5.544818024mP3bJ](https://www.aliexpress.com/item/1005002018020880.html?spm=a2g0o.order_list.order_list_main.5.544818024mP3bJ)\n\nIt comes up in lspci as being available, but [the drivers](https://coral.ai/docs/m2/get-started/#2a-on-linux) don't seem to recognise it. Anyone have any ideas?\n\n    # lspci | grep -i coral\n    05:00.0 System peripheral: Global Unichip Corp. Coral Edge TPU\n    # ls /dev/apex_0 \n    ls: cannot access '/dev/apex_0': No such file or directory"", 'dasbooter: Just making sure that you are using the  GLOTRENDS Mini PCIe Wireless PCIE Adapter for the google coral mini pcie version. I have seen a few people think for some reason we were discussing wifi cards and antennas', ""catdaddyinabarrell: Thanks. This one worked for me too. I tried another adapter and the machine wouldn't even power on."", 'labs-labs-labs: Yep. I have 2 of them, each in one of these...\nhttps://www.amazon.com/dp/B079NB8J3B?ref=ppx_pop_mob_ap_share\n\nWhich are in turn each in one of these...\nhttps://www.amazon.com/dp/B07G8N8Y9J?ref=ppx_pop_mob_ap_share\n\nZero issues.', ""ufgrat: That's m.2, not mini PCIe."", ""MissTortoise: I figured it out.\n\nWhen I tried to install the drivers (on a proxmox host) the kernel headers weren't installed.\n\n    # apt install pve-headers\n    \n    # apt remove gasket-dkms libedgetpu1-std \n    \n    # apt install gasket-dkms libedgetpu1-std \n    \n    # reboot\n    \n    # ls /dev/apex_0\n    /dev/apex_0\n\nNow it works"", '_Rand_: Yep, using it with a coral.\n\nIt’s physically just an adapter from mini-pcie to pcie 1x.  I just removed the included antennas and plugged it in.  Works just fine.', 'ayyycab: And are you running Frigate or something else? What kind of machine are they in?', 'None: [deleted]', 'adorablehoover: hmm. Today I learned.', ""dasbooter: Thanks for confirming . It does seem hit or miss for these wifi cards whereas the ableconn which was reasonable priced is all gone. The only other alternative is a like a startech and they want pffft 60 bux.  I'll give this a try based on your advise thanks muchly"", 'labs-labs-labs: Yep. Frigate with home assistant. Corals are passed through to an LXC running on Proxmox. Running on a Cisco C240-M4 server. The same setup was previously running on a Dell R730.', 'labs-labs-labs: Not a stupid question. You would need bifurcation support on your motherboard to use both Corals in a **single PCIE slot**, using something like this ""dual NVME"" adapter: [https://www.amazon.com/GLOTRENDS-Platform-Bifurcation-Motherboard-PA21/dp/B09PGDMWKH/ref=sr\\_1\\_4?crid=2EEX0738Z8E84&keywords=pcie+dual+nvme&qid=1682171613&sprefix=pcie+dual+nvm%2Caps%2C158&sr=8-4](https://www.amazon.com/GLOTRENDS-Platform-Bifurcation-Motherboard-PA21/dp/B09PGDMWKH/ref=sr_1_4?crid=2EEX0738Z8E84&keywords=pcie+dual+nvme&qid=1682171613&sprefix=pcie+dual+nvm%2Caps%2C158&sr=8-4)\n\nIf you use one per PCIE slot like I did, they\'ll both work. Bifurcation on a motherboard basically splits your PCIE port into multiple paths, so it can turn a single x16 slot into four x4 slots logically or an x8 into (2) x4 essentially. It allows the system to address multiple devices in a single slot.\n\nNote: my board does NOT support bifurcation. I DID try one of those dual NVME adapters with both Corals in it and it did NOT work (which is how/when I confirmed that my board doesn\'t support bifurcation.)', ""ayyycab: Reckon there would be any trouble having it in an Optiplex? I don't have server money lol"", 'labs-labs-labs: Can\'t say for sure. But... It did ""just work"" on both of my servers and I\'m using cheap M.2 to PCIE adapters, so I would guess you\'d be ok doing the same in pretty much anything. The driver\'s were just there under Debian/Proxmox.']"
1682110783.0	21-Apr-2023 13:59:43	Running HASSOS with internal DNS and SSL	littleredryanhood	0	12ui6e1	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ui6e1/running_hassos_with_internal_dns_and_ssl/	"I've installed HASSOS on an older mac mini and am trying to setup a reverse proxy so I can connect to it on my lan on 443.  I'm running pihole on a separate system and am serving local DNS with it, I have a public domain with DNS hosted by digital ocean so I can complete DNS challenges for letsencrypt.

I'm trying to use one of the nginx addons to redirect traffic from https://ha.mydomain.com to [ha.mydomain.com:8123](https://ha.mydomain.com:8123) but I'm not sure how.  


I know I could install a linux OS and run the supervisor in a VM with nginx running on the OS, just wondering if I can do this all inside HASSOS.

&#x200B;

Thanks!"	1	['hirscheyyaltern: if you only want ssl and reverse proxy on ha i would recommend the following 2 addons for the easiest time  \n[https://github.com/home-assistant/addons/tree/master/duckdns](https://github.com/home-assistant/addons/tree/master/duckdns)  \n[https://github.com/home-assistant/addons/tree/master/nginx\\_proxy](https://github.com/home-assistant/addons/tree/master/nginx_proxy)  \nthe duckdns add on also provides a free auto renewing ssl certificate but im going to take a gander that it wont work with a different dns host. theres a step or 2 in the ngxing proxy add-on that references the duckdns add on so you would just need to replace those steps with your existing ssl certificate, but it will stream streamline the process quite significantly']
1682108872.0	21-Apr-2023 13:27:52	Anyway to integrate Govee Air Circulator into HA?	smdifansmfjsmsnd	10	12uh6kr	homeassistant	https://us.govee.com/collections/featured-deals/products/govee-9-smart-turbo-circulator-fan?_pos=1&_fid=44f7b0802&_ss=c		3	"['remembermereddit: Currently no, [by the looks of it](https://community.home-assistant.io/search?context=topic&context_id=228516&q=H7111&skip_context=false). This was the second hit on duckduckgo by the way.', 'chintito4ever: No, and that’s what stopping me from buying Govee stuffs', ""Essem7631: Probably - I've been able to control Govee devices that support Google Assistant with the Google Assistant SDK""]"
1682107674.0	21-Apr-2023 13:07:54	Problem with onboarding on ODROID XU4Q HAOS install	GVDub2	1	12ugkqb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ugkqb/problem_with_onboarding_on_odroid_xu4q_haos/	"Just got the XU4Q HA package from Ameridroid, as I needed to move the Pi4 I've been running HA on to something else. Somehow the authentication process got screwed up and what I entered as username and password disappeared somewhere, and I can't even get to where I can get at Supervisor. I've figured out how to get to the host CLI and found where the configuration.yaml file lives, but what tools are there to edit a config file with on that install? vim and nano seem to be not there (I am assuming a Debian variant as the host OS). What am I missing, and how can I kill the ""mystery user"" and do a fresh onboard?"	2	['mrBill12: Just reload the base HA image and start over.  Ameridroid has instructions, all you need is a usb cable. If you’re moving an existing installation note don’t create any credentials… the bottom line of that screen is a link to restore from backup.   Restore a backup from HA on your Pi there.', 'GVDub2: Thanks! Seems to have done the trick.']
1682106414.0	21-Apr-2023 12:46:54	Best advice for someone with no HA experience and IT literacy of a third grader but interested in home automation.	NobodyDifficult	18	12ufxqw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ufxqw/best_advice_for_someone_with_no_ha_experience_and/	"Hello everyone,

I’ve been watching a lot of YouTube and it’s making my brain ready to explode. Honestly I’ve watched videos about Raspberry Pi, VM’s, Dockers, NUC, etc… and it’s overwhelming.

I recently became very interested in home networking. I have what I believe is a very simple setup. I installed a UDM Pro and UniFi switch and began my journey. I have AP’s throughout the house and set up an IOT vlan. I have about 30 smart devices at home. 
I don’t have a desktop computer, only a pair of MacBook Pro’s for my wife and I. I am interested in ordering the Synology Nas DS220+ for storage of our media.

With all the knowledge that you have all gained with HA what would your recommendation be for starting home assistant in my limited setup? I’m fortunate enough to be able to buy one or two pieces of must have hardware I may need."	25	"['sblessley: Perhaps I underestimate 3rd grade IT skills... you seem pretty savvy.', ""400HPMustang: Buy an inexpensive second hand SFF desktop like one of the HP prodesk or elitedesk machines or one of the SFF Dell machines. Add more RAM. \n\nFollow [this guide](https://community.home-assistant.io/t/installing-home-assistant-os-using-proxmox-7/201835) to install proxmox\n\nThat will run all the home assistant you need to run. Add the integrations for the devices you already have. \n\nThat's how I would tell anyone to start"", ""JackDiesel_14: I went with an Odroid N2+ with HA already installed and then a Skyconnect for my Zigbee devices. It's basically plug and play. Start small on one project at a time. Try and find things with good documentation and keep it to your office or somewhere non-critical for WAF until you understand it and get most of the bugs worked out. Learn and add complexity as you go."", 'holman8a: I’m in the same boat and a few months in. Just start very small and go up from there. Base where you start on a small project that will help you around the house. It’s largely all logic, it’s just about learning how to communicate that logic.', 'mikieikie: https://tteck.github.io/Proxmox/\n\nThis is also a good if you want everything in script form.', ""tiberiusgv: Seriously though, a proxmox server is a good place to start. You can take backups you VMs as you mess with things so when you break something it's a simple restore."", 'mattfox27: Hire someone', 'tiberiusgv: [This might be a good place to start. ](https://a.co/d/1ggsXW1)', 'hirscheyyaltern: My opinion as a not very well versed person in diy and open source solutions is that HA works great, but it has some growing pains and its only as good as you are. it lets you do a lot but some simple stuff requires some knowledge of templating and other ha things like state objects and sometimes basic css for the front end. its...a lot honestly if you havent done that kind of stuff before, and you may not get as functional of a smart home as something off the shelf unless youre willing to put in more work.\n\nthat said, ha is amazing and connects with literally all my devices. even my wyze cam which is not officially supported works through a custom integration and everything can talk to each other way better than any off the shelf smarthome platform. and, with some time and knowhow, you can accomplish way more complexed and nuanced automations than pretty much any other option out there. if youre willing to put in the extra work for ha, which it seems like you are, definitely go for it, otherwise maybe start with something off the shelf if you want to ease into it.\n\nif you dont mind installing an os. proxmox is probably the way to go, simply because it offers an easy setup, allows you to run other vms as well, and has a bootable image to make installing it easy.\n\nif you only ever plan on using the machine for ha, haos straight onto a device is a servicable solution but its definitely not as easy of an install and more limiting in terms of what you can do with it\n\n&#x200B;\n\nyou can always install as a vm on an existing device to try it out or run it that way, but i would recommend getting a dedicated device. personally, i started ha on an old device i had lying around, switched to a second hand device from my family, and finally got a fairly basic machine to run a stable setup. home assistant has very comprehensive backup solution and switching machines is honestly less painful and way less effortful than switching phones every time i get a new one.\n\nlong text wall but i hope it gives you a new perspective!', 'None: [deleted]', 'carlwerd: I run home assistant on a VM inside synology VMM, it works like a charm! I have a DS218+, so I guess that a 220+ should suffice?\n\nOr as others have already pointed out, Proxmox is very handy. I recommend Craft Computing’s tutorials on YouTube', 'Chrislass: If this is the IT literacy of a 3rd grader then I have IT literacy of a 3 year old and most people that of a new born baby. \n\nI’ve been running HA on a rpi 4 for 3yr, you don’t need anything complicated or expensive, maybe start off simple and if you feel the need later on you can upgrade to better equipment. If I was starting again I’d probably get a used sff off ebay.', 'NobodyDifficult: Thank you so much.', 'NobodyDifficult: How much RAM do you think is sufficient?', 'Knightowle: When the Pi prices hit $260+ I started looking at 2nd hand server options since I already have a rack. I ended up buying a Dell Poweredge R720 with two 2.9Ghz processors, 192gb of RAM, and an iDrac for $320. I already had some spare SSDs so I just put those in the hot swaps and I was off to the races. I did have have to pay another $80 on the 2nd hand market for the enterprise license to the iDrac.\n\nThere are so many small businesses who upgrade or fold that you can get exceptionally overpowered components for 1/10th their cost on the resale market.', 'hirscheyyaltern: >keep it to your office or somewhere non-critical for WAF until you understand it and get most of the bugs worked out\n\nthis so much. trying to rely on ha before working out the kinks makes for a bit of an unenjoyable experience. and it will have kinks to work out, almost definitely no matter how you start', 'mikieikie: https://www.ebay.com/str/humanit/Desktops/_i.html?store_cat=11800881015\n\nI get stuff from Human IT. I love the make an offer part. Usually get it for cheaper if they have multiples of the same computer', 'NobodyDifficult: Thanks. Getting a lot of positive feedback about proxmox.', 'NobodyDifficult: Thank you for taking the time to detail your experiences and recommendations', 'NobodyDifficult: Thank you very much for the recommendation. Honestly I don’t feel comfortable enough yet to run software from an open box product.', 'NobodyDifficult: Thank you, I will definitely check out that channel.', 'NobodyDifficult: Yeah it seems like a used sff running proxomx is a popular opinion for beginners.', 'benchristian88: Follow this guide too, some tips in there re cache to make it safe in a power drop\n\nhttps://www.derekseaman.com/2023/04/installing-home-assistant-on-proxmox-quick-start-guide.html', '400HPMustang: My elitedesks take 32 gigs max and I think that’s like $40 so I just maxed them out', 'hirscheyyaltern: wow this seller has the perfect products! i spent forever tracking down decent machines at a reasonable price and here it all is in one place. wish i knew about this before i went searching a few weeks ago. will have to keep it in mind for later..', 'tiberiusgv: I like it so much I run 2 😅']"
1682105310.0	21-Apr-2023 12:28:30	Home Asisstant Discord /GER	Sectomy	0	12ufdmr	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ufdmr/home_asisstant_discord_ger/	" 

Kommt,  und bereichert uns, es gibt nen YT Channel und eine Atmosphäre auch für  Neulinge, keine EGOs, die vorraussetzen das Du der Champ bist, wie in  anderen.....

[https://discord.com/invite/Wt42rpwQye](https://discord.com/invite/Wt42rpwQye)"	0	[]
1682104852.0	21-Apr-2023 12:20:52	Struggling with NSPanel Lovelace with ESPHome	thehumanjarvis	2	12uf55m	homeassistant	https://www.reddit.com/r/homeassistant/comments/12uf55m/struggling_with_nspanel_lovelace_with_esphome/	"I have a number of NSPanels throughout the house already running ESPHome, so I was hoping to get them working with lovelace, still on ESPHome to minimize the change over work.

I've been following [this guide](https://www.espthings.io/index.php/2022/08/07/nspanel-lovelace-ui-a-great-add-on-for-home-assistant/) with an NSPanel already flashed with ESPHome.

Looking for anyone who has successfully done this and if they have any hints or deviations they noticed that I'm just not getting right now."	0	[]
1682104708.0	21-Apr-2023 12:18:28	Effect speed is disabled for my Wiz lightbulb?	Rafa130397	3	12uf2hz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12uf2hz/effect_speed_is_disabled_for_my_wiz_lightbulb/	"Does anybody know why the effect speed is disabled for my Wiz lightbulb?

This is in homeassistant running on a vm in a windows 11 pc

&#x200B;

&#x200B;

https://preview.redd.it/7xha43bbfava1.png?width=260&format=png&auto=webp&v=enabled&s=392e078ff0780ff0edfe3af041fb2bb7256f2356"	4	"[""teaganofthelizards: On mine, the effect speed only works if they're on in one of the effect modes that has an adjustable speed."", 'shawnshine: What happens if you turn the bulb on and set it to an Effect first?', 'Rafa130397: Which mode is that?', ""teaganofthelizards: It works on a few of them. They're pretty gimmicky, honestly, but the Party mode is the one I use the most""]"
1682104034.0	21-Apr-2023 12:07:14	Pass Int from HA to ESPHOME?	TheSchout	0	12ueqgv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ueqgv/pass_int_from_ha_to_esphome/	"Hi guys :)  
I have passed a sensor from HA to my ESP home, it works fine, it shows up in the esp32 logs as expected. But when I try to use the value in my esp32, I get this fault:

*Expected integer, but cannot parse id(“sdm\_630\_address0”).state as an integer.*

It’s defined as an Int in HA.  
This is the import:

    sdm630address0: #phase_1_line_to_neutral_volts
          value_template: ""{{ states('sensor.shellyem3_e89f6d84ac37_channel_a_voltage').split('.')[0] | int }}""

This is where I try to use it

    modbus_server:
      - id: modbuserver
        uart_id: smartmetersim
        address: 2 # slave address
        holding_registers:
          - start_address: 0
            default: id('sdm_630_address0').state
            number: 1
            on_read: return value; 

I have also tried without .state and with ->state but same result.  
Can anyone point me in the right direction? Thanks :)"	2	"[""whlabratz: I don't those values in esphome support being set dynamically like that"", 'TheSchout: I can get the value, just not as an int.\nThe value also shows up in the esp log..']"
1682101904.0	21-Apr-2023 11:31:44	"Roborock S5 ""failed to retrive map from vacuum"" (lovelace card) and ""map loading"" (xiaomi app)"	thephatmaster	4	12udnvz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12udnvz/roborock_s5_failed_to_retrive_map_from_vacuum/	"So my RR S5 is suddenly refusing to show me its maps:

* The lovelace card just says *""failed to retrive map from vacuum""*
* The Xiaomi Home App just says *""map loading""*

It still vacs the house and goes to the bin when finished (an Automation I have using pin and go)

I got the map back, in the App at least, for one vacuum run by reinstalling the app (Android) and power cycling the S5, but it went away again the next day.

Anyone else having this issue?

Valetudo time maybe?"	4	"['Tomechio: Xiaomi cloud issue. Home assistant makes too many api calls.\n[https://github.com/PiotrMachowski/Home-Assistant-custom-components-Xiaomi-Cloud-Map-Extractor/issues/422](https://github.com/PiotrMachowski/Home-Assistant-custom-components-Xiaomi-Cloud-Map-Extractor/issues/422)', 'NoIWouldntMind: I have the same issue in both the HA card and the Xiaomi app. Power cycling the S5 and reinstalling the app didn’t help.', ""odeemi: Same problem. Worked fine for a long time before. Also considering Valetudo.   \nRead that Github discussion a bit and tried now disabling the HA integration and I'll see if that helps..."", 'thephatmaster: Seems from the Github discussion that the answer is to use a different integration alongside the roborock app - not an option for S5 users unfortunately - need to use the  mXiaomi Home app']"
1682101861.0	21-Apr-2023 11:31:01	Wall Panel for Doorbell	Smart_Ad8466	0	12udn0y	homeassistant	/r/smarthome/comments/12udm98/wall_panel_for_doorbell/		0	[]
1682101366.0	21-Apr-2023 11:22:46	2023.3 issue with new light dialog and smart switch?	zeekaran	1	12ude99	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ude99/20233_issue_with_new_light_dialog_and_smart_switch/	"I have an Inovelli Z-Wave smart switch attached to a light and fan that shouldn't have dimming options. I rarely use the physical light switch, and depend on automations and motion + contact sensors to turn it on and off, but I do have a button card that I use.

I have the switch configured by the Z-Wave parameters UI to be set to ""Normal"", but this allows the new dialogue to use the slider and set the expected brightness from 1-99%, rather than being a simple on off switch as my button is set to. If I change it to ""On/Off"", I can still control the brightness via the slider introduced in 2023.3. But on top of that, I then have issues where tapping the power button on the slider menu (or my regular old button) don't control toggling the light on and off.

My current solution is to change it back to ""Normal"" mode and do my best to not accidentally open the slider menu and touch it, but this is not ideal. Any suggestions?"	1	"[""ImSorryButWho: I'd suggest creating a [template light](https://www.home-assistant.io/integrations/light.template/) that only defines `value_template`, `turn_on` and `turn_off`, passing them all through to the underlying light.  Then use the new light in the UI, rather than the underlying one.  HA should see that it's only capable of on and off, not dimming, and give you the right UI for it.""]"
1682099865.0	21-Apr-2023 10:57:45	No internet access for HA host?	No_beef_here	1	12ucn5h	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ucn5h/no_internet_access_for_ha_host/	"Strange one here (me and the issue). ;-)

HA running on an Odroid N2+ and in Settings > System > Network > IPv4 I have it set to static with the IP address / netmask set to [192.168.0.125/24](https://192.168.0.125/24) and the Gateway and DNS sit to my cable router on [192.168.0.100](https://192.168.0.100). 

When set like that and try to update anything (integrations / add-ons etc) a message flashes up with a message saying there is no Internet access for the host? However, if I set the Gateway and DNS  in the network settings of the HA host to the address of my 4G router on [192.168.0.101](https://192.168.0.101), everything works fine?

Everything else can access the Internet via my cable router on .100 (or .101 etc) ok so what might be going on do we think please?"	0	[]
1682097270.0	21-Apr-2023 10:14:30	Chromecast status issue	Capt_shadab	0	12ubcg2	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ubcg2/chromecast_status_issue/	"When I open an app tivimate on chromecast that's when my Hass identities Google tv to be playing

When I select any other app on chromecast the Hass integration of Google tv shows as off. 

I have many automations linked to its status as playing or off.

What should be done"	0	[]
1682096129.0	21-Apr-2023 09:55:29	Smart Roller Blind Motor Issue	anthonym9387	2	12uaqms	homeassistant	https://www.reddit.com/r/homeassistant/comments/12uaqms/smart_roller_blind_motor_issue/	I've had Zemismart retro-fit blind motors on two of my windows for a about six months. For the most part they work great. I got them paired up with my Zigbee network and they're very reliable. My only issue is the bead connector which will sometimes pass through (while making a sickening sound as it makes its way) but more often than not gets stuck. Besides the strain on the motor, this introduces a whole host of problems in recalibrating my upper and lower limits, etc. Has anyone found a solution to this issue besides spending $100 on bead joining pliers I will use one time? Installing an infinity chain kind of defeats the purpose of these motors to begin with. If I was going to go through the trouble of getting up there to disassemble, etc I would have just bought tube roller units. I seem to remember when I was researching blind motors one of the more expensive companies used to send a special connector for this very problem. Someone please help!	4	"['Sporebattyl: I have the same issue. The trick is to get the tension of the beaded cord just right. No slack, but not taut. \n\n\nTwo of the three I have are calibrated just right and I don’t want to start on the third. The third works, but it makes that nightmare sound sometimes. It’s a headache to get right. You basically cut off 1-2 beads, join them back together with the connector and test it until you get it right. \n\n6ish months into it and I’m still on the fence about using this method on the other blinds in my house.', ""anthonym9387: I had mine working exactly like this for a little while and then it just eventually went to hell. It started getting stuck every time and then one of them snapped off a bead twice. I'm either going to bite the bullet and invest in the joining pliers or buy them on Alibaba and wait a month since they're about half the price. It sucks because these things are great otherwise."", 'Sporebattyl: First time I’ve heard of joining pliers. Why do you think it’ll solve the issue that the bead connector piece won’t?\n\nDo you have to use it on metal beaded chains or can you use them on plastic chains as well? \n\n\nI got my motors off AliExpress for half the cost of anything available in the US and it came with a solar panel, which made the wait worth it.', 'anthonym9387: The joining pliers eliminate the connector. They punch a hole in one of the metal beads then crimp it around the thin connecting part so it creates one seamless chain. It only works on metal I believe. Ryse has a bead connector that’s small and round that doesn’t get stuck like the regular big ones. I’m just surprised nobody has come out with a third party version of it.']"
1682095277.0	21-Apr-2023 09:41:17	The Built In Addon Community not showing	RoachForLife	1	12uaacp	homeassistant	https://www.reddit.com/r/homeassistant/comments/12uaacp/the_built_in_addon_community_not_showing/	"Hi all, go easy on me as Im on Day 2 of HA. Got up and running and last night I could search the addons and see all the ones from the community. When I go in today (trying multiple browsers) it will say nothing is found. For example, I searched for 'Govee' which I know was showing last night.

&#x200B;

I tried to go to the repository screen and manually add the default back and it says it exists already. I also added some others I found online and those seem to show when searching.

I guess what Im wondering is if from time to time, something prevents them from showing or if I need to do something to refresh?

Thanks!

&#x200B;

UPDATE:

 Sorry to add, when I go to Addons and scroll down I actually DO see a listing for the community ones (ie AdGuard, AirCast, etc) however the search was producing A LOT more items when I checked last night. Again like 'Govee' for example. "	3	"[""RoachForLife: Sorry to add, when I go to Addons and scroll down I actually DO see a listing for the community ones (ie AdGuard, AirCast, etc) however the search was producing A LOT more items when I checked last night.  Again like 'Govee' for example."", 'nhowell77: Were you possibly looking for Govee in the ""Integration"" section rather than the ""Add-ons"" section?\n\nOn my HA install I see Govee Bluetooth listed under integrations (where I would expect to find it) and nothing under add-ons.\n\nJust a thought.', 'RoachForLife: Oh my gosh, youre right! I feel dumb lol.\n\n&#x200B;\n\nBut thank you for educating me. Can mark this as SOLVED']"
1682095211.0	21-Apr-2023 09:40:11	rtl_433 seems to be causing Home Assistant to crash	washboard	2	12ua926	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ua926/rtl_433_seems_to_be_causing_home_assistant_to/	"Home Assistant version info:
Home Assistant 2023.4.5
Supervisor 2023.04.0
Operating System 10.0
Frontend 20230411.1 - latest

Relevant Add-ons installed:
Moquitto broker
rtl_433
rtl_433 auto discovery
MariaDB

Dongle: Nooelec NESDR Mini USB RTL-SDR & ADS-B Receiver Set

Sensors: Acurite Fridge & freezer temp sensors

The setup seemed pretty straightforward. I installed Moquitto, installed the two rtl_433 add-ons, plugged in the dongle then rebooted. Started the rtl_433 and auto discovery add-ons. The logs for the add-ons aren't showing any errors and my Acurite sensors (fridge & freezer) are picked up by the broker and get imported as Devices/Entities. I can see the current statuses.

The problem is that a few minutes after discovery, everything goes absolutely haywire. I start seeing a bunch of DB errors in HA and nothing will load, then a reboot is required. At first I was using SQLite for my DB but switched to MariaDB since it seemed more stable and less prone to corruption. I also have limited Recorder by adding a bunch of items to the exclude list, including sensors (to debug).

It's very difficult to get valid logs because it seems like something from rtl_433 being sent to the recorder is causing corruption, then everything breaks. If I unplug the dongle and reboot, it all settles down and the errors go away. Any tips or suggestions?

Edit:
I ended up buying a 4 port powered USB 3 hub and moved my z-wave/ZigBee stick, SSD, and the 433 dongle to that (with extensions). Everything is running smoothly now! The 433 dongle was just too much power draw and the SSD was likely shutting down due to the power draw. Thanks for the help!"	10	"['keyNONE: Check dmesg for an under-voltage entry. If you see one, you will probably need a different power supply.', ""mjsrebin: You probably need to move the rtl_433 dongle physically away from the Pi to prevent RFI from interfering with the internal circuitry.  Use a USB extension cable to move the dongle a couple of feet away from the Pi and see if that resolves the issue.  This is a known issue with wireless transmitters directly connected to the USB ports of the PI.  Either RFI from the Pi interferes with the radio dongle, or the radio dongle interferes with the Pi.  USB extension cables are highly recommended to put distance between the Pi and all USB radio's (ZWave, Zigbee, 433MHz, etc)."", 'Sunray_0A: All SDRs need external power on small pc’s ie Pi’s and Odroids. I’ve got them so I know 😉😎', ""washboard: I'm not sure what you mean about the power supply, as the dongle is USB-powered. I'm currently using the usb-2 port, but I intend to switch to the USB 3 when I get a better extender. According to the spec for the dongle, it only uses up to 300mA, and USB 2.0 provides up to 500mA. \n\nI suppose it's possible the older usb extension I'm using is not allowing enough power, so I've ordered a new extension for USB 3.0 and will give that a shot."", 'washboard: That was my running theory. I already have my z-wave/zigbee dongle on an extension. The only extension I had laying around was about a foot long, so the dongle is directly above my Pi by about 6"" (on a shelf). I already ordered a 3\' extender yesterday. In the meantime, I\'ll switch the extenders out to see if having the 433 dongle on the longer extender relieves the issue.', ""washboard: Now I know as well thanks to the help from the community. The SDR was done on a whim, so I hadn't really done any research beforehand. On the plus side HA is running soooo much better from moving the USB devices to the hub, switching to MariaDB, and setting up some exclusions on recorder. I should've done this much sooner!"", 'keyNONE: Are you using a rpi? If so, check if it getting enough power.', 'washboard: Yes, rpi4 with CanaKit 3.5A USB-C Raspberry Pi 4 Power Supply.', 'keyNONE: With all dongles attached, run “dmesg” in the terminal. Does it say “under-voltage” in there somewhere?', 'washboard: I ended up buying a 4 port powered USB 3 hub and moved my z-wave/ZigBee stick, SSD, and the 433 dongle to that (with extensions). Everything is running smoothly now! I think you were right. The 433 dongle was just too much power draw and the SSD was likely shutting down due to the power draw. Thanks for the help!']"
1682094402.0	21-Apr-2023 09:26:42	Has anyone gotten matter working in the docker version of home assistant?	Grand-Chocolate5031	1	12u9tto	homeassistant	https://www.reddit.com/r/homeassistant/comments/12u9tto/has_anyone_gotten_matter_working_in_the_docker/	"I’ve tried to enable the Matter integration but it just keep asking for the url to the matter server. It prepopulates “ws://localhost:5580/ws” but that doesn’t work.

I also tried creating a docker container from the “homeassistant/amd64-addon-matter-server:latest” image but all that does is crash with the error “unknown http error occured”"	5	"[""JCHHenderson: The [docs](https://www.home-assistant.io/integrations/matter/#configuration) say you need to install the matter server yourself if running HomeAssistant Container and point you to an '[advanced installation instructions](https://www.home-assistant.io/integrations/matter/#advanced-installation-instructions)' page.\n\nHave you followed them?"", 'peterxian: I have it working, yes. You cannot use the homeassistant-provided docker image, because that requires supervisor. According to the instructions at the python-matter-server repo, you have to clone the git and build the docker image yourself.', 'Grand-Chocolate5031: I did but it errors with the error I mentioned in my post. I guess matter on HA isn’t ready for prime time.', 'Grand-Chocolate5031: Can you point me to any available docs or instructions?', 'peterxian: https://github.com/home-assistant-libs/python-matter-server#dockerfile']"
1682093365.0	21-Apr-2023 09:09:25	ESPHome numbers not saving	docwisdom	1	12u9a76	homeassistant	https://i.redd.it/tcppplulh9va1.png		5	"['docwisdom: Im working on my sprinkler controller and am exposing valve durations using this code:\n\n    number:\n      - id: valve_1_duration\n        platform: template\n        name: ""Valve 1 Duration""\n        min_value: 1\n        max_value: 30\n        step: 1\n        mode: box\n        restore_value: True\n        set_action:\n          - sprinkler.set_valve_run_duration:\n              id: controller\n              valve_number: 0\n              run_duration: !lambda ""return x * 60;""\n\nWhen I change the numbers in home assistant, they don\'t save. If I reload the device page they return to 1.0. My goal is for these numbers to save indefinitely unless I change them in the device page. I expect I would only change them once or twice a year. I need them to be persistent through esphome reboots as well.', 'CurrentlyInHiding: If you look at the log while changing the number in HA, do you see the ESP noticing the change?', 'J0RD4N300: Have you tried setting the number component of the valve directly? You don\'t need to create a separate number component, just add your configuration you\'ve posted to the ""run_duration_number"" section of the valve, this is how I\'ve done mine:\n\n\n    valves:\n\n      ## Valve 1 ##\n      - valve_switch: \n          name: ""$zone1""\n          on_turn_off:\n            - switch.turn_on: auto_advance\n        enable_switch: \n          name: ""Enable $zone1""\n          restore_mode: RESTORE_DEFAULT_OFF\n          on_turn_on: \n            - component.update: time_left\n          on_turn_off:\n            - component.update: time_left\n            - switch.turn_on: auto_advance\n        pump_switch_id: $masterOutput\n        run_duration_number: \n          id: zone1_run_duration\n          name: ""$zone1 Run Duration""\n          initial_value: 10\n          min_value: 1\n          max_value: 60\n          unit_of_measurement: min\n          mode: box\n        valve_switch_id: $zone1Output\n\nIt also takes about 10 seconds for the ESP to save the number to flash after being changed.', 'docwisdom: Oh my god...thank you. I cant believe I missed that part of the documentation. Thats a much easier implementation than supplying run\\_duration and then completely separate components like I was. \n\nAre you exposing the current run cycle times to HA? If so I would love to see your code. My implementation works, but it seems not elegant.\n\n&#x200B;\n\n    sensor:\n      - platform: template\n        name: Remaining Active Valve Time\n        id: remaining_active_valve_time\n        device_class: duration\n        unit_of_measurement: ""s""\n        #accuracy_decimals: 0\n        update_interval: 5s\n        lambda: |-\n          const auto time_remaining = id(controller).time_remaining_active_valve();\n          if(time_remaining.has_value()) {\n          const unsigned int val = time_remaining.value();\n            return val;\n          } else {\n            return 0;\n          }', 'J0RD4N300: > I cant believe I missed that part of the documentation.\n\nYou didn\'t miss it, it\'s really not clear, I\'m pretty sure I found the same information you did and had it set up the way you did before working this way out.\n\nI\'m considering taking some time and doing a pull request on the page to update that kind of information because there\'s a fair few things that could be clearer.\n\n&nbsp;\n\nHere is my run time code, it\'s not pretty either but it takes into account various different run modes. It\'ll run a certain way if it\'s in auto mode, a different way if it\'s in manual mode or will just say ""Standby"" if it\'s not running\n\n    text_sensor:\n      - platform: template\n        name: ""$friendlyName Time Left""\n        id: time_left\n        lambda: |-\n                if (id($ic).active_valve().has_value()) \n                {\n                  if (id($ic).auto_advance()) \n                  {\n                    // auto-advance is enabled\n                    if((id($ic).total_cycle_time_enabled_incomplete_valves() + id($ic).time_remaining_active_valve().value() + 1) / 60 >1)\n                    {\n                      char buf[50];\n                      sprintf(buf,  ""%u Minutes"", (id($ic).total_cycle_time_enabled_incomplete_valves() + id($ic).time_remaining_active_valve().value() + 1) / 60);\n                      return ((std::string) buf);\n                    }\n                    else\n                    {\n                      char buf[20];\n                      sprintf(buf,  ""%u Minute"", (id($ic).total_cycle_time_enabled_incomplete_valves() + id($ic).time_remaining_active_valve().value() + 1) / 60);\n                      return ((std::string) buf); \n                    }\n                  }\n                  else\n                  {\n                    //auto-advance is disabled\n                    if((id($ic).time_remaining_active_valve().value() + 1) / 60 >1)\n                    {\n                      char buf[50];\n                      sprintf(buf,  ""%u Minutes"", (id($ic).time_remaining_active_valve().value() + 1) / 60);\n                      return ((std::string) buf);\n                    }\n                    else\n                    {\n                      char buf[20];\n                      sprintf(buf,  ""%u Minute"", (id($ic).time_remaining_active_valve().value() + 1) / 60);\n                      return ((std::string) buf); \n                    }\n                  }\n                }\n                else\n                {\n                  return ((std::string) ""Standby"");\n                }\n                \n        update_interval: never\n\n&nbsp;\n\nI then have this run every 5 seconds to check if the main system switch is turned on then update the time left sensor to stop it spamming the logs when the system isn\'t running.\n\n    interval:\n      - interval: 5s\n        then:\n        - if:\n            condition:\n              switch.is_on: main_switch\n            then:\n              - component.update: time_left']"
1682092836.0	21-Apr-2023 09:00:36	Machine learning for graph analysis?	FilthySeahorse	0	12u900j	homeassistant	https://www.reddit.com/r/homeassistant/comments/12u900j/machine_learning_for_graph_analysis/	"Hi all,

&#x200B;

I was thinking of using load cells for detecting several things. For example, place them under the bed for occupancy detection, under the cat's litter box to get their weight and monitor how often and how much they go litter, under a pet feeder to measure exactly how much came out of the feeder.

&#x200B;

The common problem with all these ideas is that, it takes very precise analysis of the graph data to determine some truth from it. Take the litter box for example. 

1. Over time, the load cells may drift because of being under constant load
2. Other objects may be placed on the litter box, which should not be distinguished from your cat.
3. Cat's may sit and jump on the litter box, leading to even more unpredictable results.

Of course, you can manually develop filters or an algorithm to draw conclusions from such data, but I was thinking that maybe machine learning (or something similar) may be of good use here. As you might guess, I have no experience with using ML, but I am eager to learn more about it (and this seems like the perfect project to get into it).

&#x200B;

My questions for you:

1. Have you used ML for your sensors in Home Assistant before?
2. Are there any plugins/addons/AppDaemon apps I should look into?
3. Is reinforced learning a good tool here? Is there any interface I can reuse to evaluate measurements and manually label them for what they should be (cat detected, anamoly etc.)?
4. Do you know of any similar projects/problems I should look into?

&#x200B;

Would love to hear your input!"	5	"[""djw17: For bed presence, the general advice given is that a load cell is the wrong tool for the job: stick a force-sensitive resistor under there, do a quick test of occupied vs. unoccupied reisistance, and place it in series with a constant resistor designed to maximize detection sensitivity in the range in question. [Here's a tutorial](https://community.home-assistant.io/t/fsr-the-best-bed-occupancy-sensor/365795) on a lot of the gory details of hardware setup and Home Assistant implementation."", 'arthriticpug: i have a load call under my bed to detect occupancy. it has been working fine for 3+ years. i don’t have the whole bed supported by it though, only here center support in the middle. that is enough to detect occupancy. \ni just have a couple template sensors in ha that set to true if the weight is within range. x-z and y-z where x is my weight, y is my wife’s and z is combined. works really well. it is monitored by an esp8266 and hx711 but it is going to be updated to esp32 in a couple weeks.', 'sleekelite: I would carefully consider an alternative: caring less about how much your cat shits and using the fact you weigh 100%+ what your bed does to make that an easy calculation that doesn’t require even a logistical regression, much less larger tubs of linear algebra.', 'Murky-Sector: 1> Build a test dataset\n\nRecord sensor data (or simulate it) that contains the range of scenarios you want to analyze. For example for a security system you would want the data to consist of both danger and non-danger scenarios. If you want finer grained information you will need to create finer grained categories that can be tied to the data.\n\n2> Label the data\n\nUsing your categories\n\n3> Train and test a model\n\nDivide the data into train and test datasets. Train using one set and test using the other.', ""FilthySeahorse: I don't quite follow. I did not mean to say I want to relate the applications of load cells under the bed to load cells under for instance the litterbox. Both those applications would require their own filter/algorithm I would say""]"
1682091571.0	21-Apr-2023 08:39:31	Wyse 3040 thin client - is the 16gb flash storage enough?	Rich-Burmond	0	12u8c82	homeassistant	https://www.reddit.com/r/homeassistant/comments/12u8c82/wyse_3040_thin_client_is_the_16gb_flash_storage/	"Hi all,

So I bought two 3040 thin clients from a guy I know for 35 euros. Great deal. On our local ebay ish site, they go for more than double that **per** device. They're only 2 and 3 years old and they look new.

I want to install HA on one of them. Also ordered the sonoff zigbee usb. They're 2gb ram, i know it's tight but should be more than fine to start off with.

But is the 16gb's of flash storage enough? There's no normal way to mod extra SSD or whatever. I did some research and people seem to say it's fine. What's your asterixes you put on this? :)"	11	"[""WI_Esox_lucius: 2gb of Ram should be fine.  Mine uses about 1gb out of the 4 on my Wyse 5060.\n\n16gb will be pretty small once you start doing backups or adding more things.  I have 120gb in mine and it usually runs about 60% full before a cleanup script takes it back down to like 25%. \n\nI upgraded the internal storage on mine by swapping for a larger SSD.   I bought a rather inexpensive one off Amazon and a sata extension cable to plug in the new one.  Unfortunately I don't think that's possible with the 3040.   You may want to look into booting from a SSD attached through USB if you want larger storage."", 'Lectere: More then enough....', 'vendo232: I run one of these [https://www.ebay.com/itm/115769532061](https://www.ebay.com/itm/115769532061) thin clients as well and 64GB is IMO the right size for most users. Anything lower could cause issues when you start adding addons', 'Kindly_Veterinarian3: Don’t forget that ha os now supports external storage.', ""Ralf_B: As long as you don't install too many addons, move backup external you should be fine.\n\nGot the same setup running almost a year now. Only downside I did was install Plex on it. That takes a lot of my space (movies are on external disk, it is the cache/library data). Got around 3,5Gb free."", 'Rich-Burmond: Indeed not possible sadly, but i can always figure something out to backup to for example google drive right?', 'Lectere: https://preview.redd.it/qbssnj3p1bva1.jpeg?width=1440&format=pjpg&auto=webp&v=enabled&s=4e6bd9e6edbb2a9401128890d628cd36b696afeb\n\nThis is my setup, uses 1.1 out of 8', 'Rich-Burmond: ahaaa so i can just use a usb stick or what not :o', 'Rich-Burmond: Oh cool! so u have the thin 3040 too. And u backup it through the web to like google drive? or just to a usb stick?', 'Sure-Temperature: Your picture is showing ""Memory"", or RAM. I think OP is asking about storage, like an SSD', 'Rich-Burmond: Indeed, 2gb ram, and 16gb SSD storage']"
1682087636.0	21-Apr-2023 07:33:56	Home Assistant Yellow CPU temp cooling, has anyone added a fan or vents?	c0bra99	1	12u3uxd	homeassistant	https://www.reddit.com/r/homeassistant/comments/12u3uxd/home_assistant_yellow_cpu_temp_cooling_has_anyone/	"The CM4 gets pretty warm in my Home Assistant Yellow, especially when doing cpu intensive tasks. The cpu seems to stay around 60C idle, and goes over 75C while compiling esphome updates. It is technically within the CM4 specs and shouldn't start being thermal throttled until 85C, but I'm not sure these temperatures are good for it long term.

I am considering cutting a few vents in the side of the enclosure to allow some airflow, has anyone else done this? How bad would I wreck the plastic with a Dremel to cut a few slits in each side or maybe a drill bit to add a few holes, and would it actually help?"	2	"[""Karma-Kamikaze: I know this isn't your intention but I'm reading this as bragging that you managed to find a CM4 :). Pis are designed to happily run hot, I'd put a heatsink on the ARM processor my first step if you're wanting to drop temp and see how much that helps."", ""c0bra99: Definitely not bragging, just got lucky on the CM4.\n\nThe Yellow comes with a heat sink, with a rather thick thermal pad (and it is installed). I'm sure it is helping some, but it seems rather limited what it can do since the enclosure is pretty much sealed except the ports.\n\nI also have a NVME drive installed, not sure how hot it is getting though. I need to find a way of monitoring it.""]"
1682087543.0	21-Apr-2023 07:32:23	Aqara FP2 and fall detection	Mysterious-Bowler15	1	12u3r4x	homeassistant	https://www.reddit.com/r/homeassistant/comments/12u3r4x/aqara_fp2_and_fall_detection/	"I bought the Aqara FP2 today and tried to install the fall detection but had no luck on that in the Aqara app.

And Homekit only shows Occupancy  and Lux.

Anybody knows how to set up and use the fall detection"	0	[]
1682086534.0	21-Apr-2023 07:15:34	My home assistant setup needs rescue	adalisan	0	12u342h	homeassistant	https://www.reddit.com/r/homeassistant/comments/12u342h/my_home_assistant_setup_needs_rescue/	"I have a raspberry pi 4 with home assistant 2023.3 . I was running into issues with it becoming unresponsive within 10-15 min within booting. So I decided to restore a backup to 2023.1 .  That didn't resolve the issues,
I also ran  fsck on the microsd card on my linux machine, and it found errors in the file system I could access.
Now I don't think rpi4 i's booting at all. Connecting external monitors doesn't show anything.
How do I restore to a previous backup?
Just using the micro SD card"	4	"['sleekelite: If you’re using an SD card then 1) don’t do that 2) replace it and restore from backup then figure out how to stop using an SD card.', 'tungvu256: your problem is the rpi. get a thin client. restore your backup from rpi to the thin client as seen here [https://www.youtube.com/watch?v=fEG7fDW56HE](https://www.youtube.com/watch?v=fEG7fDW56HE)\n\nmine has been rock solid in the past 2+ years', ""adalisan: How do you install home assistant on a raspberry pi, then? There's not a SATA port for storage?"", 'big-ted: Use an external SSD connected the the USB 3 port - plenty of guides on the internet\n\nSD cards are not designed for the constant writes that Home Assistant makes']"
1682086264.0	21-Apr-2023 07:11:04	How many dedicated dashboard tablets/screens do you have around your house? What are they?	mmakes	170	12u2zhk	homeassistant	https://www.reddit.com/r/homeassistant/comments/12u2zhk/how_many_dedicated_dashboard_tabletsscreens_do/	"I have quite a few dashboards around my apartment for different purposes. I'm curious what everyone has so that I can get some ideas on what dashboard projects to build next.

So I've got 6 around the house:

1. [**Main dashboard**](https://www.reddit.com/r/homeassistant/comments/uc79cv/a_maximalist_approach_on_designing_the_ha/) **at my battlestation**: A Fujitsu Stylistic tablet. The summary page is designed so that I can see what I need to pay attention to at a glance.
2. **Bedside Clock**: A hacked Lenovo Clock 2 using Fully Kiosk. So that I can see what’s going on around the house from my bed, and control the media and lights in my bedroom, which used to be separate apps.
3. [**Foyer dashboard**](https://www.reddit.com/r/homeassistant/comments/vncni6/eink_displays_are_great_for_blending_in_with_the/)**:** A Waveshare e-ink display using ESPHome.
4. **Kitchen Echo Show**: An Echo Show 8 automated to show Fire browser at all times. It replaces the slide show Amazon provides with data of my own.
5. **Living Room Dashboard**: A Fire tablet using Fully Kiosk that I can use to control my entertainment center and lights in the living room easily.
6. **My phone!**: I don't use it much but I do like to peek what's going on and maybe turn off some lights once in a while.

What are yours?

[View Poll](https://www.reddit.com/poll/12u2zhk)"	99	"['mgithens1: IMO…. The biggest mistake I see in the home automation world is that people focus on “remote control” and not automation/automatic. A tablet is good for the weather, security cams, notifications, etc… I think it is a bad concept to have a remote control to turn on the stairs light that is 4 feet away.\n\nEven worse is when using a phone/tablet is REQUIRED to control a smart bulb that is on a switched circuit and there is no physical control available at all.', 'Saxopwn: One in the entryway but it’s rarely used- I want my automations to replace the need for any sort of manual intervention', ""bleached_bear: People always say if you need a dashboard that you failed to automate correctly. While I agree  with the overall idea, more recently I realized there are some caveats.\n\nFor example: running a security system through Frigate requires a dashboard to view events or recordings, running Music Assistant requires a dashboard to choose songs or playlists. You need to create something that works on its own in terms of the every day items such as lights turning on when you enter the room, thermostats adjusting when you leave town, automatically arm and disarm an alarm, and minimize the amount of times that you touch a dashboard; however, some things just require a dashboard to function well.\n\nI have 3 identical dashboards each with a grid card: 1 computer card with 3 rows allowed, 1 tablet card with 2 rows allowed, and 1 mobile card with 1 row allowed.\n\nI find this set up works well and would recommend it to you if you'd like to try something simpler out but still optimize for different devices."", ""FALCUNPAWNCH: The idea that the existence of wall panels for home control is a failure is asinine. There are daily situations where I want to control devices at unpredictable times that can't be automated. While automations take care of most general things like lights (either on a schedule or motion activated) I like having fine control of things like locks, curtains, media devices, and certain less commonly used lights readily available. Fire Tablets can be bought used for around $20 so they've become my go to. I've got:\n\n* My phone, if that counts. I made a home screen widget for the front door lock which is super convenient when the lock works. \n* 3x Fire Tablet 7 wall mounted around the house connected to Home Assistant for easy device control. All connect to the same dashboard but have different default views based on location.\n* 1x Fire Tablet 7 wall mounted in the bathroom as a Spotify now playing display / control, which works alongside a Google Nest Mini. I was previously using a Spotify Car Thing that I bought on clearance but it died after a few months.\n* A Lenovo Smart clock in the bedroom, used for voice control and morning alarms (which get scheduled through Home Assistant because alarms on Google devices are infuriatingly inconsistent).\n* A Lenovo Smart Display, mostly used for video chatting in the kitchen/lounge and voice control.\n* A HTPC that has Home Assistant easily accessible through a Smart TV style Rainmeter icon."", 'FastAndForgetful: I’ve set up a dashboard on mobile where every control is grouped by room and no more than one click away from the Home Screen (except for the TV remotes, those you have to click into the room and then click on the TV). I rarely use it, though. Everything is either automated or runs off of a scene that I just tell Alexa to execute. If I need to manually set anything more than a few times, I put it on my list to automate', 'BillNyeDeGrasseTyson: 2x Kindle Fire HD10s using this case from [THE3DROOM on Cults 3D](https://cults3d.com/en/3d-model/gadget/kindle-fire-hd10-2019-gen9-wall-mount)\n\n1x Kindle Fire HD10 Plus using the [MagSafe Mount I designed](https://www.printables.com/model/324669-ultra-slim-magsafe-wireless-charging-in-wall-mount).\n\nAll have wiring hidden in wall and motion activation for turning on. They all run Fully Kiosk Browser. \n\nMy primary ""kiosk"" dashboard: https://i.imgur.com/l68jMMv.png', 'techramblings: I have 6 older iPads at home at the moment. The two in the kitchen and dining room respectively are just used for CCTV viewing. They do have the HA app installed, but it’s rarely used.\n\nThere are 2 in the living room: an old iPad Air displays CCTV; an iPad mini is used for HA. It’s mostly displaying lighting controls for the living room, but there are tabs for media playback etc.\n\nThere are 2 in my study/office: another iPad mini for CCTV, and an old Nexus 10 for HA. This is a much more complete dashboard showing power consumption for various devices, incoming power use, Octopus Agile energy rates, etc.\n\nAnd finally there are 2 old iPhone 6+ devices with wireless charging cases that ‘roam’ as portable light and device switches mostly.\n\nI’m a bit odd (apparently) in that when I’m at home my phone sits on its wireless charger most of the time. I generally don’t carry it around with me at home as I move from room to room. So having devices in every room rather than relying on the user’s phone works better here.', 'pinkbatman: I’m trying to get these remotes cheap enough ($40) so that people can have them in every room https://homething.cargo.site/ work in progress site!\n\nhttps://i.imgur.com/Y3FLF6U.jpg', 'isitallfromchina: I have no need for dashboards.  I can either see it on my phone, which is with me all the time or on my desktop.  I get the novelty of ""dashboards"", but again, I\'m not running a Network Operations Center (NOC) where I need minute by minute, alerting systems in my home.\n\nI have organized everything on my phone that I need.', 'maxi1134: [Is 7 too much? Here is images of most of them](https://github.com/maxi1134/Home-Assistant-Config/tree/master/.storage)', 'shrater: I am curious how you were able to get your echo show to show fire browser. Have any details or guide?', 'timsstuff: I have 2 Fire tablets and a Samsung tablet - front entry, kitchen, and bedroom. Two of them run Sharptools, the other HA. Amazon Echo and Lenovo Smart Clock because I wanted to see first hand what works better between Amazon and Google. Also have a dedicated 21"" monitor on my Plex server to the right of my desk that runs a nice dashboard with auto-entities.', 'cfarence: I’ve got 3 raspberry pi 7in screens around the house. 2 of them are mounted on the wall and 1 is on a stand on my office desk. \n\nAll three are poe powered and launch a full screen chrome window showing HA. I use all three of them throughout the day to either control lights or fans around the house or just to see days like the temperature or travel times to certain destinations.', 'Necessary_Ad_238: I have a Sonoff NSPanel in the hallway next to the thermostat.', ""MairusuPawa: None really.\n\nI was thinking of using a NSPanel to report on interesting things, such as power usage cards, or windows left open - but never got to it properly, and it also turns out you probably can't really use a NSPanel that way."", ""OCT0PUSCRIME: I understand where everyone is coming from with the whole anti-dashboard sentiment, but I don't agree, especially if you have a wife that is not as into your hobby or frequent guests. I have a tablet with a dashboard and a photo slideshow and it is the single most wife approved peice of my system. I don't mount mine on the wall, but jist have it on the side table so my control is typically within arms reach if we are hanging out in the living room. Getting another setup in the kitchen soon."", 'neminat: We have two but will be transparent in that they nearly never get used.', 'mortenmoulder: I have 3 that are almost always on:\n\n1. 15.6"" touch screen from AliExpress, powered by a Lenovo Thinkcentre that only shows Home Assistant. Located in the kitchen and looks awesome. Always on ready to be touched  😏 . Wrote a tiny post about it in Danish: [https://smarthjemmet.dk/2022/11/den-naesten-perfekte-skaerm-til-dine-smarte-dashboards/](https://smarthjemmet.dk/2022/11/den-naesten-perfekte-skaerm-til-dine-smarte-dashboards/)\n2. Surface Go 1st gen. Located in my office. Primarily shows our cameras and that\'s about it. Like to keep it on when I am at my PC, so I can always take a glance at the screen and see what\'s going on.\n3. Lenovo Clock 2 hacked to always have Home Assistant open, which has a separate tab just for my lights. Located next to my Surface Go in my office. I don\'t use it much. Should probably change the tab, so it shows something else than lights. Suggestions?', ""Fauropitotto: None. \n \nIf you have dedicated dashboards, then it suggests you need to interact with the control system of your home for it to function. \n\nWhich means we've *failed* to appropriately automate.\n\nSmart homes should be smart, not just remote controlled."", 'ohioclassic: 0.', ""PreventableMan: I would love to use a tablet in two rooms, but since we have dumb switches ('easier') to use, the wife approval factor is low. Once I get slot of money over, I'm going to change the dumb switches to ZigBee switches and then a whole new world opens up."", ""654456: 0\n\nI do have Google hubs if you want to count them I have 3. I don't need the need to see everything all the time. I have tts alerts tell me when something needs attention"", 'DntFckngWorryAboutIt: An old ipad on the kitchen counter mostly replacing a dedicated weather station with a few other status cards.', ""5h4d0w: One on my desk (WFH) that I use to control my office lighting / blinds.  Otherwise I'm all voice control and wall switches, except for when I use my phone.\n\nI use the innovelli switches and have things bound to double tap, triple tap, etc. IE walking into my bedroom and hitting the small button on there sets my bedroom lighting, turns off all the lights in the rest of my house and adjusts blinds accordingly."", 'zeekaran: Zero that are ""always on"". I primarily use my phone or website (if I\'m sitting at my desktop) to toggle lights and check stats like room temps or humidity. I have a tablet mounted next to my desktop monitor that I very rarely sometimes leave on, but overall I find 24/7 dashboards a neat but useless gimmick.', ""zeekaran: > Our home does not use dashboards at all\n\n30%, leading the pack\n\nInteresting. I think you guys are missing out on a lot, but also wondering if you use voice activation for everything that isn't an easy to reach light switch."", 'zmnatz: How did you automate putting a dashboard on your echo show 8? I have a few I’d love to do that with.', ""faeranne: I Technically have 7, though only 1 I would really call a dashboard, and that's in the main hall.  The rest are mini-displays that replace the light switches throughout the house.  The minis allow fine grain control, manual switching of the individual lights and scenes, and changing the current music.  They all also serve as endpoints for my local voice assistant, though I still am working on getting that to work right.  The main dashboard is the only one with access to other rooms, cameras, and disabling the alarm system.\n\nAt one point I intended to add more features, but for the most part I just don't use them.  I usually just use my phone if something is off, and the rest of the time the automations do everything."", 'Comfortable_Toe_836: 1 in each room, 2 in the living room, all fire HD10s with onlykiosk', ""OverZealousCreations: I'm fairly old-school, but I think I have too many set up. I was trying to replace the old 90s intercom this house had, so I used the existing wiring to power some Amazon tablets. We have 4 tablets in active use, and wiring still in place for up to 3 more.\n\nIssues I've had are:\n\n1. They crash too often. I think I can improve this, but it's low on my priority list.\n2. No easy way to enable 2-way communication with my doorbell cams within HomeAssistant, so that's a functionality loss I was trying to avoid.\n3. It's almost always easier to just use your phone, obviously. However, my daughter doesn't even have a phone yet, so the screens are useful for her.\n4. Setting them up is time consuming, and optimizing them for their actual use is just more work than I want.\n5. The rebuild of `browser_mod` changed so much that I still haven't had the time to see what will break when I upgrade, so I'm stuck on an older version.\n\nThings I like:\n\n1. Glanceable calendar & weather. We use these options far more than I thought.\n2. It can be more convenient to start music from the screen than your phone.\n3. I like being able to quickly pull up all the cameras on a larger screen occasionally.\n\nOn the other hand, I bought some of those Lenovo clocks, and I like those a lot. I have more I want to do with them still, but they continue to be useful, and they don't have batteries to deal with. Plus I got them for $20, with the wireless charger, which was a steal. We have 4 of those set up as well."", ""sic0048: I have one main display in my kitchen.  I could also bring up a GUI on my phone, but I haven't used it in years.\n\nMy approach to automation is that I never want it to replace the way you would normally interact with a device/system.  It should only add additional flexibility and automation.  If I have to use my phone or tablet to interact with something, there is something terribly wrong with that system.  It's great to add additional automation to existing systems, but it generally isn't going to change how I interact with those devices on a day to day basis.  The one exception being Alexa.  It's great to be able to turn stuff on/off using voice commands when it is more convenient to do so, but I can always use the wall switch to turn off the light too.\n\nTherefore everything functions in my house like a normal house.  Light switches on the wall, normal remote controls for TVs and entertainment systems, thermostat for HVAC, alarm system keypads, etc.  Of course the automation system changes  a bunch of stuff automatically too - which is the main point of an automation system.  It automates a lot of the mundane function of the house..\n\nNow there is a lot of automation built into my home, and I *can* use the main control panel to control most/all of it.  Admittedly there are some things that *are* easier to do at the main control panel - like changing my HVAC schedule because it's easier to see and change the schedules and setpoints from the screen vs the actual thermostats. But I don't feel the need to have displays all over my house with this information plastered everywhere."", 'Herobrine__Player: I am just in the middle of setting these up for my place.\nI have one at the front door (inside), one on the wall at the space between my desk and the kitchen next to the light switch set for both rooms. I am looking at maybe adding one somewhere in the bedroom & maybe one right next to the home theater area', 'redkeyboard: 4.\n\nEcho show in the hallway displaying cameras\n\nTablet in hallway for lights, switches, and other stuff\n\nOne in my office, one in my basement.\n\nI like to sometimes have lights on or off or in between depending on what im feeling like doing for whatever reason, not sure how i can automate reading my mind like others appear to be suggesting.', 'HTTP_404_NotFound: I only use a kiosk next to my desk.   \n\n\nI use it for real time metrics regarding my home\'s energy consumption, solar data, etc... as well as listing ""alerts"" for devices having issues, low batteries. etc.  \n\n\nLastly, it ""tells"" me when somebody is approaching my house, and displays footage from the affected camera.   \n\n\nOther then that, I really don\'t have any displays. A normal light switch is quicker and easier. Kiosks don\'t really pass the wife acceptance factor as much.  \n\n\nI have an echo show, but, the only thing it really does is look up recipes, or keep timers while I am cooking. I completely disconnected alexa from my home automation.', ""ManicMods: 4 wireless charging iPads because automations can't control everything, and voice assistants get old.  My last section of my new YouTube video shows off my video feed infused ActionTiles panels. I've also got 20 integrations in there in 15m if anyone wants to check it out!"", 'rackmountrambo: Only one. A touch screen e-paper display by the back patio door that shows the current pool and spa temp with controls for the heater and pump.', 'm2ellis: One by the front door but that’s it, it’s not connected to HA though and came with the house. I mostly only use it to control the alarm system and check the temperature outside sometimes. I will occasionally use it to change a lighting scene or manipulate the door lock (change codes, etc). We use our phones or dedicated remote devices for everything else.', 'scstraus: 3, one in the hallway, one in the living room,  and one in the bedroom.  Last 2 are the same. You can see them [here](https://github.com/scstraus/home-assistant-config/blob/master/lovelace/Tab1_Home.yaml), scroll down a little. Geared towards information blips rather than control.', ""jpmatth: Unregistered Kindle fires and old android phones all running fully-kiosk. One in each of the major rooms. There's an abandoned fully-kiosk integration that had service calls for TTS messages and playback of local mp3s; I use this for broadcasting alerts like when the washer is done or a package is delivered, and also as doorbells. I modified this old integration to stay running for now but I badly wish the current one would add TTS.\n\nAll of these have their screensaver set to show an animated gif of AccuWeather regional radar. They switch away from it when the front camera detects motion, and switch to Lovelace dashboards customized to the room. Those have a tab of various controls and info for that room, and a tab for viewing all the cameras."", ""hypersprite_: I wish I had something up on a wall but I haven't really found the time or gumption to assemble something."", 'formerswimmer32: I have Lutron pico remotes around the house programmed with scenes. I also have HA loaded on an iPad and my phone but those don’t get much use for controlling my system. I also heavily use automations to turn lights on off & control shades.', 'umlguru: None. We use our phones', ""digiblur: None. I use automations mainly with a bit of basic scene controllers or buttons combined with some voice control. We don't use the dash too often, when we do it is usually on our phones away from the house or controls."", 'kamilein: I really understand why some people say that they don’t want to have a dashboard and that everything can be automated. \nBut can someone explain how you control eg. you light on the other side of the house, when you or your kids forget to make it out?\nOr special lights with hard to reach switches?\nIs a smart button really better then a button on a dashboard and why do you think so?', ""AlexMPH: Currently  using 2-3-ish:\n\n1) Hacked Lenovo Smart Clock 2 in 'entertainment' area to control lights, multimedia devices and provide some info (weather, family calendar). Going to move this one to my bedroom and look for another Lenovo Smart Clock 2, but a black one without the wireless charging pad (current has that, and is grey and SWMBO finds that it stands out too much, she has a point in fact...)  Might get a third to put close to the main door, to switch things on/off when arriving/leaving.\n\n2) Phone (used by me and SWMBO is starting to use it too)\n\n3) Huawei m5 tablet - currently trialing a specific tablet dashboard I've made. Would like to have a couple of tablets on specific locations in the house such as the living room to do main controls of lighting, multimedia, heating, robot vacuum ... and to provide a simple source for practical stuff like weather info, family calendar and energy consumption overview. Not sure which solution is best.\n\nIn general, I'd like to have a few more small and medium sized screens around the house depending on use case :\n\n\\- as mentioned: smaller screen near main entrance for arrival/departure stuff\n\n\\- larger screen in living room and potentially office\n\n...\n\nI've been looking into possibilities, and was initially drawn to Amazon Show stuff and Google Nest Hubs (good looking, don't need wall mounting) but these don't seem to be entirely 'maintenance free' once set up. Don't get me wrong, I like to tweak but SWBO appreciates things that just work. (so I'd rather spend my time improving the HA functionality rather than keeping devices up).\n\n How have others tackled this?"", 'rcroche01: I have three tablets mounted. But they don\'t get used often for ""control"". Primarily they are status panels. The home screen is setup to display the lock status of locks, the open/close status of doors and garage bays, the battery status of sensors, etc.\n\nFrom across the room at a glance, all green means good. An open door, window, garage, or lock displays red. A low battery displays yellow or red, depending on level.\n\nOf course, I could tap on the red button to lock a door or close a garage, but we rarely do. Instead we generally have Alexa do it.\n\nThere are other screens of course. But I\'m finding that we almost never access them. Our tablets primarily function as visual status panels that everyone glances at to be informed.', ""rich33584: I've been looking at a spare surface book screen I have for months to use as a wall mounted control center but I just can't think of a scenario where it would get used.\nSecurity cameras come up on my TV when it's on if a car drives up or if someone steps onto the porch. If it's not on, a tts announcement will trigger if we are home. Otherwise, we get phone notifications. I don't even have a doorbell active anymore...\nLights work well, usually unnoticed. Bathroom fans and lights work without any hassle and thought.\nLaundry notifications, either to phones or pop up messages on the TV.\nIf we need to manually control the thermostat, we use a mobile dashboard.\nAbout the only other thing we use the dashboard for is to turn the water hoses on. My wife had a bad habit of leaving the water hose running.. They turn themselves off after an hour.\nMost things happen without any input any more. We rarely use Alexa at all."", 'flac_rules: I try to run a 3 tier system\n\nTier 1: should handle most situations, the system predicts my needs and does it for me.\nTier 2: second most used : switches that control scenes and so on.\nTier 3: tablet/phone for very fine grained control, special situations, settings that are not normally used. And sometimes if combined with other remote control needs, like watching media.', ""Complex_Solutions_20: SO much this.\n\nMy dashboards exist for only a few reasons:\n\n* Things I need to reference frequently for debugging if I suspect a problem\n* Stats I may want to check (e.g. are any thermometers needing a new battery, modem dropped signal and I can go back and look at history)\n* Things I'm still developing/testing/tuning\n* My roomate who wasn't sure they wanted a physical button to interact with the not-automated light/fan in their bedroom (I don't like automating primary-lighting, and I have a physical button for the one in my room)\n* Taking photos of holiday lights, so I can remotely turn the timer lights on/off briefly while I'm outside with the camera and then put them back to normal when finished\n* The rare time we have to put an air-bed in a common area for extra guests and I turn off all automation so they aren't disturbed by the timers and such.\n\nAs a general rule if I have to go find my phone/tablet to do something with home automation means there was a failure I need to remediate."", 'andy2na: This. A good smart home is one you never ""see"" or have to think about.', ""zeekaran: And what's cheaper, a tablet or a $10-40 battery powered button you can mount to the wall?"", ""KnotBeanie: I've found a tablet isnt the most useful for the people living there, but is more useful for guests, so I tend to add things like the wifi qr code and easy ways to turn everything off or let the home know you're leaving. They''re also usefulto pull up camera feeds when someone rings the doorbell or there is someone in the backyard at night.   \n\n\nThey're also an easy way to show others all the cool shit you installed."", 'askepticus: I’m always very curious at the living situations of everyone who says they’ve automated everything and never have to touch anything.\n\nI don’t *want* lights on in every room the moment I enter. My wife would absolutely murder me if a light turned off on her without her controlling it. We’ve had various smart devices for years and the ONLY app she has bothered to install is for the garage door.', 'MasterIntegrator: All my items have physical overrides except for 1 fan a WLED indicator tree. For this reason. all the screens, work, school, etc automation is the goal not a giant remote.   \n\n\nI finally got some serious automation set up dropped our screen time down to almost nothing. The house does what its told before it needs too. Its like the damn jetsons.', 'ayyycab: This is why my tablet is still loose as I try to figure out where it truly belongs before I start cutting into drywall to mount it (I don’t want an exposed charging cable like some animal).  \n\nI’m still struggling to figure out what it should be displaying, where in the house makes the most sense to have it, and whether or not it really makes anyone’s life easier to visit that tablet and interact with it.  \n\nAnd since I have two floors, the conclusion I usually arrive at is that I either need:  \nA) at least two tablets so I’m not traversing a flight of stairs just to see security cam feeds or something, or  \nB) to ditch the idea entirely', 'Infamous_Bee_7445: Same. I use Lutron Caseta audio and scene controllers, but have opted to use Siri in Ecobee for the rest of the control.', ""vaemarrr: I've also said many times that there are some occasions where it's not practical from a relationship and household happiness point of view to not have a dashboard.\n\nI believe that smarthome usability should be flexible and optional. You don't want to pigeon-hole someone into a single method of use.\n\nMaybe your wife is fine one day and then months later pregnant, sitting in the loungeroom eith difficulty moving and forgot her phone or not in earshot of a google home/echo device but conveniently there's a mounted or positioned tablet nearby that can do something for her that can't be automated.\n\nOr maybe you have a guest or house sitter that wants to use some of the smart home functions but isn't loaded with sensors on their phone to aid the smart home.\n\nIt should also be noted that not everyone has the budget for fancy devices, knowledge or experiences for esp style modifications and some people rent a home and cannot make major modifications to make even grander automations, sometimes you gotta make do with what ya got.\n\nA happy home is one with flexibility,  choice and ease of use."", ""Th3R00ST3R: This. My wife loves her mobile dashboard by room so she can do whatever she needs to when I'm not home."", 'CreeblySpiks: Interested in this too. Haven’t thought to look into it but sounds cool, I hate Amazon’s slideshow of ads', 'mortenmoulder: Oh and if these count: Xiaomi LYWSD03MMC temperature and humidity sensors. Got one in almost every room. They show the temperature and humidity of the room, whilst also sending it to an ESP32 running ESPHome, which is then relayed and shown in Home Assistant.', ""BillNyeDeGrasseTyson: Dedicated dashboards add to a smart home system for many things that can't practically be automated. They're not necessary for every setup but for many they add a lot of value.\n\nMy smart dashboards can pull up cameras feeds automatically when an AI-event occurs on one of the cameras. I can use them to keep an eye on the 3D printers and pause/cancel prints if something goes wrong. I can remote start my car at a time other than when I would normally leave the house, set a scene that's not based on a measurable factor, glance at the server/network statistics, or even just check the weather. \n\nThe base functionality is automated based on motion, occupancy, zones, dedicated scene controllers etc as any good home automation is but there's always times when I want some fine control or insights that require a screen."", 'KnotBeanie: If creating dedicated dashboards in HA means I failed, how would I view my cameras and clips? My weather? My energy usage? etc...  \n\n\nI agree the end goal is to have everything automated, but its hard for people to buy in when they cant see it.', 'brewditt: I don\'t disagree with this thought...BUT...my dashboards are more of a display of things like weather.  I do have an few ""switches"" for all lights on/off.', 'Ksevio: I have a dashboard that shows me data about my home. The only interaction with it is to show more data (like historical temperature for a room)', ""YesICanMakeMeth: I've got the WAF issue as well. Kind of funny since she's also the one more into home automation as a hobby (I just want a handful of practical automations e.g. more sophisticated thermostat routines, she's the one that wants to put LED light strips everywhere). She's still the one that cares more about aesthetics (rather, the one that prioritizes form over function), and a permanent fixture tablet in a main area will not pass the sniff test."", 'Smaddady: I recently upgraded to Leviton Zigbee switches/dimmers. It\'s totally worth it! My house is completely functional without knowing it\'s ""smart"". Now the WAF and visitor acceptance is 100%, until I break things in HA of course.', 'BillNyeDeGrasseTyson: I have 3 wall mounted tablets running Fully Kiosk, one with a MagSafe mount I can take off and use around the house if needed. In any case they are always off unless triggered by motion. I use the internal camera on one and the other two activate based on Zooz motion sensors that also control lighting in that zone.', 'isitallfromchina: Well, I don\'t live in a mansion where a light switch is 40 feet away.  Although my home is fairly large and I have a lot of land, its two steps from the sofa to flip a switch or use the phone app.\n\nI use my google displays to call my family in the EU.  The only people who use it to do other things are visitors.\n\nI have automation perform 99% of what is needed.  Garage is Open, button to close.  Alarm is set, sure.  Doors are locked.  Home security check; check.  Away functions.  Open / close blinds.  increment blind open/closure based on temp or time of day! set thermo!\n\nIf my family has to use a tablet or even myself, something is not right in Kansas.  \n\nTablets are the ""honeymoon"" factor of H.A. They are fun for a while and great to show off to friends and all, but who needs a static butler!', ""donald_314: yeah, automations are great if they don't get into the way. If I have to constantly revert their actions or toggle them they are worse than having none. So I do it like you. I have basic reliable automations, switches for scenes (for the whole flat) and the rest via phone/tablet/pc."", ""Th3R00ST3R: I use a mobile dashboard on my wife's phone so she can control anything she wants (turn on the spa and set the temp to whatever she wants, turn on off the tv/av/shield components, turn on and off lights etc..) when Google doesn't want to listen to her."", ""KnotBeanie: I'd like to add to this, I have a nice UI for weather, FD dispatch info, Cameras & doorbell, manual irrigation control (one zone is used to fill the pool), and energy usage"", ""faeranne: Correction, the *best* smart home is one you never see.  A *good* smart home does it's best to be invisible.  The real problem is most commercial smart homes are *bad*, cause they actively get in the way instead."", 'Complex_Solutions_20: I suppose also and the location...the $10 button in the bathroom for an easy to reach exhaust fan control (what yahoo put the switch WAY across the far side?) gets no funny looks.  I suspect a tablet with all its internal cameras bolted to the bathroom wall may get some awkward questions, especially from guests.', ""FALCUNPAWNCH: You can actually get used Fire tablets for $20 (when in stock). Decrapify them with Fire Toolbox and you've got yourself a great cheap wall panel."", 'mgithens1: Well, you’re describing a very terrible setup… with extremely basic motion sensing.\n\nThere are many ways to overcome the issues you’re describing…. mmWave presence detection, conditions in the automation to avoid false triggers, etc.', 'mgithens1: We kickstarted those Sonoff NSPanels and with the ESPHome hacks… the panel is proving to be better than any of the tablet solutions I could come up with.', ""Fauropitotto: Literally everything you've described could be handled by your phone or your smart watch. Having to walk over to a wall or desk mounted tablet to get this data at a glance is woefully inconvenient."", 'vaemarrr: Not that I am disagreeing with you but some of those things can feed you information audibly instead of visually.', 'Fauropitotto: I get weather alerts, forecasts, daily summaries, calendar reminders, 3D printer notifications, etc, on my watch. So much more convenient and it follows me away from home.', ""vaemarrr: Just tell her it adds value to the home and reputation when people see a digital display. You instantly look like you're rich."", ""PreventableMan: That's the thing! Unknowingly smart is my need. Thanks though,I'll look those up and run them by my better half to see if the buttons looks good enough :)"", 'zeekaran: > In any case they are always off unless triggered by motion.\n\nWhen I say 24/7 dashboard, I do not mean that it is on 24/7, but that it\'s primary usage is to be a dashboard most of the time. I mean to differentiate from a multi-purpose device for reading or watching videos on with HA dash as a secondary (or lower) purpose. As OP asked, ""_dedicated_ dashboard tablets"" vs tablet that is sometimes a dashboard but less so than other things.\n\nI have a tablet that I sometimes (less than once per week I expect) use as an HA dash, but it\'s primarily an ereader for me. So I believe I am supposed to answer the poll with ""none"".', 'zeekaran: My living room is annoyingly small, and I am not physically disabled in any way, but the light switch being >6ft away means I\'m going to either use the app or an NFC tag I stuck to the table.\n\nWhen you say you use the phone app, are you not using a dashboard? Perhaps OP has created extra confusion by not properly defining terms.\n\nI can agree on the tablet criticism, but I thought ""HA companion app for Android"" counted as a dashboard, because HA calls the Lovelace UIs ""dashboards"".', 'The_Marine_Biologist: Having never looked at fire tablets what model would you recommend?', 'vaemarrr: These solutions require money and sometimes your home is a limiting factor (ie: if you are renting). Cost of living means these luxuries sometimes take a back-seat. But yes, there are choices.', ""BillNyeDeGrasseTyson: Personally I don't carry my phone around my house with me when I'm home. And doing literally any of those things on my smart watch sounds awful. This is my personal preference, your experience is obviously different.\n\nThe phone is also too small to view multiple 3D printers or multiple camera feeds at once and still be able to discern what is going on.\n\nI have scene controllers and smart switches that I use when the need arises but the tablets serve a purpose for fine tuning far beyond their functionality and getting much better instantaneous access to a larger swatch of information."", ""androidusr: Here's the flip side of what you're saying.\n\nA lot of people who use dashboards are doing it not to turns lights on/off, but to monitor stuff.  Often, people who don't have dashboards just don't have much to monitor.  They don't have extensive electrical power monitoring, water usage, window/door sensors, cameras.  They don't automate the display of information like when their washer/dryer is complete and needs pickup.  Or reminders to close the garage door at night, etc.\n\nIt's a failure to have to take out your phone to see if you left the hose running outside, because you'd never remember to do that.  It's a failure to need to go find your phone to see who's walking up a driveway.\n\nIt's like a clock on a wall.  Having to dig out your phone to see the time is much less convenient than just being able to look up at the wall.\n\nEdit:  it sounds like you have a dashboard - on your wrist rather than on a wall, lol."", ""BillNyeDeGrasseTyson: Understood, that makes sense. \n\nThe tablets I use were $30 on woot and aren't good for much else."", 'isitallfromchina: Yeah, I use the HA companion app.  Really never considered it a ""dashboard"" but I can see where some would, sorta make sense.  \n\nSo I also went down the path of automating things like blinds closing when movie starts, lights dim, popcorn machine starts (oh gotta buy that)! and the wife just said, WTF, if I want the damn lights out, I\'ll turn them out and I like looking out over the back yard, so leave the blinds alone!.  There went that and eventually I agreed with her logic!\n\nI mean even automation can be intrusive to a point.  I don\'t want to look at anything ""at a glance"" I should be notified that it\'s happening.  I mean, if there is something that is so important for you to view on a dashboard, it should be automated to send you a notification or just provide updates, right.\n\nI\'m no longer in the geek honeymoon!  It\'s now grownup time!', 'FALCUNPAWNCH: Most people recommend the new 8 or 10 for performance reasons, but I went with the oldest cheapest ones I could find for price. You can find the old 2019 Fire Tablet 7 [here under ""See All Buying Options, only $18.70 at time of writing""](https://www.amazon.com/gp/product/B07FKR6KXF/). Alternatively [here\'s a listing for the old used Fire Tablet 8](https://www.amazon.com/dp/B01J94SWWU/). Just know that these tablets are old, slow, and have unacceptably terrible software. They\'re only really usable if you use [Fire Toolbox](https://forum.xda-developers.com/t/windows-tool-fire-toolbox-v30-2.3889604/) to remove most of the bloat and even then they\'re underpowered but can work well as wall panels. I talked about a few of the steps I did to make them more useable [here in a different reddit thread](https://www.reddit.com/r/homeassistant/comments/11k6owc/comment/jb62yx0/). If you do go this route, make sure you do not connect the tablet to the internet before you debloat it using Fire Toolbox and disable auto updates. Otherwise Amazon will patch the exploits used by Fire Toolbox and do things like re-enable lock screen ads or run performance and memory draining services in the background.', ""Fauropitotto: Consider using an app called *Printoid* to view multiple 3D printers from your phone. I have it integrated with Octoprint, and you can link multiple instances. \n\nFor a smartwatch, 3DPrintStatus can show a feed, but to your point, it's very difficult to see what's going on a video snapshot sent to a smart watch. \n \nI'm never *not* connected to all information at all times, so the notion of not having a phone on my person or within arms reach 24/7 is completely alien to me. Throw in smart assistants, maybe some voice assistants and you could have full connectivity to all data at any time without needing to walk to a dedicated device. \n\nMaybe some younger folks are okay with being disconnected, but I'm not."", ""Fauropitotto: You should probably fully automate all your monitoring needs. \n\nYour life could be much easier that way. \n\nIf you're prone to leaving the hose running, or leaving the garage door open...you should probably automate those too. \n \nFor every instance of monitoring or forgetfulness, I've automated it, so I no longer have to put eyes on it."", ""zeekaran: Wow quite a steal! Batteries probably don't last as long as a button though."", ""The_Marine_Biologist: Thanks for the info. It looks like I can't buy them in my region, bit a shame.  My cheapest wallmount tablet option will be a new Lenovo p11 or something similar. \n\nI would love a echo show 15, but they patched all the exploits so it can't be used a dashboard anymore."", 'BillNyeDeGrasseTyson: I use OctoApp. I find it works reasonably well for the 6 printers I normally use.\n\n3rd party apps on my Garmin watch are tedious at best which is fine, that\'s not why I bought that watch. \n\nThere\'s never a case where I need to get up and walk to a screen to accomplish a task, my phone usually isn\'t too far away or anything, but a 10"" tablet that automatically pops up to my HA dashboard when I approach it is infinitely more convenient than having to scroll on my phone if I\'m already walking past it. \n\nOne of the dashboards is also magsafe so I can take it off the wall and drop it next to the printers if I\'m working with bed leveling or something that requires a lot of octoprint interaction.\n\nAt the end of the day I like having the option to have my control in multiple places with ease of access to information that a phone does not do as nice of a job providing.', ""vaemarrr: I agree with everything you have said, however, sometimes you need to also consider guests and/or the wife or kids who may prefer/need to have a nearby dashboard to check things.\n\nHaving no dashboard is fine if you are the only person using the smart home but it's not always practical in maintaining relationships or making others lives enjoyable."", 'androidusr: Most of these aren\'t really things to ""automate"".  Like a clock, it\'s just something you want to ""know"", without having to dig out a phone.  It\'s like displaying the weather, or the time.  It\'s making visible things that aren\'t, rather than automating a routine action.  You wouldn\'t get rid of clocks in favor of only having alarms.', ""Fauropitotto: My solution for that was to install HA on the wife's phone and place NFC tags for anything that she uses regularly in a way that can't be automated. \n \nThis way she still won't need to interact with a dashboard, she just has to tap her phone on various tags and *things just happen*.""]"
1682085765.0	21-Apr-2023 07:02:45	Publish an mqtt msg upon receipt of an mqtt msg?	fahrvergnuugen	2	12u2qyp	homeassistant	https://www.reddit.com/r/homeassistant/comments/12u2qyp/publish_an_mqtt_msg_upon_receipt_of_an_mqtt_msg/	"Is it possible for Home Assistant to publish a specific MQTT message upon receipt of a specific MQTT message?

How would I set that up?"	3	"['ingrove: It\'s pretty easy as long as you have MQTT active in Home Assistant:\n\n    description: Basement Light\n    mode: single\n    trigger:\n      - platform: mqtt\n        topic: stat/BasementSW/RESULT\n        payload: ""{\\""Button1\\"":{\\""Action\\"":\\""SINGLE\\""}}""\n    condition: []\n    action:\n      - service: mqtt.publish\n        data:\n          topic: cmnd/BasementSW/Power2\n          payload: ""1""\n\nHope this helps!', 'sleekelite: https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem', 'fahrvergnuugen: It does. Ty!']"
1682084194.0	21-Apr-2023 06:36:34	My homemade mini greenhouse irrigation monitor	Pimentoso	18	12u1zh2	homeassistant	https://www.reddit.com/gallery/12u1zh2		5	"[""Pimentoso: Put this frankenstein together with Aliexpress parts, I still need to connect the pump to the relay because it came with too short wires.\n\n* dht temp/humidity sensor\n* capacitive soil moisture analog sensor\n* 5v relay connected to a mini pump\n* a small phisical switch to manually trigger the relay\n\nThe tricky part was to calibrate the analog soil sensor, I'm using a sliding window average to even out the readings and it's being reliable for now. I can post the YML if anyone needs it."", 'rinaldo23: Pompa! :)', 'Unhappy-Oil: Would be great if you could give me a hint how to integrate the analog sensor correctly, currently working on mostly the same thing :)', 'Pimentoso: Sure. This thread helped me a lot [https://community.home-assistant.io/t/soil-moisture-sensor-output-as-a-percentage/250885/11](https://community.home-assistant.io/t/soil-moisture-sensor-output-as-a-percentage/250885/11)\n\nBasically I just hooked the sensor to the only analog pin of the Wemos D1, and in Esphome you get the voltage. The voltage changes with humidity, so in the Esphome logs I checked the voltage when dry (about 0.69v) and when soaked in a glass of water (about 0.29v), that would give me the limits. Then just use calibrate\\_linear on those 2 values, and add a sliding\\_window\\_moving\\_average to even out the readings (analog readings can jump quite a bit)\n\nThe resulting YML is the following\n\n    - platform: adc\n      pin: A0\n      name: ""${device_name}-moisture-voltage""\n      id: moisture_voltage\n      update_interval: 10s\n      state_class: measurement\n      accuracy_decimals: 3\n      filters:\n      - sliding_window_moving_average:\n          window_size: 12\n          send_every: 12\n          send_first_at: 12\n    - platform: template\n      name: ""${device_name}-moisture""\n      unit_of_measurement: ""%""\n      device_class: moisture\n      state_class: measurement\n      accuracy_decimals: 0\n      lambda: |-\n        return id(moisture_voltage).state;\n      filters:\n      - calibrate_linear:\n          - 0.69 -> 0.00\n          - 0.29 -> 100.00\n      - lambda: |\n          if (x < 0) return 0; \n          else if (x > 100) return 100;\n          else return (x);\n\nIt\'s quite reliable as long as you don\'t move the sensor once it\'s inserted in the soil.', 'Unhappy-Oil: Thanks for sharing!']"
1682083474.0	21-Apr-2023 06:24:34	Connection pool is full	Ronyn77	1	12u1nde	homeassistant	https://www.reddit.com/r/homeassistant/comments/12u1nde/connection_pool_is_full/	"Logger: urllib3.connectionpool  
Source: components/tuya/base.py:275  
First occurred: 20 aprile 2023 alle ore 09:29:46 (87 occurrences)  
Last logged: 14:53:15

Connection pool is full, discarding connection: openapi.tuyaeu.com. Connection pool size: 10  
Logger: urllib3.connectionpool  
Source: components/tuya/base.py:275  
First occurred: 20 aprile 2023 alle ore 09:29:46 (87 occurrences)  
Last logged: 14:53:15

Connection pool is full, discarding connection: openapi.tuyaeu.com. Connection pool size: 10

This message is constantly displayed in the log, and usually, the Tuya integration suddenly stops updating the smart bulb's state. The state shows as 'off' even if it is actually 'on', and I need to restart Home Assistant. I am not sure if the second problem is related to the first one, but I am experiencing both issues.  
Another option is to call the 'reload\_config\_entry' service, which fixes the problem for a while. However, the error occurs again sooner than if I were to restart Home Assistant.

 Is anyone else experiencing the same or a similar issue?"	0	[]
1682078712.0	21-Apr-2023 05:05:12	Create a delay to Conditions in automation	LogicalAd5897	1	12tzl9n	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tzl9n/create_a_delay_to_conditions_in_automation/	"Hello,

I have an automation that I need to add a delay to in the conditions.

At present:

**TRIGGERS**

* When Kitchen Sensor detects motion

**CONDITIONS**

* If no-one is home;
* Kitchen Sensor starts detecting motion;
* It's not between 09:00 & 11:00 on Tuesday;
* Cats are not present

**ACTIONS**

* Send notification via mobile app.

&#x200B;

The issue I have is when the cats enter the cat flap, the kitchen sensor picks up on this within seconds, however the cat flap sensor takes a few extra seconds therefore we get a notification that there is movement in the kitchen. We don't want notifications if the cats are in the kitchen otherwise our phones would be getting notifications constantly!

Therefore, if I could somehow add a delay in so that if motion is sensed and then the cats enter the house with 10 seconds, we won't get a notification.

&#x200B;

Hope that makes sense.

&#x200B;

Thanks."	3	"[""tiberiusgv: You can add conditions to the action section and therefor you can put it after a wait. something like: \n\n**TRIGGERS**\n\n* When Kitchen Sensor detects motion\n\n**CONDITIONS**\n\n* If no-one is home;\n* Kitchen Sensor starts detecting motion;\n* It's not between 09:00 & 11:00 on Tuesday;\n\n**ACTIONS**\n\n* *wait 10 seconds*\n* *Condition: Cats are not present - proceed if true*\n* Send notification via mobile app."", 'lakelife86: Not sure which sensor you have but could you place an ignore zone over the cat flap? This way it will just ignore that motion all together. \n\nAlso do you have a sensor on the cat flap? If so could you just put logic in that if kitchen sensor senses motion AND cat flap senses motion to ignore, otherwise alert.', 'JCHHenderson: Turn it around.\n\nMake the movement the trigger and the flap-moving a condition.']"
1682077346.0	21-Apr-2023 04:42:26	Coral USB Accelerator in stock at The Pi Hut!	andrewrmoore	21	12tz1rl	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tz1rl/coral_usb_accelerator_in_stock_at_the_pi_hut/	"[https://thepihut.com/products/coral-usb-accelerator](https://thepihut.com/products/coral-usb-accelerator)

Go go go! Waited months for one to become available."	14	"['add45: Fyi to have it shipped to the US costs roughly $120 after GBP conversion and shipping.  Almost not worth it compared to ebay prices lol', 'myromeo: I got the email too. I’ve pre ordered one at Farnel so hopefully that’s close to delivery too. Thanks for sharing.', ""connelhooley: Thanks so much for posting, I'd kinda given up hope of getting one in the UK. Just placed my order!"", 'dr_raymond_k_hessel: Is a coral useful to Blue Iris?', 'Shehzman: At this point I just got the mini pcie version with an adapter from Amazon for $50 total. Ordered the coral yesterday from mouser and it’s arriving today.', 'OGstearic: If you use [codeproject.ai](https://codeproject.ai) for your object detection you can as of version 2.1.1.', '_Rand_: They are identical other than the form factor correct?\n\nBecause I just installed one a few days back.  Cost about $80 CAD tax/shipping included with an adapter.', ""add45: That's a great deal"", 'Shehzman: Yup', ""louislamore: I'm in Canada too - where did you get yours? What device did you install it on?"", 'qupada42: The [mini PCIe](https://coral.ai/products/pcie-accelerator), [M.2 A+E](https://coral.ai/products/m2-accelerator-ae) and [M.2 B+M](https://coral.ai/products/m2-accelerator-bm) versions are all effectively the same.\n\nThe [M.2 E](https://coral.ai/products/m2-accelerator-dual-edgetpu) is the sole outlier, as it has two chips rather than one.', '_Rand_: I got it from mouser.  I believe it was $35 + 20 shipping but I got one for someone else and we split shipping.\n\nAnd I installed it in my unraid server, just a generic computer with a free 4x slot.', 'louislamore: Thanks. To answer your earlier question, there appear to be some differences other than form factor, but performance is the same: https://stackoverflow.com/questions/62536146/comparison-between-usb-and-mini-pcie-interfaces\n\nDid you read into using a stand alone device vs on your server? Trying to decide if I should put it on my NUC or get a separate NVR device.', '_Rand_: I mainly just don’t want another device running, so I’m just using frigate in a docker.\n\nTheoretically I may move it in the future as requirements for NVR duty are pretty low and I don’t have a spare slot for a HBA in my server now, so if I have to I will but for the foreseeable future it will do.\n\nOh, and since that link of your brought up temp as a factor, mine seems to run between 35-40°c,  with pretty good airflow but no added heatsink.  So it runs pretty well as a pci card if that is going to be potential factor for you.']"
1682076664.0	21-Apr-2023 04:31:04	Running AdGuard on its own RPi or as addon to HA within VM questions	RoachForLife	2	12tyrvs	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tyrvs/running_adguard_on_its_own_rpi_or_as_addon_to_ha/	"Hi all, new to HA (day 2). I actually did a PiHole a week ago which is working nicely, and for the moment using my NAS to virtualize HA so I can test it out (have only 1 Pi). What Im wondering is, since i have only 1 Pi I can do one of the following (and of course get another Pi at some point)

1. Run PiHole/Adguard on the RPi 3 and HA as a VM on the NAS as is
2. Run both HA and Adguard on the RPi, and take the NAS out of the equation

Ive been monitoring the hit to the NAS with HA and right now it seems like my memory usuage on the NAS goes from 55% with VM Station off complete to about 75% when VM Station and the HO VM is running. That is with default settings of 2gig max memory and 2cores.

&#x200B;

Anyhow I guess this is more of a question about seeing which option makes more sense. I have only used PiHole but from my reading Adguard is pretty comparable. Also unsure if any issues with not running the DNS side as its own separate device, etc. On the flipside, I know SD cards is a real issue so Im thinking maybe keeping it on physical HDs from my NAS could be a good thing maybe. Anyhow, any thoughts greatly appreciated!"	10	"[""2c0: I run both on a RPi 4. Had to upgrade from the 3 as it simply doesn't have the memory to run HA and additional addons.\n\nMy advice would be to continue with the NAS until you are confident HA is for you. If you then decide you want more, either upgrade to a Pi4 or better yet some form of micro PC and use that as a dedicated host. Just use an SSD as the SD card causes so many issues."", 'Slippery_Silvia: I went away with running adguard through homeassistant as whenever I updated or needed to reboot it would take out internet for a short while. Not sure if their was a way to set it up so that didn’t happen. \nNow have adguard running in it’s own container through proxmox and can reboot homeassistant now without any network outages. \nI would probably keep it on the NAS.', 'MowMdown: If you give a VM 2GB of memory, those 2GB are completely taken away from the NAS which is why you see a 25% reduction in free memory.\n\nI assume your NAS has 8GB?\n\nIMO Id personally run HA on your NAS as running it on an rpi kinda sucks. I’m running HA on my RPi 3B and I’m at the point I’m gonna move HA to my Unraid box.', ""RoachForLife: Thanks for the feedback. Not sure if you'd know this, but if I get things running in the VM, the backup from the VM image could be restored to the RPi4? Unsure because different methods so not sure if that causes issues"", ""RoachForLife: It's a ts 453A with 4gb actually. Will continue to try on the Nas since I have the hardware already. So far it seems okay despite the added memory usage but will continue to monitor."", ""2c0: Good question. I have no idea, I did a restore from Pi3 to 4 so I know that works..\n\nCreate a backup on the VM, install HA on the Pi3 and try to restore it from the VM backup.\n\nIf it works, it'll work on the RPi4 too."", ""LifeBandit666: The VM image may not backup, but I'm almost certain that if you make a backup of Home Assistant in Home Assistant it will work in a second instance of Home Assistant. \n\nI did it when I was trying to move from a Pi4 to an old laptop. I was astounded that it was basically exactly the same, completely free transfer. \n\nI ultimately had some issues with the laptop so it ended up in the bin, but the backup worked really well."", ""RoachForLife: Although I'm reading I can upgrade to 8gig which tbh I didn't realize till this moment I could do lol. Will definitely be doing that since it's pretty cheap"", ""RoachForLife: FWIW I Just had the VM HA do a full backup and it seems to have worked. Showing 0.2mb. So hopefully that means I would be ok. I just wasnt sure if something different in the config of the VM method vs the RPi method where applying the settings from one to the other would conflict, but perhaps it doesn't matter (which I hope is the case)"", ""LifeBandit666: Like I say, I'm pretty sure you'll be fine""]"
1682076588.0	21-Apr-2023 04:29:48	In search of advice: Home Assistant pairing with a 1980 old house	crepuscopoli	0	12tyqq4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tyqq4/in_search_of_advice_home_assistant_pairing_with_a/	"
Hi there, 
for an old house built in 1980, with an old electrical system, what kind of hardware solutions, starting from the necessary `integrations` for the Home Assistant, up to suitable artificial lights, would it be recommended to buy?
We would like to control the whole system through an e-ink, touchscreen dashboard display, and ofc the classic digital dashboard, to be controlled from a PC/smartphone, even remotely (when needed).

**The main functions for which Home Assistant is needed:**

* management of artificial lights: automate scenarios in which to vary the values of Temperature and Intensity of the Lights.
 * intercom management: automate gate opening/closing management.
  * security management: automate sending of a notification alert in case of break-in of an unidentified external object in the property
* solar system management: automate scenarios in which battery or grid withdrawal varies.
* scenario management: automate ""at home"" and ""away from home"" scenarios, and, ""night"" and ""day"", etc.
* vegetable garden management: automate the maintenance of the vegetable garden, garden and everything concerning the area outside the house, if applicable.
* house chore management: automate house maintenance/cleaning/chores where possible.
* voice assistant management: possibility of recalling all the Home Assistant functions mentioned above through a voice assistant that runs locally and not the usual alexa, google, etc.

**About artificial lights, what would be appropriate? LED Strips, Bulbs, Tubes?** 
The requirements for both internal and external lights are as follows:

* Compatibile with home assistant (Temperature, intensity control, etc).
* CRI >90
* Flicker Free (It must not have flicker, PWM frequency at 0hz or absent. Beware of flicker free which are just marketing)

**About the house**
The house is about 70sqm, kitchen/living room, bathroom, bedroom and master bedroom, hallway, large courtyard, garden, vegetable garden and veranda.

I am a user of LightPhone. At home we don't use TV or Smartphone, but I could access to the android operating system via the LightPhone in case of emergencies. For this reason, I intend to use Home Assistant on the e-ink dashboard, or vocally, when I'm present at home. I state that I use Home Assistant because I believe it is essential to automate useful things and obtain new functions, not to have ""persistent"" control over the home.

I await your advice! Thank you all! :)"	13	"[""FishScrounger: 1980s is an old house?\n\nI've used HA in a house built in the late 1910s and another built in the early 90s and the wiring was a hell of a lot easier to do in the latter!"", ""xaris33: Stay away from tuya WiFi stuff. \nSmartify the switch, not the light. Shelly mains devices are great, I'm sure there are others.\nWhen it's time to decorate run neutral to your switches.\nGet a good zigbee coordinator. Use zigbee for anything battery powered.\nDon't buy anything that doesn't work locally and needs a cloud connection.\nA thin client from the last 10 years with a SSD will run ha great for less money than a pi and very low power. Upgrade only if you need video detection stuff.\n\nThis should get you started."", 'sleekelite: yes, of course you can spend a lot of time configuring all that.\n\nfor lights, Hue is almost always the best choice (with Hue hub).', ""W0HEY: Dang, a house built in 1980 is pretty much still brand new. I've been steadily building out more and more automation in my house, built in 1908.\n\nThere have been no real specific challenges due to the age of the place, except that basically none of the light switches have a neutral wire available in the box. This is likely also true of many switches in your house.\n\nThe lack of a neutral rules out the use of most smart switches and dimmers. I used a few Lutron Caseta dimmers for a while, because they do not require a neutral. But they require having Home Assistant talk to the proprietary Lutron hub. That annoyed me. So I've moved to using ZigBee smart bulbs in all my lights, and leaving the light switches turned on or bypassed entirely. I use assorted types of ZigBee remote stuck to the walls to provide local control without having to pull out a phone.\n\nI do at least have a modernized HVAC system with a WiFi thermostat, so integrating that with HA was no problem.\n\nIf I did want to use more smart switches, I would have to rewire some rooms of the house to bring neutrals to the switches, as required by current electrical code. Which I really should get around to doing anyway, as much of the old wiring is old cloth wrapped cable or knob & tube.\n\nIn short, almost anything that can be done in a house built in 2023 can be done in a house built in 1923, or older."", 'crepuscopoli: Wow!! Well done!', 'brintal: Shellys are great but please make sure to flash them with Tasmota or esphome.\nI found them to be highly unreliable with the stock firmware.\n\nInstead of Shelly you can also get [in-wall ZigBee switches](https://sonoff.tech/product/diy-smart-switches/zbmini/) which basically do the same thing as the shellys but operate on the ZigBee network which is a big advantage IMO.', 'crepuscopoli: What do you mean by hue?', 'ackens: To be honest: I use the ConBee II with deconz (you could also use ZHA in HA) to connect 374 Devices without any issues whatsoever. The Hue bridge craps out at 50 devices already and is more expensive for less functionality. The Hue lamps are great though, but very expensive compared to for example IKEA Tradfri.', ""brintal: I'm using mostly cheap Ikea Tradfri Bulbs and have zero issues with them. Also the two budget bulbs from Lidl are working great. \nI'm sure Hue products are great but if money is at least a bit of an issue it's definitely worth to look at other (cheaper) options."", ""FishScrounger: Everything you're asking for seems to be achievable. It'll be a fun project!"", 'sleekelite: The preeminent brand of zigbee-controllable light bulbs (and associated things).', 'crepuscopoli: Do you have any tip?', ""FishScrounger: Plan everything out, look into everything you might need, and ask lots of questions. It's not uncommon to replace stuff further down the line and think 'I wish I'd done it this way to begin with'""]"
1682075728.0	21-Apr-2023 04:15:28	Designing a new smart home from scratch - lighting circuits	mouthpiec	2	12tyehj	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tyehj/designing_a_new_smart_home_from_scratch_lighting/	"Hi,

I am going through the best options to make all my switches smart.

One of the ideas I like is to make a small distribution box in (almost) every room, and terminate all the wiring of each room in this DB Box. It might be an overkill, but I think it is future proof.

My idea is to terminate the power (L+N) in a DIN controllers (zigbee or zwave), which will control the lights, but also I would like to control these DIN controllers with the wall switches. 

From experience, what do you think? Are there any good and reliable DIN controllers on the market?

And what about two-way switches? Can a single load be controlled by two switches without an automation in the background?

I am attaching a small diagram of what I have in mind

https://preview.redd.it/1wbpf38r08va1.jpg?width=1104&format=pjpg&auto=webp&v=enabled&s=a0f545b676f7d28bb05205a562ec08b9ad23ccaf"	12	"['bwente: Add this one to your watch list. \n\nhttps://www.crowdsupply.com/slaesh-gmbh/smahoo', 'FreakLikeMe0991: I never used it but this looks like it might be what your looking for.\n\nhttps://www.shelly.cloud/en/products/shop/shelly-pro-1', 'bsmith76s: why not change the switches out with smart switches? Not very hard and easier to add to HA I use a variation of switches from ZWave and WiFi switches that I flashed with Tasmota.', 'mouthpiec: thanks', 'mouthpiec: thanks ... found a schematic of a similar product\n\n[https://www.shelly.cloud/documents/user\\_guide/Shelly\\_PRO\\_2\\_multilanguage\\_v05\\_web.pdf](https://www.shelly.cloud/documents/user_guide/Shelly_PRO_2_multilanguage_v05_web.pdf)', 'mouthpiec: mainly cosmetic... i didnt like any designs and also i need switches and sockets same design', 'FreakLikeMe0991: Yes they have in one two three and four variants', 'UngluedChalice: Have you checked out Inovelli’s stuff? Their designs are slick. Hard to get a hold of product though.', 'mouthpiec: yes they look what I need .... do you know how can make this work with a two-way circuit? i.e. if I can control a single bulb with two wall switches without using an automation? I know I can use an ESP connected to one switch, that will send a signal to HA, but I would like to avoid this if possible', 'mouthpiec: it seems their switches are smaller than we use .... here a switch backbox is a 3x3 squarish box', ""FreakLikeMe0991: As I said I never used it and I'm not an electrician so I can't help you with that. I do know that Shelly support can sometimes be very helpful. Reach out to them with your questions and they should be able to help you. They have helped me in the past with other products."", 'mouthpiec: thanks for your input! will check directly with them']"
1682075093.0	21-Apr-2023 04:04:53	Shelly Dimmer 2 inside my bedside lamp has decided to start switching on at 2am every night. Logs do not provide a reason or answer. How can I stop this night terror?	shittywhopper	2	12ty5od	homeassistant	https://i.redd.it/806327u3z7va1.png		10	"['shittywhopper: To anybody that finds this post, the solution was to disable the scheduled reboot on my wireless APs which I had recently enabled for 2am.', ""shittywhopper: This dimmer has been installed for ~12 months without issue. I have another dimmer in the opposite bedside lamp which sometimes has the same issue at exactly 2am. However a third dimmer in my ceiling light has no issue.\n\nThe logs here seem to show the dimmer becoming unavailable at exactly 2am, then becoming available and the light coming on.\n\nI've searched for some kind of scheduled reboot but there's nothing in the webGUI and nothing in the documentation online. Besides I have not made any changes there since installation 12+ months ago.\n\nI tried to set the lights to default OFF when power is restored but it did not help."", 'xyZis: Strangely I have a similar problem with the dimmer. It randomly turns on at night and turns on by itself after I turn it off either via app or wall switch.\nAlthough I’m not using NoteRED. It’s weird I haven’t resolved it yet.', 'Rev-777: Are you running NodeRED?', 'shittywhopper: Yes I am running NodeRED and these lamps are included in some flows..', ""LifeBandit666: Not OP but check those flows and refine them with turn on and turn off commands instead of using toggle. \n\nI'm always a bit wary of using the toggle command for exactly this reason. Instead, use the node to check the state of your device and if it's on, use turn off, and if it's off use turn on command. It does the same thing at the end of the day, it just checks it's state first. \n\nThat way you can refine it again later by adding more conditions, is it off and past a certain time? Is it off and people are sleeping? Is it off and there's a guest staying? That kinda thing.\n\nEdit:  I'd also have a look in your Shelly settings for what it does in a power loss state. Is it set to turn on when power returns? Or is it set to go to the last state recorded. I don't have a Shelly so I don't know if there is a menu, I just know that I can do this with my Zigbee stuff."", ""shittywhopper: Thanks for the suggestions.\n\nRegarding power on state, it's default to OFF in the Shelly config.\n\nTbh NodeRED is overkill for the trigger and action being performed. It's only exists so a physically disconnected switch by the door can toggle the bedside lamps over the network. I've now replaced it with a native HA automation which hopefully won't have the same bug.\n\nThanks!"", 'Rev-777: This is what I was getting at, thanks, LifeBandit666.', 'Rev-777: My guess is the node you used is set to trigger when the device goes unavailable and then available. Hence the toggle.\n\nYou can disable this in the node’s settings.\n\nThe bandaid is changing to HA automation, the true fix is learning the NR output settings for your next project.', 'shittywhopper: The lights still came on at 2am last night even with NodeRED disabled and the automation moved to native HA.\n\nI checked the history for the switch by the door which is also a shelly dimmer. This became unavailable briefly at 2am also, and the SW2 input (controlling the lamps) momentarily changed state for some reason when it was back online. Resulting in the automation triggering and the lamps turning on..']"
1682073118.0	21-Apr-2023 03:31:58	HA to Control Outdoor Lighting	Sea-Arrival4819	1	12txe5u	homeassistant	https://www.reddit.com/r/homeassistant/comments/12txe5u/ha_to_control_outdoor_lighting/	"Total newbee here.  I have Govee Ground Lights and Mustwin Smart Flood Lights currently setup using SmartLife App. I would rather control these via HomeAssistant running on my NAS.

Anyone have luck controlling either of these products via Home Assistant?

I want to dynamically turn on based on my local sunset time as well as slowly adjust color temperature over the daily lighting cycle.   I have an IT Background in Scripting and Automation."	4	['sretalla: Govee seems to be supported in HA over bluetooth, so if you have the lights sufficiently close to your NAS, maybe those will work.\n\nThe SmartLife lights probably fall under the Tuya integration, so look into that one, those should work (and even be controllable without the cloud if you set it up right).', 'Spruce_Wayne: Can confirm smartlife is tuya, get the tuya integration up and running and reconnect the lights to tuya instead of smartlife and you are set!', 'Sea-Arrival4819: Ok what about the Govee lights?  I currently have them connected to my SmartLife App via Wifi, will that also work using Tuya?', 'Spruce_Wayne: Very likely. I believe SmartLife is just a different Tuya frontend.']
1682070917.0	21-Apr-2023 02:55:17	Just another mobile dashboard	Smeen89	176	12twkxs	homeassistant	https://v.redd.it/os839lmwm7va1	I started out with home assistant about 10 months ago with no previous knowledge about yaml or any coding. It's been a steep learning curve woth lots of hours put into learning everything. This is a work in progress of my 4th dashboard and I'm finally starting to feel satisfied. It's inspired by some other amazing dashboards that I've seen here. 	79	"[""SaveFutureYou: It's not a dark theme... And... I... Like it.\n\nBut it is another amazing looking mobile dashboard in a different language so that I don't fully understand what's going on! Excellent work!"", 'Smeen89: I posted almost all yaml here for those interested: [https://github.com/smeen89/Mobile-Dashboard-v.4](https://github.com/smeen89/Mobile-Dashboard-v.4)', ""AlexanderGson: Har du laddat upp din konfig för inspiration kring kodningen och använda moduler från HACS eller liknande? Ser riktigt bra ut!\n\nJag har nyligen flyttat till BRF och fixat nätverket så har en Home Assistent Yellow som jag ska konfigurera från grunden nu istället för copy paste från förra utdaterade konfigen.\n\nENG:\n\nHave you uploaded  your config for inspiration somewhere so we can see the coding and eventual HACS modules and such? Looks amazing!\n\nI've recently moved to a new apartment and fixed my network so now I have a home assistant yellow waiting for me. I intend to configure it from scratch instead of copy pasting my previous outdated config."", 'CaptainBalou: I can just add another comment as some others already did:\n\nThat looks very nice and has a convenient design. Is it possible that you share that code even if it is not fully finished? 😉', 'wsdog: Looks cool, what cards are you using? Minimalist?', ""MordAFokaJonnes: Showoff!!! I bet you're all woozy and fuzzy with your fancy dashboard eh? .... Disgusting!\n/s\n\n*Now the serious part... Looks awesome! Well organised, not too cramped... Good stuff!*"", 'kashiwagi: Korv med bröd, panpizza, kebabsallad, napolitansk pizza\U0001fae3', 'Rare-Entertainer5485: Looks super cool. I am just starting to dable my feet into dashboards as well. What are you using here on your phone to run the dashboard?', 'multiplyingduck: Looks really nice. Curious, is this Danish?', 'RobotSocks357: This looks great! What cameras are you using?', 'Marauder2: What did you use for the camera tiles?', 'swpete: So is this a different dashboard setup than what you have say on your desktop or tablet?', 'danielholm: Fan vad läckert! Nice work.', 'Exalyte: Nice work, how did you do the contextual buttons at the top for lights/media etc that change the lower content, really want to do something like that but never figured how', 'poldim: Looks great, I love the high density but still very clear and usable. The only thing I would do differently if I was running this would make the lights tap action to toggle and a hold to bring up color changing pallet.', ""DataNinjas: This is great. as someone who's newer to Home Assistant, I'd also be interested in the code. \n\nWas it difficult to do the popups? Like the weather? I like how elements change as you click on different buttons. I didn't know that was possible"", 'alex3305: Looks wonderful! For me the font sizes are a tad small, but other than that keep it up!', 'BeginningSlow4865: This is awesome! I wish I had the time and patience to make something like this', 'thornygravy: very handsome!', 'chazragg: can you explain the game section on your media tab? how does this work/setup?', ""Opaquer: This looks so amazing! As others have said, light themes are so good and I wish there were more out there! I'm trying to set up a similar thing with my media side of things but can't find a good remote, but yours looks so good! Out of curiosity, could you post the browser-mod config for the remote? I had a look at the media card but couldn't see it - unless I've missed it somewhere?"", 'James_Lodge: What’s the gaming integration please? It’s retroarch or similar?', 'James_Lodge: What are you using for your CCTV cameras? WebRTC Camera?', ""Smeen89: Thanks a bunch! I've tried many times to set up a dark themed dashboard but I'm always reverting back to light. I guess I'm weird that way xD"", 'megawatz: Thanks for posting this on github! You should include a donation link if others use the content you built!', 'hnnk: Tack, nu jävlar!', ""Smeen89: SE: Jag har inte laddat upp den då det fortfarande är mycket kvar att göra innan jag är klar men om någon är intresserad av specifika detaljer så delar jag gärna de kodraderna. Tack för de snälla orden, häftigt att börja från scratch, har själv funderat på hur jag gör när jag flyttar nästa gång. Man skulle ha ett sökbart dokument med de mest användbara kodraderna som mall.\n\nENG: I haven't posted my config since it's far from finished, but if someone is interested in specific parts I'd gladly share some code. Thanks for the kind words! Cool of you to start from scratch, I've given it a lot of thought how I will do when I move next time. One should have a searchable document with the most useful code snippets as a template."", ""Smeen89: Yeah sure, I'll do it when I get home 😊"", ""Smeen89: Thanks! The cards are made with custom button card, and in some cases together with stack in card to stack multiple custom button cards and then modified with card mod and some css to make them look like single cards. Would probably have been easier to learn to just use grid layout of custom button card instead of combining three different cards but haven't come so far yet."", 'Smeen89: You should see what I do with my google home 👀\n\nThanks though!', 'Smeen89: Hehehehehe. 😅 Kolhydrater och fett bygger karaktär!', ""Smeen89: Don't sure I understand your question so forgive me if this is a stupid response. But I run this dashboard on the official home assistant android app."", ""Smeen89: Cheers! Close but it's Swedish."", ""Smeen89: Thanks! I'm using Imou Looc V2 which is a budget brand of Dahua. The cameras work pretty well, I'm using Dahuas integration in HA. But motion sensors aren't imported which is a shame. And the stream sometimes doesen't load properly which results in an error message. Haven't gotten to analyzing the errors yet.\n\nBought the cameras for around $60 each or something."", ""Smeen89: It's just the standard picture entity card inside of a stack in card with a box shadow applied with card mod."", 'Smeen89: Yeah, this one is designed to work for my mobile needs. I have one separate dash for two google nest hubs more suited for guests. But I dont really use home assistant from my pc. Many of my house functions are automated such as lights, home alarm, silent hours, notifications etcetera but when I need a dashboard I want it not only to be functional for my needs but also beautiful from a designer standpoint.', 'Smeen89: Tack :)', 'Smeen89: It\'s a wonky shady solution. I made a text input helper called ""menu"". When I tap for example the media button it is set to call service, text input with the text media.\n\nI then use the conditional card with the condition that the input helper has to have ""media"" as the state and then add my media cards to the conditional card. Same thing goes for lights. So when i press lights it writes over media with lights instead.', 'Smeen89: Thanks for the feedback! Thats actually how I have it set up. Tap to toggle individual lights. Hold to bring up settings. However i use hold to toggle the entire room on the menu buttons for entrance, living room etc and tap to bring up the list of lights.', 'Smeen89: I posted most of the code here: [https://github.com/smeen89/Mobile-Dashboard-v.4](https://github.com/smeen89/Mobile-Dashboard-v.4)\n\nFor the pop ups I use a briliant HACS integration called Browser Mod which lets you create cards that only show when you tap a button set to show ""more-info"".', 'Smeen89: Cheers! Appreciate the feedback!', ""Smeen89: Thanks a bunch mate! It's definitely time consuming. Mostly because I'm such a novice at yaml and css."", 'Smeen89: Thanks!', 'Smeen89: Sure thing! So if one were to have an emulator called Dolphin. One could do the following setup:\n\n1. Right click the rom file and set it to default open with Dolphin emulator as standard program. That would ensure a double click on the rom would start the game through Dolphin.\n2. Download and run Hass.Agent on your PC.\n3. Make a batch file by adding the searchway to the romfile to a text document. Could look like this: ""E:\\\\Roms\\\\Dolphin\\\\Super Mario Galaxy 2 (USA) (En,Fr,Es).wbfs"". Then save the textfile named ""SuperMarioGalaxy2.bat"" making it a batchfile.\n4. Download and install Nircmd (unsure if this step is required to run the batchfile from HASS.Agent).\n5. In HASS.Agent add a new command and chose powershell then add the searchway to your batchfile as a command: ""E:\\\\Batfiler\\\\SuperMarioGalaxy2.bat"". Name this command ""StartMarioGalaxy2"".\n6. In HASS.Agent also make another powershell command to force shutdown Dolphin in order to quickly stop any Dolphin game. Add this as your command: stop-process -name ""dolphin"". Name this command ""StopDolphin""\n7. From Home Assistant import the game image and put it on to a picture card. Then set double click action to call service, button press, and use the created button ""StartMarioGalaxy2"". Then do the same for long press but use the button ""StopDolphin"".\n\nIt\'s a little bit different for steam games since there has to be a uniqe shutdown button for each game unless one wants to force stop steam.\n\nOne could also run a script that first starts the PC, starts the TV, switches the main screen to the TV, switches default sound output to livingroom speakers and then launches the game.', 'Smeen89: Thank you so much! This community is freaking amazing with all these people and their dedication! As per your request I\'ve posted the remote code on github now. **BUT** it is a messy set up. I wrote the code before I started using layout card by thomasloven and that would have been a way better approach. I use a lot of ""blank"" custom button cards as fillers.', 'Smeen89: So I just launch steamgames. If one were to use an emulator like Dolphin. One could do the following setup:\n\n1. Right click the rom file and set it to default open with Dolphin emulator as standard program. That would ensure a double click on the rom would start the game through Dolphin.\n2. Download and run Hass.Agent on your PC.\n3. Make a batch file by adding the searchway to the romfile to a text document. Could look like this: ""E:\\\\Roms\\\\Dolphin\\\\Super Mario Galaxy 2 (USA) (En,Fr,Es).wbfs"". Then save the textfile named ""SuperMarioGalaxy2.bat"" making it a batchfile.\n4. Download and install Nircmd (unsure if this step is required to run the batchfile from HASS.Agent).\n5. In HASS.Agent add a new command and chose powershell then add the searchway to your batchfile as a command: ""E:\\\\Batfiler\\\\SuperMarioGalaxy2.bat"". Name this command ""StartMarioGalaxy2"".\n6. In HASS.Agent also make another powershell command to force shutdown Dolphin in order to quickly stop any Dolphin game. Add this as your command: stop-process -name ""dolphin"". Name this command ""StopDolphin""\n7. From Home Assistant import the game image and put it on to a picture card. Then set double click action to call service, button press, and use the created button ""StartMarioGalaxy2"". Then do the same for long press but use the button ""StopDolphin"".\n\nIt\'s a little bit different for steam games since there has to be a uniqe shutdown button for each game unless one wants to force stop steam.\n\nOne could also run a script that first starts the PC, starts the TV, switches the main screen to the TV, switches default sound output to livingroom speakers and then launches the game.', 'Smeen89: Just the Dahua integration!', 'schmaun: Na.. light is the way to go!', 'afxok: +1 more light themes', ""Smeen89: Thank you! I wouldn't even begin to know how to do that! 🤔"", 'Smeen89: So I actually took the time to learn how to add a ""Buy me a coffe"". Don\'t expect anyone to use it, but there it is. Thanks.', 'me_sk1nk: Since AI like ChatGPT is a thing it might be way easier to create such a document than one might think.', '__sem__: Yes please. Thanks. Really like the look of it.', 'MordAFokaJonnes: That\'s just cruel.... I only use Rhasspy with HASS and nearly everything local. ;)\nI am having issues with tablet dashboards however... They don\'t get properly sized in my opinion but I found a ""resizable card"" thing so I need to try that.', ""Rare-Entertainer5485: Not a stupid response at all. Sometimes I don't know how to express myself in English. Thanks for the answer, it was exactly what I was looking for. I thought you might be using a different app or web browser. Just wanted conformation that it is the Homeassistant app."", 'RobotSocks357: Solid. I have two Reolink PoE cameras. I\'m unimpressed with the viewing capabilities with the current integration; I get the preview thumbnail, but if I want to see it full screen, I get a black screen and a ""play error"" type of icon.\n\nThe motion sensor feature does work, albeit sometimes there\'s a several second or several minute delay...\n\nMoral of the story, try a different integration I suppose.', ""Adventurous_Ad_2486: Wow this is not wonky at all :) \nI have as many input booleans as many views, then I disable all the other if one is selected. Yours is much better, I'll update mine accordingvto this. \nThanks!"", 'poldim: Brilliant!', ""DataNinjas: Thanks! I'll check it out after work today"", 'chazragg: Sounds like a cool setup, thanks for sharing', 'Deanius97: Tell me more', 'Smeen89: [https://github.com/smeen89/Mobile-Dashboard-v.4](https://github.com/smeen89/Mobile-Dashboard-v.4)', 'Smeen89: Ever tried playing around with the tablets scaling options?', ""Smeen89: Thanks, I didn't know that one could run it on some other application or web browser, hence my confusion :)"", ""Smeen89: I've always heard so well of Reolink and was thinking of switching to them. What model are you using? Imou has absolutely great picture quality for the price. I use these with wifi (which might be why the stream doesn't load always)."", 'Smeen89: Thanks! The drawback is that if you have multiple persons with access they each have to have their own ""menu"" helper with their own dashboard. Otherwise the view will change on my dashboard if my partner presses a menu button on her phone.', 'me_sk1nk: Give it the code, tell him what it did for you and ask it to write a text for you, including the code. The more derails you give (explain it like I am an novice in HomeAssistant with no knowledge in programming, include my source code unchanged but explain what it did) etc. and then give it a try.\n\nIt might not be perfect, but it is a good way to get started.', ""evilspoons: Awesome! I'm definitely going to sneak a look at your homework 😀"", ""CaptainBalou: Thanks a lot. Putting a lot of time into something and let others participate is awesome! I'll try to get my knowledge in dashboards up one level by reading that code. 😉"", ""MordAFokaJonnes: I did and it messed up other stuff showing on the tablet somehow... So now I'm going on the resize cards route. We'll see how it goes. :)\nThanks for the hint ;)"", ""Adventurous_Ad_2486: Yes, thats how it works. I have setup an automation to switch back to the default menu after 5 minutes if another one is selected. This doesn't resolve the issue with multiple concurrent users however, but seems to be much nicer if you are used to the default menu when you open the app."", 'Deanius97: Thanks for the information! Will try it out next week. Definitely worth a try!', 'Smeen89: 👍', ""Smeen89: Thanks a lot! The code is for sure a hot pile of #### with lots of newbie mistakes. But I'm happy if someone finds something useful in it! 😉"", ""Smeen89: I can gladly recommend the layout card by thomasloven if you haven't tried it :)"", ""Smeen89: That's great! I use a similar approach but reset the view when my phone screen goes from on to off :)"", 'MordAFokaJonnes: Just gave it a look... On my test list! Cheers mate!', 'Smeen89: No worries!']"
1682068867.0	21-Apr-2023 02:21:07	WireGuard client	Late-Act-9823	1	12tvxt5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tvxt5/wireguard_client/	"I set up the WireGuard server on EC2. I want to use this server as an entry point. You connect to it using the domain name [ec6-11-23-77-543.eu-west-1.compute.amazonaws.com](https://ec6-11-23-77-543.eu-west-1.compute.amazonaws.com) and the server will redirect all requests to the connected by VPN client (HA). It should let me use HA everywhere.

EC2 server is ready and I can connect to it using my phone, but how can I set up my raspberry pi with HA OS to connect to this server?"	8	"[""Late-Act-9823: I've just tested it on my Ubuntu server and it works. So, seems like something with HA or the WireGuard addon.\n\nTo start client I used just:\n\n    [Interface]\n    PrivateKey = MY_PRIVATE_KEY\n    Address = 10.49.0.2\n    DNS =  172.19.200.252\n    \n    [Peer]\n    PublicKey = MY_PUBLIC_KEY\n    PresharedKey = MY_PERSHARED_KEY\n    AllowedIPs = 0.0.0.0/0,::/0\n    Endpoint = ec1-22-34-45-121.eu-west-1.compute.amazonaws.com:51820\n\nThats it. No, hosts, no client\\_allowed\\_ips etc."", ""Late-Act-9823: I don't know what exactly helped, but this config is working for me:\n\nserver:\n\n    host: ec1-22-34-45-121.eu-west-1.compute.amazonaws.com\n    addresses:\n      - 10.49.0.0/32\n    dns:\n      - 172.19.200.252\n    private_key: MY_PRIVATE_KEY \n\npeers:\n\n    - name: peer\n      public_key: MY_PUBLIC_KEY\n      pre_shared_key: MY_PRE_SHARED_KEY\n      endpoint: ec1-22-34-45-121.eu-west-1.compute.amazonaws.com:51820\n      allowed_ips:\n        - 10.49.0.2\n      addresses:\n        - 10.49.0.2\n      client_allowed_ips: []"", 'sleekelite: Install the wireguard addon.  For confit help beyond that, r/wireguard.', ""Late-Act-9823: I tried, but it seems like this addon is a server part of WireGuard.\n\nIt doesn't have client settings where I can put my keys, server address etc.\n\nhttps://preview.redd.it/h43ukwa809va1.png?width=420&format=png&auto=webp&v=enabled&s=0abca33dab9602897fd7b5680c5ad8119bf83d85"", 'blackleel: There is really no difference between server and client code.\nJust put what would you put under interface in client config into the server box.', 'Late-Act-9823: Thanks. I followed your suggestion and found [this thread](https://community.home-assistant.io/t/wireguard-addon/337041/6). This is my config file for server:\n\n    host: hassio-local\n    addresses:\n    - 10.49.0.2\n    dns:\n    - 172.19.200.252\n    private_key: MY_PRIVATE_KEY_FROM_CONFIG_FILE\n\n&#x200B;\n\nand for peers:\n\n    - name: hassio-public\n    public_key: MY_PUBLIC_KEY_FROM_CONFIG_FILE\n    endpoint: ec1-22-34-45-121.eu-west-1.compute.amazonaws.com:51820\n    addresses:\n    - 10.10.10.0/24\n    - 10.49.0.0/24\n    allowed_ips:\n    - 0.0.0.0/0\n    - ""::/0""\n    client_allowed_ips:\n    - 192.168.1.0/32\n\n&#x200B;\n\nBut it still doesn\'t work.\n\nIn my logs:\n\n    [14:41:23] INFO: Starting WireGuard...\n    [#] ip link add wg0 type wireguard\n    [#] wg setconf wg0 /dev/fd/63\n    [#] ip -4 address add 10.49.0.2/24 dev wg0\n    [#] ip link set mtu 1420 up dev wg0\n    [#] resolvconf -a wg0 -m 0 -x\n    [#] wg set wg0 fwmark 51820\n    [#] ip -6 route add ::/0 dev wg0 table 51820 Error: IPv6 is disabled on nexthop device.\n    [#] resolvconf -d wg0 -f\n    [#] ip link delete dev wg0\n    [14:41:53] INFO: Requesting current status from WireGuard...\n    [14:42:25] INFO: Requesting current status from WireGuard...\n\nAnd I can\'t ping the client from the VPN server. It\'s just stuck.', 'blackleel: I think its wrong\nIn the server config, you should have just the virtual ip of the HA server, from the virtual subnet you choose and the private key. And it should be only address: <that ip>\n\nIn the peers remove the addresses as well. As well as the client IPs. The public key for the peer should be the public key of the EC2 side.', 'Late-Act-9823: >I think its wrong In the server config, you should have just the virtual ip of the HA server\n\nWhat do you mean by ""Virtual IP""? If my devices get VPN addresses like [10.49.0.2](https://10.49.0.2), 10.49.03 then <that IP> is [10.49.0.1](https://10.49.0.1)?\n\nI can\'t remove client ips, I get an error   \n`Failed to save add-on configuration, Missing option \'client_allowed_ips\'`\n\nwithout it. The same with addresses for peers. I can\'t even leave peeer addresses empty, I got another error:\n\n `You need at least 1 address configured for peer`']"
1682068207.0	21-Apr-2023 02:10:07	NODE-red vs automation	Lyzo_Soft	4	12tvqd5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tvqd5/nodered_vs_automation/	"I'm starting with NODE-red in HA, it works great.   
I have several automations scripts in HA, and is it smart to convert them all to NODE-red?

Are there people who use both side by side, and when do you use one or the other."	15	"['Resident_Rational: I keep simple automations in HA and complex ones in Node Red. Works well for me.', 'christianjwaite: I’m 100% nodered. I would quickly forget where an automation was if I split them.', ""intecpsp: I've seen people say to keep simple things in HA and complex things in NR, but I just exclusively use NR.\n\nWay more fun in NR and I don't have to think about how I'm going to do a particular thing in both of them. There are plenty of NR tutorials out there and vastly more use cases with the nodes you can install (shout out to https://flows.nodered.org/node/node-red-contrib-comfort for helping control my HVAC units fully autonomously)."", 'ownsjo: 100% node red. Love all my automations in easy to see on one page.', ""mrtramplefoot: I have the majority of my automations in node red except a couple simple ones I made early on and a few I couldn't figure out how to do in node red (phone notifications that call tts and with custom vibrate pattern, the ring keypad automation that I just imported, and sending harmony hub commands)"", 'LifeBandit666: I do the majority of my automations in Node Red but there\'s some that are just easier in Home Assistant. \n\nFor these I usually use input booleans that I can then reference in Node Red. For example, I have no idea how to set things based on sunrise/sunset times in Node Red. I\'ve fucking tried and tried. But in HA it\'s dead easy. \n\nSo I have an automation that runs based off sunrise time and the weather. If it\'s cloudy I have it add an hour and a half on to the time and then turn my Night boolean off, but if it\'s sunny it\'s just an hour. Same thing for sunset time. \n\nThen in Node Red I can have light automations based on the Night boolean, giving me the best of both worlds, complex automations based off an HA automation. \n\nAnother thing I do is make a script with a name to have Node Red monitor. The script literally just waits a second, but Node Red sees the script is ON for a second and that triggers my automation. Why is that useful I hear you ask? Well Google Assistant can trigger my HA scripts. In Assistant they are ""Scenes"" but they\'re Scripts. \n\nSo ""Hey Google, goodnight"" triggers a script that waits a second, then Node Red runs a flow that checks if the kids are at Grandma\'s, are there any Guests potentially crashing on my sofa? Am I home? Is the Wife? It would be a whole thing to get that working in HA but I\'ve managed in Node Red.', 'Crytograf: appdaemon', 'Puzzleheaded-Ad-4539: Go Node red entirely.\n\nThe ability to centralise and reuse things across multiple automations is very handy\n\nE.g. I have a NR tab that is all about home/not home logic and then this outputs to lots of other tabs that need to make decisions based on that information. If I want to tweak the “home/not home” I only have to do it in one place.', ""angrycatmeowmeow: Same. Notifications such as door left open or my son's location are in HA. Things like vacation light  timers or things with multiple conditions are easier for me to do in NR because of the visual nature of it."", ""Uninterested_Viewer: Yep. My philosophy is that nodered *is* my smart home and home assistant is simply an interpretation layer that ties all of my devices together to provide consistency to service calls (which are all made via nodered). I do a lot in nodered that doesn't even touch home assistant."", 'Lyzo_Soft: I starting to convert my HA automations to NR, everything in one place.', 'Lyzo_Soft: There is a sunrise node.', ""intecpsp: I thought about this and NetDaemon (I'm a .Net developer), but landed on NR because I could achieve the same thing and actually have my wife follow what was going on (if I go down and out)"", 'intecpsp: 100% agree with this, Node-Red is the brain and does all the ""logic"". Home Assistant just has the individual integrations to make all the ""logic"" actually do anything.', 'LifeBandit666: I\'ve tried playing with all sorts of ways and got nowhere and just think ""why bother? It already works the way I want it to""']"
1682065479.0	21-Apr-2023 01:24:39	Xiaomi Mi Smart Scale 2 > HA integration. Could someone help please?	No_beef_here	2	12tuxym	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tuxym/xiaomi_mi_smart_scale_2_ha_integration_could/	"Hi all,

My  Xiaomi Mi Smart Scale 2 arrived from Amazon yesterday and not long after I had it running with the 'Zepp life' app on my phone, but whilst I have Googled to several solutions re HA integration, they all seem quite 'involved' and I wondered what the minimum would needed to just get the output of the scale (just weight) available in HA please?

Step two would be for our (x2) weights to be automagically logged in HA."	13	"[""pinguugnip: The easiest way is to use the Bodymiscale integration in HACS ([https://github.com/dckiller51/bodymiscale](https://github.com/dckiller51/bodymiscale)). Assuming you have HACS installed, this is the best one I have found for integrating my scale.\n\nIf you don't have HACS, it seems that it is a lot simpler to install than in the past. (Download - [https://hacs.xyz/docs/setup/download/](https://hacs.xyz/docs/setup/download/) and Configure - [https://hacs.xyz/docs/configuration/basic](https://hacs.xyz/docs/configuration/basic))"", ""No_beef_here: Thanks very much for that.\n\nI did have HACS installed and after some weirdness, managed to install Bodymiscale (and can see it in custom components) but don't know how to make anything show up in HA? ;-(\n\nHowever, when I try to add the integration (assuming I'm supposed to as mentioned at the bottom of the Github link above) and get to the 'Weight sensor' bit I'm not sure what to select?"", ""No_beef_here: Update.\n\nIt seems that this BT stuff  can be quite slow (or one of my several reboots has made a difference) but I now have the BodyMiScale integration with a device and 4 entities in it. The only thing is it just has 'Unknown' by each?\n\nShould at that point I get a 'live' value at least do you know please?"", ""pinguugnip: Apologies for the late reply. I was away for a few days.\n\nI don't know if you are using ESPHome or the BLE Integration to connect it. I am using ESPHome (I had it set up before the BLE Integration was available). and it works well ([https://esphome.io/components/sensor/xiaomi\\_miscale.html](https://esphome.io/components/sensor/xiaomi_miscale.html)). If you have ESPHome, it might be worth trying that."", 'No_beef_here: >Apologies for the late reply. I was away for a few days.\n\nNone needed my friend but thanks anyway. ;-)\n\nI\'m using the ESP32 / ESPHome based [BT Proxy](https://esphome.github.io/bluetooth-proxies/) (3 nodes so far) and they are currently happily talking to 3 Inkbird temperature sensors and two Switchbot T/H sensors, so I assumed (probably falsely) that they would also allow HA to see the Mi Scale?\n\nFWIW I\'ve run a BT scanner on my phone and woke the scales up and now have the MAC address but I\'m not sure exactly what I now need (and where) to make use of that? Is it just an ESP32 (ready and waiting) or do I also have to add stuff in HA configuration.yaml?\n\nI added:\n\n sensor:  \n\xa0 \\- platform: xiaomi\\_miscale  \n mac\\_address: \'5C:64:F3:07:39:41\'  \n weight:  \n name: ""Xiaomi Mi Scale Weight""  \n\n\ninto an exising BT Proxy node, it validated ok but wouldn\'t complile?\n\nI\'m obviously confused ... (as usual) ;-(', 'No_beef_here: <some time later ...>\n\nOK, so I started again and created a new ESP32 node and added the ble integration and Mi Scale stuff from the link and now I see what looks like a connection to the scale in the logs:\n\n[15:26:56][D][xiaomi_miscale:154]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41):\n[15:27:06][D][xiaomi_miscale:154]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41):\n[15:27:25][D][xiaomi_miscale:154]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41):\n[15:27:37][D][xiaomi_miscale:154]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41):\n[15:27:38][D][xiaomi_miscale:154]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41):\n[15:27:43][D][api:102]: Accepted 192.168.0.125\n[15:27:43][W][api.connection:075]: 192.168.0.125: Socket operation failed: HANDSHAKESTATE_READ_FAILED errno=11\n[15:27:57][D][xiaomi_miscale:154]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41):\n[15:27:58][D][xiaomi_miscale:154]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41):\n[15:27:58][D][xiaomi_miscale:154]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41):\n[15:28:07][D][xiaomi_miscale:154]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41):\n[15:28:08][D][xiaomi_miscale:154]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41):\n[15:28:15][D][xiaomi_miscale:154]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41):\n[15:28:20][D][xiaomi_miscale:154]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41):\n\nSo is that getting somewhere and what of the failure?', ""pinguugnip: I'm getting the the end of my ability unfortunately. Is the indentation correct in your ESP code? It isn't here but that may just be Reddit's formatting.\n\nDo you have this in your ESP code?\n\n    bluetooth_proxy:\n      active: true"", 'No_beef_here: Yeah, sorry about the formatting thing, it doesn\'t help eh but yes, it was ok (validated ok etc).\n\nTo answer your question, no I don\'t have that code in my current BT Proxies (I did have it in the one that is now just running the BLE node) but I think I can confirm that the BLE node **is** picking up the scale from the logs.\n\nFurther, if I remove the battery from the scale it stops responding.\n\nBut in case it\'s relevant ... the box the scale came in suggests it\'s a ""Mi Smart Scale 2"", and it also says that on the scale itself and with model no XMTZC04HM, however, on the log it says: \n\n \\[16:09:59\\]\\[D\\]\\[esp32\\_ble\\_tracker:246\\]: Starting scan... \\[16:10:28\\]\\[D\\]\\[xiaomi\\_miscale:154\\]: Got Xiaomi Miscale v1 (5C:64:F3:07:39:41): \n\nAlso, on your [link](https://esphome.io/components/sensor/xiaomi_miscale.html) it shows a picture of a MiScale and a MiScale2 and mine looks like the MiScale?', ""pinguugnip: I noticed the v1 in the logs too but didn´t mention anything as it should work the same, the only difference being that you don't have the 'impedance' option that you didn't have in your code anyway.\n\nUnfortunately, I can't check the logs for mine as it is still buried deep in an unknown box since I moved a few months ago."", ""No_beef_here: >Unfortunately, I can't check the logs for mine as it is still buried deep in an unknown box since I moved a few months ago.\n\nNo probs my friend, I hope you get it all unpacked and online soon. ;-)\n\nI wish I better understood all the interactions on these things but really I'm just an old ex Field Support tech that can still handle a soldering iron and love having all this stuff working.\n\nSo recap if I may.\n\nI have flashed an ESP32 with BLE monitoring firmware, configured it into HA via ESPHome that seems to find the Mi Scale.\n\nI have the BodyMiScale integration and that is pointed to the 'Mi scale weight' sensor.\n\nI have the 4 entities from that on a desktop and have monitored them whilst doing stuff with the scale (with nothing changing or in the log).\n\nI must be missing something still? ;-("", 'No_beef_here: Another update (with what I think is success!). ;-)\n\nI deleted the Bodymiscale integration and re-installed it, restarted HA and then (and this is key), actually stand on the scale until it managed to get a value, **THEN** the values are updated on the HA dashboard! ;-)\n\nSo for me (and once again) this is all about (not) understanding the bigger picture.\n\nNow it works (probably a whole days experimenting later), now I can experiment with stuff and see what use I can put it to!', ""pinguugnip: It's always such a relief when you spend time working on something and get it working. I'm happy you seem to have it solved."", ""No_beef_here: >I'm happy you seem to have it solved.\n\nAs am I ... and thank you for being there at the start and staying to be a sounding board along the way. If it wasn't for you this particular project would probably still be stand-alone. \n\nI think I picked up the Mi Scale because I saw them mentioned here and might even question someone who had one or Google for a walkthrough to see just how easy, how automagic it was to integrate / use and only when it was suggested that it **was** easy, would I get one myself (I've learned the hard way).\n\nI find it interesting that the 'instructions' we are often working from on the likes of Github are written by people who are generally very close to it all and so can make assumptions of the abilities of their audience, not helped by things changing fast and so instructions going out of date.\n\nThat's not to say they have any obligation to help others of course (and I'm grateful for anything they do), just that if you have made the effort to develop something **and** share it, you would think you might also like it to be as clear to as broad a spectrum of users as possible?\n\nSo my favourite projects are those where someone gives you the background, defines the hardware, explains the stages and then covers them in sufficient detail for the likes of me to follow and even with what to do to check / test if it doesn't work at the end (typical errors / gotchas etc).\n\nWhat is also very reassuring is when you can leave comments at the bottom and you read that the vast majority suggest it 'worked first time' or where they have offered feedback / improvements and they are responded to / accepted by the author.  \n\nAnyway, thanks again for helping me with this project. The bad news is that I now realise I need to stop buying biscuits ... ;-)""]"
1682065221.0	21-Apr-2023 01:20:21	Actionable notifications, switch input Boolean	michaelthompson1991	1	12tuv9s	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tuv9s/actionable_notifications_switch_input_boolean/	"So trying to work out here. I have a calendar event in local calendar which sends a push notification to my iPhone to water the indoor plants. 

In the notify action I currently have this

`sticky: ""true""`

`push:`

`badge: 1`

And i then have another action turn on an input Boolean, incase I’m not home and I clear the notification, so when I arrive home if the input Boolean is on to send me a notification.

Ive been trying to find a way to switch that input Boolean off when I’ve watered the plant. So I thought I could use an actionable notification, my plans were when the notification comes up to have a button to say something like watered the plants and to turn the input Boolean off.

But I’m not sure how to do this, if I could have someone’s help please. I’m aware it should be in the data section of the notify cation but I’m not sure what to put.

Also in my arrive home notification, if the input Boolean is on, i have the following in the data section 

`push:`

    `sound:
     name: default
     critical: 1
     volume: 1`
input:
  reminder_minutes: ""15""`

Here’s some pictures https://imgur.com/a/7Nqr5JV

Im also on ios"	0	[]
1682059548.0	20-Apr-2023 23:45:48	"Electric shutters automation (multiple shutters to 1 switch / 1 wall ""socket"")"	HelloItsMe1996	0	12tt2ou	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tt2ou/electric_shutters_automation_multiple_shutters_to/	"I would like to make my electric shutters controlable via phone. The most popular thing I see is wifi swtich Shelly 2.5, but as far as I see you can only connect 1 shutters to 1 wifi module. If I had separate ""socket"" (hole in the wall) for each shutter, it would be fine, but I havesame hole/socket for 4 shutters and I would not be able to for 4 shellys into the same hole (its like 5cm X 12cm).. is there any wifi switch/module that would be able to connect 4 shutters at the same time?"	0	[]
1682059454.0	20-Apr-2023 23:44:14	Wake on Lan Button (not switch)?	_pvnda	1	12tt1hu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tt1hu/wake_on_lan_button_not_switch/	"I'm very new to Home Assistant, and was wondering how to make a Button for my wake on lan action.  It is currently set to a switch (but doesn't have an alternate toggle, since I can't seem to figure out why the PC says off in status but WOL works). 

I use Hass.Agent to Satellite shutdown my PC which works and has it's own button.

Currently my WOL switch looks like this:

`#Wake on Lan`

`wake_on_lan:`

`switch:`

  `- platform: wake_on_lan`

`mac: xx-xx-xx-xx-xx-xx`

`name: ""Infernal Titan""`

`host:` `192.168.x.x`"	3	"['Thuringwethon: You can create `template` button and use `wake_on_lan.send_magic_packet` service\n\n    wake_on_lan:  # loads ""wake_on_lan"" platform\n    \n    template:\n      - button:\n          - unique_id: ""wol-xx:xx:xx:xx:xx:xx""\n                       # optional but recommended, I use just mac here\n            icon:      mdi:sleep\n            name:      My Wake on LAN\n            press:\n              - service: wake_on_lan.send_magic_packet\n                data:\n                  mac:               xx:xx:xx:xx:xx:xx\n    #             broadcast_address: # optional\n    #             broadcast_port:    # optional\n\nBut WOL\'s switch is overally more convenient since it includes ping sensor to track current state. It\'s Turn off service/param is optional.', ""LifeBandit666: I can't answer your question, but I added HASS Workstation (I think that is it's name) to my PC and set up a shutdown command, then put the shutdown command into my yaml as the off for the switch. Now I can ask Google to turn my PC on AND off"", 'Dravelz: The switch status didn’t work for me either, the solution was to allow pings in the firewall. Also I think you can add a button to the UI that calls the WOL service and enter your MAC there.']"
1682052179.0	20-Apr-2023 21:42:59	Why does the new light dialog require 3 screens to set power, brightness, and color? A power switch, brightness slider, and color wheel can and have fit on this screen. Homekit at least has color shortcuts instead of near identical power / color icons,	DevilsBestFriend	137	12tqkza	homeassistant	https://www.reddit.com/gallery/12tqkza		62	"['wsdog: The new dialogs straight suck.', ""Wild-Bus-8979: Yeah I don't like it either. Old way was fine."", ""EFaden: I'm with you.  The new dialogs look nice but are not efficient"", 'maniac365: Theres so much wasted space, can easily fit all three on the same page.', 'rehab212: Having used it extensively for the first time last night I can agree. It is less intuitive, requires more taps to set colors, and way less responsive than the previous iteration. Brightness/colors not responding in a timely manner or jumping around seemingly at-will. Just awful.', 'ThePantser: Was hoping for more options not less. I wanted to add presets for my WLED devices to a easier menu.', ""Jenova70: Check the visiontype of home assistant here [https://www.figma.com/proto/ZPRTON7huEj9kyXzPNxNgK/Future-concept?node-id=263-6636&comments-enabled=1](https://www.figma.com/proto/ZPRTON7huEj9kyXzPNxNgK/Future-concept?node-id=263-6636&comments-enabled=1)\n\nPresets are coming. They will be shortcuts to set your lights in a desired state.\n\nThe idea behind is that a complete color wheel is useful only a few times, whereas a few number of purposefully made presets will be useful all the time.\n\nUnfortunately, due to the nature of software development, you have nothing readily available as of today. But it's coming!\n\nhttps://preview.redd.it/at2y1ugaocva1.png?width=1440&format=pjpg&auto=webp&v=enabled&s=9e614de06a719b47301575b64aa2f8eb19d7a5aa"", ""Ok_Yogurt900: Check out 'Mushroom - Better Sliders' available in HACS. It's awesome."", 'lucashtpc: The worst about it is I already hate the way Apple does that and consider this the worse interaction in whole HomeKit and they just steal that in even more basic..', ""Holi_laccy: As a fellow user of the new light dialog, I completely agree with your frustration. It seems unnecessary to require 3 screens just to adjust power, brightness, and color when these options could easily fit on one. And don't even get me started on the near identical power/color icons - talk about confusing! I definitely appreciate Homekit's color shortcuts as a more efficient solution. Hopefully, the developers will take user feedback into account and make improvements in future updates."", 'GrandmaBogus: Would love if it could be an XY area slider with brightness up/down and temperature left/right.', 'senthilbaboo: I think the people who designed it put more emphasis on looks than actual user experience. It may be a first step towards a more maintainable framework that could be extended in future for usability too. If they can provide an option to show all the controls side by side instead of clicking tabs via some settings, that would make it great in future. I hope we will move towards that direction.', 'BJWTech: Post a feature request or check-out the code and start contributing! :)', 'Waffle_bastard: Agreed. I preferred the old UI.', 'davidnestico2001: I like the design of the new dialogs but still agree.', 'Sir__Farts__Alot: Did anyone give an example of a better u/i?', ""0skittle: Agreed.. old dialogs were way better than what we're left with now\n\nNow the dialogs are a gigantic waste of space that require additional clicks to get the functionality that used to be easily accessible.\n\nThe new dialogs are bloody frustrating"", 'DragonQ0105: Agreed. I tried a third party card that has all the options together but found it buggy. Kept producing errors about empty scenes and also sometimes produced colours different than what was selected. At least the built-in one works.', 'lieven121: The old way looked like 💩\n\nI do agree that they may have to come up with a way to control e.g color temperature and color in a better way\n\nOr split up the icons\nSquare on the bottom for light\n2 rounds on top for temperature and color', 'Sevenn111: ""....not fewer.""', 'wsdog: Actually this. The dialog should just open a device page.', 'hirscheyyaltern: i think this looks much better but the size of the slider or switch seems very unwieldy and awkard, especially when comparing it to soething like google home which honstly still has all of the same information, but manages to somehow not make me feel forced into an unwieldy ui. with this new ui i just feel like i cant \\*do\\* anything', ""0skittle: Just checked it out but doesn't appear to change the dialogs"", ""jrhenk: Dunno if it's only with these very devices (rgbw spots running openbeken) but what annoyed me was the jumping back to the current value while 'sliding', all the mushroom things look very nice otherwise"", 'maniac365: For mushroom better skiders do I need to remove the exisiting mushroom first?', 'theautomation-reddit: This! It has sliders in the card without a dialog', 'alluran: What temperature is ""aquamarine""?', 'surreal3561: Except that’s not quite how it works. You can of course open the PR but it most likely won’t be accepted. This has been case when people wanted to use their own DNS instead of the hard coded one in HAOS and their PRs got shut down immediately, even if it had community support, simply because core devs had different opinion.\n\nIt’s a poor argument to a valid criticism really.', 'Canonip: git revert', 'AnxiouslyPessimistic: Not sure why you’re getting downvoted. Request stuff or help make it is exactly how the open source community works', ""Nyghtshayde: I'm not a huge fan of the new dialogs either. Probably good for a tablet but shouldn't be the default."", 'ackens: The old way was great, with all needed inputs right where one would expect them and not needing unnecessary and frustrating clicks.', 'hirscheyyaltern: hi grammar prescriptivist this is my infrequent remind to tell people that linguistics is descriptive and rather than trying to tell people how to speak, perhaps you should educate yourself on the fluid nature of language', ""ufgrat: It's one thing to be pedantic about grammar.\n\nIt's another thing to be pedantic and **wrong**.\n\nBoth versions are acceptable grammar according to multiple grammar checking sites."", 'Jenova70: Well the presets in Google home are one click away...\n\nhttps://preview.redd.it/uj62bk6apgva1.png?width=1440&format=pjpg&auto=webp&v=enabled&s=9e56f64f7b78f6ec7510a77cdf62ef6a2db864fc\n\nSo eventually it will be faster and simpler in HA\n\nI quite like the size of the slider but I agree that it is quite big !', 'Kaot93: Well you do have to add a new card..', 'ufgrat: It doesn\'t, but the ""hot buttons"" change what the slider does, without taking you to a new page.\n\nNavigating the new buttons is an exercise in Whiskey Tango Foxtrot, and a nuisance in usability.', 'hirscheyyaltern: yes, this used to happ en to me with a few zigbee lights. not happening to me anymore so not sure if its still an issue, but i believe its still reading the old state until it gets confirmation of a state change', 'Izwe: Yes', 'DarthRUSerious: 42', 'shbatm: FWIW, there is now a command line option to disable the fallback DNS, so they did eventually come around to compromise.', 'BJWTech: :)', 'halcy0n_: The attitude of this project has been changing stuff ""just because"". For that reason it will never be suited for mass adoption and require constant upkeep because if you miss more than 3 releases there is bound to be some breaking change. Was there anything wrong with the default control previously? I see daily complaints about how bad the new one is and questions about why it changed. The response is usually ""get a custom one then"". But why wasn\'t this new card added as a custom that people could opt into?', ""stacecom: It's not any better on a tablet."", 'lucashtpc: Usability might have been better. Still looked awful.', ""hirscheyyaltern: I think ultimately it's really just up to ui preference, I know that Google home basically has feature parody but the design and UI styling make it feel better to me.\n\nI really do though enjoy the approach that home assistant has been taken to its design lately. On the whole I think there have been some really big UI improvements, primarily in terms of looks but definitely in terms of usability too. \n\nI think with this new more info dialog I'm mostly just disappointed that they took away options and didn't give the option to keep it. I know it will get better but in the meantime it feels like the one step back before the two steps forward"", '0skittle: Im not sure how that addresses the dialog issue tho', ""alluran: You can lead a horse to water, but you can't make them drink"", 'jrhenk: Interesting it stopped with a zigbee... I have it with openbeken and tasmota flashed wifi devices, running latest version of ha and all firmwares. The built-in ha sliders work a bit better, you see the current value displayed sometimes but the slider stays where you are during sliding', 'kickbut101: What was the main concern with using the hardcoded DNS? Honestly asking/curious', '0skittle: Id take usable and ugly over just ugly', ""HelixLegion27: Look of a pop-up dialog isn't that important. It's not like that is always displayed on a dashboard. It's a temporary pop-up that is closed after a few seconds.\n\nAnd to most people, it still looked fine. Ultimately, usability and reducing clicks is more important in my opinion."", ""Jenova70: One step back before....\nYes agreed unfortunately \U0001fae2\n\nThx for the calm discussion - It's nice sometimes"", ""Uninterested_Viewer: I think browser_mod should be able to replace the default dialogs on dashboards- if that's your goal."", ""hirscheyyaltern: Yes, I agreed that is much better behavior. It definitely was one of my pet peeves that that happened so I'm glad I don't experience it anymore and I hope it gets fixed for you too"", ""Stenthal: In certain (apparently very common) situations, it can start hitting the DNS constantly, which will hammer your network and/or CPU.\n\nI have Home Assistant running on an old Raspberry Pi at a remote location, and for the past year it's been so slow and unstable that it's offline most of the time.  The other day I happened to catch it online, and I noticed that the DNS process was using up all of the CPU.  That led me to this: https://github.com/home-assistant/plugin-dns/issues/90 .  The workaround solved my problem for now, but considering how long it took me to discover the issue, there must be lots of people just living with it.  It looks like an easy fix, so it's bizarre and alarming that nothing has been done about it."", 'alluran: ""Spies! Spies everywhere!""', 'lucashtpc: True. I will argue tho it’s less ugly and generally speaking more appropriatein terms of Ui element size. It’s completely empty beside the big slider tho. Even at those sizes you could easily improve the Orginal HomeKit Ui to be more complex and just as easy to use.', ""jrhenk: thanks and fingers crossed, but it's all relative... My project for today was to flash a tuya dimmer with openbeken yet the configuration until it really worked created a lot of headaches. Now that it turned up and works perfect in ha, I couldn't care less about the slider glitch :)"", '5yleop1m: I was affected by this because I use pihole for my local DNS and I use DNAT rules to force all DNS traffic to the pihole. Took me a while to figure out why HA was always using 20 - 40% CPU.', '0skittle: Haha yeah a bit less ugly... a little less cluttered, but I miss having quick access to everything.\n\nIt\'s been especially painful lately because I use the dialogs regularly when building and debugging automations. The old ""related"" tab was quicker/easier to access than going through the dropdown menu.\n\nWorse than just additional clicks/taps tho is the reduced functionality, eg no means to enter a distinct colour temperature anymore on my lights', ""Stenthal: Huh.  I don't use pihole, but I use a DNS https proxy, and I just noticed that it's configured to hijack DNS.  It probably shouldn't be.  It looks like the issue is triggered when HASS is forced to use a DNS server that isn't perfectly standards-compliant.\n\nWhatever the cause, retrying the DNS request so frequently that it cripples the system is not a good solution, so that needs to be fixed.""]"
1682045664.0	20-Apr-2023 19:54:24	Question about Mushroom Cards and card-mod not work properly	takayo72	2	12to5pd	homeassistant	https://www.reddit.com/r/homeassistant/comments/12to5pd/question_about_mushroom_cards_and_cardmod_not/	"i installed card-mod and ensured that the script is added in ha resource

for simplicity, i created two chips template  


https://preview.redd.it/m6ndlynhj5va1.jpg?width=410&format=pjpg&auto=webp&v=enabled&s=c30f01ebb8c5ace7d08b336bfaf081af5575076d

i wanna to change the 2nd icon to green but it didnt work  
This is the code

type: custom:mushroom-chips-card

chips:

  \- type: template

double\_tap\_action:

action: none

entity: switch.ac\_conditioner

hold\_action:

action: none

icon: mdi:fan

content: Adrian

tap\_action:

action: toggle

icon\_color: ''

  \- type: template

double\_tap\_action:

action: none

entity: switch.ac\_conditioner

icon: mdi:fan

tap\_action:

action: none

hold\_action:

action: none

card\_mod:

  style:

mushroom-template-chip:nth-child(2)$: |

ha-icon {

color: green;

}"	0	[]
1682044527.0	20-Apr-2023 19:35:27	I tried creating a sensor that can know what I am doing, and this in return spawned the creation of about 10 sub-sensors. I present to you my Frankenstein's monster.	maxi1134	25	12tnpf6	homeassistant	https://gist.github.com/maxi1134/77f93f4493771779fe0b4317aa3794a8		7	['maxi1134: A few of the sub sensors states\n\nhttps://preview.redd.it/2jk2mmray6va1.png?width=598&format=png&auto=webp&v=enabled&s=1757dff41110c87bdd5a8a3c9cb63419dac06993', 'Evil_Lairy: THAT. IS. IMPRESSIVE.  Nice work!!  Thanks for posting. Lots to learn.', 'QuantumFreezer: Nice piece of work! Have you had a look at bayesian sensors? I think they could really help you get around situations like leaving you steam game on etc', 'brellox: Amount of partners home? :D\nThanks for showing, great work!', 'maxi1134: Thanks! I have more projects and weird automations on my GitHub!', 'maxi1134: I used to use Bayesian sensors for sleeping detection. But now my bedroom only has two things to check. (Door and lights) So I check that and my location to determine where I am sleeping', 'maxi1134: 👀👀']
1682044445.0	20-Apr-2023 19:34:05	Aqara FP1 FP2 Sensor Outdoors	krusej23	2	12tno5n	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tno5n/aqara_fp1_fp2_sensor_outdoors/	Could you place an aqara FP1 or FP2 sensor outside by putting it in a water proof container and it would still work?	4	"[""mynamesjefffffs: It's IPX5"", 'krusej23: My thought was to put it on the edge of my above ground pool so I can tell if someone is in the pool zone.', ""yotraxx: For completion : Yes. Just don't drown it under water."", 'Lostbutnotafraid: Can the mmWave radar “see” through clear glass? I don’t think so but would appreciate confirmation.']"
1682042302.0	20-Apr-2023 18:58:22	Trigger Meross Garage Door from HA Android Auto?	SDNick484	1	12tmsif	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tmsif/trigger_meross_garage_door_from_ha_android_auto/	Does anyone have a good resource that covers how to set up a button in Home Assistant's Android Auto to trigger a Meross garage door opener?	0	[]
1682040627.0	20-Apr-2023 18:30:27	Carbon monoxide help	linbeg	3	12tm3f5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tm3f5/carbon_monoxide_help/	"I’m having troubling finding a carbon monoxide monitor ( not detector) that shows a digital display and is able to connect with via wifi. Is this a thing?

Specifically I want to monitor and or be able to set alerts ( customizable if able) for any set ppm I want to detect especially low levels - to identify leaks etc

Not sure if there’s a reliable system out there. I saw X sense fit the bill, but there have been multiple reviews from buyers that have tested it with CO and gave a “0 ppm” reading - which seems unreliable

Also reason why I want to monitor low levels is because apparently traditional CO alarms ONLY alerts lethal levels which is not helpful if there is a low level leak which would not be alerted thus leading to constant exposure

any info is appreciated!! Thank you 🙂"	2	['docwisdom: Could possibly use this sensor in combination with esphome https://www.adafruit.com/product/3199', 'jrhenk: Very interested in this too, also without any display. I keep browsing but they are always combined with fire/particle detection which creates the same false positives for a vaper like dumb fire alarms :)']
1682040002.0	20-Apr-2023 18:20:02	Where to start?	schultzy99	3	12tltkf	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tltkf/where_to_start/	"I converted an old dell inspiron to a server and have OMV running a NAS. I have portainer installed and through that installed HA. It sees my printer and tells me how much ink there is so I guess I’m on the right track.  Looking for suggestions to start learning and adding.  Have been hesitant in home automation because everything seems to be in someone’s cloud.  I want to keep everything local.

Edit:  Some things I would eventually like to accomplish.  
1. House has central air with one zone.  A den with lots of sun load is far from the thermostat, and get really hot.  That is fine when it is not in use, but uncomfortable when we are using it.  would like a thermostat that can handle a remote input of temperature, and presence of people to crank out more cool.
2. A fan in the attic has a manual switch and thermostat that is in the attic.  would like to control this without going in the attic.
3  video doorbell that records to my NAS, 
These all seem a bit daunting given I don't even know how to use HA to turn a light on and off."	8	"['docwisdom: Watch some videos from Everything Smart Home and Smart Home Solver on the TubeYou', 'Shooter_Q: Well, I think if you start with an objective you’ll have what you need to start searching for what equipment makes sense to accomplish it. \n\nThere’s no shortage of local-only hardware and integrations, but you just have to decide what you’d like to do.', ""Keliam: +1 to what /u/Shooter_Q said. Start with a desire/frustration that needs a solution. For me, that was a 100 year old house that had suboptimal lighting. I added a few lamps with smart bulbs and smart (battery powered) switches and QOL was instantly improved.\n\nWe were already replacing our garage door opener, so I made sure it was something that I could include with HomeAssistant. I have some alerts set up if the garage is opened while we're away, or if it's been open for a long time (to remind us if we forgot to close it). It also closes up at night when we go to bed, again if we forgot to close it."", 'VoodooMamaJuuju: Smart home solver is great but sometimes the videos are pretty boring', 'schultzy99: Thanks, see my edit to the original post', 'schultzy99: Thanks, see my edit on original post.', 'docwisdom: Yeah some are too basic but his audience is newbies.', 'Shooter_Q: “…I don’t even know how to use HA to turn a light on and off.”\n\nThat looks like a good place to start learning.']"
1682037971.0	20-Apr-2023 17:46:11	Looking for zigbee light sensor that doesn't require motion	dboytim	1	12tkyaj	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tkyaj/looking_for_zigbee_light_sensor_that_doesnt/	"I'm trying to detect when a certain room has the lights on. I can't do a smart light switch or similar for a multitude of reasons (multiple lights in the room that might be used, armored wires in the wall, no space in box behind light switch to add relay modules, etc)

From a bit of research today, it looks like many of the light sensors that are integrated into motion sensors only report when there's motion. I need a light sensor that doesn't need motion. 

Anyone know for sure if the Aqara P1 motion sensor needs motion to give light data? Is there anything else I should look at other than rolling my own ESP8266 based unit?"	6	"[""SamMalone10: Aqara also has a zigbee light sensor. It's about the size of their round temp/humidity sensors, maybe slightly bigger."", 'triangulum-visitor: I just have a regular Aqara zigbee motion sensor ($20 on Amazon) and it exposes a lux sensor to HA showing light levels even when there is no motion.', 'Molokaisylph32: I use these:\n\n[https://www.aliexpress.com/item/1005003813873573.html](https://www.aliexpress.com/item/1005003813873573.html)\n\n&#x200B;\n\nhttps://preview.redd.it/4nwf0734h6va1.png?width=1330&format=png&auto=webp&v=enabled&s=ffc688a94d0894c7cf8aca8c09f2c8f37f9274c0', 'Molokaisylph32: On those the illuminance **updates** when motion is detected only. I have one  of those in the same room as the dedicated light sensor.\n\n&#x200B;\n\nhttps://preview.redd.it/wy2sfpkyi6va1.png?width=1464&format=png&auto=webp&v=enabled&s=9b347ffd7fd14d6be359852b8d6f4a14d6b4a9d1', 'dboytim: ok cool - I\'ll give that a try. For some reason I thought I saw that the ""plain"" motion sensor didn\'t have lux and only certain models (like the P1) did, but I could easily be mis-remembering. Looking at the zigbee2mqtt site right now it is showing luminance on all the aqara motion sensors. If they don\'t need motion then that\'s a perfect fit. Thanks!', ""triangulum-visitor: Before posting this comment I checked my lux graph when I knew no one had stepped foot into the room for the previous 4 hours.  I could see lux changes during that 4 hour period.\n\nI'm not saying it updates every 10 seconds or some fine granularity like that (for obvious battery saving reasons) but it definitely updates when there's been no motion.""]"
1682037577.0	20-Apr-2023 17:39:37	connecting Davis Instruments Airlink sensors to Home Assistant	Altie-McAltface	0	12tksbw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tksbw/connecting_davis_instruments_airlink_sensors_to/	"I have two AirLink air quality sensors that I'd like to have available in HA.

They expose a simple local API that returns a JSON string with their sensor values when queried.

I've tried following a few examples, [Most recently this one](https://community.home-assistant.io/t/davis-weatherlink-integration/134737), of adding a rest API sensor to HA, but it never quite works out the way I want. I can't seem to get both of the AirLinks to show up. I'd like each one to be a device, with the various measurements as entities.

Or better yet, I'd like the temperature and humidity sensors to show up as entities, and for HA to calculate the AQI based on the particulate readings (It doesn't return the actual AQI, just the PPM measurements of different aerosol sizes).

I'm not quite familiar with templates, so maybe I need to do more research, but I was wondering if anyone had any suggestions.

&#x200B;

Here is the relevent portion of my configuration.yaml file:

 

    sensor:
      - name: airlink_outside
        platform: rest
        resource: 'http://192.168.0.128/v1/current_conditions'
        json_attributes:
          - data
        value_template: 'Airlink Outside'
      - platform: template
        sensors:
          temp:
            friendly_name: 'Temperature'
            device_class: temperature
            unit_of_measurement: ""°F""
            value_template: '{{ state_attr(""sensor.airlink_outside"", ""data"")[""conditions""][0][""temp""] }}'
          hum:
            friendly_name: 'Humidity'
            device_class: humidity
            unit_of_measurement: ""%""
            value_template: '{{ state_attr(""sensor.airlink_outside"", ""data"")[""conditions""][0][""hum""] }}'
      - name: airlink_inside
        platform: rest
        resource: 'http://192.168.0.151/v1/current_conditions'
        json_attributes:
          - data
        value_template: 'Airlink Inside'
      - platform: template
        sensors:
          temp:
            friendly_name: 'Temperature'
            device_class: temperature
            unit_of_measurement: ""°F""
            value_template: '{{ state_attr(""sensor.airlink_inside"", ""data"")[""conditions""][0][""temp""] }}'
          hum:
            friendly_name: 'Humidity'
            device_class: humidity
            unit_of_measurement: ""%""
            value_template: '{{ state_attr(""sensor.airlink_inside"", ""data"")[""conditions""][0][""hum""] }}'

  
And here is what shows up on my dashboard (The Outside unit has bad Wifi reception, that's a separate issue):

&#x200B;

https://preview.redd.it/x6pi0r2wt4va1.png?width=513&format=png&auto=webp&v=enabled&s=de85580808c6a4c712823431104d27ac32d61d8d

And here is what the API returns if you send a GET request

&#x200B;

https://preview.redd.it/tbn60nrov4va1.png?width=389&format=png&auto=webp&v=enabled&s=4e57028793696cba47f49b9d13ae7334f678fe73"	0	[]
1682037225.0	20-Apr-2023 17:33:45	Motion detector automation help requested	float16	1	12tkmxm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tkmxm/motion_detector_automation_help_requested/	"Hey, I'm trying to make my first automation and I'm not sure how to do it. I have a motion detector and a light, and I'd like the light to turn on for 5 minutes when there is motion and the sun is down, and refresh the turn off delay if motion is detected again within that time. I'm not sure how to do it in Home Assistant, so I'd like some help on this.

In software, I would make the motion detector send motion detected events to anyone listening. Then the light would listen for such an event and have a motion detected event handler. Thus, I want something like this pseudocode

    Light:
        function constructor:
            subscribe motion_detected_event_handler to motion_detected_event
            turn_off_time = none
    
        function motion_detected_event_handler:
            if sun.is_down:
                turn_off_time = now + 5 minutes
                if is_off:
                    turn_on()
                wait for 5 minutes
                if now > turn_off_time:
                    turn_off()"	8	"['HelixLegion27: Create an \'input boolean\' from settings > devices & services > helpers >  create helper > toggle\n\nGive it a name, say ""presence"" = input\\_boolean.presence\n\nNow create a new automation1\n\nTrigger #1: state, Entity: motion sensor, from: clear, to: detected\n\nfrom this trigger\'s 3 dot menu, select edit ID and give it an ID = \'motion detected\'\n\nTrigger #2: state, Entity: motion sensor, from: detected, to: clear, for: 5 mins\n\nfrom this trigger\'s 3 dot menu, select edit ID and give it an ID = \'motion cleared\'\n\naction #1: if - then, if : add condition > triggered by > trigger id: \'motion detected\'\n\nthen: add action: call service > input\\_boolean.turn\\_on, entity id: input\\_boolean. presence\n\naction #2: if - then, if: add condition > triggered by > trigger id: \'motion cleared\'\n\nthen: add action: call service > input\\_boolean.turn\\_off, entity id: input\\_boolean. presence\n\nRecap:\n\n1. You created a new presence sensor called ""input\\_boolean.presence""\n2. You created a new automation that sets the state of this presence sensor\n\na) when the motion sensor detects motion, it triggers this automation\n\nb) trigger #1 detects motion and causes action #1 to turn on \'input\\_boolean.presence\'\n\nc) when the motion sensor \'clears\' motion, it also triggers this automation\n\nd) trigger #2 fires when the motion has been cleared for 5 minutes, action #2 then turns off\'input\\_boolean.presence\'\n\nThis automation sets the state of the presence sensor, that stays on while there is motion and turns off 5 minutes after the motion has been cleared. Which I believe is your intention.\n\nNow for your lights, you will create a new automation. But you will use the \'input\\_boolean.presence\' as the trigger. Whenever the presence sensor is \'on\', the light should be on. When the presence sensor turns off, you will trigger the light to off.\n\nIn this automation, you will set the condition: state > entity \'sun.sun\', state:  below horizon. This way light is only turned on at night.\n\nThis can all be done in the UI. The presence sensor can also be made using template sensors but I think that requires a bigger learning curve so this should be the easier method.', 'float16: OK. Got it working. For future readers, this is what I did:\n\n* Make a Boolean helper, call it ""presence"".\n* Make a timer helper, call if ""turn\\_off\\_delay"".\n* Automation: When (device) motion sensor detects motion, (call service) set presence to true.\n* Automation: When motion sensor clears motion, set presence to false.\n* Automation: When (state) presence changes from off to on, turn on the (device) light and (call service) pause turn\\_off\\_delay.\n* Automation: When presence changes from on to off, start turn\\_off\\_delay with time 5 minutes, which you can input as ""00:05:00"".\n* Automation: When (state) turn\\_off\\_delay changes from active to idle, turn off the light.\n\nI\'m keeping the presence helper because it could be useful for other things. Maybe there is a more elegant way of doing this, but it\'s not obvious. Home Assistant documentation is pretty shit.', 'Shooter_Q: What motion sensor are you using and have made any changes to onboard detection interval? \n\nThe automation need not worry about blind time if your sensor can handle it; sometimes you’ll end up fighting the sensor if this isn’t taken into account.', 'LogDog2012: I would make your trigger motion detected - then do a ""wait for trigger"" action, which waits for motion not detected for 5 min and then turns the lights off.  You can give it like a 2 hour timeout for the odd time that it gets stuck or something.  I think this is the simplest way.', ""float16: Thanks; I'll try it out."", ""float16: OK, maybe there is something I don't understand about this Duration option on Trigger #2. Does it mean\n\n* wait for 5 minutes and then take the actions, or\n* take the action only if the trigger is maintained for 5 minutes?\n\nThis would not work if it's the former. Here is what I think can happen. Let's ignore the sun for simplicity.\n\n>Motion is detected -> the presence turns on -> the light turns on. Shortly after, motion is cleared -> wait 5 minutes.  \n>  \n>2 minutes in, motion is detected -> the presence is already on, no effect -> the light is already on, no effect. Shortly after, motion is cleared -> wait 5 minutes.  \n>  \n>3 minutes later, the first automation turns the presence off -> the light turns off.\n\nSo, the light didn't stay on long enough."", ""float16: I'm actually using a Ring doorbell camera. There are motion detected and cleared events."", ""HelixLegion27: From my understanding it's the latter. Take action only if the trigger is maintained for 5 minutes. Which is what you want. \n\nSo if there is motion, then it clears for 2 minutes then some more motion, the presence sensor stays on the entire time. \n\nOnly if the motion clears and has been cleared for 5 minutes will trigger 2 fire and clear the presence.\n\nhttps://www.home-assistant.io/docs/automation/trigger/\n\nYou can scroll down to 'holding a state or attribute'. It talks about the use of 'for' to ensure the state has been true for a set period of time before proceeding with the action.""]"
1682034152.0	20-Apr-2023 16:42:32	Any smart options for these pull cord style blinds?	docwisdom	7	12tjc07	homeassistant	https://i.redd.it/wvy9fev336va1.jpg		11	['thewouser: I had similar. Ended up changing the cord with a beaded cord and then you have multiple options!\n\nI didnt want the headache of a slipping cord and unreliable results. Couldnt be happier with my beaded cords. Also took really short ones so the motor is mostly out of sight', 'Dougal-d: I use the aqara roller blind motor. It has a normal cord, not the ball type chain. I just wrap an elastic band around the wheel so it grips the cord.', 'RemingtonStyle: [https://www.aqara.com/en/product/roller-shade-driver-e1](https://www.aqara.com/en/product/roller-shade-driver-e1)', 'jkm729: I have been using Soma smart shades for over 4 years. Very happy with them. I use the Soma Connect with the Soma HA integration. Works very well.', 'DIY_CHRIS: Zenismart', 'docwisdom: That sounds like a good mod', 'scottymcraig: This is only for beaded style cables. OP does not have beads.', 'Vezajin2: I have two of these, I can only recommend!', 'thewouser: Seriously worth it!', 'docwisdom: Did you have to change any of the mechanism or just the cord itself', 'thewouser: In my case i just removed the blinds and after that i was able to remove the endcaps and easily change the cord. \n\nAll in all including figuring out 10-15 mins work!']
1682031595.0	20-Apr-2023 15:59:55	MoesGo ‘MS-105BZ’ in Pairing mode	noratryptamine	0	12ti7pg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ti7pg/moesgo_ms105bz_in_pairing_mode/	" 

Dear Community,

i have a MS-105BZ dual zigbee dimmer.  
I do not know how to get it into pairing mode.

In the manual it says:

>After the wiring of switch module is done, press the reset switch for 10 times (keep time interval not too short) until the beep sounds continuously and rapidly as Di-Di-Di… for pairing mode.

I tried clicking the stupid buttons thousands of times in different intervals. There is just nothing changing. The lights turn on or off but there is no pairing mode.

Does anybody have an idea?"	1	['Molokaisylph32: The video is in Portuguese but shows the pairing process: [https://youtu.be/f7x93k0ol9A?t=420](https://youtu.be/f7x93k0ol9A?t=420)']
1682031136.0	20-Apr-2023 15:52:16	Defining success for the Open Home Voice Assistant	balloob	40	12ti0l2	homeassistant	https://building.open-home.io/success-of-the-open-home/		7	"[""longunmin: Dream wish.  Easily configurable local voice assistant with attractive hardware that isn't deprecated within 1 pi software update (looking at you Matrix Voice)\n\nDream Dream wish.  Open Assistant models small enough that I can run them locally with the aforementioned voice assistant"", ""ufgrat: openAI's whisper project does a pretty remarkable job of translating speech to text, and can translate from multiple languages to English.\n\nThe idea of a bluetooth microphone / speaker that can send a message to MQTT, which fires it off to Whisper for decoding, and then sends back the answer to the bluetooth speaker sounds fairly simple."", ""5h4d0w: I don't think it's that far off. The espbox gets us pretty far on the hardware side, and chatgpt makes intelligent control within reach - https://www.adafruit.com/product/5290"", ""diagnosedADHD: Yup, I've been using openai API to create dynamic responses for tts that even creates valid ssml markup and it's awesome! You can finally create dynamic responses that blow punches or go beyond what even current gen voice assistants are capable of. It's only a matter of time until there are pretrained models available that can run on lower end hardware that allow you to give it a list of entities/actions and it'll be able to interpret intent on the fly"", 'jkirkcaldy: I don’t think chatgpt is the answer here. All you’re doing then is moving from one cloud provider to another. \n\nThe difficult bit isn’t the figuring out what you want to do, the difficult bit is the speech to text. That’s why the big players started by sending your speech to the cloud to be processed.\n\nI wonder if there is a way where you could have a completely local voice assistant using a hub model. \n\nYou have a central hub based of something like the nvidia jetson running openai-whisper for local speech to text transcription with hardware acceleration that sends your intent to home assistant, then have cheaper esp based devices that you have in each room. \n\nThat shouldn’t be too difficult to integrate into home assistant and keeps everything local. \n\nIt would have a higher buy in cost but is then cheaper to add additional devices.', 'longunmin: Do you have a write up on that by any chance? Still not local, but better then feeding it to MSFT', ""diagnosedADHD: You have to sign up as a developer in open ai, generate a key and follow their docs/mess around in the playground, this costs money, but it's literally pennies\n\nI'm using the http request node in nodered and I have a prompt with a list of rules for it to follow, I also feed it back it's last response in the prompt to keep it original and to give it some context which has led to some very interesting results lol.\n\nWhat I'm doing is I'm weighing myself on a Bluetooth scale and I'm telling chatgpt how much I weigh and I tell it to tell me how much I weigh and what the difference was from last time, which is nice for weighing stuff. One time it eventually decided to become a pirate and all the text I got back was in pirate which was a lot of fun until I had to restart nodered:/""]"
1682027807.0	20-Apr-2023 14:56:47	Finally worked out how to automate my shutters!	nateguchi	324	12tgj8h	homeassistant	https://v.redd.it/59732ys8k5va1		49	"['AnxiouslyPessimistic: Have you got more details of the build? What kind of shutters are they? Wooden?', 'ChrisB911: Did you steal my RC car from when I was 11?!?!', 'rotinom: Yeah, details or GTFO 😁', 'nateguchi: SO. Thanks for waiting…\n\nI’ve been wanting to automate my wooden plantation shutters ever since I got them over 2 years ago, but unfortunately there’s no off the shelf products that can do this (that I could find).\n\nSo I thought this was a good project to learn CAD and 3D Printing. I’ve designed a clip that attaches to one of the shutter blades and a lever that attaches to a standard RC servo. Stuck the motor and the clips on to the shutters with command strips and surprisingly it all works quite well.\n\nThe controller is an orangepi zero attached to a servo control board. I’ve written up a nodejs program that connects to HA with MQTT and exposes each individual panel of the shutters as a cover.\n\nSome remaining challenges are wiring (I’ll run in trunking behind the shutters), making a nice box for the controller (3d printed) and polishing the software.\n\n\nSome more pictures here: https://imgur.com/a/UdfSwbK\n\n\nCAD files: https://cad.onshape.com/documents/17e0b346e33a166107ba8455/w/6d46be8f74ad34897633b4c4/e/bc1b05743732a7de1f92bb66?renderMode=0&uiState=6442501a919eb124751983dd\n\nCode:\nhttps://github.com/nateguchi/shutters/', 'Nickno: Nice. You, gonna show anything else about it, what you used, etc?', 'Jes_Cr: https://preview.redd.it/xqkexq2zo6va1.png?width=1080&format=pjpg&auto=webp&v=enabled&s=7a5b2856d1cfe65df13e0f1e7a151c9ec5ec1f66', ""Pleasant-Phase: Please share the details. I've been wanting to do this for so long."", 'dravenstone: I don’t even have a need for this and want to know how you did it', 'RJM_50:  There are options now for this | Zemismart Tuya Zigbee Smart Curtain Motor with Solar Panel Adjustable for Window Shutters Blinds Shade Alexa Google Home Control\nhttps://a.aliexpress.com/_mK2hwGs', ""Clutch70: Oh dude project details please!!! I've got those exact same shutters."", 'daern2: Stick a big light behind, bit of simple ASCII -> Morse translation and you have a perfect naval signalling lamp usable from the comfort of your own home!', 'casuallycamping: I need to know more!!', 'chazwhiz: Dude, details.', 'wilkie09: May I have the details kind sir. I too have plantation blinds and have thought about this a lot', 'goobags_: This is painful not having any details', 'CaptainAwesome06: OP has trained a tiny mouse to operate his shutters.  Now only if he could get the mouse to stop whining.', 'mrbigbluff21: Love the idea of adding in a light sensor and have this open/close based on light sensed in window. Day open night closed.', '_ben_reilly: Eh bruh, how da fuck you do dis?', 'Fonethree: Good for you? Please show us something more than shutters opening and closing...', 'FoShizzleShindig: You can not leave us hanging. I have the same shutter style and need to do this!', 'nateguchi: Sorry I posted this just before bed! Will post more details soon', 'None: [removed]', 'Squeebee007: And here I finally found a shutter automation on Amazon that worked.', 'crabby-owlbear: Are these plantation shutters?', '10111011110101: You have clearly just hired a mouse to flip them for you.', 'tf7jfrujc: Grabbing popcorn', 'csilv99: as a homeowner with shutters on every window, very interested in this. 👏', 'James_Lodge: Yes, I have the same shutter and have wondered for a long time how to achieve this. Would appreciate more information on your setup', 'James_Lodge: I’m guessing your shutters aren’t split? So all Louvre’s move together? Ours are split 2/3 1/3', 'EFaden: You need to put all this into a GitHub', 'chicagoandy: Awesome.   I have questions!\n\nWhat servos did you use?   Did you consider steppers instead?\n\nDid you consider arduino instead of Pi ?', 'Jizzay1: Would like to know more as well - I have wood shutters that need controlling!', 'UntouchedWagons: These are probably vinyl shutters with aluminium framing inside.', 'nateguchi: Can’t beat the sound of RC servos', 'nateguchi: Posted below!', 'OrFir99: I agree ☝️', 'rotinom: OK, I started down this road. I don\'t have a 3d printer, so glad that my thought/intuition that a 3d printed bracket would work well.  My prototype was a piece of safety pin stuck in the edge of the shutter attached to the servo.\n\nMy design thoughts:\n\n* Torque didn\'t seem really important. I had some lightweight servos that worked fine. Of course running strong servos at 10% of duty is a recipe for long life\n* Integrating w/ servos that had built-in pot\'s seemed like a good idea. \n   * On recovery from power failure, you can see where you are physically without having to return to zero\n   * The varying tolerances of servos and shutters allow for self calibration\n   * Can detect jams of the physical systems and prevent crash/breakage\n* Was looking to power them via solar and batteries, then run the micro-controllers in as deep a sleep as I can get away with.  Shutters won\'t need to move **much** throughout the day, so a single control-battery-charge pack could (notionally) power a set of shutters with no visible wires from the interior of the house\n   * Control latency is something that needs to be explored.  Having a microcontroller wake up every minute to check a queue for commands doesn\'t ""feel"" very responsive.\n   * Wifi/Bluetooth control are a requirement\n* May need to account for condensation depending on your windows.  All windows aren\'t perfectly sealed (As I sit here in my 20+ year old house)\n* In the worst place in my house, I have 4 windows 20 feet in the air\n   * Each window has an upper and lower shutter\n   * Ideally, one power-pack would have the 8 servo\'s to control and manage all of these with minimal cost/effort.\n   * Signal wire length may be a concern from what I understand\n\n&#x200B;\n\nOtherwise, really cool to see progression in this space.  Not a lot of people have tackled it!', 'nateguchi: For anyone wondering, the servos are Tower Pro MG92, these are tiny but have loads of torque.', 'lotavio69: This looks very cool. Thanks for sharing your project with the community! 👍🏼', ""nateguchi: Haven't seen that before! Quite expensive though. I've installed mine on a bay window with 7 shutters on. That's a lot of money and little solar panels!"", ""AutoModerator: Please send the RemindMe [as a PM](https://reddit.com/message/compose/?to=RemindMeBot&subject=Reminder&message=%5Bhttps://www.reddit.com/r/homeassistant/comments/12tgj8h/finally_worked_out_how_to_automate_my_shutters/jh34qm7/%5D%0A%0A!RemindMe%09me%092) instead, to reduce notification spam for OP :)\n\nNote that you can also use Reddit's Follow feature to get notified about new replies to the post (click on the bell icon)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/homeassistant) if you have any questions or concerns.*"", 'psinsyd: Yes', 'Cook1e_mr: I am 99% certain this is diy servo based. So you should still be able to follow along.\nYou would just need more servos \n\nThere is a good video example [here](https://youtu.be/Hwe4bTJaqzg)\n\nAnd a good write up example [here](http://www.mysmarthomeblog.com/page--23.html)', ""nateguchi: They're split 80/20, I've only automated the bottom 80% though"", 'nateguchi: CAD files: [https://cad.onshape.com/documents/17e0b346e33a166107ba8455/w/6d46be8f74ad34897633b4c4/e/bc1b05743732a7de1f92bb66?renderMode=0&uiState=6442501a919eb124751983dd](https://cad.onshape.com/documents/17e0b346e33a166107ba8455/w/6d46be8f74ad34897633b4c4/e/bc1b05743732a7de1f92bb66?renderMode=0&uiState=6442501a919eb124751983dd)  \n\n\nCode:   \n[https://github.com/nateguchi/shutters/](https://github.com/nateguchi/shutters/)', ""Cook1e_mr: Will assume you are driving servos with either esphome either using an esp32 or an rp2040. Do you have the esphome code stored anywhere that I can reference.\n\nI'm very interested in how you have hidden the servos and boards."", 'hirscheyyaltern: a tip for anyone without 3d printers is check your local library!!! local libraries often have basic 3d printers and will print stuff with PLA for a very very small fee. my local library charges 10 cents a gram and the one a city away only charges 5. honestly super easy solution for the occasional 3d print', ""RJM_50: RC servo motors, ESP controllers, batteries or USB power supply, 3D printer to house everything isn't cheap either.  This was pre-engineered, assembled, is available in Zwave or WiFi chips, and will drop in price over time."", 'James_Lodge: Thanks.']"
1682023966.0	20-Apr-2023 13:52:46	Can I use a Samsung NVMe M.2 internal SSD as a data disk for Homeassistant?	Catalina28TO	0	12tes9d	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tes9d/can_i_use_a_samsung_nvme_m2_internal_ssd_as_a/	"Will this Samsung NVMe m.2 internal SSD work as a data disk (not boot disk) for  Homeassistant.  It is housed in a pluggable USB enclosure, it is USB C  compatible up to USB 3.1 gen 2 speeds.

I am currently running HAOS on my Odroid N2+ with a 32GB emmc module.   I have concerns about lifetime and reliability. I see under Settings →  System → Storage → there is a function to move the data disk.

Could I just plug it into the powered USB hub where my Zigbee and  Z-Wave sticks are?  Will this affect my backup created daily using the  Samba Backup plugin?  Has anyone with an Odroid N2+ actually done this?

https://preview.redd.it/hl9yzb78r3va1.jpg?width=804&format=pjpg&auto=webp&v=enabled&s=cbad097f2cf1ac1a80d975c02ebb37af45563e41"	2	"['AlsoNotTheMamma: On a Pi 4, yes.  I ran everything off an 970 EVO M.2 in a USB enclosure, OS, Data, the works.  It ran wonderfully.\n\nI would suggest having a heatsink on the CPU and USB controller, though, along with a fan.', ""_who__cares_: If you plan on using an ssd don't just use it as your data disk. Run the whole OS on it because your SD Card WILL fail eventually. I'm running my installation on a sata ssd for almost two years now without a problem. The previous SD card failed after about a year.""]"
1682023588.0	20-Apr-2023 13:46:28	Fresh install; cannot see Addons link within Settings	RoachForLife	0	12telwp	homeassistant	https://www.reddit.com/r/homeassistant/comments/12telwp/fresh_install_cannot_see_addons_link_within/	"Hi all, so I am brand new to HA so please go easy on me. I installed a few hours ago via Container Station on my QNAP, seemed straight forward. I want to edit the YAML file and saw via a YT tutorial to install File Editor via Addons however when I go to Settings (turned on Adv Mode first) it is not shown. Is it possible that this newer release it has moved elsewhere? 

&#x200B;

Here are my system info page if that helps

 Versioncore-2023.4.5  
Installation TypeHome Assistant Container  
Development false  
Supervisor false  
Docker true  
User root  
Virtual Environment false  
Python Version 3.10.10  
Operating System Family Linux  
Operating System Version 5.10.60-qnap  
CPU Architecture x86\_64  
Directory/config 

Also to note I also set up a pihole last week so I thought it may be related. I tried disabling it, no change. Tried even changing my PC to googles DNS with no change. I tried multiple browsers, incognito mode on them as well, no change. Everything from an installation seemed like it worked without issue.

Any thoughts on what to check next? Im hoping maybe its just moved somewhere else and I am just missing it completely. Thanks all!"	7	"[""Skro9899: IIRC (and if I read this post correctly) you can't have add-ons on a Container HA ([https://community.home-assistant.io/t/addons-for-docker-installation/436190](https://community.home-assistant.io/t/addons-for-docker-installation/436190) )"", 'RoachForLife: Oh gotcha. Dang that stinks. Was hoping to just leverage this box to try out Home Assistant before getting another device. Guess I may need to look for alternatives', ""mkeehn: You can run it in Virtualization Station as well on the QNAP. That's what I'm doing and it works great and gives you add-ons."", ""RoachForLife: Oh wow thanks ive never tried that before. I'll need to look into it. Curious, how does it do in terms of impact to the Nas? Much of a hit to the overall cpu/memory usage? Thanks"", 'RoachForLife: Also I assume you can add zwave and zigbee dongles to the qnap and it still detects?', ""mkeehn: I can't say I've measured anything but I've never really noticed any issues. I run that along with my ubiquiti controller in a container as well as plex and they all seem good. Not a guarantee, but it works for me."", 'mkeehn: Yep!']"
1682023442.0	20-Apr-2023 13:44:02	Looking for some zigbee light switches like these for bedside lamps. I would like to be able to control them smartly but also intuitively like a normal light switch on my existing lamps. Do any exist?	AlvTellez	32	12tejfd	homeassistant	https://i.redd.it/sjrhwzmhp3va1.jpg		34	"[""albatorsk: I have a couple of these [HZC Smart Cord Dimmer](https://youtu.be/2wt4LpRe3xo) which I have been using for about 6 months now. They've been working great so far. \n\nThey're available both in Zigbee and in Z-Wave variants. The Z-Wave model has power metering as well.\n\nThey're quite large, but not disturbingly so."", 'avendruscolo: No zigbee, but I bought a bunch of Shelly Buttons and replaced three lamp switches. They’re basically a fancy enclosure to hold a Shelly 1.', 'JeanneD4Rk: You can hide the cord from view and put a ""fake"" switch, wired to a sonoff mini', 'Eolach: I know what you meant but I opted for smart wall plug and use a zigbee button - means I can control room and bedside lights from the one switch', 'Ok-Entertainment6742: I considered one of these for a while. Ended up with something else, but worth a look - https://amzn.eu/d/h7pEmKQ', 'ChipBeef2354: Why not just get a button?', 'thePZ: Not Zigbee, but Lutron makes their lamp dimmers that work with RA2 select which is essentially exactly what you are looking for\n\n[Tabletop Lamp Dimmer](https://i.imgur.com/1n5CNU2.jpg)\n\nAlternatively you could use something like the sonoff mini switches, disect your cord to have it run through the sonoff mini. But you’d need to 3D print a custom enclosure', 'mylospark: Smart socket and a flic on/next to the light?', ""caggodn: You could do it with those exact switches if you want.  DIY!  \n\nHere's [my guide](https://www.reddit.com/r/homeautomation/comments/59035c/diy_zwave_lamp_module_w_local_control/) using a zwave switch solution, but similar zigbee devices exist.  I actually redid this build with a [zwave dual relay](https://www.amazon.com/Individually-Repeater-SmartThings-Assistant-Separately/dp/B0B5VRGF3T/ref=sr_1_2?crid=2Z5JM8H99C2PM&keywords=zigbee%2Bdual%2Brelay&qid=1682039145&sprefix=zigbee%2Bdual%2Brelay%2Caps%2C75&sr=8-2&th=1).  One power source wire in, two electrical plugs out, and two switches out - all in one project box hidden under the middle of the headboard on our bed.  I used dual sided 3M foam tape to adhere the switch to the side of bedside stand."", 'left4taco: Or add a cheap smart plug and a Zigbee button. It works for me well', 'run1fast: I use these Ikea buttons (zigbee). They look pretty similar to what you want. They say Dimmer, but with HA, you can make them on/off only or dimmer or whatever.\n\n[https://www.ikea.com/us/en/p/tradfri-wireless-dimmer-smart-white-10408598/](https://www.ikea.com/us/en/p/tradfri-wireless-dimmer-smart-white-10408598/)', ""Tecchie088: Not Zigbee, but I've been using Shelly 1 (Wi-Fi) + Button for over 2 years now, and it's been working great."", 'if_i_fits_i_sits5: Not Zigbee, but why not get a button like a Zooz wireless switch, and program it to control the light switch on each nightstand? \n\nI’ve done this with great success using ZWave\n\nhttps://www.thesmartesthouse.com/products/zooz-z-wave-plus-700-series-remote-switch-zen34-battery-powered?variant=39566560985151&currency=USD&utm_medium=product_sync&utm_source=google&utm_content=sag_organic&utm_campaign=sag_organic', ""ManicMods: You can use a smart plug as a master switch, then set sensible routines to ensure it's on when needed.   Those switches are analog, and should play nice.  If you wanted a convenient switch and control of each, you can use two smart plugs and a hand held scene controller.  I currently use this:\n\nZ-Wave Plus Remote Switch, Scene Wall Switch Controller, 4 Z-Wave Button, Work with Z Wave Hubs(MR40Z) \nhttps://a.co/d/7vC7oCg\n\nI've got some other great automation ideas and workarounds in my new YouTube channel if you want to check it out!  I just launched ManicMods there and published a video with 20 + Home Automations yesterday 🙂"", 'logikgear: I changed out the switch that was on my bed side tables. Replaced with a shelly1 and momentary button. Once programmed works just like a normal push on push-off function but then we can control them through home assistant or automations. Or even the Shelly app if you are so inclined. Definitely a major DIY though.', 'PerceptionGood-: I’ve been using this zigbee lamp dimmer for a while it’s pretty reliable\n\niolloi Inline Zigbee Dimmer Switch, Push ON/OFF Rotary Trailing Edge Dimmer Switch for Dimmable LED/Incandescent/Halogen Bulbs, 50 Watts, Rewireable Cord Dimmer(1-5 LEDs) https://amzn.eu/d/3JRPfnI', 'FinnElhaz: Just get a ZigBee bulb and a button you can stick to the nightstand.', '577564842: Open this swich, cut the cord in there and replace the part to the lamp with a 4-wire one. Connect 2 wires to the switch, the other two directly to the input wire from the wall plug. Use any of numerous zigbee (mini) switches that can be mounted into the lamp (usually ample space there) to control the lamp, with aux switch (using the two wires that are not connected to the plug but to the switch).', 'mr1337: Found it on Alibaba, do you have another source with lower MOQ & shipping?', 'AlvTellez: I wish there was a normal switch one I could use with non-dimming LED bulbs', 'nateguchi: Frustratingly i replaced all our lamp dinners with these and then one day they all broke. I’m assuming some kind of overvoltage/frequency surge that blew them as they don’t even turn on now', 'buss_lichtjaar: I used to have this one for a lamp with a non-standard light bulb. Can recommend it! Next to on/off it also allows you to dim. Plus, it is fully supported by Z2M', ""AlvTellez: A switch like this is straightforward to anyone that comes into the house, whether they know anything about smart lights or not, whether they are 15 or 90. \n\nI could build some switches into the walls and hard-wire my lamps to them, or get smart plugs and remove the switches from my current lamps, but it's much more work and money than just getting some of these if they exist."", ""porchdenizen: If a Shelly relay can be hidden in the lamp base then ANY dumb switch can be used and the lamp will be fully operational on local wifi and manual.  It doesn't matter which switch toggles, the lamp toggles"", ""Nyghtshayde: I've had a number of these and found them to be problematic. The batteries would drain rapidly which was a known issue fixed by a firmware upgrade. After that they would come on and off the network randomly. Other have good success with them but I did not. The Xiaomi button though has been very solid as has the Hue dimmer button."", ""the012345: I've got one of these but found the build quality pretty bad. They work very well though"", 'EntertainmentUsual87: You could use the Sonoff basic, but the button is going to be small.', ""ChipBeef2354: I can't say I've seen anything like this but to be honest I mostly just look for interesting Zigbee devices."", ""Gowlhunter: You would need to think about whether you want to continue using the indicator light or not.  \nIf using a zigbee smart module:  \nif you still want that indicator light to be synced with the power state of the light then you're going to need to isolate the switch from the indicator light and have the indicator light in parallel with the load out on the zigbee module.  \nThat seems like the reason why this isn't commonly found but it's doable.  \nI can create a diagram illustrating what I mean, if you would like"", 'brintal: I have more than 10 of the Ikea Dimmers in my house and zero issues with them. \nMaybe you have some Wifi interference in your house? I had the issue of some ZigBee devices falling off the network randomly before I changed the ZigBee channel.', 'PerceptionGood-: Yeah they are very cheap feeling inside. The soldering was good on the board though and it feels okay on the outside. For £12 can’t really complain', 'Nyghtshayde: Certainly possible although it would feel a bit odd that most of my sensors etc operate perfectly and never lose connection and the IKEA buttons do constantly.  Still there might be some quirk in my setup that makes the IKEA ones particularly vulnerable - HA can be a bit like that sometimes.', ""brintal: Are you controlling the behavior (e g. Turn lamp in when button is pressed) in HA?\nBecause with the ZigBee dimmers I use the binding feature of zigbee2mqtt which basically bypasses HA completely. Maybe that's the difference?"", ""Nyghtshayde: Using them to trigger a few automations, rather than control a single light or light group. Good tip on binding though, I'd wondered what all that was about!""]"
1682020765.0	20-Apr-2023 12:59:25	Esphome update adds microphone support!!!	jmcgeejr	38	12tda6k	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tda6k/esphome_update_adds_microphone_support/	Wonder how long till I can use my muse luxe to work with voice controls to HA instead of siri/alexa!	15	"[""jakabo27: I wonder if we're getting closer to an Alexa replacement for basic functions like alarms, timers, and telling me the weather"", 'AssDimple: nice.  One step closer to my automated dog bark deterrent.', 'ianganderton: Im wondering whether hacking one one of the echos with an esp board is going to be a good and cost effective way of creating a HA compatible smart speaker?\n\nThere could well be room in a std echo or studio', 'tf7jfrujc: Waiting for the first fully-capable esphome smart doorbell', ""Time-Button4999: We're in the endgame now."", 'Ok_Weird6418: Looks like it will be in the May release! - [Voice Assistant — ESPHome](https://www.esphome.io/components/voice_assistant.html)', 'willertan: So, can I use it as noise detector from neighbors wall?', '_Rand_: Keeping in mind that esphome is also a nabu casa project I suspect this is the reason.\n\nNot today mind, but looking forward it makes a lot of sense to introduce support.', ""tagini: Seeing the whole paragraph about hardware in the latest newsletter, I'd say they're definitely moving in that direction."", 'jlamont2: This can already be done using an Arduino audio detector board.  Have it set to close my curtains if my dogs start to bark. (they just really close with loud noise.)', 'lkernan: I hope someone figures this out. \n\nSwapping the guts of a Google Home Mini or Echo would save a lot of waste and give a nice enclosure and speaker.', 'brintal: That would be sick.\nAll of my Google nest speakers basically became paper weights by now because Google keeps messing things up.\n  \nWould love a HA only solution.', ""longunmin: Don't.... Don't give me hope..."", 'spoolin__: Newsletter?', ""tagini: Yup, Nabu Casa's newsletter: https://building.open-home.io/""]"
1682020699.0	20-Apr-2023 12:58:19	e-ink dashboard?	crepuscopoli	0	12td90q	homeassistant	https://www.reddit.com/r/homeassistant/comments/12td90q/eink_dashboard/	"Hi!  
I'd like to have an e-ink, touchscreen dashboard which could directly control home assistant by tapping on the display.

Is that possible? Are there readymade products to buy?"	6	"['tarzan_nojane: search this subreddit for ""e ink"".  There are dozens of posts on this topic.', ""AlpsRight9388: Maybe this? https://www.tindie.com/products/plab/home-buttons/ \nif you're looking for something small and simple"", ""mscottco: There are waveshare e-ink displays and controllers that are compatible with ESPHome that'll work for the dashboard bit... Unfortunately no touchscreen option that I'm aware of though"", ""GirlFromCodeineCity: I really like this, but it doesn't really answer the question"", ""crepuscopoli: > Unfortunately no touchscreen option that I'm aware of though\n\nOh really?   \nHow would you input?"", ""mscottco: It's possible to wire up buttons and what not for more analog inputs... Ends up looking like the [Inky Frame from Pimoroni](https://shop.pimoroni.com/products/inky-frame-7-3?variant=40541882056787) although its got a Pico W onboard...\n\nGiven the somewhat slow refresh rate of an e-ink display, I don't know that it'd be a good experience with a touchscreen (although someone may be able to point towards a use case where it's been implemented and works well).\n\nMost of the e-ink display projects I've seen for HomeAsssistant end up being more of a lower power display for data that doesn't need to be updated super often (closer to minutes than milliseconds).\n\nI'm curious what your use case is? Are you thinking touchscreen for controlling lights or was the touch for some other control?""]"
1682018782.0	20-Apr-2023 12:26:22	Ui integration - block internet	Duffbeerisgood	0	12tcbix	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tcbix/ui_integration_block_internet/	"I currently have a ""traffic rule"" in my unifi controller that blocks all traffic leaving my network during dinner time. Which is my attempt of keeping the kids and wife off the internet for a few hours during the day. But all my home system keep working locally. 

I would like to take it a step further and integrate this into HA so I can have a physical or soft button that turns off the internet, and our further automations around this...


Has anyone manipulate traffic rules from HA? Is there a better way? 



-D"	1	['Icy-Corgi-3955: I use Unifi integration and in integration you have possibility to add devices you want to track. There you can choose all of devices you want to track. After you add them you will find a lot of entities for each of devices you chose to track via Unifi integration. One of entities should be switch (as in picture below). By toggling switch device is disconnected from Wifi. Then you can use automation (and your imagination) on how you want to disable devices. I am using ikea On Off button via zigbee as wife likes to have really simple and bulletproof solution that always works. Kids still dont understand how Wifi magically disappears when lunch starts😂\n\nhttps://preview.redd.it/ehf4ar7yg5va1.jpeg?width=1125&format=pjpg&auto=webp&v=enabled&s=5ebd5d7217908dca63297ccadb50948676086379']
1682018355.0	20-Apr-2023 12:19:15	Tracking electricity usage from multiple Sonoff s31 plugs as one?	hermy65	2	12tc4go	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tc4go/tracking_electricity_usage_from_multiple_sonoff/	Title says it all, ive got a handful of Sonoff s31 plugs flashed with Tasmota in one area and i would like to track their electricity usage combined, as if they were just one device. Is this possible and if so, how does a person do this?	4	"['undeleted_username: Crete a template sensor, that adds the values of all three sensors.', ""put_on_the_mask: Under Devices & Integrations, click the Helper heading, then create helper.  Select group, then sensor group, and add the entities you want to include. For type, select Sum, and give the helper a name, then you've got yourself an entity with the number you want."", 'hermy65: Whoa! did not know you could group things like that thanks!\n\nI went a step further and created a utility meter so i could do reset cycles but i dont think its working the way its supposed to. \n\n[Utility Meter](https://imgur.com/SOIBvpW) At the bottom it shows the correct value for the day but at the top in the utility meter it shows something completely weird.', 'pops107: You might need to feed them into https://www.home-assistant.io/integrations/integration/ first, you can  do this in the same helper section.\n\nSo output your current Watts from the plug into the integration so you get a continous kwh output, then plum that into the utility meter.\n\nThen create a template to add the 3 kwh output into one and feed that into a utility meter as total output']"
1682017588.0	20-Apr-2023 12:06:28	Xfinity sensor pairing mode?	heroar	0	12tbr4g	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tbr4g/xfinity_sensor_pairing_mode/	I’m in the process of cancelling Xfinity and hope to pair all the existing door and window alarm sensors to HA via a shiny new Skyconnect dongle.  Anyone know how to reset or otherwise get Xfinity door sensors into pairing mode (Zigbee)?  The sensors are still mounted but I can pull one if needed for disassembly or model numbers etc.  thanks	5	"[""francesc0: Take off the cover, pull the battery and wait 5 seconds, push down on the lever/button for 3 seconds, then insert the battery and let go of the button within 2-3 seconds. You should see the light blink after you let go of the button and then it'll be in pairing mode."", 'vendo232: how often do you change batteries in those sensors?', 'heroar: Excellent.  Thank you!  It worked.  My door sensor was identified as a “Visonic MCT-340 SMA”.', 'heroar: I don’t really keep track, but I’d estimate roughly annually on the door sensors.  Most of my windows are a different sensor (to be identified shortly) and seem to last much longer. I can’t remember ever changing those and just verified are still working after 7 years.  Guesstimating motion sensors go a couple years between changes.', 'vendo232: That is Great!']"
1682017132.0	20-Apr-2023 11:58:52	ESPHome scan trough all modbus registers with integer variable	pluto8x	1	12tbima	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tbima/esphome_scan_trough_all_modbus_registers_with/	"Hello!

I need to scan all modbus registers of my inverter. I tried do create a global variable ""adr"" and increment it on every read - but i get an error:

""**Expected integer, but cannot parse adr as an integer.** ""

Any suggestions?

&#x200B;

    globals:
      -id: adr
       type: int
       restore_value: no
       initial_value: '0'

&#x200B;

and

    sensor:
      - platform: modbus_controller
    modbus_controller_id: growatt
    name: ""register_value""
    id: testread
    address: adr   # <----  how to set this?
    register_type: ""read""
    unit_of_measurement: V
    icon: mdi:flash
    value_type: U_WORD
    on_value:
      then:
       - lambda: 'id(adr) += 1;' 
    accuracy_decimals: 1 
    filters:     
    - multiply: 0.1

&#x200B;"	6	"['pluto8x: Error log...\n\nhttps://preview.redd.it/f57zw16ha8va1.png?width=635&format=png&auto=webp&v=enabled&s=85f64f3b858d7c1202e1e1f4efbe05eebbb5ed4e', ""iWQRLC590apOCyt59Xza: Why do you do this? I think you're supposed to group registers via epshome so it can combine them in as little transactions as possible. Reading one register every interval is inefficient and makes your data inconsistent."", 'mekaneck84: Did you try `address: id(adr).state`?', ""pluto8x: I have a Growatt MIC Inverter and it seems that there is a non documend Register, which saves the number of imported and exporter energy (kWh) of the SDM630. So i wanted do scan over all register to find the right value (which i see in the Inverter's menu).  \nI would need do scan even, uneven word and dword registers."", ""pluto8x: >id(adr).state\n\nNo, doesn't work. I tried eveb id(adr).value and lambda...  \nThis yaml language is really no my favourite language."", 'iWQRLC590apOCyt59Xza: Have you considered running modbus-master software on your computer to perform this scan?  \n\n\nFor example:\n\n[https://sourceforge.net/projects/qmodmaster/](https://sourceforge.net/projects/qmodmaster/)']"
1682016796.0	20-Apr-2023 11:53:16	Fresh install HAos on Odroid xu4, duckdns and nginx not working.	_pvnda	0	12tbcjt	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tbcjt/fresh_install_haos_on_odroid_xu4_duckdns_and/	"I can't seem to get to my system remotely or on my own WiFi. When I installed the Addons I didn't receive any errors in the logs. Even when I try to connect locally I can't seem to get a secure connection, even though the letsencrypt code is running. Http://homeassistant.local:8123 works, https doesn't. My domain.duckdns.org also just times out even though I have forwarded 443 on the router the Odroid IP address (443 private, 443 public). The duckdns points to my public ip address. 

It may help to know that my ISP is Telus (DSL) and I have one of their WiFi Hub modem/router combo (white circular unit) 

 I followed his video here primarily, amongst other videos. https://youtu.be/bADNTSF4Fh4"	0	[]
1682015132.0	20-Apr-2023 11:25:32	Smartdry plug	ThisBytes5	0	12tai3k	homeassistant	https://www.reddit.com/r/homeassistant/comments/12tai3k/smartdry_plug/	"Now that SmartDry has died and the cloud is dead, I have this extra plug that connects to the wifi.

How would I connect it to HA? Anyone know if it can be flashed with something?"	8	"['ingrove: Found this via Google:\n\n [Clothes Dryer Automations - Configuration - Home Assistant Community (home-assistant.io)](https://community.home-assistant.io/t/clothes-dryer-automations/149017/130) \n\nGood luck!', 'techdan98: A simple answer is using one of these: https://shop.theengs.io/products/theengs-plug-smart-plug-ble-gateway-and-energy-consumption . It works great with my smartdry.', 'RoganDawes: Open it up, take pictures, identify the components?', ""wsdog: If it's BLE maybe HA can pick it up. But don't buy cloud dependent products in the future."", 'hollywoood31: Can you elaborate your setup using it?', 'ThisBytes5: At the time it was the only simple way for me to know when dryer was done, shortly after the comp died I bought an emporia view and put esp home on it, so all good now. \n\nI am slowly replacing my cloud dependent devices, to many cloud shutdowns over the last 5 or so years.', 'techdan98: Sure. Theengs exposes the sensors via MQTT.\n\nNo real setup is required beyond theengs connected to wifi and mqtt - as soon as your dryer is running, you will see MQTT entities on HA for humidity, temp, etc.\n\nThen there\'s a formula for computing ""dryness"" in the thread referred to earlier.', 'wsdog: This is the way.']"
1682009762.0	20-Apr-2023 09:56:02	Goodnight routine tends to miss a couple lights.	Okonomiyaki_lover	3	12t7s6q	homeassistant	https://www.reddit.com/r/homeassistant/comments/12t7s6q/goodnight_routine_tends_to_miss_a_couple_lights/	"I use HA with a Hubitat as my zwave/zigbee antenna.  I have a goodnight automation that is exposed to google home to turn everything off.  It often misses one light here or there.  Then, I can say goodnight again and it catches the missed lights.  Is there a better way to make this work?  I'm assuming HA is sending too many API requests to the Hubitat and something gets missed?  Do I need to set up an automation on the Hubitat to turn off everything and just expose that to HA?

Edit: so it seems making a few calls to light.turn_off with 250ms between was enough for a good run.  Will keep it like this for a while and see but it appears to work.  Thanks all."	19	"[""derekakessler: I ran into that as well, though through Node-Red. Occasionally, commands just don't go through. So each of my lighting automations has a loop where it waits one second and then checks if any of the lights ordered to X state are not in X state. If yes, it fires the automation again, waits one second, checks, and so on."", ""quaintlogic: Possibly too many messages being sent at once? I've noticed even just a few ZigBee lights and buttons can be overloaded if you quickly send too many commands at once e.g. spam a button, send too many state changes to many devices at once.\n\nZwave is apparently even easier to tip over.\n\nTry grouping some light areas and having a short delay between them changing state."", 'hops_on_hops: Try Using the generic homeassiatant off or light - turn off service targeted at an area, rather than trying to send an off command to each device. For me, this has been easier and more reliable. As long as devices are all in the right rooms, light off for the whole room seems reliable.', 'ggs657: You could make a 2nd routine that is triggered by the 1st routine. The actions can be identical to the first & hopefully it’ll get any lights that may have been missed the 1st time. \n\nYou can just duplicate the original automation & change the trigger. Shouldn’t take more than 60 seconds. \n\nIt doesn’t really answer the question as to why it’s happening; but it may be a solution.', 'ZAlternates: Write a HA script and then expose it to Google or Alexa in the Nabu Casa cloud settings. \n\nYou can then call the script like a scene, so it’s only one call to the voice assistant and HA does the lifting.\n\nThis is presuming you’re hitting some API limit. If it’s a connectivity issue, this won’t help.', ""porchdenizen: I believe that I read, following rabbits from a post in this sub, that the ZigBee standard includes a retry parameter that is not exposed in HA but the integration in that prior post of top  integrations grabs the zigpy python and shoves it in or rips it out.  Or something like that.  If you can find that and follow into the GitHub documentation there's some good, or seems to me, but what do I know, deeper dive into ZHA, ZigBee, and the code behind that."", ""Okonomiyaki_lover: Hmm that's not a bad idea."", 'ButCaptainThatsMYRum: Was going to say the same, 250ms delay. Mine is also based on occupancy and checks every few minutes to see if the room has someone it it.', 'Okonomiyaki_lover: So just make multiple turn off commands separated by a delay?  Ok. Will try that.', ""Okonomiyaki_lover: That's what I'm using in most cases.  I think the issue is turning of an area in HA just sends all the commands to the hubitat which then tries to fire them all off at once."", ""Okonomiyaki_lover: HA does all the lifting in the way you describe.  I _think_ it's because using hubitat as the antenna means it's making a separate api call to hubitat for every device.  Then it gets overloaded."", ""Okonomiyaki_lover: I'd like to do presence sensing but I'm balking at getting mmwave sensors for every room lol."", ""CapnRot: Use zigbee light groups, made in the zigbee controller's interface"", 'ZAlternates: Oh I see, so perhaps making a script with delays will work as others have suggested. This would at least validate your theory and then you can fine tune it.', ""ButCaptainThatsMYRum: I have simple p i r zigbee sensors in most of my rooms and they work really well most of the time. I have an aquaria FP1 but it's been sitting in a box for 2 months because it came after I ordered supplies to build my own ESP home based MM Wave sensors which are fairly cost effective. The difficulty I ran into is coming up with design for a good case I can 3D print :-)"", 'Okonomiyaki_lover: My home is mostly zwave =\\', 'Okonomiyaki_lover: Will be trying it with a quarter second delay between areas in about an hour.', 'CapnRot: Oof, then you just have to queue the commands. I tried Z-wave but this was the main reason I opted to stop using that protocol.', ""Okonomiyaki_lover: I'm happy with it generally.  I think if HA was directly controlling the zwave antenna it would work better.""]"
1682008708.0	20-Apr-2023 09:38:28	HAOS Error	LoungingLemur2	1	12t79ch	homeassistant	https://www.reddit.com/r/homeassistant/comments/12t79ch/haos_error/	"My HA instance consistently (every few days or so) becomes unreachable. When I log into my VM, I see the error shown in the photo. Anyone know what my problem is? My HA instance comes back online if I restart the HAOS (even just by hitting ctrl+c).

I am running HA in a VirtualBox VM on a Win10 Pro machine.  If it matters, the VM has access to 2 processors, and 8 GB of ram.

https://preview.redd.it/0a3pqilnh2va1.png?width=819&format=png&auto=webp&v=enabled&s=81014f91e7175f37641f1e067770578bf8086bf7"	3	['iWQRLC590apOCyt59Xza: Is it similar to this:\nhttps://github.com/home-assistant/operating-system/issues/1705 ?', 'LoungingLemur2: Ah, yes! It looks very similar. I will try the paravirtualization settings that everyone seems to be referencing. Thanks a lot!', 'ZAlternates: It could definitely be virtual storage drivers because that error is screaming *bad hard drive*.']
1682008432.0	20-Apr-2023 09:33:52	HA on Lenovo Smart Clock 2 with Fully Kiosk always prompts for admin	Legendary_Outlaw-	2	12t749x	homeassistant	https://www.reddit.com/r/homeassistant/comments/12t749x/ha_on_lenovo_smart_clock_2_with_fully_kiosk/	"Hey all

Not sure if this is the best place, as I know this config isn't super common, but I got the idea from this subreddit - so here goes.


I setup a Lenovo Smart Clock 2 to function as a HA dashboard using Fully Kiosk Browser. I've turned on kiosk mode, and it defaults to my preferred dashboard automatically. All mostly works. However, every time I restart the device, or it loses power - it re-prompts to grant Fully Kiosk admin rights. Every time I accept that, yes, it should be an admin on the device, and then all is good until next reboot. Granting device admin doesn't seem to stick. Has anyone ever had a similar experience, or have any suggestions? It's so close to perfect, but I'd rather not have to re-accept admin every time (or more so, I'd rather no one else have to do so if they unplug the device or something)"	23	"['HateChoosing_Names: 3 HOURS ago? I\'m dealing with the EXACT same thing!!!. Mine\'s rooted - yours?\n\n&#x200B;\n\nI can see that it\'s asking for this just for the ""lock the screen"" permissions; i may end up removing this config.', 'naynner: I HAVE A SOLUTION!\n\nI emailed FKB support about it and they sent me a json config file that I loaded and it’s been perfect since! If you don’t want to email support I can share the file directly if anyone is comfortable with that. Might even be able to just post the text of the file. I’ll look into that in a bit.', 'tarzan_nojane: Is there a ""remember this setting"" choice lurking somewhere else on the screen where you enter the credentials?  The limited screen area coupled with awkward navigation response can sometimes hide items like this.  \n  \nI have been running my Lenovo Smart Clock 2 for nearly 2 months using the WallPanel app *by TheTimeWalker* as the default launcher and Kiosk Mode and Home Assistant Swipe Navigation frontends from HACS.', 'Stuartie: Why does it seem like you can purchase these anywhere anymore?', ""Legendary_Outlaw-: Mine isn't rooted, didn't actually realize that was also an easy option. But if it doesn't fix this issue not sure I care.\n\nLet me know if the lock config changes it for you"", 'wsdog: How did you root it?', 'umhsuser: Yoo I would be interested in that!', ""HateChoosing_Names: Mine didn't like WallPanel + Kiosk at the same time. Well, it worked, it just didn't accept any WallPanel settings."", 'Legendary_Outlaw-: They stopped making them. I bought a used one on eBay and am crossing my fingers it lasts.', ""wsdog: As the OP I bought on eBay really cheap. It's relatively easy* to get rid of the Google stuff and install a kiosk browser.\n\n* It still needs an internet connection otherwise a Google pop up blocks the screen."", 'HateChoosing_Names: My guess is bug. I gave it root privileges.it should be able to take whatever permissions it needs.', 'HateChoosing_Names: >c\n\n[https://forum.xda-developers.com/t/lets-get-started-on-the-lenovo-smart-clock-2.4374455/](https://forum.xda-developers.com/t/lets-get-started-on-the-lenovo-smart-clock-2.4374455/)', 'naynner: Turns out this is all that\'s in the json file.\n\n`{`  \n `""suppressAdminPermissionDialog"":true`  \n`}`\n\nSave that out as a json and import it in settings (near the bottom of the settings menu I believe)', ""Stuartie: Ah, I see they've a different type now but apparently it doesn't work unfortunately"", ""Legendary_Outlaw-: Well, that fixed the popup - but seemingly because it's just given up on giving it admin. I can't use the remote reboot device option in Fully Remote now. 🤷\u200d♂️ Maybe because I didn't root.\nStill better than it was, and while I was poking around in settings I noticed I had set it to force dark mode, which was messing up my HA themes. I'll call it a win overall."", 'naynner: I think I used the browser on the clock to get the file on it via Google Drive', 'naynner: Yes, I should have been more explicit about that. The support rep said it will disable anything that requires admin permissions, so it’s really not a great solution. I’ve never actually needed to reboot the device. I do have to restart FKB sometimes which I can still do remotely. \n\nI also didn’t realize you could root it, though I was never able to reboot it remotely even before loading that config.', 'naynner: And the force dark mode messed things up for me as well so I keep that turned off. Wish I could use it just to get rid of the white screen when refreshing.', ""HateChoosing_Names: I never saw this thread and kept pressing on - but i got to the same thing.\n\nIn any case, i can still reboot because mine is rooted - so maybe that's worth the work? The other advantage is you can uninstall the Google Home Core app completely.\n\nMy path to rooting it was this one:\n\n[https://forum.xda-developers.com/t/lets-get-started-on-the-lenovo-smart-clock-2.4374455/](https://forum.xda-developers.com/t/lets-get-started-on-the-lenovo-smart-clock-2.4374455/)"", ""Legendary_Outlaw-: Eh, it's not like the device is somewhere where I'm worried about actual admin controls on the device. This is a win overall, thanks for getting the fix."", ""Legendary_Outlaw-: I'll check when I get back, but I thought the flash stopped when I turned off force dark mode. Or at least lessened it."", 'naynner: Same here. I just needed it to show a simple clock and pet camera feed without having to interact with it.   \n\nIt’s worked well for months now. The only caveat is that only a picture-glance card works for camera feeds and that seems to freeze after a bit. I have a motion sensor in the room that refreshes on motion every 30 minutes. So I see the white screen refreshing almost every time I walk in, but in a few seconds that camera feed is always up and running smoothly.', 'naynner: I want to say that force dark mode made the refresh screen black, but messed with Lovelace. It’s a pretty minor gripe though.']"
1682004790.0	20-Apr-2023 08:33:10	TP-Link Kasa KP125M Matter Plug Setup Help	msalad	1	12t4tn7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12t4tn7/tplink_kasa_kp125m_matter_plug_setup_help/	"I can't get my new TP Link Kasa KP125M Matter smart plugs to integrate with HA over wifi (or using Matter either). I setup the plug in the Android Kasa app so it gets an IP from my 2.4GHz wifi network but when I use the TP Link Kasa integration in HA and set that IP as the host, I get a 'failed to connect' message. HA doesn't auto-discover the plug either.

I've also tried using python-kasa directly from another PC to connect to the plug but I get an error that the connection has been refused.

The plug works fine in the Kasa app.

Any help would be greatly appreciated"	6	"['udit39: Add it to another matter controller first like Google Home then share with home assistant from there', 'letsmodpcs: Heh I just came searching for this problem.  I have 4 KP125M smart plugs.  The first one connected to HA just fine.  The subsequent three?  ""Can\'t find device.  Make sure the device is powered on and try again.""  All 4 are working fine in the app and in Google Home.', ""msalad: Unfortunately I tried this and couldn't get it to pair with Google home. I get an error message saying to 'check my device's instructions'"", ""msalad: I've seen that same error message as well. \n\nYou were able to pair one plug to HA using the Matter integration?\n\nTo pair them to Google Home via Matter, did you need a Nest or some other controller? I don't have one so I wonder if that's why pairing to Google Home didn't work for me. \n\nI wonder if the issue is my home network - I'm using a Ubiquity Dream Machine Pro router and the [documentation](https://www.home-assistant.io/integrations/matter/) does mention issues using Matter with this setup. To get into the details, I've enabled IPv6 and mDNS, but that didn't help."", 'letsmodpcs: I\'m pretty new to the HA world.\n\nI have a Nest Protect, but not a Nest controller.\n\nI\'m not even 100% certain they\'re paired to Google Home via Matter (I assume they would also pair in the classic way, and I didn\'t check when I set them up which method I used.)\n\nI\'m using OPNsense as my router and my IPv6 and mDNS settings are whatever they were ""out of the box.""', 'msalad: Hmmm, you may have paired them to Google home via Wifi? To pair via Matter you need to scan (or manually enter) the QR code on the plug']"
1682004577.0	20-Apr-2023 08:29:37	Aquara button automations don't work after updating/power	kernelmustard	1	12t4kwd	homeassistant	https://www.reddit.com/r/homeassistant/comments/12t4kwd/aquara_button_automations_dont_work_after/	For the past year+ , I've had an issue where after updating Core/OS  or a hard power cycle (outage), my Aqara buttons fail to run my automations. All other automations work as expected. I've been correcting the problem by simply disabling/enabling the automation and then it works correctly.  If I go into Developer Tools and reload Automations, it doesn't work either. Any idea what the problem might be?	0	[]
1682002077.0	20-Apr-2023 07:47:57	Aqara FP2 Presence Sensor announced today	platanito21	24	12t1pob	homeassistant	https://www.reddit.com/r/homeassistant/comments/12t1pob/aqara_fp2_presence_sensor_announced_today/	"Looks like the Aqara FP2 Presence Sensor has been released today.

[https://thematterhub.com/new-releases/aqara-fp2-presence-sensor-finally-released/](https://thematterhub.com/new-releases/aqara-fp2-presence-sensor-finally-released/)

Seems it can be added to Home Assistant. I just ordered mine. Hopefully it does a better job of keeping my kitchen lights on when I'm cooking (replacing my original Aqara P1 Motion Sensor)."	25	"['sembee2: On Amazon with discount codes. EU (including UK):  EU5PSFP2  US/Can:  FP2USCA1 .', 'GB_CySec: How are people wiring these for ceiling installs? Just fishing the usb-c inside the drywall? Or some Poe method to usb-c?', 'ams3401: 9 dollars on Taobao, 83 dollars on Amazon lol 🤷\u200d♂️', 'Zirowe: I read today a review about it in this sub.', 'None: [deleted]', ""Newwales2: Hope from Amazon UK it's now the European version not the Chinese version that they have been selling?"", 'arran_ash: Thanks, got the price down to £70!', 'Laurensnld: Interested aswell', 'k1dicaru5: I use a AC-DC transformer with usb-c output in the backbox when ceiling mounted. Something like this.\n\nWT-DDJJK 128Type 220 V to 5 V 1A USB Interface Adapter Switching Module 2.1A Mobile Phone Charging Panel USB Power Module https://amzn.eu/d/08W6Ae0\n\nEdit: forgot to add I usually run this off the permanent live on the lighting circuit.', 'fddicent: I was just thinking about this today. If this works well and is reliable, I could see myself doing POE wiring like I would for a ceiling mounted AP but for this sensor.', 'recplayb: just go with https://www.aliexpress.us/item/3256804575765839.html if you can do a ceiling install.. a better product anyways with zigbee, being recessed and 12v power.  just lacking fall detection.', 'maniac365: order it and let us know', 'sahibsahib: >Aqara FP2\n\ndoes Taobao work tho?', 'MackzD: Do you have a link?', 'AssDimple: nice', 'AssDimple: nice', 'platanito21: I\'ve fixed all the delay issues with that original P1 sensor with various automations. The only issue is that when I\'m cooking, if I stand too still while I\'m reading a recipe (or checking my phone) then the PIR sensor doesn\'t detect movement and then BAM my lights turn off. LOL\n\nBut anyway, because I have an open concept kitchen/living room/office area, I\'m hoping to set this up with zones and automate the lights in multiple ""rooms"" without needing a bunch of sensors.', 'GB_CySec: Was kinda thinking the same. I ran extra cat6 drops to each AP (1 on each floor) thinking of using it for either zigbee/Bluetooth dongles but this is getting me thinking I could also utilize it for these motion sensors if I could convert the PoE to enough watts for the sensor and house it all in the small box.', 'ams3401: [https://i.ibb.co/n86rSpM/Screenshot-2023-04-20-at-2-03-33-PM.png](https://i.ibb.co/n86rSpM/Screenshot-2023-04-20-at-2-03-33-PM.png)\n\nWhy wouldnt it work?', 'Mindless-Might4519: Hey, can you DM me please? For some reason I can’t DM you - I would send it here but it’s really unrelated to this post \n\nI have a question about Artsy (yeah… your tweak), would appreciate if you can shoot me a DM \n\n\nThank you very much🙏', 'greenphlem: That issue can be solved with an off delay...', 'fddicent: Oh nice you’re already wired for it! I have a few wall mounted tablets that I power from POE to USB adapters. I found some decent converters on Amazon, they came in thick black cases that were just a big too big to fit in the junction boxes, so I cut the case open and grabbed just the electronics and then was able to fit in the wall box. You should be able to do the same thing for these I’d imagine. There’s also this company that makes a small profile POE to USB converter that would work but it’s a little pricier than the cheap ones you can get off amazon: https://www.vidabox.com/kiosks/48-volt-vidapower-datacharger-ultra-cat5-poe-to-usb-c-802-3-bt-power-and-data-adapter-power-over-ethernet-5-feet-high-wattage-usb-c-3-1-cable.html', 'Acsteffy: You really going out of your way to not post the source link', ""No_beef_here: I have a Sonoff PIR in a 3D printed enclosure on the kitchen ceiling and I'd have to say, whilst the kitchen lights are pretty responsive to my presence in there, it's very very rare they ever go off when I'm actually in there?\n\nThe kitchen PIR also turns the Google Home Mini off and I had to lengthen that off delay because it would go off too quickly, even if I was in the utility area next to the kitchen, but never went off when I was in the kitchen.\n\nBecause of the way the Sonoff PIRs work (and my inability to code) I ended up using two Automations. One turns the lights on with the PIR trigger and then another turns them off \\*after\\* the PIR trigger has gone to 'Clear'. I think the 'Reset' option was also important here."", 'GB_CySec: That’s a good find but man also very expensive haha! Thanks for sharing it and your tablet solution. I was also considering removing the box and doing a remodel plate so like you said could have a larger adapter sitting in the ceiling.', ""Wild-Bus-8979: Dang that's expensive, when you can get this: https://www.aliexpress.com/item/1005001603855512.html""]"
1682001832.0	20-Apr-2023 07:43:52	ZHA lights are turning themselves on without log entries	SpencerDub	7	12t1ehu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12t1ehu/zha_lights_are_turning_themselves_on_without_log/	"I have a handful of ZigBee lights that have developed a frustrating issue: sometimes, unpredictably, they will turn themselves back on shortly after I turn them off, and neither the initial ""off"" event I initiated, nor the phantom ""on"" event, are logged.

Yes, my lights are gaslighting me. ""You didn't turn me off, what are you talking about?""

In the daylight hours, this is just a minor inconvenience, but at night, it's a pain, as this can mean lights turning on when my wife and I are trying to sleep. There's one lamp that I often have to turn off two or three times before it finally sticks.

As a corollary that might also be related, I'm also having issues with ZigBee devices in HA failing to report an accurate status. I'll turn the device off from within HA, and the physical state will change, but HA will still report the device as on, or vice-versa. This issue does _not_ correlate 1:1 with the issue described above.

I've put my ZigBee antenna on a USB extension cord and run it far away from my HA machine, but the problems persist.

Anyone know what's going on and how I can troubleshoot or fix this? I'm particularly stumped because there aren't logs I can turn to to understand the problematic events."	11	"['Warhawk988: Though it’s not that common. There could be interference with your wifi or near by wifi. \n\nDo you only have one Zigbee network. No smarthings or Philips hue?\n\nI have only experienced what you have once. That was about the time i was switching off of the hue hub.', ""_atomic_garden: When you say events aren't logged, are just looking at HA history, or debugging logs? I believe there's settings to have ZHA dump verbose logs that might turn something up.\n\nDo you have anything like adaptive lighting or an automation that might be sending bulbs a slow transition change? I think I used to have issues like that where if I turned off a light while it was in transition it would sometimes turn itself back on to complete the transition.\n\nDo you have these lights in a ZigBee group? This could have changed in ZHA since I last looked, but I don't believe HA records the association between the group and the single device, so logbook entries of what happens to one won't show on the other."", 'shbatm: What brand of bulbs? Osram/Lightify are notorious for this... Turning on after any power blip or when trying to check for a firmware update.', 'BrooklynSwimmer: Any 3 ways in the circuit?', 'ameuret: I’d speculate that you installed the Home Assistant plug-in to your OpenAI account and GPT-4 is trolling you. Yes, after finding a vulnerability in HA to cover its tracks. \nCf. https://www.reddit.com/r/homeassistant/comments/12l10se/introducing_a_home_assistant_plugin_for_chatgpt/?ref=building.open-home.io\nJust kidding! 👋😵', ""SpencerDub: >Do you only have one Zigbee network. No smarthings or Philips hue?\n\nCorrect. I don't have any hub devices plugged into or active near my HA server, just a single Zigbee/Z-wave antenna.\n\nFor a while, I had my SkyConnect dongle plugged in, even though I wasn't using it (and never integrated it); however, I've disconnected that antenna for troubleshooting and to avoid issues and the problems I've described have remained."", ""SpencerDub: >When you say events aren't logged, are just looking at HA history, or debugging logs?\n\nHA history. This is a good nudge, though, so I've enabled debug logging for the ZHA integration. We'll see what that shows.\n\n>Do you have anything like adaptive lighting or an automation that might be sending bulbs a slow transition change?\n\nYes, almost all of the bothersome devices are controlled by Adaptive Lighting. The exception is a smart outlet that also sometimes gets out of sync—it's not hooked into AL. It may be a separate issue.\n\n>Do you have these lights in a ZigBee group?\n\nNot knowingly!"", 'tarzan_nojane: You can turn on/set the logger level for the ZHA service in your configuration.yaml file.', 'SpencerDub: None. These are simple lamps (on at least two different circuits in the house), each connected to a normal, unswitched outlet.', 'Warhawk988: Try the debug logger in Z2M like mentioned.\n\nAlso see what channel your wifi and zigbee channels are on. Also see if wifi traffic is high at those times.  \n\nAre you using a USB3 extension cable?\n\nIs your wifi anywhere near the the dongle?', ""LifeBandit666: I also had issues with lights turning on after I had turned them off. It drove me crazy and it took me 6 months to solve. In that time I upgraded my Zigbee dongle, got an extension cable, changed my Wi-Fi channel AND Zigbee channel (requiring everything he Re paired). \n\n**The culprit was Adaptive Lighting.**\n\nSome bulbs don't work with transitions at all. My lights (colour bulbs from Ikea) were one of these. Annoyingly the White bulbs had no such issue though! \n\nThe fix is to go into your Adaptive Lighting settings for the troublesome bulbs and change all transitions to 0. \n\nIf I can save you 6 months of frustration too, it was totally worth writing this comment.""]"
1682001571.0	20-Apr-2023 07:39:31	All you fancy-smancy city folks with your pogo pins... Pffft. When I was a kid, we didn't HAVE no pogo pins, and we did just fine.	knw_a-z_0-9_a-z	50	12t135l	homeassistant	https://i.redd.it/z7nleaykw1va1.png		13	"['Am0din: The only true pogo.\n\n&#x200B;\n\nhttps://preview.redd.it/xuo2vk53l4va1.jpeg?width=338&format=pjpg&auto=webp&v=enabled&s=782ead7a51a706497c3c3487cb3dcd8337827068', 'None: [deleted]', 'bob_in_the_west: The real question is why you\'ve got a ""raw"" esp board there?', 'knw_a-z_0-9_a-z: Flipped a 28-pin socket, bent the pins in, and wedged in an ESP to program. TA-DA!!', 'JewishTomCruise: What about [this Pogo?](https://upload.wikimedia.org/wikipedia/commons/7/74/John_Gacy_Pogo_December_1976_Martin_Zielinski.jpg)', 'knw_a-z_0-9_a-z: As a child, I had many fond injuries from one of those.', 'knw_a-z_0-9_a-z: Thanks. It was maddening trying to get them all aligned.', 'knw_a-z_0-9_a-z: Oh, I ""did some things"" a couple of years back.', ""GiveMeTheBits: I'm getting ready to try something similar, but I need to program an esp32 that is mounted to a custom PCB. I have some pogo pins, but the spacing is sooo tiny."", ""dave_h__: nice jig that you've built there, there's skill in using what you have on hand to get the job done!"", 'Am0din: Oof, and I thought my pogo was terrible and to stay away from it.  This one takes the cake.', ""Am0din: I do as well, but I don't think I'd use 'fond' as a descriptor! :D"", 'knw_a-z_0-9_a-z: You may have to find some place on the PCB to tack-solder a few pieces of fine wire, like some wire-wrap wire, and connect that way.', ""knw_a-z_0-9_a-z: When you're as old as I am, you'll long for the days of bouncing off a pogo stick in the wrong direction.""]"
1682000753.0	20-Apr-2023 07:25:53	Ecobee Furnace Fan Control	Necessary_Ad_238	2	12t0dnb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12t0dnb/ecobee_furnace_fan_control/	" \- Does the Ecobee thermostat expose the furnace blower fan controls to HA?  
 \- Does Ecobee allow you to run just the furnace fan with Heat/Air are off?

I currently have a Nest, which does not expose the fan and its annoying have to open the Nest app for this one function. thinking about changing to Ecobee if it supports it."	3	"['svogon: It does for me. Options are ""Auto"" and ""On.""  I do have a script in HA that I can toggle ""on"" that runs the fan for 15 minutes and then returns it to ""auto"" - just to get the air circulated.', ""FIuffyRabbit: I haven't delved too deep into the integration but this is what the local homekit api lets you do from the UI.\n\nhttps://i.imgur.com/oBZbC0n.png"", ""Necessary_Ad_238: Well the premium is on sale for $45 off, plus I got a $75 coupon from the local energy company so think it's cheap enough to give it a whirl.""]"
1681999470.0	20-Apr-2023 07:04:30	Sprinkler controller and esphome	mrbigbluff21	1	12szrr0	homeassistant	https://www.reddit.com/r/homeassistant/comments/12szrr0/sprinkler_controller_and_esphome/	"I’m confident this is possible and is something I can build myself. However, usually I find a solid YouTube video or online guide to help me build it on previous similar projects. Im struggling to find that and identify the exact components I need to buy. 

What:
A smart 10 zone sprinkler controller that replaces a hunter branded one in my garage. I obviously want to control it in HA.

The parts that I’m unsure about
- is can I do 10 zones or is there a limit based on the pins available on the esp8266 (or 32?)
- how do I make sure only 1 zone ever goes on at a time. I feel like this needs to be the case to prevent disaster. 
- how do I make sure a zone isn’t ever opened forever if HA restarts or malfunctions mid automation?

Thats it for starters but I know they’ll be more questions."	10	"[""quixotic_robotic: I think the NodeMCU version of the 8266 host board has 12 GPIO pins that can be used for this, as long as it doesn't need to do anything else like serial or SPI to other sensors. Check the sheets carefully to make sure there isn't some weird behavior like they might default to a high status bit. Or just get an esp32 like the wroom and you have plenty of pins.\n\nWith ESPHome, you can do some automation directly on the device itself. You would basically configure some endpoints that HA can control, and these would trigger automations to turn on a zone for 10 min then turn off. These run locally without needing a network connection. Or, give them a longer fallback timeout like 30 min just in case, but still let HA do the scheduling so it's easier to manage remotely.. Not sure why more than one zone would cause disaster, but you could similarly have each of the zone triggers turn off all zones and then turn on the one you want."", 'mattkenny: There\'s a native esphome sprinkler component that handles most of this already: https://esphome.io/components/sprinkler.html\n\nBut you can also roll your own - I did thus because it was before the native sprinkler component was created.\n\nI\'ve added some logic in esphome that will make sure only one some is in at once from within the ESP device itself, and also make sure the matter solenoid is on if any of the normal zone valves is on. I\'ve also got a default state of ""off"" for if it reboots mid cycle (never happened), and I\'ve also got a few extra time triggers in home assistant to force all valves off at a few times of day (my area has watering restrictions which mean I can get fined if they are on between 9am and 6pm, so I\'ve got a 9am fail-safe off command)\n\nBecause I\'ve implemented the cycle logic in HA and not in esphome, I\'m not restricted to having to have all controls on a single device. I\'m actually planning on having a few extra zones controlled by a separate esp device in the rear yard, but have them act as ""sub-zones"" from a plumbing perspective - e.g. I\'d have to turn on the master valve and say valve#3 on the main controller; this would then supply water to another bank of valves in the backyard controlled by the second esp, which can then run each of the sub-zones.\n\nBut because it\'s all through HA and esphome, I can hide all this sonicated logic and still make it appear as just a bunch of independent zones from a scheduling and manual operation standpoint.\n\nFor the actual sequencing, I run that through pyscript in HA as the YAML/gui based automation system is painful for anything complicated. I also have another script that calculates the station runtime adjustment based on past and forecast weather and watering records for the last few days.', ""Polartch: I relatively recently did a three zone system in ESPHome with Home Assistant. I know it's a lot simpler than yours would be, but if it's helpful I can post some pics/yaml when I get home?"", 'DIY_CHRIS: I would check out Opensprinkler for this. It will run on a Pi, but there’s also a port for an ESP32. Opensprinkler works with HA. I just built a new sprinkler controller a few weeks ago after overhauling my irrigation system. Cost ~$30 for a relay board, 24VAC supply, and 24VAC to 5VDC buck.  Add a waterproof box and grommets. I already had the RPi laying around. I could have gone with the ESP32, but it required compiling the code with the Arduino IDE, which I was lazy to do. The RPi setup, including the hardware build took 20 mins. \n\nhttps://imgur.com/a/cIwU4i7', 'molotov-cartail: Shameless plug:\n\nI sell a 9 valve controller using an ESP32 on Tindie. Do you actually need 10 valves? It uses the sprinkler component in esphome. Please refer to the following link:\n\n[https://www.tindie.com/products/home-control-labs/9-valve-sprinkler-controller-works-with-esphome/](https://www.tindie.com/products/home-control-labs/9-valve-sprinkler-controller-works-with-esphome/)', 'blentdragoons: have a look at rachio', 'thetuckie: This is missing two zones but they have a 16 channel version coming out: https://m.aliexpress.us/item/3256803132432500.html?pdp_npi=2%40dis%21USD%21US%20%2455.00%21US%20%2455.00%21%21%21%21%21%402101ef7016820224012852898e70ac%2112000025203750409%21btf&_t=pvid%3A4aab21c0-cc7a-4f5e-b17e-9e8dd3baf4af&afTraceInfo=1005003318747252__msite__c_ppc_item_bridge__xxxxxx__1682022401&spm=a2g0n.ppclist.product.0&gatewayAdapt=gloPc2usaMsite&_randl_shipto=US', 'ST1NKYB0B: I use a nodemcu to control a relay board for my 10 zone system.  I also have the smart irrigation integration running to drive the run time of each zone which has worked exceptionally well.  Make sure the interlock the outputs so that only one can be triggered at a time through the programming in esphome.', ""notalbymangels: Another vote for OpenSprinkler.  I bought an ESP32 aiming to build a controller but ended up buying a Pi Zero W and putting OpenSprinkler on it.\n\nWhen I reboot HA the irrigation shifts aren't interrupted.  It runs independent of HA but there is an integration and lovelace card in HACS that works well.   It also has it's own smartphone app ready built.\n\nI have it accessible from the WAN via Nginx."", 'mrbigbluff21: Awesome. Do you have any guide or pics of your build?']"
1681997773.0	20-Apr-2023 06:36:13	Power Monitoring	sl_1982	0	12syxv3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12syxv3/power_monitoring/	"Hey everyone,

I have an problem I am trying to solve with home assistant that I am looking for some answers on. Currently I have a newer TV hooked up to an older home theatre receiver that does not have CEC so the receiver always stays on even when i turn off the TV. My thought is to get a zwave plug with energy monitoring that i could detect when the tv is on vs off/standby and turn on a seperate z wave plug to turn on the receiver. 

I guess the question i am asking is if the polling rate for the energy monitoring is frequent enough to make this possible. And if it is what plig would you recommend?"	11	"['quixotic_robotic: On zwave, the energy monitoring data is pushed by the smart plug to the controller, no polling needed. Most plugs have settings for how often or how sensitive the reporting is - something like ""update when it changes by X watts"", and the transmission is basically instant.\n\nOne consideration, does the receiver actually turn on if you plug it in, without having to hit a power button?\n\nAnother option could be to get an IR transmitter like the broadlink, you could do the power detection with the smart plug still, but use IR to turn the receiver on/off (and more like volume)', ""Sometimes-Scott: I do this but I use the LG TV (webos) integration to get the TV status instead of trying to monitor it's power."", 'Jmia18: I do this same thing with the sonoff switches. I use it for dust collection in my shop and it is spendy enough for it. It definitely is not instant but within my acceptable time frame for my usage. I would presume your receiver turning on would take longer than the power on time.', 'pops107: Does the reciever have a remote switch on, on the back it will be a 3.5mm jack. You might be able to utilise that with a wemos d1 mini', 'sl_1982: Thats a good question. I suppose i should figure that out first.', 'sl_1982: Thanks. I am trying to avoid anything cloud based though so i was looking at z wave specifically as i already have a whole setup', 'sl_1982: I am unsure. Its an RXV-1800. It has a remote in and out that look like 3.5mm and trigger out.', 'Jmia18: I use the Sonoff S31 flashed with tazmota. No cloud needed and full local control. Using wifi so no worry about pulling frequency.', ""pops107: That's what I was thinking of.\n\nIt's unlikely your TV or anything has a trigger out but worth a look.\n\nI believe you just need to put some amount of voltage in to trigger on.\n\nWorth a look but IR might be easier."", 'sl_1982: So I did a test and it will restore power after AC loss so I am going to try a smart plug solution first. This may be a viable alternative though. The problem is it is in another room and the walls are not open anymore for running wires.', 'pops107: Oh if it switches on with just a smart plug 100% go that way, I have my subs and lights under the TV etc on a smart plug.\n\nI trigger it through the Samsung TV integration but you could do it as you mentioned with x amount of Watts on the TV plug dead easy.']"
1681990504.0	20-Apr-2023 04:35:04	Home Assistant not showing all entities of esphome device	brintal	4	12svkpk	homeassistant	https://www.reddit.com/r/homeassistant/comments/12svkpk/home_assistant_not_showing_all_entities_of/	"TLDR: D1 mini running esphome exposing two sensor values. Works fine in esphome but HA only sees one of those sensors. How to see both sensors in HA?

&#x200B;

I wasn't sure if I should post here or in the esphome subreddit, but the problem very much looks like a HA so I wanted to try here first.

I'm running a D1 mini with a moisture sensor sensor from which I want to get two readings: The raw voltage value and the soil moisture percentage derived from the voltage.

The esphome code for those sensors:

https://preview.redd.it/e5ozlso601va1.png?width=728&format=png&auto=webp&v=enabled&s=b959b1f9adea8697a0573a0886de9629052a407c

The esphome log looks fine and shows both sensors:

https://preview.redd.it/dg9lpwn3z0va1.png?width=1196&format=png&auto=webp&v=enabled&s=dba5c46a3a5b23ad6ade1c43737c42697aebf457

But HA only shows one of those 2 sensors:

https://preview.redd.it/eeimpxj7z0va1.png?width=1073&format=png&auto=webp&v=enabled&s=432751affeffa38d73da065041e380710b5322fc

The funny thing is, if I change the order inside the esphome yaml config of the device and reload the device in HA, the other sensor is shown:

https://preview.redd.it/0qbf4bkdz0va1.png?width=1040&format=png&auto=webp&v=enabled&s=c7fe8c283f0b759416d8ff514128f8299062325a

But HA only ever seems to show one of those two sensors.

How can I HA convince to show BOTH sensors at the same time?Thanks!

&#x200B;

EDIT: Added the esphome config as image"	4	"['generalambivalence: Is this an ESP8266? It can only support one ADC sensor at a time.\n\n[https://esphome.io/components/sensor/adc.html#multiple-adc-sensors](https://esphome.io/components/sensor/adc.html#multiple-adc-sensors)\n\n&#x200B;\n\nBut this looks like it might be exactly your situation: [https://community.home-assistant.io/t/two-sensors-from-single-pin/301314](https://community.home-assistant.io/t/two-sensors-from-single-pin/301314)', 'Snowssnowsnowy: State of this sub that this perfectly asked question with all the details needed with screenshots and a look at the ESPHome code and even thanking people in advance for the help, gets downvoted.', ""brintal: >But this looks like it might be exactly your situation:   \n>  \n>https://community.home-assistant.io/t/two-sensors-from-single-pin/301314\n\nThank you so much! That was exactly it.  \nDon't know how I managed to overlook that thread...  \n\n\nJust weird that esphome seems to be ok with the config and even reporting values (which at least in my case seem to be correct)"", ""brintal: Happy cake day!\n\nI was wondering about that already. Nearly everything I ask in this sub is immediately downvoted. Of course I'm a beginner and some questions might be stupid for the experts, but I always google first and only ask if I really don't find and obvious answer.""]"
1681982108.0	20-Apr-2023 02:15:08	[Request some help] Issue with Home Connect/Home Connect Alt integration	Nighter83	1	12ss9cj	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ss9cj/request_some_help_issue_with_home_connecthome/	"Hi all

I'm trying to get my Bosch dryer, with Home Connnect, integrated into my HA. I've read that the Home Connect Alt integration via HACS should be better than the normal integration, so I added it also directly to my HA. 

I've setup the `home_connect_alt` part in my `configuration.yaml`, added my external https url in [`my.homeassistant.io`](https://my.homeassistant.io) and tried to start with the integration (both normal and alt afterwards)

both attempts are failing with the same error 

    Logger: aiohttp.server
    Source: helpers/config_entry_oauth2_flow.py:209
    First occurred: April 17, 2023 at 7:34:11 PM (7 occurrences)
    Last logged: 10:41:45 AM
    
    Error handling request
    Traceback (most recent call last):
      File ""/usr/local/lib/python3.10/site-packages/aiohttp/web_protocol.py"", line 433, in _handle_request
        resp = await request_handler(request)
      File ""/usr/local/lib/python3.10/site-packages/aiohttp/web_app.py"", line 504, in _handle
        resp = await handler(request)
      File ""/usr/local/lib/python3.10/site-packages/aiohttp/web_middlewares.py"", line 117, in impl
        return await handler(request)
      File ""/usr/src/homeassistant/homeassistant/components/http/security_filter.py"", line 85, in security_filter_middleware
        return await handler(request)
      File ""/usr/src/homeassistant/homeassistant/components/http/forwarded.py"", line 100, in forwarded_middleware
        return await handler(request)
      File ""/usr/src/homeassistant/homeassistant/components/http/request_context.py"", line 28, in request_context_middleware
        return await handler(request)
      File ""/usr/src/homeassistant/homeassistant/components/http/ban.py"", line 80, in ban_middleware
        return await handler(request)
      File ""/usr/src/homeassistant/homeassistant/components/http/auth.py"", line 235, in auth_middleware
        return await handler(request)
      File ""/usr/src/homeassistant/homeassistant/components/http/view.py"", line 146, in handle
        result = await result
      File ""/usr/src/homeassistant/homeassistant/components/config/config_entries.py"", line 171, in get
        return await super().get(request, flow_id)
      File ""/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py"", line 96, in get
        result = await self._flow_mgr.async_configure(flow_id)
      File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 271, in async_configure
        result = await self._async_handle_step(
      File ""/usr/src/homeassistant/homeassistant/data_entry_flow.py"", line 367, in _async_handle_step
        result: FlowResult = await getattr(flow, method)(user_input)
      File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 315, in async_step_creation
        token = await self.flow_impl.async_resolve_external_data(
      File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 172, in async_resolve_external_data
        return await self._token_request(
      File ""/usr/src/homeassistant/homeassistant/helpers/config_entry_oauth2_flow.py"", line 209, in _token_request
        resp.raise_for_status()
      File ""/usr/local/lib/python3.10/site-packages/aiohttp/client_reqrep.py"", line 1005, in raise_for_status
        raise ClientResponseError(
    aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url=URL('https://api.home-connect.com/security/oauth/token')

so there is sth wrong with the oauth, but I can't figure out what might be wrong or missing. I've checked several other topics, which were reporting similar issues, but in most cases it was just a change to the `my.homeassistant` url as redirect url instead an ""old"" url with sth like "".../callback ...""

 

* I've recreated the application in the dev portal, waited and used the new ID/Secret
* I've logged out of everything prior to setting up the integration
* I've removed the HA instance from my Pi-Hole
* I've removed all saved credential prior to every integration attempt
* I've removed the internal DNS resolution of my HA and resolved the name via internet DNS
* I've even added my HA URL as additional redirect URL
* I've added even my local IP (with https) in `my`  (funnily enough same error, where I would expect a certificate error at least)

I'm out of ideas, maybe someone can help me with that issue, I've raised that topic also in the HA Forum, but no response until now ([https://community.home-assistant.io/t/first-time-home-connect-integration-failing-during-oauth/561675](https://community.home-assistant.io/t/first-time-home-connect-integration-failing-during-oauth/561675)) 

As this is the first time that I use an Oauth integration I might have missed a crucial point here. I'm using the same mailaddress for home connect and developer portal. 

Is NabuCasa subsciption required for the `my`  integration to work properly?

&#x200B;

I hope someone can point me in the right direction so I get this finally done."	1	"['Nighter83: seems that is was related to an ""autocorrected"" mail address, which ""upped"" the first letter of the entered mail address at the singlekey registration to a capital letter.\n\nThis is a known bug with singlekey-id and home connect. \n\nAfter I\'ve deleted all accounts and re-registered with the singlekey and dev account with different +aliases of my mail, I was able to register the device.']"
1681980914.0	20-Apr-2023 01:55:14	IKDEA devices failed to work in HomeAssistant ZHU	nikkonbsd	2	12srtd3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12srtd3/ikdea_devices_failed_to_work_in_homeassistant_zhu/	"Hi all,

I am using deConz conbee2 usb as my Zigbee coordinator/gateway.I recently got 1 IKEA TRADFRI remote N2 and 1 IKEA TRADFRI e27 colour bulb.I am using ZHU in homeassistant to control all my zigbee devices. I managed to add both devices but I cannot control any.

https://preview.redd.it/1pf94ll370va1.png?width=452&format=png&auto=webp&v=enabled&s=c5f1fdb92ffc5e502cc7a1de2e151648b51454de

https://preview.redd.it/g07tvm4470va1.png?width=2276&format=png&auto=webp&v=enabled&s=812c6f46051486454b3aa2af2a4807b00356fe08

none of the devices work or show available after registering.

What am I missing?

&#x200B;"	2	['MowMdown: Have to ask, are these devices actually powered on, like if it’s plugged into an outlet is the outlet supplying power or is the light switch turned on?', 'nikkonbsd: Yes. I have only one led light and the remote control. Both on']
1681979716.0	20-Apr-2023 01:35:16	Nuki 3 pro or danalock zigbee?	denywinarto	2	12sre4n	homeassistant	https://www.reddit.com/r/homeassistant/comments/12sre4n/nuki_3_pro_or_danalock_zigbee/	"Looking for opinions here for ppl who have both of em.

There are some complaints about connections for those 2 but it could be usb issues for zigbee or bad AP for nuki.. I have poe zigbee and unifi ap to mitigate this.."	6	"[""sembee2: I have a ZigBee DanaLock and Nuki, although not the pro.   \nI have two Nuki now and would replace the DanaLock if could find a lock that would go on to the door in question. The Danalock has just been unreliable - status mainly. I can unlock it with a key and it doesn't show as unlocked with HA.   \nFor the Nuki, you could step down to the regular one - then use the project to recreate the Nuki hub on a ESP32. Details are on the HA forum."", 'Xorfee069: Honestly I would go with switch bot lock with a touch keypad .. works perfectly with HA .. and gives the best price to value ratio ..', ""chunkystyles: I don't have any experience with either of those, but I do have this Yale Zigbee lock https://www.amazon.com/Yale-Security-YRD216HA20BP-Assure-Deadbolt/dp/B06ZY1HVB9\n\nIt's very good.  I'm in a pretty niche situation where I need to program new PINs and I can do that over Zigbee with no issues.\n\nThese locks also use a wireless module that can be swapped out if you want to move to Z-wave or WiFi."", 'denywinarto: Thanks, Danalock is smaller but i guess its not worth it if its unreliable.\nRegarding the non pro nuki, the esp32 has to be close enough to the nuki installation correct?\n\nstill torn between going for pro or non pro.. I feel like the non pro just added more complexity to cable installation since we need esp32 powered close by', ""sembee2: Without Wifi, it is Bluetooth. I don't have the ESP project at home, as when I got my Nuki it wasn't available, so I got their hub. However the hub is a good five or six metres plus walls away from one of the locks and works fine, so the Bluetooth radio seems pretty strong. You might not need to have an ESP32 that close."", 'denywinarto: Hmm whats your AP?\nSo basically it comes down to bluetooth + wifi or wifi stabillity. IIRC bluetooth wont work well if theres obstacles between the objects..']"
1681978001.0	20-Apr-2023 01:06:41	HA and plex	Least-Personality762	4	12sqsm5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12sqsm5/ha_and_plex/	I'm currently running a plex server on an i3-2120 machine, it has 4gb ram (going to change it to 8). I'd like to also install HA as a VM, will this cause any issues with performance? Plex only runs 3 1080p streams maximum.	8	"[""mrtramplefoot: Are those streams transcoded?  If, not you're probably fine, if they are, it may be iffy.  HA can run on almost anything, but there will still need to be resources for it"", ""Ulrar: I've got ffmpeg running to encode stuff in x265 a lot of the time, and jellyfin transcoding it back to x264 a lot too on the same server as my HA and no issues whatsoever, HA uses very little.\nThat said I use the container version, I don't bother with the full blown VM. You may want to do the same to save on ram"", ""Least-Personality762: Most of the time it's all local playback and there's no transcoding. Other times there's odd bit of remote playback that will transcode."", ""mrtramplefoot: Little risk in trying it.  If it doesn't work out, I run one of [these](https://www.ebay.com/itm/125890296069?hash=item1d4fa57905:g:5wIAAOSwzGNidYeT&amdata=enc%3AAQAIAAAA4Bb66HpGovJUwZClZO6R%2Fqe6%2B5aWfrCK8m%2FWFZ2cK%2B7pADeJyzHfsbJGjCkplppdZI6M%2BqpILu73E5bUTamn1qQkK6TUe4yEiTRFZ0P8Cxj4rBgloXPi3cshm8xAI%2BGpNyC6QcglML43lhGEDXjn3SVLJLlczWvEyHiAubWeDy52AYf7J9lQeH%2FXgqu74ZiINilAsZ4wBc510bNu8xtGMjmMJuOQYB%2FxEDz5W7XSKyTpjLO%2FjsxI7ryBO0kSw5RGNyGqTdePNMtss9iMmC6QFQQaDmbu%2BjCxdAeP7qKwpZ5x%7Ctkp%3ABFBM9s_w6PNh).  Runs great, plenty of power, but is quite efficient."", ""Least-Personality762: I'll give it a go, thanks! I've looked at these, might have to pick one up if it doesn't quite go to plan with the dell sff machine. What installation type are you using?"", ""Least-Personality762: I tried it out today on the dell i3 machine alongside plex as usual, it didn't perform as well as I thought. I've picked up a dell wyse 3290 thin client to run HASS OS instead. Hopefully it'll perform nicely"", 'mrtramplefoot: Just a straight Hassos install.  Easiest to setup and maintain and has the best support.', ""Least-Personality762: I'll look into Hassos. I may install it in hyper V, if the add-ons etc work well (plex, q bittorrent) then I'll rebuild the whole machine to a straight install""]"
1681976728.0	20-Apr-2023 00:45:28	Feedparser - pubDate	Global-Specialist-76	1	12sqcbz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12sqcbz/feedparser_pubdate/	"Hi,  


I try to import a rss-feed to HA at it is working but the date is missing.   


&#x200B;

https://preview.redd.it/x2i7gcs3uzua1.png?width=378&format=png&auto=webp&v=enabled&s=f58e5bad170c52739316c945debb3a906ef0cf4f

  


https://preview.redd.it/v6rh7au8uzua1.png?width=565&format=png&auto=webp&v=enabled&s=ad5b22d7c1cc79c93d1c920e1825127f1ed837be

Is there a simple solution?   


thanks in advance for your help"	0	[]
1681971456.0	19-Apr-2023 23:17:36	I tested the Aqara FP2 Presence Sensor and compared it to the FP1, this is my review	BackHerniation	297	12sofgv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12sofgv/i_tested_the_aqara_fp2_presence_sensor_and/	"Hi,

I bought the FP2 about 20 days ago on AliExpress for $75 from a seller that I’ve dealt with in the past. I simply messaged them, asking for the FP2 and they sent me a *“special payment link”* and 15 days later I had it.

I fully disassembled the device, tested some features and managed to integrate it in Home Assistant via the HomeKit Controller Integration. It's still reliant on the Aqara Home App, to initialize it and create detection zones. It has an ESP32 board inside, so maybe ESPHome is possible down the line.

What's neat is, whatever zones you create in the Aqara App are exposed as separate entities in Home Assistant and change state individually when a person is detected.

The sensor is extremely capable and accurate, it pushes live data of a persons position in the app almost immediately. The detection time is instant, no need for a PIR sensor pairing anymore.

I took a bunch of pictures and wrote a detailed comparison to the FP1:  


**Written Review:** [Aqara FP2 Human Presence Sensor Review](https://smarthomescene.com/reviews/aqara-fp2-human-presence-sensor-review/)  


&#x200B;

[Aqara FP1 vs FP2](https://preview.redd.it/k17etrbrezua1.jpg?width=1920&format=pjpg&auto=webp&v=enabled&s=8e2644053fa5e2be0b7da933c7a30c582c75fc01)"	159	"[""inrego: That looks awesome! Only downside is the cloud connectivity. If it gets jailbroken with proper functionality, it's going to be a beast of a device"", 'Improvotter: I have had 3 FP2s for almost a week now and when it works it’s fantastic. Unfortunately it has false positives in 2 out of 3 rooms and it’s making them unusable for me.\n\nUsing interference sources are not really great because as soon as it thinks you’re in that area, it will switch to absent. So in my office my PC setup is detected as a person for some reason. If I add it as an interference source, it will mark me as absent when I’m at my desk.\n\nIn my kitchen it thinks the sink is a person as well. There I could leverage the interference source as well but would have the same problem as at my desk, it goes to absent when I’m at the sink. I could add some timeout for this usecase, but ideally it should be better here imo as that’s just a bandage to the problem.', ""MairusuPawa: I really enjoy the deep dive reviews, thank you for this!\n\nA small nitpick: I'd appreciate being able to filter by protocol. Coming in to the page without knowing anything about the FP2, it took me a while to figure out it was a wifi device. Maybe a small table on top of the article would do the trick? I'd also appreciate the ability to be able to sort your articles according to the device's protocol (with a tag?) such as wifi / zigbee / z-wave / thread, etc :)"", ""automatemyspeaker: Great review, WiFi was not what I was expecting.\n\nThat price is substantial. It'd be expensive to kit out a few rooms."", 'BackHerniation: &#x200B;\n\nhttps://preview.redd.it/qf5o7a8961va1.jpeg?width=1920&format=pjpg&auto=webp&v=enabled&s=ce9f4374d47db29fc51d0a1ee66eb6cdff62a66f', 'inrego: Does it detect pets as people?', 'gmaclean: Available on Amazon, looks like there is a 15% coupon available (at least on Canada and US sites). \n\nCloud dependancy is a no for me, but as others mentioned if ESPHome could be set up, that would be great.  Assuming it can… my understanding is manufacturers an lock the chip by burning a resistor to prevent flashing on their devices.', 'michaelthompson1991: So when you say you need to use the Aqara app, does that mean you need an Aqara hub?', 'zyghomh: this sensor seems to be a great one\n\nand having ESP32 there means: good things can be achieved \n\nof course this kind of sensor has to be AC powered always, right?', 'MadJackThePirat3: Just wondering, how many devices would you need? One for every room? That would get pricey really fast; \n\n4 rooms x 75 = 300\n\n5 rooms x 75 = 375\n\n6 rooms x 75 = 450 \n\n7 rooms x 75 = 525', ""stedaniels: Fantastically detailed review.\nHow have you wall mounted this?\nAny ideas for power distribution?\nWith the pace of mmWave tech I'm not sure what cables I should be burying (trunking) where!?"", 'flooger88: I’d pay full price for this sensor and happily not use their app. The idea of being able to essentially map out a room and then set motion zones over a map is awesome.', ""ElGuano: Nice, thanks for writing this up! The cloud dependency probably kills it for me, but I'll be waiting to see if there is an ESP home flash in the future with zone and internet support."", ""cor-dog: All the hate that it's WiFi, but since it has an ESP32, you could also use it as a Bluetooth tracker for even more precise presence detection."", 'BalingWire: \n\n&#x200B;\n\nCould you say where you got it?', 'Smeegoan7: What is the power usage of this device?', 'smdifansmfjsmsnd: Can mmWave penetrate walls?', ""Troll-U-LOL: This is a great review /u/BackHerniation ... thanks for the in-depth insights!\n\nThe first thing I wondered about when I saw all the YouTubers start reviewing this today, is whether it had exclusion zones so that I could ignore something like ceiling fans, and you showed that it did - awesome!\n\nI'm wondering whether you had a chance to test the fall detection?  I am seriously thinking about this for my elderly mother.  Obviously the ceiling mount works best which is no problem, but I'm wondering if you can have fall detection in some zones and not others.  For example, if my mother wanted to lie down on her couch to watch TV, I don't really want an alert for that.  But if she were to fall in her kitchen or dining room only a few feet away, I would want an alert for that."", 'chipep: Thank you for your detailed review', 'Milfoy: A great review !', 'swpete: Any plans to see how this pairs and shows up in zigbee2mqtt?', 'Xorfee069: Amazing bought 5 fp2s now', ""notownblues: Thanks for this great review 🙏🏻 What's your experience with windows open and air circulating in the room such as dehumidifiers? It triggers my FP1s currently. Even boiling water or my fan oven in the kitchen 😂"", 'Mosheridze: Damn man, now I want 4 of these!', 'ferbulous: Finally, ignoring moving fans. That’s enough reason to grab one.\n\nI hope other manufacturer start implementing this', 'FriedEngineer: This seems very similar to the [Everything Presence One](https://shop.everythingsmart.io/en-us/products/everything-presence-one-kit).', 'ifthenthendont: Has anyone documented sensor chip manufacturer or model from a teardown? I believe fp1 was by infineon....', ""djgrahamj: I've been curious about this device so thanks 👍🏻"", 'simps100: Does this require a Aqara hub atall or just need the FP2 and app? Thank you!', 'reneki: Health safety a concern with something like this?  Looks really cool, want to order a few.', 'EriEri2020: Very nice review. Do you think it will be possible to overlay the position of persons on a floormap in HA? does the integration provide such data?', 'yotraxx: Neat !\n\nGreat, great review :)\nThank you !', 'WolfKodi: Seems like your special seller over at AliExpress has removed the link you provided as it now returns as a page not found. Shame.', 'Jamtron3000: Will this be able to track when a room is empty or has a human presence just by tracking who enters and leaves through a door? Or must it have clear site of the entire room in order to know when someone has left the room?\n\nIs it faster at detecting a presence than the FP1 or is there still a lag vs motion detection?', 'lesthill: Anyone have a way I can accomplish room mapping with the everything presence one sensor?', 'async2: Can you open it and try to identify the actual sensor they use?', ""Chesterflaps: I wouldn't bother with these yet as they are not fit for purpose. It seems all the reviewers versions are different to the end product.\n\n&#x200B;\n\nFor example the mode names are different and secondly the reviewers versions actually work, apparently. Here's a list of issues - The zone mapping does not work, if there is more than one person in the room it gets confused even though it's meant to be able to cope with 5 people, if you have a zone which is near a door and then you walk out of that door, it does not recognise you have left the room and leaves lights on, the people tracking does not work in real time as all reviewers show. When you open the app it will not show where you are. You then need to go into another screen within the app, then back to the map and it shows where you are. Then if you move, the icon does not. You have to again go into another screen and back in. This makes creating zones almost impossible.\n\nthis has been released before it is ready for market in my opinion."", 'gbdavidx: this would be perfect if it can tell the difference between myself and my wife...', 'rwojo: Heads up for anyone having issues doing auto-detection of edges, interference sources, or seeing live updates. Looks like DNS blocking can be the issue as I saw here: [https://www.reddit.com/r/Aqara/comments/12vd777/fp2\\_presence\\_sensor\\_no\\_live\\_updates\\_on\\_wifi/jhgq31l/?context=3](https://www.reddit.com/r/Aqara/comments/12vd777/fp2_presence_sensor_no_live_updates_on_wifi/jhgq31l/?context=3)\n\nThat said if I went back into the UI every time I saw updated positions, and detection still worked with these blocked. They seem to be some sort of server-side push notification/realtime socket service and some other junk.', ""melbourne3k: It sounds like you can set it up with the aqara app (assuming you want zones) and then just connect via homekit locally. If you don't need zones, it sounds like you don't even need the aqara app. Either way, no cloud really required?"", 'AndrewFromAqara: Please note, the bug, which prevented FP2 automations from being local, was fixed. Feel free to test.', 'AvoidingIowa: Cloud connectivity required? Oof. Returning it.', ""ThreeHeadedWolf: Considering it has an ESP-32 inside I don't see why it wouldn't be possible in the short term."", ""berrywhit3: Every device which can be connected to Xioami Home could also be used local with the device token. I think we wont need any jailbreak to run it locally, just some API adjustment.\n\nNo guarantee, I still thinking about buying it but I don't see why it shouldn't be possible."", ""cexshun: This seems to be the general problem with all FP style devices. They have to be super sensitive to detect a person sitting motionless at a keyboard. But this has the side effect that the device is utterly useless in rooms with windows. Movement outside? presence. Close the blinds and the heat/AC turns on? presence.\n\nI don't know who is using these successfully, but I'm curious how many rooms they have with windows in it. When the door is opposite of the window in a room, such as every room in my house, it's impossible to place the sensor and not get false alarms. Either subtle outdoor/curtail/blinds movement trips a false positive, or someone walks down the hallway and triggers it."", 'BackHerniation: Protocol tags are right at the top, maybe I should rethink their position..  \nThank you for the feedback. :)', 'ginandbaconFU: Aqara announced it will be added to Thread/Matter but they are rolling Matter out by device type so Aqara couldn\'t add it as a Matter device until they add MmWave trackers to Matter. Right now it\'s just simple devices like light bulbs. It could be a year or more before they allow these type of devices in Matter. I\'m not sure what the time table is on that. When Aqara announced the FP2 at CES they did state it would work via WiFi at first though and would add Matter support in a future update. Maybe wifi devices are easier to ""port"" to Matter for lack of a better term which is why they didn\'t use ZigBee but that\'s pure speculation by me.', 'Ulrar: Ouh yeah, wifi is unfortunate, sounded perfect if it was Zigbee', 'olderaccount: > WiFi was not what I was expecting.\n\nIt is tethered to a cloud service. Devices like that will always be WiFi.', 'smdifansmfjsmsnd: So this fully integrates into HA no need to go through HomeKit?  Sorry for the confusion but I’ve seen one YouTube video saying he couldn’t add it.', 'QuesyDucky: Are those multiple Zones detection areas that you set? \n\nDo you think I would be able to mark off two sides of a king size bed, and uniquely detect a person on either side? Not sure how granular zone can get.', ""g0ron: How did you manage to add the sensor in HA? I've been having issues doing so after pairing it I don't see anything showing up on my dashboars"", ""BackHerniation: I am not sure, I don't have a pet and could not test this.  \nHowever, there is an option in the app called Interference Sources in which you can predefine ceiling fans or similar moving objects which the sensor will later ignore and won't allow them to trigger it."", 'Lostbutnotafraid: Only great danes walking on their hind legs.', 'csthree12345: I read somewhere that they are focusing on improving this and fall detection in future updates', 'BackHerniation: No, no need for a Hub. You can initialize it directly by connecting it to your Wi-Fi', ""ginandbaconFU: Yes, I'm pretty sure that the power MmWave sensors draw just doesn't work out for something similar like a PIR sensor that can run for months of one or two watch batteries. At least the FP2 actually has a USB C input. The FP1 had the cable attached so if it wasn't long enough you had to get a USB extension cable.\n\nI own the Espresense one and it will run for about a week when plugged into a 25000 MaH battery so I think they simply use to much power for batteries to be a viable option. It has both a PIR sensor and MmWave sensor because PIR is still better for fast detection while MmWave is better for small to no movement for presence detection. \n\nSeeed studios makes one that runs at 60hz that can detect heartbeat rates from about 5 feet away but it's geared more to the medical industry than for home automation.\n\nhttps://www.seeedstudio.com/60GHz-mmWave-Radar-Sensor-Breathing-and-Heartbeat-Module-p-5305.html?queryID=583dec5913ea3c11657e42bc8f69d195&objectID=5305&indexName=bazaar_retailer_products\n\nhttps://youtu.be/J1JDgFs_4iw"", 'SASDOE: I don’t think you’d need the FP2 in each room, given it’s features.\n\nLess capable PIR sensors would be good enough for corridors, bathrooms and other rooms where occupants are likely to be moving for example. \n\nThe FP1 or other simpler mmWave would also suffice for rooms which don’t need zone detection, such as a study. \n\nRealistically, you’d only want the FP2 where you want zone tracking. \n\nI wasn’t too clear however if it allowed counting the number of occupants in a room or just tracking multiple people in different zones (in a binary, occupied or not, sense).', ""ginandbaconFU: The Hi-Link MmWave detectors which are super cheap from AliExpress work natively via an Integration in HA and use Bluetooth and not WiFi. You can also add them to ESPHome but they have to be hooked up to some sort of ESP32 device as they don't have an ESP32 chip in them. \n\nThey make an Android app that works via BT but it's kind of sketchy because it's not available through the Play Store. You can get 5 of them for about 20 dollars US including shipping so pretty cheap if you want to play around with MmWave. Obviously they don't have all the features that the FP2 has though. \n\nhttps://a.aliexpress.com/_mrC15Dq\n\nPoint is the FP2 isn't the only option out there. Personally I use Home Assistant due to security and local control plus the ability to use way more devices with having fractured ecosystems but it does take a little bit more technical knowledge although that has changed drastically over the years as Home Assistant has made things more user friendly. Seeed Studio also makes a range of MmWave radios, some as cheap as 7 dollars with tutorials on how to set them up in Home Assistant. You also need one of their XIAO ESP32-C devices which are around 5 dollars US \n\nhttps://wiki.seeedstudio.com/xiao-esp32c3-esphome/"", 'greentea05: That’s not too pricey when you consider it should do all your presence detection for the next ten years', 'tatDK94: Aqara has fixed the bug that required it to have a cloud connection to send local presence notifications to Home Assistant. You can now block all outbound traffic from it and still have it work through the local HomeKit(/Home Assistant) connection.', 'pyrodex1980: I’d love to see this device setup to run like ESPpresense or something else. I use this for tracking iPhones / Watches in the house for room presence.', 'pyrodex1980: I’d love to see this device setup to run like ESPpresense or something else. I use this for tracking iPhones / Watches in the house for room presence.', ""ginandbaconFU: Video review below that pointed out something that I didn't think about although the original poster did point out above. Since it uses WiFi and not ZigBee that's why no hub is needed. If it worked via ZigBee an Aqara hub (or some ZigBee hub or USB dongle for HA) would be required so it's actually good that it uses WiFi and not ZigBee IMO. So having an ESP32 and using WiFi also allows you to implement it without Aqara forcing you to purchase one of their ZigBee hubs which they could have done if they really wanted too.\n\nI'm not sure why everyone automatically associates wifi with having to phone home because hubs connect to the internet and some manufacturers like Tuya make devices that require internet access for ZigBee and Bluetooth devices to function. It's rare but they do exist. I'm on the fence because 90 dollars is a lot for a presence detector but based on the video review and the written review Aqara seems to have put a lot of work into this device. \n\nhttps://youtu.be/yarollsdao4"", ""ginandbaconFU: Bluetooth is required for Matter/Thread for scanning codes. Not sure why all the hate for wifi because both ZigBee and wifi can work locally or be cloud dependent. Outside possibly interfering with other wifi devices and not being able to act as routers to extend a ZigBee network there really isn't a downside to wifi IMO and not all ZigBee devices act as routers to extend ZigBee range, only some do.\n\nThe Hi-Link MmWave detectors which are super cheap from AliExpress work natively via an Integration in HA and use Bluetooth and not WiFi. You can also add them to ESPHome but they have to be hooked up to some sort of ESP32 device as they don't have an ESP32 chip in them. \n\nThey make an Android app that works via BT but it's kind of sketchy because it's not available through the Play Store. You can get 5 of them for about 20 dollars US including shipping so pretty cheap if you want to play around with MmWave. Obviously they don't have all the features that the FP2 has though. \n\nhttps://a.aliexpress.com/_mrC15Dq"", 'BackHerniation: If must buy from AliExpress, I left a link with a disclaimer here:\n\nhttps://smarthomescene.com/reviews/aqara-fp2-human-presence-sensor-review/#Buy', ""ginandbaconFU: I haven't measured but MmWave devices draw too much power for batteries to be a viable option. I own the Espresense one and it lasts about a week when hooked up to a 25000 mAh USB battery. So you can use a battery but you will be charging them once a week, possibly more or less but battery isn't really a viable option for MmWave devices. \n\nI do have a USB power detection adapter and own the the FP1 so I could measure it if your interested but I can already tell you they draw to much power for batteries to be a viable option like PIR sensors which can run for months if not over a year off a battery watch battery or 2."", 'BackHerniation: Hey dude,\n\nThanks for the feedback. \nYour use case fits within their advertising and claims, superior fall detection.\nI don\'t doubt it will detect a person falling. Making the sensor understand a ""fall"" is not dificult (quick sudden movement is easy to code in). \n\nHowever, the first FP1 suffered from a bug making the sensor stuck in ""detected"" state. Someone reported that this one has the same flaw. I\'m in the process of testing this, constantly triggering it from different angles to see if it will get stuck. Because they added a setting in the app called ""Reset presence status"" which kinda worries me.\n\nNo issues so far though.\n\nI will let you know in a couple of days what I\'ve found out and share my results, for now, don\'t buy it for your elderly mother.\n\nCheers', 'BackHerniation: You are welcome, cheers', 'BackHerniation: Thanks', 'foxleigh81: It’s Wi-Fi so it won’t show up in that at all.', 'Mosheridze: Mind sharing where?', ""Th3Shaz: Love the concept but they have been out of stock for a year now. He's just not able to produce enough to make this a viable option. Only hope is for other folks to copy this design and manufacture their own chips."", ""mortsdeer: This post has a link to just such a teardown. I'll let you click through and find out."", 'tatDK94: Connects through wifi and currently supports the Aqara ecosystem (no hub needed, but cloud based) and local HomeKit (which can be integrated into Home Assistant, no cloud needed)', ""BackHerniation: You can delete the app on your phone, it's not needed after you've set everything up. However, if you block access to the internet of the device, it stops reporting in Home Assistant via the HomeKit Controller Integration. Which means it IS cloud dependent.\n\nI will tinker some more, see what I can find out\n\nEdit: As mention bellow from u/AndrewFromAqara, they released a firmware update which renders local control possible without hubs, apps or any other dependence. You can block the internet traffic on the device after initialization, and it will now work locally with Home Assistant. Firmware ver is 1.1.6\\_0005.0025"", ""inrego: Could be the case. We don't know for sure until someone sniff the traffic from it to see if anything is sent to aqara servers after initial setup.\nMy guess is that it will."", 'ClutchHunter: Sounds similar to the G4 doorbell.', 'ginandbaconFU: Looking forward to updated reviews to confirm this as that\'s an odd ""bug"" but if fixed I will be ordering one, primarily for being able to ignore areas like ceiling fans. \n\nI was about to get one before they sold out on Amazon but that was a deal breaker. I have no issues with sending data to help improve and find bugs so they can be fixed in a future updates as this technology is always evolving and needs fixes along the way but an active internet connection to function was a deal breaker. Looking forward to updated reviews to confirm this. Thanks for the update.', ""inrego: Don't think it's required apart from setup.\nBut I'd be surprised if it doesn't send data home if connected"", ""theloneranger08: I'll buy it from you!"", 'ginandbaconFU: See above post from Aqara, if you haven\'t returned it would like confirmation if possible. I imagine this would require a firmware update or at least an app update at minimum but I didn\'t order one due to the active internet connection being required which is supposedly a ""bug"" according to the post above from someone from Aqara.\n\nEDIT: just saw post below that you returned it already \n\nPlease note, the bug, which prevented FP2 automations from being local, was fixed. Feel free to test.', ""inrego: As is also noted in the article, there's a lot of clever logic in handling the zones, which will be hard to replicate in ESPhome"", ""NavinF: >rooms with windows. Movement outside? presence\n\nIsn't this a mmWave sensor? Windows should be opaque to it"", ""djgrahamj: hmm that's disappointing to hear. My house has a million windows."", ""ntsp00: Have you actually used one or is this all just conjecture? Each of the mmWave sensors I've considered all had range and sensitivity settings. And people using the older sensors with longer detection times pair them with motion sensors. The motion sensor registers a person entering the area and handles whatever you want to happen for a newly occupied room while the mmWave sensor picks up there and just monitors for maintained occupancy. For example, motion sensor triggered = lights on, mmWave sensor no longer triggered = lights off. \n\nI've seen many posts/comments on this sub of people using mmWave sensors successfully."", 'ginandbaconFU: MmWave (millimeter wave), which is what these devices use, are very sensitive but with the espresense one device which works via ESPHome in HA, you can adjust the radio\'s distance so limit it\'s range to adjust for some things but these devices, no matter who makes them are very sensitive to things like fans or pets or any type of movement so there isn\'t really a way to just say ""ignore this or that"" no matter how they are setup. At least to my knowledge there isn\'t', ""arrowthefirst: Come on, in Aqara home you just set up the edges of the detection zone and your windows won't be detected"", 'MairusuPawa: Interesting. So does this point to the ESP32 being able to easily use Matter (Thread)? This could be super fun with ESPHome.', 'greentea05: POE would have been perfect, hardwired into ceilings running over LAN. This device is far too chatty for zigbee', ""ginandbaconFU: No, just because they are wifi doesn't mean they need the cloud. ESPHome in Home Assistant uses wifi as it controls devices that have ESP32 chips granted sometimes you have to flash hardware devices but being wifi doesn't mean they need the cloud. \n\nZigBee is very close to what 2.4ghz wifi does, the spectrum and protocol is just slightly different to not interfere with other wifi devices. ZigBee is  kind of like a separate 2.4ghz network. Both can be cloud dependent or not use the cloud at all. The espresense one is wifi and doesn't need the cloud at all and works in ESPHome in Home Assistant.\n\nThe FP1 was ZigBee and still was cloud dependent if you set it up in the Aqara app."", ""ginandbaconFU: Video review below that pointed out something that I didn't think about. Since it uses WiFi and not ZigBee that's why no hub is needed. If it worked via ZigBee an Aqara hub (or some ZigBee hub or USB dongle for HA) would be required so it's actually good that it uses WiFi and not ZigBee IMO\n\nhttps://youtu.be/yarollsdao4"", 'BackHerniation: So, It\'s important to differentiate between the HomeKit Integration and the HomeKit Controller Integration.\n\nThe second one is what the FP2 uses, which is controlling devices labelled ""Works with HomeKit"" directly through HA.\n\nSo no need for HomeKit or hubs usually, I suggest you read their documentation, I cant link them for you right now on mobile', ""BackHerniation: That's an interesting idea, I think you just might be able to. I will try this and let you know"", 'BackHerniation: Use the Homekit Controller Integration (Dont mistake it for the Homekit Integration). You might need to put the device in pairing mode again though.', 'StaggerLeeHarvey: Or three corgis in a trenchcoat.', 'michaelthompson1991: Oh yeah, I forgot it was WiFi 🤷🏼\u200d♂️', ""ElGuano: Thanks for that update, that is huge.\n\nI have idevices at home but personally use an Android. Hopefully the Homekit connection to HA is easy to manage without having to constantly ask for the wife's phone."", ""ginandbaconFU: They are available through Amazon in the US store now but they aren't cheap so buying through AliExpress may save you some money but shipping would obviously take longer.\n\nhttps://a.co/d/fIHg3OM"", 'Troll-U-LOL: Yeah, the YouTuber Lewis (I forget his HA channel name) noted as much in his review of the FP2 ... and refers to the reset button as the apparent ""fix"" for now.\n\nDo you think fall detection is predicated on ceiling mount?  I know they suggest it, but I\'d be curious if some wall mounting configurations could be effective as well.\n\nAs for fall detection, that\'s not the only way it could be leveraged effectively for elderly monitoring.  Lack-of-motion for X hours or minutes could work as well (although you can use a lot of PIRs with something like Home Assistant to easily accomplish that).', 'swpete: Ahh, I missed that.', 'Xorfee069: Amazon Germany', 'ginandbaconFU: At this point it may be faster to just order the board and buy the Panasonic pir sensor and dfrobot mmwave sensor separately. Both can be purchased from mouser. You would need to soldier the pins on the dfrobot mmwave sensor that slide into the slots on the board. The Panasonic pir sensor has 3 pins so it would just plug in without having to do anything.\n\nhttps://www.mouser.com/ProductDetail/DFRobot/SEN0395?qs=ljCeji4nMDmvEgq75EdCVA%3D%3D\n\nhttps://www.mouser.com/ProductDetail/Panasonic-Industrial-Devices/EKMC1603111?qs=7jYh1P364wm%252Bee2n5xwlWg%3D%3D', 'FriedEngineer: I’ve gotten emails that it’s been back in stock multiple times in the last few weeks, but it doesn’t last long so your point stands', ""apu95: Oh man that's so disappointing. Do you know what domains it's trying to contact?"", 'Oguinjr: Ive used home+ to add aqara devices without the app. Not sure if that applies here.', 'ginandbaconFU: Not sure if you saw the post below from someone from Aqara, while an really odd ""bug"" me and obviously many others here would like confirmation if that the FP2 no longer needs an active internet connection to work. I personally have zero issues with sending some data if the company is using it to fix real bugs and improve their product but there should also always be an opt out option also IMO.\n\nBelow post from Aqara:\nPlease note, the bug, which prevented FP2 automations from being local, was fixed. Feel free to test.', 'ginandbaconFU: Good to know although strange because HomeKit is supposed to similar to Matter where local control was supposed to be mandatory but maybe third party ""integrations"", for lack of a better term, don\'t have to follow that rule. \n\nI don\'t personally use the HomeKit Integration in HA and not a big Apple device owner but since Apple makes money off of hardware and doesn\'t use the ""all your data for cheaper devices or free software"" model like Google and Amazon they tend to collect way less data for that reason. While not personally an Apple device owner they are the best out of anyone about data collection but you obviously have to pay extra to get that. Not trying to diss Apple, just a different business model than Google or Amazon.\n\nIf you have a pihole you could at least see what 3rd party domains it\'s trying to phone home to although sometimes that doesn\'t give you all the information because those domains could be forwarding or routing the traffic to some other domain.', 'AvoidingIowa: Oof, sorry but I had returned it earlier today.', ""AvoidingIowa: I'll probably end up getting it again when all the bugs and kinks are worked out and HomeAssistant compatibility is there."", ""ginandbaconFU: They were able to add zones in Zigbee2MQTT add on in HA for the FP1. I'm not sure if they ever added that functionality to the ZigBee integration though. It did take a while after the FP1 was released but does show it should be possible, or at least potentially possible."", 'craig91: Perhaps he means when a window is open.', ""cexshun: Yes, I've used the fp1. It was node 71 in my network...\n\nIn any room of the house, it would never drop presence. Ceiling fans, heat/ac breeze, pc fan in a clear case, fish/turtle in a tank, etc has made it useless. It's in my basement right now since it only has 1/4 windows up near the ceiling, so it doesn't hold presence forever. And I still had to pair it with a motion sensor to make it usable.\n\nTried the unit mounted everywhere, including under a shelf. Under the shelf provided the least false positives but still stayed stuck in presence detected.\n\nBut I'll just trust my experiences while you can trust YOUR conjecture by reading comments on something you don't own."", 'ntsp00: Some have zones which specifically allow you to ignore a ceiling fan or say ground level pets. Also a commenter stated the FP2 allows you to register ""interference sources"".', ""ginandbaconFU: Yes but that functionality would have to be added to ESPHome. I'm sure it will at some point but since Matter is still Beta in HA it may be a while. You can get an ESP32-C6 Devkit from AliExpress which supports Thread/Matter so it's certainly possible but they would have to add Thread/Matter support to ESPHome first.\n\nhttps://a.aliexpress.com/_mrXGgSU\n\nFrom the description:\n\nESP32-C6-WROOM-1 is a general-purpose module supporting Wi-Fi 6, Bluetooth 5, and IEEE 802.15.4 (Zigbee 3.0 and Thread). This module is built around the ESP32-C6 chip, and comes with a PCB antenna and a 8 MB SPI flash."", 'olderaccount: It is the other way around. If it requires the cloud, they are usually WiFi only.', 'JamesTiberiusCrunk: You got their statement about cloud/WiFi backwards', ""athermop: They didn't say wifi devices require the cloud, they said cloud devices require wifi.\n\nYou addressed that later, but your first paragraph confuses the matter."", 'olderaccount: Hubs are cheap compared. WiFi is never better unless it is a high bandwidth device.', ""craig91: For me it's a negative. With zigbee, zigbee devices themselves can act as routers so you can build out a strong mesh with the devices themselves extending the range and signal quality for other zigbee devices. For example I've got a bunch of  zigbee plugs, and since they are always plugged in they act as routers that my other zigbee motion sensors connect through that are a bit further away from the zigbee coordinator (hub). On top of that the less devices on my Wifi the better, every router has a limit to number of clients it can reliable handle."", 'zepkleiker: How do you define zones if you integrate it like this? Can you still use the Aqara app to do this?', 'QuesyDucky: Thanks. I am trying to decide on a mmWave sensor. \n\nDoesnt look like Fp1 or Everything presence 1 doesnt have any zones. This would be great and cheaper than the withings bed sensors. \n\nIf you set a zone (detection area), I assume that creates an entity in home assistant?', 'g0ron: Awesome thanks, I was able to find it after putting it in pairing mode.', 'tatDK94: No Apple devices are needed. HA can act as a HomeKit controller, imitating an Apple device. In effect HomeKit will work like an open protocol. Setting up the maps and zones will have to be done in the Aqara app, though. This part is not possible through the HomeKit connection. After setup the app can be deleted, though.', 'Mosheridze: Nice 😊 I am also from Germany so it’s even better.', 'Th3Shaz: Is the board attainable somewhere? From what you\'re describing, this is quite an easy job. I build 3"" fpv quads so I imagine this has to be simpler than that.', ""Th3Shaz: Where do you even sign up for in-stock emails? The product page doesn't seem to have any option to be notified. Or are you just referring to his newsletter?"", 'Creepy-Ad8688: Also shipment from him has improved so that’s great. But it’s still 60 gbp plus the case and shipment. So it’s almost same price as the FP2. I believe price went up a bit because of demand or hard to get parts. But yeah great product also.', ""inrego: Yes I agree it's possible. But it will not be easy.\nMaking the integration in JavaScript is quite different than implementing it on an ESP32. There aren't the same amount of resources and easy to use libraries to help along."", 'theloneranger08: Do people open their windows often?', 'ntsp00: So you didn\'t use any range or sensitivity settings? And you realize mmWave penetrates objects, right?\n\n> But I\'ll just trust my experiences while you can trust YOUR conjecture by reading comments on something you don\'t own\n\nOh absolutely I\'ll trust many different posts and comments describing successful use of the FP1 over a single comment stating ""I don\'t know who is using these successfully"".', ""ginandbaconFU: Not sure how I missed that but very good to know as it's been the main issue with mmwave sensors so far considering how sensitive they are  outside pets which is probably impossible to make ignore but maybe one day. Hopefully someone can figure out how to implement that in ESPHome but I imagine it will be months before anyone does if it's even possible so the HomeKit Integration for Home Assistant still sounds like the best option. At least for my setup."", 'ginandbaconFU: I stand corrected', ""ginandbaconFU: Just trying to understand what I got backwards. While wifi lights for example, have to use the internet out of the box, once flashed to work with ESPHome everything is local. Obviously not what your average person would do but wifi devices don't have to have internet connectivity to work but require flashing in order to achieve this. \n\nEven with ZigBee devices which are less dependent on the internet quickly become dependent on the internet if you add them to Alexa or use the native app like the Hue app. Also, a common misconception about ZigBee devices is every device extends the range of your ZigBee network. Not all ZigBee devices are routers so they don't extend ZigBee range. The Aqara FP1 used ZigBee yet it didn't extend the range of your ZigBee network because it is an end-device and not a router device and end-devices don't extend ZigBee range. Below is about Hue but the same principal applies. More ZigBee devices are end-devices than router devices than most people think. The Hue app is dependent on the internet also so unless you add it to home assistant it's pretty much dependent on the internet as the Hue app requires internet connectivity to work, so does the Aqara app. If I'm getting something wrong please clarify on what I'm missing. Not trying to be condescending, just generally interested in what I'm mistaken about. \n\nThis starts to make ZigBee more internet dependent quickly similar to wifi devices. If you can't use the Hue app without the internet then outside schedules most things start to require internet connectivity to work properly. \n\nhttps://www.smarthomewinner.com/philips-hue-internet-or-local-control/\n\nDon’t forget that some features of Hue smart bulbs including dimmer switches and schedules are designed to work even without the internet. To put it simply, Hue bulbs require the internet a lot less than other smart bulbs.\n\nUnfortunately, you won’t be able to use the Hue app or Echo voice control to control your lights and get additional functionalities without the internet.\n\nhttps://blog.wijman.net/aqara-fp1-human-presence-review/\n\nSince the FP1 is 'mains' powered via USB one could expect it to work as a Zigbee router, but unfortunately it doesn't. It is recognised as a end-device."", ""ginandbaconFU: True but there are 3 types of ZigBee devices, routers, end devices and coordinaters. Routers do extend ZigBee range but end devices do not. The FP1 was an end device so it did not extend ZigBee range and more ZigBee devices are actually end devices than most people think. Any battery powered device is almost always an end device to preserve battery life but devices that are plugged in full time can also be end devices and not routers like the FP1. Coordinators are obviously a hub or USB dongle that is responsible for forming the network\n\nZigBee also runs on the 2.4ghz frequency so it can interfere with wifi devices (unless they are on 5ghz) but your out of the box router can handle 255 devices so that's really never been a concern to me personally. If you have that many devices you should be running subnets or vlans but I understand your preference in ZigBee as most people do but most people aren't aware that not all ZigBee devices extend ZigBee range. Only ZigBee router devices do. \n\nhttps://community.silabs.com/s/article/what-is-the-difference-between-an-end-device-a-router-and-a-coordinator-do-i?language=en_US"", 'BackHerniation: Correct, each zone you define in the app is automatically added to HA as a separate entity', 'ElGuano: Oh wow, I had no idea it worked like that, definitely easy peasy. Thank you.', 'Networx666: I cant find it. Do you have a Link?', ""ginandbaconFU: Good question, you used to be able to buy the board separately for 40 dollars US but now it just says sold out.\n\nhttps://shop.everythingsmart.io/en-us/products/everything-presence-one-kit?variant=41695896830149\n\nI built one of these recently using the same dfrobot mmwave sensor and Panasonic pir sensor. It doesn't expose as many controls although I'm still working on trying to get the yaml right to have the same controls as the everything presense one but uses a standard 5 dollar ESP32 so you save 35 dollars vs buying the 40 dollar board.\n\nYou do need a 3d printer to print the case, or know someone who has one but the case for the everything presense one has to be purchased separately also which added to the total cost. There is a link to the 3d case file to print in the link below. I think you can have some places print it for you and mail it for some amount of money ey and there are several options for case design depending on how you want to mount it. \n\nhttps://lab.evishome.com/esphome-mmwave-radar-pir-ble-tracking/#configure-your-devices\n\nYou can also get 5 of the piir sensors used in the link above for 10 dollars US. The Panasonic pir sensor may be overkill anyways unless you need 30ft+ detection.\n\nhttps://a.co/d/iOdGJSX\n\nThat would bring the total cost to 45 dollars US minus the case. The dfrobot mmwave sensor is by far the most expensive part. You might be able to adapt it to a cheaper one. Seeed studios sells a 7 dollar MmWave sensor so that would be way cheaper but you would have to make some modifications to the case also. They also have a wiki on how to set it up in Home Assistant using one of their XIAO C3's which are 5 dollars and are much smaller than a regular ESP32. So now you are down to 23 dollars US minus the case and have 4 PIR sensors left over\n\nhttps://www.seeedstudio.com/24GHz-mmWave-Sensor-Human-Static-Presence-Module-Lite-p-5524.html\n\nhttps://wiki.seeedstudio.com/xiao-esp32c3-esphome/"", 'FriedEngineer: I’m not even sure 😅\nI signed up for whatever it is a while ago out of curiosity (haven’t purchased one). The email I got yesterday has a view it online option where you can sign up (which looks like a newsletter): https://everythingsmarthome.co.uk/email/2f8928d9-e479-4794-8f9e-dbb4603d4ba3/?ref=everything-presence-one-launch-newsletter\n\nI’m not sure it’s fast enough to jump on an in stock notification though. I’d probably have to monitor the site directly to have a chance.', ""ginandbaconFU: You are probably right and I bet it would be extremely difficult if even possible.\n\nVideo review below that pointed out something that I didn't think about. Since it uses WiFi and not ZigBee that's why no hub is needed. If it worked via ZigBee an Aqara hub (or some ZigBee hub or USB dongle for HA( would be required so it's actually good that it uses WiFi and not ZigBee IMO\n\nhttps://youtu.be/yarollsdao4"", 'greentea05: Hue app has always allowed direct connection over lan. Cloud is only for out of home access.', ""JamesTiberiusCrunk: I'm not going to read all of that. He said cloud connected things are always WiFi and you explained why WiFi things are not always cloud connected. A is always B does not imply B is always A, so explaining that B is not always A misses the point."", 'Mikel1256: I had to add ""presence sensor"" to my search for it to pull up for some reason. ""Aqara fp2"" wasn\'t enough apparently.', 'Xorfee069: Go to a certain aqara device .. click on their store name, you will find it on their store website on Amazon . When u r not able to find it, it means that they are out of stock .. luckily I had to opportunity to get some', 'Th3Shaz: You are a wealth of information! Thanks for this write up. I saved this as a doc to get back to when I have the brain power to absorb it. Going to see if I can make some progress on this in the weekend. Mainly need a presence solution for my office and the kitchen because the dog keeps tripping them at night :)', 'inrego: Not completely true. ZigBee is an open standard, which is why the FP1 (which uses ZigBee) can be paired with any dongle using zigbee2mqtt.', ""ginandbaconFU: I stand corrected, I always thought that the hue hub required internet because when I moved to home assistant and bought a ZigBee USB adapter my hue lights responded way quicker in than HA app than they did in the Hue app but internal LAN is all that is needed if you are connected to your local network although any voice assistant needs internet so both were the same regarding latency. \n\nAfter reading up on Amazon Sidewalk I had to get rid of all my Amazon Echos and moved to Rhasspy (which is WAY faster) because I wasn't happy that my echos were building mesh networks via Bluetooth with my neighbors Amazon devices and using my internet without my knowledge. Especially since they started putting 900mhz radios in some of their devices (same radios used for LORA) that can reach uo.to half a mile and have no other purpose being there except for Amazon Sidewalk. Something that should have been opt in instead of opt out but that's a different discussion entirety."", ""ginandbaconFU: Thanks for agreeing and proving my point as many Tuya hubs and devices that connect to those hubs require the cloud in order to control ZigBee devices. Being ZigBee doesn't mean it doesn't need the cloud and being wifi doesn't mean that it does. There are several ZigBee hubs and devices that won't control ZigBee devices unless they have an Internet connection and Tuya is particularly bad about this. The manufacturer can force ZigBee devices to require cloud access so no, ZigBee is not 100 percent LAN controlled depending on the hub and devices you own. Why do you think they forced Matter to be 100 percent controlled via LAN? Because of bad actors out there requiring internet access for WiFi, ZigBee and Bluetooth devices to even function which is why I use Home Assistant. \n\nhttps://support.tuya.com/en/help/_detail/K9tjtiy33x3qf\n\nNote: Not all smart devices can be controlled in LAN, such as: cameras, video doorbells and other smart devices that most of functions rely on cloud servers. Such as Zigbee devices, Bluetooth devices and some Wi-Fi devices (SoCkets, light bulbs, etc.) can all be controlled within the local area network (the local area network control function needs to be set by the manufacturer during production, if it is not set, it cannot be used)."", ""ginandbaconFU: If your using home assistant and automations you can set a time condition so the automation only runs at certain hours so you could have it not be triggered between, say 10:00pm and 8:00am and then that automation won't be run during those hours if your dog decides to roam around and triggers it unless I'm misunderstanding and you want your dog to trigger them at night. Regardless time condition are something I learned because having a playlist start playing at loud volumes at 3am because of a false positive while sleeping isn't my idea of fun.;)"", ""ginandbaconFU: True, but they have to add that device to ZHA or Zigbee2MQTT which takes time. Zones didn't show up for the FP1 in Zigbee2MQTT for probably six to eight months after the FP1 came out and I'm pretty sure zones were never added to ZHA as the FP1 also supported zones in the Aqara app but with less functionality as the FP2. I owned the FP1 and by the time zones were added to Zigbee2MQTT I had moved on to the everything presense one as zones weren't nearly as useful on the FP1. \n\nUnfortunately I think ESPHome is the only option but I highly doubt anyone can get all the functionality to work like what the Aqara app does so it would just be an expensive MmWave sensor at that point. \n\nSo even if it was ZigBee I doubt you would ever get the full functionality that the Aqara app has and even if they could, it would take months if not a year or more to get it working if ever.\n\nI'm not sure how they are going to handle the Matter update because Matter requires LAN functionality and right now the FP2 appears to require an active internet connection based on the reviewers post above. I'll wait and see what happens but right now it's too expensive for something that requires an active internet connection to me personally."", ""JamesTiberiusCrunk: Ok man, I'm still not reading all of that. I'm sure you're doing great"", ""Th3Shaz: Here's the problem, wife or myself sometimes go down late at night for water, or something else and it's nice to have all the counter lights come on. I have done exactly what you described where the main ceiling/island lights stop turning on past 1am. But I am wondering if there's ever a presence sensor that's able to only detect a human.  \n\n\nFurthermore, for my office, I'd need something other than a motion detector due to the fact that oftentimes it doesn't pick up my micro movements when I am standing writing something or just doing work. The microwave sensors are pretty good at picking up those subtle movements. Where they get tricky is wall penetration and picking up movements outside of the room. From my reading on them it seems that they have a spherical area of triggering that can be adjusted (expanded/contracted) but since rooms are rectangular, in theory the sphere would need to be small enough to not bleed out but big enough to detect me as I come in. Placement plays a big role here. Anyway, went off on a tangent :)"", ""ginandbaconFU: So you don't like reading and learning how some things actually work.... Cool...\n\nAnyways, video review below. Since it uses WiFi and not ZigBee that's why no hub is required. Aqara could have easily made this device work with ZigBee and force you to purchase one of their ZigBee hubs to even make it work and have the hub phone home like other manufacturers do as stated above even though you probably won't read this either. \n\nhttps://youtu.be/yarollsdao4"", 'ginandbaconFU: MmWave sensors are ""fun"" to place and setup for lack of a better term. Outside the FP2, I\'m unaware of any MmWave sensor that can ignore certain areas like ceiling fans. The FP1 supports zones in Zigbee2MQTT but I\'ve never really messed with it and the FP1 was only released in China so you have to get one from somewhere like AliExpress, possibly eBay. \n\nAnother cheaper option that I used after the FP1 didn\'t work out for me and that I use for some automations is espresense which just requires some ESP32\'s or a specific model of an m5stack ESP32-C3 which is what I use as it just looks better although the base stations can be hidden somewhere out of site. They actually work very well by tracking Bluetooth devices. I use my Android phone but several devices are supported. The obvious downside is you have to have the device on you. So if you had one in your office you could have it trigger an automation when it connects to another one in say, your living room. They also get an IP via WiFi and have a web interface which gives you control over distance you want to detect a device and can specify Bluetooth devices to ignore or track. There are a few videos on YouTube on how to set everything up. You have to install one of the 2 MQTT broker add ons but it\'s pretty much setup and forget about it once things are up and running. Espresense\'s have all the information very well documented and you flash the ESP32 base station via a web browser so it\'s very straight forward. That might be the best option for your office but as previously stated, you have to have the Bluetooth device on you so if you use your phone and leave it in your office then the automation would never turn off. On the plus side you can have different automations trigger based on the Bluetooth device so you could have different automations triggered based on if the Bluetooth device is your\'s or your wife\'s if needed. \n\nOutside that I can\'t really think of anything else except an MmWave sensor due to PIR sensors being great for fast movement but obviously aren\'t good with minimal movement. Honestly, espresense would be worth trying, especial if you have a spare ESP32 or preferably two sitting around as nothing else would be needed. There are some cheap MmWave sensors that work via Bluetooth with a native Android integration but to my knowledge they are only available on AliExpress but you can get 7 for maybe 30 dollars plus shipping. They are made my Hi-Link. Below is a link to mouser for what I use as base stations but like I said, a generic ESP32 will work also if you have one already. They can also track smart watches and tile trackers so it doesn\'t have to be a phone. Espresense has all the supported devices listed on their site below. \n\nEspresense site:\nhttps://espresense.com/\n\nM5Stack supported base station if you live in the US.  They also have 5 for 30 dollars. \n\nhttps://www.mouser.com/ProductDetail/M5Stack/C056-B?qs=A6eO%252BMLsxmSKM%2FUqJNAHBQ%3D%3D\n\nCheap. MmWave sensor that work via Bluetooth. Just need to run power to it via the 5V and ground pin which can be done in a few ways, easiest is a USB cable. The smaller model ones are TINY, just make sure you get one with BT, they can also be setup in ESPHome with an ESP32. There are several guides and yaml out there if you want to go that route. I can leave a link if you want to go that route. \n\nhttps://a.aliexpress.com/_mPBEqfA\n\nUSB cable you can use or you can cut a USB power only cable and soldier the red wire to the 5V pin and black wire to the ground pin. \n\nhttps://a.co/d/2oc4MUN\n\nHonestly I would try espresense first. Especially if you have a spare ESP32 or 2 sitting around as you would already have everything you need and can go the MmWave route if that doesn\'t work for you. Outside that, time based automations is really the only other thing I can think of like turning stuff in your office from say, 8am to 5pm Monday through Friday but obviously this would trigger regardless if you were in your office or not. \n\nEspresense setup video by the same guy who makes and sells the everything presense one\n\nhttps://youtu.be/p7C2QvmsM8M\n\nForgot to leave a link for Bluetooth proxies which extend your Bluetooth range but also require an ESP32.\n\nhttps://youtu.be/CjpPdwK_ttg']"
1681968655.0	19-Apr-2023 22:30:55	SkyConnect Users: How is your experience? Mine's been... buggy.	MikeDeansMustard	6	12sne3c	homeassistant	https://www.reddit.com/r/homeassistant/comments/12sne3c/skyconnect_users_how_is_your_experience_mines/	"Looking to get a baseline for expectations around the SkyConnect. I've had mine for just over a month now, and my experience has felt shaky. 

1.	I'm operating in Zigbee only mode. 
2.	This is my first Zigbee adapter I've ever used, so I don't know what expectations are supposed to be like. 

Let's get started. It's been commonly shared that the experience with this adapter operating in both Matter and Zigbee (Dual PAN) mode has been really rocky. Based on that, I've kept the adapter in Zigbee only mode. 

-	**OTA Updates**: Frequently crashes Zigbee2MQTT during the update. I have to attempt an upgrade for each device about three times each before it finally takes without requiring me to restart Z2M. 
-	**Interaction with devices**: Variable. Mostly stable, but more instability than I'd like. 
    -	My Inovelli light switches have, multiple times, become fully unresponsive and require the breaker to be tripped, or have me just wake the device up by pushing buttons for a few seconds until I get a response. 
    -	My Hue bulbs sometimes spaz out as if they've received a command I didn't send. I'll send an ""Off"" request to a group, and one of the bulbs in the group will just stay on or flicker once. 
    - I have to put in manual delays into Zigbee-based automations because it just doesn't seem like I get predictable behaviour otherwise. 

I have separated my 2.4GHz networks so there's no overlap (802.11ax Channel 6 & Channel 1, Zigbee Channel 25, and Bluetooth), and I have my adapters on USB extensions away from my server. I'm on the latest HAOS, and I run Z2M. I have limited interference as confirmed from some light signal testing and analysis. 

I'm wondering if the problem lays with the SkyConnect, or rather with some other part of my setup."	30	"['Biornus: Might have missed it from your post, [but have you updated the firmware](https://skyconnect.home-assistant.io/firmware-update/)?\n\nIt was rock solid with ZHA, but switched to Z2M to get some new Aqara switches to behave. And other than all devices disappearing once (I suspect it was due to initializing OTA update for 10+ devices), it has actually been performing nicely ever since.', ""Preference22: Running mine with ZHA and its rock solid. Not 1 complaint. I did however check which channel it was running on to see if it would interfere with my own wifi, but other than that I didn't change a thing (did nog even change the channel but just made sure to check it).\n\nEdit: typo"", 'Cha7lie: Out of interest, are you using the supplied USB extender cable? I changed mine for a longer one, and all my issues stopped.', ""TotalyNotAMurderer: Possibly a faulty unit?\n\nAny way you can reach the team and see if they can offer any advice or possibly a replacement if you can't get yours to play ball? \n\nI'm new to all this automation jazz, got a tiny HP computer and installed HA OS on it maybe 3 or so months back. Then quickly started growing my devices.\n\nI've been using a SkyConnect stick from very early on with no issues except for one LED strip controller but, think it's that that's the issue there.\n\nI'm using ZigBee2MQTT with approx 20+ ZigBee devices connected (mixture of routers and end points).     I don't think I updated the firmware on the SkyConnect, didn't change any of it's or my 2.4Ghz wifi channels or anything.. just plugged it in with the including USB extension cable and was running good.\n\nIn fact, I recently moved my server to a new spot (right next to my WiFi router) and was expecting it it cause issues but, not a single difference was noticed.\n\nI might get the odd time where a sensor has a bit of a delay or light controller missed the turn on/off message but, lately it's all been solid."", ""msalad: I just preordered my SkyConnect so I hope the issues you're experiencing aren't widespread! Have you tried switching to the native ZigBee integration in HA? I read that Z2MQTT support for SkyConnect is still experimental"", 'lasul: I have a similar set-up: skyconnect and Z2M. For me it’s rock solid *except* for the OTA updates which you mentioned. Otherwise, very stable.  \n\nI’m not sure what’s going on with OTA. I am aware that Z2M is still experimental with skyconnect. Tbh, it’s not a big deal to me.\n\nOverall, very happy with skyconnect and Z2M', 'CASchoeps: Contrary to deConz most devices I tried to connect were recognized instantly. I could not get automations to work with these devices though, but I blame my very old and non-standard setup for this. Automations have been a bit erratically but again that is very likely due to my old setup.\nI still have Tradfri and Hue hubs active since I was too lazy to re-register all my devices.\n\nHowever about a week ago both ZWAVE as well as ZHA stopped being recognized. Haven\'t done much troubleshooting yet though since the devices I added were only unimportant ones or haven\'t been fully interated yet.\n\nSo initially I was ""Yay! Switch to that ASAP!"" but now I am happy that I didn\'t.', 'holyfudge: Your link states that a firmware update is not required at this point, what did a firmware update change for you?', 'MowMdown: Ironically all my aqara devices work just fine in ZHA', 'Biornus: My supplied extension cable was faulty from the get go.', ""MikeDeansMustard: I am indeed. I'll pick up a longer one, I didn't realize the one it shipped with was poor. Can't hurt as a cheap and easy possible fix."", ""MikeDeansMustard: Glad to hear of the positive report. I'll try a few of the mitigations recommended in this thread first, and then I'll start pointing fingers at the unit itself."", 'MikeDeansMustard: I have not! Zigbee2MQTT comes with two critical bullets that made me start there: \n\n-\tOTA update support\n-\tCompatibility with a wider variety of devices\n\nThat said, if that also comes with lower stability, I don\'t want it. Collecting logs for ""general instability"" is a tough task for any technical problem, but if I\'ve eliminated enough variables, then I\'ll have to eventually move to ZHA and try my hand at it.', 'Biornus: You can read the changelogs for firmware updates here:\nhttps://github.com/NabuCasa/silabs-firmware', ""Biornus: Got the H1 double rocker wireless switch?\n\nThere are multiple threads on Github, where the device sends the same ZHA events no matter what button you press, the same device comes with different device signatures (so the you need to use different ZHA custom quirks), and the device signature might even change for no reason.\n\nAqara are the only ones to blame for not sticking to the Zigbee standards, not ZHA. But by switching to Z2M, I actually got a usable switch, instead of throwing a recently bought device in the dumpster.\n\nAnd if you look at https://zigbee.blakadder.com/ you will notice that Z2M has support for quite a lot more devices than ZHA.\n\nAgain, I am not trying to throw shade at ZHA. If manufacturers would just stick to the standard, then we wouldn't have any issues."", ""TotalyNotAMurderer: So did you end up using another cable or is it just plugged straight into your device?        \n\nI'm under the impression it's quite important to extend the stick away from the USB port - many brands recommend this and supply extensions."", ""msalad: I definitely hear you on your reasons for going with zigbee2mqtt. One thing to try:\n\nDid you set the following in your Z2MQTT config?\n\nserial:\n      adapter: ezsp\n      port: /dev/serial/by-id/usb-Nabu_Casa_SkyConnect_v1.0_-if00-port0\n      baudrate: 115200\n      rtscts: true\n\nReplace the port info with your device's info.\n\nIf you do end up trying out the native ZHA integration, there is great documentation [here](https://skyconnect.home-assistant.io/migrate-zigbee-zha/) on how to migrate your ZigBee network over from zigbee2mqtt"", 'MikeDeansMustard: Huh, I have not updated the firmware because of the ""not required"" statement. I assumed there wasn\'t updates being pushed. \n\nI\'ll definitely get this loaded onto it. Thanks for pointing this out.', 'Biornus: I am using another one I had lying around', ""MikeDeansMustard: [Here's my Z2M config.](https://i.imgur.com/wsFtrh4.jpg) I didn't configure a baud rate, or whatever `rtscts` refers to, just pointed Z2M at the SkyConnect. What is the default baud rate for the SkyConnect? Please don't say 9600."", 'Creepy-Ad8688: Hmm I thought that the firmware was updated automatically if any was available during updates of HAOS. I haven’t updated my skyconnect since I got it.', ""msalad: Sorry my formatting on mobile is terrible. I'd set the baud rate and rtscts flags in your config. I'm not sure why, but that's what the official documentation says to use if you're using zigbee2mqtt. Worth a shot, no?"", 'MikeDeansMustard: I can confirm mine was not. I popped it into my computer and loaded the web flasher, and I was several versions behind the latest.', ""MikeDeansMustard: Can you send me a link to that document that says to set the baud rate and the other flags? I can't find that anywhere, only references to what I have in my config."", 'Creepy-Ad8688: This it change anything for you the new firmware ?', 'Creepy-Ad8688: The “web flasher” you say can you link to that?. I only see the option for manually updating using SSH etc. thanks. 😀', ""msalad: Sure, [here](https://skyconnect.home-assistant.io/faq/#is-zigbee2mqtt-supported-by-skyconnect) ya go. It's under the 'Is Zigbee2MQTT supported by SkyConnect' tab."", ""MikeDeansMustard: From what I can tell so far, no, but I haven't spent much time interacting with my end devices just yet. So far, no immediate complaints, so that's a start."", 'MikeDeansMustard: https://skyconnect.home-assistant.io/firmware-update/', 'Creepy-Ad8688: Thanks man. 👍']"
1681967296.0	19-Apr-2023 22:08:16	Zigbee went POOF following an upgrade last night.	yostupidquestions	4	12smvd6	homeassistant	https://www.reddit.com/r/homeassistant/comments/12smvd6/zigbee_went_poof_following_an_upgrade_last_night/	"EDIT: Solved by StarfishPizza and TotallyNotAMurderer—I just needed a host reboot (which I now know is different than having HA reboot itself from the GUI). Leaving this up in case it helps someone in the future.  


I've never had an issue with an upgrade before, and I've gotten in the habit of always just installing the newest version when prompted.

Well... that's a lesson learned. Since the update Zigbee2MQTT refuses to start up, so all of my devices are dead. I tried rolling back and that did nothing.

I'm kind of at a loss as to what to do now. Is there a known issue with this update? I'm not that savvy, the most I can see is this log file that looks like it's trying to tell me something important but I'm not grokking what I need to do to fix this. Any ideas?

    Zigbee2MQTT:info  2023-04-19 22:03:57: Connecting to MQTT server at mqtt://core-mosquitto:1883
    Zigbee2MQTT:error 2023-04-19 22:03:57: MQTT error: connect ECONNREFUSED 172.30.33.0:1883
    Zigbee2MQTT:error 2023-04-19 22:03:57: MQTT failed to connect, exiting...
    Zigbee2MQTT:info  2023-04-19 22:03:57: Stopping zigbee-herdsman...
    Zigbee2MQTT:error 2023-04-19 22:03:58: MQTT error: connect ECONNREFUSED 172.30.33.0:1883
    Zigbee2MQTT:error 2023-04-19 22:03:59: MQTT error: connect ECONNREFUSED 172.30.33.0:1883
    Zigbee2MQTT:error 2023-04-19 22:04:00: MQTT error: connect ECONNREFUSED 172.30.33.0:1883
    Zigbee2MQTT:error 2023-04-19 22:04:01: MQTT error: connect ECONNREFUSED 172.30.33.0:1883
    Zigbee2MQTT:error 2023-04-19 22:04:02: MQTT error: connect ECONNREFUSED 172.30.33.0:1883
    Zigbee2MQTT:error 2023-04-19 22:04:03: MQTT error: connect ECONNREFUSED 172.30.33.0:1883
    Zigbee2MQTT:error 2023-04-19 22:04:04: MQTT error: connect ECONNREFUSED 172.30.33.0:1883
    Zigbee2MQTT:error 2023-04-19 22:04:05: MQTT error: connect ECONNREFUSED 172.30.33.0:1883
    Zigbee2MQTT:info  2023-04-19 22:04:06: Stopped zigbee-herdsman"	16	"[""Kitchen_Meaning5345: Are you sure that the config is good. [172.30.33.0](https://172.30.33.0) is not a valid IP address for a device if you don't changed to a larger subnet then 255.255.255.0."", 'StarfishPizza: It looks like the stick is struggling to communicate with your broker, check your logins for mqtt, try a host reboot.', 'TotalyNotAMurderer: Tried a full reboot of the whole actual HA server? \n\nI had an issue recently where I changed one too many settings the wrong way and ended up having to do a full restore from a back up (thank God for automatic daily updates using an addon that also saves to Google drive).\n\nOnce the restore was do e I was having issues with Ziggbe.    My devices were working fine through ZigBee2MQTT itself but, not Home Assistant. It was the MQTT broker that was at fault.\n\nI tried restarting HA a few times, looked online for help and someone recommend actually doing a full reboot of the server itself (not just HA).  Turned out that was exactly what I needed and got everything talking again.', 'chamberlain2007: Are you using the MQTT add on in HA? If so, do you have it set to start on boot? Also, check in the logs and see if there is any error starting up the add on.', 'darguskelen: Actually it can be if your network mask is anything larger than /24 (255.255.255.0). It is a valid ip in the network 172.30.32.0-172.30.33.255 /23 (255.255.254.0)', 'chamberlain2007: They are using the Mosquitto add on, so that would make sense as the IP for cross-container networking.', ""yostupidquestions: I've tried rebooting the machine overall and that hasn't helped. Is a host reboot something different?\n\nAnd where can I check the MQTT logins? Sorry, I have a narrow window of things I understand well, and this is outside of that."", ""yostupidquestions: I tried restarting Home Assistant, but I'll go... I guess unplug and replug it in? Not sure how else to hard reboot it."", ""yostupidquestions: I am using Mosquito, and I had it set to start on boot (and it was working well for months!). The above log is all I could see being problematic (and it wasn't started up, which was strange)."", ""Kitchen_Meaning5345: You are right, haven't thought about the case someone has changed that in the network at home."", 'Kitchen_Meaning5345: Yes Host reboot will restart all services and the os. Home assistant reboot is just the one service.', '_Rand_: Under advanced options in the restart dialogue is restart host, you want that one.  The restart home assistant only reloads the software.', 'StarfishPizza: So, is mosquitto up and running?', ""yostupidquestions: Well now I'm extra confused because I don't think I did anything unique in my network setup."", 'yostupidquestions: Oh my gosh that did it! Thank you so much!\n\nI learned something new today.', '_Rand_: To be fair it is kind of hidden, and with HAOS it’s not terribly obvious that restart refers to just the software either.']"
1681965572.0	19-Apr-2023 21:39:32	Why does Canada and US have completely different kWh estimates on a identical product model designed to never shutoff?	jason200911	1	12sm71b	homeassistant	https://www.greenbuildingadvisor.com/question/confused-about-energy-star-ratings		9	"['hikeonpast: Two guesses:\n\n1) each country may have a different standard that defines how often and for how long a refrigerator/freezer door is opened.  The insulation on modern refrigerators is good enough that opening the door more will increase annual energy use\n\n2) each country may have different rules for how refrigerators with automatic ice makers are treated.  It may be that Canada doesn’t include the energy used by the ice maker but the US does. \n\nEither way, the differences are a function of the testing rubric and have nothing to do with ambient temperature or other minor factors between the two countries.', 'moderately-extremist: Conversion from Canadian kWh to US kWh. /s', 'MGSkott: Wrong subreddit?', 'spheredick: Average ambient temperature?\n\nThe test methodology for energy labels is specified by law in the US (EPA) and Canada (NRCan), and although there is a lot of coordination of the standards across the border, they are not identical.', 'SNKWIRED: Canada is colder so it takes less energy to keep stuff cold there', ""mrCloggy: Is that conversion discrepancy caused by the Imperial vs US gallon of oil needed to produce those kWh's, the energy losses over the nautical vs statute miles of wiring to deliver that energy to the home, or maybe both?"", ""antisane: I agree, this has nothing to do with HA unless he's trying to integrate a smart fridge...."", 'Rudd-X: Canadian fridges are designed to operate at much more fathoms of depth.']"
1681965360.0	19-Apr-2023 21:36:00	Motion sensor that supports ZHA device bindings?	SnowdensOfYesteryear	2	12sm45m	homeassistant	https://www.reddit.com/r/homeassistant/comments/12sm45m/motion_sensor_that_supports_zha_device_bindings/	"Are there any motion sensors that support bindings on ZHA?  None of my Aqara motion sensors provide the option (either that or the feature is entirely broken on ZHA).

Bonus if it's waterproofed/outdoor-rated but that's not a requirement.

Edit: I'm talking about zigbee devices it that wasn't obvious."	0	[]
1681957654.0	19-Apr-2023 19:27:34	Cannot access homeassistant.local:8123 and automations not working	j_mnn	0	12siv3t	homeassistant	https://www.reddit.com/r/homeassistant/comments/12siv3t/cannot_access_homeassistantlocal8123_and/	Hello home assistant community. Could really use some of your support as I am totally at a loss at this point. For some reason today I have been unable to access my home assistant instance either via Nabu Casa or by local connection (homeassistant.local:8123). Running home assistant on a raspberry pi and can see the home assistant command line when I hook it up to a display. From the command like I was able to update the os but couldn’t figure out what issue is causing me to not be able to access home assistant locally on my laptop or via nabu casa. Also, none of my automations are working. Any help would be greatly appreciated.	10	"[""IAsDoubleYou: I haven't used my  RPI's for some time now, but I do remember that when things were starting to behave strange, most of the times it turned out the SD Card was the cause."", 'Splurch: I\'m having a similar problem. Running on an RPI 400 with an SSD, was installing the recent updates tonight, can\'t remember if it was OS or Core, but hit the update button, didn\'t think about it for a while then got a ""not responding"" from my smarthome speaker for some lights.\n\nJust started looking into what might be wrong as simple restarts didn\'t fix it. Seems to be running on a different IP now according to my router, using a DHCP address rather then it\'s assigned address and won\'t respond on the old IP, new IP or homeassistant.local.\n\nAny chance you were updating as well? I\'m hoping mine didn\'t just wipe itself during the update.', 'bsmith76s: Try the IP of HA your DNS may not be setup right to access through home assistant.local:8123', ""ReallyNotMichaelsMom: I had this issue, and it required a static IP address to fix it. I hope it's the same for you, because it was an easy fix (once I knew what the problem was)."", 'Vast-Ad-9451: Tis is what caused the problem for me. It was discused in another post.\n[other post](https://www.reddit.com/r/homeassistant/comments/12qmox9/home_assistant_os_10_better_memory_management/?utm_source=share&utm_medium=android_app&utm_name=androidcss&utm_term=1&utm_content=share_button)\n\nSo if you have home assistant on an SSD the updat to OS10 can ""break"". Depending on the SSD (NMVe is not yet supported)', ""Splurch: Ty, not using an NMVe, just an old SATA SSD through a USB connector. I've already wiped everything an installed a backup that was far older then I thought it was, which means this whole thing is going to cost me a lot of time. Really baffled that they would release knowing it's going to kill some peoples setups and not list it in the highlights section."", 'Vast-Ad-9451: ""Really baffled that they would release knowing it\'s going to kill some peoples setups and not list it in the highlights section.""\n\nYes this is also frustrating for me.\nI even saw a line at the beginning of this post where they say this:\n""For existing installations, no manual intervention is needed! You can safely update without reading these rather technical release notes"".\n\nWhen stating this, it should not break any setup. Of course its never 100% safe, but stating (a few lines below) that NVMe wont work is a bit strange. How to now this if you state yourself that you dont have to read the update notes😃\n\nIm in luck with a recent backup so the inconveniance after finding this error (NVMe) was like 20 minutes reinstalling and such (using an temporary SD in stead of SSD).\n\nStill in love with HA and kuddos to the makers and volunteers.\n\nA tip for your ""new"" setup.\nInstall the google backup plugin. For me its set in daily backup at 02.30 am. That does not help your excisting problem but helps to prevent this again in the future.\n\nEdit: I also use SSD through a usb connector. And dont know if my disk is SATA or NMVe. But becaus it does not work i am guessing NMVe. After reading your post (breaks woth SATA to) it could be something else though.\n\nDid you reinstall OS10 on the SSD and does it work???', 'antisane: I thought that limitation was specifically for the Odroid due to some firmware issue.... Am I wrong? My HA on nuc runs off an nvme.', ""Splurch: Oh that's a neat plugin, will install it once I get all my old configs redone. As for OS10, I had to wipe the drive a few times as trying to update kept killing it. Got it to work last night but not 100% sure the order, I think installing OS10 first then doing a partial backup install rather then a full one eventually is what got it to work. Just make sure you do a full backup you can access if something goes wrong with your HA software just in case."", ""Splurch: Maybe that's the case but mine was killed and I've got an SSD over USB. On trying to restore my old version I tried installing a few times and while OS 10 killed it a few times I eventually got it to work last night. So maybe the NVME thing is Odroid only but I definitely had issues with the install. Just do a full backup and save it somewhere you can access if HA has issues.""]"
1681953626.0	19-Apr-2023 18:20:26	Opening persistent notifications page from IOS device?	Stryk3rr3al	5	12sh5lt	homeassistant	https://www.reddit.com/r/homeassistant/comments/12sh5lt/opening_persistent_notifications_page_from_ios/	"Is there a way I can set an IOS notify message to link to the persistent notification tab in the HA app?

I’d like this because I have a rather long notification that does not fully show on my iPhone. I’d like to just be able to click the notification and be taken to the persistent notifications so I could see the full text of any the notification that is cross posted there."	1	['Stryk3rr3al: I ended up using pushover because it’s a quick solution to having the full text of the notification available when clicking the notification.']
1681948593.0	19-Apr-2023 16:56:33	Daikin airbase in Apple Home via HA but automation is not switching it off	AppleFan1010	1	12sf1a1	homeassistant	https://i.redd.it/evk9pdhp0zua1.jpg	"I have Daikin ducted aircon. I was previously using HB and automations worked fine. But now I moved to HA and I automated my aircon to start (let’s say) at 5 am and switch off by 5:45 AM. But it only switches on and never switches off.  Tried to to add a separate automation to switch off but it doesn’t. Only zones are switched off but not aircon. 

Any ideas why this might be happening?"	0	[]
1681948201.0	19-Apr-2023 16:50:01	Remove Time and Date from the Logbook	pearlfloyd72	0	12sev4y	homeassistant	https://www.reddit.com/r/homeassistant/comments/12sev4y/remove_time_and_date_from_the_logbook/	"&#x200B;

https://preview.redd.it/h5lerp7ihxua1.png?width=917&format=png&auto=webp&v=enabled&s=0a65f766c925ab97c0d1c017c2b77920575d29d8

I'm seeking some assistance with cleaning up my logbook. Specifically, I'm having trouble removing time and date sensors. I've tried several YAML configurations, but none have been successful so far. Any suggestions or guidance would be greatly appreciated. Thank you!

    recorder:
      exclude: 
        entities:
          - sensor.time_date
          - sensor.time_utc
          - sensor.date_time_iso
          - sensor.internet_time
          - sensor.time
          - sensor.date_time

&#x200B;

    recorder:
      exclude: 
        entity_globs:
          - sensor.time.*
          - sensor.*.time
          - sensor.date.*
          - sensor.*.date

&#x200B;

    recorder:
      exclude: 
        domains:
          - time
          - date"	6	"['LurkerTalen: The first one should work, assuming they are all the entity IDs you want to remove. For the second, it uses globs not regular expressions - replace .\\* with just a \\* and try again. The third won’t work as the entities aren’t in the time or date domain (the power before the period in the entity id). They’re all in sensor. \n\nWhere did you add the entries to? Did you restart home assistant after changing them?', 'zSprawl: It should work. Did you restart entirely?', 'pearlfloyd72: I added them to my config.yaml file. I did the quick reload. Restarting it fixed it for me. \n\nThank you!', 'pearlfloyd72: I did the quick reload. Restarting it did it for me. Thank you!', 'LurkerTalen: This is one of the many things that still needs a full restart yes.', 'pearlfloyd72: Normally anytime I touch the config file I do, but the new, ""Quick Reload"" \'Load new YAML config without a restart\'  had me fooled.']"
1681946327.0	19-Apr-2023 16:18:47	Anybody running their HA 'data' through any interesting Machine Learning/Prediction/Analysis software?	automatemyspeaker	8	12se14c	homeassistant	https://www.reddit.com/r/homeassistant/comments/12se14c/anybody_running_their_ha_data_through_any/	"I've got a load of data from energy monitoring, lights and sensor states, motion, bed occupancy, alarm states etc that I'm sure could produce some interesting use cases/analysis.

Are there any interesting (preferably open source, local hosted) projects I should be checking out?"	3	"['radhammerpants: I used fbprophet (time series prediction) to do some modeling on energy consumption of a water heater, then triggered a recirculating pump to lessen time to hot water (when predicted consumption was above x in the next x minutes). Easiest method I found was building out training and prediction nodes in node-red. Was a fun project but lots of modern water heaters have this built in now. \n\nThat said for single variate predictions fbprophet was pretty good/straightforward and ran on a commodity machine.', 'usafa43tsolo: Been looking at this a little bit but so far haven’t found anything locally hosted. I’m hoping for something that eventually will suggest automations based on patterns in the data. Hopefully someone comes up with something eventually!', ""justin_at_work: Great question and one I haven't thought about before. I'm interested now though to see if anyone chimes in!""]"
1681945162.0	19-Apr-2023 15:59:22	Presence detection through gps not working properly	MadSnow-	0	12sdhgh	homeassistant	https://www.reddit.com/r/homeassistant/comments/12sdhgh/presence_detection_through_gps_not_working/	"I set up my HA this week and it went relatively smoothly, despite having no knowledge of coding or anything similar. However, I did encounter a few minor problems, such as the location detection through the companion app.

It seems to work well for me, but not at all for my family members. The status is not accurately displayed and only updates after it has been manually updated in the profile. Additionally, the HA status is checked every few minutes, but it is still incorrect. For example, my girlfriend is recognized as ""Home"" even though she is not at home, but her status was updated a few minutes ago. The iOS settings are correct (always on, precise, background activity allowed).

Do you have any ideas about what could be causing this? Thank you for your help.

Edit: I don’t know what logs to append so if needed: let me pls know :)"	5	"[""Heddwyn_B: GPS polling always murdered my battery, so I switched to using my router's integration to detect when a phone is connected"", 'claytonium13: Same thing happened to me. I just gave up and removed my wifes phone from any gps automations. Lol', ""Uninterested_Viewer: fwiw I've also never had gps-based presence detection working well with iOS. I gave up a long time ago and luckily use ubiquity network equipment that has an excellent integration with Home Assistant that can use the fact that a device is connected to the home WiFi to determine whether it's home or away."", ""clabern: I use HomeKit's presence detection instead of the HA companion app. HomeKit has been much quicker and more reliable.\n\nBasically - I setup dummy switches in HA for each phone, then in Apple Home setup an automation to turn those switches on/off depending on if they are home or not. You'd obviously need the Homekit integration setup in HA to do this, but it's been pretty solid for me."", 'MadSnow-: Consequent… I’ve just switched to homekit detection']"
1681942798.0	19-Apr-2023 15:19:58	Bridging the gap between Hue and Home Assistant	Double-Tap-To-Delete	0	12scd5r	homeassistant	https://www.reddit.com/r/homeassistant/comments/12scd5r/bridging_the_gap_between_hue_and_home_assistant/	"Hey there!  


I recently started using Home Assistant and I love it.  I have two separate zigbee networks (Aqara devices and Philips Hue), and I'd like to combine them into a single network to improve range and stability. My plan is to use a Sonoff Zigbee stick and z2m. 

Problem is that if I want to combine the networks I'll have to ditch the Philips Hue Bridge. I rely on fairly heavily on the Hue app, and [this desktop app](https://welovelights.app/) and I don't know how I can replace those with the existing Home Assistant UI. 

Does anyone have some good dashboards (or tailored native apps) to manage your lights?"	14	"[""0x30313233: Not sure I'd recommend combining those networks. Admittedly it was 2 years ago when I last tried but I had no end of issues when I ran both of those types of devices on one network. Since splitting them into two separate networks I've had no issues."", 'lgb111: Diyhue has support for homeassistant lights. If you moved everything to homeassistant you could use diyhue to still use the hue app for all your stuff.', 'techdan98: Same experience for me, quite recently.', ""Double-Tap-To-Delete: Another reason for moving away from the Hue bridge that I forgot to mention: I am hitting the max device limit (around 50 hue bulbs and switches). I am hoping this limit won't be a problem with Z2M"", ""JCHHenderson: I've had no issues since joining them together (Sonoff 3.0 USB and Z2M) although I have heard of people having issues with Aqara.  I do only have Aqara contact sensors though so cannot speak for other types.\n\nAfter a bit of researching, I found that, as long as I pair the Aqara devices close to the Sonoff, I can place that device anywhere and it will works fine. I have had Aqara devices working for \\~2 years this way.\n\nMy Philips stuff works fine (bulbs, LED strips, internal motion sensors, external motion sensors, dimmer switches)."", ""Double-Tap-To-Delete: Oh, really? What kind of issues did you run into? The thing is, I have Philips Hue bulbs all over the house and outside. Since they are mains powered I assume they will act as repeaters and increase the signal. I now have some Aqara devices that I want to install in some far away areas where they won't be able to reach the Aqara Bridge. But if they run on the same network as the Hue devices they should be fine (I hope).\n\nAlso: I'm running into problems with my Hue setup because I've reached the max limit for number of devices. \n\nAny other solution to my problem?"", ""0x30313233: Thanks. Useful to know it's still probably an issue. I'll not bother looking at trying to recombining them."", ""0x30313233: I can confirm that won't be a limit. I've got well over 50 devices on each of my networks"", ""JCHHenderson: This is also why I moves across; I had 2 Hue and an Aqara hub so running 3 seperate networks.\n\nNo, that shouldn't be a problem but make sure you are running the latest firmware though."", ""0x30313233: The aqara devices don't play nicely with hue bulbs and I found that they would regularly drop off the network and require repairing.\n\nIn the end I solved this by splitting my kit into two networks. I've got all my hue kit and IKEA devices (except for the sockets) on one network and all my other kit on the other one.\n\nThe only reason why my IKEA sockets are on the non hue network is because they seem to work fine with the aqara devices and they act as repeaters and so extend the range.\n\nSince splitting my networks the only time anything has dropped off is when the battery is low and normal they reconnect without needing a repair as soon as the battery has been changed."", 'Double-Tap-To-Delete: Good to know, thanks!', 'Double-Tap-To-Delete: So you combined the three networks into one and that worked fine?', ""techdan98: My experience was exactly the same - I have aqara, sengled, and Ikea plugs on the non-hue network. It's very solid.\n\nWhen I also had hue on that network, I would have aqara devices dropping off almost every day, and requiring me to press their buttons to reconnect."", 'JCHHenderson: Yes.']"
1681942407.0	19-Apr-2023 15:13:27	Best approach to setup a (Nest) heating schedule?	tribal2	2	12sc6dn	homeassistant	https://www.reddit.com/r/homeassistant/comments/12sc6dn/best_approach_to_setup_a_nest_heating_schedule/	"Long time HA user and long time Nest user here 👋🏻

How would you replicate the Nest schedule in HA directly using automations/calendar/helpers etc?

Ideally I’d like to set up a weekly schedule - e.g. Monday - Friday heating comes on at 9am - 11am at 21 degrees, then 19 degrees until 5pm etc. But like nest, probably a different schedule on the weekend.

I’ll be using other sensors and device trackers too, but I’m mainly worried about how you’d go about the calendar/scheduling for now, as having looked at the calendar triggers I’m a little unsure about the best way to set this up (and to feed the temp in, for example).

Interested to hear how you’d approach this!"	2	"[""LifeBandit666: You could use the weekday function to pick the weekday and weekend (condition?) then just set the times and temp. \n\nPersonally I've turned it all off, it's too warm now. The only automation I have set up with my Nest is using Sleep As Android which sends MQTT messages based on alarms. An hour before my alarm goes off I have it warm up a touch (because that's when SAA sends the message) and have it switch off again when I go to work at half 5"", ""Preference22: I've done exactly this in Node-red. The bigtimer is what you are looking for to create your schedule. In this case you'd need multiple bigtimers (weekdays, weekend), on the bottom you can select for which months, weeks and days that timer is active.\n\nFrom there you can all join them to next check in your logic and done. Make sure that you setup the on and off message in bigtimer, I did 0 and 1. With a switch function (i think it's called switch, doing if from memory) you can redirect the off and on message to different flows.\n\nI've set it up to output every minute and before calling the service checking if the said service is the way I want it to be. If not, I push it.\n\nOn my dashboard I've only setup 2 buttons to manipulate the thermostat. 1 slider that sets the room temperature which will be picked up as a variable in the java function block, so it's dynamic. And 1 text field with 4 options: Auto, on, off and manual. That's my thermostat override functionality. Standard in auto but if I ever want to heat outside the given schedule, this is the way! These are being pushed into the bigtimer block, as they are standard commands this block understands.\n\nIf you have any more questions, please let me know. However, I'm getting married today (typing this in bed as I woke up way too early) and going on our honeymoon for 3 weeks soon after. So not sure when I'll reply 😁.\n\nGood luck!\n\nEdit: extra information on override.""]"
1681941173.0	19-Apr-2023 14:52:53	Smart plug and BLE gateway supporting more than 70 sensors	GuaranteePublic3650	5	12sbkcw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12sbkcw/smart_plug_and_ble_gateway_supporting_more_than/	"After several years of open-source software commitment, I'm pleased to share the first product powered by OpenMQTTGateway.  This Home Assistant compatible smart plug integrates an ESP32 with pre-installed firmware, eliminating the need for soldering, disassembly, or FTDI uploads.

The plug is available for North American customers and can:

* Act as a Bluetooth Gateway to retrieve data from [more than 70 sensors](https://decoder.theengs.io/devices/devices_by_brand.html)
* Be controlled remotely
* Measure the energy consumption of the plugged device

&#x200B;

https://preview.redd.it/k1a3ngeouwua1.png?width=1080&format=png&auto=webp&v=enabled&s=cc762308f12c1238a8779ab8084fb083c9278990

Theengs Plug hardware is **UL certified** with a **one-year** warranty.

The plug and the BLE devices are **auto-discovered by HA**, and YAML configuration is **not** required.

[Controls](https://preview.redd.it/p7u8cd2juwua1.png?width=304&format=png&auto=webp&v=enabled&s=bae2dd8ac82cb6bd225a89a60190b817a4d7091b)

[Theengs Plug data](https://preview.redd.it/pqel9sp2uwua1.png?width=323&format=png&auto=webp&v=enabled&s=8fcd65ae400406bc953f1529eadd3d21c7ba8bdb)

[Example of sensor retrieved by the Theengs Plug](https://preview.redd.it/xgj6g73xtwua1.png?width=326&format=png&auto=webp&v=enabled&s=aa466786495dba2a7557c696fc9f2de1b92e969a)

The plug is available for: [39.90USD](https://shop.theengs.io/products/theengs-plug-smart-plug-ble-gateway-and-energy-consumption) in the Theengs [shop](https://shop.theengs.io/)

[https://shop.theengs.io/products/theengs-plug-smart-plug-ble-gateway-and-energy-consumption](https://shop.theengs.io/products/theengs-plug-smart-plug-ble-gateway-and-energy-consumption)"	0	[]
1681939304.0	19-Apr-2023 14:21:44	Automation help please!	Fookes74	9	12samjc	homeassistant	https://www.reddit.com/r/homeassistant/comments/12samjc/automation_help_please/	"I’m looking to make my standard kettle a little smarter! 

I have it plugged in to a Tuya plug which also measures current, voltage etc. in addition to the standard on/off feature. It’s plumbed in to Home Assistant under the Tuya Local integration. 

I want the following to happen (once the kettle is switched on):

Once kettle boils and switches itself off, and subsequent electrical current drops close to zero (or zero) in plug, I want the plug to then turn off. There needs to be a caveat in that as it’ll be low current in the initial switch on and start up of kettle for a split-second. I therefore wouldn’t want the switch the plug off at that point as nothing would ever happen! I need to make sure the condition of the current being zero (or close to zero) doesn’t become a factor for the first few seconds. 

So, how would I configure the automation? Any help greatly appreciated."	23	"['ten1219eighty5: You just have to select a condition that it has to be below X for X amount of seconds before It turns off', ""Nyghtshayde: If this all proves too much, there's a Tuya kettle available for about $30. From memory it integrates very well in Localtuya as well."", ""KevinBrexit:  \n\nHey there mate, I can totally help you with that!\n\nSounds like you want to make your regular ol' kettle a bit more high-tech. And I gotta say, that's pretty cool!\n\nSo, you've got your kettle plugged into a Tuya plug that measures all kinds of electric data, and you've got it all set up in Home Assistant. Nice work!\n\nNow, what you want is for the plug to turn off once the kettle has boiled and switched itself off, and the current drops to near-zero or zero. That's totally doable.\n\nBut, we need to make sure that we don't accidentally turn off the plug too soon, before the kettle has even had a chance to start boiling. That would be a major bummer!\n\nSo, what we can do is set up a little delay. We'll give the kettle a few seconds to start heating up before we start checking the current. That way, we can be sure that we're not turning off the plug prematurely.\n\nLet's say we give the kettle 10 seconds to start heating up. Then, once that time has passed, we can start monitoring the current. We'll set a threshold of, say, 0.5 amps. That's low enough that it won't interfere with the initial startup of the kettle, but high enough that we'll know when it's actually boiling.\n\nOnce the current goes above that threshold, we know the kettle is boiling. Then, we just need to wait for the current to drop back down to near-zero or zero. Let's say we give it a margin of error of 0.05 amps. That way, we won't accidentally turn off the plug if there's a tiny bit of residual current.\n\nOnce the current drops below that threshold, we know the kettle is done boiling, and we can turn off the plug.\n\nSo, in summary, here's how we'll set up the automation:\n\n1. Wait 10 seconds after the kettle is switched on\n2. Check the current every second\n3. Once the current goes above 0.5 amps, start monitoring it\n4. Once the current drops below 0.05 amps, turn off the plug"", 'Tempdemp1975: Try this :\n\n [Notify or do something when an appliance like a dishwasher or washing machine finishes - Blueprints Exchange - Home Assistant Community (home-assistant.io)](https://community.home-assistant.io/t/notify-or-do-something-when-an-appliance-like-a-dishwasher-or-washing-machine-finishes/254841)', 'Fookes74: Wow! Thanks so much for the in-depth response. Whilst you’ve given me plenty to go through, I’m not to ‘up’ on how this actually translates in to configuring the automation - triggers, conditions and actions. Can you elaborate on what goes where and how each individual component is set up? Many thanks again.', 'ntsp00: This is way overcomplicating it. All OP needs to do is instead of having the automation instantly turn off the switch when current drops, add ``` for: ""00:00:05"" ``` so current has to be low for 5 seconds before the switch is turned off.', 'Nyghtshayde: Upvoting this amazing post!', 'Wel_ok: This is exactly what i did for my wassing machine. With 1 extra addition, tts message on google home ""the was is finished""', 'Fookes74:  Many thanks for this. I’ve noticed (post config of the the Tuya Local) that the electrical data only shows in the attributes section of the switch (and therefore presumably unusable as no entity formed). Should I set these up essentially as different devices in Tuya Local - as in create a switch, create a current device, create a voltage device etc? \n\nNot sure how this works tbh.', 'KevinBrexit: **Of course, I\'d be happy to walk you through the process of setting up the automation!**\n\nFirst, let\'s start with the triggers. In this case, the trigger is the kettle being switched on. Since you\'ve already got the Tuya plug set up in Home Assistant, I\'m assuming you\'ve already created a switch entity for the kettle plug. So, we\'ll use that as the trigger for our automation.\n\nIn Home Assistant, go to the ""Configuration"" menu, then select ""Automations"". Click on the ""+"" button to create a new automation.\n\nFor the trigger, select ""Device"" and then choose your kettle switch entity. Make sure the ""From"" state is ""off"" and the ""To"" state is ""on"".\n\nNow, let\'s move on to the conditions. As I mentioned earlier, we want to give the kettle a few seconds to start heating up before we start checking the current. So, we\'ll use a delay condition for that.\n\nAdd a new condition by clicking on the ""+"" button under the ""Conditions"" section. Select ""Delay"" and set it to 10 seconds.\n\nNext, we\'ll add the condition for checking the current. Click on the ""+"" button again to add a new condition. Select ""Numeric state"" and choose the Tuya plug entity that measures the current. Set the ""Above"" threshold to 0.5 and leave the ""For"" duration blank, since we want this condition to remain true until the current drops back down.\n\nNow, onto the actions. We want the plug to turn off once the kettle has boiled and the current has dropped back down to near-zero or zero. So, we\'ll add an action to turn off the Tuya plug.\n\nClick on the ""+"" button under the ""Actions"" section. Select ""Device"" and choose the Tuya plug switch entity. Set the ""To"" state to ""off"".\n\nWe\'ll add another delay to make sure we\'re not turning off the plug too soon. Click on the ""+"" button again and select ""Delay"". Set it to 5 seconds to give the kettle a little extra time to cool down.\n\n*And that\'s it! Here\'s a summary of the complete automation:*\n\n***Trigger:***\n\n* Device: \\[kettle switch entity\\] From: \'off\' To: \'on\'\n\n***Conditions:***\n\n* Delay: 10 seconds\n* Numeric state: \\[Tuya plug current entity\\] Above: 0.5\n\n***Actions:***\n\n* Device: \\[Tuya plug switch entity\\] To: \'off\'\n* Delay: 5 seconds\n\n*I hope this helps!*', ""luckyj: It's chatgpt"", 'Tempdemp1975: Very simple ...just use the power (watts) entity of the Tuya device /plug attached to the kettle. Works like a charm. All my tuya devices have the entity in watts. Example :\n\nsensor.meter\\_lg\\_washer\\_power', 'Fookes74: Unbelievable help! Thank you so much!', 'No_Trust_5973: Deffo chatgpt', 'tcoysh: Yeah I thought it sounded a bit like AI, but was too scared to question it', 'Nyghtshayde: Good pick up. Still I like the tone!', 'Fookes74: But that’s what I’m saying - the info re: power only shows under attributes of the switch. It hasn’t produced any additional entities which leads me to think I’ve not set up the device properly in Tuya Local.', 'Fookes74: Ok. I’ve sussed how to create the additional sensors and these are now separate entities. Using the blueprint automation you linked to I have it configured like this:\n\n1) power sensor - selected my newly created power sensor\n2) starting power threshold - 5w\n3) starting hysteresis - 0.25m\n4) finishing power threshold - 5w\n5) finishing hysteresis - 0.5m\n6) actions eg push notifications - selected my plug switch to turn off. \n7) actions when starting threshold crossed - What do I put in here? Surely it should relate to what happens when finishing power threshold crossed?', 'purplehunter: This is a chatgpt response lol', ""ReciprocalMoonlight: There's 2 main giveaways here - the weird unnecessary greeting, and the absurd verbosity without actually communicating a whole lot of information"", 'Tempdemp1975: I have multiple Tuya plugs from various vendors and have used this integration :\n\n [Tuya - Home Assistant (home-assistant.io)](https://www.home-assistant.io/integrations/tuya)', 'Fookes74: It could be Mother Teresa for all I care - as long as it works.', 'Fookes74: That’s the cloud-based integration isn’t it? I’m after local connection where possible. I’ll do some more digging around to see how to configure on the local integration when the device has multiple features to potentially use.']"
1681937756.0	19-Apr-2023 13:55:56	Google Home mini shows up as four switches in Apple Home	mithun_daa	0	12s9u48	homeassistant	https://i.redd.it/9dpvcbhh4yua1.jpg	I am new to home assistant. I just set one up and I see my Google Home minis showing up as four switches in Apple home. Is there something I’m doing wrong or is it not supposed to work at all?	4	['4241342413: That’s how mine shows up, but I don’t use my home minis in Homekit.', 'CreeblySpiks: You can go to rename them within HomeKit - remove all characters for its current name, and it should tell you what the device switch is default named - gives a decent idea of what switch does what. YMMV since I don’t use any Google Home’s, I’ve just seen similar behavior in the past', 'mithun_daa: I don’t use it either but I was wondering if I could maybe control the volume. Whenever the mini is playing something, 3 of the switches turn on.', 'mithun_daa: Sweet!!! That helped a ton.']
1681935451.0	19-Apr-2023 13:17:31	Weird thing happen	Capt_shadab	2	12s8pd7	homeassistant	https://i.redd.it/6phdojnmxxua1.jpg	"A very weird thing happened with me

30 mins ago the home assistant running on rasberry pi 4 of sata increased the temp from avg 50 to 80

At same my zigbee switch disconnected and another zigbee presence sensor started behaving abnormal

I restarted and rebooted temp

Finally I updated my home assistant OS and after that my Zigbee2mqtt network became fine

Everything reconnected 

Temp dropped to 40 and now avg around 50

What just happened 🤔"	12	"[""andrazekk: Perhaps I experienced the very same thing couple of days ago! [screenshot](https://ibb.co/Q70NKwh)\nNot just the zigbee stick, but also some other USB devices connected to my fanless PC (Asus PN41, running latest Ubuntu and HA in Virtualbox) stopped working and so a reboot was required to see those devices again. Could be a consequence of overheating, but I've never really found the cause."", 'BigTimeButNotReally: I would bet some program got stuck in an infinite loop - or similar.  CPU went to 100 and stayed there until you rebooted.\n\nBut just a guess', '5yleop1m: check the logs', 'Capt_shadab: Your and my graph are ditto same. What on earth could cause this', 'Capt_shadab: Yes processor use showed 100 as well. How do I check that stupid program', 'Capt_shadab: Did not pointed to a program', 'andrazekk: I did not pay too much attention when it happened, but now I checked the logs and I see that the overheating occurred due to the transmission-gt process which was eventually killed with an ""Out of memory"" message. It was using 11 GB out of 16 GB available right before it was terminated. But yeah, I experienced in the past the problems of the USB and Bluetooth chipset getting disconnected because of overheating (or maybe also because of filling up the memory). Rebooting the machine eventually always solved the issues.', ""BigTimeButNotReally: You can use the console to bring up a list of tasks.  You need to look up the Linux command, because I don't remember"", 'Capt_shadab: I  quite new to home assistant. Any idea how to check logs\n\nMine happened almost 12 hours ago so may be even i can figure out', 'Capt_shadab: Any website you can guide me. Quite new to rasberry pi n hass', 'andrazekk: It depends on how you run it. In my case the issue was the app running on host OS (got nothing to do with HA itself). I had to check the Ubuntu system logs (/var/log/syslog). If you run HAOS then you can find it under Settings -> System -> Logs.', 'Capt_shadab: Simple set up\n\nRasberry pi4 with 128 gb ssd and 8 gb ram running only home assistant']"
1681934190.0	19-Apr-2023 12:56:30	Nest Integration problem.	dfGobBluth	2	12s82u3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12s82u3/nest_integration_problem/	"I am unable to get the nest integration to work. 

I have followed the instructions step by step with multiple email accounts and ran into the same problem. (now $15 into it with google).

I keep getting to this error message.

No access to partner

""Information could not be retrieved. Please contact HA-Nest to verify that your account has been properly set up. You may need to add the developer email address as a home member in the Google Home app settings.""

https://imgur.com/tzA1LyM"	7	"['MossHops: I set this up about a week ago. I first tried multiple times using the written instructions, but couldn’t get it to work. When I followed the video instructions (https://www.home-assistant.io/integrations/nest/) it worked. I’d recommend at least trying a set up following the video. I think the video instructions are a bit clearer.', 'MossHops: Looking at the actual error. On the Oauth set up, have you set up the Developer contact email address and the test user email? It’s kind of counterintuitive to have to enter your email a few different times on the same screen.', 'dfGobBluth: *update\n\nI followed the video once again exactly and ended up with the same problem. \n\nI then deleted my ""home"" from the home app and refreshed my page and the error has now changed. \n\nhttps://i.imgur.com/4ZpccCB.png\n""Can\'t find devices to link to NestHA\n\nIf your home has multiple members, the person who first set up the home must migrate their Nest Account to a Google Account before you can link to NestHA"" \n\n\nI have never had a nest account to migrate.', 'dfGobBluth: *update #2\n\nwhen i inevitably setup a new home i am back to the first error message.', 'dfGobBluth: I have followed that video step by step a few times now. I have also fully deleted my home in the home app and rebuilt it.', 'dfGobBluth: i do yes. i have my email as the developer contact, the user support email and as the test user email.', 'DogTownR: Google is killing my original Dropcam and generally jerking me around as a Nest subscriber so I’m starting to tsst Synology’s video options soon']"
1681933982.0	19-Apr-2023 12:53:02	Groups in Zigbee2Mqtt not working as expected - HELP!	distractedbyshinyobj	2	12s7zlu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12s7zlu/groups_in_zigbee2mqtt_not_working_as_expected_help/	"Hi there,

I have 4 zigbee switches that I am trying to add to a group.

* I go into the group page in Z2M and create a group with the name ""basement\_lights"" and an ID of 1.
* The group gets created and I go to edit the group
* I add all 4 switches to the group
* In my  Mosquitto broker integration I see the ""basement\_lights"" device
* **However** when I try to switch this ""basement\_lights"" device on and off, nothing happens. 

I have recreated the group a million times. Tried with different ID's, etc. Help!"	6	"[""IroesStrongarm: Can't speak to groups in Z2M but have you tried grouping them in HA directly? You can make the group in the helpers tab."", 'sblessley: Are you grouping in Z2M, or HA? Do the devices switch individually?', ""Uninterested_Viewer: That's usually not a good idea with ZigBee. Helper groups will send 4 separate commands vs a Zigbee group sending a single command. This actually matters a lot for responsiveness and overall network stability. Fewer the commands being sent the better."", 'distractedbyshinyobj: Yeah, so I wanted to group in Z2M bc I thought it was more efficient. It sends one command versus multiple. I read it helps with all the devices turning on at the same time, etc.', 'distractedbyshinyobj: Grouping in Z2M and yeah doing individual switches works fine', ""IroesStrongarm: Thanks for that info. I genuinely didn't know that so appreciate the tip.""]"
1681930620.0	19-Apr-2023 11:57:00	Camera snapshot with timestamp to notification	sancho_sk	1	12s6dxn	homeassistant	https://www.reddit.com/r/homeassistant/comments/12s6dxn/camera_snapshot_with_timestamp_to_notification/	"I am sure this was already answered somewhere else, I searched, watched youtube videos, but I cannot get what I want.

I have doorbell camera.

I'd like to make an automation that will send me a snapshot of the camera when someone presses the button.

This works no problem - there is plenty of examples.

But I want a little upgrade - I'd like the camera snapshot to be saved with timestamp of the event and then the attachment to attach it with the filename.

If I do save the snapshot using doorbell\_{{ as\_timestamp(now()) }}.jpg, the ""now()"" is different on the notification action, so it will not find the file.

I am sure there is some way how to replace the now() with some event\_id trigger time or something, but I can't find it.

My current workaround is to take 2 snapshots - one to save as real snapshot with date and time and another one to save as doorbell\_last.jpg and attach the 2nd one to the notification. But it's slower as it takes 2x the picture, saves it, etc.

Any advise would be appreciated."	2	"['jojeda654: I was fine just using context.id for my doorbell snapshots, but this got me to look at it a little bit more. Here\'s what I landed on:\n\n    {{trigger.to_state.last_changed.strftime(""%Y%m%d_%H-%M-%S"")}}', 'sancho_sk: >trigger.to\\_state.last\\_changed.strftime(""%Y%m%d\\_%H-%M-%S""\n\nThat failed for me - the ""to\\_state"" was not recognized.\n\nBut you\'ve put me on the right track, I\'ve created variable and assigned it the now() value with formatting and made it like this:\n\n    alias: Door bell notification\n    description: Send notification when visitor is turned on\n    trigger:\n      - type: turned_on\n        platform: device\n        device_id: 1d71dfe464bc7ab9dd9f8b9989750a98\n        entity_id: binary_sensor.doorbell_camera_visitor\n        domain: binary_sensor\n        id: doorbellVisitor\n    condition: []\n    action:\n      - variables:\n          triggerTimestamp: ""{{ now().strftime(\'%Y%m%d_%H%M%S\') }}""\n      - service: camera.snapshot\n        data:\n          filename: /media/snapshots/doorbell_{{ triggerTimestamp }}.jpg\n        target:\n          device_id: 1d71dfe464bc7ab9dd9f8b9989750a98\n      - service: notify.notify\n        data:\n          message: Someone rang a doorbell\n          title: Doorbell\n          data:\n            image: /media/local/snapshots/doorbell_{{ triggerTimestamp }}.jpg\n            actions:\n              - action: URI\n                title: Open camera\n                uri: /dashboard-doorbell/0\n    mode: single']"
1681930551.0	19-Apr-2023 11:55:51	Torantrieb KNX Umsetzung in HA	Accomplished-File-15	0	12s6cr5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12s6cr5/torantrieb_knx_umsetzung_in_ha/	"Guten Abend zusammen,

ich habe ein kleines Problem bei der Umsetzung bzw. Integration eines Hörmann Torantriebes ins Homeassistant. Zur Ausgangslage:
Ich kann an der KNX Konfiguration nichts ändern.
Für ein Tor sind insgesamt 4 Gruppenadresen hinterlegt. Eine für auf, eine für zu, eine für Rückmeldung = auf und eine für Rückmeldung = zu. Dies ist leider damals nicht über Statusadressen gelöst wordeny also sehr umständlich und unübersichtlich. Es gibt auch keine Stopp Adresse.
Mein Ziel ist es allerdings trotzdem irgendwie in Homeassistant eine Übersicht bekommen um die Tore darzustellen. Achso btw. wir reden von ca. 40 Toren, deshalb wäre eine um Programmierung des KNX sehr teuer 😉

Vielleicht fällt euch dazu ja eine elegante und ""hübsche"" Lösung ein. 
Achso und btw ich würd mich noch als Anfänger für Homeassistant bezeichnen, deshalb zeigt Gnade bei eventuellen Nachfragen zue Umsetzung. 

Herzlichen Dank und viele Grüße 

Daniel"	2	['sykes_1: Hey\n\nDa Reddit ein sehr englisch orientiertes Forum ist denke ich leider nicht das dir hier sonderlich geholfen wird. \n\nStell deine Frage am besten im Forum von Simon42 nochmal, da hast du bestimmt bessere Chancen. 😊\n\nhttps://community.simon42.com/', 'Accomplished-File-15: Ah super, danke für den Tipp 😉']
1681930437.0	19-Apr-2023 11:53:57	Looking to set up HAOS on Proxmox, any reason I can't run Win 10/11 as another VM?	NukeThemTillTheyGlow	2	12s6apo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12s6apo/looking_to_set_up_haos_on_proxmox_any_reason_i/	"Long story short, I recently stumbled upon HA and really like what I see.  Did a test install in a Docker container on my Synology DS1517+ and like what I see.  But I'd like to run a full HAOS install and take advantage of as much integration as possible so that it is running everything in the house.  Been doing a lot of reading and Proxmox seems like a good VM OS to use to get the most flexibility out of my hardware while maintaining the advantages of a bare metal HAOS install.  Originally looking to find a inexpensive Dell Optiplex 30xx/50xx machine just for HAOS and then find a seperate machine or build one for a Windows ""server"" to connect other devices to, run utilities, etc.  But why not buy one decent refurb Optiplex, put a reasonable amount of RAM and SSD storage and just run Win 10 or 11 as  a VM along side of HAOS?  This would replace an old Core2 Quad 8400 CPU running on a 15 year old+ ASUS P5Deluxe mobo with 8 gb ram, its ancient history, only 2 cores and nothing more I can do to upgrade it.

Currently looking at a Dell OptiPlex 7060 SFF i7-8700 (6 cores/12 threads), at least 32 Gb RAM, 1 Tb boot SSD and can extend with a second SSD or HD for more storage if needed.  Looks like I can do that in the low $400 range.   Or spend a bit more and build my own using a new mobo, 12th gen i5 (12600), DDR4 RAM and try to keep the costs in the $500-$600 range?"	12	"['ColdTights:  I have a Proxmox VE on an i5 4690k 24GB RAM. Two instances of Ubuntu Server  for currently 40 Docker containers, a Home Assistant VM, and a Windows 10 VM where I have a done iGPU (HD4600) pass through via HDMI to a 32 inch monitor. I use Barrier from my laptop for control and share mouse/keyboard and clipboard between both systems. \n\nBluetooth dongle is shared with Proxmox for Home Assistant. \n\nEverything works without a problem, devices see each other, system updates, wifi/bt/mqtt control works.\n\nThis is how I install it:\n\n [How to Set Up Home Assistant on Proxmox in 2023 - WunderTech](https://www.wundertech.net/how-to-set-up-home-assistant-on-proxmox/)', 'lakelife86: I have that exact Optiplex and running HAOS on Proxmox. Got a zigbee dongle and it’s seeing devices fine. No issues so far.', ""NukeThemTillTheyGlow: Appreciate all of the feedback, exactly what I was looking for.  I'm going to move forward with my attempt to build one machine, run Proxmox and host HAOS and Win 10 or 11 and learn/see what happens, etc.  Just found 48% off sale at Dell Refurbish and just picked up a  Dell OptiPlex 7070 Small Form Factor, 1x Intel Core i7 8 Core (i7-9700) 3.00 GHz, 8 GB RAM, 512 GB SSD, DVD-RW, Intel Integrated Graphics, Windows 10 Professional"", ""Konig1469: So I have been running HA on a VM here for a bit and am going back to a full supervised install.  The VM started having weird issues with USB (especially after updates) and hasn't been nearly as stable as a docker/supervised install.  \n\n\nAnd I had nothing else running on the device running the VM."", 'Marc-Pot: Just get a secondhand optiplex for <200,- will keep you occupied for really really long.\n\nMake sure the processor supports quicksync for if you want to install plex.', ""oatest: That machine will run great with Proxmox.\n\nI'd consider getting a HBA controller card and flash it to IT mode. This way you can have some redundancy and mirror your drives. You can find cheap controllers on eBay for less than $50. Once you install proxmox you'll start running more stuff on it, it's awesome.\n\nI'm not sure if understand, but it sounds like you wanted to run HAOS on a Windows VM, perhaps in Proxmox? If that is true, please don't. Just run HAOS on Proxmox using the KVM image from here.\n\n[https://www.home-assistant.io/installation/linux](https://www.home-assistant.io/installation/linux)\n\nYou'll be fine with that Dell, don't waste your money on new hardware. If you have the $$, better spend it on an HBA and some SSDs or NAS drives for mirrored ZFS storage."", 'JQuonDo: I checked out your guide and will definitely use it. \n\nIf I just leave the bridge mode at default, does that mean it will use the IP of my device running proxmox? I would like to set a dedicated IP for proxmox and just access services through their respective ports.\n\nCan you elaborate why you use two VM instances for Ubuntu versus 1? And is there a version of Ubuntu server I should be using? I assume if I was to have a second instance, it would be for Plex.', 'doenietzomoeilijk: Had the same with USB, so I just moved the USB-bound bits (zigbee2mqtt and 2 ftdi cables) to a pi that was running dns duty. Briefly considered moving HA to a Pi4 but this was easier.', ""ColdTights: Each VM in Proxmox has its own IP.\n\nYou have a main IP for the Proxmox VE, for example 192.168.1.15. Later, each VM you create has its own IP automatically assigned by the router, for example 192.168.1.28. When you run Linux with Docker there, you can use the ports, for example 192.168.1.28:1234.\n\nThis is good because you can have two of the same application on the same port, sometimes it's hard to change it, etc. or connect between several VMs.\n\nI have two ubuntu server instances, because one runs for Docker all the time, and the other is for testing and applications that don't require ssd. I have a few more VMs but I run them rarely.\n\n4 VM's running all the time:\n\n[2023-04-21-164414.png (1914×918) (ibb.co)](https://i.ibb.co/YWsVSkB/2023-04-21-164414.png)\n\nThe whole thing is consuming 65W right now taking this screenshot. When I watch a movie on the monitor it goes up to 100W (without the monitor, the PC box alone).\n\n17 April till today:\n\n[https://i.ibb.co/stmjvFb/2023-04-21-165828.png](https://i.ibb.co/stmjvFb/2023-04-21-165828.png)"", ""Travel69: Here's a recent Proxmox how-to and full HAOS install: [Home Assistant: Proxmox Quick Start Guide](https://www.derekseaman.com/2023/04/installing-home-assistant-on-proxmox-quick-start-guide.html)"", 'JQuonDo: This is really well written and would have really helped a few days ago (still saving for reference). I learned by making a bunch of mistakes and I think covered most of what\'s in the guide except I don\'t have the latest kernel.\n\nI\'m hesitant to upgrade it and break everything I setup. I have my 2 VMs up and running, HA and Docker (12 containers) and have Plex, Adguard working in LXC. I\'ve spent so much time learning I\'m scared to break anything lol, but it\'s been fun along the way.\n\nI\'m about to setup another docker VM , maybe docker in LXC just to test, to get some monitoring tools. Trying to wrap my head around reverse proxies and other stuff to incorporate.\n\nEdit: reading more I messed up my HA install and didn\'t select ""write through"" for cache or ""host"" for CPU...how do I reinstall and maintain everything I\'ve done in HA already? Or can I do that post install', ""Travel69: You don't need to re-install to change to 'write through'. Just shutdown the VM, edit the hardware in Proxmox UI, edit the disk, and you can change the mode there. Power VM back on and you are good to go.""]"
1681929111.0	19-Apr-2023 11:31:51	Home Assistant and Control4 - not seeing any devices	HardlyThereAtAll	1	12s5n7a	homeassistant	https://www.reddit.com/r/homeassistant/comments/12s5n7a/home_assistant_and_control4_not_seeing_any_devices/	"Hi all,

I have a Control4 system that was installed a few months ago (because the previous smart lighting system was terrible, and all the lights were wired to a wiring closet).

I installed Home Assistant, added the Control4 integration, and configured it with my username and password, so it pointed to the Control4 device on my local network with port 80 open. 

Home Assistant reports that it connected, but it is only showing one device:

&#x200B;

[What HA sees](https://preview.redd.it/418uzr21xvua1.png?width=718&format=png&auto=webp&v=enabled&s=57a1d518a1f7f160508b9977a415799d35431e76)

And that device is none of my lights or blinds.

Does anyone have any idea why it's not working?

Thanks

Robert"	0	[]
1681925994.0	19-Apr-2023 10:39:54	Did something change with mushroom chip cards in the latest update?	louislamore	0	12s42vg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12s42vg/did_something_change_with_mushroom_chip_cards_in/	"Maybe I'm not remembering this correctly,  but I think after the latest update (which I only recently installed), mushroom chip cards now display information in lower case. Some information also displays with underscores now, such as ""armed\_home"" on the alarm. All my entities are set up to display default info.

This is kind of bugging me, and I think it used to be properly capitalized (i.e. ""Home"" instead of ""home"" for a person entity) and not include the underscores. Am I wrong here? Any workarounds if I'm right?"	7	"['WellDoneJonnyBoy: Did you tried to clear your browser cache? It’s a translation issue :)', 'Warhawk988: They did add a spacing option to the chips. If clearing the cache doesn’t work try restarting.', ""louislamore: I just tried. It doesn't do anything. Interesting to note that it is across different browsers and devices."", ""louislamore: The cache clear didn't change anything. Restarting didn't either. How do I toggle the spacing option?"", 'Warhawk988: Ok, try installing the previous version again and see if that fixes the problem. If it does put in an issue on github. \n\nThere isn’t a toggle for it. Its like setting whether the chips are right, left or center aligned.', 'louislamore: So I’m an idiot. It wasn’t on the latest version. After I updated  mushroom cards it’s now working as before. Not sure why it went wonky though.', 'Warhawk988: No problem. It happens.']"
1681925878.0	19-Apr-2023 10:37:58	Dual Boot Windows / Unraid Completely Controlled from Home Assistant	anthonym9387	1	12s40qo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12s40qo/dual_boot_windows_unraid_completely_controlled/	"*I originally posted this on the Unraid subreddit but I actually think you guys might find it more useful. It's a lot, but hopefully you get something valuable from the solutions I found to my headaches.*

I recently built a new system that I wanted to  setup dual boot with Unraid and Windows so that I could use the full  power of my rig for gaming and creative work in Windows when I want. I wasn't getting the performance I needed from a VM and this definitely seemed the better option for my personal needs  Simple enough to set up the basic dual boot. I installed Windows on an NVME drive, left the NVME unmounted in Unraid, and disabled all of my SATA controllers in Windows so as not to screw up any of my Unraid data when I was using Windows. Then I set up my boot order in BIOS with USB first and the NVME second. If the flash drive was inserted, the system  booted to Unraid. If the flash drive was out, the system booted into  Windows. Easy!

Not so easy: I also  wanted to be able to reboot from and into either OS from inside Home Assistant (running on a different server) without going through the process of having to shut down, pull or insert the  flash drive, and turn the system back on. My server is on the other side  of my apartment from my desk and I’m lazy, so I set out to make this a  reality. I faced a number of hurdles along the way and I wanted to share  how I overcame them in case anyone else is facing some of the same  struggles since these might be applicable to more than just my use case.

The  first item on my list was figuring out how to remotely “disable” and  “enable” the Unraid flash drive. I initially thought I could accomplish  this by using a powered USB hub and a smart plug. The problem was, every  powered USB hub I found could be powered by the USB bus if the  power was disabled. The additional power is only for high-power devices and charging. I had the idea to use a smart relay and after some  research online I couldn’t find any reason why this wouldn’t work. I  ordered a 5v Zigbee relay on Amazon. I VERY carefully stripped the  sheathing from around a USB extension cable then isolated and cut the  delicate power wire and stripped it as well. I’m an amateur at this stuff at best, but using these relays couldn’t be easier. I connected  the power wire to the relay and then paired it to my Zigbee2MQTT. The  entire process took less than 5 minutes. The secondary benefit of this method is I didn’t have to figure out a way to let HA query or know  which OS I was currently running – If the relay is “on” I’m in Unraid,  if it’s “off” I’m in Windows. The first issue was resolved.

*EDIT 1: After a few days I decided against using the state of the relay to definitively let HA know if I was in Unraid or Windows. There was too much as risk if the automation decided to disconnect the Unraid flash drive early or mistakenly and cause an ""unclean"" shutdown before the drive array is stopped, so I added some additional assurances to cover myself which I'll explain later in the post*

Next  I had to figure out how to remotely shutdown / reboot Unraid and  Windows from Home Assistant. This was my biggest headache.  Windows was no sweat – HASS Agent makes controlling Windows machines  from HA a breeze. I can’t recommend that software enough. Unraid was harder. I knew the answer was using SSH, but I was having a hell of a  time getting the SSH keys between my HA and Unraid to work to set up my HA automations. I followed every guide I could find online and couldn’t get  it to work. I spent DAYS trying to figure this out and almost gave up. I don’t know if the  problem was in how I stored the keys or the YAML in my HA config. I  finally stumbled upon the below link which got it working for me. Also, note that I was connected to HA via SSH using PuTTY when I got this  working NOT via the SSH/Terminal Add-On. I’m not sure it would make a  difference but worth noting.

Link to the guide that finally worked: [https://community.home-assistant.io/t/hassio-integration-with-other-entities-using-ssh/208915](https://community.home-assistant.io/t/hassio-integration-with-other-entities-using-ssh/208915)

*EDIT 2: After some more experience using the HA CLI it seems to me that the terminal add-on isn't storing anything in the actual HA file system and SSH is the correct way to go for these things. I think I read that the add-on runs in a container or something to that extent and maybe that's why? I'm sure someone much smarter than me will explain or correct me in the comments.*

Last,  it was time to make the automations in NodeRed and create a card for my  dashboard. I’m assuming you know about the integrations used, so I  won’t get into the details (remember: I’m lazy), but I’ve laid out the gist of how they work below.

Automations

1. Reboot  into Unraid – Triggered by a button created using NR into a node that queries the “OS”  (state of the relay). If I’m already in Unraid it sends an SSH command  to Unraid to reboot. If I’m in Windows it sends a shutdown command to  Windows, waits 60 seconds, turns on the flash drive via the relay,  reboots the system via WOL and no I'm booting into Unraid
2. Reboot  into Windows – Triggered the same way by another button. If I’m already in Windows, it  triggers HASS Agent to Restart Windows. If I’m in Unraid it sends an SSH  command to Unraid to Poweroff, waits 60 seconds for a clean shutdown,  turns off the flash drive via the relay, reboots the system via WOL and now I'm booting into Windows.

*Edit 3: Here is where I implemented a few extra measures to make sure the flash drive wasn't disconnected prematurely. To be honest only using the relay to ensure what OS was running was lazy, even for me. I shortened the delay when shutting down Unraid to 30 seconds then the automation runs a shell command which uses the netcat command to check if the server is responding (specifically on port 80 which is the Unraid port so as not to report back as ""online"" when I'm booted into Windows). It then writes the response as either ""Online"" or ""Offline"" into a text file and I have a binary sensor set up to read the text file and then report it's status as ""on"" or ""off"". After the shell command completes, NodeRED checks the status of the binary sensor. If it reports Unraid is still ""on"" it goes into a 5 second delay node which then circles back to the shell command node again, and round and round we go until the sensor reports as ""off"" and the automation continues. This is also helpful in adding a ""boot into Unraid"" branch should my server just be off because I was working on it.*

*While I thought up the concept of how to implement the solution used in this particular edit, I am nowhere NEAR experienced enough in writing YAML to have gotten the config parts implemented so flawlessly. I have ChatGPT to thank for that. Also as an FYI if you want to use ChatGPT to check or write your YAML it works great (usually), but the GPT4 model is head and shoulders above 3.5 when it comes to this. GPT 4 was nearly flawless, and when it wasn't I would just copy and paste the errors in my log and it would figure out a solution. 3.5 was hit or miss at best. All that said, you still have to know the questions to ask and how to ask them, so for complete noobs I'm not sure how helpful AI will be.*

The  card on my dashboard was made using Custom Button Card. The entity  picture of the card displays the logo of whichever OS is currently running on the  server based on a sensor I created in my config that reflects the state of the relay as ""Unraid"" or  ""Windows"". Tapping the button triggers a  popup via BrowserMod. Inside the popup card, I have a horizontal stack  with two more custom button cards. One card triggers “Reboot Into Unraid” and the other triggers “Reboot into Windows”

My Build if anyone cares is an MSI Z690 EDGE Wifi, i7-13700K, 128GB DDR5, 3080 ti.

I  hope this post can help someone as it took me a very long time to  figure this out and collect everything I needed to get this to work.  Feel free to ask if you have any questions and I'm definitely up for suggestions on how to streamline or improve anything here.

&#x200B;

*4/20/23 Update: Two important things I've realized that I left out. The first is that Unraid boots from a flash drive that needs to stay plugged in at all times. Your license is attached to a unique key on the flash drive and changing it is not easy. I shouldn't assume everyone knows that. The second part I left out was another solution I tried that failed. As someone pointed out in the comments, you can buy data-only USB power blockers. I actually tried putting one of these in between my hub and server thinking that this would accomplish my goal of being able to control the power to the USB drive via turning power on and off to the hub. When I did this the system completely failed to recognize the USB drive even with power to the hub. I'm not sure if there's a straight forward answer to why that is, but my working theory is that my flash drive didn't know it was plugged into anything without some kind of power signal from the server and so it did not do anything. I wasn't going to start buying different USB hubs, etc to troubleshoot but would have probably made my way back to figuring it out had the relay not worked. If there IS a straightforward answer to why this didn't work I'd love to know so feel free to school me.*"	3	"[""IroesStrongarm: Good on you for solving your setup. I enjoyed the read.\n\nAs a heads up for the future, they make USB data only adapters that might have worked for your original plan. Here's one that I own.\n\nhttps://a.co/d/6eNZ2qf"", ""anthonym9387: Thanks for reading and the suggestion! I actually tried this exact product and completely forgot to include that part in my post. I thought this would block the bus power and then when the hub powered on the computer would detect the flash drive, but no luck. When the hub powered up nothing would happen. I don't know what the issue was exactly but the bottom line is the PC wasn't seeing the flash drive at all unless their was power coming from the bus. I don't even know if the issue was caused by my PC, the hub, or my flash drive but I wasn't about to start buying different hubs to try and Unraid license is linked to a unique identifier on the USB key so switching that is a pain in the ass. In the end I would have gone back to this route and tried harder to troubleshoot if the relay didn''t end up working, but so far , so good."", ""IroesStrongarm: Ah, too bad that didn't work. I certainly don't know enough about USB and hubs to guess as to why it wouldn't work, but glad it's all up and running as you'd like anyway.\n\nI do enjoy an overly engineered solution to problems so kudos to you.""]"
1681922582.0	19-Apr-2023 09:43:02	Is Home Assistant + InfluxDB good setup for gathering data?	eitau	1	12s2a0s	homeassistant	/r/influxdb/comments/12s0yta/is_home_assistant_a_good_hub_for_gathering_data/		2	"[""tkohhhhhhhhh: I send data from Home Assistant into InfluxDB, and then visualize that data using Grafana.  I like it.\n\nMy responses to your points:\n\n1. I don't find that to be a problem at all\n2. That sounds like something you would track down within Home Assistant, not in Influx, so I'm not sure if it's relevant to your question\n3. Again, I'm not sure why this is a problem.\n4. This allows you to easily aggregate data from different sources (for instance, getting the average temperature from all of your room temperature sensors)\n5. Again, I'm not sure why this is a problem.  Most often you're going to be filtering on an entity\\_id, and once you filter there, Influx will show you what other attributes are populated when you try to filter further.\n\nI think you're better off just learning to work with the data structure as Home Assistant handles it rather than trying to wrestle it into a data structure you prefer.  I think you will find that it's reasonably functional as-is."", ""JCHHenderson: >when a sensor sends a value that hasn't changed, it's not stored\n\nI believe that is correct behaviour as Influx is a time-series Db (so only records changes).\n\n>if a sensor measures multiple things and sends them simultaneously to HA, they're splitted and stored as separate measurements with different timestamps\n\nThis is correct.  It senses something and sends it to HA.  It cannot record multiple things at *exactly* the same time, just *very* close together.""]"
1681922219.0	19-Apr-2023 09:36:59	Lets not waste 2032 batteries firmware updating	danininodk	50	12s237f	homeassistant	https://i.redd.it/jdpurv4auwua1.jpg		22	"['weizXR: I love those Wago connectors :)', ""KiqueGar: Want are these? I've been thinking on doing the same to bundle sensors that are physically close"", ""mbcbt90: What do you do to keep them active? Have problem with one remote that just don't want to update and I am looking forward to similar solution."", 'SinceIWasBorn: How have I not thought of this myself...\n\nWould be even more convenient if you could buy a dummy battery with some wires attached, dat you can just pop into any device without the need to take it apart!', 'danininodk: Yes, they are extremely nice to use for small projects like this :)', 'dhoonlee-09: Wago FTW', 'mosaic_hops: Wagos are the way to go.', 'danininodk: These are the IKEA on/off buttons. 5V USB power supply and a buck converter to step down to 3V', 'danininodk: All four failed yesterday. Started the update and though it would continue since it is my Pi that has Z2M installed. Now I have the Z2M window open and everything seems to be working close to 80%-90%  on all four. So perhaps just keep the window open on your computer when this is going?\n\nFirst time I am trying to update so I might just be lucky.', 'danininodk: Yeah I though of this, but I needed to take them apart anyway so this was a simple solution :)', ""dryingsocks: that's a thing. you can even get them with an integrated power supply https://batteryeliminatorstore.com/products/copy-of-cr2032-battery-eliminator-ac-powered"", ""default_weapons: No, they're just extremely nice to use."", 'Altruistic_Sense8354: Wagos are great for any project with <16A per wire :)', 'kobe_nuts: Can you put a other software on those like esp home?', 'DIY_CHRIS: What do you have planned for these?', 'danininodk: Update: All was updated it took an hour and a half', 'danininodk: Think I’m safe here 😂', '_Rand_: These are zigbee I believe so not at the moment.  At least not easily anyways, I’m not aware of any esphome level zigbee dev kits.\n\nThere is an esp variant with zigbee coming out soon (maybe came out recently?) though which might see future esphome support.', 'danininodk: In Denmark we have special wall switches that look different than every other country so I cannot use regular smartswitches. I 3D print an enclosure where the actual button can snap onto and then they look identical to our local switches.\n\nSo they are only hooked up to this to get the newest firmware. Afterwards they will be battery powered.', 'Altruistic_Sense8354: Sure, just use Wago everywhere ;)', 'danininodk: This is purely for power and then I use Z2M to update to the newest firmware', ""Altruistic_Sense8354: When I changed my apartament, I order to wire wires in a 'permanent on' way, removed switches, put flush cover, covered it with gypsum, polished and polished it. You can barely see legacy switches, all were replaced by Hue and Tradfri switches :)""]"
1681921074.0	19-Apr-2023 09:17:54	Le Potato VS NAS Custom Build vs Used PC	Revan_Perspectives	1	12s12ub	homeassistant	https://www.reddit.com/r/homeassistant/comments/12s12ub/le_potato_vs_nas_custom_build_vs_used_pc/	"Hello! This is my first build and attempt at home automation. I want a machine that can function as a NAS and run a VM with Home Assistant OS. I’m also on a tight budget.

- Option 1: used Lenovo: Originally the plan was to use a Raspberry Pi, but I can’t justify the inflated cost ($149 on Amazon). At that price, I may as well buy a used Small Form Factor PC like a Lenovo for $130. 

But a SFF pc doesn’t provide much expandability in the future.

- Option 2: Build a NAS: So then my next option is to build my own NAS. I’ve put together a nice build for $250 (asus motherboard, AMD cpu).

- Option 3: Le Potato: except I’m not familiar with Ubuntu or the other OS options, and getting Home Assistant to run on Le Potato doesn’t appear to be as streamlined as my other options. 

So for a first timer, what would y’all recommend? Money is tight. I don’t want to spend $250 unless I have no other viable options. Thanks for the advice!"	2	"['MeudA67: Well, first of all, lookin at Le Potato\'s specs (what a stupid name lol, never heard of it before), Ethernet is 100mbps...big nope for a NAS use case!\n\nAs a starting point, I think option 1 is probably best for your budget and use case. That will allow you to cut on cost and get some hands on time before putting a proper build together.\n\nWhere are you located? I currently have 2 SFF Optiplex 7040 workstations for sale on r/homelabsales ([here](https://www.reddit.com/r/homelabsales/comments/12oc3dv/fsusgaoptiplex_7040_sff_x2_i5_6500_no_ramno/)). These have 6th gen i5 quad core CPUs.\n\nTo ""help a friend"", I can drop the price a bit and add a 250GB (may be 240) SSD SATA OS drive to get you started. All you\'d need is RAM (4GB would be enough, $15 on Amazon [HERE](https://www.amazon.com/Crucial-4GBx2-PC4-19200-288-Pin-Memory/dp/B019FRDFU0/ref=sr_1_3?crid=AOS33J3D7YD8&keywords=4GB%2BRAM%2BPC%2B2400%2Bdesktop&qid=1681922528&sprefix=4gb%2Bram%2Bpc%2B2400%2Bdesktop%2Caps%2C81&sr=8-3&th=1), 8GB for $21), and a USB3 HDD for more storage (endless options here!).\n\nLet me know!', 'Revan_Perspectives: Thanks for helping me narrow down my options! \n\nYeah I’m wanting to start off small and have something that could work for the next 6 months or so. Maybe I’ll build a NAS when the Black Friday deals hit later this year. \n\nI’ll likely get the used Lenovo but I appreciate your offer, friend!']"
1681921026.0	19-Apr-2023 09:17:06	How to optimize solar production	keuleu	1	12s10qv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12s10qv/how_to_optimize_solar_production/	"Hey everyone !
At first thank you all for sharing your projects and troubles, you’re a great source of knowledge ! :)

So, the goal of this message is to find a solution about solar overproduction. I currently have two small plug & play panels (800W total) for auto-consumption, and was thinking about using an AC battery such as ecoflow to store exceeding production. The trouble is that the ecoflow position (to power a 19” bay) is too far away for a direct connexion using MC4 connectors.

My first idea is to use this HACS integration( https://github.com/tolwi/hassio-ecoflow-cloud ) in the following way:
Depending on custom rules
- open the battery charge only at 140w for a passthrough powering (consumption of the bay)
- open the battery charge at 140w + exceeding production (using a dedicated entity for that)
- close the battery charge to power the bay through the stored energy, and open at power at 140w if battery level is round 20%

Does someone as a similar system ? Does it sounds good ?

Thank you for your feedback :)"	0	[]
1681920418.0	19-Apr-2023 09:06:58	Preventing REST sensor from being updated on restart	arychj	0	12s0d3z	homeassistant	https://www.reddit.com/r/homeassistant/comments/12s0d3z/preventing_rest_sensor_from_being_updated_on/	"I have a REST endpoint that I'd like to consume that's limited to 100 calls / month and needs to be configured so that it only updates on demand. This can be achieved by setting the `scan_interval` to some extremely high number, and then controlling the updates via `homeassistant.update_entity`, however this won't prevent HASS from scanning the endpoint after a restart. This is an edge case, but I'd like to prevent unnecessary calls to the endpoint.

Is there a way to prevent a REST sensor (or really any other sensor with a `scan_interval`) from being updated on HASS restart? Alternatively, is there a way to configure it to update _only_ after `last_triggered + scan_interval` has elapsed?"	4	"['kunigit: How are you with Python? You could use the [Python integration](https://www.home-assistant.io/integrations/python_script/) and write a Python script that fetches from your limited-use API and stores the results to a helper entity. You use the helper entity wherever you need it in HA, then set up an automation to periodically run the Python script as a HA service. You then should have full control over how many times per month the API is called.', ""generalambivalence: I haven't tried this, but I wonder if you could use u/frenck_nl's [Spook](https://github.com/frenck/spook) to disable the sensor and only enable it when you want to call the API."", ""arychj: That's a good idea, but I don't think `requests` or `aiohttp` are allowed in the sandbox. It might be possible to use [pyscript](https://hacs-pyscript.readthedocs.io/en/latest/index.html) though, I'll give it a go."", ""arychj: This would exactly solve my problem, however I'm hesitant to use it given all the warnings involved. It would probably be fine, but I'd prefer a solution that doesn't mess with HASS internals in an unsupported way.""]"
1681920024.0	19-Apr-2023 09:00:24	WIP: Using Home Assistant to replace Nest Guard / Secure	htchief	21	12rzx22	homeassistant	https://www.reddit.com/gallery/12rzx22	"Like many of you, I was saddened by the news that Google will be turning the Nest Detect/Guard/Secure devices into glorified paperweights. Being in a a privileged country, I was offered to do the migration to ADT along with many others, but I said to myself “why not do it myself?”. What you see in this picture is a custom dashboard that I built on the web socket API of HomeAssistant which features an alarm panel similar in layout to the Nest Guard. On the backend I’m using Alarmo (a fantastic project!), but I’ve added the birdseye feed from Frigate as well to make it more useful. Buttons are fully functional and even give haptic feedback, and I’ve added sound effects to better emulate an actual alarm. I’ve still got quite a lot of tweaking before it’s done, but I’ve got a few months before my Nest equipment becomes useless. 

I hope I can inspire others facing my situation to do the same, and I’m here to answer any questions that I can. 

Happy Hassing"	14	"['isitallfromchina: Bummer on this front, but it should always be expected, especially during these times.  Best approach is H.A.   To them it just doesn\'t ""matter"".', 'blturner: The reason I went with Nest was to avoid this exact situation, yet here we are. Definitely not replacing Secure with another system that can be bricked on the whims Google.', 'htchief: I feel like the writing was on the wall for the last few years. When they stopped allowing people to sign up for the monitoring service, it was a fairly obvious sign that they had no intention of monetising this product. That, and withdrawing from the store. Secretly, in my heart, I knew that this would happen. But to be fair, it was a good run. It is really just a shame that the door sensors are not compatible with anything else.', ""put_on_the_mask: I got rid of my Nest Secure kit when they discontinued it because I figured it wouldn't be long until they killed it completely, but I opted for a professionally installed Pyronix system. A decision I now regret after finding out Pyronix = Hikvision, after being charged £150/yr for a trained monkey to check sensor batteries, and after being woken up by the alarm going off as soon as it loses its connection to the internet.\n\nConsider me inspired; I've just got Alarmo up and running and a couple of door sensors on the way.  Now for a control panel and maybe a siren..."", ""Eabryt: This looks good. I'm working on figuring out what I'm replacing my Detect system with.\n\nWhat did you end up going with for door sensors?"", 'htchief: When I started my smarthome journey I wasn’t able to invest in a lot of hardware, and I didn’t have the time to invest in configurations etc. I chose Google because they were the only voice assistant which worked in the area of the world I was living in, and which was reasonably priced.\n\nAs I’ve grown I’ve moved away as much as possible from cloud hosted to locally hosted, setup a much more robust communication infrastructure supporting multiple frequencies and protocols, and spent a lot of time tinkering with my HASS installation, but I still had hardware which I kept because of those initial decisions I took at the beginning of my journey.\n\nI went to Nest Secure after being disappointed with Simplisafe in a previous iteration. I also got a Starling Home Hub to better integrate between my HASS and my nest devices. I know it’s not 100% local, but it gave a much better experience than what I had, and I was able to self monitor. But I knew once there was no option for paid monitoring that my days with the secure were numbered. I had never imagined they’d completely brick it, but I figured that they’d bring the API’s down and I’d have fun trying to figure out how to hack / reverse engineer it. That being said, I swore that my next alarm system would not only integrate into my HASS, but would be able to utilise information from it. So I guess that time has come!', 'greenphlem: No offense, but Google is the last company you should trust to not abandon their products', 'MowMdown: >\tIt is really just a shame that the door sensors are not compatible with anything else.\n\nConsidering they operate on THREAD, yeah it’s a shame', 'htchief: How invested are you in a “classic” alarm panel? In mine, I’m using a Lenovo M10 tablet that’s been mounted, with a custom PWA pinned for the actual controls, but there’s quite a few solutions for turning a tablet into a pseudo kiosk mode panel for HASS.', ""chicknlil25: Sirens: Check out u/BackHerniation 's reviews on Zigbee ones [here](https://smarthomescene.com/reviews/neo-tuya-zigbee-siren-90db-with-temperature-and-humidity-sensor/) and [here](https://smarthomescene.com/reviews/heiman-zigbee-alarm-siren-hs2wd-e-review/).\n\nNot so sure what you have in mind for a control panel, so can't offer much help there, but if it exists, you can probably find it on AliExpress."", ""BackHerniation: Hey, thank you for the mention. I just want to give anyone reading a heads up: The Heiman Siren is a capable device, however apparently there is a variant that does not allow changing the melody type and duration. It's simply stuck on the default sound.  \n\n\nIt's still loud and clear, but you cannot change it within Z2M. Cheers  \n\n\nThe Neo siren is flexible, but is not as loud as the Heiman."", ""put_on_the_mask: Cheers, i'll have a look at those. For the panel I'm now trying to resurrect an old Fire tablet so I'll see how that goes."", ""chicknlil25: Ahhh, Fire Tablets (especially wall mounted) are fun. There's a guy on Etsy (Makes by Mike I think is his name) that has them for I think pretty much every size, and a variety of options. Fully-Kiosk (an app that you can sideload onto the Fire Tablet with Fire Toolbox on XDA)  plus the new version of the kiosk-mode resource can make that all look really good. Do share what you end up coming up with!""]"
1681919754.0	19-Apr-2023 08:55:54	Sonos media player	BouncyReins	52	12rzlv5	homeassistant	https://i.redd.it/c7n59pdymwua1.jpg	I've created my own Sonos app on Home Assistant because i find the real Sonos app too complicated	24	"[""nslenders: Did u create every station /playlist yourself or does it pull a list from somewhere?\n\n\nAlso; you're missing radio Willy"", 'PADFTGW: I like “Joe Easy” 😂 Can you share the code?', 'Scroopy_noopers90: https://preview.redd.it/3o0acm6x3xua1.jpeg?width=2000&format=pjpg&auto=webp&v=enabled&s=7c81343034eeac3fbf6f9f9b24dc5ebf5a009bad\n\nI´ve created something similar.', 'BouncyReins: I put the code on pastbin since its too big for this post: [https://pastebin.com/P44P8sqV](https://pastebin.com/P44P8sqV)\n\nThe station/playlists are hand picked from some list on the internet. \n\nSonos needs a master and synchronizes the other speakers with it. So you first select the speakers you want and then you edit the volume or select stop or choose your station/playlist/album. Then it will be able to regroup and choose its master.\n\nAnother problem was the volume slider. Since I mostly use volumes between 5 and 15%, i wanted to be able to select those volumes more precisely. I don\'t care about the difference between 70 and 80% but i do care about the difference between 7 and 8. So, i created some function to deal with that. you see that the slider in the picture is further to the right than the 8 show next to it.\n\nI generated the buttons to select the radio stations using python. Here is the python code for that:\n\n`#! /usr/bin/python3`\n\n`import requests`\n\n`import json`\n\n`import os`\n\n&#x200B;\n\n`with open(\'albums.dat\', \'r\') as f:`\n\n`album_list = json.load(f)`\n\n&#x200B;\n\n\n\n`# Iterate over albums and download covers`\n\n`with open(\'dash.txt\', \'w\') as o:`\n\n`i = 0`\n\n`for album in album_list:`\n\n&#x200B;\n\n`# get album data`\n\n`title = album[\'title\']`\n\n`section = album[\'url\']`\n\n&#x200B;\n\n`if title == \'Header\':`\n\n`o.writelines([\'\\n\',`\n\n`\'-----------------------------------------------------------------------\\n\',`\n\n`\'type: vertical-stack\\n\',`\n\n`\'cards:\\n\',`\n\n`\'  - type: custom:mushroom-title-card\\n\',`\n\n`\'    title: \' + section + \'\\n\',`\n\n`\'    alignment: justify\\n\',`\n\n`\'  - type: horizontal-stack\\n\',`\n\n`\'    cards:\\n\'])`\n\n`i = 0`\n\n`else:`\n\n`if i == 5:`\n\n`o.writelines([\'  - type: horizontal-stack\\n\', \'    cards:\\n\'])`      \n\n`i = 0`\n\n&#x200B;\n\n`i = i + 1`\n\n`o.writelines([\'      - type: picture\\n\',`\n\n`\'        image: /local/radio/\' + title + \'.png\\n\',`\n\n`\'        tap_action:\\n\',`\n\n`\'          action: call-service\\n\',`\n\n`\'          service: script.sonos_start_playing\\n\',`\n\n`\'          data:\\n\',`\n\n`\'            station: \' + title + \'\\n\'])`\n\n`print(i)`\n\n&#x200B;\n\nexample `albums.dat`file: \n\n`[`\n\n`{ ""title"": ""Header"", ""url"": ""Radio""},`\n\n`{ ""title"": ""VRT Radio 2"", ""url"": ""aac://http://22733.live.streamtheworld.com:80/RADIO_2_LIMBURG_AAC.aac"" },`\n\n`{ ""title"": ""MNM"", ""url"": ""aac://http://25223.live.streamtheworld.com:80/MNM_AAC.aac"" },`\n\n`{ ""title"": ""MNM Hits"", ""url"": ""aac://http://icecast-servers.vrtcdn.be/mnm_hits.aac""},`\n\n`{ ""title"": ""MNM Urban"", ""url"": ""aac://http://icecast-servers.vrtcdn.be/mnm_urb.aac""},`\n\n`{ ""title"": ""MNM Throwback"", ""url"": ""aac://http://icecast-servers.vrtcdn.be/mnm_90s00s.aac""},`\n\n`,`\n\n`{ ""title"": ""Header"", ""url"": ""70, 80, 90, 00, 10""},`\n\n`{ ""title"": ""Easy 70s"", ""url"": ""`[`https://open.spotify.com/playlist/37i9dQZF1DWSWNiyXQAvbl?si=46df0580c50746e0`](https://open.spotify.com/playlist/37i9dQZF1DWSWNiyXQAvbl?si=46df0580c50746e0)`"" },`\n\n`{ ""title"": ""Easy 80s"", ""url"": ""`[`https://open.spotify.com/playlist/37i9dQZF1DX6l1fwN15uV5?si=5e3242931524478e`](https://open.spotify.com/playlist/37i9dQZF1DX6l1fwN15uV5?si=5e3242931524478e)`"" },`\n\n`{ ""title"": ""Easy 90s"", ""url"": ""`[`https://open.spotify.com/playlist/37i9dQZF1DWV8xrpik0esU?si=9fe7a67f92c04de2`](https://open.spotify.com/playlist/37i9dQZF1DWV8xrpik0esU?si=9fe7a67f92c04de2)`""},`\n\n`{ ""title"": ""Easy 00s"", ""url"": ""`[`https://open.spotify.com/playlist/37i9dQZF1DX8j4KHUVrE2f?si=79a6a2ed54844d53`](https://open.spotify.com/playlist/37i9dQZF1DX8j4KHUVrE2f?si=79a6a2ed54844d53)`"" },`\n\n`{ ""title"": ""Easy 10s"", ""url"": ""`[`https://open.spotify.com/playlist/37i9dQZF1DX7udthHrZCWz?si=5be32d7ef57042b1`](https://open.spotify.com/playlist/37i9dQZF1DX7udthHrZCWz?si=5be32d7ef57042b1)`"" },`\n\n`{ ""title"": ""EOL"", ""url"": ""EOL""}`\n\n`]`', 'multiplyingduck: Neuken in de Keuken!', 'Fine-Experience925: Can you share your code', 'wummeke: Yeah, please share your code! I promised my parents today to create something like this for them. Always good to get inspiration from others!', ""leonvolt28: Ziet er mooi uit man. Ik kan zelf de mini media player kaart echt aanraden [https://github.com/kalkih/mini-media-player](https://github.com/kalkih/mini-media-player) Gebruik zelf een Denon soundbar en heb ook een standaard radiozender input selector gemaakt zodat het geselecteerde radiozender automatisch gaat spelen als er in de ochtend iemand de woonkamer binnenkomt of wanneer de tv wordt uitgeschakeld.\n\nThat looks nice. I can realy recommend the mini media player card [https://github.com/kalkih/mini-media-player](https://github.com/kalkih/mini-media-player) I'm using a Denon soundbar myself and I've also created an input selector for the default radiostation. This radiostation will automatically start playing when someone enters the living room in the morning or when the tv gets turned off.\n\nhttps://preview.redd.it/hwvfx2s4exua1.png?width=1080&format=pjpg&auto=webp&v=enabled&s=8c0b1189fb706b7845b255d3b98aab7ab5f5847e"", 'dalphinwater: Ziet er super uit man! Zou je de code willen delen hiervan?', 'motoridersd: How do you add your code to the dashboard? Or where do you use the code in your pastebin? Directly in configuration.yaml?', 'BouncyReins: all stations/playlists are hand picked according to our taste.', 'multiplyingduck: Would love to see code too, thanks!', '007wesje: do you have the source code for this? The side bar looks really good.', 'BouncyReins: nice!', 'greenphlem: Ooo, any chance you could share this somewhere?', 'Cafe_y_Wifi: Looks great. Would you share your code?', 'BouncyReins: To get all the images from Spotify I also created a python script. The script uses the same `albums.dat` file as a basis and downloads all the images from spotify and resizes them automatically, small enough to be able to load the page fast. The images are then copied to config/www/radio\n\n&#x200B;\n\n`#! /usr/bin/python3`\n\n`import spotipy`\n\n`from spotipy.oauth2 import SpotifyClientCredentials`\n\n`import requests`\n\n`import json`\n\n`from PIL import Image`\n\n`import os`\n\n`from io import BytesIO`\n\n&#x200B;\n\n`client_id = \'my_id\'`\n\n`client_secret = \'my_secret\'`\n\n&#x200B;\n\n`# get access token`\n\n`auth_response =` [`requests.post`](https://requests.post)`(\'`[`https://accounts.spotify.com/api/token`](https://accounts.spotify.com/api/token)`\', {`\n\n`\'grant_type\': \'client_credentials\',`\n\n`\'client_id\': client_id,`\n\n`\'client_secret\': client_secret,`\n\n`})`\n\n`auth_response_data = auth_response.json()`\n\n`access_token = auth_response_data[\'access_token\']`\n\n&#x200B;\n\n`with open(\'albums.dat\', \'r\') as f:`\n\n`album_list = json.load(f)`\n\n&#x200B;\n\n`# Iterate over albums and download covers`\n\n`for album in album_list:`\n\n`try:`\n\n`# get album data`\n\n`album_title = album[\'title\']`\n\n`spotify_link = album[\'url\']`\n\n`album_id = spotify_link.split(\'/\')[-2].split(\'?\')[0]+\'s/\'+spotify_link.split(\'/\')[-1].split(\'?\')[0]`\n\n`headers = {`\n\n`\'Authorization\': \'Bearer {token}\'.format(token=access_token)`\n\n`}`\n\n`# endpoint = \'`[`https://api.spotify.com/v1/{album_id}`](https://api.spotify.com/v1/{album_id})`\'.format(album_id=album_id)`\n\n`endpoint = \'`[`https://api.spotify.com/v1/{album_id}`](https://api.spotify.com/v1/{album_id})`\'.format(album_id=album_id)`\n\n&#x200B;\n\n`except:`\n\n`print(""Oops, this one failed"")`\n\n`continue`\n\n\n\n`print(endpoint)`\n\n`try:`\n\n`response = requests.get(endpoint, headers=headers)`\n\n`data = response.json()`\n\n`# get album art URL and download image`\n\n`image_url = data[\'images\'][0][\'url\']`\n\n`image_data = requests.get(image_url).content`\n\n`image =` [`Image.open`](https://Image.open)`(BytesIO(image_data))`\n\n`resized_image = image.resize((256, 256))`\n\n&#x200B;\n\n`# Convert the image back to bytes`\n\n`resized_image_data = BytesIO()`\n\n`resized_image.save(resized_image_data, format=\'PNG\')`\n\n`resized_image_data = resized_image_data.getvalue()`\n\n&#x200B;\n\n`with open(\'img/\' + album_title + \'.png\', \'wb\') as handler:`\n\n`handler.write(resized_image_data)`\n\n`except:`\n\n`print(""Oops, cannot convert to image"")`\n\n`continue`', 'ryszard99: Came here for this!', 'BouncyReins: The code from pastebin is a seperate package file, which goes in a separate packages folder\n(see https://www.home-assistant.io/docs/configuration/packages/ )\n\nThe code for the dashboard can be edited in yaml mode (show code-editor)', 'yvxalhxj: Agreed, please share.', 'Scroopy_noopers90: This is the link for the sidebar\n\nhttps://github.com/DBuit/sidebar-card', 'motoridersd: Thanks. This link only has the packages code? [https://pastebin.com/P44P8sqV](https://pastebin.com/P44P8sqV)\n\nWas there a different one with the dashboard code?', ""BouncyReins: The link is the package code as i use it. As far as i know packages don't include dashboard.\n\nI also shared the python code i wrote to generate the dashboard shortcuts and to download the images. I only recently started using dashboard a little more advanced. I'm not aware of how a complete dashboard is stored, so i did it card by card"", ""BouncyReins: I just learned how to edit the complete dashboard in yaml.  However obvious it was, I didn't need it so far. But here is a link to it:\n\n[https://pastebin.com/BU67XucK](https://pastebin.com/BU67XucK)""]"
1681919537.0	19-Apr-2023 08:52:17	Home security	haywirehax	5	12rzdqu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rzdqu/home_security/	Anyone has their own custom home security? I'm building a house and I want to provide my own security system (camera's, motion sensors, numpad,...) what tech do you guys use and what for?	18	"['Apple2T4ch: Wires, wires, wires. No seriously.. run as many wires as you can. If you want to go a step above run Smurf tube everywhere. Take a look at [Konnected](https://konnected.io/) for the alarm. I also have a [guide](https://docs.google.com/presentation/d/1LNONZXsLi-R9ejamD9Bd2UfzpqjqEWVt0ZepTGmMC50/edit) dedicated to prewiring a home.', ""TabooRaver: DSC 32 or 64 zone powerpanel with an envisalink to connect to HA. Wire as many sensors as you can. You can add door/window contactors, motion sensors, 4 wire water/leak detectors (under sinks, dish washer, laundry room, in the drip pan of your water heater if you have a tanked model, etc.).\n\nExtending the water/leak prevention bit, if you have a pex manifold you can outfit it with some solenoids to get room level shut off, this can be especially useful if you are renovating and adding a third pipe in for hot water recirculation, so you can only run it when its needed in a specific room. \n\nHaven't installed cameras yet, but make sure they're PoE if you add any."", ""MorimotoK: There are two sides to home security: detection and prevention. \n\nSensors are fine for detecting intrusion, but intruders know that police reaction time is very slow. Around here it's around 10 minutes or more. So the intruders get in and get out. Five minutes is more than enough time for them. Sirens are ok but people tend to ignore them. They are handy if you are at home during the intrusion. I agree that wired is better and more convenient in the long run. If you're not at home, all a security system will do is tell you that you've been robbed. If you're really lucky it might scare the intruder away before they do too much damage.\n\nPrevention focuses on making your home less attractive than your neighbors. A 90lb German Shepherd will do more to deter intruders than any sensors. But that's not always an option. So good camera coverage, including a doorbell camera, might make your house less attractive than your neighbor. Not because it the cameras will ID the intruder, but because they don't want to deal with the possibility of being recorded. Especially if your neighbor's house doesn't have a bunch of cameras around it. But a simple scarf will obscure an intruder's face. Motion sensing flood lights are also great for deterrence.  Unifi Protect cameras have a great integration with Home Assistant and you can use them as motion sensors. I also use home assistant to warn me when windows and doors are left open.\n\ntldr: Get a big dog."", ""ewlung: I'm aiming for that, but in a simple way. Currently, I have 2 door sensors from Aqara , and 2x Reolink cameras. Motion detection and person detection using Frigate. That's all for now though, until I have some new ideas 😆"", 'tws068: Definitely wired. Sensors are cheaper, no batteries etc. But, alarm panels are also cheap, reliable and extremely good at what they do and easy to integrate into HA. I would still buy proper alarm components and then hook up to HA for automation and to exploit the alarm sensors more broadly. \n\nI have a range of PIRs, door/window contacts, vibration sensors plus smoke alarms monitored via a Texecom panel. HA makes these available more broadly.', ""Wild-Bus-8979: So you're building... let me give you one piece of advice: WIRED SENSORS.\n\nDo you really want to be replacing batteries all the time? Do you want tech that will go obsolete in 3, 5, 10 years? Do you like ugly doodads stuck do all your doors and windows instead of invisie sensors? Yes? Then don't follow my advice.\n\nOtherwise get the house wired in. After that there are many options you can go with for reading the sensors."", ""tungvu256: here's an [easy guide](https://youtu.be/1IuYWsR5M4c) to get started for HA as an alarm system. basically everything with zwave from door sensors, to motion, to fire, even water leaks...\n\nzigbee devices will get interference a lot if you live in big cities."", 'JCHHenderson: >run Smurf tube everywhere\n\nI have never heard of Smurf tubes before - fantastic idea.', ""haywirehax: I was thinking of using the tp link tapo c320ws and running wires to it it's a nice camera relatovely cheap, running on wifi"", 'giaa262: My only suggestion to your comment is to get 2 big dogs because you can never have enough goodboys and girls :)', ""haywirehax: Haha thanks for all the info, this is indeed the same thought I have. I was mostly looking into what tech to buy, but thanks for the comment anyway. I do have a very big cat :p (maine coon) Ill look into the unify protect camera's but the tp link c320ws also look nice and cheap"", 'haywirehax: Thanks for the info!', 'KnotBeanie: Yeah I was shocked when one of the home automation yt channels went with wireless sensors in a newly built home', 's_santeria: I went wireless in our new house because it was 20k more expensive to go wired.', 'KnotBeanie: Ooof that’s why you should know how to at least prewire in a home, I think you already know how much you can save.', 'giaa262: Most builders will not let you prewire unless it’s a custom home. And by custom I mean you get to fire the builder and keep what’s currently there.\n\nIf it’s any sort of other arrangement you’re SOL', ""s_santeria: I've done all the electrics myself in another house - I'm pretty handy. But in this house we weren't allowed onsite until the house was finished (it was part of a project build, so we could not choose the architect, builder, electrian ... nothing. And yes, I bitterly regret it).\n\nAnyway, my point was just that, even without the crazy markup I was quoted, wireless is normally a lot cheaper than wired."", ""haywirehax: Yeah it's pretty custom for me, I plan on going wired but I will use camera in the top corners for full coverage together with light switches that have included sensors. This way I have visuals and motion detection""]"
1681919298.0	19-Apr-2023 08:48:18	Help wanted: How to control dust collector via Home Assistant (or ESPhome)	mofonics	2	12rz4i8	homeassistant	/r/homeautomation/comments/12rz1y6/help_wanted_how_to_control_dust_collector_via/		0	[]
1681917391.0	19-Apr-2023 08:16:31	MSE working for live view in Frigate, but not WebRTC - any suggestions?	mmcc73	5	12rww6g	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rww6g/mse_working_for_live_view_in_frigate_but_not/	"I'd like to get WebRTC working for doing live view on my phone, but so far no dice. On my PC, MSE works, but when I switch to WebRTC video never loads.

I have port 8555 for both TCP and UDP open in my docker compose file:

        ports:
          - ""5000:5000""
          - ""1935:1935"" # RTMP feeds
          - ""8554:8554"" # RTSP feeds
          - ""8555:8555/tcp"" # WebRTC over tcp
          - ""8555:8555/udp"" # WebRTC over udp

I have my go2rtc section on config.yml set up like so:

    go2rtc:
      streams:
        birdcam:
          - ffmpeg:rtsp://username:password@192.168.1.114:554/h264Preview_01_sub
        webrtc:
          candidates:
            - 192.168.1.75:8555
            - stun:8555

Where [192.168.1.75](https://192.168.1.75) is the ip address of of the physical server, not the ip address of the container. I've tried that both with and without the ffmpeg and the results are the same.

I have my camera set up like so:

    cameras:
      birdcam:
        ffmpeg:
          input_args: preset-rtmp-generic
          inputs:
            - path: rtmp://192.168.1.114/bcs/channel0_main.bcs?channel=0&stream=0&user=username&password=password
              roles:
                - detect
                - record
          hwaccel_args: preset-vaapi
        live:
          stream_name: birdcam

VLC says the stream I have defined in go2rtc is using ""H265 - MPEG-4 AVC (part 10) (h264)"" for video and ""MPEG AAC Audio (mp4a)"" for audio.

I don't see anything interesting in the go2rtc log.

I'm using Chrome on my Windows 10 PC, and Brave on my iPhone. Neither can see WebRTC.

Any suggestions are appreciated. Thanks!"	7	"[""wsdog: Which browser are you using? I've got webRTC working in Chrome, but not in Firefox. MSE works very solid."", 'masterofmoneyzz: Can you just use the app am access it directly from home assistant?', ""nickm_27: As it is explained in the docs, webrtc does not suport aac audio so you need to enable opus audio with an ffmpeg transcode stream\n\n```\ngo2rtc:\n  streams:\n    birdcam:\n      - ffmpeg:rtsp://username:password@192.168.1.114:554/h264Preview_01_sub\n      - ffmpeg:birdcam#audio=opus\n```\n\nother than that, I'd suggest checking browser debug logs to see what it shows"", 'imanze: Sorry to clarify, what actual video codec are you streaming? H265 - MPEG-4 AVC (part 10) (h264)? H265 will not work for webrtc. Are you trying to transcode h265 to h254 in real time? That probably isn’t a great idea resource wise. Additionally are you testing inside your network on the same subnet or externally?', ""mmcc73: I should have mentioned that in my original post. I'll add it. Chrome in Windows for my PC, Brave on my iPhone."", ""mmcc73: Same behavior after making the change to opus, I'm afraid."", ""nickm_27: then you'll want to check browser logs""]"
1681917251.0	19-Apr-2023 08:14:11	Alarm Panel Card	tucker0104	4	12rwq74	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rwq74/alarm_panel_card/	Any good videos or reading for setting up an alarm panel card in HA?	4	['Alibloke: The Alarmo card is fine', 'ownsjo: Type alarm card and then type name of alarm.', 'tucker0104: What does that mean?', 'Alibloke: Search HACS for the Alarmo card']
1681916887.0	19-Apr-2023 08:08:07	Controlling an RF remote, remotely	automatemyspeaker	0	12rwcd3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rwcd3/controlling_an_rf_remote_remotely/	"I have a Rollerhouse motorised blind, with an RF remote. **My TL;DR ask is:** How can I remotely press the physical remote's buttons, using something like an esp32 etc? (Or even help with 'Google-Fu' would be amazing)

\-

I'm looking to essentially simulate a button press **via** this particular remote. I'm hoping someone has come across a similar project, perhaps wiring an esp to the button contacts internally.

Ideally something reliable and around the cost of an esp + any modules/wiring. *I'm not too interested in anything like a handful of Switchbot's physically trying to click the remote for example.*

**Why take this approach?**  
Long story short, the usual method of using learning/repeating RF codes via an RM4Pro isn't meeting my needs, due to rollerhouse's rolling code 'security'. At this point after throwing days at the RM4Pro approach, I just want to rely on the remote's internals since it's 100% reliable at sending the correct rolling code each time.^((I've researched around for months, researched Bond, researched RTL-SDR, got in touch with multiple RF open source devs etc. I've strangely got a workaround somewhat working via my RM4Pro at the moment, I believe I'm essentially brute forcing the rolling code security by slamming it with learnt codes until it changes state, but in reality this approach sometimes takes up to 3mins before the blinds accept it and raise/lower, which is not ideal when you're waiting by the door naked after a shower. This approach is a longer story that I don't really want to bog my main question down with.))

For context, I'm somewhat comfortable with esp, soldering etc, but I'm definitely a '*give me a youtube tutorial + 2 weeks*' in terms of skill/knowledge.

&#x200B;

The particular remote:

[https:\/\/www.amazon.co.uk\/Rollerhouse-Remote-Control-Windows-Motorized\/dp\/B077P7YWQH?th=1](https://preview.redd.it/y20e0rg1tuua1.jpg?width=679&format=pjpg&auto=webp&v=enabled&s=86148237d4c9ae3d6efee0e8d322193c50a64fd8)"	8	"[""automatemyspeaker: For context on why I haven't just picked up another blind motor:\n\n* Everything (other than HA control) works great\n* I actually prefer that it's battery powered, to retain control in a power outage. I have a small solar panel charging the battery, so we've never had to charge it\n* Our roller blind has no cord, only the motor slotted into the aluminium tube, totally hidden, which keeps our window looking very clean/aesthetical\n* Options are quite limited here in Ireland. The rollerhouse is relatively ok price/delivery times here.\n* It took months of research to gather the few components needed (specific aluminium tube was tough to track down here locally, nobody seems to delivery domestically)\n* I've got a touch of 'sunk-cost fallacy' with this hardware. We only have one room done, the aim is to prove full reliable local control (✅) via a button/remote (✅) and also via HA automations (\\~❓)\n\n*On the otherhand, if anyone does know of a motor that'd work for my requirements, that's available in IE/UK/EU, I'd also appreciate hearing.*"", ""bullwinkle_z_moose: You can use an ESP along with an RF transmitter to send RF signals.\n\n[Tasmota has sensors to do this](https://tasmota.github.io/docs/RF-Transceiver/).\n\nThis guy has [a nice little write-up](https://wereallgeeks.wordpress.com/2021/02/06/tasmotarftranceiver/) of what he did if you'd like to use it for reference."", ""quixotic_robotic: In the end, the buttons are just making contact between 2 points on the board. You would want to hook up a small mechanical relay to the two pads to make contact in the same way. Then an ESP/arduino/pi/whatever to trigger the relays. A solid-state relay (mosfet) could probably work for smaller and cheaper, but there's a chance that either the leakage current or the voltage drop across it could interfere with the remote's method for reading the button, so I'd go mechanical. There are expansion boards out there with a set of relays mounted that could work. You're likely switching 3.3V from a single button cell or 2x AAA batteries in the remote so any relay would work."", 'your_favorite_quote: I have a ceiling fan that uses an RF remote that I use a [MHCOZY 4 Channel 12V ZigBee Relay board](https://www.amazon.com/gp/aw/d/B091GS6J5W) to control.  I just took the case off the remote and put it and the relay board it a project box I had laying around. \nhttps://imgur.com/27Wz1co', ""automatemyspeaker: Cheers I'm aware there's ways of sending RF alright, I'm using two broadlink RM4Pros for a good few RF devices around the house.\n\nThe trouble with my blinds is the rolling code 'security' feature that can't be disabled. It's closed source, so to the best of my knowledge I wouldn't be able to replicate it, hence why I'm looking to use the remote's internals for this project.\n\nHave you come across anyone simulating button pressed with the likes of an esp by any chance? (I'm imagining it'll involve soldering the esp to the remote's button switches, but I wouldn't be experienced enough to go at that without some kind of guidance)"", ""automatemyspeaker: Thank you for the nudge in right direction!\nHave you come across anyone with a guide/demo for a project like this? Is he surprised if there's not something online, but my searching is coming up empty."", 'DerpusaurusRex: This seems like exactly what you are looking for:  \n[https://www.youtube.com/watch?v=Gc4yCd9yvuE](https://www.youtube.com/watch?v=Gc4yCd9yvuE)\n\nIt only has 3 relays built in, and it looks like your remote has 5, so you could get two of these if you need all 5 buttons, or there are almost certainly other similar options available. This one does seem to be a pretty much out of the box solution though.', 'automatemyspeaker: Excellent find! Thanks for sharing. Down the rabbithole I go 🕳️']"
1681914177.0	19-Apr-2023 07:22:57	Tailscale new terms	michaelthompson1991	0	12ruxmm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ruxmm/tailscale_new_terms/	"So tailscale have updated their terms as follows,

Today we announced new plans, pricing, and licensing. Some significant changes are that the Personal plan is now called Free, and it includes nearly everything that Tailscale has to offer for up to 3 users and 100 devices. You read that right, your plan just got better. 

We’ve also introduced usage-based billing so if you add more than 3 users you will only pay for the number of active users on your tailnet each month. 

Does this mean, because I just have it on my iPhone now, that I could have it on 3 devices free now? Say for example 3 of my devices or say my iphone and 2 other family members iPhones?"	9	['sleekelite: No, you could already use it on dozens of devices.\n\nYou can now have two more login accounts (total: 3) to the network for free.', 'mrtramplefoot: Really looking forward to being able to add my wife as a second user', 'michaelthompson1991: Oh cool, thanks! So I assume if you want another device you would just use the same login? Same thing for people?', 'michaelthompson1991: Also how many devices can you have?', 'michaelthompson1991: Yeah that’s similar to what I’ve been wondering', 'sleekelite: ?\n\nYou make one account per person, they log into their devices with their account.  The admin configures acls to control what can access what.', 'fornold-1984: It says right in the letter you posted 100', 'michaelthompson1991: No problem, thanks for that. I’ve really got no idea how to work it, all I know is it’s working on my iPhone I apologise', 'michaelthompson1991: Thanks! I apologise for not reading 🤣']
1681913895.0	19-Apr-2023 07:18:15	SkyConnect repeatedly stops working after 2-3 days	Expert-Ad-8015	1	12rusjz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rusjz/skyconnect_repeatedly_stops_working_after_23_days/	"Happy with my SkyConnect *when it works*, responsive and reliable, until once every so often - generally once every 2-3 days - it just stops working

Zigbee2MQTT stops recognising it and the addon closes, won't detect it and won't connect to it

Only way to fix this is to physically reboot the machine that the SkyConnect is plugged into

Post reboot it works perfectly again for another 2-3 days but kind of a pain in the ass running servers for multiple things off that machine and having to interrupt

Restarting HA, restarting the VM, unplugging and re-plugging the SkyConnect USB do not resolve the issue; only rebooting the actual physical machine.

Running on Oracle VirtualBox. Don't have any other USB filters through the VM.

Any suggestions?

This is the error it gives if that is in any way helpful:

    info  2023-04-19 21:57:36: Logging to console and directory: '/config/zigbee2mqtt/log/2023-04-19.21-57-36' filename: log.txt
    info  2023-04-19 21:57:36: Starting Zigbee2MQTT version 1.30.3 (commit #unknown)
    info  2023-04-19 21:57:36: Starting zigbee-herdsman (0.14.103)
    error 2023-04-19 21:57:56: Error while starting zigbee-herdsman
        error 2023-04-19 21:57:56: Failed to start zigbee
    error 2023-04-19 21:57:56: Check https://www.zigbee2mqtt.io/guide/installation/20_zigbee2mqtt-fails-to-start.html for possible solutions
    error 2023-04-19 21:57:56: Exiting...
    error 2023-04-19 21:57:56: Error: Connection not initialized
        at Ezsp.execCommand (/app/node_modules/zigbee-herdsman/src/adapter/ezsp/driver/ezsp.ts:540:19)
        at Ezsp.version (/app/node_modules/zigbee-herdsman/src/adapter/ezsp/driver/ezsp.ts:338:35)
        at Driver.startup (/app/node_modules/zigbee-herdsman/src/adapter/ezsp/driver/driver.ts:141:25)
        at EZSPAdapter.start (/app/node_modules/zigbee-herdsman/src/adapter/ezsp/adapter/ezspAdapter.ts:165:16)
        at Controller.start (/app/node_modules/zigbee-herdsman/src/controller/controller.ts:132:29)
        at Zigbee.start (/app/lib/zigbee.ts:58:27)
        at Controller.start (/app/lib/controller.ts:101:27)
        at start (/app/index.js:107:5)

I've enabled logging and run through the log immediately before it stops working, there's nothing untoward there, no crashes apparent

edit- to add, didn't have this issue with ConBee (had other issues but not this...)"	2	"['LuckyTruffles: SkyConnect is still experimental with Zigbee2mqtt, ZHA is more stable.\n\nhttps://www.zigbee2mqtt.io/guide/adapters/#not-recommended', ""msalad: I don't have any answers but I just ordered my SkyConnect, and just switched over to Zigbee2MQTT, so I'm hoping this isn't a widespread issue""]"
1681913655.0	19-Apr-2023 07:14:15	Is there a way to automate pushing the full screen button on a camera feed?	claytonium13	6	12ruo6t	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ruo6t/is_there_a_way_to_automate_pushing_the_full/	I have a dashboard setup on a Fire HD 10 via fully kiosk. One of my Lovelace cards is a custom WebRTC-camera card that always has a video feed.  Is there a way to automate pushing the “full screen” button on this feed? I’ve set up browser mod to good effect but it reconnects to the camera stream causing a few seconds of black screen while it connects.  It seems like I should just be able to hit the “full screen” button and instantly get the camera feed  on the screen.	0	[]
1681910344.0	19-Apr-2023 06:19:04	Bitcoin Sensor No Longer Working 2023.4.5	sometin__else	0	12rt12z	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rt12z/bitcoin_sensor_no_longer_working_202345/	"Anyone here use the bitcoin integration? Ever since the update, unchanged configuration, it no longer seems to be loading.   
I just get 'entity not available'"	3	"['sometin__else: Logger: homeassistant.components.sensorSource: components/bitcoin/sensor.py:238Integration: Sensor ([documentation](https://www.home-assistant.io/integrations/sensor), [issues](https://github.com/home-assistant/home-assistant/issues?q=is%3Aissue+is%3Aopen+label%3A%22integration%3A+sensor%22))First occurred: 09:11:57 (2 occurrences)Last logged: 09:11:59\n\nbitcoin: Error on device update!Traceback (most recent call last): \n\n File ""/usr/local/lib/python3.10/site-packages/blockchain/util.py"", line 26, in call\\_api     response = urlopen(base\\_url + resource, payload, timeout=TIMEOUT).read()   File ""/usr/local/lib/python3.10/urllib/request.py"", line 216, in urlopen     return opener.open(url, data, timeout)   File ""/usr/local/lib/python3.10/urllib/request.py"", line 525, in open     response = meth(req, response)  \n\nFile ""/usr/local/lib/python3.10/urllib/request.py"", line 634, in http\\_response     response = self.parent.error(   File ""/usr/local/lib/python3.10/urllib/request.py"", line 563, in error     return self.\\_call\\_chain(\\*args)   \n\nFile ""/usr/local/lib/python3.10/urllib/request.py"", line 496, in \\_call\\_chain     result = func(\\*args)   \n\nFile ""/usr/local/lib/python3.10/urllib/request.py"", line 643, in http\\_error\\_default     raise HTTPError(req.full\\_url, code, msg, hdrs, fp) urllib.error.HTTPError: HTTP Error 503: Service Unavailable  During handling of the above exception, another exception occurred:  Traceback (most recent call last):   File ""/usr/src/homeassistant/homeassistant/helpers/entity\\_platform.py"", line 521, in \\_async\\_add\\_entity     await entity.async\\_device\\_update(warning=False)   File ""/usr/src/homeassistant/homeassistant/helpers/entity.py"", line 748, in async\\_device\\_update     await task   \n\nFile ""/usr/local/lib/python3.10/concurrent/futures/thread.py"", line 58, in run     result = self.fn(\\*self.args, \\*\\*self.kwargs)   File ""/usr/src/homeassistant/homeassistant/components/bitcoin/sensor.py"", line 179, in update     self.data.update()   File ""/usr/src/homeassistant/homeassistant/components/bitcoin/sensor.py"", line 238, in update     self.stats = statistics.get()   \n\nFile ""/usr/local/lib/python3.10/site-packages/blockchain/statistics.py"", line 20, in get     response = util.call\\_api(resource)   File ""/usr/local/lib/python3.10/site-packages/blockchain/util.py"", line 30, in call\\_api     raise APIException(handle\\_response(e.read()), e.code) blockchain.exceptions.APIException: <html> <head><title>503 Service Temporarily Unavailable</title></head> <body> <center><h1>503 Service Temporarily Unavailable</h1></center> <hr><center>nginx/1.22.0</center> </body> </html>', 'Mdna2: As the error states: The site returns a 503 meaning its at the moment broken.\n\nMaybe you can change th url? (not familiar with the plugin)', ""sometin__else: Thanks, sorry I don't know much about anything so wasn't sure.   \n\n\nOn my end its just a simple sensor in the configuration file""]"
1681908744.0	19-Apr-2023 05:52:24	IR receiver solution for remote HA server?	itm1960	1	12rs9se	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rs9se/ir_receiver_solution_for_remote_ha_server/	"I'm looking for a way of relaying IR signals from my universal remote to HA. A standard LIRC dongle is not an option, as my HA server is in the loft (3 storeys away from the lounge, which is where we'll be using the remote). 

Does anyone know of a device which can receive IR commands and relay them to HA over LAN/wifi (via MQTT or otherwise)?"	10	"[""Papaste: https://esphome.io/components/remote_receiver.html\n\nESP with a IR receiver and ESPHome? Cheap, local and I've used it to copy all my remotes. Suppose it can work as a relay as well."", 'alfo16: Hello! You can check out my board https://www.crowdsupply.com/aaelectronics/esp-360-remote', ""rogue_ranga: I know you said LIRC is not an option but what's the problem with putting an rpi with a LIRC in the lounge room and setting it up to send Messages back to HA in the loft?"", 'c0keaddict: I use a Lolin D1 mini with a Lolin IR controller from Aliexpress. Install esphome and it will receive and transmit IR signals.', ""Stenthal: I noticed recently that there's a HACS integration for [IRTrans](http://www.irtrans.de/en/main.php).  The integration claims to support receiving codes.  It's expensive and I haven't personally tried it, but it's the best option I've seen for a network-connected receiver."", ""bullwinkle_z_moose: Totally agree with the DIY ESP route. Cheap, local, and reliable.\n\nFor some added choice, you can also [do this with Tasmota](https://tasmota.github.io/docs/IR-Remote/#ir-receiver) if you'd prefer.\n\nPlus, you can make use of more GPIO pins on the board for other sensors."", ""itm1960: I actually bought an Atom5 Lite a while back, but never explored how to use it. If it can't be connected directly to the HA server then how could it help me to hook up an IR receiver with the HA server?"", ""itm1960: I don't have an rpi but I do have an Atom Lite (although I have no idea how to use it). Can the Atom Lite host an IR receiver and send messages (e.g. MQTT) back to HA in the loft?\n\nIf so, is there an idiot's guide anywhere that explains first steps? For example, I looked at the link above for the ESPHome IR Receiver component, but I have no idea how to use the information on that page to use the Atom Lite to accept IR codes and relay them as MQTT messages\n\n????"", 'Papaste: You connect an IR receiver like the KY-022 or similar to an ESP. The ESP is connected to Home Assistant through ESPHome which makes everything relatively easy to set up.\n\nIR signal --> IR reciever --> ESP --> ESPHome --> Home Assistant', ""itm1960: What I don't know how to do is (a) connect the ESP (Atom Lite) to HA via wifi - can anyone direct me to a real noob's guide to doing this?, and (b) program the ESP to accept incoming IR requests and forward them (e.g. via MQTT) to HA. Any advice for where I can find really basic examples/tutorials?\n\nI've spent ages looking for entry-level guides but everything I've found so far assumes a level of knowledge of ESP devices that I don't have!""]"
1681908113.0	19-Apr-2023 05:41:53	Home assistant iOS app works, but not laptop and web browser	Sharp-Lab-6033	0	12rryxr	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rryxr/home_assistant_ios_app_works_but_not_laptop_and/	After the recent update I can no longer access home assistant via my web browser.  The phone app still works.  I have tried rebooting the Raspberry PI but it still doesn't work.  I am running home assistant OS on the PI.  From a terminal I can't even ping the PI but somehow my phone manages to connect to it just fine.  I have a Linksys Velop mesh network with the PI connected to a node via Ethernet but the phone and laptop are connected via WiFi, not Ethernet.	7	"[""Rock--Lee: Perhaps your IP has changed and your phone connected to it through homeassistant.local by coincidence, which connects to the right IP. While your browser still tries to connect to the old IP and your router can't ping since you're trying to ping the old IP.\n\nGo to HA settings page on the phone and see what IP HA uses and change it to the old one and reboot."", 'Sharp-Lab-6033: I have tried accessing through homeassistant.local and through my local IP [192.XXX.X.XXX](https://192.XXX.X.XXX) and neither one work but the iPhone app is still functional.', 'mgithens1: You’re giving so little info everything you get will just be a guess.\n\nMy guess will be you have HA Cloud and your Pi has a new IP address.', 'Sharp-Lab-6033: I do not have HA Cloud.  You said I was giving so little information.  What information do people want?  Nothing has changed in my setup other than an upgrade to HAOS.  I am using the same web browser on the same laptop and the same iPhone.  Nothing else has changed.', 'mgithens1: Does HA have internet access?\n\nDoes phone access HA by ip or mDNS?\n\nHave you verified the IP in the router?\n\nAre all devices on the same IP range? Do you have anything peculiar in your network like VLANs, etc?\n\nHave you tried access form a wired device?  The browser on your phone?\n\nRemember this isn’t a problem with HA, this is a network issue.', ""Sharp-Lab-6033: **Does HA have internet access?**  HA does have internet access.\n\n**Does phone access HA by ip or mDNS?**  The phone app is using ip.  I have tried both ip and mDNS on my laptop.\n\n**Have you verified the IP in the router?**  Yes\n\n**Are all devices on the same IP range? Do you have anything peculiar in your network like VLANs, etc?**  They are all on the same IP range. and I am not using any VLAN.  It is just a plain vanilla mesh network with nothing fancy.\n\n**Have you tried access form a wired device?  The browser on your phone?**  I have not tried from a wired device nor have I tried from my phone's browser.  I have only tried through WiFi and through the iOS app.\n\n**Remember this isn’t a problem with HA, this is a network issue.**  I am not saying it is a problem with HA.  I am just trying to find out why it doesn't work like it once did."", ""Sharp-Lab-6033: I went home after work last night and everything was working again.  I never rebooted my Raspberry PI.  I didn't change my network setup.  I was using the same laptop with the same software.  Nothing I am aware of changed.  I probably will never know the answer but it is maddening when things like this happen.""]"
1681906627.0	19-Apr-2023 05:17:07	GitHub - legovaer/best-of-hassio: 🏆 A ranked gallery of awesome home assistant projects. Updated weekly.	legovaer	302	12rrac2	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rrac2/github_legovaerbestofhassio_a_ranked_gallery_of/	"I just finished creating the [best-of](https://github.com/best-of-lists/best-of) project for Home Assistant:

[best-of-hassio](https://github.com/legovaer/best-of-hassio)

 This curated list contains 1.4K awesome open-source projects with a total of 110K stars grouped into 5 categories. All projects are ranked by a project-quality score, which is calculated based on various metrics automatically collected from GitHub.

Generating this data took about 30 minutes: `1359/1359 [29:08<00:00, 1.29s/it]`

Enjoy! ^(and don't get your browser killed while opening the page for the first time)

&#x200B;

\[edit1\] : added link to actual project "	25	"['alex3305: [Link to project](https://github.com/legovaer/best-of-hassio).', ""InternationalReport5: Holy shit, I think Magic Areas is what I've been trying to find for ages."", ""Thuringwethon: I would add [Horizon Card](https://github.com/rejuvenate/lovelace-horizon-card ), it displays nicely sun position. \n\n(it's a fork of now discontinued [Sun Card](https://github.com/AitorDB/home-assistant-sun-card))"", 'BaldCyberJunky: Lots of my projects listed there, yeah!', 'berrywhit3: Thanks for mentioning my card! :)\n\nAlready working on new ones.', ""anonymous3850239582: Awesome!\n\nIt needs a tag to specify whether an integration/project needs internet to function or relies on an external API. A lot of us don't install devices that depend on external services."", 'mattx_cze: Very nice. Thank you', 'bobbywaz: 1.4k isn\'t ""best of"", it\'s a long ass list of almost everything that I\'m not going to waste my time on.', ""sleight42: Vaguely apropos, I love HA for providing some extraneous integrations that I cannot get any other way (e.g., access to Amazon Home Air Quality monitoring data). \n\nHowever, I've also found that HA occasionally runs amok, perhaps in an infinite loop, consuming almost all resources on the host. \n\nGrateful to have this list to help me curate my integrations better! Also, for my sanity, planning on setting up my HA on a Pi rather than a container on a Linux VM that still manages to cause the VM to become very unhappy!"", 'vanschmak: Am I the only one too stupid to know where to actually see the list from the github link?', ""SterileG: Didn't know of Spook before. I wish I could un-know of it's existence."", ""Tocaitl: Google Wifi doesn't work anymore, right?  There doesn't look like a way to get the token for the integration anymore."", ""AnxiouslyPessimistic: Great list, cheers!  I see the FordPass integration on there - warning to anyone looking, i've read a lot of reports of people getting locked out by Ford due to the API use :("", 'Alx_xl: Thx for the list! Great sum up  \n\nAs i was interested how these metrics came to be, i dug in a bit.  \nBut if i ain\'t missing something ""project quality score"" is more a project activity/management scoring than quality? I miss a bit the code quality through some linter or some other kind of analysis like are all the dependencies up to date? \n\nThis has value in itself, no doubt. \nBut I had something else on mind when i read ""project quality score"" not how many issues/commits get opened/closed.\n\nEdit:rewording', 'mortenmoulder: It sounds like it solves a problem Node-RED can do in a few minutes too. Good idea, though.', ""ebrious: Thanks for sharing! I remember a fork originally starting but it wasn't clear whether it would continue in earnest"", 'shallnotbe_infringed: oh thank you! I love the sun card and was looking for a replacement.', 'legovaer: All projects in a best-of list are ranked and sorted by a project-quality score (also called\xa0projectrank). The score is calculated based on various metrics automatically collected from GitHub and different package managers. The score is just a sum of points which a project collects for various aspects and metrics. The score only has a meaning when it is compared to the project-quality score of other projects.\n\nSo actually, it is a best-of list. The list can help others to check if a certain plugin, addon, ... Is still actively maintained.\n\nSorry for wasting your time. That was not in my original scope when I started working on this list.', 'OCT0PUSCRIME: It takes like 10 mins to read through the list and I found a couple integrations that I am excited to setup that I had no idea existed.', ""legovaer: It takes quite some time to load the page. I'm checking how to split up the huge list."", 'vanschmak: ah, its different on a mobile device. i clicked on desktop and see the monster list now', ""InternationalReport5: I have an automation that requires me to check the state of all my lights (of which there's like 50) to see if they have changed state in the last X minutes. \n\n\nRight now, as you suggested I use NodeRed to do that. Even in NodeRed, this is actually no simple feat. \n\n\nI could just create a light group that contains all of my lights. But my design philosophy is to completely avoid this type of tech debt (having to add every new light each time it's added to a light group isn't acceptable to me, these types of tasks stack up and become messy).\n\nFrom what I can tell, this would dynamically create an 'all lights' light group. What I'm thinking is I can just have a condition that checks the last_changed attribute on this light group. This should massively simplify things."", '-genericuser-: Best of really doesn’t fit the description imo. It’s a ranked list. For a best of I would assume something much smaller.\n\nAnd for my personal taste, there are too many emojis.', 'vanschmak: What though? Releases?', 'legovaer: It is indeed a ranked list. ""best of"" will be for every single person different.\n\nI\'m not a big fan of the emoticons either, but I sticked with the given template.\n\nMaybe we should organize a yearly Home Assistant award. Not for projects, but for people who contributed to the project: they deserve the medals 😉']"
1681905982.0	19-Apr-2023 05:06:22	3D printed pin jigs are overrated	tiberiusgv	188	12rr0b5	homeassistant	https://i.redd.it/oouo1030ivua1.jpg		49	"['kn33: What am I looking at?', 'ferbulous: My man, who needs jigs when you got hot glue gun, clips and blue tacs\n\nhttps://preview.redd.it/vy0wvtg6dwua1.jpeg?width=3024&format=pjpg&auto=webp&v=enabled&s=cca1a8d0784b1da5e413d0694b5da6270c537f02', ""digiblur: Yeah I would just cut via OTA and use Esphome on it. It won't be that long that the libretuya branch is merged."", 'None: [deleted]', 'Matt_Shatt: Overrated or underrated?', 'DIY_CHRIS: That’s fairly sophisticated with the hot glue. I’ve used blue painters tape doing mine. 😅', 'r3pwn-dev: A slightly more expensive solution is a set of [PCBite probes](https://a.co/d/a3ioOG5).\n\nI just got them about a week ago and have used them to flash 3 or 4 different kinds of modules with very little effort.\n\nI got the cheaper kit (with just the probes) and sourced a metal plate and PCB holders from elsewhere to save some $$$', '1ratava: My 3d printed programming jig used WAY less plastic than your 3d printed light switch cover.  :)', 'Cossid: BDM Frames (like https://www.aliexpress.us/item/2251832642724688.html) have quickly become my favorite flashing tool.', ""tiberiusgv: It's a pin jig for flashing ESP32-C3-C05 chips with ESPhome. I'm replacing the Tuya/SmartLife chips that are in my ceiling downlights.\n\nhttps://preview.redd.it/yz8i48tayvua1.jpeg?width=1848&format=pjpg&auto=webp&v=enabled&s=46e94a6fb90ecc0b1f4cd960f9398581bfbe42c3"", 'jiggier: For a moment I was wondering how they are floating in the air :)', 'tiberiusgv: Thanks for chiming in. Your videos have been immensely helpful!', ""tiberiusgv: Any thoughts on why my lights have a slight flicker to them after a chip swap? I'm using the ledc platform. Pinouts are pwm for r, g, b, cw, and ww. I've tried changing the ledc frequency to 1220Hz but no change."", ""tiberiusgv: Boogers didn't solidify fast enough so I switched to hot glue."", ""tiberiusgv: I'm going with overrated. I  built this in less time it would take to design a 3d file, and it works really well."", ""tiberiusgv: Yeah I looked at those as I was researching options. Probably nice if you only have a few to do, but i have 25 so a jig that doesn't take much fiddling was favorable."", 'evilspoons: Oh dang, those are neat. I want a set, haha.', 'tiberiusgv: Just over here upcycling.', ""tiberiusgv: Oh that's neat!"", 'ukpoolitics: So out the box they are incompatible with ESPhome, you intend on ripping the chips out and replacing them with these that you have already flashed ESPhome on?', 'De-Mentor: What about libretuya?', 'mejelic: So like, are you removing the chip from an existing board and putting this chip in its place?', 'digiblur: That seems low. I have some Peteme I did a swap on a last year or two and it had a PWM driven led driver oddly enough so I just set them at max that the secondary chip would take, which was 20khz according to the data sheet.', 'Cossid: Many different Tuya lights have different frequencies, usually in 1000Hz frequencies ranging from 1000-5000Hz\n\nWhich model light do you have?', ""tiberiusgv: u/digiblur u/Cossid I narrowed down [the issue to how the ESP chip does PWM](https://www.reddit.com/r/Esphome/comments/12skzsl/how_do_i_override_ledc_pwm_temperature_curve/) and I'm hoping I can fix it with some yaml to tell the ESP chip how to manage the temperature curve between cool and warm.  \n\n\nNVM. figured it out. needed to add **constant\\_brightness: true**  to my yaml so it doesn't over draw power."", 'None: [deleted]', ""tiberiusgv: Currently the WB2L chip that came with these lights cannot be flashed with straight ESPhome. There is the LibreTuya-ESPHome project that extends ESPhome to various Tuya based modules but I decided to pass on that for a few reasons. First off I'd rather just stick with straight ESPhome as adding another means of integrating just means one more thing to keep track of. Secondly, the contacts for TX & RX are pads on the back side of the WB2L so regardless they would need to be de-soldered from the main board to re-flash it, furthermore the pads are much more difficult to maintain contact with for flashing than the edge contacts on the ESP32-C3-C05. Additionally the wifi antenna on the ESP32-C3-C05 is larger than that on the WB2L and I've seen a measurable gain in decibels on the devices I've swapped over."", 'tiberiusgv: https://preview.redd.it/68284to4fwua1.jpeg?width=1080&format=pjpg&auto=webp&v=enabled&s=62125b17416a005faf55ec6fc5724d4d44f8effa', 'tiberiusgv: https://www.reddit.com/r/homeassistant/comments/12rr0b5/3d_printed_pin_jigs_are_overrated/jgvqy26', 'tiberiusgv: Thanks. This was the route I was going to research next.', 'tiberiusgv: https://www.reddit.com/r/homeassistant/comments/12rr0b5/3d_printed_pin_jigs_are_overrated/jgy85rq\n\nWas typing this while you commented. That should cover what you requested.', ""digiblur: Maybe I didn't run into this with Tasmota on my C3 light since it handles 5 channel pwm lights automatically."", 'mattvirus: Pogo pins', 'jbarchuk: The other good source is header strip pins.', 'tiberiusgv: Just pogo pins.\n\nhttps://a.co/d/1dnLRi6', 'ukpoolitics: Excellent overview thanks for the reply. How did you determine these devices were pin compatible?', 'Cossid: > Secondly, the contacts for TX & RX are pads on the back side of the WB2L so regardless they would need to be de-soldered from the main board to re-flash it\n\nFor Beken, there is also [Tuya-CloudCutter](https://github.com/tuya-cloudcutter/tuya-cloudcutter), which you can flash OTA for vunlerable devices.\n\nNot to dissuade you from your preferred method or other reasonings, just spreading the word that it exists.', 'Kaldek: WB2 chips can be reflashed with OpenBeken so they at least work with Home Assistant using MQTT.  \n\nThe WR3 chip series use the Realtek RTL8710 and there is currently no open source firmware for them.', ""mejelic: I read that but it didn't really explain what exactly you are doing (at least in a way that I understood)."", 'digiblur: I want to say the ESP32-C3 supports up to 50khz but probably a little extreme. Hardware based PWM drivers', ""tiberiusgv: I haven't played with Tasmota, but I've certainly heard the esphome is a little more config heavy. I suppose you can say esphome does handle it automatically if you have the right config settings. Unfortunately the first couple times I read the documentation that described constant\\_brightness I didn't have the context to realize it was what I was looking for as my initial assumption was a communication issue and focused on frequency (which was probably a good thing to get sorted out). Hopefully me leaving the post I made about my issue with the resolution will help the next guy who googles his symptoms."", 'tiberiusgv: I searched something like ""WB2L Replacement"" and found this [post](https://www.reddit.com/r/tasmota/comments/1276mfq/comment/jeetd3u/). Once I had the chip number I found [this](https://templates.blakadder.com/DT-ESP-C05.html) for confirmation. bought 25 for $42 on Aliexpress and they took about 2 weeks to get here. I also have some smart outlets with WR2 chips that I have ESP-02s chips also coming also from Aliexpress which I probably have to wait another week for.', ""tiberiusgv: Yes I'm swapping out the Tuya chip to replace it with a chip that can run Esphome home. The why behind that is to entirely server their dependency on cloud services."", 'tiberiusgv: Looks like I have a pair of SLM411A ""linear constant current 42V350mA deep PWM dimming light source LED driver chips"" down stream from both the Cool and Warm white outputs of the ESP chip. I ran the spec sheet through a doc translator and like in your case they go up to 20kHz. I gave that a try and I\'m still getting a flicker. Seams the flicker doesn\'t exist when using the RGB colors, and only exist between 3000K and 4900K color temperature of my 2700k to 6500k range. Happy to try anything you can think of.\n\n[Device Link](https://www.amazon.com/Lumary-Recessed-Downlight-Assistant-6inch-4Pack/dp/B08LQ6V53R/ref=sr_1_5?)\n\n    substitutions:\n      device_name: ""family-room-light-12""\n      device_description: Lumary Recessed 6 Inch Light\n      friendly_name: ""Family Room Light 12""\n      ledc_frequency: ""20000Hz""\n    \n    esphome:\n      name: ${device_name}\n      comment: ${device_description}\n      friendly_name: ${friendly_name}\n      \n    esp32:\n      board: esp32-c3-devkitm-1\n      framework:\n        type: arduino\n    ###\n    output:\n      - platform: ledc\n        id: output_cw\n        pin: GPIO3\n        frequency: ${ledc_frequency}\n      - platform: ledc\n        id: output_ww\n        pin: GPIO4\n        frequency: ${ledc_frequency}\n      - platform: ledc\n        id: output_r\n        pin: GPIO6\n        frequency: ${ledc_frequency}\n      - platform: ledc\n        id: output_b\n        pin: GPIO5\n        frequency: ${ledc_frequency}\n      - platform: ledc\n        id: output_g\n        pin: GPIO7\n        frequency: ${ledc_frequency}\n    \n    light:\n      - platform: rgbww\n        color_interlock: true\n        name: ${friendly_name}\n        red: output_r\n        green: output_g\n        blue: output_b\n        warm_white: output_ww\n        cold_white: output_cw\n        cold_white_color_temperature: 6500 K\n        warm_white_color_temperature: 2700 K', ""digiblur: Yup. Good and bad things with configs. Most of my lights are using Tasmota device groups for easy wall control and Esphome doesn't support this unfortunately."", ""Cossid: Yeah, unless you dump one of those WB2L modules you removed, you'll probably just have to trial-and-error test to find the right value.\n\nJust looked at has has been cut already, and one model was only 1000Hz, but the 4in model that was just profiled was 10000Hz.\n\nI'd just try 1000Hz increments until you find what seems right."", ""tiberiusgv: As for what I'm looking for will it get gradually get better as I hit a sweet spot or is it just going to go from not working to working once I hit the sweet spot?\n\nI have a DMM with a Hz measurement on it. Ill. See what I can check on one that I haven't swapped yet."", ""Cossid: Not an area I have a ton of experience with honestly, I was just informing you that Tuya generally seems to set devices in 1000hz steps.\n\nFor the only devices I have, I pulled the value Tuya had in storage in their module and used that and haven't noticed any issues.\n\nEdit: [here](https://github.com/tuya-cloudcutter/tuya-cloudcutter.github.io/search?q=pwmhz) is an example of how various devices are set."", 'tiberiusgv: How did you pull the value from your module?', 'Cossid: If you dump the full firmware from the module, complete with storage, and [bk7231tools](https://github.com/tuya-cloudcutter/bk7231tools) can extract the storage/configuration data.', ""tiberiusgv: Now that I know what I was looking for my little DMM was able to identify the Tuya chip as running at 10kHz. At least for cool white and warm white. Haven't seen Hz for any of the colors. I set the new chip to use 10kHz. Wasn't the smokeing gun I was after but testing a few things.""]"
1681905369.0	19-Apr-2023 04:56:09	HA OS Frontend/web view from same device?	sooon_mitch	0	12rqqjj	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rqqjj/ha_os_frontendweb_view_from_same_device/	"I currently run HA in my homelab Kubernetes cluster and it works great! As my HA began to expand, I started running into more hardware issues though. Like passing device accesses, Bluetooth, USB, etc. With these issues and the criticality of my service, I've been thinking about giving it a dedicated hardware server instead of having shared resources between my other services/projects. This would also fix my only issues I have had as well. 

With all that said, I'm not familiar with running HA on bare metal and was wondering, is it possible to run the output from this dedicated server (hdmi) to a touch screen monitor and have it display the web gui instead of the cli? Is there something built in or a plugin I can get? Or would I have to go the normal route of using a thinclient as a kiosk? I was hoping to remove a thinclient from my devices that I have to maintain/draw power/etc.

TLDR: Can a bare metal HA OS system output the web gui frontend instead of the HA cli?"	8	"[""sembee2: Ha is designed to be run headless. \nWhile there are some methods around that, such as using Docker etc instead, it can make more work. \n\nIf you insist, you run HA in a VM, which has a desktop interface on the host. However, I wouldn't bother myself."", ""alex3305: Why don't you host HA in a VM? If you are familiar with Kubernetes than something like Proxmox or even [Harvester](https://github.com/harvester/harvester) would be surely fit your needs."", 'Blitherakt: You could put it on something like a NUC, run it in a Docker container, and start an X-Windows session with a browser in kiosk mode pointing to the local instance.', ""sooon_mitch: I agree, the overhead just to run the vm probably won't be worth it and kinda defeats the purpose of moving away from Kubernetes."", 'sooon_mitch: I ran a Promox machine a while ago and it was nice but honestly, it seemed like a waste of hardware allocation and power. Compared to containers, vms have such a huge overhead. Plus it will add more management that I will have to do over those vms, and host itself. I was hoping for a simple addon instead of having to go extreme for a kiosk lol :/', ""sooon_mitch: That's kinda how it works now, but I have thinclients access it remotely and the main image runs in my Kubernetes cluster. All the thin clients run a bare bones debian install with an X-Windows chromium kiosk mode display. I was mainly hoping for a simple plugin or something for HA OS but that doesn't seem the case.."", 'alex3305: I just run my Docker containers and HA VM in unRAID and that has been an extremely delightful experience. Very easy to setup and maintain.', 'Blitherakt: It’s a server-side stack that spits out HTML and JavaScript for API interactions. Somebody could reinvent the wheel and make an OS-native application using available toolkits, UI builders, and such but at the end of the day: why bother with all that work when you already have a full UI stack built in JavaScript?']"
1681902751.0	19-Apr-2023 04:12:31	Help needed testing Addon	M1k3y_11	0	12rpmzs	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rpmzs/help_needed_testing_addon/	"Hello,

in the last few days I was experimenting with the snapcast addon from [https://github.com/corneyl/hassio-addons](https://github.com/corneyl/hassio-addons) 

However the addon suddenly stopped working for me so I would like to ask if some of you could try installing the addon and see if it starts for them. For me it hangs at ""INFO: Starting dbus-daemon... "" in the log. This persists over reboots and reinstallations of the addon.

If you could try the addon (default config) I would like to know wether:  
\- the addon starts or hangs at the same point  
\- your installation type  
\- your HA, Supervisor and HAOS Version (where applicable)

I'm trying to narrow down what caused this sudden failure."	0	[]
1681902257.0	19-Apr-2023 04:04:17	ZWave help!!!	Nbr1sniper	5	12rpfv9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rpfv9/zwave_help/	"I just upgraded my pi4 HA to an SSD due to slow performance/signs of a dying SD card. I’m on the latest version of HA and Zwave without moving to 10.0.  Within a day of moving to the SSD I found my ZWave devices were falling off the system saying they were dead. If I manually turn on and off the device (light switch) there is a 90/10 chance it will reconnect to HA. If I try and heal the network or relearn the device it fails (most of the time). Then after a little bit it will fall off again. I thought it could be interference with the ZWave dongle being next to the SSD usb port so I moved it from the 3.0 to the 2.0 but that didn’t fix anything. 

Is my only option to remove each device and relearn them hoping it will clear up the problem? I’m not a fan of removing 10 devices, re-adding them, removing the old switch name so I can rename them the same names, then redo all my automations.

Anything else you can think of is appreciated!!!"	10	"[""alex3305: > I thought it could be interference with the ZWave dongle being next to the SSD usb port so I moved it from the 3.0 to the 2.0 but that didn’t fix anything.\n\nThis is your issue. It's USB3 interference. You'll need to use an USB extension cord with your Z-Wave Dongle to prevent interference."", 'Nbr1sniper: What do you mean? It originally was on usb3 and was fine. Added the ssd to the USB3 below and began to have issues. Shutdown and moved the dongle to usb2.0 and still issues even though the wire isn’t close to the ssd cord. \n\nAre you thinking the dongle needs to be farther away? I had an issue some time ago with a change that caused me to have to relearn all the Zwave devices and thought this may be a similar case but you’re thinking just need to put an extension to move the dongle farther from the ssd? If yes, should it go back to the USB3 port?', ""alex3305: > It originally was on usb3 and was fine.\n\nProbably because it was operating on USB2 mode which causes way less interference than high speed USB3.\n\n> [Y]ou’re thinking just need to put an extension to move the dongle farther from the ssd?\n\nYes. This is recommended for all wireless dongles because of interference.\n\nIn my system I have two USB3 ports stacked on top of each other. Whenever I put a USB pendrive in the top USB port, my Z-Wave dongle in the bottom port stops working because of weird interference issues. Having it the other way around is already a bit better. But using another controller on the main board and an extension resolves all issues.\n\n> [S]hould it go back to the USB3 port?\n\nDoesn't matter. The dongle will work probably operate on USB2 anyway."", 'Nbr1sniper: Thoughts on how long of an extension it needs to be? I have a few at home.', ""alex3305: Doesn't matter. At least 30cm should be fine. But I also have one of 5 meters."", 'quixotic_robotic: came to suggest the same, like 6"" worked for me', 'Nbr1sniper: It worked!!!! Thank you!', 'Nbr1sniper: Thank you! I think the one I have is 10 or 15 feet long. I may have an older 2.0 printer type with an adapter that’s 5 feet long. Will give it a shot tonight.', 'Nbr1sniper: Thank you!', 'Nbr1sniper: It worked!!!']"
1681902001.0	19-Apr-2023 04:00:01	read z2m device state as it becomes online	Er1c87	2	12rpbri	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rpbri/read_z2m_device_state_as_it_becomes_online/	"Hi guys,

I have a wall switch for a ceiling lamp ([https://www.zigbee2mqtt.io/devices/14147206L.html#lidl-14147206l](https://www.zigbee2mqtt.io/devices/14147206L.html#lidl-14147206l)). So when I turn off the switch, the light becomes offline/unavailable.  
How can I update its state in Home Assistant, as soon as the entity becomes online again after turning on the switch? Especially read the value for brightness and temperature?

Is this via mqtt publish service or so? In z2m I can simply click the ""reload"" icon to get the current state :)  
I like to have an automation for this  
"	5	"[""alex3305: You can configure [Device Availability](https://www.zigbee2mqtt.io/guide/configuration/device-availability.html) in Zigbee2MQTT.\n\nHowever the light should go from `unavailable` to `on` whenever you turn on the light. You can use this as a trigger in an automation something like this:\n\n    trigger:\n      - platform: state\n        entity_id: light.lidl_14147206l\n        from: 'unavailable'\n\nor\n\n    trigger:\n      - platform: state\n        entity_id: light.lidl_14147206l\n        from: 'unavailable'\n        to: 'on'\n\nOne final thing to note is that turning off routing devices in a Zigbee mesh is generally a bad idea. Routers should remain online whenever possible to perform... routing."", ""Er1c87: Thanks for the input.\nBut my problem is more the state of brightness etc.\nBecause when the light becomes available, the brightness shows 100% in home assistant, although it isn't. How can I update this in HA?"", 'alex3305: But does it show as 100% brightness in Zigbee2MQTT too? Because if that is what the light advertises, than there is not much to do about it.\n\nA workaround would be (an) additional [input helper](https://www.home-assistant.io/integrations/input_number/) where you store the brightness and color temperature. And an automation that when the light becomes available again that you set it from the input helper.', ""Er1c87: In z2m I can press on the little refresh button next to brightness and then this show's the current brightness that the lamp really has.\nAnd I want to trigger this little button somehow automatically 😅"", ""Er1c87: In z2m I can press on the little refresh button next to brightness and then this show's the current brightness that the lamp really has.\nAnd I want to trigger this little button somehow automatically 😅""]"
1681901816.0	19-Apr-2023 03:56:56	Reolink E1 Pro at 0.99€??	Zaragan	0	12rp97l	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rp97l/reolink_e1_pro_at_099/	"While i was searching cameras for a home project i saw this on their official page, scam maybe?

&#x200B;

[https://reolink.com/product/e1-pro/](https://reolink.com/product/e1-pro/)

&#x200B;

Screenshot of the order: [https://i.imgur.com/DR1S2Ov.png](https://i.imgur.com/DR1S2Ov.png)"	4	['d4nm3d: Showing as discontinued when i visit that page.', 'fajrstartr: I ordered one :)', 'TheycallmeMrR: Showing up at \\~$30 : (', 'Zaragan: You got 1 at 0.99? I ordered 5, lets see if they arrive XD']
1681900079.0	19-Apr-2023 03:27:59	Statistics_not_available	tijsrx	1	12rol61	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rol61/statistics_not_available/	"When I put following code in my configuration yaml, I get the statistics_not_available and entity not available error for the sensor:

- sensor:
      name: Solar Panel Production
      state_class: total_increasing
      unit_of_measurement: kWh
      device_class: energy
      icon: mdi:solar-panel-large
      state: >
        {{ states(""sensor.helper_envoy_current_power_production_riemann"")|float }}

This worked perfectly before, and the helper shows a value in kwh.
Can somebody please help?"	1	"['alex3305: You\'ll need to add a default value to the float filter, like so:\n\n    {{ states(""sensor.helper_envoy_current_power_production_riemann"") | float(0) }}\n\nOtherwise when something is wrong with your `sensor.helper_envoy_current_power_production_riemann` Home Assistant cannot generate a valid number.']"
1681896998.0	19-Apr-2023 02:36:38	Thin Client/Mini PC Advice	Volksters	1	12rnewn	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rnewn/thin_clientmini_pc_advice/	"I dove into the world of smart home and automation and I gotta say I'm having a ton of fun. But what I'm having trouble is getting a good server to have HA on it and at the same time some NAS at the side or even some game server here and there.

My initial idea was to use a leftover PC that I had from a relative, it's not being used and I thought why not? I cleaned it up, setup the PC in Linux and... unfortunately I don't think I can live with it in my room. It's loud, takes up quite a power and bulky as it's just a normal ATX sized PC. 

Which leads to me finding some Raspberry Pi options. And we know that's never going to happen. So my other options, thanks to a bit of searching is to get something similar to a NUC or Thinclient.

Finding one on eBay for under 50 euros is possible. They're mostly quiet and doesn't draw any power, which is perfect to run a 24/7 HA server on it. But I wonder if I can kill two birds with one stone and setup NAS alongside with it, would it have any drawback for doing such a thing?

I'm not a tech whiz, I'm far from it but I'm happy to learn the ropes. So I would love some advice on how to get those working in tandem? And furthermore, some recommendations or advice on what kind of specifications I should look out for when getting a mini PC."	17	"['tungvu256: set the thin client to do only 1 job, HA with HA OS.\n\nif you want NAS, get another machine for that.', ""Mysterious-Bowler15: Our company is using B-max mini pc's bought on Amazon for around 129 euro.\n\nThey are running already for 1 or 2 years without any problems."", 'OpenBazaar_Chris: Synology NAS and then run HomeAssistant in a Docker on the NAS. Best of both worlds.', ""ficskala: >But I wonder if I can kill two birds with one stone and setup NAS alongside with it,\n\nGenerally mini pcs, nucs, etc. Have really poor expansion capabilities, some even just offer a single nvme slot, others a single sata port, sometimes one of each, other times an nvme slot and 2 sata ports, etc. So they aren't really great for nas usage, ifnyoj findnone with a pcie slot (even just a x4 or 1x would do it) you can get more sata ports with a sata expansion card\n\nIf you only intend to use a single drive though, a minipc or a nuc is an ideal solution for something like this"", ""PeterHaban: I've got a NUC10i5 in a fanless Akasa case, runs very well, small footprint and completely fan noise free."", ""Konig1469: So I have switched around from a Pi, to a NUC, to a NAS to a mini PC and am now back to a NUC.    \n\n\nMy switching started to get off of the PI and the dreaded SD card failure but from there it was just more tinkering. I had a NAS running two NVME drives in raid 1 .. and JUST HA and it was overkill.  That and the HA virtualbox install/image is rather....... unstable.  \n\n\nSo I am going back to a NUC as it is quiet, low power consumption and just works. I also have a stack of NME drives for it, so if one fails I can be back up and running in about 10 minutes with a good backup.  \n\n\nBut really, you can't go wrong with a NUC or a mini PC. You don't need much to run HA."", 'xander054: I just set up a Lenovo thinclient m710q. Got it from eBay (£70). Way overkill what I need but at least it will be fast!\n\nI had lots of issues using the live Ubuntu OS method of installing HA OS so I would recommend taking the HDD out, flashing it via usb caddy/enclosure and then putting it back in.', ""mrtramplefoot: Pentium J3710 Lenovo tiny running hassos unless you're running a bunch of cameras, then you might need something with more power"", 'Konig1469: This honestly is the best approach for this situation.', 'mrtramplefoot: This is the way', ""Volksters: I'm not looking to get Synology (yet, or maybe?) so I'm curious how Docker works here with NAS"", ""Volksters: Judging by a simple Google search, I fear that there isn't alot of options of adding more harddisk except just increasing the capacity...\n\nBut would HA and storage work in tandem or is that too much to ask for a single unit Mini PC/NUC?"", 'Volksters: Did you run any storage system alongside with NUC?', 'xander054: Oh and quick tip, check with your works IT department to see what they have lying around. I found out the hard way that they had a few surplus machines that they would have given me for free!', 'OpenBazaar_Chris: Once you have the Synology, Docker is free fully integrated app. From within Docker there are well maintained home-assistant repositories. Through the web interface you then manage home-assistant.', ""ficskala: Completely depends on the pc in question, for example, next to me here i have like 8 different mini pc models\n\nFor example, one of them is an aopen de7000 which would probably be able to do it, but the experience wouldn't be great\n\nAnd as a 2nd example i have a minisforum x500-5700G which would do the job, and still be able to host a dozen virtual machines doing different tasks all at the same time. \n\nIt completely depends on what device you get, the aopen has 2 sata ports, but the minisforum doesn't have any, just an nvme port, etc. There's pros and cons, and you really have to do your research on the specific device, a minipc is basically a laptop without a screen, keyboard, and battery"", 'Konig1469: I have a NAS separately for that yeah, well now anyway.  But HA and the NAS are not the same device as they do very different things.']"
1681896311.0	19-Apr-2023 02:25:11	I can't connect 4 new Zigbee thermometers via SONOFF Zigbee 3.0	micaai	4	12rn63p	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rn63p/i_cant_connect_4_new_zigbee_thermometers_via/	"I recently bought 4 thermometers/humidistats [https://expo.tuya.com/product/761012](https://expo.tuya.com/product/761012) , paired them via SONOFF Zigbee 3.0 USB Dongle Plus V2, they appear in my dashboard. But none of them show temperature or humidity. It only lists 0°C temperature and 0% humidity. All devices show up with a low battery, which is odd when the device LED is on and can be paired. I have also replaced the SD card in the Raspberry Pi 4 and installed HA again, but no change, I have also removed and re-added the devices.

I am attaching a link to the device pairing log, it is possible to see something like:

`[0x1EFA:1:0x0b04]: failed to get attributes '['active_power', 'rms_current', 'rms_voltage']' on 'electrical_measurement' cluster: Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>`

[https://pastebin.com/JSs09Vag](https://pastebin.com/JSs09Vag)

Any advice on what else to try?"	3	"['olli-dev: Are you using ZigBee2MQTT? I recommend doing so, never had any issues so far using the SONOFF USB dongle and ZigBee2MQTT: https://smarterkram.de/2952/', 'bcexelbi: I had something similar with Sonoff temp/humidity sensors. I’m using ZHA. My suspicion is that I need to upgrade the zigbee dongle’s firmware. I wound up solving it by adding done Ikea repeaters. \n\nHonestly, I’ve been too busy and kacy to either convert to MQTT or figure how to update the firmware.', ""micaai: >ZigBee2MQTT\n\nI used to have it installed, but then I removed it because I didn't notice any difference for myself. Only after that I tried installing the 4 new devices. Is it possible that it somehow reconfigured my SONOFF USB Dongle?\n\nAnyway, without zigbee2mqtt everything worked fine for me before.""]"
1681892895.0	19-Apr-2023 01:28:15	Anyone using esphome (or similar) to automate emptying / refilling of Roborock mop dock?	leimoochi	1	12rlzn4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rlzn4/anyone_using_esphome_or_similar_to_automate/	I’ve seen [this on YouTube](https://youtu.be/dIs92KtS-F8) and looking for more examples / inspiration. I’d also love to incorporate adding detergent to the water!	4	"[""Mr_Festus: I'm not but I would like to have this setup at some point. But I would just buy one of the kits on AliExpress for the simple plug and play aspect"", 'leimoochi: Yes the ease of that is attractive. I guess downsides are cost, requirement to still have dirty water in the dirty tank and lack of detergent adding. Anyone got experience of this to know if these are real issues?', ""oxygenoxy: If you use the automatic refill kit, the dirty water tank will be totally sealed, so even if it's dirty you won't know. It can add detergent automatically too. Just get it and save all the trouble unless it's too ex or you just need an excuse to tinker, both of which are totally valid reasons."", 'leimoochi: Ah that’s good to know, that gets rid of those 2 issues! Sounds like a good way to go 👍🏻 thanks']"
1681890661.0	19-Apr-2023 00:51:01	OpenGarage is very finicky. What are my other options?	90abyss	7	12rl7x9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rl7x9/opengarage_is_very_finicky_what_are_my_other/	"I have had OpenGarage for over an year now. Since past couple of months it keeps on giving false notifications that the garage door has opened even though in reality nothing has happened.

I then updated the firmware to the latest. Everything worked smoothly for a week but then again I started getting same false notifications that the garage door is open.

Very frustrated at this point. What are my options here? Have already tried MyQ but did not like the latency.

Edit:
Logs and pictures: https://imgur.com/a/nweHoSt"	45	"['WI_Esox_lucius: I use a nodemcu and relay with esphome.', ""svogon: Have you logged into the OpenGarage web page when this happens and checked what the distance sensor is reading?  You can view the history HA too I think.  I wonder if the sensor is failing and reading a short distance briefly which would make it think the door is up.  I've had two of them for a few years now and no issues; probably one of the most solid products I've purchased.  If I had a sensor go bad, I wouldn't hesitate to buy another or replace the sensor since it's an off the shelf item."", ""Jmyler: Going on year 6 of opengarage and it's been rock solid. As others have said, something must be off with you distance sensor settings assuming thats what you're using. You could also put a wired magnetic contact sensor that might be more reliable. Either option should be better than scraping and starting over."", ""RouterMonkey: I've been using OpenGarage for 3+ years with no issues.  \n\n\nIs there anything that could be triggering the sensor?  Maybe you need to adjust you thresholds a bit to eliminate false triggers."", 'SpikeX: I used to have the same issues with both of my OpenGarage units and it ended up being the crappy power supply they ship with. See this HA forum post: https://community.home-assistant.io/t/issue-with-opengarage-distance-sensor-on-2-new-units/281231\n\nGet a high quality USB power brick from a name brand that has enough amperage, and your issue should go away.', ""clubsilencio2342: The wifi went out on my Opengarage and I replaced it with a [z-wave alternative](https://www.thesmartesthouse.com/products/diy-smart-garage-opener-kit-zooz-multirelay-ecolink-tilt-sensor) which actually works a lot quicker, so that's fun!"", ""slomar: I use a Meross opener. It's cheap and its been reliable."", ""hellweaver_666: I'm not familiar with OpenGarage but can you use a simple door sensor and just turn off the notifications from Open Garage?"", 'olli-dev: I had some troubles usind merros devices so wanted a more stable solution. Ended up using a Shelly relay: https://smarterkram.de/2096/', 'Bradmck: Take a look at this project: [RATGDO](https://paulwieland.github.io/ratgdo/)', 'tvoided: I just use sonoff sv hooked up to the myQ opener button and a template to convert switch yo cover. Work like a charm for couple of years', 'justpaulit: Shelly relay with reed sensors. In HA, using garage cover and scenes to be able to use as shortcuts on my iPhone to get sub-second latency.', ""jpb: I've had mine for three years and it's acted like an appliance should - I installed it and configured it in 10ish minutes and it's worked perfectly ever since.\n\n- Do you have a decent USB brick powering it? If the USB is under powered, that could explain the erratic behavior you're seeing.\n- How is your WIFI signal in the garage? The AP I was already using for the back of the house is only about 30 feet from my unit.\n- Is there a microwave near the garage?"", 'countertokens: I’ve also used a few options and landed on MyQ. It always works and I have never experienced latency.\n\nDisclaimer: I have an AP mounted a few feet from each MyQ opener.', 'FixItDumas: How’s the Wi-Fi signal in your garage?', 'DogTownR: +3 for MyQ. 10 years across three family houses without any issues.', 'DogTownR: I should note that I installed a UniFi AP in the garage that’s within 15 ft of both MyQ garage door units.', 'Konig1469: I have a meross with the local addon and it has worked fine for me.', 'EmtnlDmg: I put a simple magnetic door/window sensor on it. Works flawlessly.', 'SirIanChesterton63: I use a Shelly 1 Relay to control the garage door and a magnetic contact sensor to tell if the door is open or closed. I have contact sensor plugged straight into the Shelly Relay and created a Cover in HA for the actual Garage Door entity that I interact with for all my automations, buttons, notifications, etc.', ""kunigit: Just built one from parts I've had lying around for a while. Working perfectly.\n\n* ESP8266 NodeMCUv2\n* HC-SR04 ultrasonic distance sensor\n* Basic relay module\n* A temperature/humidity module - either HTU-21D or TMP102\n\n**EDIT:** I never really looked closely at OpenGarage, but it appears that I pretty much copied it exactly without realizing it.\n\nI suppose others here are probably right - something is up with OP's distance sensor or its thresholds."", '90abyss: I did not check the sensor distance when the false alarm happens. I will keep an eye on it now.', '90abyss: Can you please check these pictures/logs? https://imgur.com/a/nweHoSt', '90abyss: Yeah I definitely need to revisit my distance threshold now. Thanks', '90abyss: Can you please check these pictures/logs? https://imgur.com/a/nweHoSt', '90abyss: Can you please check these pictures/logs? https://imgur.com/a/nweHoSt', '90abyss: Hmm that could be it. I will play around with thresholds today and see.', '90abyss: Ahhh thanks!!', ""Papa-Razzi: Sometimes reinventing the wheel isn't necessary. Does it work when the Internet is down? No. But likely the power is out too so..."", 'dudeinparis: Plus 1 for MyQ….used it for 18 months and never had any issues. Latency is usually within 1-2 seconds, worst case 5 seconds occasionally.', '90abyss: Not bad at all. The connection strength is always good on opengarage portal', '90abyss: Wow i still have it. Will try to give it another shot', 'WI_Esox_lucius: I have some reed switches for if the door is open or closed and was thinking of adding some distance sensors to tell if the vehicle is in the garage or not \n\nWhat are you using the distance sensors for?', 'svogon: Interesting that the false reads are so specific are they consistently at 36cm?  It seems when your door is really open, it\'s reading 28cm which should be from the sensor to the top of the door.  Just for fun, I\'d measure down and see what could be there at the false read of 36 cm. Is there something hanging down that could be blowing around and tripping the sensor?\n\nYou could also try adjusting the ""door up"" setting (or whatever it is called, I\'m at work) to maybe 30 or 31cm.  That way, even a false read if there is something at that 36cm distance wouldn\'t register.', ""Jmyler: Thats a very consistent false reading. Is the 28 what it reads when your door is actually open? You could bump the number under 36 so it doesn't read open at 36. Thats a shoddy solution but until you can figure out why it's giving false readings maybe it'll solve the problem short term. Are there any other events that you know of happening at those times? lights? sun shining in? something that may be interfering with them?"", ""RouterMonkey: I see the reading when you are getting an open door is 36.  What is your door threshold set at?  \n\n\nI have mine set to 50, but the reading I get when it's triggered as open is 12."", 'harborfright: My Internet is down way more often than my power.', ""kunigit: I think it's the same method OpenGarage is using.. Distance sensor on the ceiling looking down. If the door is open, it blocks the sensor and the measured distance is short. If the door is closed, the distance is longer, and you can tell whether the car is there or not.\n\nI set up two template sensors, essentially ```garage_door_open``` and ```car_in_garage```. It's not perfect, because if the garage door is open, it can't tell if the car is present. I might try using a second distance sensor (and ESP unit) on the back wall pointing toward the car as a DIY parking aid system. That could also report to HA whether the car is there."", '90abyss: Yep the 36 cm is a huge mystery to me as well. For now i have set the threshold to 30 cm.\n\nGotta find it what’s the obstruction at 36. Cant be spider web right? ;)', '90abyss: Yeah have set the threshold to 30 now.\n\nNo events happen during those times. I am guessing my sensor is faulty.', '90abyss: I have now set it to 30. It was 40 before.', 'Papa-Razzi: Sorry to hear. \n\nI guess I was assuming a bit too much. I have very stable internet, usually only out when the power is out.', 'Jmyler: That would be most likely. Did you see the message about the power supply? Maybe try one with more amps just to see.', 'harborfright: Yea, that was my blunt point. There’s a variety of situations. My garage controllers are some 4 channel ESP8266 boards I have programmed with espHome. I prefer everything to be local where possible.', 'Papa-Razzi: Understood.']"
1681887159.0	18-Apr-2023 23:52:39	Remote control of Samsung Washer through SmartThings, is it possible?	VikingOy	7	12rjz9n	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rjz9n/remote_control_of_samsung_washer_through/	"My Samsung washer is integrated into HA via SmartThings. The result is this:

&#x200B;

https://preview.redd.it/gece9c11gsua1.png?width=499&format=png&auto=webp&v=enabled&s=c6220cffe882eee0318adb7866a31f2bbe740d9d

But all I can do is to turn it on/off. All the other settings are read only. So effectively, there's no possibility to make an automation to choose program and startup delay in order to take advantage of periods with low electricity prices.  Or is it possible to do this through some REST API ?"	2	['YttraZZ: Just an unrelated question. Is it integrated through webhooks or through another method ?', 'VikingOy: Good question. I just installed the SmartThings integration']
1681883610.0	18-Apr-2023 22:53:30	Coral A+E in stock	WellDoneJonnyBoy	2	12riplr	homeassistant	https://www.reddit.com/r/homeassistant/comments/12riplr/coral_ae_in_stock/	"Hei.

Just got an update that Coral A+E is in stock on The Pi Hut

https://thepihut.com/products/google-coral-m-2-accelerator-a-e-key

B+M is in stock too but it’s almost sold out, only a few left: https://thepihut.com/products/google-coral-m-2-accelerator-b-m-key"	4	['oddllama25: Thanks, Just grabbed one!', 'DumbDumbGoodbye: Anyone know how well these can be detected by Unraid running my HA as a VM?', 'Chasecee: What do I need to put this in a Pcie slot? Does it work with Proxmox and HA in vm?', 'WellDoneJonnyBoy: You can get the pcie version then. It is available on mouser.\n\nRead more over here in the comments: [https://www.reddit.com/r/homeassistant/comments/12esdql/finally\\_got\\_the\\_coral\\_tpu\\_its\\_so\\_cute/](https://www.reddit.com/r/homeassistant/comments/12esdql/finally_got_the_coral_tpu_its_so_cute/)']
1681882541.0	18-Apr-2023 22:35:41	Looking for suggestions/ideas to set up a new home alarm system from scratch, please give me your input!	TheCriticalTaco	3	12ribp0	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ribp0/looking_for_suggestionsideas_to_set_up_a_new_home/	"Hello HA reddit!

&#x200B;

I recently purchased a new house that had an existing Honeywell Lynx Touch L5000 Panel/System with three wireless door sensors.

First night at the house, I *accidentally* triggered the system and the Panel went **SCREAMING (seriously, it was loud as f\*\*\* at midnight).**

&#x200B;

The previous owners did not give us the code/didn't remember it. So I had to rip the panel off the wall and disconnect the battery LOL.... *guess I will need a new one* (we tired multiple ways to reset it, no-go, it is a lost cause).

&#x200B;

**So, now I am in the market for a new system.** I found out about HomeAssistant and I would like to leverage it as part of, but not the main, alarm system.

&#x200B;

It seems that most people on here recommend Alarmo, I wanted to see if I should go with that or if there are other options to consider? *(we are starting from scratch here so all ideas are welcome)*

&#x200B;

Compatibility with existing door sensor is not required (but would be a nice plus), I don't mind purchasing new ones, **so long as they are wireless since I don't want to run wires**.

&#x200B;

I work in software and don't mind tinkering with Tech & code, just looking for something robust and with modern features (iPhone integration, etc.)

&#x200B;

***What do you recommend?***

**Would I buy the panel/alarm separately?**

**What brand do** ***recommend*****?**

**Anything else I should know?**

* Location: US
* Existing System: Honeywell Lynx Touch L5000 (but not looking to use the panel)
* Use case: Just three door senors for now, might add window/glass break sensors later. Not looking to add CO2 or smoke sensors.

&#x200B;

Thank you for your attention and taking the time to help me out.

&#x200B;

EDIT: Also, what are the downsides to using [a cheap panel/system from AliExpress such as this one](https://www.aliexpress.us/item/3256801514336914.html?spm=a2g0o.cart.0.0.17d238daSiySmN&mp=1&gatewayAdapt=glo2usa&_randl_shipto=US) and trying to link it to HomeAssistant?"	21	"['Cafe_y_Wifi: Hello. You can use the Konnected panel to retrofit your existing wired system (https://www.amazon.com/Konnected-Alarm-Panel-System-Conversion/dp/B07P5GYJMP) and control it from Home Assistant via a native integration (https://www.home-assistant.io/integrations/konnected/).', '_Rand_: Alarmo is fantastic, and will work with literally anything home assistant does.\n\nAs for sensors/panel I highly recommend ring and third reality sensors, both are super solid and easily supported.  Ring sensors don’t need to be used with the base station, they are just refular old zwave and work with a regular usb zwave adapter.\n\nRealistically though any zwave/zigbee/whatever sensor you can connect to HA will do just fine,  but I’m still fond of ring/third reality in particular.\n\nOf note thought, third reality stuff all (mostly?) uses AA/AAA batteries and are on the large side, but have fantastic lifespans because of it.\n\nUnfortunately I’ve not rhe slightest clue if that system you linked works with HA, aside from the sensors being 433mhz which you should be able to pick up just fine with an rtl-sdr usb stick and the rtl_433 docker/add-on.  Its just a bit of a bear compared to zigbee/zwave (and I have slight privacy concerns as well).', 'thereddevil20: While I don’t use Alarmo (my alarm system is set using automations), Home Assistant is a good system to setup an alarm and Alarmo is a very highly rated system.\n\nI use a mix of Zwave and Zigbee door sensors to help with alarming as well as a tilt sensor on the garage.\n\nAlso alarm systems (like Ring, ADT) offer services that will call you when an alarm goes off and notifies Law Enforcement if you’re unreachable. There is a equivalent alarming system called Noonlight which is really cheap and can be configured using HA.\n\nLet me know if you have further questions\n\nEdit: Looked through your link. I think it would work but will need additional hardware for sdr and the antenna if you just want to use the sensors. Or you could integrate to HA using Tuya (I wouldn’t recommend it personally since I’ve had issues with it). You could also go with a cheap wall mounted tablet as an alarm panel. I have a tablet setup but tbh barely use it and interact with HA mostly through my phone.', 'undeleted_username: If you are already using HA, do you really need a ""system""?\n\nI set up my alarm using off-the-shelf door/windows and motion sensors, a siren controlled by a smart switch, ... Once all the sensors are integrated, all the logic and control resides on HA.', ""Tatermen: What weirds me out about those Aliexpress alarm panels is that they can be connected to Google Home/Amazon Alexa - so that you can arm/disarm via voice commands.\n\nWhat's to stop the burglar from doing the same? Seems like a bit of a major oversight for an alarm system."", ""phrogpilot73: I might be labeled as a HA heretic for this, but there is definitely a use case for a monitored system that integrates with HA. Case in point - from personal experience, when the smoke/fire alarm starts going off at 3 AM and your downstairs is filled with smoke, the LAST thing on your mind at that point is calling 911. We got ourselves and the dogs/cats outside, and the firetrucks were already rolling up to our house. Why? Because we were so out of it/focused on us and the dogs, I didn't even notice the three calls from the alarm company. In the end, the quick response only led to replacing a deep sink, repainting some walls, and replacing all the HVAC filters. \n\nHowever - we have frontpoint which uses alarm.com and it integrates with HA, so I get the best of both worlds."", 'Hefty_Science_2980: I went with a DSC system (alarm specific hardware) and connected it and control it with HA via envisalink. Full conventional alarm system and still have access to all sensors and automation. I like this setup but tbh I’ve never used Konnected or alarmo. It can be monitored if you want but can also stand alone.', ""TheCriticalTaco: Thank you! I will look into that. The problem is the existing sensors are wireless, not wired.\n\nLooking at the prices for new Zigbee or Z-wave senors, they only run about \\~$20-30 bucks each, and I will just need three. Plus a usb to communicate with PC and a siren, doesn't seem like a lot. So I might go that route + Alarmo."", ""TheCriticalTaco: Awesome, thank you for your feedback.  Would I be able to use this [Aeotec Z-Stick](https://www.amazon.com/Aeotec-Z-Stick-Z-Wave-create-gateway/dp/B00X0AWA6E) with the Ring sensors?\n\nI am curious why you strongly recommend those two, but I am sure you have experience that taught you they are the best. Would you still prefer them over the basic [Zooz Z-Wave Plus 700 Series](https://www.thesmartesthouse.com/products/zooz-z-wave-plus-700-series-xs-open-close-sensor-zse41)\n\n&#x200B;\n\nI love the sound of long battery lifespans, and totally do not mind senors on the larger side, the less battery changes I have to make, the better!  \n\n\nYeah, I gonna disregard that cheap AliExpress system. I don't really need a panel to arm/disarm the system if I can do it from my phone.\n\n&#x200B;\n\nSo it seems the direction I will be taking is this: Zigbee/Z-wave sensors + dongle to communicate with them (Zigbee/Z-wave) + Siren + Server with HA OS. Is there anything else I am missing? Do you have any preference to Zigbee or Z-wave?\n\n&#x200B;\n\nThank you again so much for your response"", ""TheCriticalTaco: Thank you for your input!\n\nDo you have any preference to Zigbee or Z-wave? I know one is open standard and the other is closed. One may get interfered with Wi-Fi, the other not. But in your day-to-day use, do you have a preference?\n\nYeah... I am not really interested in 24/7 monitoring for now, the discount I would get from my homeowners insurance doesn't really offset the monthly cost for it. But thank you for informing me, I will keep that in mind.\n\n&#x200B;\n\nYeah I don't like Tuya either. But just for clarification, if I were to get those sensors, I would [use an SDR as such?](https://www.amazon.com/RTL-SDR-Blog-RTL2832U-Software-Defined/dp/B0BMKZCKTF)\n\n&#x200B;\n\nBut if I were to go with the Z-wave sensors I would use this [Aeotec Z-Stick?](https://www.amazon.com/Aeotec-Z-Stick-Z-Wave-create-gateway/dp/B00X0AWA6E) Did I get the correctly\n\n&#x200B;\n\nTbh I am probably going to skip the alarm panel/tablet too. I don't really see myself using it that much, we all have our phones on us everywhere now.\n\n&#x200B;\n\nSo if I am getting this correctly, a minimalist setup would-be: Senors + Siren + Dongle for communication + a Server/PC running HA OS?\n\nThe server would communicate with the sensors through the dongle, and I would arm/disarm through phone."", ""TheCriticalTaco: As I found out, no I don't! I will just be going with HA + sensors + dongle + and a siren. Thank you!"", ""TheCriticalTaco: You are right. And the fact that the panel is powered by a simple, visible Micro-USB port. What is stopping them from disconnecting that (assuming it doesn't have an internal battery) ?\n\nBut, having been on the other side of the coin, when my alarm went screaming, all I had to do as well was yank it off the wall and disconnect it's internal battery (and the device isn't even sealed that well, it was just two simple tabs that I had to push down and it exposed the device internals).  \n\n\nOne can argue that after these alarms have been triggered and are sounding the alarm, their job is done, because a simple bullet or elbow grease will stop them. At that point, it's your turn to act.\n\nNot arguing in its favor, because it still looks cheap to me."", ""TheCriticalTaco: Damn, that is nice, but unfortunate! Sorry you had to go through that, but it definitely puts into perspective the use-case for monitoring. It is true, when shit goes down, last thing on your mind is dialing 911. Thank you for your perspective, really made me think about things I didn't consider."", ""TheCriticalTaco: That is cool actually, Thanks for letting me know, I'm gonna consider that as well!"", ""Cafe_y_Wifi: That's the route I took, actually. The suggestion for Konnected was in case you wanted to leverage the existing alarm setup. Good luck"", '_Rand_: That zwave stick should be fine, I use a zooz myself but they are more or less identical so it shouldn’t make a difference.  I’d just get whichever is cheaper really.\n\nAs for the sensors, I’ve tried probably 10 or 12 different brands by now (though not necessarily all the equivalent products) and have just fiund ring and third reality to be all around solid and reasonably prices to boot.  I’ve not had issues of any sort with either brand, and as you mentioned with the third reality stuff I don’t mind the size and love the battery life.\n\nNot that other brands are definitely bad or anything mind, but I find those two hit all the marks really.\n\nZooz and aeotec stuff is nice too for example but seems overpriced, sonoff works well enough but feels SUPER cheap, ikea stuff is ugly and gigantic (but fairly well priced), Aqara is super finicky etc.\n\n\nSo these days I typically stick with ring/third reality mainly because nothing about them really bothers me.\n\nPro-tip, Amazon somewhat regularly puts the Ring alarm kits on sale super cheap and even if you toss the base station the sensors can come out to like $15-20 each.  If you ever need to expand or want extra sensors for controlling lights or something its an inexpensive way to stock up.\n\nI don’t have a real preference between zwave/zigbee myself though most people report zwave works better overall due to potential interference with zigbee and wifi.  Your milage may vary of course.\n \nAnd you’ll need a server of some sort, zigbee and zwave dongles (unless you go 100% one way or the other) sensors, and a siren (with control pads optional).   \n\nI’d recommend zooz or aeotec for you zwave dongle, and a Sonoff 3.0 -p (not -e) for you zigbee dongle or perhaps a Home Assistant Sky Connect but that one seems slightly less compatible.\n\nAlso you may want to consider using a generic 12v siren.  You can hook them up to a smart outlet and turn it on when the alarm is triggered, its a bit uglier and less flexible than the zwave/zigbee sirens but they can be absurdly loud.', 'thereddevil20: My zwave setup has been solid. Zigbee too for that matter but I’m between zha and zigbee2mqtt right now so things are funky. If you have a large house ensure you have enough routers on your mesh network.\n\n24/7 monitoring in my mind is really cool for $10/month from Noonlight. But it’s obviously subjective.\n\nI’m not very familiar with SDR (don’t use any such devices) but the AliExpress link mentioned 433Mhz and anything that can handle it should be good enough. Another commenter mentioned there are security implications since those signals are broadcasted everywhere. \n\nI’d suggest going with zwave 800 with a dongle like this if you’re going zwave (it’s a coordinator with the latest version) https://www.thesmartesthouse.com/products/zooz-800-series-z-wave-long-range-usb-stick-zst39 However, since you’re starting from scratch I think it would be valuable to look at matter/thread compatible devices for interoperability with HomeKit and others. Sky connect dongle by HA has the ability to run Zigbee and matter at the same time but is still in beta. \n\nYou are correct on the setup. For a siren, I use a smart plug that gets triggered from HA but you have the correct basic idea on how to set things up.', ""phrogpilot73: I won't lie, it was nice that there was little damage. As I was implementing all the home automation stuff (to include Wyze cams with Dafang firmware), we were starting to think about moving away from monitored alarm stuff. We never arm it, because even if we're out of town - my in-laws live across the street and they keep their eye on our house. Then this happened. It was enough to convince us that not everything is worth self-hosting."", 'TheCriticalTaco: Thank you!', 'TheCriticalTaco: Good to know! Thank you so much for the detailed write-up! \n\nI will definitely be taking all that into consideration when I purchase them soon. You have helped me immensely !', ""TheCriticalTaco: Awesome! Thank you so much for your guidance! I appreciate it!\n\nYeah I'm not gonna use that 433Mhz sensor since I've seen LockpickingLawyer's video on how to jam similar ones.\n\nThanks also for the dongle suggestion, but if I want homeKit integration I should lookout for something that is matter/thread compatible, so I will keep that in mind. Thankfully my house isn't large (1,452 sqft) so I won't have to worry much about network.\n\n&#x200B;\n\nYes, on second thought, I will be getting monitoring, possibly in the future, since it seems to give my spouse peace-of-mind, and a lot of people recommend it.\n\n&#x200B;\n\n>You are correct on the setup. For a siren, I use a smart plug that gets  triggered from HA but you have the correct basic idea on how to set  things up. \n\nAwesome ! Thanks!""]"
1681876438.0	18-Apr-2023 20:53:58	How to remove header tabs on mobile dashboards?	I3lackshirts94	2	12rfvqc	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rfvqc/how_to_remove_header_tabs_on_mobile_dashboards/	"Previously in the settings of the mobile app I was able to toggle the full screen option and it would load all pages of the dashboard with out the tabs across the top. Ever since the 2023.4.x update I can’t get the headers to go away.

Is anyone else having this issue and know how to solve it?"	3	['PsyChQPaTh: https://github.com/NemesisRE/kiosk-mode use this for updated kiosk mode.', 'TC_FPV: https://github.com/maykar/kiosk-mode', 'Tezmo4: This one stopped working since the update for me']
1681875845.0	18-Apr-2023 20:44:05	iPad as a dashboard issue	madbeefer	0	12rfmv3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rfmv3/ipad_as_a_dashboard_issue/	I have an iPad that I use as kiosk essentially for Home Assistant. I don't have fully kiosk installed I just have the screen to not turn off and it runs the home assistant app. And its been fine for at least 2 years. Now suddenly it will discharge and turn off and charge even though its plugged in. Is this a sign the battery is dying or something else? I have two other iPads that work fine still so I am fairly certain its not a firmware or software issue..	1	['kenkiller: Yes.']
1681874789.0	18-Apr-2023 20:26:29	Automation for Heat Pump Water Heater?	TGIF-42	0	12rf6d1	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rf6d1/automation_for_heat_pump_water_heater/	"I'm looking into installing a heat pump water heater to replace my leaking unit, and I want to be able to integrate it into my home automation.  There are two brands available in my area (AO Smith from Lowe's and Rheem ~~Performance Platinum~~ ProTerra from HD).  They both require an app to control and to check sensors, and according to AO Smith's rep there is no well defined API to integrate into 3rd party software (Rheem hasn't replied).  Does anyone have any experience integrating something like this into your locally hosted infrastructure to bypass an app, or especially have experience doing so with either of these units specifically?  TIA!

Edit: corrected Rheem unit name"	8	"[""blueshiftlabs: I've got last year's AO Smith heat pump water heater with one of the old Iris modules on it. I was able to redirect the domains the module tries to hit at the router level, and have it being fed to a little bridge service running as an HA addon that dumps data into MQTT. Works pretty well, although I need to go update the MQTT service to handle some of the newer schemas, since it causes a ton of errors to get spammed to the log at the moment.\n\nIt looks like the current AO Smith model has a CTA-2045 port, which at least _superficially_ looks like the port that my Iris module connects to, so it _might_ work if you want local control.\n\n_Edit:_ Did some more searching around, and CTA-2045 seems to be the standardized version of the port on my current water heater, so it's fairly likely that the trick I'm using would work for you, too. If you have any interest, I can write it up for you."", ""techdan98: I have a rheem heat pump water heater. There is an integration (rheem econet), and I am able to read temperature, etc. Haven't tried controlling it, though."", 'AnduriII: I controll my hot Water heat pump with a shelly relay connected to the Photovoltaic-input. I have a viessmann', 'DogTownR: Makes sense. Each of my 50 gallon heaters consumes 800w while using the heat pump exclusively to heat hot water. You could use 1-2 as your sunlight incremental load and add a sidearm tank for more storage. You could also use a heat exchanger and heat your floors depending on what’s in your house.', ""clabern: I have a Rheem ProTerra hybrid water heater and setup the Rheem Econet integration. It seems to work well, though I don't really use it for anything. You can change the mode, and it gives sensors for temp, electricity usage, and various other things."", ""TGIF-42: I would be very interested!  I'm guessing your method would work for either model, so efficiency, features, and price are probably my only concerns for choosing then?"", 'DogTownR: Curious why you would want to control more than power on these? They heat water slowly and effectively. I have two 50 gallon tanks in series set at 140 degrees with a blending valve that reduces outflow to 120 degrees. Works great for my shower obsessed family of 6 while cutting our hearing costs 75%. I monitor their power consumption and not much else.', 'AnduriII: I control it to heat the Water when the sun shines. Better use the power by myself than sell it for cheap']"
1681872983.0	18-Apr-2023 19:56:23	Tuya scenes that are not there in Tuya app at all but are coming up in HA. Not sure why?	AppleFan1010	6	12recq0	homeassistant	https://www.reddit.com/r/homeassistant/comments/12recq0/tuya_scenes_that_are_not_there_in_tuya_app_at_all/	"Can anyone help in deleting them permanently, please?

https://preview.redd.it/spxfazrcarua1.png?width=2936&format=png&auto=webp&v=enabled&s=5a689eac5d0f9e146ff4860e66e1d416c8b1b189"	6	"[""AnchoredFrigate: I haven't tried it, but since you need to reload the integration to get new scenes to appear maybe it works the other way around as well?"", 'Nicao: You can try logging in into your tuya cloud Developer Account. There you can see and delete scenes and devices more easily...', 'AppleFan1010: Tried reloading but still these scenes are displaying under entities.', 'AppleFan1010: I deleted them from Tuya app. But not sure where to find them in Tuya cloud account?\nI tried but no luck. \n\nCan you tell me exact path of scenes in cloud account?', ""Nicao: I'm traveling right now but as I recall it my scenes had been listed as virtual devices in tuya cloud. Else, try setting up your tuya app (edit: on your phone!) again so it will get a fresh, non cached copy of your setup.\nSince home assistant uses the tuya API to get your scenes they're pretty surely stored at the tuya cloud :)"", 'AppleFan1010: Tried but there is nothing under virtual devices. \n\nSetting up all devices again in Tuya will be difficult.']"
1681866669.0	18-Apr-2023 18:11:09	Updates causing sensors to show on/off instead of appropriate status	smdifansmfjsmsnd	0	12rbh8u	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rbh8u/updates_causing_sensors_to_show_onoff_instead_of/	"I’ve now tried updates 4.3, 4.4 and 4.5 and each one causes this to happen.  Instead of showing open or close it says on or off.  Does this for all binary sensors.  Plus the status shows in lower case where it normally is upper case.  I’d hate to think I can’t update any further but it’s got to be the updates doing this as rolling back to 2023.4.2 always fixes the issue.  Anyone else seeing this?  Any advice how to fix it? 

https://i.imgur.com/FGASbge.png"	7	"[""generalambivalence: Check that the binary sensors have a device class set. Every binary sensor is on/off, but the device class determines what the frontend shows.\n\nIt's possible that the update borked something in the entities.\n\nhttps://www.home-assistant.io/integrations/binary_sensor/\n\nYou can set the device class in the UI by going to the entity, clicking the gear, and then choosing from the `show as` drop down."", 'svkowalski: I\'m seeing the same issue, but only with my  Zigbee Universal Electronics Inc window contact sensors. I\'m using the ZHA integration.\n\nThe binary\\_sensor.xxx\\_iaszone does show the device class to be ""Window"", or ""Opening"". I\'m guessing there\'s a quirk or something that went awry.', 'svkowalski: Here\'s a hack that will fix the issue, but it creates new sensors. It is based on this thread: [How to change ""Show As"" option](https://community.home-assistant.io/t/how-to-change-show-as-option-from-running-to-online/511627/3?u=svkowalski)\n\nYou are creating a template sensor with state values based on the binary\\_sensor.\n\nOf course, you will need to change the front end to use the new sensor.garage\\_door\\_ias entity instead of the original binary\\_sensor.\n\n    template:\n      sensor:\n        - name: Garage door IAS\n          state: >\n            {{ iif(is_state(\'binary_sensor.garage_door_sensor_iaszone\', \'on\'), \'Open\', \'Closed\') }}', 'smdifansmfjsmsnd: What did you end up doing?  Rolling back as I did or did you find a way to correct the issue?', ""svkowalski: I'm waiting for the next release, when I expect it to be fixed. It's a change from previous behavior, and it is incorrect and undocumented. That's my definition of a bug. I guess I could confirm that it's been reported."", 'smdifansmfjsmsnd: I reported it but if you have anything to add it could substantiate my report and hopefully increase priority.  https://github.com/home-assistant/core/issues/91641', 'svkowalski: Yeah, good point; will do.\n\nIn my case, it\'s just an annoyance, because the dashboard just reports windows as ""on"" or ""off"", instead of ""open"" or ""closed"".']"
1681864971.0	18-Apr-2023 17:42:51	Home assistant consultant just for specific installation task	Top-Cartographer7026	2	12rapha	homeassistant	https://www.reddit.com/r/homeassistant/comments/12rapha/home_assistant_consultant_just_for_specific/	"Hi! Bought a Home Assistant Blue back in 2021, shipped out running version 5.13. 

Only just got round to plugging it in! The system appears to be on version 10.00 now. 

I can't update to the latest version. I get error ""failed to call service update/install"" 

I need a consultant just to check my network, do a health check and update. 

The rest of my home config I can handle probably. 

Will pay accordingly."	7	"['Getslow6: If it still wasn’t setup, you could just do a fresh install instead of update the old software. Instructions here: https://www.home-assistant.io/installation/odroid/ (Home Assistant blue is Odroid based, it’s mentioned in the instructions as well).', ""ManOfMuchKnowledge: you should probably include where in the big wide world you're at, so we can get an idea if someone is willing to help you locally... can't just check a network remotely..."", ""LifeBandit666: Isn't the OS at 10 now anyway? I just scrolled past this https://www.reddit.com/r/homeassistant/comments/12qmox9/_/"", 'Original-Psychology: This, it’s easy to flash the Odriod with the latest firmware. There are even tutorials on YouTube on how to do it. Follow this one: https://youtu.be/Liz-V5_jqO8', 'Top-Cartographer7026: Romania. My Internet works so I guess a remote job would be possible', 'DogTownR: I think you would need to offer a specific number and type beers here to properly incentive the job!', ""ManOfMuchKnowledge: ok, so you don't need someone to check out your network? you want them to setup Home Assistant v10 or higher if possible?""]"
1681862416.0	18-Apr-2023 17:00:16	History in Excel/Access	smibrandon	5	12r9j3y	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r9j3y/history_in_excelaccess/	"Hello fellow Homies!

What are recommendations of recorder setup so I can also connect Excel and/or Access to the database as a Data Source (MariaDB, PostgreSQL, etc)?

Thanks in advance!"	2	['zSprawl: There are a few ways. You could use Google Sheets and the API. Or you could parse the plain text csv\n\nhttps://www.home-assistant.io/integrations/file/#sensor\n\nWhatcha trying to accomplish?', 'droans: Iirc Power Query has a MySQL connector. You can use that to collect to the MariaDB database.']
1681861602.0	18-Apr-2023 16:46:42	Does home assistant integrate with Savant?	First_Box9830	2	12r95v3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r95v3/does_home_assistant_integrate_with_savant/	Another question is does Home Assistant have a lighting effects option	0	[]
1681861479.0	18-Apr-2023 16:44:39	Automation for remote press to turn light on and off	IroesStrongarm	2	12r93r9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r93r9/automation_for_remote_press_to_turn_light_on_and/	"I've got a Lutron Casetta system in my home and with it comes the option to pair Pico remotes.  The remote for the automation I'm trying to setup has an on button and an off button.

I was able to setup this remote to control a Zigbee light in the house.  I had to do it with two separate automations, one to handle on and the other to handle off.  I feel there should be a way to do this in just one automation.

What I've looked at so far to solve this but doesn't seem right is to set two triggers, one when the on button is pushed and another when off is pushed.  This way the automation will trigger on any button press.

Then I went to the actions and tried to set an If/Then action.  I picked device for the first if, selected the remote, but there are no conditions available to pull from.  What am I missing?  I know there's nothing wrong with just doing this as two automations but it would be nice to consolidate them if possible."	8	"['generalambivalence: Use trigger IDs in your triggers. Then in the actions, select an `if/then` or `choose` action and use the trigger ID as (one of) your conditions to fire the action.', '400HPMustang: On your button press choose call service, choose light.toggle and pick the entity for the light in question', ""IroesStrongarm: I'll give trigger ids a look. Haven't tried those yet. Thank you for the suggestion."", ""IroesStrongarm: Wouldn't this swap the lighting state regardless of which button I press?"", '400HPMustang: Oh yeah sorry I misread your request. I thought you were trying to do it with just one button.\n\nIf you have a two button you probably want this blueprint then\n\nhttps://community.home-assistant.io/t/lutron-caseta-pico-2-button-remote-core-integration-only/280883', ""IroesStrongarm: Awesome, I'll take a look. I actually haven't looked into blueprints yet so perhaps a good time to learn.\n\nI will say, as I will likely add another bulb in the room (this one came free with the house) the idea of using the remote buttons as independent toggles is actually a really good one so thanks for that thought.\n\nHave to get out of my old man mentality that a switch has an on and off state that must be adhered to."", 'mini_juice: Blueprints are fantastic! The only real downside is that the ""Blueprint Exchange"" can be a bit difficult to navigate. But once you find the ones you want, they\'re incredibly useful. Enjoy!', 'IroesStrongarm: Cool, thanks for the tip!']"
1681860537.0	18-Apr-2023 16:28:57	Browser Mod Pop Up Help	way_out_space_ranger	2	12r8o1i	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r8o1i/browser_mod_pop_up_help/	"I am trying to use browser mod to create a popup on a button push. I would like an ""office"" button that i can tap and get a popup with the entities i have listed. My button gets created, i click it and get a blank popup, just a black box with a white boarder.

    show_name: true
    show_icon: true
    type: button
    icon: mdi:chair-rolling
    tap_action:
      action: fire-dom-event
      browser_mod:
        service: browser_mod.popup
        deviceID: this
        card:
          type: entities
          entities:
            - light.office_main_lights
            - light.office_ceiling"	8	"['400HPMustang: [copy the code from my post as a starting point](https://www.reddit.com/r/homeassistant/comments/12pvozs/popup_grid_card_layout_help/?utm_source=share&utm_medium=ios_app&utm_name=ioscss&utm_content=1&utm_term=1)\n\nI know that works, because I’m using it. You should be able to change around the entities and such to get where you want to be.', 'way_out_space_ranger: Thanks a lot! I was able to get it working!', '400HPMustang: No problem, glad you got it to work!', 'Wtrdk_: Could you please share your working code?', 'way_out_space_ranger: Shoot the app removed the indents and returns\n\nhttps://preview.redd.it/5jkxa6lw43va1.png?width=1440&format=pjpg&auto=webp&v=enabled&s=96f97a1c1f915c6a9bff2c1bd11735f2794c2eec', ""way_out_space_ranger: Absolutely:\n\nshow_name: true\nshow_icon: true\ntype: button\nicon: mdi:chair-rolling\ntap_action:\n  action: fire-dom-event\n  browser_mod:\n    service: browser_mod.popup\n    deviceID: this\n    hide_header: true\n    data:\n      content:\n        type: entities\n        entities:\n          - entity: light.office_main_lights\n            name: wall lights\n            toggle: true\n            icon: mdi:wall-sconce\n          - entity: light.office_ceiling\n            name: ceiling light\n            toggle: true\n            icon: mdi:lightbulb\n\nSorry about the formatting I'm on my phone."", 'Wtrdk_: Thanks a lot👍🏻', 'way_out_space_ranger: Of course']"
1681858819.0	18-Apr-2023 16:00:19	Set the time on a fire tablet HD without an internet connection	CobblerYm	9	12r7uqb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r7uqb/set_the_time_on_a_fire_tablet_hd_without_an/	I've got a few fire tablet HD10s that I'm running Fully Kiosk Browser on and they work great, they show my HA dashboard and do all the things I ask of them. I have them running on an IoT network without Internet though. One problem I'm running into is the time is drifting further and further off, most about ten minutes wrong now. I've got integrations that display when one of my cars is navigating home and gives an estimated time of arrival, but it's always ten minutes early because of the clock drift. I'm hesitant to add them back to the Internet because I don't want them to update in any way, and I'd also like an automatic solution. Is anyone running into a similar problem? How do you set your tablets time without Internet access. They have whatever local access I want to give them (just HA server right now)	15	"['crumpet_concerto: This may be helpful: [https://github.com/hassio-addons/addon-chrony](https://github.com/hassio-addons/addon-chrony)', 'claytonium13: Following.  I created a new time sensor record the HA server time. Used that for a bit but I felt like it slowed down my startup time.  I’ve also downloaded chrony but wasn’t sure how to get it set up properly.', ""sri10: Run a local ntp server on your machine which hosts home assistant. Your tablet should pick it up since it's in the same local network"", 'peterxian: I am using an old fire hd8 on a private vlan, and the time syncs to my local ntp server, which in turn syncs to the internet. Unfortunately I can’t remember which method I used to set the ntp host on the tablet, but there are two methods: either set the dhcp option 42 for time server at your router, and/or use the adb tool with a usb cable to issue the command ‘adb shell settings put global ntp_server xxx.xxx.xxx.xxx’.', 'FuzzyToaster: I block WAN for everything except UDP packets on port 123 for my nursery camera - it means it can set the time via NTP but do nothing else.', ""CobblerYm: Looks cool, it seems that it just sets the time on the HA host device and not clients but I'll install it and check"", ""CobblerYm: They'll just pick up any local NTP server? That's interesting, I'll try it"", ""CobblerYm: Interesting, I read that fire tablets don't use NTP in [this thread](https://www.reddit.com/r/homeautomation/comments/q5d2az/ntp_for_internet_isolated_devices/) which explains why setting the DHCP option didn't work for me. ADB might force it though, I can try that in the morning"", ""CobblerYm: I was hoping adb would work, but It doesn't seem to honor DHCP NTP servers, and then I was hoping I could just manually set the time with adb and even then I get permission denied"", ""crumpet_concerto: You can point clients that accept custom NTP servers at it! From another thread on NTP I found involving Fire Tablets, it sounds like they don't support custom NTP, but your router might and the tablet talks to that."", ""carlinhush: I had a similar problem with my TP-Link cameras. As I don't want the camera feed to be accessible anywhere outside my control I blocked their internet access completely. This messed up the clock that is embedded into the video stream. I circumvent this problem by blocking all internet access apart from port 123 which is for NTP"", ""CobblerYm: Oh yeah I forgot about that. I'm on ubiquiti so I can easily set an nrp server via DHCP. I'll try that and see if it responds to it"", ""crumpet_concerto: Please check back in with how it goes. Now I'm curious."", ""CobblerYm: No luck, set it to my local DC as well as the HA NTP server and neither worked. I see other threads where fire tablets don't use NTP at all so that maybe a dead end there. [Thread in question](https://www.reddit.com/r/homeautomation/comments/q5d2az/ntp_for_internet_isolated_devices/)"", 'crumpet_concerto: Aw man, sorry to hear.']"
1681856465.0	18-Apr-2023 15:21:05	Presence detection not working properly	MadSnow-	4	12r6p31	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r6p31/presence_detection_not_working_properly/	"I'm completely new to Home Assistant and I've attempted to set up presence detection for my home using the HA app on iOS. However, it's not functioning as expected. Even when I'm not at home, HA shows that I'm still at home. Could this be because I only have HA set up for local usage?

Also, what are the most effective methods for detecting presence on iOS devices? I don't want to rely on wlan detection since I often use mobile data and turn off wlan.

&#x200B;

Thank you for your assistance!"	4	"['kunigit: I’ve found zone-based location tracking with the iOS companion app to be reliable and fairly light on background battery usage, and yes, it requires external access to work. There are several options to get that. The easiest is probably the paid Nabu Casa service, and you don’t have to open up your home network, which is another option that I personally do. Also some VPN setups like wire guard, etc.\n\nYou could also use bluetooth to detect your phone, but you’d probably need good coverage to avoid false away statuses.', 'redpandabutts99: I’ve found detecting when my cell phone or my wife’s cell phones connect to our home wifi is the best indicator if we are home or not. I track this with the Unifi integration since I have a Unifi Dream Machine Pro, but if you have a different type of router you will need to figure out how to integrate it into home assistant.', ""MadSnow-: thank you! so you've probably setup external access through DuckDNS?"", 'kunigit: My ISP’s DHCP lease is really stable, so I use a subdomain on a domain I own, but basically the same thing.']"
1681855314.0	18-Apr-2023 15:01:54	Needing a 12k+ BTU evaporative dual-vent portable AC unit. Anyone have any recommendations for anything that can integrate into HA?	audioeptesicus	1	12r6499	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r6499/needing_a_12k_btu_evaporative_dualvent_portable/	I'm in the market for a 12k+ BTU evaporative dual-vent portable AC unit for my server setup and need to find something in a couple weeks.  Does anyone have any recommendations on units or brands that can be easily integrated into HA without using IR blasters or smart outlets?  Hoping to have something that doesn't rely on the cloud too, but will be better to have cloud than nothing at all.	0	[]
1681855117.0	18-Apr-2023 14:58:37	HA OS 10.0 broke my setup?	enjokers	5	12r60er	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r60er/ha_os_100_broke_my_setup/	"So I use a rpi4 with SSD and just installed the new 10.0 OS. Now I’m unable to connect to my HA instance completely. My S.O. will not be happy tomorrow when she finds out nothing works as usual at home.

Anyone else experienced this?

Was to fast to install it apparently but I didn’t notice any breaking changes.

So if it’s actually broken, which is the first major failure for me, how to I go about to get back up running again as smoothly as possible?"	24	"['germandz: I’m also using a RPI4 with SSD, upgrade went smoothly.\n\nMaybe could be related to drivers for the SSD adapter', ""Pleased_Benny_Boy: It killed my MotionEye addon. I'm gettint 502 Bad Gateway. At least the rest is working."", 'generalambivalence: Have you tried a complete reboot of the RPi? Hard shut down, pull the plug for a few seconds, and then boot it back up?', 'big-ted: If you have SSH access you can roll back the OS\n\nha os update --version 9.5', 'Marc-Pot: Always have a backup, that’s the way to get back up quickly.', 'ButCaptainThatsMYRum: Restore a backup. \nThen look into ditching raspberry pis and set up a virtualized environment so you can easily backup, snapshot, and restore the entire os for something that can get you in trouble.', ""em0ry42: I personally haven't had any issues with OS10.\n\nI assume you have backups of your Home Assistant installation? If so, you could probably reinstall an older version of the OS, then restore from those backups.  I'm not aware of a method of reverting the OS, and even if there was one, if it's failing to boot, I'm not sure I'd trust it.\n\nThat said, it doesn't hurt to plug the rpi into a monitor and keyboard, see if there are any errors during boot, what's it hanging or crashing on?"", 'enjokers: So this is what it looks like when I start it up:\n\nhttps://preview.redd.it/4yt413fw3yua1.jpeg?width=3024&format=pjpg&auto=webp&v=enabled&s=f2f1ae6f9b90ffeb14f855791f69b0199960e2ea\n\nNo external backup. Only ”internal” within HA done which I am unable to find opening the SSD in Windows. Trying to find ways to restore what I can on the SSD. If you got any suggestion please fire away…\n\nWould suck to setup it all from scratch but what actually feels worse is resetting the energy usage history on the house.', 'ayyycab: >So I use a rpi  \n\nFound the problem', 'AnxiouslyPessimistic: On my Pi I once had issues until I rebooted without any external USB devices etc connected. Worth a shot', 'Vast-Ad-9451: Yes it happend to me to.\nAparantly the update to OS10 is not suited for NVMe disks (it says so almost at the beginning of the post on the HA website).\n\nAlthough I even never knew there was a SATA SSD and an NVMe SSD. The updat works with the first and not (yet) for the latter.\n\nHopefully you use the google backup plugin as I do. I just plugd am SD card in the Pi and upgraded to OS10, uses the backup and don. Up and running again.\n\nKnow im just waiting for OS10 to be NVMe ready so I can switch to the SSD again.\nFor me there is no significant difference from my switch (back) tot SD card. But for the long run I want the SSD again', 'Creepy-Ad8688: I second that. I’m also on SSD in usb 3.0 adapter and it works fine.', 'redonionking: Same here. edit: Literally seconds after I posted this an update fixed it.', 'enjokers: Probably failed on the backup part as well it seems:(\n\nOtherwise I’m happy with the RPI, so I’ll probably keep using it but secure a proper backup asap.', 'enjokers: Thanks for replying! I’m trying to read up on how to do this so I can give it a try tomorrow. I’m happy for all inputs.\n\nHaven’t done any external backups.. Which seems like a lesson learned by this. Will try to check if I can retrieve anything useful tomorrow on the SSD. Will start by plugging in the rpi to a monitor and check the output however, thanks for that advice.', 'enjokers: How come?', 'enjokers: I run it directly on a SSD so have to have that but otherwise I tried this without success. Thanks for suggestion tho.', 'enjokers: Thanks for answering, seems like this is it. \n\nI seem to be screwed in this case tho, just took backups on the device which I’m unable to retain, no external.', 'MrP1232007: Google drive back up add on. Automatically schedule backups to a Google drive of your choice. Made sure I did this as soon as I realised how much of my time had been invested in setting things up. Did not want to rely on the sd-card for anything!', 'ten1219eighty5: Their is a video and add on for autobackups to a Google drive which I recommend just search YouTube cause links are a pain', 'em0ry42: https://github.com/sabeechen/hassio-google-drive-backup\n\nYou may be able to read the SSD, then you could grab the tgz from /backup then start from there...\n\nGood luck!', 'ayyycab: You’re running HA on Casio watch and surprised that it’s falling apart on you', 'Vast-Ad-9451: Ok, thats a shame, I dont realy know an answer for that. Have you allready deleted the disk? Maybe you can acces it on a PC to at least save som configurations of the sort?\n\nBut my knowledge of HA is not so great on the technical side', 'enjokers: So I posted a new post showing what it says plugged to a monitor.\n\nI will definitely hook up a proper backup solution in the future. The google drive solution seems ideal for this.']"
1681848650.0	18-Apr-2023 13:10:50	Can't manually inject in node red after HA update	starmanj	2	12r2nny	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r2nny/cant_manually_inject_in_node_red_after_ha_update/	"Used to be able to click on inject to start a flow, but now the cursor is a ""move"" icon. Nodes are deployed so nothing to update. Any ideas what could cause this?"	0	[]
1681848498.0	18-Apr-2023 13:08:18	Nmap tracker entity unavailable.	zbulbersowany	2	12r2kj4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r2kj4/nmap_tracker_entity_unavailable/	" Hi, I have a problem with the nmap tracker integration. I wanted to add  automation triggered when the device is not connected to wifi.  I added the nmap integration, set up the IP lookup, but it adds entities  that are immediately unavailable, and I can't do anything with them.  What am I doing wrong?

&#x200B;

https://preview.redd.it/l381pbsh9pua1.png?width=577&format=png&auto=webp&v=enabled&s=bb1a9e5e402a139ab62319b68fe4f612328baef4"	0	[]
1681848335.0	18-Apr-2023 13:05:35	Companian app custom sensor	DatGizmo	0	12r2h30	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r2h30/companian_app_custom_sensor/	"Hi,

Is it possible to create a 'custom sensor' for the android companion app?


I have a Zero motorcycle and use a old android to connect to it via bluetooth to monitor the charging level. Currently I use an app  called 'Zero Spy' for that, where the charging level is send to a server and I can get the data back on another phone running the same app using a 'instance ID'.


Instead of using the server provided by the app author I'd like to use home assistant to view the data. Which means I need a way to send the data to home assistant."	2	"[""generalambivalence: Have you seen these? Perhaps they'll be what you're looking for.\nhttps://community.home-assistant.io/t/zero-motorcycle-owners-rejoice/297492\n\nhttps://community.home-assistant.io/t/zero-motocycles-integrations-in-home-assistant/203255"", ""DatGizmo: No I haven't will take a look.\nThanks a lot :)""]"
1681847784.0	18-Apr-2023 12:56:24	Media Browser list view	DatGizmo	1	12r25ns	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r25ns/media_browser_list_view/	"Hi,

Is there a way to change the way items are displayed in the media browser, from the current 'grid view' to a 'list view'?

I'm running a dlna server and none of the files there have a thumbnail (or at least they are not presented via the dlna) and I'd also prefer a simple listing where I can read the whole file name."	0	[]
1681847413.0	18-Apr-2023 12:50:13	Matter + IPV6 for Leviton?	BlueMonkeyNC	1	12r1y6r	homeassistant	https://www.reddit.com/r/homeassistant/comments/12r1y6r/matter_ipv6_for_leviton/	"I'm getting ready to add my first matter devices to Home Assistant.  The Leviton devices were never enabled for HA, so they are new devices.    My Leviton switches updated to matter today - firmware 1.5.   Really impressed, they seem to be earlier than a lot of other devices.    

There is a note in HA [https://www.home-assistant.io/integrations/matter/](https://www.home-assistant.io/integrations/matter/) that says ""The Matter protocol relies on (local) IPv6 and mDNS (multicast traffic) which should be able to travel freely in your network"".   

I have a Unifi network, ipv4 - I don't have Ipv6 enabled.  Do I need to enable this before adding these to HA?   Right now these switches are integrated with Apple only."	1	['udit39: For matter wifi devices ipv6 is not needed. I have added a Tapo Matter Smart plug and only have ipv4 on my lan.']
1681846521.0	18-Apr-2023 12:35:21	Tuya Zigbee door/window sensor	donjcf	4	12r1h5y	homeassistant	https://www.reddit.com/gallery/12r1h5y	"I bought some cheap Aubess (Tuya) door sensors off AliExpress. But I can’t get Z2M to find the sensors. Have anyone else got these working? I attach pictures as I don’t seem to find a proper model number for the sensor. They look like WL-19DWZ but with a bit more rounded edges. WL-19DWZ is Z2M compatible at least. 

Or is it so that I have gotten the wifi module instead of the ordered zigbee?"	9	"['fhdhhdhfh: I got those exact same ones and they worked no problem with z2mqtt\n\nThe first time I ordered a Wi-Fi one by mistake \nOn the box I think there was a check box that said Wi-Fi or zigbee if memory serves \n\nI guess you could check by trying to pair it in the smart life app', 'IndBeak: Its a wifi one. Can be unlocked and made to work with MQTT most likely.', ""GB_Morning: I just received mine and it was connected instantly. I'm really happy about how this sensor works."", 'Wild-Bus-8979: I shit you not, I have the ZigBee version opened up on my desk as we speak 😂', 'StomachCommercial69: Looks like beken logo on chip', 'jrhenk: If you have a pi3 lying around this might be an opportunity to get into tuyacloudcutter and openbeken flashing', 'sand_Rr: Where is the door? thing is massive', 'FireROR: I have four Zigbee version units and they are working fine. The model shows [TS0203](https://www.zigbee2mqtt.io/devices/TS0203.html#tuya-ts0203).', 'donjcf: Dagnabit, I have got the WiFi-version delivered. The boxes had no marking in either the zigbee or Wi-Fi squares. Thanks for the advice on the smartthings app']"
1681842738.0	18-Apr-2023 11:32:18	Open an image from actionable notification?	_hemo	1	12qzgb5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qzgb5/open_an_image_from_actionable_notification/	"I’m using node red to monitor for line crossing on my CCTV. When this is detected it takes a snapshot from my camera, saves it to media as per docs and shows it within my actionable notification, great. All working.

One notification button is set to open my camera dashboard and I’m trying to set another to open the camera snapshot so you can just view the image.

But for the life of me I can’t get this working.
My latest code that I’ve tried is


    {
      “action”: “URI”,
      “title”: “View Image”,
      “uri”: “source://media_source/snap.jpg”
    }

There’s surely got to be a simple way to open the snapshot within the app?

Thanks

EDIT: Just to clarify it’s not the actionable notification I need help with, this is set up and working, I would like to know how to open with uri (ideally within the companion app) an image that is saved to media."	12	"['shakuyi: Where did you pick up using ""source://""?\n\n did you look at the docs for examples on how to include links?\n\n[https://companion.home-assistant.io/docs/notifications/actionable-notifications#uri-values](https://companion.home-assistant.io/docs/notifications/actionable-notifications#uri-values)\n\nyou probably want something like \\`/media/local/snap.jpg\\` \n\nMore examples for images here: \n\n[https://companion.home-assistant.io/docs/notifications/notification-attachments#downloading](https://companion.home-assistant.io/docs/notifications/notification-attachments#downloading)\n\nSame concept applies you want to use relative URLs', '_hemo: The docs somewhere, I can’t find it at the minute.\nI have read through the docs you sent previously. As well as tried the obvious media/local/snap.jpg but I can’t get it to open.\nTo clarify the actionable notification works as expected using the docs provided. I just can’t open the snapshot. It just opens the app but no image.', 'shakuyi: dont forget it needs to start with \\`/media/local\\` leading slash is important. Also do you see your dashboard when it opens or do you see a blank page?', '_hemo: The opening slash was missing, so a step closer but doesn’t seem to work still, not authenticated maybe?\n\nhttps://preview.redd.it/35noe8ianqua1.jpeg?width=1179&format=pjpg&auto=webp&v=enabled&s=b21e36c1b7e59e03008199469ae460a7d8b39155', 'shakuyi: are you certain the path is correct? if it was an auth error it would be listed on the page instead of what appears to be a broken image.', ""_hemo: Well the path is now the same as the path I'm using for the notification itself. Which is working. Ive included a screenshot of the full code as I'm probably missing something obvious.\n\nhttps://preview.redd.it/ypb8zejowqua1.png?width=1366&format=png&auto=webp&v=enabled&s=6c02ce588b9096fe00d98bdb0d9c929e92959b6a"", 'shakuyi: Is the image loading in the notification?', '_hemo: Yes image is loading in the notification', 'shakuyi: ok looks like you are impacted by this issue\n\n[https://github.com/home-assistant/android/issues/1672](https://github.com/home-assistant/android/issues/1672)', '_hemo: Hmmm strange, but I’m experiencing this on iOS. I am getting this though.\n\nhttps://preview.redd.it/59gdy58l3rua1.jpeg?width=1179&format=pjpg&auto=webp&v=enabled&s=9f6957671f6ba736aee1b696c3382f3f95a37ca4', 'shakuyi: In that case try checking the iOS GitHub', '_hemo: Thanks I’ll have a look, the only work around I’ve found in the mean time as it does seem to be an authentication issue, is saving the snapshot to /www obviously it’s not ideal but it does bypass authentication. Just a shame it opens in a browser rather than the app.']"
1681841994.0	18-Apr-2023 11:19:54	Anyone able to cast the Amcrest AD410 doorbell to a Google hub?	pdawg17	3	12qz273	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qz273/anyone_able_to_cast_the_amcrest_ad410_doorbell_to/	"The hub acts like it's trying to cast but it just sits there ""buffering""..."	2	['654456: I have mine connected via onvif. I did need to use the substream though', 'pdawg17: When you have a moment can you explain how you did it?']
1681841773.0	18-Apr-2023 11:16:13	Actionable Notification	thatsamwilliams	3	12qyy20	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qyy20/actionable_notification/	"Hi all,

I’d like to create a notification on iOS that gives a message and then the option to start my robot vacuum.

    action:
      - device_id: device_ID
        domain: vacuum
        entity_id: vacuum.voldemort_2
        type: clean

This is just a basic action to start cleaning."	2	['shakuyi: give this page a read through\n\n[https://companion.home-assistant.io/docs/notifications/actionable-notifications](https://companion.home-assistant.io/docs/notifications/actionable-notifications)', 'smibrandon: Beat me to it! I was thinking the exact same thing']
1681841565.0	18-Apr-2023 11:12:45	Toying with moving from Homebridge. Are there equivalents for what I need to work?	Fookes74	6	12qyttb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qyttb/toying_with_moving_from_homebridge_are_there/	"Hi, I’m toying with Home Assistant at present after a few years away from it. To be honest, it’s like starting all over again - it seems that different from how I remember it!

One of the plug-ins I use in Homebridge is Occupancy Delay (see here for a good guide to its intended use):

https://github.com/archanglmr/homebridge-occupancy-delay#readme

This is used in conjunction to a motion sensor in our WC downstairs - the logic being that the light turns on and a countdown begins. If further motion is detected within the set countdown, the clock ‘resets’ and the countdown begins again. It works really well in this room and the light doesn’t go off at silly times. It’s also not on for far longer than it’s needed to be. 

So, firstly, is there an equivalent way of configuring this in Home Assistant? If so, some guidance would be appreciated!

Secondly, I have an automation configured which arms an alarm system plugin when the last person leaves home and disarms it when the first person arrives back. Works really well and is very accurate (only actioning both of these close to home).

I guess (although I’m not sure) that my existing Homebridge / HomeKit setup utilises not only my router but also my Apple HomePods to improve accuracy and location to do these tasks. Is there an equally effective option in Home Assistant? It needs to be rock solid if so. Again, I’d be grateful for any guidance offered on this. 

Thanks in advance."	17	"['VikingOy: I have no knowledge of Homebridge, but having to turn on a light that is already on, in order to turn it off, seems to me like an overkill ? In Home Assistant, this is very straight forward and logical; You make an automation that turns off the light if no movements has been detected for x-amount of minutes. I\'m using a cheap IKEA motion sensor for this in my bathroom;\n\n    trigger:\n      - platform: state\n        entity_id:\n          - binary_sensor.bathroom\n        to: ""off""\n        for:\n          hours: 0\n          minutes: 4\n          seconds: 0\n    \n    action:\n      - service: light.turn_off\n        data: {}\n        target:\n          entity_id:\n            - light.bathroom\n    \n\nAnd of course I have another automation that turns the light on. But they are almost identical except that ""off"" is replaced by ""on"" and the ""for"" condition is absent so that the light comes on immediately when someone enters the room.\n\nOff course, if you sit absolutely still on the toilet for more than 4 minutes, the light will go out, but all you need to do in order to get it back on again, is to wiggle your head or raise your hand. Then the light will stay on for another 4 minutes.', 'Mazekopp1: Went from Homebridge to HA a few weeks ago. I had the exact same plugin in Homebridge that you are using. \n\nHome Assistant is in my opinion, much better than HomeKit when it comes to automation. \n\nNow I only have to make one automation that says “When Motion Sensor stops detecting motion for X minutes, turn off light”.', ""FoShizzleShindig: Seems like you're hung up on your scenarios presented in the github page you linked.\n\nYou can use helpers like [timers](https://www.home-assistant.io/integrations/input_boolean/) and [booleans](https://www.home-assistant.io/integrations/input_boolean/) to recreate those in HA.\n\nFor your location-based automations you'd download the HA app on your mobile device and use the device tracker feature built in to create your arrival/departure automations."", 'gergles: I\'d recommend using the community provided ""sensor light"" automation blueprint which has all the features of HomeKit\'s automation and then some.\n\n[This link](https://my.home-assistant.io/redirect/blueprint_import/?blueprint_url=https%3A%2F%2Fgist.github.com%2FBlackshome%2F6edfec0ff6a25c5da0d07b88dc908238) would let you install it in your HA instance, and [this one]( https://community.home-assistant.io/t/481048) is the community thread discussing the automation.', 'Fookes74: Many thanks. But does this example you give cover the real world examples given in the plugin link I sent through?', 'Fookes74: Does that achieve the same though? In the examples given on the plugin page I link to, it covers a few extra scenarios. Aren’t you just describing a turn on and then turn off without any of the real world examples given?', 'Fookes74: Maybe you’re right. As someone coming back to HA ‘fresh’ though I’m in need of help to understand it all. This may be the most rookie of questions so apologies, but what are/is ‘booleans’? Could you advise how I may do the actual automation? \n\nNoted on the mobile device HA app. I have this already. Do you find this reliable in terms of tracking?', 'Fookes74: Fabulous - thanks. This looks (in terms of what I’m currently using) to be a very similar setup. My one concern is this:\n\nHaving configured this I’m seeing the following results:\n\n1) Light not turning off after desired set time in config (I’ve done 1 min which is in addition to the inbuilt 30 seconds on the Motion sensor). Light goes on instantly on detection but will not switch off. What am I doing wrong here?\n\n2) We have a smart Sonoff Tasmota wall switch controlled via MQTT which also controls this same light. I’ve noticed on testing that if i use the motion sensor automation which turns the light on, if I then turn off the light at the wall switch and then re-enter the room to trigger the motion sensor it doesn’t happen. I’m presuming the internal countdown is still progressing and it won’t work until that’s cleared. Is there any way to do a either / or method of controlling this? I’ve always used Motion sensor but my SO is a little more technophobic and still likes switches!', 'VikingOy: Well, both my toilet and my world is real, and it works. It appears to me that you are trying (wanting) to do things in HA exactly as you did in HomeBridge.  In HA, there is no need to first turn a light on in order to be able to turn it off.', 'Mazekopp1: Yes HA can do all of the examples! The automations in HomeKit are not as powerful as HAs. \n\nYou can tweak the automations with triggers (the motion sensor) add conditions (if motion sensor senses motion) and actions (turn on lights). You can even add several triggers, conditions and actions to make the automation perfect for your use-case.', ""FoShizzleShindig: I have a laundry room motion sensor and just use a basic automation presented by another user in this thread.  \n\n\nIf you want to re-create the scenarios listed a boolean would be a virtual switch that the automation would turn on. I'd probably just use a timer helper and skip the boolean unless you want to really drill down into the automation.\n\nHave one automation start a timer when motion is detected as well as turn on the lights. Have a wait for timer condition to turn off the light. Have a separate automation to reset the timer when motion is detected. \n\nI've been using regular GPS tracking from the mobile app for a couple years now to arm and disarm my alarm and it has been rock solid. Also use it to open my garage when I arrive home automatically."", 'Fookes74: Fair comments. I’m new to this though effectively (after quite some time with Homebridge) so that’s why I’m trying to learn and understand what I should be doing.', 'Mazekopp1: As per real-world example: I used the same plugin for my kitchen lights, otherwise I would have to wave my hand every two minutes to make the motion sensor trigger the lights. With HA I just made an automation that said when the motion sensor has not detected motion for X minutes, then turn off the lights. No need for extra plugins that starts a timer.', 'Fookes74: So Booleans are effectively dummy switches? \n\nOk, that makes sense. I guess it may take a little time to tweak it time-wise to suit my particular need here. Greatly appreciate the input from you.', 'Fookes74: Also. You mention the built in tracking of the mobile app. Is it still something I need to toggle on in the app or is it primed and ready to go?', 'FoShizzleShindig: Make sure on iOS you enable location tracking to always in the actual phone settings, and you should be good to go. You can verify the state of your location in the developer tools section.', 'Fookes74: Thank you']"
1681839974.0	18-Apr-2023 10:46:14	Home Assistant access issue	adnan_malik1	0	12qxxnr	homeassistant	https://i.redd.it/ef56mq7q1qua1.jpg	"I have set up my new Omada system following this guide (https://youtu.be/UBtPme0RQ2U). In summary, I’ve three VLANs:
1. Secure
2. IoT
3. Guest

I’ve been trying to use desktop PC to access Home Assistant but unable to do so.

The PC is connected using Ethernet to ‘All’ (under Profile) VLAN but home assistant is connected using Ethernet to ‘IoT’ VLAN.
I tried to access home assistant using local IP assigned via DHCP or the traditional link: homeassistant.local:8123 but nothing is working.
Any recommendations would be appreciated."	0	[]
1681839404.0	18-Apr-2023 10:36:44	Eve and HA	logannm	2	12qxmvi	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qxmvi/eve_and_ha/	I am having issues adding my Eve accessories to HA (door and window sensors, and Eve weather). How do I do this?	4	"['mailtest34: You need to use [https://www.home-assistant.io/integrations/homekit\\_controller/](https://www.home-assistant.io/integrations/homekit_controller/) integration. Do you have a Thread router (HomePod or Apple TV)?', 'ruddwasadud: What are the issues you are experiencing?', ""logannm: yes, a HomePod, any tips on using the integration? I'm pretty new to HA still."", ""logannm: I'm not sure how to connect them to HA, I don't know what kind of sensor they are considered""]"
1681838927.0	18-Apr-2023 10:28:47	Mi Flora Plant stays low on Soil fertility even with Pokon fertilizer?	UnityOfPurpose	9	12qxdsg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qxdsg/mi_flora_plant_stays_low_on_soil_fertility_even/	So I have a Mi Flora Plant, using the Flower Care App. I've added the Pokon fertilizer but the Soil fertility value does stay low around 200 (where as -20000 can be obtained). Any idea's what's going on?	10	"[""purayesca: Ya, I have a few of those and I really don't think they're accurate. I stopped using them."", 'pixel_of_moral_decay: I just use them for measuring light and moisture.\n\nI’m not sure I’d trust the fertilizer reading.', 'wsdog: You really trust some cheap sensor from China?', 'm2ellis: Yeah, mine also reports low usually. It spiked up once when I was actively adding fertilizer but back to low quickly. Don’t think it was ever in range for the plant though. I suspect it just isn’t very accurate maybe, unless my plant is extremely underfertilized lol', 'UnityOfPurpose: What did you see and notice? Did you later find a good alternative or  build something yourself?', ""Incromulent: Same here. The fertilizer reading seems to be largely tired to moisture, so it goes way up when I water the plants even if I don't add any fertilizer"", 'Haunted_Furby: Bro where do you think sensors are made 😂', 'UnityOfPurpose: What do you suggest next to using your brains?', 'purayesca: The plants were all the same and were cared for the same way but the readings were far away from one another. All of the sensors were off, not just the soil. \n\nI never figured out a replacement because I was over it at that point.', 'Titan_Zero: You could try to build your own: [https://www.reddit.com/r/homeassistant/comments/wwfhqb/bparasite\\_sensors\\_ready\\_to\\_final\\_assemble/](https://www.reddit.com/r/homeassistant/comments/wwfhqb/bparasite_sensors_ready_to_final_assemble/)  \n\nI have not tried this yet, but it is on my list when I have time.']"
1681838337.0	18-Apr-2023 10:18:57	Please HELP!!! Zwavejs2MQTT	xX500_IQXx	4	12qx2iv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qx2iv/please_help_zwavejs2mqtt/	"Hey all. Long time ha user here. I used to use it about a year ago, but since then, had to disable it to use the pi somewhere else. I did make a backup. Well, ive tried to get it working again. I restored the backup, which had all my devices on zwavejs2mqtt (or now zwaveUI) still existing. I had the same aeotec stick, so I plugged that in, but no matter what I do, it wont connect to the devices. Ive reintervied them, healed them, reset HA multiple times. What can I do so that I dont have to completely re add the devices and lose all my automations? First pic is of the zwavejs integration, second is of the ZwaveJSUI addon. 

&#x200B;

&#x200B;

https://preview.redd.it/8r5yeae7foua1.png?width=2306&format=png&auto=webp&v=enabled&s=e43cd0b812b7b886b136fd6e756b0b7034f6dc69

https://preview.redd.it/wa5c2de7foua1.png?width=2162&format=png&auto=webp&v=enabled&s=b5355aaddcf740aaa29e86e53919d90176a17474"	4	"['InertLeaf: Did you copy over your S0, S1, and S2 keys?', ""cornellrwilliams: When you include a device into the network the security keys get copied to that device. If you change the security keys then you won't be able to communicate with that device anymore. All of your security keys are stored in the config of ZWaveJSUI. Also the devices that are displayed as sleep need to be woken up to be re interviewed.\n\n\nIf you do decide to exclude everything and start fresh I have some tips to save you time.\n1. Backup the nvm of your USB. This will give you a save point to restore to so you can try different recovery options.  \n\n2. Normally when you include and exclude devices you have to do them one at a time but if you use simplicity studio you can exclude multiple devices at once. You simply put the stick in exclusion mode then go to every device and perform the exclusion sequence. Because you don't have to put the hub into exclusion mode everytime you can just go from device to device.\n\n3. I believe home assistant automations are linked to device names so as long as your device has the same name when you readd it then you don't have to redo your automations.\n\n4. ZWaveJSUI has a replace function that allows you to replace failed nodes. You would take your USB offline then reset every device then reconnect to the USB then perform a replace failed nodes for every device."", 'xX500_IQXx: I guess not. Theres no way that I see to get them either so I guess ill have to redo everything', 'InertLeaf: I did this recently too and luckily I had a backup of my original SD card so I loaded that up to find the keys. Otherwise, I think you do need to factory reset all your devices and re-pair them.']"
1681837350.0	18-Apr-2023 10:02:30	It's happening... The Nest Thermostat is getting Matter support starting today	samtka	48	12qwe76	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qwe76/its_happening_the_nest_thermostat_is_getting/	"It's finally happening. Google's long-awaited Matter support is rolling out for the Nest Thermostat.

The update will roll out over the course of the next few weeks. Mind you, this announcement pertains to the Nest Thermostat (2020), which has a flat mirror face and no rotating bezel. Although the hardware is capable, Google has not yet committed to bring Matter integration to the Nest Learning Thermostat and Nest Thermostat E.

[https://www.theverge.com/2023/4/18/23687751/nest-thermostat-matter-support-apple-home](https://www.theverge.com/2023/4/18/23687751/nest-thermostat-matter-support-apple-home)"	30	"[""thatguygreg: Still reporting everything back to Google, I'd imagine"", 'AdvisedWang: Does this mean it will be usable fully locally?', 'melbourne3k: Looking forward to their Matter doorbell integration.\n\nGoogle gets a lot of shit about their smart home shit - and rightly so - but glad to see this happen.', ""mistahclean123: This is cool and all but I still wish Nest would add more important features, like being able to run a multi-stage HVAC.  I just got a brand new Carrier system and had to remove my Nest because it's not smart enough to handle how sophisticated my new setup is.\n\nThis is obviously not ideal because I have Nest device all over my house, including Nest Protect on the ceiling.  I did integrate my home assistant instance with the carrier app, but The voice control through Alexa is much more clunky."", 'Home_Assistantt: rather than Matter Support...where is the API access to boost hot water.......', 'Solicited_Duck_Pics: Thankfully Starling hub exists for the rest of us.', 'DaisyLee2010: Is there a way to pair this thermostat with something like the Aqara temp sensors? To kind of replicate the old nest or current ecobee setups?', ""James_Vowles: I still haven't migrated my nest account to a google account so I imagine I'm not getting updates? No setting in the nest app for updates.\n\nMaybe once this becomes stable with home assistant I'll finally migrate over"", 'smiller171: Well if you integrate with Home Assistant through Matter, you could theoretically firewall off its internet access.', 'ayyycab: Oh no they’re gonna know how cold it is in your house and bombard you with ads for snuggies', 'drowningblue: Yes, any matter device can be controlled locally granted you have the correct hub.', 'andy2na: have they announced matter support for all of their nest doorbells, including the old wired hello?', 'ivanatorhk: Starling hub still requires an Internet connection, so you may as well just use the HASS integration', ""samtka: No straightforward way to do this within Google's ecosystem. However, if you're using Home Assistant, you can create automations that update the temperature set point of the thermostat based on Aqara temperature sensor data."", 'MikeDeansMustard: 100%. Connect the device to an SSID / VLAN without Internet access, but allow Home Assistant to reach it over whatever ports are in use for Matter. Local control via Matter through HA, no Internet access for Google.', ""luckymethod: Does anyone realize that Google doesn't actually fo that? It's even in the TOS."", ""Marioawe: They said fully locally though. I wouldn't put it past Google to somehow still require internet access so it can report back, meaning no firewalling it off"", ""DaisyLee2010: Matter does not support cameras at all in it's current spec. The organization behind it hasn't gotten everyone to play nice yet"", ""DaisyLee2010: Like based on certain time if sensor A above 70 turn thermostat to 69? That kind of thing?\n\n&#x200B;\n\nI don't think it would particularly be that hard. I don't do presence based cooling so that makes it easier"", 'PM_ME___IDK_WHATEVER: Is that a guarantee though? There are lots of devices that can be *controlled* locally but will basically refuse to operate without an internet connection.', 'ilikedatsyuk: I get what you’re saying, but isn’t it better not to reward bad behavior with money from your wallet?\n\nThere are other local-first or local-only options available like Honeywell Z-Wave or Venstar.', '_Rand_: Well, theoretically they could make them have a fit and refuse to work if you cut them from the mothership.  But yeah, technically speaking they should be able to work fully local.', 'drowningblue: Still a step up from the current convoluted hell needed to integrate Nest devices into HA', 'MowMdown: It currently does not need internet access to operate. It’s a thermostat', 'samtka: Yes, exactly as you described.', 'MikeDeansMustard: It is a guarantee - that\'s the whole pitch with Matter. It\'s effectively an open standard of controls much like an API would be, except it\'s not unique from device to device, vendor to vendor, etc. \n\nFor example, a door lock vendor has a few specific functions:\n\n-\tDoor Unlock\n-\tDoor Lock\n-\tStatus\n-\tBattery reporting\n\nThese are generic functions that, when the vendor says they ""support Matter"", they\'ve built those local function calls into their device.', 'PM_ME___IDK_WHATEVER: But that still doesn’t answer the question. You are talking about local control. I’m talking about the device functioning without an internet connection. You can have a device that can be locally controlled that still doesn’t work without an internet connection. \n\nThere are tons of them already on the market. For example, there are lots of security cameras that support onvif, but error out and stop capturing video if you prevent them from phoning home, so while you *can* view the footage purely via your LAN, you *can’t* block the camera off from the internet. A device having a local API and requiring an internet connection are not mutually exclusive.', ""mekaneck84: >A device having a local API and requiring an internet connection are not mutually exclusive. \n\nI'm just an onlooker in this thread but thanks for this comment. I hadn't considered this before but you are absolutely correct. This will now be a consideration whenever I start getting into Matter."", 'primoslate: Google they will not make it easy to use any of their products without active internet connection. It will probably be possible to spoof this but I’m not interested in an unstable ecosystem of workarounds that could be borked at any time. Matter is new so I’ll want to keep allowing software updates which will most likely patch any custom workarounds. I’ve accepted that if I want to use Google Nest products, they’ll need to phone home to Google however I would love to be proven wrong.']"
1681836750.0	18-Apr-2023 09:52:30	Blue Iris Remote Clips	Cyberlytical	1	12qvxjq	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qvxjq/blue_iris_remote_clips/	"I recently got HA and Blue Iris configured at my new house after getting away from Nest. I am curious on how everyone views alert clips remotely. I prefer not to expose BI to the internet since it lives on my IOT VLAN with the cameras. I want to be able to get a notification with a picture that I can action and view the clip even while outside my house, but I want it to all be within HA if possible. I tried using a webpage card but that unfortunately resolves through the device you use it on and not HA itself.  So how is everyone accomplishing this? 

&#x200B;

Any advice/tips is much appreciated!"	8	"['Cyberlytical: The documentation for this HA is laughable, after 12+ hours of searching all I can find is a 2 year old post that is out of date and broken as of 07/22.', ""w1ll1am23: I tried to get this working for a long time without any luck. Just moved everything over to Frigate about a month back and so far that's working better than blue iris for notifications and flagging events consistently. \n\nThe best I got with blue iris without it exposed was having blue iris send the image via FTP to another box HA had access to and send an MQTT event when detecting motion and then grabbing that image to send in the notification. The issue was the delay of that and the complication of the flow made it not very reliable. \n\nBefore moving to Frigate I just exposed blue iris behind nginx and used its mobile app notification functionality. \n\nSide note you mentioned that the home assistant documentation sucks which I agree it could use improvement (but it's always improving) what you are trying to accomplish is really more of a hack to get data from blue iris to HA so I don't think there is really much documentation wise that would help in this case.\n\nHopefully someone with more patiences than me figured out a better way to do this though."", ""Cyberlytical: That's really unfortunate. I refuse to go to Frigate until they have gpu support for object detection. There's no reason I can't use my P4, which can alert me within 250ms of something happening while decoding at the same time.\n\nIt's also really poor implementation of the webpage card. There should be a way to point to internal domains and not resolve through the device you are on. \n\nI appreciate your response. I'll continue my efforts until frigate gets gpu support and I can drop Blue Iris."", 'w1ll1am23: Idk about the specifics, but the latest release of Frigate does support GPUs. \n\n""NVidia GPUs may be used for object detection using the TensorRT libraries.""\n\nhttps://docs.frigate.video/configuration/detectors', ""Cyberlytical: Well now I feel like a jackass. I looked at this not even a month ago and it didn't say that.  Thank you!"", 'w1ll1am23: Just came out last week I think.', 'Cyberlytical: Of course right when I buy BI', ""w1ll1am23: Oof that sucks. BI is still great and I've only been using Frigate for a month like I said so I could end up switching back if I find it to be unstable. Just being able to remove the only windows box in my setup and getting notifications with all the other HA stuff factored in makes Frigate worth it though so chances are slim. Worse case I'd use BI for the NVR and Frigate on top for the notifications.""]"
1681835515.0	18-Apr-2023 09:31:55	Indoor Air Quality sensor - help me pick	bezlinn	7	12quyl8	homeassistant	https://www.reddit.com/r/homeassistant/comments/12quyl8/indoor_air_quality_sensor_help_me_pick/	"Hi, I'm unable to decide which air quality sensor to pick. It should be prebuilt, CO2, PM 2.5, humidity sensors and home assistant compatible for future integration. These are my 2 picks:

[Awair Element](https://www.amazon.de/-/en/AWAIR-Innovative-detector-temperature-chemicals/dp/B08VWQBPRD/ref=sr_1_5?keywords=awair+element&qid=1681834598&sr=8-5) \- 100EUR, I like the design, have all the sensors, but it does not have the best reputation due to crypto phase of this product, I also red that HA integration was bricked for couple days due to some update, later fixed, but kinda scary.

[Airthings View Plus](https://www.amazon.de/-/en/Airthings-2960-View-Plus-Intelligent/dp/B097YW5Q72/ref=sr_1_18?keywords=awair+element&qid=1681834598&sr=8-18) \- 266EUR, It does all I need pretty well according to reviews, but the price point is quite high and hard to justify for me.

Any advice is welcome, maybe you have a different sensor recommendation."	38	"[""TabooRaver: If you want to support an open hardware project there's airgradient in the ~100$ price range.\nhttps://www.airgradient.com/open-airgradient/shop/"", 'sauberflute: I have one of the Airthings Wave Plus. Seems to be pretty accurate for radon and has an actual CO2 sensor (these sensors are expensive and power-hungry so most sensors fake it with a TVOC sensor).\n\nI work in the basement since Covid and radon was at 14 (>2 after mitigation) so I keep a close eye on it.\n\nI use ""Airthings BLE"" (local) to get the data into HA: [https://www.home-assistant.io/integrations/airthings\\_ble](https://www.home-assistant.io/integrations/airthings_ble)\n\nI also have an Inkbird INK-CO2W in the kitchen to monitor the stove. This also has an actual CO2 sensor. It speaks Tuya, so I use ""Local Tuya"" to get the data into HA.\n\nIf you actually care about CO2 and radon you don\'t have too many choices.', 'devzwf: Please have a look at [Open air gradient](https://www.airgradient.com/open-airgradient/) if you want to have some fun  \n\n\nIf you want plug and play then [Airgradient](https://www.airgradient.com/)  :)', ""live_archivist: Minor self-promotion here - mods feel free to let me know if i should remove this.\n\n\\---\n\nMy business partner and I are in active development of air quality sensors that cover: Temp/Humid/Pressure/VOC/CO2/CO/PM1.0/PM2.5/PM10 and a few other items. It will have open source code running on it, offer a native Home Assistant integration with Local Push, and MQTT (with Auto-Discovery configured properly in the MQTT payload). \n\n\\*\\*Note:\\*\\* We will also offer an \\*\\*optional\\*\\* SaaS front end as well. \n\nThe home based sensor is the second in our queue for design, as the first is targeted for a more mobile use case (when you're wanting to go into a restaurant for example), because our prime target audience are people that are Immunocompromised or do not feel safe in public. They would be able to carry these sensors with them and get up to date readings on air quality around them, as well as optionally contribute back the air quality info to a database that would enable other folks who may not have the sensors to still check more granular air quality data. The mobile sensor would use an app on your phone to connect over bluetooth and then optionally send the data to our SaaS front end or possibly direct to your home assistant installation (more to work out there - probably through a webhook).\n\nI have no idea on timeline to being able to have an end-user facing device, but we will be opening up for some beta testing this summer. \n\n\\---\n\nNow, I have some bigger dreams for the sensors, particularly when it comes to the home use-case. I want to offer a few physical designs: Table-top (wifi/eth), in-wall/ceiling (PoE), and outdoors. \n\nThe in-wall/ceiling units would have some optional sensors that could be added like the Person Sensor from Useful Sensors, or noise/lux/other. We could also consider putting in an optional mic array and integrate with a local voice assistant - sky is the limit. The goal of these sensor suites would be that they look just like another wall plate or ceiling round plate. \n\nI'd love some feedback on if this is something the community would want. We're building these to solve our own personal problems, but would love more input here. (We're both Home Assistant users)"", 'supergerrit: Ikea also sells a very nice air quality sensor, it seems to meet all of your requirements [link](https://www.ikea.com/nl/en/p/vindstyrka-air-quality-sensor-smart-00498231/). Its about 40 euros and can also transmit the information to your hub.', 'TechInMyBlood: I would avoid Awair like the plague, they bricked a bunch of devices that were perfectly fine to force obsolescence.', ""noslab: Aqara has an indoor air quality sensor that's like $40. It has a temperature, humidity and VOC sensor.. No CO2 though..."", 'wsdog: I have a radon sensor from Airthings: works great via BLE. I only look at radon as other readings are not actionable.', 'bcexelbi: No CO2, but the ikea sensor seems nice so far and paired to my Conbee in HA almost immediately.', 'uosiek: Esphome, Senseair S8 and Sensiron SPS30', 'billm4: have the Airthings hub in my house with a mix of 7 different sensors units (mini, plus, and wave). agree the price is steep, but works flawlessly and integrated easily into HA. i have a sensor in each bathroom and use comparison of the humidity sensors to adjacent room humidity to control exhaust fan automations.', 'm2ellis: I actually have both of these devices.\n\nThe awair I’ve had for longer and works great with the local API. I do have some concern about them changing the firmware tbh so I might cut it off from the internet at some point if I redo my network. \n\nThe Airthings device also seems to be working well so far. It’s Bluetooth so that means it works locally as well (as long as it’s in range) and was detected by HA right away. My biggest problem with it is the lack of a PM2.5 sensor mostly.\n\nIf you have specific questions about them I can try and answer them.', 'HisCromulency: $13.80 | PM2.5 Air particle/dust sensor, laser inside, digital output module air purifier G5 / PMS5003 High precision laser pm2.5 sensor\r\nhttps://a.aliexpress.com/_mLfzj6Y\n\n$19.49  | MH-Z19 MH-Z19B Infrared CO2 Sensor Module Carbon Dioxide Gas Sensor for CO2 Monitor 0-5000ppm 400-5000ppm MH Z19B NDIR\r\nhttps://a.aliexpress.com/_mLK61is\n\n$0.66 | DHT11 Digital Temperature and Humidity Sensor DHT11 module For Arduino\r\nhttps://a.aliexpress.com/_mNRRzCk\n\n$1.72 | WeMos D1 Mini Pro V3.0 NodeMcu 4MB/16MB bytes Lua WIFI Internet of Things Development board based ESP8266 CH340G Nodemcu V2\r\nhttps://a.aliexpress.com/_m0do6RA\n\n+ wires, solder iron, prototype board, 5v power supply, case', ""Into_the_groove: I also have an Airthings Wave Plus. No real complaint about the device. It's pretty accurate vs other sensors/professional tests. \n\nMy only complaint HA and BLE tend to be spotty. my airthings drops from HA periodically. Maybe I don't have the polling period set up right or something else. I just get spotty integration. I could set up a rpi4 to poll BLE and spit it to my MQTT server, but that's just more work."", 'shihchiun: Note that the Wave Plus does not do PM2.5 (or any size). Otherwise works well.\n\nMain selling point for me was definitely the radon sensor.', ""stalkingturkey: \\+1 for Airthings Wave Plus.  It is much cheaper than the View Plus, and all you really lose is the WiFi capability (don't need it with the Airthings BLE integration option), the LCD display, and the PM 2.5 sensor.  If you need PM 2.5, you can build your own for less than $50 using something like [this](https://www.amazon.com/gp/product/B07S5YX84W/ref=ox_sc_saved_image_10?smid=A2ZDGCOOU4F0SF&th=1) with an ESP32 inside a vented enclosure, it's on my todo list.\n\nI don't believe the Awair has Radon detection, which was important to me, hence why I went with Airthings."", 'bezlinn: I really like the carry-on version you are developing, will be very helpful for a lot of people.\n\nLet me know if you will be interested in EU beta tester for your home based sensor.', 'GovernmentEvening328: This is something I would buy.   Please advise on if you are looking for beta participants', ""severanexp: Hum....\nIm smelling a Bme680 + pms5003...\nDon't forget to check out bosch new particle sensor the bmv080. Fan less, noiseless, maintenance free."", ""Shooter_Q: I really wanted one of these but they haven't had great availability, at least not in the US.\n\nhttps://preview.redd.it/u3wuy9zf1sua1.png?width=1633&format=png&auto=webp&v=enabled&s=9c421680165eafed9515d108d86b9d2c6f87fefc\n\nI opted for the [$10 USD  VINDRIKTNING + D1 Mini combo](https://www.youtube.com/watch?v=BQ222qzYUqw) to [translate the PM to AQI](https://blog.horner.tj/indoor-aqi-home-assistant/) for my dashboard since we already have other sensors per floor. Also, since it's brand new, seems like [development for HA support via ZHA](https://community.home-assistant.io/t/ikea-vindstyrka-zigbee-air-quality-sensor/549747/14) or [Z2M](https://www.zigbee2mqtt.io/devices/E2112.html) is still getting ironed out. I imagine this will be a very popular option for HA users in a few months when people have it completely integrated and when there is actual stock. I hope it helps to decrease prices and increase features of future sensors from all brands.\n\nStill looking out for the a great all-in-one sensor for when I start fresh with a new home."", 'ScottRoberts79: if only it was ever in stock.', ""bezlinn: Yeah, them bricking the device is what I'm worried about, but it seems like the best deal right now."", 'Shooter_Q:  No PM2.5 or PM10 either. The holy grail of TVOC, PM, and CO2 all in one with the added temperature and humidity seems to be something you really had to have planned ahead for at the highest cost.\n\nThe AWAIR Element is worth the $150 USD cost in my book if you’re counting on using all of the onboard sensors and aren’t creating any redundancies, but I too am fearful of them getting bricked as well as the wild price fluctuations.', ""mailtest34: VOC sensor in Aqara device is no good, not even close to any practical value, unfortunately (it's the cheapest one, and I like the screen)"", 'amraohs: This sensor is the worst, readings are off, status updates take minutes and you have to remove the battery sometimes because it just stopped working.', 'tmckearney: That covers co2 and PM. How about Radon and ask the other stuff?', 'm2ellis: Oh also I didn’t pay full price for either of them. Id check eBay first, that’s where I picked up mine. There was also a  pretty big discount for the Awair floating around recently iirc.', 'live_archivist: Will do!', 'live_archivist: I’ll start taking a list of anyone that responds and would be interested. I will reach out when we get a bit closer to a public beta', ""supergerrit: Yeah this is a really nice solution. Just don't trust the color of the LED, this information seems not to be very accurate. [Here](https://www.airgradient.com/open-airgradient/blog/ikea-vindriktning-accuracy/) is a guy that did some analysis on this. The LED stays green or yellow even when the air is quite unhealty."", ""noslab: I mean, I've never had issues with it. It might not be 100% accurate but for my use case that's a non-issue. I average all my sensor values anyway so I don't care if one is slightly off. Plus these have calibration options if you want to go that way.\n\nNever had to remove any batteries either. Mind you I'm not using the Aqara hub, but Zigbee2MQTT for all my Zigbee stuff. Updates every 60 seconds and that duration can be configured as well.\n\nMaybe you got a faulty one? I have like 6 of these spread around my house.."", 'live_archivist: As someone that’s developing IAQ sensors right now, radon is tough. There aren’t a lot of reasonably small sensors that hit the right price point for most of these devices and Radon is really fairly steady in output. I have a radon sensor in my basement (without mitigation yet) and it rarely changes. I agree that it’d be worthwhile to add if the right hardware was out there, but I’ve yet to find what I’d want when building a product.', 'Nyghtshayde: More than happy to participate in beta testing. It sounds like a great project.', 'KoopaTroopas: That’s definitely something I’d be interested in as well, more than happy to help beta test when you get to that point', 'xJawlz: Samesies Please', 'EnonGator: Definitely interested in being a beta tester for you!', 'Shooter_Q: I read that article as well before I made the purchase, but IMO those three colors, even if correctly scaled, was never going to be granular enough to trust, especially since the WHO has changed their scale and exposure recommendations before. I think that might be why they dropped the price.\n\nI did the D1 mini addition precisely to pull granular data so that I put it on a more precise gauge, accepting that the LED is not as precise as a laser module.\n\nhttps://preview.redd.it/72d6kgneyvua1.jpeg?width=1125&format=pjpg&auto=webp&v=enabled&s=e6f3360d6f2bf5e66b816870990a17ed8a15acac\n\nAs for the stock device, one can only think: “Green MIGHT be good or at least acceptable, but anything other than green and I NEED to get my fan-filters going.” Similar mentality to seeing and not seeing bugs in your home.', 'amraohs: Maybe I have a faulty one, but I see a lot of people having the same problems. Or maybe theres a new version of it. \n\nAqara tried to fix it with a firmware update where it reboots once a day, after this update it doesnt happen to often anymore but still once every one or two months. Still the readings are almost all off a little bit, tried to calibrate but that only makes it correct in a small range.']"
1681833114.0	18-Apr-2023 08:51:54	External viewing	logannm	2	12qsxus	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qsxus/external_viewing/	What's the easiest way to view HA away from home?	15	"['Marc-Pot: If no experience in any other way definitely the Nabu Casa subscription. Also supports the creators as an added bonus.\n\nThere are free ways, but these need more work and potentially open up your home network for attackers.', ""ewlung: Cloudflared add on. It's also relatively simple to setup and works really well. You need to have domain name though."", 'KnotBeanie: Nabu casa is by far the easiest way to get remote access going.', 'Giannis_Dor: you can use tailscale if you cant open ports\n\nor use a self-signed certificate ,open a port and get a ddns from duckdns\n\nuse cloudflare tunnels\n\nor use a VPS and forward hass port with this [guide](https://www.jeffgeerling.com/blog/2022/ssh-and-http-raspberry-pi-behind-cg-nat)\n\nif you need any help let me know', ""clintkev251: Nabu Casa if you're a beginner. It's dead easy to set up and will provide a safe point of ingress to your instance, and some other features as well related to things like google home and Alexa. If you know what you're doing you can set up a reverse proxy and/or use a Cloudflare tunnel"", 'MadEquinox: As a new HA user, I am using Nabu Casa. I can honestly say it can’t get any easier. Have it configured in a couple of minutes and works well away from home.', 'PADFTGW: Simple is VPN to your home router. Or DuckDNS/Nginx combo or the payed Nabu Casa option.\n\nI use option 1 and 2.', 'AhhaaEhhee: Whatever DNS service provided by your internet router producer.', ""remarksbyilya: I know we're not in r/homelab and what I am about to recommend is most definitely not the easiest way. It's more suitable for technical-minded folks and involves using Docker, Cloudflare, and Authentik:\n\n1. **Enable HTTPS for your HA**: Use a docker-compose file to run both Traefik and HA on Docker. This will provide your HA installation with a secure HTTPS certificate. Check out the relevant links for [Traefik](https://traefik.io/)\xa0and\xa0[Docker Compose](https://docs.docker.com/compose/).\n2. **Run** [**Cloudflare Tunnel**](https://developers.cloudflare.com/cloudflare-one/connections/connect-apps): Add the Cloudflare Tunnel docker image (cloudflare/cloudflared) to your docker-compose to securely connect your local network with a local HA instance to Cloudflare's network without opening any ports or exposing your home's IP address.\n3. **Implement** [**Authentik**](https://goauthentik.io/): Set up your own flexible authentication system\xa0and integrate it with HA via the\xa0[BeryJu/hass-auth-header](https://github.com/BeryJu/hass-auth-header)\xa0HA plugin. This adds another level of security by managing access to your server.\n\nNabu Casa is a great way to support HA development. However, by using the above stack you can avoid the monthly fees from Nabu Casa while securely accessing your HA server remotely. Keep in mind that while this method requires more technical expertise, it offers greater flexibility and control.\n\nOnce set up, if you enter your HA URL into a browser, you will be prompted to log in via Authentik and then be redirected to HA. The cookie expiration is fully configurable. The best part is that you can also use the iOS and Android HA apps if you set up Authentik in a certain way.\n\nI'll be honest and say that this took me some effort to setup. But now that i have it, I'd love to share my work, so reach out if you're up for this.\n\nI run many other self-hosted containers so i needed a secure generalizable solution for remote access."", ""LXPeanut: I'm just getting set up my plan in to use Naba Casa initially and then I'll work out the free ways later when I've mastered the basics."", 'tungvu256: ZeroTier.\n\nfree. secure. extremely fast to get it up n running as seen here [https://www.youtube.com/watch?v=STVNv7W-AZA](https://www.youtube.com/watch?v=STVNv7W-AZA)', 'logannm: Good to know.', 'mscottco: Does the cloudflared setup allow you to whitelist clients  that are able to access your instance?', ""Paid-Not-Payed-Bot: > or the *paid* Nabu Casa\n\nFTFY.\n\nAlthough *payed* exists (the reason why autocorrection didn't help you), it is only correct in:\n\n * Nautical context, when it means to paint a surface, or to cover with something like tar or resin in order to make it waterproof or corrosion-resistant. *The deck is yet to be payed.*\n\n * *Payed out* when letting strings, cables or ropes out, by slacking them. *The rope is payed out! You can pull now.*\n\nUnfortunately, I was unable to find nautical or rope-related words in your comment.\n\n*Beep, boop, I'm a bot*"", ""ewlung: I don't know, but you can ask here:\n\nhttps://community.home-assistant.io/t/new-add-on-cloudflared/361637""]"
1681832799.0	18-Apr-2023 08:46:39	[NODE-RED] Scheduled flows doesn't start at configured time	CrashOverride93	2	12qso0n	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qso0n/nodered_scheduled_flows_doesnt_start_at/	"Hello,

I would like to ask if someone else is experiencing the same ""issue"" as me, and another user I know.

The problem is that not all the flows I have configured with a timer node, starts at the (exact) time that is configured on them, but 20, 30 or 40 seconds after. It doesn't happen with currently running flows (loops, for example) that needs to be stopped after a certain looping time, or at a specific time.

**For example:**

I have a flow that turns on the water heater by turning on the smart plug, at 03:00 AM. Then, it turns it off at the configured time.

By the other hand, the delay doesn't happends when it's turn off. Also, for the flows below it (loop).

https://preview.redd.it/3hzfa80gynua1.jpg?width=1177&format=pjpg&auto=webp&v=enabled&s=487ec032f4386e1adafb4fdd8efc3785547bc469

Do you know something about it?

**My Setup:**

* NodeRED is installed within Home Assistant OS (supervised), and HA is installed in a VM (Proxmox Host)."	4	"[""mrtramplefoot: Is that the only place you're using big timer?  It's a pretty complicated node, so it might just be processing everything in the node.  If you're really just trying to send a single command at a set time, I would just use an inject node like you're doing for the off."", ""CrashOverride93: In that specific flow, yes. It's the only place at where the Big Timer node is used (top).\n\nAnd, I decided to use it instead of the Inject node, because I need the node to send the signal repeatedly, once started, because of the plug. The plug turns off by itself automatically if it looses the connection with the coordinator (or other router), even if it lasts for ms, the plug won't turn on after that: FW problem (didn't get fixed by the devs). And, adding that node I can make the flow much more simple than having to build a loop task just for this."", 'mrtramplefoot: If you just turn the plug on from HA is it instant?  If it is, I would at least try an inject with a loop to see if it works/if the problem is the big timer', 'CrashOverride93: When I turn on the plug from HA (or NodeRED, using Inject node in manual), yes. It turns on immediately. All is working in local.\n\nOk, I will try using the Inject instead.\n\nAnyway, another user (friend) is experiencing the same problem using the Inject node.']"
1681829045.0	18-Apr-2023 07:44:05	Plotting forecast data (openweathermap)? Why is this so difficult?	ZeppelinGrowsWithLED	3	12qpdxg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qpdxg/plotting_forecast_data_openweathermap_why_is_this/	"With the deactivation of Dark Sky API, I have been looking around for some replacements, and upgrading some dashboards as a product of this exploring.

OpenWeatherMap integration seems to have everything I need to do the fixing of already existing cards/automations, but as part of this upgrade I was hoping to re-create a view that my old Pebble watch had:  a plot of the next 24 hours -- including precip chance, temp, and UV.

Looking at the API docs, there are sensors for all of this data under the ""forecast"" weather conditions (eg:  `sensor.openweathermap_forecast_precipitation_probability`)  But when I attempt to plot this sensor data, it only shows historical data.  It's clearly a ""forecast"" sensor, but the only data I can get out of it is in the past... What is wrong with me?"	5	"['JCHHenderson: OK, so I do exactly this!\n\nHere is the openweathermap (one\\_call hourly) template sensor for temperature:\n\n    template:\n      - sensor:\n          - name: weather_temp\n            unique_id: weather_temp\n            device_class: temperature\n            unit_of_measurement: \'°C\'\n            state: ""{{ state_attr(\'weather.openweathermap\',\'temperature\') }}""\n            attributes:\n              forecast_state: |\n                {{\n                  state_attr(\'weather.openweathermap\', \'forecast\')\n                  | map(attribute=""temperature"")\n                  | map(""float"")\n                  | map(""round"",1)\n                  | list\n                }}        \n              forecast_time: |\n                {{\n                  (state_attr(\'weather.openweathermap\', \'forecast\')\n                  | map(attribute=""datetime"")\n                  | list)[0:48]\n                }}\n\nAnd here is how to show it on an apexcharts-card.  Note I have set `graph_span` and `offset` to forecast 48 hrs and show 24hrs history.  Adjust as you like.\n\n      - type: custom:apexcharts-card\n        graph_span: \'72h\'\n        span:\n          offset: \'+48h\'\n        [..]\n        series:\n        - entity: sensor.weather_temp\n          name: Forecast\n          show:\n            in_header: false\n          data_generator: |\n            return entity.attributes.forecast_time.map((peak, index) => {\n              return [new Date(peak).getTime(), entity.attributes.forecast_state[index]];\n            });\n          type: line\n\nHope it helps!', 'sembee2: Pirate Weather is considered the drop in replacement for Dark Sky...', 'ZeppelinGrowsWithLED: Yo!!!!\n\nThis looks perfect. I’m not WFH today, so I can’t try it until I get home, but thank you so much! A bit crazy that there aren’t more weather cards that display forecast info in graphs, but I guess that’s the beauty of open source projects!  \n\nThanks again, can’t wait to tinker with this a bit. Ill probably come back with some questions after I’ve had a chance to mess with it.', 'ZeppelinGrowsWithLED: I’ve tried using pirate weather as well, but something is broken with my integration, as I can’t get the individual sensors to show up. It was recommended to me in another thread to try deleting the integration, and reloading it, so I’ll try that when I get home. \n\nBut for now, openweathermap does everything I need it to do.', 'JCHHenderson: No worries - ask away.']"
1681828591.0	18-Apr-2023 07:36:31	history stats sensor data changing?	hermy65	1	12qp4zd	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qp4zd/history_stats_sensor_data_changing/	"I created a monitor to count how many times my sump pump runs and it worked great for a week and now today the number is getting lower and i dont understand what is happening.

Here is what i have for the history stats config:

      - platform: history_stats
        name: Sump Pump Running Counter 1Yr
        entity_id: binary_sensor.sump_pump_running
        state: ""on""
        type: count
        end: ""{{ now() }}""
        duration:
          days: 365

[Here](https://imgur.com/Pz6xG7E) is the history graph where you can see it was at a certain level and now keeps dropping for some reason even though it should be going up each time it runs and holding that data for a year (i think).

Im sure i just configured something wrong here but any idea what exactly i did wrong?"	4	"['JCHHenderson: Can you show the history of that sensor? I imagine it is dropping off as the data becomes older that the recorder setting for days to keep.', 'hermy65: Thats probably it as it stops when my recorder data is set to purge. Is there some other way for me to track this data for longer periods than my recorder data?', 'JCHHenderson: Absolutely. You can use something like InfluxDb or VictoriaMetrics to store long term data.', 'mekaneck84: You could create an `input_number` helper that would store the count. Change your history entity so it just reports the current day’s total. Create an automation that adds 1 to the `input_number` helper every time the running counter increases by one.\n\n```\n\n  - platform: history_stats\r\n    name: Sump Pump Running Counter 1d\r\n    entity_id: binary_sensor.sump_pump_running\r\n    state: ""on""\r\n    type: count\r\n    start: ""{{ now().replace(hour=0, minute=0, second=0, microsecond=0) }}""\r\n    end: ""{{ now() }}""\n\n```\n\nEdit: you don’t even need the history stats counter. Just create an automation that triggers when your sump pump changes state from off to on, and the action is to add one to the helper.']"
1681826032.0	18-Apr-2023 06:53:52	iSolarCloud - Can this be used in HA and also can it be monitored via Apple Home app?	AppleFan1010	3	12qntur	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qntur/isolarcloud_can_this_be_used_in_ha_and_also_can/	I have tried GoSungrow add-on but that doesn't work perfectly. Looking for alternatives.	0	[]
1681825965.0	18-Apr-2023 06:52:45	Kaadas K9 Bluetooth Lock - Can this be integrated to use in HA?	AppleFan1010	2	12qnsrf	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qnsrf/kaadas_k9_bluetooth_lock_can_this_be_integrated/	I have HA installed on RPi 4. Is it possible to use lock with HA to lock, unlock and other features and add them to HomeKit?	0	[]
1681825009.0	18-Apr-2023 06:36:49	Notified when Plex updates are available?	PhobicCarrot	1	12qnchi	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qnchi/notified_when_plex_updates_are_available/	Is there a way to get a sensor to tell me when there are updates available for Plex?	6	"['TrueCompetition7600: Tautulli.  Depending on what platform you run your server.', ""theastropath: For what it's worth, I've just been using this bash script to automatically keep my Plex server up to date: https://github.com/mrworf/plexupdate\n\nBetter for it to just happen automatically than to just be notified that you need to do it.  Seems to have been flawless over the last year."", 'GB_CySec: WatchTower does this and I get email notifications or I just have it auto update the container itself and restart it.\n\nhttps://github.com/containrrr/watchtower', ""5yleop1m: If you're on a Linux machine, check out cron-apt, it updates the whole system on a schedule with notifications included. It will update Plex too if you're not running plex in docker. \n\nIf you're running plex in docker, then watchtower or a similar container update tool can also keep plex up to date."", 'noslab: Cron-apt and unattended-upgrades work great for this stuff.\n\nI personally only use Debian servers so unattended-updates is my go to.', '5yleop1m: To appease the folks that will bring up botched updates, in addition to automated updates running everything in a VM or container so that the state before the update is backed up helps a lot. \n\nI use a mix of both, but for VMs I use Proxmox and Proxmox Backup Server takes snapshots of all my VMs daily so if an update does destroy the VM I can revert to a snapshot easily.']"
1681824516.0	18-Apr-2023 06:28:36	Aqara P1 motion sensor - missing temperature	Nurgus	2	12qn3x1	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qn3x1/aqara_p1_motion_sensor_missing_temperature/	"I just got an Aqara P1 because I thought it had motion and temperature in one package. Added it via ZHA and there's no sign of temps. Removed the batteries, deleted it from home assistant, added it again, several times, with no change.

Anyone else encountered this problem?

(related question, what's the difference between laszone and occupancy?)"	11	"['Mysterious-Bowler15: The P1 has no temp. sensor just Light and motion.\n\nThe FP1 has a temp sensor but just tell you the temp of the sensor hardware itselfs', 'tungvu256: fp1 does not have temperature as seen here [https://youtu.be/7IpCYyDwNtc?t=200](https://youtu.be/7IpCYyDwNtc?t=200)', ""yama1291: Apologies, but the P1 just doesn't have a temperature sensor. Have a look at the info box at the bottom of it's product page:\n\nhttps://www.aqara.com/en/product/motion-sensor-p1"", 'Nurgus: > just tell you the temp of the sensor hardware itselfs\n\nSeems like a strange distinction. Given the extremely low power consumption of these devices, the sensor hardware is only ever going to be marginally different to ambient.', 'Nurgus: [https://www.reddit.com/r/homeassistant/comments/12qn3x1/comment/jgqukeb](https://www.reddit.com/r/homeassistant/comments/12qn3x1/comment/jgqukeb/?utm_source=share&utm_medium=web2x&context=3)', ""Nurgus: Well that's.. odd! I was sure I'd read that it had a sensor and when I landed on the Amazon page I could see loads of reviews mentioning the temperature sensor. But there's no mention of it on the product.\n\nDid the older version have a thermometer?"", 'Mysterious-Bowler15: The FP1 is using a external power adapter and the temperature is much higher then the environment.  See the red arrow \n\nhttps://preview.redd.it/80a0ekxwtuua1.png?width=1048&format=png&auto=webp&v=enabled&s=5b3607f4e7911e21cabadd9c6b235353c9dbf7e8', 'yama1291: Yes, the first gen Aqara motion sensors have a temperature sensor.', 'Nurgus: Wow, external power adapter. OK I dodged a bullet then!', 'Nurgus: Dangit, that explains it. The Amazon product listing must have recycled the old version.', ""5yleop1m: If you're on an amazon page where you can select multiple types/versions of a product the reviews will be an aggregate of all the products on that page.""]"
1681823729.0	18-Apr-2023 06:15:29	Streamdeck alternative?	ChefMontanaCam	2	12qmqr9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qmqr9/streamdeck_alternative/	"Bought a streamdeck only to realize that detachable USB cable didn't mean it was a wireless device. I need to learn to read .

Are there any wireless devices similar that work with home assistant? I don't use my computer often enough to be tethered to it.  I also have a senior in the house that would really be attracted to the tactile touch of physical buttons"	15	"[""ETL4nubs: Would you be interested in a tablet? Here's my comment from 2 months ago:\n\nHey I just did this. I bought a refurbished Amazon Fire Tablet 10 (2019) for like 65 bucks and followed the guide here - https://xtremeownage.com/2022/07/08/fire-tablet-as-home-assistant-kiosk/#create-tablet-specific-dashboards\n\nI installed the Kiosk program and paid for the $7 license so that you can control most of it through HA."", ""signman10: I've been searching for something like that too, but haven't been able to find anything. The Remotex Z-wave Scene Master might be the closest thing and I'm considering getting it. [https://remotec.com.hk/remotec\\_product/zrc-90/](https://remotec.com.hk/remotec_product/zrc-90/)"", 'Whiffed_Ultimate: There are a myriad of programmable tenkeys for which you could make custom buttons. Mine is bluetooth for use in data entry on my surface pro.', ""kunigit: Before you return it, if you happen to have a Raspberry Pi, you should look at Companion Pi:\n\nhttps://bitfocus.io/companion-pi\n\nYou can run Bitfocus Companion on a Raspberry Pi, connect a Stream Deck via USB, and control anything that Companion supports over the network. I've experimented with Companion on my desktop, and I think it supports quite a bit of Home Assistant features.\n\nExample project that uses it:\n\nhttps://davidjoshuaford.com/production/companionpi/"", ""mccmax95: This is what I did, it's about $15 total\n\nhttps://www.reddit.com/r/homeassistant/comments/1281817/inspired_by_the_recent_positron_post_i_made_my/?utm_source=share&utm_medium=android_app&utm_name=androidcss&utm_term=1&utm_content=share_button\n\nCaveat is that you need to have a pc running but it is wireless if you get a Bluetooth numpad or keyboard"", ""ChefMontanaCam: I'll be doing this, but wanted a secondary device with physical buttons.  Thanks for the guide though!"", ""ChefMontanaCam: This looks promising! I haven't tried zwave yet, only ZigBee. This looks like it meets my needs though!  Thank you!"", ""ChefMontanaCam: I actually don't have a pi since I could never find one. My Home Assistant runs on an odroid."", ""ChefMontanaCam: Super cool! I just can't be bothered to have my PC on lol"", 'daredoes: Supposedly the ring alarm pad is Z wave', ""kunigit: You could maybe connect it to your odroid, but if you want to use it more than 1-2 meters away, you'd need another Pi-like computer with wifi. You could either wait for Pi availability to return, or you could attempt installing on a Pi alternative. \n\nCompanion Pi only fully supports Pi 4B, so you might run into issues on alternate boards. It would probably run fine on an odroid, but I'm sure a second one would cost more than seems reasonable just to run a remote button panel.\n\nOr you could use the Stream Deck at your computer for other things. Or gift it to friend/family."", ""melbourne3k: [https://github.com/basnijholt/home-assistant-streamdeck-yaml-addon](https://github.com/basnijholt/home-assistant-streamdeck-yaml-addon)\n\nThis will work on your odroid I believe.\n\nAlso,[rpilocator](https://rpilocator.com/) is the way to find a pi; some of these approaches you can use like a pi zero to run this. pi availability \\*is\\* getting better. I've been watching for 2 years and we're seeing more availability. Pi foundation says by q3, we'll have back to 2019 levels and while demand is up, they seem to be on track."", ""mccmax95: So I was just looking around because I was curious if you could plug directly into the device and it looks like [you can](https://www.home-assistant.io/integrations/keyboard_remote/).  This might work for you if you're interested."", 'ChefMontanaCam: That does looks promising! Thank you! Probably just use stickers or labels for the hot keys haha. Awesome !', ""mccmax95: Let me know how it goes!  I'm curious how it works""]"
1681823622.0	18-Apr-2023 06:13:42	Home Assistant OS 10: Better memory management, improved Thread support and now available for ODROID M-1	balloob	168	12qmox9	homeassistant	https://www.home-assistant.io/blog/2023/04/18/home-assistant-os-release-10/		85	"['youmeiknow: I am behind few updates. But it always goes wrong when I have OS and core updates\n\nIs there a sequence or steps to follow on which one to update first and do next kind of?', 'Vaenror: Installed with z2mqtt, frigate and scrypted, hacs and more. I had literally 0 problems. Everything works like a charm :)', ""alex3305: Just installed this in my unRAID VM and after it settled it all seemed fine. I'm really curious about this change though:\n\n> Network file system mounting support (SMB/NFS, Supervisor support will follow)\n\nThat would be a game changer for Home Assistant. Because than you could use Home Assistant OS as an NVR or Media Server."", 'Izwe: Thank-you to all of those who click ""Install"" instead of ""Skip"", you\'re doing god\'s work.', 'nightshade00013: The M1 would be nice for faster storage access and such but outside of that the N2+ is faster for both memory and processor.', 'astral_crow: Running Generic x86-64 on an AMD Ryzen 5 4600H with Radeon Graphics and 32GB of memory and running on an SSD and the update worked fine for me. I know my setup is a bit different but maybe this will let someone know they can safely update.', 'cryptk42: Another nice change in there for those of us on RPi4 and other slow-ish hardware, a tweak to journalctl has fixed the issue with logs loading painfully slow. My logs now come up basically instantly whereas before it would take 30s or more (if they loaded at all)', 'Pleased_Benny_Boy: It killed my MotionEye Addon :( It shows ""Bad Gateway 502"". I\'m on RPi4. Any idea how to solve this??', 'if_i_fits_i_sits5: Nice work! I’ll try updating this week. \n\nOn this:\n\n“Network Manager 1.40.16 has proven to work more reliably with third party Thread border routers, specifically with Apple border routers.”\n\nHow are folks getting their Apple based Thread border routers paired with HA? Where did you they get the pre shared key from?', ""an_entire_zebra: ~~I use Mushroom cards and they completely broke after updating. Didn't spend long troubleshooting, just rolled back to the snapshot I took before upgrading. Anyone else using mushroom?~~ Just tried again and it works fine now. So far so good. Boot issue mentioned below happened again though, but no big deal.\n\n&#x200B;\n\nI also noticed it wouldn't boot first time (Pi 4 running esxi off nvme) but power cycle the vm and it came right up."", 'HyperGamers: Nice :) updating now!', 'simracerman: Seems like a major update. How long did it take for the ones who updates successfully?\n\nUpdating on a x86 running AMD', 'Vast-Ad-9451: Euuh for me it blow up in my face.  \nThe update did not work. Home assistant wasnt even found with a network scan.\n\nAfter reinstalling my SSD it did booted and after loading my backup from yesterday (last version before OS10) it freezes again. Now still found on the network scan but not reachable in a browers or the app.\n\nAllready waiting for more than an hour,still not reachable.\n\nAnyone has this?  \n\n\nMy setup is on a P4 with an SSD', ""black107: Annnd ZwaveJS and ZHA are borked. Thanks, guess I'm rolling back to my last snapshot 🤦\u200d♂️"", ""clabern: Installed and it swapped my Zigbee and Z-Wave usb adapter serial ports. After fixing those all but one of my Xiaomi BT temp/humidity sensors seems to be working fine. Not sure what's up with that one sensor."", 'Philmehew: Hmm, will be very snapshotting and backing up my  zigbee config before I install this, as a core update absolutely destroyed my HA instance when I first started using it.', 'mager33: Running on an x86-Synology NAS in a VM. Any worries here? (Always a bit reluctant on the xx.0 versions)', '227CAVOK: Has the kernel issue for rpi that causes Bluetooth to hang been addressed too?', 'uberphat: All fine for me. Took a snapshot beforehand just in case. Process was all done in under 5 mins.', 'as_you_disappeared: Just updated my raspberry pi 3 and no trouble whatsoever 😉', ""daern2: RPi4 user here, just updated to HAOS 10.0.\n\nMosquitto didn't restart after the update, failing to listen on a socket. There was, however, an update available for the add-on (6.2.0) which I hadn't spotted and this fixed it. It did, however, screw up a load of entities but I did a full system restart and this seems to have sorted it all out. If you use Mosquitto through the add-on, check and apply this update before updating HAOS.\n\nOtherwise, looks ok. CPU utilisation looks pretty similar right now (I run Frigate on a few cameras, so typically sit at around 50% most of the time) and responsiveness seems good. Memory usage dropped from 55% to 45% post-reboot on a 4GB device.\n\nThanks guys - happy here."", 'Nebukad33: After the OS update I also had a high CPU usage. From 8% to 20%. \nA VM shutdown an start solved the issue. I’m back to 8%.', 'csimmons81: Updated just fine in a VM on Unraid.', ""Splurch: Please add a warning to the highlights section about incompatibility with some setups. I'm not using NVME but am using an SSD over USB and HA wouldn't start after the update. In the process of restoring an old backup (that's far older then I though my last one was) because I thought there was an issue with my system and not a problem on HA's end.\n\nNot having a change listed in highlights that will stop some users systems from functioning is baffling."", 'DrunkenGolfer: I always get core up to date and then do OS.  I have never had an issue.', 'jsonr_r: If you install them as soon as they are released, you have the best chance of having the same starting point that the developers themselves tested the upgrade from.\n\nSince the OS has just been released, I would update core first, and OS after that in case there are co-dependencies.  But if you are a few versions behind already, there is always a possibility that the current core depends on the previous OS release (though generally not if you are not using the new features like Thread, since the core is containerized and mostly bundles its own dependencies).', 'FFevo: I think this has been fixed.  IIRC the last time there was a Core and OS update the core update it forced me to take the OS update first.', ""rockhstrongo: I've always wondered about this."", ""ScaredyCatUK: I run in a vm using proxmox. I can do a full disk backup in minutes and roll back. It's saved me quite a few times."", ""kn33: How do you run it? I run it in a VM in ESXi. I just do a snapshot in case there's an issue, and roll back if so."", 'nico282: I had to restart the Proxmox VM to make z2m recognize the zigbee adapter again. Small inconvenience, everything else went smooth.', 'Lanten101: Where are you storing frigate recordings', 'angelwzr: I was thinking about SMB backups once I saw that line in the release notes. AFAIK you need a custom addon to do something like that right now.', ""Buelldozer: Yeah, I'm curious to see where that one is going as well."", ""Stooovie: Hmm, I've been doing that with a shell command for years, even on HAOS"", 'LNDN91: I think it means you can now mount network drives inside HA so it can access other places beyond the locally mounted drives.', 'michaelthompson1991: I always click update 😎', ""tobimai: I usually take a snapshot beforehand, then it's rolled back in seconds"", 'if_i_fits_i_sits5: Man, so many performance improvements lately. Great work everyone!', 'if_i_fits_i_sits5: Try hard rebooting? If you’re getting a 502 the add on is probably not running. Check the logs on your add on and make sure it’s running.', 'iridris: Does that rely on MQTT? If so, have you updated your MQTT addon recently?', 'Reasonable-Escape546: Do the following:\n\n- bring your device into pairing mode\n- pair your device with Apple Home\n- remove your device from Apple Home\n- don’t reset your device to factory defaults. It still connected to your Thread network.\n- now you see a new device in Home Assistant found by HomeKit Controller Integration\n- pair your device via HomeKit Controller with Home Assistant\n\nLook here at the chapter „Thread device support“:\n\nhttps://www.home-assistant.io/integrations/homekit_controller/\n\nAlternatively you can buy a SkyConnect and install your own Open Thread Border Router. You also need a Bluetooth Dongle or Bluetooth Proxy connected to your Home Assistant Instance.\n\n- bring your device into pairing mode\n- now you see a new device in Home Assistant found by the Bluetooth Integration\n- pair your device via Bluetooth with Home Assistant\n- open the device, there is an entity, to transfer your device to your preferred Thread network\n\nlook here:\n\nhttps://www.home-assistant.io/integrations/thread/\n\nThat’s it. 😃', ""The_Caramon_Majere: That's a great find,  and would have really pissed me off.  Sometimes new isn't better.  I'll stick with 9.5"", ""LiveMike78: Pi 4 running the latest mushroom. No problems updating for me. I'm running the latest across the board."", 'None: [deleted]', ""KartoffelToby: Same here, i just read that os 10 didn't Support nvme boot, i read this info too late, its a huge Problem that a Update can break an Setup totally.\n\nI try to Recovery to 9.5 tomorrow"", ""waka324: You're probably using /dev/ttyUSBX instead of the device-by-id path. The prior are NOT guaranteed to be in that order. Use thr device-by-ID paths."", 'if_i_fits_i_sits5: I think in the integration you can specify the device by ID or by vendor/product id. Best to go with vendor/product so if the ports get swapped it will use the correct one no matter what. \n\nThis should probably be default behavior if it isn’t already.', 'ProBonoDevilAdvocate: They did update BlueZ, so maaaaybee that fixed it?', 'if_i_fits_i_sits5: Same. About 3-4 minutes and so far everything seems to be working. Zigbee, Thread, and ZWave.', 'youmeiknow: Gonna try that, thank you!', 'semyag98: I forgot to snapshot but luckily my Synology had a backup.', ""Laucien: Yeah, right now I'm using the clone add on to sync to an SMB share but it's kinda finicky. Would love to just be able to mount the share as a backup directory."", 'if_i_fits_i_sits5: Thank you! I’ve done all this before and it works great. I’m using Eve MotionBlinds with SkyConnect, quite happy once I resolved some signal strength problems. Thread is WAY better than BLE. \n\nI’m eventually hoping to pair it with HomeKit directly using thread, and bridge it into HA using a HomePod (apple’s thread border router). That way I can still do firmware updates using the Eve app, and still get the best of both worlds (low latency control via Thread in HA, simplified installation process, etc)', 'Serinus: And once you get devices (say, Nanoleaf A19 bulbs) paired to your OTBR thread network... how do you control them from Home Assistant?', ""an_entire_zebra: Another user said they had no issue with mushroom after this upgrade. I might have missed something. I'm going to try again this evening and if it happens again I'll do some troubleshooting and see what's in the logs."", ""an_entire_zebra: I'll try it again a bit later so. Maybe I didn't wait long enough. Will try again this evening and do some troubleshooting if it happens again."", 'simracerman: I got mine to boot up successfully but it changed the static IP on the box so I thought it never came up.', ""crisprbabies: Where did you read it didn't support nvme boot? So far the only place I see anyone reporting that is a github issue that you opened. Not denying that it's a problem, just wondering if they've officially confirmed that."", 'None: [deleted]', 'Vast-Ad-9451: Thx for the replie. So yeah I totally agree.   \nDoes anyone now where to download the 9.5 version, every link is allready replaced bij the 10 version.', 'black107: Every previous update has been fine. Idk why they’d change now?', ""227CAVOK: I'll find out soon enough. I'll post S thank you if they did.  😀"", ""ThePantser: I hope to one day we have some verification of backups because too often my backups are missing files like automation.yaml or scripts.yaml and it's Russian roulette hoping my latest backup includes all my files. It's just a good thing with the Google drive addon I get daily backups and I can just sort through to find my missing files."", 'Reasonable-Escape546: > I’m eventually hoping to pair it with HomeKit directly using thread, and bridge it into HA using a HomePod (apple’s thread border router). That way I can still do firmware updates using the Eve app, and still get the best of both worlds (low latency control via Thread in HA, simplified installation process, etc)\n\nI don’t understand how you plan to do this.\n\nYou can pair your EVE HomeKit (not Matter) device to Apple Home. After that you remove this EVE device from Apple Home and it’s still paired to your Thread network of your Apple Thread Border Router. The EVE device still knows your Apple Thread credentials. When you now pair it to Home Assistant via the Home Assistant HomeKit Controller you are not able to do firmware updates of your EVE device anymore. At least this my understanding.\n\nOnly chance I see is to upgrade your EVE device to Matter and share the EVE device from Apple Home to Home Assistant Matter (Beta). That’s the way to go, if you want the best of both worlds. But at the moment you can only switch EVE Energy Matter plugs on and off and that’s it. There are no energy/current/wattage entities at the moment. So be aware.\n\nI have two of my EVE Energies connected to Home Assistant via the Home Assistant HomeKit Controller and then bridged the switch entities to Apple Home again via Home Assistant HomeKit (not HomeKit Controller). This way I am able to monitor the wattage entity with Home Assistant, but I am not able to update this devices until I reset them and peri them to Apple Home again.\n\nI have two further EVE Energies migrated to Matter and paired them With Apple Home and shared them Home Assistant Matter (Beta). It seems to be stable, there is no wattage entity, but I am able to update the device.\n\n🤨😂😃', 'Reasonable-Escape546: What do you mean?\n\nYou get entities, which you can control/automate by whatever you want as soon as you have the Thread device in Home Assistant.\n\nI have two of my EVE Energy Thread devices paired to Home Assistant via the HomeKit Controller to monitor the wattage and notify me when the washing machine or the tumble dryer is ready.\n\nI also tested the Open Thread integration, worked also for me. But I am slowly migrating my EVE Thread devices to Matter, so Matter (Beta) integration is more interesting for me.', ""The_Caramon_Majere: You're doing God's work lad,  interested to hear how you get on."", 'KartoffelToby: https://www.home-assistant.io/blog/2023/04/18/home-assistant-os-release-10/\n\n""NVMe SSD boot is currently not supported by the boot firmware. However, an NVMe SSD can be used through the data disk feature.""\n\nLooks its only a odroid thing. But i have a boot stuck issue on a CM4 with an nvme Waveshare Board too', 'schmu17: I’m so curious about this issue and wonder if I’m safe with proxmox vm and if the HA I setup for family member on RPi4 with ssd is good to upgrade?', 'KartoffelToby: Here under assets, you can Download the Image: https://github.com/home-assistant/operating-system/releases/tag/9.5\n\nIts the second time that an os Update Breaks the nvme Support. Its a little bit anoying. Even this time it looks like the Update Changes the Partition too. So its difficult to recover. Looks like a Backup safe, and a complete new install is to only way', 'd2k1: The Linux kernel and the subsystems responsible for device management can and will change the way and order in which devices are assigned and enumerated depending on many factors. With home assistant OS 10 the kernel version was bumped to 6.x (from 5.x) so now more than ever before you can expect devices to be handled differently. \n\nThis is the reason each and every piece of documentation recommends not using /dev/ttyUSBx directly but one of the stable and unchanging names provided by the device mapper subsystem.', 'if_i_fits_i_sits5: I see, perhaps I have a GCE (gross conceptual error)! In any case it’s a chance to do a deep dive on matter and thread which I want to do anyways. \n\nAt a minimum I’d love to reduce all the circus required to get a HomeKit Thread device added to Home Assistant. My understanding is that the challenge is getting the Apple Thread credential added to HA. Then you should be able to communicate to thread devices via the Apple TBR, without moving devices around.', ""Serinus: Yeah, no entities for me yet.  I can see the PAN ID of my OTBR and that my lights match it in the nanoleaf app. I can control them through thread on the nanoleaf app, but no controls or entities showing anywhere in Home Assistant.\n\nNot using homekit.  Trying to use matter and thread.\n\nMaybe I need to compile the matter server instead of just using the addon.\n\nI think matter doesn't have thread or network credentials.  I'm not sure which, I don't know how to get thread credentials, and I don't know how to supply them if I did."", ""an_entire_zebra: Just upgraded now. Everything looks like it's working fine.\n\n&#x200B;\n\nHad the same issue after installing, the reboot failed. Had to power cycle the VM then it came up without any issue (Pi 4 running esxi off nvme)"", 'Glenn_xyzzy: That’s out of context. \n\nWhat it says in the section for the new Odroid support is that NVMe SSD boot is currently not supported by the boot firmware.\n\nEdit: further details here: https://github.com/home-assistant/operating-system/blob/dev/Documentation/boards/hardkernel/odroid-m1.md', ""notalbymangels: I can't respond specifically to proxomx vm or to RPi4 as I'm using Lenovo intel SFF devices with HAOS on bare metal.\n\nI just remembered my i5 machine is booting from a SATA SSD (not NVMe as stated above), while my i7 machine is still booting from the OEM M2 NVMe drive.\n\nBoth are now running OS10, hardware rebooted both a few times and no problems.\n\nI also checked all my backup systems and added Samba backup to the i7 box.  Make sure you have a full backup that is not stored on the device and accessible."", 'Vast-Ad-9451: I was lucky enough to have to link still caught in Balena etcher from my recent move to an SSD.\n\nSo reverted back to 9.5 (new install) and now in the proces of reinstating the backup from yesterday. In the hope it starts working again.\n\nIts almost 0.00 o clock here and the lights are still on :-)  \nAlthough I can still control the most important stuff, it is a bit frustrating to say the least.', ""black107: I'm running HAOS as a VM in a proxmox setup. Proxmox is passing the entire USB physical device (a HUSBZB-1) to the HAOS VM. On the HAOS side in Settings -> System -> Hardware, I see the following:\n\n`ttyUSB0`\n\n* Subsystem: tty\n* Device path: /dev/ttyUSB0\n* ID: /dev/serial/by-id/usb-Silicon_Labs_HubZ_Smart_Home_Controller_C130109D-if00-port0\n\n`ttyUSB1`\n\n* Subsystem: tty\n* Device path: /dev/ttyUSB1\n* ID: /dev/serial/by-id/usb-Silicon_Labs_HubZ_Smart_Home_Controller_C130109D-if01-port0\n\nWhere can I change the dev path on the HAOS side as it's receiving the entire USB device from proxmox?\n\nEdit: After I restored my previous backup, I updated HA to 2023.4.5 first, then did HAOS 10.0 and it's working fine. Go figure 🤷\u200d♂️"", 'Reasonable-Escape546: Have fun! 😃👍', 'Reasonable-Escape546: At the moment there is no way to get the thread credentials from an Apple Thread Border Router. At least I don’t know how. And if there is any path, it’s not an easy path… \n\nI think it’s the same when you use a Nanoleaf Thread Border Router. At the moment they are all using Thread version 1.2.0. But Thread 1.3.0 is the version that is announced to be the Matter basis. But I don’t know, if Border Routers from different vendors exchange Thread credentials automatically when they all use Thread version 1.3.0.\n\nIf you want to pair your Thread (not Matter) bulbs to Home Assistant, you need a SkyConnect for example. Then you can create your own Home Assistant Open Thread Border Router and pair your bulbs the way I described before. You have to unpair your bulbs from Nanoleaf. Then you see the devices and entities.\n\nIf you have Nanoleaf Matter bulbs, you can pair them as a Matter device to Home Assistant, when you use Home Assistant OS. After you paired a Thread device by Matter, you won’t see any device in the Thread integration of HA, but you have the Matter device/entities. As already described we do not have the Thread credentials to bring this together.\n\nBut this all (Thread and Matter) is very new/beta and it’s maybe not so stable, you would like it to be. 😉', 'The_Caramon_Majere: Good to know, thanks for sharing!', 'KartoffelToby: Oh yes sorry your right. But my Waveshare CM4 SSD Setup stuck in boot too after the Update', 'Vast-Ad-9451: The reinstating of the backup worked. Back to 9.5 with nothing different from yesterday and everything working.', 'if_i_fits_i_sits5: Yes, getting the thread credentials from apple was what I was curious about. I see there is an API for it, we just maybe need to call it from the iOS app. Maybe I’ll try putting a PR up if I can figure it out.', ""Serinus: >If you want to pair your Thread (not Matter) bulbs to Home Assistant, you need a SkyConnect for example. Then you can create your own Home Assistant Open Thread Border Router \n\nYeah, this on hassos is my current setup.  Nanoleaf app shows them operating on thread under my HA OTBR, matching PAN IDs.\n\nI'll try unpairing from nanoleaf, I suppose."", 'Reasonable-Escape546: If you can figure this out, you are some kind of an hero, like all the other Home Assistant devs that make all thi spossible. At least for me. 😃', 'Reasonable-Escape546: Aha, ok… I don’t have any Nanoleaf bulbs at the moment. But I pre-ordered some of their new Matter bulbs and wait for shipment.']"
1681821407.0	18-Apr-2023 05:36:47	google calendar create event issues	podc87	0	12qln6w	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qln6w/google_calendar_create_event_issues/	So i have my HA help me track my time that I work by  creating an event when I arrive and when I leave work zone. but recently and to my surprise this hasn't worked in about 2 week :( When I manually try to run my automation it tells me it has an error about duration but I can't find anything that says I need to specify a duration so does anyone have any example yaml I can barrow to help fix my automation  or point me at something so i can fix it?	2	"['kunigit: [Documentation](https://www.home-assistant.io/integrations/google/#service-googlecreate_event) is a little sparse for the ```google.create_event``` service, but I imagine that you need both a start and end date time with some amount of duration. You could give each event an ```end_date_time``` of ```{{ now() + timedelta(minutes=5) }}```, but if I were doing this, I would probably try this..\n\nCreate a datetime helper:\n\n````\ninput_datetime:\n  work_started:\n    name: Work Started\n    has_date: true\n    has_time: true\n````\n\nand when entering the Work zone, I would call the service:\n\n````\n- service: input_datetime.set_datetime\n  target:\n    entity_id: input_datetime.work_started\n  data:\n    datetime: ""{{ now().strftime(\'%Y-%m-%d %H:%M:%S\') }}""\n````\n\nAnd when leaving the Work zone:\n\n````\n- service: google.create_event\n  target:\n    entity_id: calendar.my_work_calendar\n  data:\n    summary: ""Example""\n    start_date_time: ""{{ states(\'input_datetime.work_started\') }}""\n    end_date_time: ""{{ now() }}""\n````\n\nOnly side-effect would be the lack of any event created while you\'re at work, but you could use the Work zone status if you needed immediate automations based on whether or not you\'re at work. \n\nNote: Adapted from the examples in the documentation - none of this is tested at all, and I\'m not sure if the ```google.create_event``` service requires specific date formatting on the start/end date times. Experiment with it in the dev tools first.', 'podc87: thank you for all this infomation it really helped and helped get me to the code that seems to be working now  \n  `start_date_time: ""{{ as_timestamp(now()) | timestamp_custom(\'%Y-%m-%d %H:%M:%S\')}}""`\n\n  `end_date_time: {{ as_timestamp(now() + timedelta(minutes=5)) |timestamp_custom(\'%Y-%m-%d %H:%M:%S\') }}`']"
1681817273.0	18-Apr-2023 04:27:53	Doorbell in HA for HomeKit	Xorfee069	0	12qk1m2	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qk1m2/doorbell_in_ha_for_homekit/	I have automated both my doorbell and the door opener signal for my apartment using ESPhome in home automation (HA). Now, whenever the doorbell is pressed, a binary sensor in HA shows its status as either on or off. To ensure my wife and I never miss a visitor, I set up an iCloud Alert Message notification on our iPhones. However, I'm still searching for a way to integrate this sensor button into my HomeKit Doorbell Notifications, even without a camera. Can someone suggest any possible solutions?	5	"['sejoki_: If you set up HomeKit integration via yaml, add the following to your configuration.yaml (or better yet, homekit.yaml)\n\n      entity_config:\n        camera.bell_homekit:\n            name: Bell\n            support_audio: false\n            linked_doorbell_sensor: binary_sensor.doorbell_sensor\n\nA camera is technically needed (HomeKit requirement), but it can be a generic one, linking to a static image. Since you already have your doorbell as a binary sensor, you can use that (for the linked\\_doorbell\\_sensor) or create a seperate helper. I\'ve gone the seperate helper route because I have actionable notifications on my Mac and iPhone and only need the HomeKit Notification for when the Apple TV is active.\n\nIf you configured HK via the integrations/GUI, there\'s no way to add it manually, but you can have a second HK instance running and only include cameras. Though I\'d recommend the yaml option there. I first had everything done with the GUI but redid everything and manually include the entities I want.\n\nOn the HomeKit side, there\'s no setup required. ""It just works"" ^(TM until it doesn\'t work and fuck you for wanting any way of manually fixing it or troubleshooting anything, we told you it just works, what the hell is your problem. Go buy a new iPhone.)', ""Xorfee069: Thanks a lot.. it worked, but second instance messed up and did a carnage to my first HomeKit instance.. including every device again (double devices are shown now). Can't even remove them unless I exclude them from HomeKit.yaml (so I have to put all devices into the list and exclude them) . But I really appreciate your help!"", 'sejoki_: >Can\'t even remove them unless I exclude them from HomeKit.yaml (so I have to put all devices into the list and exclude them) .\n\nYeah, that\'s what I meant with ""only include cameras"", but I see where that\'s not clear enough, sorry.\n\nWhile you\'re there, I\'d recommend only *including* the devices you actually need vs. *excluding* the ones you don\'t. Yes, you have to manually add new devices, but there are just so many entities that are irrelevant if you only use HomeKit for manual control (and I don\'t know why anyone would use it for anything else, the horrible automation interface got me to switch to Home Assistant in the first place)', 'Xorfee069: Funny point is that nearly 160 devices (sensors / lights / devices that are relevant - automation are controlled by HomeKit with over 200 automations ) added while I added the bridge, including 1 camera (doorbell). And the only thing I added to the HomeKit.yaml was just the script above …. So I tried to remove the double devices from the list, but was not able to do so, cause it said that I should edit the HomeKit.yaml file. \nIn conclusion I need to research more about it .. maybe I can figure it out how to do so. But thanks for your support ! At least I know where to begin with', 'jmcgeejr: Yeah I do the exclude by default and then just pick what I want for that exact reason, first time, homekit picked up 300 things lol.']"
1681815967.0	18-Apr-2023 04:06:07	Need help with energy sensor	nerdalertdk	0	12qjlv8	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qjlv8/need_help_with_energy_sensor/	"Hi all

&#x200B;

Bought a energy sensor for my meter, it currently have a bug where it restarts every 70 min minut.

So my grafs look weird, can I somehow just ignore the data reset and just add it to the latest data i have ?

&#x200B;

My mqtt config

&#x200B;

    mqtt:
      sensor:
        - state_topic: ""saveeye/telemetry""
          name: Saveeye total watt-hours
          unique_id: ""saveeye_totalConsumptionWh""
          device_class: ""energy""
          state_class: ""total_increasing""
          unit_of_measurement: ""Wh""
          value_template: '{{ value_json[""totalConsumptionWh""] }}'
          last_reset_value_template: ""2023-03-29T00:00:00+00:00""
    
        - state_topic: ""saveeye/telemetry""
          name: Saveeye total kilowatt-hours
          unique_id: ""saveeye_totalConsumptionkWh""
          device_class: ""energy""
          state_class: ""total_increasing""
          unit_of_measurement: ""kWh""
          value_template: '{{ (value_json[""totalConsumptionWh""] / 1000) }}'
          last_reset_value_template: ""2023-03-29T00:00:00+00:00""

&#x200B;

https://preview.redd.it/jydrd3iekmua1.png?width=1998&format=png&auto=webp&v=enabled&s=6981de993e1c0534dbda14c945f53cd16f77701a"	2	"[""alex3305: You'll need to modify the `state_class`, which is on `total_increasing`  now. Or perhaps something goes wrong with your [last reset](https://developers.home-assistant.io/docs/core/entity/sensor/#how-to-choose-state_class-and-last_reset)."", 'nerdalertdk: >state\\_class\n\nI tried all the options there are. total, total\\_increasing and measurement\n\nThe last reset is just me that typed in a date.']"
1681815797.0	18-Apr-2023 04:03:17	Automatically Restarting Spotcast Integration in Home Assistant upon Error Detection	Ronyn77	1	12qjjrm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qjjrm/automatically_restarting_spotcast_integration_in/	"Hello,

the Spotcast integration, where about 10 call services executed with spotcast.start, begins to stop working and throws errors like: ""Call-service error. HTTP status: 404, code:-1 - [https://api.spotify.com/v1/me/player/volume?volume\_percent=90&device\_id=310ae54b22a7c6e32f0dbcb76a864a22:](https://api.spotify.com/v1/me/player/volume?volume_percent=90&device_id=310ae54b22a7c6e32f0dbcb76a864a22:) Device not found, reason: None"". The only way to solve the problem is to restart Home Assistant. Is there a way to restart the Spotcast integration without restarting the entire Home Assistant? This way, I could ""capture"" the error, and when it happens, automatically restart the integration."	4	"[""kunigit: Auto-restarting something is rarely the best solution.\n\nWhat does your ```spotcast.start``` service call look like? Are you trying to use Spotcast to control the volume? If so, perhaps it's attempting too many requests in a short time. Can you control the volume using a Home Assistant ```media_player``` entity?"", 'Ronyn77: I tried everything, but it didn’t work. I am already forced to restart HA for tuya integration which already fails after one day since last restart, if I am lucky…\n\n{""limit"":20,""start_volume"":90,""force_playback"":false,""repeat"":""off"",""shuffle"":false,""offset"":0,""ignore_fully_played"":false,""device_name"":""Bagno"",""uri"":""spotify:artist:5zQsBMuxuacTrhfuDxZreG?si=qJ3vb9vWQGalRYyxuNDSGw""}\n\nThese are the parameters which I pass to the call service function, it’s not only the volume…this starts every time, someone turns the bathroom light on….', ""kunigit: I guess you could try [enabling debug logging](https://github.com/fondberg/spotcast#enabling-debug-log) to see if there's a more descriptive error message."", 'Ronyn77: Yes, I have already done it multiple times and I probably know what the error is, but I haven\'t found any solution online. That\'s why I\'m looking for a way to restart the integration without having to manually restart home assistant.\n\nThe error message is: ""\\[custom\\_components.spotcast.spotcast\\_controller\\] Found cast device: Chromecast(\'unknown\', port=8009, cast\\_info=CastInfo(services={ServiceInfo(type=\'host\', data=(\'10.10.10.58\', 8009)), ServiceInfo(type=\'mdns\', data=\'Google-Nest-Mini-1fef5fe3c43a7eb124499ecf16a75bb7.\\_googlecast.\\_tcp.local.\')}, uuid=UUID(\'1fef5fe3-c43a-7eb1-2449-9ecf16a75bb7\'), model\\_name=\'Google Nest Mini\', friendly\\_name=\'Bagno\', host=\'10.10.10.58\', port=8009, cast\\_type=\'audio\', manufacturer=\'Google Inc.\')).""\n\nI believe the issue may be with the ""unknown"" status of the device. After starting spotcast.start many times (probably ten times a day), it stops recognizing the cast device. This is likely a bug. The only way I know to restore its functionality is to restart home assistant.\n\nIt may be useful to know if there is a way to restart home assistant from Node-RED, but this is not the best solution too because while it is restarting, all other functionalities are paused, which means the other people in my home cannot turn on and off the smart bulbs or use the other automations.']"
1681814008.0	18-Apr-2023 03:33:28	Modern Dashboard Ultra Lite Version (No Booleans used)	berkansez	13	12qiteg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qiteg/modern_dashboard_ultra_lite_version_no_booleans/	"&#x200B;

https://preview.redd.it/rf6tpwutdmua1.png?width=721&format=png&auto=webp&v=enabled&s=fc408518dcf422eb6b015df2c62ba6d9970473f4

 

## Page Properties:

* One single page for your home.
* Wonderful colors.
* Ambilight effect on everywhere.
* Glowing lights all around the page, dynamic to the state of the devices.
* Hidden sections through Swipe Card.
* Last motion detected room is shown with art effected pictures
* Advanced light control card.
* Exclusive person card (Thanks to Rhysb).
* Animated design.
* Live dynamic cards.
* Live Android Tv control card with remote control. See what is on your TV screen.
* Full page display thanks to Kiosk Mode.
* Netflix Card (Start shows on your Android Tv from your Dashboard)
* What to wear suggestions (with pictures) for your home depending on house temperature.
* Animated weather card.
* Easy calendar and camera access.
* Live birthday Card with pictures.
* Animated Spotify control.
* Control all your Media Players
* Room cards.
* Light control based on room presence. Close all house lights expect the room you are in.
* Multimedia files are included. I have also added additional multimedia files for you to customise your screen.

Where to find the instrucitons for installing : 

[https://github.com/berkansezer77/home-assistant/wiki/Modern-Dashboard-Ultra-Lite-Version-(No-Booleans-used)](https://github.com/berkansezer77/home-assistant/wiki/Modern-Dashboard-Ultra-Lite-Version-(No-Booleans-used))

My other work that you might be interested:

[https://github.com/berkansezer77/home-assistant/wiki](https://github.com/berkansezer77/home-assistant/wiki)

&#x200B;

Screenshots: 

&#x200B;

&#x200B;

https://preview.redd.it/tbshfhdtemua1.png?width=735&format=png&auto=webp&v=enabled&s=24c0461fb767f756ee8a32b0bb307e26e7927633

&#x200B;

https://preview.redd.it/5a1lpuiuemua1.png?width=806&format=png&auto=webp&v=enabled&s=a20fc205a4dc5d842a0fd63c352e2b82d64c0f29

&#x200B;

https://preview.redd.it/xgpdsbjvemua1.png?width=897&format=png&auto=webp&v=enabled&s=45c95be861cf672980f30ba55d20cc98e93831a5

&#x200B;

https://preview.redd.it/394086zwemua1.png?width=875&format=png&auto=webp&v=enabled&s=f17dc34d20161112567e6468594a4020690a90bc

&#x200B;

https://preview.redd.it/q5nbyqwyemua1.png?width=655&format=png&auto=webp&v=enabled&s=63e006bb2a550ac1c8a41fa60074efad8ca8a620"	9	['PADFTGW: A bit too much for me, but you did crazy good work with this dashboard!!', 'carrot_gg: Sorry but that looks hideous.', 'berkansez: Thank you. The boolean free version is pretty easy to setup. Maybe you could give it a try.', 'berkansez: I respect but may I learn why?', 'PADFTGW: I like minimalistic themes more. Now using Dwains Dashboard. Although I preferred V2 more of that Dashboard, it didn’t worked anymore on the April 2023 version of HA.\n\nFor me your dashboard is too colorful.', 'carrot_gg: There is zero design language, looks like just a bunch of stuff thrown around.', 'Uninterested_Viewer: As an example, one icon appears to be an actual photo of towels while another right next to it is a cartoonish icon of an office chair. You need to have more consistency there and, frankly, everywhere.\n\nhttps://m3.material.io/ is a good place to start for a modern design language. Or at least an example of how a thorough design language is implemented.', 'berkansez: Well ok then. Thank you very much.', 'berkansez: Hello. While I respect your opinions, I strongly disagree.If you had clicked on the link I provided, you would have a clearer understanding of what my content is. First of all, this dashboard is not a product of design. I can even say that the design is in the last place. This project has been coded in a completely customizable level. The important thing here is not the icons, but the page structure and the code used. \n\nIn addition to these, this project also includes many automation and templates in its own content, and how to implement them is specified in the guide I wrote with it. It took more than 10 hours to prepare the guide for many content, such as automations that allow music to follow you around the house.\n\nIn addition, the icons you criticize became the subject of the Youtube channel called Everything Smart Home and were highly appreciated. \n\nIn summary, this is not just a dashboard design. This is a comprehensive project with a lot of instructive content. More than 14 automation examples are given only in the automations section. I recommend that you read the content well before criticizing something next time.']
1681811270.0	18-Apr-2023 02:47:50	Not sure about this frigate detection...	StrikingTangerine324	350	12qhs3f	homeassistant	https://i.redd.it/tafvlsedonua1.jpg		108	"[""carlinhush: https://preview.redd.it/67jzrzoiwnua1.jpeg?width=1200&format=pjpg&auto=webp&v=enabled&s=0667cb4721aacc819a40ea7542259ce91e7e03fe\n\nIt's Oskar from Sesame Street"", 'BlankStarBE: You don’t recognize your ex? She was pure trash.', 'nickm_27: Definitely enjoying the comments!\n\nFor anyone who is confused on this false detection, the current model used in frigate is a google demo model trained on the COCO dataset. [This dataset contains images that look nothing like a security camera](https://imgur.com/a/CNImofJ) which is why things that are not a person can be detected as a person.\n\n[Frigate+](https://docs.frigate.video/integrations/plus) is under active development to enable models trained on actual security camera images to produce better and more reliable results.', 'Nyghtshayde: Solid Snake vibes', 'ocularinsanity: Regrettably I know several humans this can apply to…', ""dracopurpura: I'm in this picture and I don't like it."", 'HolyPommeDeTerre: I read ""fridge"" instead of frigate. So I was like ""yup, that\'s no fridge"". Then ""why would you do any fridge detection?!""', ""OmegaX-NL: That's garbage man!"", 'ElGuano: Assassin, be careful.', ""automatemyspeaker: How are you managing the cropping of the screenshot? I'm tempted to try submit a PR for the native camera.snapshot integration for crop, as I'd have a handful of use cases.\n\nI've currently got a clunky bespoke python script running via blue iris for a zoomed in snap of my sheds door so that I can check if my dumb padlocks are locked or not before bed for example."", 'Puzzleheaded-Leg-758: Trashy neighbours', 'SirIanChesterton63: Trash cans are people too. Stop being racist. /s', '__Cmason__: maybe they are from r/trashy', 'daern2: I know this sounds daft, but I\'d love a model that includes ""wheelie bin"" as a trained object. I have four at the side of my house of varying colours, and it would be very cool to be able to know that (for example) the green ones are missing on green bin day, because this means they are correctly positioned on the roadside for collection. Doing this entirely with cameras would be a very clean, simple solution...', 'ufgrat: Good disguise.', 'suddenlypenguins: My eufy smart doorbell detects car hubcaps as people all day everyday. Shit brand, stay away.', '1dayillgetfrontpage: At least it hasnt gone in the other direction and posted a picture of you being detected as garbage so thats good! Haha', ""Solnse: Is nobody concerned OP's front door is wide open?"", ""keixver: I'm in this picture and i don't like it"", ""tobimai: Mine detects basically everyting as dog for some reason. Cat? no, dog. Human? No, Dog. \n\nProbably due to the weird angle, as it's pretty high"", 'Low-Rent-9351: It tells me those are cars...', 'Ok_Animator363: It’s Oscar the Grouch!', 'SupraJames: My old man’s a dustbin. He wears a dustbins hat', 'thinkloop: Next time can you go to the camera view in the web UI, choose ""debug"", ""show options"" then select  ""bounding box"" so we can see how it sees it, ty.', 'nearlysuccessful: Is that a special theme on your phone or something? I have android and mine looks different. I like the way yours looks better.', 'richardwonka: Hmmm… did you get a version of frigate trained with some more … _questionable_ … characters?', ""ExperimentalGoat: Any suggestions for setting up a pi to work with frigate? All of the RTSP guides I've followed haven't worked out for me"", 'TonguePunchUrButt: Just came for the comments. Did not dissapoint!', '0gtcalor: ""Hey, want to make money fast and easy?""', ""Mysterious-Flamingo: I mean it's not *entirely* wrong."", ""codliness1: What? It's Osama Bin Laden**, he gets around so he does.\n\n\n\n\n\n\n\n** as in heavily loaded"", 'your_daddy_vader: Looks exactly like me.', 'ULT-Ginger: Stupid question, does Frigate work within HA for Unifi cameras?', 'rawwbnoles: Looks like the trash is paying you a visit. Probably something to do with your extended car warranty.', 'Exotic-Tomatillo7856: Bin Laden survived?', 'ErnLynM: You found my ex!', ""Cvalin21: Yeah I'm getting the same thing and I'm using a Google Coral"", 'StrikingTangerine324: I followed a YouTube tutorial from - everything smart home\n\nThis guy does a superb job at explaining', 'Okonomiyaki_lover: Lol I have a similar screenshot somewhere.', 'DaSandman78: I use Frigate but have the same issue with false positives. Even with no movement it seems to detect like 2.5+ hour ""recording"" and spams me alerts every few seconds. I\'ve tried masking out those 2 areas but still happens. No idea how to fix it :(', ""zaro3785: So it's true, people are trash"", 'JeanneD4Rk: It spotted my ex', 'UloPe: I really winder why people even bother with frigate…', 'ListenLinda_Listen: Yea, the model it uses is unfortunately free and pretty bad.', 'jrhenk: Haha frigate watches too much of this show :)', 'javawizard: https://i.kym-cdn.com/photos/images/original/002/394/237/75d.jpg', 'badi95: If you upload to Frigate+ you only get access to the custom models that your annotations help create if you pay the $5/mo right?', ""TerminatioN1337: I know you guys are working hard and can't give an exact date but any vague scale estimate you can provide on when this will be ready and available? Like are we talking days, weeks, months or years here? Sorry if this is annoying, just very excited. Thank you for all you do."", 'thatgreekgod: just wanted you to know, love your work on Reddit supporting this project. big fan', ""Daniel15: This is why I prefer CodeProject AI at the moment. The most common IP cam models (such as the open-source ones that come with Blue Iris) are much better and have been trained on both daytime and night time photos. I don't think Frigate has any integration into CodeProject AI at the moment, but Blue Iris does.\n\nAFAIK the models Frigate uses at the moment haven't been trained with night time footage at all, which is when you really do want your detections to work well."", 'tobimai: Is there some plan of bringing this model (or a ""simplified"" version of that) to a free tier or a one-time purchase?', 'ongebruikersnaam: !', ""nickm_27: this is most likely using frigate's built in notification cropping for the thumbnail api https://docs.frigate.video/integrations/api#get-apieventsidthumbnailjpg"", 'StrikingTangerine324: Yes, just built in blue print notification', 'StrikingTangerine324: HAHAHA', 'StrikingTangerine324: Haha, I went to open the front door and check for a ""person"" \n\nJust incase...', 'StrikingTangerine324: Na just stock', 'nickm_27: which part is the problem? what kind of cameras are you working with?', 'StrikingTangerine324: As long as your camera support RTSP streams then any should work', 'nickm_27: To be clear using a coral won’t change the accuracy of the detections, that entirely falls on the model and the default model is the same for cpu and coral', ""nickm_27: Create an issue on GitHub, we'd be happy to help"", '1992tx3: Why? Works perfectly fine for me.', ""strawberry_gin: Yeah I'm also confused. Having tried zoneminder, Shinobi, and frigate; I've found frigate to be far and away the easiest to work with. It's also been quite reliable as well with only the occasional false positive."", 'nickm_27: I’m not 100% sure on what you’re asking, but basically your annotations along with the rest of the communities come together to create a base model. Then your annotations are used to tune that base model. \n\nYou only get access to models if you pay but can annotate for free beforehand. There will be many improvements to the models in the beginning hence the subscription model but Blake has said the payment structure may be adjusted', 'mopeyjoe: are you able to plug your own models into the frigate detection engine? or is it locked to what the devs bake in?', 'nickm_27: I’m not working on this part, but I believe someone asked Blake that question a couple weeks ago and his answer was “months”', 'nickm_27: Thanks, I appreciate it!', 'nickm_27: There was actually just a PR made for that https://github.com/blakeblackshear/frigate/pull/6143\n\nBut yeah, better models make a considerable difference', ""nickm_27: Not up to me, I'd suggest reading https://github.com/blakeblackshear/frigate/discussions/1043#discussioncomment-5101902 which should give some more info"", 'FourAM: ❗️', 'automatemyspeaker: Interesting, cheers!', ""ExperimentalGoat: I'm using the official pi camera. I guess I probably need to re-evaluate how I'm setting it up in frigate since I'm able to view the RTSP stream in VLC but when I plug it into frigate it doesn't detect the feed properly, despite having the same settings as my POE cameras."", 'ULT-Ginger: Hmm I will have to look into that. Do you have a guide by chance?', 'Cvalin21: So I would have to use my own model', 'DaSandman78: Oh ok, I will do, thanks.\n\n(I assumed Issues would be underlying systemic/design issues, not for single-user problems.)  \n\n(Though I guess if this is something that can be fixed with config maybe its useful for others to see/search for too.)', 'badi95: Sorry for the poor wording of my question. Do you have be subscribed to the Frigate+ paid version to have access to the base model that is tuned from your and community annotations?', 'ctjameson: That’s a lot better than I would have expected. Thanks for the great work and I can’t wait to see the future of frigate! I’ve had a blast tinkering with mine since finding out about the project.', 'TerminatioN1337: Thanks!', ""Daniel15: Nice!\n\nI'm hoping CodeProject AI adds Coral support soon. It's currently in beta but they were having issues with inference times being very long. Blue Iris and CodeProject AI are working well for me with only the CPU, but I'd like to reduce power usage when running the AI detection."", 'Nyghtshayde: Thanks - I was literally asking this question yesterday (to myself that is).', 'bloodytemplar: I heard this comment and I never even played MGS.', 'nickm_27: Yeah, if you create an issue on GitHub I’d be able to help better', 'nickm_27: Not a guide but relevant info https://docs.frigate.video/configuration/camera_specific#unifi-protect-cameras', 'nickm_27: There’s plenty of different models out there for the coral already on GitHub and coral.ai', ""nickm_27: there's all types of issues from support requests, feature requests, etc."", 'nickm_27: Yes you do, training models costs money and of course the effort to make the training work well.', 'ColColonCleaner: How do you run your blueiris instance? Windows vm? Doing that seems like a lot of bloat, but putting it on a main PC is also not really an option when you want to be able to restart or shut down that computer when not in use.', ""Cvalin21: Thanks, I'll be downloading and mapping the storage"", ""kzgrey: Does the model run locally when using Frigate+?  This is something that I have been struggling to understand.  What I remember reading is that Frigate+ will tag your frames but how do you know which frames are important and how do you then leverage that to your own personal benefit?\n\nHow is this not paying someone to train their proprietary model that you'll never get to execute locally?"", ""Daniel15: Windows Server 2022 VM on a server running Proxmox. It's not too bad. I just keep re-arming the Windows trial license every 120 days 😂"", 'nickm_27: > Does the model run locally when using Frigate+?\n\nYes of course, it ~~gives~~ will give you access to a model file that you run locally just the same as the current model that comes with frigate.', ""kzgrey: Okay, that is definitely not clear.  So for $5/mo, I get a model that potentially doesn't label my dog as a cat or my steering wheel as a person?"", 'nickm_27: Well, besides the existing labels (person, cat, dog, deer, etc.) being better and more accurate, there are also new labels currently (amazon, fedex, ups, face, license_plate, package) as well as other labels which will be added in future versions of the model. \n\nAlso, like I said elsewhere in this thread, the $5 / month is important initially since there will be a lot of improvements and iteration on the model. More details can be seen here: https://github.com/blakeblackshear/frigate/discussions/1043#discussioncomment-5101902', 'kzgrey: I don\'t mind paying $5/mo for a model that executes locally and receives updates.\n\nI created a Frigate+ account (no subscription) and under Models, I see: ""**Coming Soon**\n\nCustom trained models designed for Frigate""\n\nThis type of statement on the website is the reason I haven\'t pursued this further.  If I sign up for a Subscription, will I see downloadable models on that page?', 'nickm_27: subscriptions are not available yet, as the docs I linked above say:\n\n> Frigate+ is under active development and currently only offers the ability to submit your examples with annotations. Models will be available after enough examples are submitted to train a robust model. It is free to create an account and upload your examples.', ""kzgrey: Okay, so there are no subscriptions, no model updates and people are manually annotating and submitting their images to Frigate+ so that they can later pay $5/mo to utilize the custom models (pinky swear, we won't dramatically change the pricing after leveraging everyone's charity work)."", 'nickm_27: If anyone feels skeptical they can of course wait to create an account / submit images until the initial models and pricing structure are official. It’s really not clear to me what you’re trying to point out.', 'gnapoleon: Whereas today you are enjoying the “charity” work put into frigate by its developer(s). I didn’t hear you complain about that.', ""kzgrey: I'm pointing out that there is no product in Frigate+ currently.  There is no subscription.  There is a solicitation to tag images and upload them to train a model that will later be commercialized.  I look at the project and I am confused.  I read your comments and pointed out the inaccuracies in your responses.  \n\nIf you want to build a business, then raise money to invest in and build a model and then sell the model.  If you need a method for raising money for your OSS project, then you should be upfront about the costs and treat it like every other OSS project that requires funding.  \n\n\nI would be willing to donate money to train a public model that I can utilize and people can build off of -- like a lot of money.  I am much less willing to tag my photos for a model that I'll have to pay for in the future and that is controllable by a single individual.  This is the type of thing that needs to be sorted out.  \nAt the moment, there effectively is no service to subscribe to -- which I would then refer you to my earlier comments about being confused about Frigate+.  \nI think its great that this project is happening.  I'm concerned about the usage of my time and data to commercialize a model for the benefit of 1 person."", ""kzgrey: It's an OSS project released under the MIT License.\n\nSo is Home Assistant.\n\nAsking for people to submit annotated images is charity.  Asking them to submit annotated images so that a model can be built and commercialized is borderline sketchy.  The $5/mo figure sounds great, but I don't know you from a door knob, so there's a trust issue here."", 'nickm_27: I want to be clear that I’m not the main dev of frigate nor am I working on frigate+ at all. I am just a contributor to the frigate project itself. \n\nMany users are very happy with frigate, which is free, and see submitting images as a way to support the project. \n\nYou are of course free to your opinion and there’s no need to upload images if you don’t want to. That being said there’s plenty of users that are happy with the current setup. There’s lots of discussion and users submitting images already, I believe Blake said the model is now at a point where he is happy with its performance for an initial offering.', 'gnapoleon: You should switch to a commercial product where you’ll pay hundreds a month so you don’t have to complain about paying $5 for a commercially supported app,Icarian and set if features. You don’t get OSS.', ""kzgrey: I love Frigate and am willing to pay $5/mo for custom models.  What I am pointing out is that you're training a model that will benefit an individual.  That's not the type of thing I want to devote my time to because when they later change the terms, I'll be upset.\n\nAlso, what commercial product runs locally?"", ""nickm_27: > I love Frigate and am willing to pay $5/mo for custom models. What I am pointing out is that you're training a model that will benefit an individual.\n\nI mean, as a user who has uploaded 1000+ images to Frigate+, I would certainly feel I am getting a lot of benefit from a model that is trained on community images and tuned on my own and running locally. Being more accurate and having more relevant labels than the COCO model.\n\n> That's not the type of thing I want to devote my time to because when they later change the terms, I'll be upset.\n\nSo then don't use it if you don't trust it? Frigate of course can run any model that the detector supports, so just find a model that is created / trained in the way you prefer. Or you could of course just train your own.\n\n> Also, what commercial product runs locally?\n\nFrigate would be a far worse experience if it ran remotely. Not to mention all the issues that go with that, as a user I feel much better uploading specific images I choose for training and labelling those as opposed to having my detections / live feeds done remotely."", 'kzgrey: Look, I communicated that I did not understand the purpose of Frigate+.  I was told there was a subscription with models that I could utilize and that the price was $5/mo.  I went to sign up and found that neither of these is the case but I can tag and upload images in the hopes it becomes the case in the future for $5/mo.\n\nIt is not difficult to comprehend my perspective here and frankly having to justify my very straight forward questions and comments is ridiculous.', ""nickm_27: > I was told there was a subscription with models that I could utilize and that the price was $5/mo. I went to sign up and found that neither of these is the case but I can tag and upload images in the hopes it becomes the case in the future for $5/mo.\n\nWhere were you told that? Everywhere I have seen including the plus website and the docs say it is under development and coming soon.\n\n> It is not difficult to comprehend my perspective here and frankly having to justify my very straight forward questions and comments is ridiculous.\n\nI understand that you don't want to spend time on and submit images to train a model which is managed by a single entity. I understand that you are concerned about submitting images to a project which hypothetically could change its terms and not deliver the model or deliver it in a different way. \n\nHowever, I (and judging by the response in the discussion on discord and github, many others) don't share your concerns. There's plenty of other options that I listed earlier which don't carry these concerns."", 'kzgrey: https://reddit.com/r/homeassistant/comments/12qhs3f/_/jgs2cap/?context=1', 'nickm_27: Fair enough, your question was in present tense so I answered in present tense. I can see how that is confusing though.']"
1681809289.0	18-Apr-2023 02:14:49	anoter zigbee 3.0 usb dongle	slboat	0	12qh1mu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qh1mu/anoter_zigbee_30_usb_dongle/	"We recently found some zigbee hardware to experiment and test, and found that this hardware has a pretty good signal, and by brushing in the new firmware and adding the glue stick antenna, it is also a good zigbee receiver.

&#x200B;

https://preview.redd.it/p608ajrt0mua1.png?width=1550&format=png&auto=webp&v=enabled&s=1a8dd65f069ec2ffc5aac3c386271a9dc97b4039

https://reddit.com/link/12qh1mu/video/84x41sro0mua1/player

&#x200B;

The core pcb hardware part is made by rf-star.

Its chip is CC2652p, and the theoretical maximum band capacity is 200.  

This video is a very good test of that:  
[https://www.youtube.com/watch?v=vhDZYdSpEH4](https://www.youtube.com/watch?v=vhDZYdSpEH4)

This receiver works fine by brushing in the latest collaborator firmware CC1352P2\_CC2652P\_other\_coordinator\_20221226.hex.

https://preview.redd.it/y7n1dgwszlua1.jpg?width=1440&format=pjpg&auto=webp&v=enabled&s=012f818f505a3a1c4facdabc4558103b4c9b1058

https://preview.redd.it/j1ds8corzlua1.png?width=694&format=png&auto=webp&v=enabled&s=377ecf175a78fbe445a8e2881bef877db1e1b75f

It still looks a little different through a somewhat transparent black casing. This is probably its main bit of character.

We have prepared some hardware samples, if you also like the look, then you may also want to try: [ebay link](https://www.ebay.com/itm/185860232674)"	1	['alex3305: Slava Ukraini 🇺🇦']
1681808978.0	18-Apr-2023 02:09:38	Made my own motion/temperature sensors and how to prevent false positives with HC-SR501 PIR sensors	mark364i	2	12qgxfh	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qgxfh/made_my_own_motiontemperature_sensors_and_how_to/	"Wanted to outfit several rooms in my house with motion sensors to control the lights and other devices, thought it would be a good challenge to try to create my own using ESPHome. They consist of:

* ESP-32S
* HC-SR501 - PIR Motion Sensor
* DHT22 - Temperature Sensor
* 3d printed case designed and printed by my brother

Couple of pictures of the finished product (plus command strip lol)

https://imgur.com/a/wPfWZkW

Average cost per unit is about £15.

The hardest part was figuring out how to prevent the false positives with the HC-SR501, I did see some posts about adding capacitors and what not but I'm not very good with a soldering iron especially on a small scale like this.

Thought it would be good to post a mostly software fix if anyone stumbles across this in the future.

The first part consists of moving the yellow jumper across to put the sensor in multiple trigger mode, this basically tells it to constantly send ""motion detected"" messages while it detects motion, compared to the single trigger mode where it will only send one message when motion is detected.

The 2nd part is to add a filter to the GPIO sensor in the yaml, I use delayed_on_off but delayed_on will also work. This basically means the sensor will need to see motion for at least the set time before sending the ""motion detected"" message to Home Assistant. I have mine set to 500ms as its the first timing I went with and it works flawlessly, the delay isn't noticeable so no point in changing it.

I also have the distance pot on the sensor set all way anti clockwise, the minimum distance is 3 metres I believe which is more than I need anyway.

Here is what my YAML looks like for the motion sensor:

https://i.imgur.com/sMWQSrg.png

Since implementing them like this I haven't had a single false positive, they all work better than I could have imagined. Don't need to go out and buy some more expensive radar sensor.

Hopefully this helps someone else who is struggling with the sensors, happy to answer any questions. Cheers."	3	"['slboat: Nice job, makes us want to make a pir sensor like that too.  \n\nWe made a very small human radar before, and the radar might work a little better than the pir. We are also wondering how if the radar joins pir together.  \n\nHC-SR501 has a very small size, is the one I have, the model is SR602.\n\n[https://www.reddit.com/r/homeassistant/comments/12gd0md/screek\\_minisized\\_home\\_assistant\\_ld2410c\\_24ghz/](https://www.reddit.com/r/homeassistant/comments/12gd0md/screek_minisized_home_assistant_ld2410c_24ghz/)', ""AstronomerFeisty4297: The PIR custom sensors are a bit outdated solution, since mmWave LD2410 BT sensors are very cheap (or equivalents) and can also work without any other electronics involved. \nIt's a nice project but my opinion is to get off the HC-SR501"", ""mark364i: That looks very cool, was looking at using something like ESPresence which uses Bluetooth for presence detection but I imagine that a radar sensor would be way more accurate.\n\nJust had a look at the SR602 that looks tiny, even smaller than the SR501, although it doesn't look like it has the jumper to put it in multiple trigger mode. So not sure what it would be like in terms of the false positives.""]"
1681807940.0	18-Apr-2023 01:52:20	Shelly Relay with dumb switch	hazelsmasher	2	12qgj57	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qgj57/shelly_relay_with_dumb_switch/	"I'm wanting to set up a Shelly with a dumb single pole switch or rocker (not a spring paddle).  


Lets say I turned the light on using the physical switch, but turned it off the light using HA or a voice assistant -- will the light now turn back on when I move the physical switch to the ""off"" position?"	2	"[""yama1291: That depends on how you setup the switch in the button type settings on that Shelly. \n\nIt's about half way down this site on their knowledge base. https://kb.shelly.cloud/knowledge-base/shelly-1-device-page"", 'TheNateLogan: Exactly, change button type to ""Edge Switch"" and you are good to go.\n\nhttps://preview.redd.it/hv90edxgtnua1.png?width=886&format=png&auto=webp&v=enabled&s=70555a69c85b5b78f5dbe4b90c8e44f11394ba57']"
1681802394.0	18-Apr-2023 00:19:54	ZWave JS Recently Unstable	shades73	3	12qelqb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qelqb/zwave_js_recently_unstable/	"Has anyone else noticed zwave JS acting strange in the past two weeks or month or so? 
My zwave network has worked flawlessly for about 3 months, since I got it installed. 
And now, at least once a day, all of my devices become unresponsive. I usually go through add-on restarts, integration restarts, unplugging the zwave stick, and can get it working after doing that shuffle. But then maybe 30 minutes later, it's kind of broken again. 
Some of the zwave logs say ""failed to execute controller command"". And my network graph will be all devices but none of them connected to each other. 
Then I do the circle of restarts/unplugs. And it's fixed again. Network graph has all my devices meshed straight to the controller perfectly.
Maybe they were related to the new HA updates?"	15	"['shades73: I found another post that seems to directly quote my log errors from a year or two ago but had no luck or solution. \nhttps://www.reddit.com/r/homeassistant/comments/pfit07/zwave_js_timeout_while_waiting_for_an_ack_from/', 'lastingd: The first thing to do is move the z-stick far away from the host >=2m.\n\nSee how things behave after that before making any further changes.\n\n\n/tl;dr USB 3 interferes with stuff.', ""vontrapp42: Do you have the zooz stick by chance? I got a notification from homeassistant that there was a firmware bug and an updated firmware is available to fix it. Ha said it can't do the upgrade. I haven't done it yet.\n\nDoesn't explain why the problem suddenly shows up now, unless there was another automatic update to the buggy firmware."", 'Infamous_Bee_7445: I have one ZWave device, a Trane remote temperature sensor, that wakes every minute, which is killing its battery. I have tried everything and am at a loss.', 'ownsjo: Same. Mine got worse after this OS 10. Tried going back to 9.5 but no change.', 'mikeyd810: Having similar issues and thought I was going crazy. Using a Zooz ZST10 700 series stick with the 7.18.3 firmware.  Usually have to restart Zwave JS UI add on once a day to clear things up. \n\nHome Assistant 2023.4.6\nSupervisor 2023.04.1\nOperating System 10.0\nFrontend 20230411.1 - latest', 'shades73: thanks. Currently on a 10ft extension cable straight up from the box.', 'shades73: Aeotec z stick 7. Oh no, I thought about ordering a zooz stick to see if it fixes the problem...', ""shades73: Yikes. Unfortunately (fortunately?), I've made almost everything in the house a ZWave switch/device and it's been fine but now everything is a bit of a mess. Every ceiling fan I have does have light wiring so I use a zooz ZWave wall remote to control Philips hue bulbs in it. Now, those are not working. (Philips hue integration is bomb proof though)."", ""shades73: Today I'm going to try to update z stick firmware but I'm also kinda waiting for a home assistant/zwavejs update mentioning bug fixes ...."", ""shades73: My setup seems to work now...? Not really sure what fixed it. I updated the stick to the latest 7.19.x something. And did a bunch of restarts. And it eventually stopped breaking. I wish I knew what fixed it. I'm scared to update HA or zwave JS for a while... Haha"", ""mikeyd810: I was debating trying 7.19.2 but Zooz says only to use their firmware files to upgrade the stick so I'm leery about putting the generic firmware on it.  Don't want to brick my stick."", ""shades73: Oh wow. I know zooz is more picky with their firmware in general but I don't know enough about their stick to give advice in this situation"", ""mikeyd810: I tried it for grins and looks like Zooz must modify the generic firmware, wouldn't even let me apply it in Z Wave JS UI or with the PC Controller software.  I have a Aeotec 500 series stick I'm going to restore an NVM backup too and see how that performs for a few days.\n\n&#x200B;\n\nI'll try the Zooz stick again when they release the newer FW"", ""shades73: Good to know! I just bought an aeotec z stick 5 too. In case my z stick 7 was actually broken. But I'm thinking I'll hold onto it as a backup now...""]"
1681802031.0	18-Apr-2023 00:13:51	DMX512 decoders	MaleficentShine7909	1	12qegpq	homeassistant	/r/smarthome/comments/12pjeng/dmx512_decoders/		0	[]
1681792408.0	17-Apr-2023 21:33:28	emporia vue no longer working?	deverox	1	12qahps	homeassistant	https://www.reddit.com/r/homeassistant/comments/12qahps/emporia_vue_no_longer_working/	Has anyone else's emporia view integration been flakey the last few days and basically no longer working,?	5	"[""kunigit: I assume you mean the non-ESPHome HACS integration that accesses Emporia's cloud service? Working perfectly for me.\n\nDid you update recently? With Home Assistant Core, I tend to lag behind the bleeding edge a month or two, but I keep my HACS components updated as much as possible.\n\nAny relevant messages in your system logs?"", 'peterxian: I just updated to 2023.4.5 and the Emporia Vue HACS integration is working fine for me. Do you have any log messages that might indicate an issue?', ""deverox: Thanks.  Yeah it blew up after the most recent update.  I actually tried building a fresh install on the latest version and it blew up as well.  Thanks for the input.  My advice don't update!"", 'deverox: Came back to life after that upgrade for me this morning.\n\n&#x200B;\n\n**Home Assistant** **2023.4.5**\n\nSupervisor 2023.04.0\n\nOperating System 10.0\n\nFrontend 20230411.1 - latest', ""andy2na: I'm on latest HA and emporia working fine FYI""]"
1681791159.0	17-Apr-2023 21:12:39	3 sets of RAM failing on new motherboard?	thinkloop	0	12q9xrc	homeassistant	/r/HomeServer/comments/12q4rdh/having_trouble_understanding_ram_requirements/		1	['antisane: This has nothing to do with this sub. This sub is for Home Assistant.']
1681790941.0	17-Apr-2023 21:09:01	Temp Monitoring - Why is Govee free? Any reason to avoid it?	L24E	2	12q9u34	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q9u34/temp_monitoring_why_is_govee_free_any_reason_to/	"I'm intrigued by the low prices and apparent quality of the Govee temperature and humidity monitors. 

I'm a bit concerned about the cloud monitoring being free. I don't expect companies to provide monitoring services for free; so I am thinking about integrating several devices and later finding the real cost of monitoring. 

Is there something I'm missing about the free monitoring and related integration?"	15	"['AnchoredFrigate: For ""free"" clouds you\'ll always pay with your data, and if (when) one day the company decides to start charging for the service you\'ll either need to replace all your hardware or pay up whatever amount they came up with.', 'jkirkcaldy: Get a zigbee dongle. Then get sonoff zigbee temperature sensors. They do not require any cloud connection. And they are about £10 each.', ""EpicFuturist: Govee has a vision. They're trying to get their hands in every home industry there is. Once they've established a verse and strong brand name, they will switch their marketing strategy. To answer your question, because they are in this phase they mainly receive their income from private investors right now, When that runs out they will start charging. But the way govees products are made, I don't think you will have to worry about your products stop working"", 'Mysterious-Bowler15: Try to avoid sensors connect to the cloud. Home assistant is made to handle everything local.\n\nThere are many sensors and switches what can work local without a cloud connection', 'inorganiccentipede: What exactly do you need ""monitoring"" for?  What do you think ""monitoring"" is?\n\nUsing local-only devices through Home Assistant literally provides all the same capabilities, without opening the door to who knows how much metadata about your environment being uploaded to a server somewhere that is potentially accessible by unknown parties.', ""pokemanho: Can't you just manually connect them to Bluetooth on home assistant? And not use the govee cloud?"", 'turbosprouts: All that people have said about their cloud services and strategy is likely true - and they make a bunch of different variants so YMMV - but I have a few combined temp/humidity sensors that use BLE to communicate to their app, which means that HA can query them directly. Battery life isn’t stellar (seems to be about 6-8 months for a pair of AAA) but lets me keep track of temps in a few specific places and even in our detached garage (admittedly not every reading is successful — seems weather dependent — but enough that I can tell if need to be wary of extremes)', 'sauberflute: I use Govee sensors, but with ""Bluetooth Low Energy Monitor"", rather than the Govee cloud.', 'psychicsword: I do agree to some extent but there are many reasons for loss leading products beyond selling the data. One of them is that the ""product/services"" is the actual product you are selling to others(data/pii/etc) but it can also be other reasons.\n\nSome other reasons is that the low cost product may get people to buy your high cost product that uses the same infrastructure. It could be a way of ""buying"" customer base. It could be that the margin is actually there but they are really cheap to make so even that low price can cover foreseeable ongoing costs.\n\nThat said the main risk of clouds is that you can\'t control their motivations. They can move from a no cost loss leading mentality to a paid one at any moment. They can move from not selling data to selling data with a hard to read TOCs document.', 'L24E: I need ""monitoring"" as I would like to see current and past temperature data for specific locations. I expect a ""monitoring"" system to collect the sensor data and store it for my current or later evaluation. I consider ""monitoring"" to be the action of a system that communicates with sensors, stores the communicated data, and reports anomalies or problems. Does this answer the questions satisfactorily? \n\nIt is my strong preference to have a closed system that does not use various cloud interactions at all. The ability to do this is part of why I like Home Assistant. However, there are times when it would be nice to have some information available to a 3rd party without giving them access to your system. The Govee system appears like it would solve that challenge for me since Home Assistant does not have granular controls for user access. I could use a few cloud-connected Govee devices that I allow others to see, and integrate them with Home Assistant for my use while keeping access to all other sensors and controls local. \n\nWith that background, I still think my original questions were valid. Answers appear to be along the lines of ""Govee looks to be free while they are building a market share; expect a fee for cloud services in the future"", ""Avoid the Govee and other cloud services if you have concerns about the specific data you are collecting being accessible to the company providing the services"", and ""The Govee sensors can be monitored locally in the event the cloud service becomes a paid service"". I remain interested to find out if they can be used locally only (without reporting anything to Govee) or not.', ""L24E: I didn't realize that could be done. In this case, I will benefit from the cloud monitoring, but if it moves to a paid service, it sounds like I could just use the sensors locally without it."", ""L24E: I didn't realize you could use these without the Govee cloud. Do they still connect outward and you also get the data locally - or do you actually stop the connection to Govee entirely?"", ""inorganiccentipede: Your monitoring goals are easily solved with InfluxDB and Grafana, both available as HA add-ons.\n\nWhatever your use case for having this info available to a third party, I'd say you are better off looking for a way to make those Grafana graphs available via something like NGINX than using a cloud-based service that's scooping up all sorts of metadata about the wireless environment around you."", ""pokemanho: That's what I've done with mine, just use the Bluetooth integration and pair them that way. All show up perfectly fine."", ""sauberflute: I think I still had to activate them in the Govee app but I haven't touched it since. I use the onboard bluetooth and BLE in active mode to poll them.""]"
1681790516.0	17-Apr-2023 21:01:56	Not able to setup HAOS in Hyper-V VM which does not have internet access	acev3ntura	0	12q9n8o	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q9n8o/not_able_to_setup_haos_in_hyperv_vm_which_does/	"Downloaded HAOS Hyper-V VM file and following the install from here:  [Windows - Home Assistant (home-assistant.io)](https://www.home-assistant.io/installation/windows) 

I am able to boot it and see Supervisor CLI prompt. When I access http://HAOS\_IP:8123 from a web browser I get ""Preparing Home Assistant"" page which is stuck indefinitely.   
I checked firewall logs and HAOS was trying to connect to NTP which I solved by pointing to local NTP server.

But this didnt help. It is still trying to connect to some resources outside of my local network.

This HAOS installation is on a part of the network which has no internet access whatsoever. I am not able to give it access even for 1 second.

I need to download whatever HAOS needs on another internet connected PC and copy it locally but cannot find any info how to do this. 

Found sound posts stating HAOS needs internet to download some docker images at setup then it can left offline but this approach will not work as per above.

So two questions:

1. What exactly HAOS needs from the internet
2. Has anyone managed to get HAOS running without internet or I am wasting my time

Thanks for your help"	1	"['Sometimes-Scott: HAOS is an OS that downloads the latest HA docker container. You need internet to setup HA OS. Their isn\'t a practical way around it.\n\nIn theory, you can install HA core without internet. You would have to download all of the python repositories and put them in the correct directory.\n\nYou might be able to download the container and move it, but I\'m not sure.\n\nThe practical answer is you are fighting a very uphill battle. Maybe create the VM on your laptop/deskop and then migrate it to the server?\n\nProfessional advice, if this is for a business, don\'t. If the network is that locked down, you probably shouldn\'t install something that has ""home"" in the title and pulls from so many repositories.']"
1681789948.0	17-Apr-2023 20:52:28	Playing Local MP3 Files Through Sonos (Symfonisk) Speaker	DasStig86	3	12q9duj	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q9duj/playing_local_mp3_files_through_sonos_symfonisk/	"I have found several posts addressing this but I have not really found any resolution.  

I use duckdns to access my HA remotely, and even when I am on my home network I am still connecting via the external IP. I think this may be part of my issue.

I have been able to upload some mp3 files in my www folder but I cannot get the speaker to play these files. They are very small files that I want to use for automations (like an mp3 with a voice saying ""front door open"" when the front door is opened).

Is there any way to play these locally hosted files with my current setup? I appreciate any help that can be provided. It really feels like it shouldn't be that difficult.

Edit: Here is the error message I am receiving when trying to play the local media:

Failed to call service media_player/play_media. Unable to determine Home Assistant URL to send to device. Configure internal and external URLin general settings."	3	"[""MrCuddlez69: I used to have this same setup, and here's what worked for me:\n\n1. Store your MP3 in: **Media > Local Media**\n2. Call it with this YAML\n\n```\nservice: media_player.play_media\ndata:\n  enqueue: play\n  media_content_id: media-source://media_source/local/Welcome_home.mp3\n  media_content_type: audio/mp3\ntarget:\n  entity_id: media_player.living_room_speaker\n```"", 'Shooter_Q: Not really answering your question but coming at the end result from a different direction: can you use TTS with your speaker instead of the MP3 files? I’ve found it very easy to use with Sonos speakers both individual and as groups.', 'antisane: You can do it with the www folder too, like I do in my announce script.\n\n      - service: media_player.play_media\n        target:\n          entity_id: media_player.living_room_cloud\n        data:\n          media_content_id:  http://192.168.1.99:8123/local/sounds/{{type}}.mp3\n          media_content_type: music\n\n{{type}} is the first part of the mp3 name so it knows which sound to play. I store the sounds in /config/www/sounds']"
1681789725.0	17-Apr-2023 20:48:45	ddc/ci to switch monitors as part of a scene?	TheMagicVariable	1	12q9a8d	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q9a8d/ddcci_to_switch_monitors_as_part_of_a_scene/	"I'm lucky enough to have a nice triple monitor setup in my home office-- mostly for work, but it pulls double duty for play as well.  I'm looking for a way to control the inputs via HA-- My current ""Work"" scene changes lights and drops the blinds, but I also want it to change the input on certain (not all) monitors to the HDMI from my work laptop (and vice versa for when work is over).  But I also want to change them one-by-one as needed as I use my personal PC for certain work tasks.

I already use ClickMonitorDDC on one of the PCs, which works great when I leave everything on and have visibility to that PC. I know I can assign hotkeys and go that route, but it seems to be unstable, especially if my main PC is turned off and I start manually changing inputs.  My HA server is on a Pi-- how do I control 3 monitors from a pi (actually using one as a display for the pi would be a bonus, but not necessary)

I've seen posts for ESP32 HDMI dongles that sounded promising, but I couldn't follow along well enough to know if that was the right path for me.  Thoughts anyone? 

And before anyone goes for KVM-- my personal PC is really finicky about its graphic outputs.  As soon  as I do anything funny, including using its HDMI port or using a DP to HDMI adapter, it crashes my PC.  So KVM is out :(.  But it doesn't know that I've got HDMI plugged into the same monitors and doesn't seem to have a problem with me switching monitor inputs!"	0	[]
1681789566.0	17-Apr-2023 20:46:06	MIDI from Home Assistant	Odd_Ad_446	3	12q97qn	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q97qn/midi_from_home_assistant/	"Hey there,  


I've been searching for ways to control MIDI devices via HA, but everything I've found so far involves the opposite: controlling HA with a MIDI controller such as a piano or otherwise. My goal is to send MIDI commands *to* my audio interface to trigger different routing presets.  


To boil it down, is there a way I can send MIDI signals to a device through HA? I have a feeling it'll end up requiring a DIY solution, but if there's any existing product or software I'd be more than grateful to hear any recommendations.

&#x200B;

Thank you!"	2	['iWQRLC590apOCyt59Xza: https://community.home-assistant.io/t/home-assistant-controlling-a-theatre-play/556365\n\nCheck the addon mentioned there.', 'Odd_Ad_446: Thank you very much, I will look into this one']
1681786757.0	17-Apr-2023 19:59:17	Home Theater Automation (Lights Turn Off / On) based on media player state (Plex is the media player)	EnonGator	18	12q7vsp	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q7vsp/home_theater_automation_lights_turn_off_on_based/	"For those with an automation for their home theater to turn off/dim the lights when media is playing (or paused) how do you handle when the media player goes idle? 

For example, when watching recorded TV shows, automation works fine when media playing (lights off) and when paused, lights turn on to set percentage, but the time between when a show ends and going to select next episode (or another show), the media player goes to an idle state so the lights turn on (not my desired effect). My automation using media state ""playing"" and ""paused"" currently, but curious how you've handle this scenario.

Searched within this reddit, HA forum, and general search, but couldn't find the solution (if it exists).  Appreciate the help!"	17	"['avatarpichu: Maybe you could set a “wait” for like 10 seconds before it does the action to give you a buffer before the next show starts, and not take too long after you are actually done watching to turn on', 'phblue: I’m also curious about this. In fact, I forgot I was curious about this because I moved my media player and never set it back up again. I will set it up again, though, if there is a good solution', 'dansushi: I don\'t encounter this issue with my automation. ""Playing"" does one thing, ""paused"" does another, and ""idle"" doesn\'t do anything. Can you DM me your automation yaml? Maybe I can help you out.', 'ChesterKing1313: I have a slightly different setup where I use a projector to watch shows / movies. As the player is always different (Amazon prime, hdmi input, mirror cast from phone) I couldn\'t use media player as automation. So I bought a tasmota smart plug to track the power consumption of the projector. Maybe you could use something like that in addition to your existing setup. In example ""if player is idle, but power consumption is still the same (so not turned off/standby) then don\'t do anything"".', 'vontrapp42: Is idle showing up as the same state as paused? Is that why you have an issue?', 'mini_juice: I ended up treating the ""idle"" state the same as ""paused"", then from there I used the LG integration to turn the lights back to normal lighting when the TV turns off. We recently switched to a Fire TV Stick and I was messing with that integration today. The updates sent to HA seem slow (~5-10 second delay), but hopefully I can use what\'s there to fine tune the lighting automations.', ""snowfil: I found the same, Chromecast w Google TV player state wasn't always accurate as to playing/paused.\n\nI've switched to using the (Onkyo network) receiver source/power as the main driver - TV vs music va off etc.\n\nMy tv is old but still has some basic internet capabilities. I have Netgear integration, and also trigger when the TV IP address is visible on the network (ie as it is turned on)"", 'snaky69: A wait fixes it for me.', 'Hylian-Loach: I have a timer on state change before lights come up. Just enough to bring up the kitchen lights when I arrive for a snack after pausing', 'Complex_Solutions_20: I don\'t really control lights that way but I have air-purifiers that are automated.  My solution is when the TV or FireTV stick is on (network connected to detect) I turn off the air purifier.  Basically set the TV/FireTV stick as ""a person"" and use ""home/not home"".', 'Tr0llz0r94: For the theatre alefrect at home I use this template: https://gist.github.com/rhl2401/3a445e446b707061cf5c28187b454aa0\n\nYou can import this in HA and setup the effects you want.\n\nWorks only when plex is playing on a cient', 'blackoutusb: This is exactly what I had to do', 'gckless: That’s what I do. I have a mood light under my coffee table turn on whenever playing, and only turns off when paused or stopped for 2 minutes. Gives enough time for people to pee or do quick things too.', 'michaelthompson1991: This idea sounds like the one!', 'EnonGator: I believe the time delay is going to be best here. We use Apple TVs and they report ""paused"" when media stops playing before going to ""idle"" and starting something new. I don\'t think ""standby"" will be the issue as it appears to be taking 15+ seconds for the Apple TV state to report that.  It\'s that annoying 1-2  second state update from ""playing"" to ""pause"" back to ""playing"" between TV episodes when starting new content. \n\nHere\'s my current [yaml](https://gist.github.com/twinkie0101/dc30033a9dda1357a9bcc20f9557f6e2)', 'ChesterKing1313: Maybe OP uses the idle state to detect ""standby""...', ""dansushi: I'm using Plex on an Android TV, so I guess it reports differently. I use triggers for my automation. How about you?""]"
1681786685.0	17-Apr-2023 19:58:05	Lock and Door sensor combo button	tiberiusgv	4	12q7uj9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q7uj9/lock_and_door_sensor_combo_button/	"Pretty thrilled with how this turned out so I felt like sharing. I have a Unifi Smart Sensor and a Unifi Deadbolt that I wanted to merge into one simple button for status and functionality in my UI.

I have to give a thanks to u/Apprehensive_Ad3112 for his [comment](https://www.reddit.com/r/homeassistant/comments/yt1ot1/comment/iw2au01/) that got me stated. I cleaned up and debugged a few things for my code for adding a template sensor for getting a combined status of the lock & door sensor and the custom button. I also added the scripting for conditionally toggling the lock that could be called when clicking the button, and added a reset automation if the door was left open and locked.

&#x200B;

I tried holding as true as I could to the colors and status used by the Unifi Deadbolt on its own in Lovelace.

[Door Open, Door Closed, Door Locked, Door Status Updating](https://preview.redd.it/tojgbr8eujua1.png?width=406&format=png&auto=webp&v=enabled&s=1c6a8e50f70173e87d8827a38a676cde9b66c0b0)

https://preview.redd.it/f8eyejbezjua1.jpg?width=1848&format=pjpg&auto=webp&v=enabled&s=265f6788b270455440471e3314ecfc385b5d4d39

# Requirements:

* Smart Deadbolt
* Contact Sensor on door with deadbolt
* HACS
* Button Card by u/RomRider integrated via HACS

&#x200B;

***back\_door\_sensor\_contact = on means that the door is open***

# Template sensor in Configuration.yaml

Essentially combined the states of the sensor and the lock and is used as the base entity for the button later on.

    sensor:
      - platform: template
        sensors:
          back_door_status:
            friendly_name: ""Back Door Status""
            unique_id: ""template_back_door_status""
            value_template: >
              {% if is_state('binary_sensor.back_door_sensor_contact','off') and is_state('lock.back_door_lock','locked') %}Locked
              {%- elif is_state('binary_sensor.back_door_sensor_contact','off') and is_state('lock.back_door_lock','unlocked') %}Unlocked
              {%- elif is_state('binary_sensor.back_door_sensor_contact','on') and is_state('lock.back_door_lock','unlocked') %}Opened
              {%- elif is_state('binary_sensor.back_door_sensor_contact','on') and is_state('lock.back_door_lock','locked') %}Opened and Locked
              {%- else -%}
              Unknown
              {%- endif %}

# Script

Can only toggle the lock if the door is closed, or can specifically unlock if the door is open and locked. Cannot lock while the door is open.

    alias: Toggle Back Door Lock
    sequence:
      - condition: or
        conditions:
          - condition: state
            entity_id: binary_sensor.back_door_sensor_contact
            state: ""off""
          - condition: and
            conditions:
              - condition: state
                entity_id: binary_sensor.back_door_sensor_contact
                state: ""on""
              - condition: state
                entity_id: lock.back_door_lock
                state: locked
      - choose:
          - conditions:
              - condition: state
                entity_id: lock.back_door_lock
                state: locked
            sequence:
              - service: lock.unlock
                data: {}
                target:
                  entity_id: lock.back_door_lock
          - conditions:
              - condition: state
                entity_id: lock.back_door_lock
                state: unlocked
            sequence:
              - service: lock.lock
                data: {}
                target:
                  entity_id: lock.back_door_lock
    mode: single
    icon: mdi:door-closed-lock

# Reset Automation

If the door is left open and locked for 15 seconds the door will unlock.

    alias: Back Door Lock Reset
    trigger:
      - platform: state
        entity_id:
          - lock.back_door_lock
        to: locked
        for:
          hours: 0
          minutes: 0
          seconds: 15
    condition:
      - condition: state
        entity_id: binary_sensor.back_door_sensor_contact
        state: ""on""
    action:
      - service: lock.unlock
        data: {}
        target:
          entity_id: lock.back_door_lock
    mode: single

# Lovelace Custom Button

    type: custom:button-card
    tap_action:
      action: call-service
      service: script.toggle_back_door_lock
    entity: sensor.back_door_status
    name: B-Door
    icon: mdi:lock-question
    layout: vertical
    show_name: true
    show_icon: true
    show_state: false
    aspect_ratio: 1/1
    state:
      - value: Locked
        icon: mdi:door-closed-lock
        color: limegreen
      - value: Unlocked
        icon: mdi:door-closed
        color: orange
      - value: Opened
        icon: mdi:door-open
        color: red
      - value: Opened and Locked
        icon: mdi:lock-alert
        color: red
      - operator: default
        icon: mdi:lock-clock
        color: gold"	3	"[""JoshS1: So you managed to get one of those locks in EA. I'm waiting to get 3 at some point."", ""tiberiusgv: Yeah EA over a year ago. The date on my deadbolt suggest they sat for a while befor they sold them off so my theory is they had the hardware sitting but weren't making progress on the software. They got the basic functionality working, and then sold the inventory they had to get it out the door. It works nicely and the people behind the Unifi Protect integration for Home Assistant have done a great job, but I would like to see better integration natively within Protect with the currently unused fingerprint reader on the G4DBP to unlock the door and pairing with a smart sensor as I've done here so the lock is aware of the state of the door. \n\nWould buy 2 more without a doubt, but my work here should be adaptable to any deadbolt and contact sensor combo."", 'JoshS1: Thanks for the info']"
1681786648.0	17-Apr-2023 19:57:28	Is there a Dashboard Versioning mechanism available?	nfilatov	1	12q7tzr	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q7tzr/is_there_a_dashboard_versioning_mechanism/	I spent several hours creating my Home Assistant Dashboards, which turned out beautifully. Unfortunately, I made a huge mistake and accidentally overwrote the entire thing. Since my daily backup didn't run, I had to go back to the last known working backup, which was from the previous day. This experience has made me wonder if there's a mechanism that handles Lovelace/Dashboard versioning. Building these dashboards can be incredibly time-consuming, and it's all too easy to make a mistake and lose all of your hard work. Does anyone have any advice on how to handle this issue?	8	"[""404flyer: You could [save your configurations in github](https://community.home-assistant.io/t/sharing-your-configuration-on-github/195144), but this still requires the discipline of remembering to check in changes.\n\nI wouldn't consider it a best practice (it meets a particular need I have, but I wouldn't necessarily recommend to others), but I have a shell command that copies my config files to a different RPi every hour. It overwrites what was there before, but if I were to accidentally delete everything, I could probably recover. Perhaps an improvement on this would be to copy to a timestamped folder and only keep the last few days worth."", 'Human_Spirit_8812: Been there done that. \n\nI’ve created a dashboard for myself called Playground and I’m only allowed to muck around in there. I often copy the yaml of my main dashboard and replace everything in the Playground dashboard with it so I can play around and test things.', 'zSprawl: Personally I’m hosting HA on ESXI. Since there is an ESXI integration, I have an automation that takes nightly snapshots that I turned on when I used to work on the dashboards heavily. You can even have another automation to clear the snapshots too.', 'zSprawl: This isn’t bad but please please make sure you’ve moved to a secrets file and exclude it, even if your repo is private.', 'nfilatov: I’ll definitely look into this, I am publishing node-red backups to GH already, so this makes sense.', 'nfilatov: This is actually a great simple solution, I really need to get thinking about treating HA as a production application as a whole. My wife and I count on it and this incident was a great reminder of how bad it could have been if I really messed it up. Thanks for the idea.', 'nfilatov: This is exactly what saved me this time around, except I’m on Proxmox.', 'Human_Spirit_8812: No problem!\n\nAt some point it seems like HA spread deep enough into our family that I couldn’t just tinker away without affecting someone else. Which is a good thing, but I have to be mindful of changes now too :-)']"
1681785133.0	17-Apr-2023 19:32:13	HA integration for solar battery inverters Australia	cantanga	8	12q73i8	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q73i8/ha_integration_for_solar_battery_inverters/	"I'm in the early stages of investigating options for solar and battery but google is failing me. Blackouts are rare so the battery is more just for shifting grid usage (perhaps will try out Amber electric and wholesale prices if I go ahead with it) and perhaps saving a few bucks (I realise it probably doesn't make much financial sense at this time unless I can export at the right times). I don't mind tinkering, but being Australia and I'm not an Electrician or IT professional I realise that tinkering ability for this project is very limited to setting up automations in HA, and running a network cable. Currently don't have solar or battery or anything so starting from absolute scratch. 

Does anyone have any recommendations for inverters/ battery systems etc. that are available in Australia, can be easily integrated with HA to monitor usage and controlling battery importing/exporting to the grid. Ideally I would also prefer to have this local control so I don't have to rely on a cloud system but I'm guessing that is probably starting to push things too far."	12	"[""holman8a: I also have fronius that works well with HA. I’m with Amber, their feed is easy to get into HA, however it only seems to reset daily for your actual use (pricing is live though). I asked them if I could add other services to my meter to get it live and I got this response (only about a week old): \n\nEmily from the Amber team here, I hope you're well! Thanks for getting in touch. \n \nWe definitely allow this, and encourage it! Nothing will stop working if you apply a device, such as a Powerpal, into your meter. \n \nFor home automation, we actually have an API that you can use in conjunction with home automation systems, and a community forum for our customers to share ideas. If you're interested in learning more, the below information is available: \n \nYou can generate API tokens and access the documentation at https://app.amber.com.au/developers/\n \nWe have a community discussion on the API on GitHub: https://github.com/amberelectric/public-api/discussions"", 'goobags_: The SolarEdge integration is cloud based and limited on the number of requests each day to like 300 from memory. This could have changed in the last two years. I use a custom component and a local modbus link. Not sure about the battery side though', 'Maurice_M0ss: Hey, I have a fronius inverter (no battery though) and it integrates very well.', 'gavin6559: Victron can integrate (Currently using 2x Multiplus-ii).\nIt will push all values to an MQTT Broker, and home assistant can subscribe to changes. This means you get the values in real time with no polling against the inverter or cloud endpoint.\n\n    Grid Power\n    Grid Connected True|False\n    Battery Levels\n    Consumed AH\n    Etc....', 'Kaldek: Telsa integrates with Home Assistant directly, as does Enphase.  I have both integrations running, but the battery is on the Tesla side.  Enphase is just doing solar stuff.', 'cantanga: Thanks for those links, looks like amber has some decent integration. Will have to look further at the fronius. Not sure about powerpal though everything I read makes it seem difficult to get the data into ha.', 'riceman85: I use the SolarEdge modbus integration (non-cloud). Doesn’t work over the WiFi module so I had ethernet run to my inverter. \n\nIf you go SolarEdge, mine didn’t come installed with the consumption monitoring, so I recently added a Rainforrest Automation EAGLE-3 to pull the stats directly off the power meter.', ""cantanga: I didn't even think of victron for home use for some reason. Guess I'm too used to seeing them used for caravan/camping setups."", 'cantanga: I was reading something about enphase API tokens being a pain to get and needing renewing often, is that still the case?', 'holman8a: Yeah I hadn’t heard of Powerpal until Amber mentioned it, I still have to do research on alternatives. Good to know they’re flexible!', ""gavin6559: I love my Victron kit, I like the remote access, built-in NodeRed, LowFrequency Inverter, It's so modular.\nBuilt in Europe!\n\nI connected mine between the Meter and the House fuse box so that in the event of a power cut, it will island the house and continue providing power. It happens in 20ms, so even my computer would not notice the powercut.\n\nBut it does cost a few coins!"", ""Kaldek: Not that I've noticed at all.  My enphase integration must have been up 7 months now without ever needing a new token.  I don't recall having any issues getting the token either!""]"
1681783594.0	17-Apr-2023 19:06:34	Advice when selling my home with HA system	977ONR	0	12q6bra	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q6bra/advice_when_selling_my_home_with_ha_system/	Everything is working perfectly and I want to keep it that way. And I don't want any support calls from the guys buying my house. Is there a way of turning off ALL updates and just let it run the way it is now forever?	8	"['zSprawl: Make your house dumb again.', 'AnxiousAtheist: Take it with you.', ""kunigit: Let me put it to you this way... if I were to buy your house, I'd rip everything out and do everything over.\n\n> Everything is working perfectly \n\nFor you.\n\n> And I don't want any support calls from the guys buying my house. \n\nBetter use a burner phone and email address when you sell.\n\n> Is there a way of turning off ALL updates and just let it run the way it is now forever?\n\nPlease tell me you know that's not how computer systems work. After a year or two, when (not if) something breaks, the only fix will be complete replacement."", 'Home_Assistantt: Make it dumb. It’s guaranteed to stop working on day - for no one to fix', '977ONR: Thank you for the advice. If you could humor me and tell me how I would go about achieving what I want', 'lostboy785: 100%', 'DogTownR: Basically you should only leave what normal humans can get supported behind. Think router, switch, access points from Google, etc. motion sensing switches maybe. No Home Assistant. Sadly.', 'VoodooMamaJuuju: Is one of the selling points of the house listed as ""smart home enabled""? If so, I\'d remove from the listing and take you HA stuff with you or if you wish to leave it just let the home owner know that it has the capability but it needs management']"
1681782895.0	17-Apr-2023 18:54:55	How to add Addon to HA	aprettyparrot	1	12q5z21	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q5z21/how_to_add_addon_to_ha/	"I’m getting kind of confused by the adding. I found one post on HA docs saying it was in supervisor panel, then another that supervisor was removed. 

I just want to add the sonoff repo to get smart switch going.

Running HA in Docker container on Linux box."	8	"['aprettyparrot: Container, I got it to working :>', 'UngluedChalice: I think you have to do each in its own docker container based on your setup.', ""nuditarian: I don't think Add Ons are an option running the HA Container version. Or are you running HA Supervised?"", 'aprettyparrot: Each what?', 'UngluedChalice: Each add on.', 'aprettyparrot: I can do that no problem. Probably just use compose to start them all at once.\n\nHow do to make HA know about the addon when I’ve brought the new container up?', 'UngluedChalice: No clue. I run HA OS. I think I tried docker once with Portainer and couldn’t get it figured out. I’m sure there are lots of tutorials and stuff out there.', 'LurkerTalen: Generally the add on documentation will tell you how to add them to home assistant - they really are just independent containers and some of them don’t integrate. Some have partner integrations that are needed, some use native integrations (Scrutiny uses REST sensors for instance). Most of the documentation is going to be focused on HAOS, and you’re more on your own with a docker deployment. \n\nFor ewelink it looks like it creates the entities directly but you’ll need to configure it to connect to the instance with a long lived access token manually (this happens automatically with HAOS). How that works I don’t know it’s not obvious so you’ll have to read the docs and possibly the build or run commands.']"
1681782651.0	17-Apr-2023 18:50:51	Yale Assure 2 Lock - limited functionality?	ntsp00	1	12q5utz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q5utz/yale_assure_2_lock_limited_functionality/	"After upgrading from the original Assure lock that used z-wave to the Assure 2 lock, I found the new model doesn't expose as much via the bluetooth integration. I can see lock status, door status, signal strength, battery voltage, and battery level but not who unlocked the door (which code was used). I know Yale is coming out with z-wave and matter modules for the Assure 2 but will upgrading the module change anything? Is the limitation due to using bluetooth or is it due to Yale restricting this lock?

I'm willing to live with not being able to tell who unlocked the door temporarily, but if the future z-wave or matter module isn't going to change anything I'd rather just stick with the original lock."	1	['bdraco104: If you want logs of who opened the door you can grab an august bridge and install the august integration']
1681782352.0	17-Apr-2023 18:45:52	telegram bot, two users.	pookexvi	2	12q5pgg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q5pgg/telegram_bot_two_users/	"ive been using telegram for a while to interact with my HA working great. when trying to add another user. when ever 2ed person sends a command the response goes to the 1st. 1st sends one the 1st gets it. the 'trigger even data chat id' comes though just fine. its sending the responce back out, ive tried.

`service: telegram_bot.send_message`

`data_template:`

`chat_id: ""{{ trigger.event.data.chat_id }}""`

`message: The current temperature is {{ states('sensor.average_temperature') }}°F`

`disable_notification: true`

with no luck, not even sure if the 'chat id:' line even is valid.

&#x200B;

Edit;  
got it fixed i was using 'chat\_id:' when i should have been using 'Target:'  
"	7	"['Hatarez: You can reach multiple recipients by adding their chatid in the configuration.yaml file.', 'Hatarez: Did you try adding the bot to a group?', 'pookexvi: I have done that. No matter who sends the command, the response goes to the first person in the list.', ""pookexvi: No, I haven't. What would that do? Of what I read it makes a group chat on a ways."", 'Hatarez:     # Example configuration.yaml entry for the Telegram Bot\n    telegram_bot:\n      - platform: polling\n        api_key: xxxxx\n        allowed_chat_ids:\n          - 1233456789 # example: 123456789 for the chat_id of a user\n    #      - CHAT_ID_2 # example: -987654321 for the chat_id of a group\n    \n    # It is possible to add multiple notifiers by using another chat_id\n    # the example belows shows an additional notifier which sends messages to the bot which is added to a group\n    #  - platform: telegram\n    #    name: NOTIFIER_NAME_OF_GROUP\n    #    chat_id: CHAT_ID_2', ""Hatarez: I didn't try it. I have had this code in my config for a while now. Not sure of the source, but I am confident it's good."", ""pookexvi: this is sounding a lot like a group chat in a since. not really what im after. im wanting separate chats with the HA bot. if this isn't possible okay.""]"
1681781059.0	17-Apr-2023 18:24:19	Are there any issues running home assistant OS on a ryzen processor?	puterTDI	0	12q52ch	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q52ch/are_there_any_issues_running_home_assistant_os_on/	"I'm looking at moving my HA install from a pi to a ryzen based nuc, specifically this one:

https://www.amazon.com/Beelink-SER5-Desktop-Computer-Support/dp/B0B3NKN4FM/ref=sr_1_3?crid=533CEPDDA3EI&keywords=beelink&qid=1681768959&s=electronics&sprefix=beelink%2Celectronics%2C293&sr=1-3&ufe=app_do%3Aamzn1.fos.ac2169a1-b668-44b9-8bd0-5ec63b24bcb5&th=1

I prefer to use the hasos but I wanted to confirm if there are any issues with using a non-intel based processor before I go that route.  Does anyone know of any reason this would be an issue, or can anyone recommend a better option?  

note: I'm being driven to do this because I'm running frigate and one of the cameras needs to be monitored at max resolution, this is pegging the pi CPU to like 80-90%.  I'm trying to give it as much horespower as possible for this."	17	"['nickm_27: If you are looking to run frigate, HA OS doesn’t include the AMD driver so you won’t be able to use your GPU for anything. Definitely would recommend a docker compose approach instead', ""ufgrat: My proxmox system is based on an AMD 5700G processor, and runs like a champ.\n\nI run frigate in it's own VM, rather than an HAOS add-on, which in theory allows me to use the AMD GPU, but at the moment, it's not working, and I haven't taken the time to dig into it.  It's entirely possible that it's because I'm running in a VM.\n\nThe mPCI-e coral TPU, however, is working rather well."", 'puterTDI: If I stick with an Intel based nuc would I be ok?  I’m trying to avoid additional complexity and I’m not sure how much switching to docker compose would add', ""puterTDI: honestly, I think I'm better off compared to a pi even if I just run without gpu acceleration.\n\nAm I right that if I use a ryzen and just do a HassOS install that everything will work, I just won't be able to enable hardware acceleration?  That seems to be what I'm getting from what you and nick said but I just wanted to confirm before I order.\n\nI still think I'd be better off in this scenario compared to running a pi.  As it is I can only enable hardware acceleration on 2 of my cameras before it starts flaking out.  I was able to run all 7 without issue at around 40% cpu.  I didn't have  an issue until I added an 8th camera that needs to have the processing done at full resolution so it can pick up and identify dogs.  Now it runs at 80-90% cpu and my hope is I can just go to a more powerful nuc and have that resolve the issue."", 'nickm_27: Depends, newer nucs (11th gen+) require the iHD driver in my experience which is also not included in HA OS but other than that should be okay', ""ufgrat: If you're doing identification, you'd be better off adding a Coral TPU to your system.  Offloading object recognition will be the single biggest boost to your performance.\n\nThe USB accelerator is on backorder, but Mouser's been completing orders faster than advertised."", 'puterTDI: So, avoid 11th gen\n\nDo you happen to know if there are any plans to expand driver support for haos, or if it’s possible for me to access the os enough to add the drivers myself?', 'puterTDI: I have a coral.  I want to use the gpu for ffmpeg', 'nickm_27: From what I’ve seen they’re not interested, because if you want to work with that you’ll likely want to be running your own OS with docker anyway. But that’s mostly speculation based on comments on GitHub', ""ufgrat: Got it.  Yeah, you should be OK, with the caveat that you're probably looking at building your own supervised stack on top of your own OS (essentially creating your own version of HA OS)."", 'puterTDI: That’s unfortunate.  Thank you Nick, you’re always so helpful!', ""puterTDI: am I right that if I go with a containerized install I can't use addons?\n\nI ask because I was confirming what gen intel has ihd and it's looking like it's 10th gen and newer, so that means I would have to go with 9th gen or older.\n\nAt this point on the pi I can only use hwaccel on 2 cams at a time anyway.  I'm almost tempted to go with the amd and just sacrifice gpu accel."", 'puterTDI: I was hoping to use ha os knowing that it means I won’t be able to use gpu accel for ffmpeg.  Is that not true?\n\nI’m not a huge fan of losing add ons and I really like the ha backup method', 'DogTownR: There are a decent number of threads on using a used micro PC for this. Mine came from eBay for about $100 and it’s running HA well.', 'nickm_27: Addons are just docker containers, it’s honestly quite easy to get it sorted out just takes some learning and patience', ""ufgrat: That would be the easiest route, yes, but as you say-- no HW decoding via ffmpeg.\n\nHowever, if you build a linux box, and installed the HA / Supervised setup, as I understand it, you'd still have all the functionality of the HA OS, but with your own kernel (and therefore GPU driver) underneath.\n\nSee [https://github.com/home-assistant/supervised-installer](https://github.com/home-assistant/supervised-installer) for more information.\n\nIt does mean that you're now a Linux admin, though.  I don't know if that's an issue for you."", 'puterTDI: I’ll take a look at it.  If I can basically get add ons still I’ll consider it.  I have multiple other Linux boxes, but one of the things I liked about hassos is not having to deal with that.\n\nI’ll admit I’m also banking a bit on the idea that they will add support']"
1681779430.0	17-Apr-2023 17:57:10	iPhone app not refreshing to show updated status	Potential_Anything70	1	12q47mo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q47mo/iphone_app_not_refreshing_to_show_updated_status/	"A scenario where i pull my car out (i press the manual garage door button to open) and wait in the driveway trying to close my garage using the HA app on my iPhone (which shows 5G full bars) it shows garage open status, i will have to pull down the page to refresh few times until it shows garage close button.  not sure why.  Today in the same situation i came in (garage opened by automation) and my phone shows garage open, i closed garage manually by pressing the manual button on the wall, came home and waiting for the HA app to show the closed status, after waiting for 10+ min, it did not update the status at all, i have to pull down to refresh and then it showed.  (before doing that i came to my desktop and it shows closed status already)

but other devices like light, motion all shows and refreshes instantlly."	2	['zSprawl: I’m guessing it’s cause your phone is swapping from the internal wifi to your 5G cellular, so the app is sending commands to the internal server IP until you refresh it a lot or hard kill it and relaunch. \n\nI generally get impatient when it swaps so I swipe up on the iPhone to show all apps, then swipe up on HA to close it, and then relaunch it.', 'Potential_Anything70: if thats the case you think, as i said earlier, i am back home inside and phone shows connected to wifi, i still did not see the device refresh for 10+ min and the only way it showed refreshed data is when i pulled down for refresh.']
1681777551.0	17-Apr-2023 17:25:51	How to deal with repetitive automations that involve different entity IDs?	Practical-Plan-2560	1	12q39e3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q39e3/how_to_deal_with_repetitive_automations_that/	"I have this automation that basically charges certain devices in a smart way. Every 5 minutes, it will check to see the current energy rate (to ensure it's off peak), and check the CO2 Signal Fossil Fuel % to ensure it's below a certain level, along with the current battery level of the device. Then it will turn on or off a smart plug depending on all of those factors.

I'd like to be able to duplicate this automation to other devices with other custom attributes/variables (charging thresholds, CO2 Signal values, etc). But that involves having variables for Device IDs, Entity IDs, and some other values.

I know Scripts would be the best way to do this. However, scripts with custom variables don't work for entity IDs. It gives the following error: \`Message malformed: value should be a string for dictionary value @ data\['entity\_id'\]\`.

Is there a way to do this so that I don't have to duplicate the automation for each specific device? I wanted to use Scripts in case I want to make a change to the logic so that I don't have to change each automation and can just change the one Script.

Any suggestions?"	5	['_avee_: One solution I have in mind (which still involves some duplication) is to have a template binary sensor for each device which will calculate whether device is supposed to be charging at the moment. You can have a macro for shared logic so each template will just call this macro with whatever parameters you define for this device.\n\nAutomation will have a list of these sensors in a state trigger and then with regex will calculate the id of a switch that needs to be toggled.\n\nIf you don’t want things to toggle back and forth too often you can use delay_on and delay_off parameters on templates.', 'Lopsided_Age1460: You can create a blueprint and create an automation for each one. A python script is another option.', 'TeaRexJack: You could make text helpers to store your variables.\nThats the way I use them for my NFC tags.\nSo your automation per device would fill the text helpers with the variables that are needed and as a final step triggers your script (which would use the text helpers).', 'blackleel: It should be quite easy in node-red', '_avee_: I use a similar approach for controlling my blinds. Here’s how action converts trigger entity id to entity it needs to update - note that it relies on consistent naming: https://i.imgur.com/QrziVL3.jpg']
1681775113.0	17-Apr-2023 16:45:13	FOSS SmartHome hardware compatible with HomeAssistant?	Quadrubo	2	12q2052	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q2052/foss_smarthome_hardware_compatible_with/	"I've just setup HomeAssistant on my server and was wondering what hardware I can get for switches, lights, sockets, etc.

I want something that works without internet access and if possible has open source firmware as I don't want to end up with a system that will break down the line. I've also heard about the new protocol named matter aimed at unifying the communication across devices which seems to be Foss so that would be nice too. Thanks :)

Edit: European here."	5	"['kreugerburns: You should look [here.](https://cloudfree.shop)', ""dusun_iot: This [gateway hardware](https://www.dusuniot.com/product/dsgw-210-rk3328-iot-gateway-hub-controller-bridge-hardware/) is perfect for what you are looking for. It's ARM-based processor (RK3328)\xa0running pre-built\xa0Linux Debian 11. with up to 2GB RAM and  32GB eMMC. and extra SD card slot. You can use it to make local configurations and storage.\n\nOn the other hand, it supports many protocols. BLE/Zigbee/Z-Wave/Matter/Thread... easily connect all your home gadgets.\xa0Linux Debian 11. with up to 2GB RAM and  32GB eMMC. and extra SD card slot. You can use it to make local configurations and storage. Firmware OTA support.\n\nThere is also a Home Assistant pre-installed version."", ""Quadrubo: Ah okay thank you, this site seems to be some kind of reseller? I can see it offering products from different brands, what exactly does the site do, is it flashing those devices with custom firmware or just a resource of devices that have open firmware? \n\nI should probably also mention I'm from Europe."", 'kreugerburns: Yeah his goal is to make things easier for people that value privacy to build a smart home. He usually flashes Tasmota (open source firmware for devices with ESP chipsets). Also if you click the shipping page theres a link for European customers.']"
1681773763.0	17-Apr-2023 16:22:43	Tank Farm Propane Monitor	Opening-Panic-786	0	12q1b3d	homeassistant	https://www.reddit.com/r/homeassistant/comments/12q1b3d/tank_farm_propane_monitor/	Relatively new to HA and still working on my integrations. I have Tank Farm propane and they provided a monitor which works through the tank farm app. Any ideas on how to integrate this into HA?	0	[]
1681769621.0	17-Apr-2023 15:13:41	Thermostats: Honeywell T6 pro Zwave vs Emerson Sensi Wifi. Which should I use?	Altie-McAltface	2	12pz39e	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pz39e/thermostats_honeywell_t6_pro_zwave_vs_emerson/	"I currently have an Emerson Sensi Wifi thermostat installed. No C-wire. I bought a T6 Zwave thermostat for local control, but am having second thoughts. I could get a C-wire transformer instead and use the Homekit integration, but that would involve a dangling cable. Either way, I want local control.

What say ye?"	9	"['amazinghl: I have a Sensi thermostat with homekit for local HA control. I love it.\n\nDo you have a Zwave hub?', 'Blaze8218: Z-Wave! I highly recommend it. Home assistant works so much better than WiFi and isn’t dependent on cloud or external.\n\nI had a wifi thermostat on a subzero -30F not work because of maintenance!', 'ufgrat: I have the T6 Pro Z-Wave, and it\'s not just a really good z-wave device, it\'s a really good thermostat.  I do have the 2007 model (which isn\'t the year, but indicates it\'s using the 700 series z-wave chipset-- I think).\n\nI did make the mistake of treating the thermostat like other Honeywell thermostats, that require a gap between the target heating and cooling temperatures, and this caused me no end of frustration.\n\nI live in Florida, and the temperature can swing wildly-- today\'s high was 80F, tonight\'s low is supposed to be 44F.  I have a one degree separation between ""heat"" and ""cool"", and my house has stayed in a 2 degree band for over a month now.', ""OcelotTerrible4233: FWIW, I'm another T6 Pro fan. I recently installed them and they have been rock solid with HA."", 'danlo315: I have two T6Pros and no C wires hooked up. Runs off batteries just fine.', 'MowMdown: T6 Pro User here, I have the 2007 model, works great and as expected.\n\nEvery settings is configurable in zwave', 'Altie-McAltface: Yes I have a zwave dongle.', 'amazinghl: >Emerson Sensi Wifi thermostat \n\nDo you have homekit thermostat?  \n[https://sensi.emerson.com/en-us/support/sensi-thermostat-compatible-to-apple-homekit](https://sensi.emerson.com/en-us/support/sensi-thermostat-compatible-to-apple-homekit)', 'Altie-McAltface: It is comparable with HomeKit but requires a C wire which I don’t have. Using a c wire adapter would leave a dangling cable to another room.']"
1681769387.0	17-Apr-2023 15:09:47	Trying to get my AC to turn on and off with temp sensor	LowSkyOrbit	0	12pyyfx	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pyyfx/trying_to_get_my_ac_to_turn_on_and_off_with_temp/	"Hello, my apartment has a very old Air Conditioner that just has dials an no economy mode. Just fan speed and temp setting. Essentially I just want to run it off a Kasa outlet and Aqara temp sensor to turn on or off based on the temp. I'm having trouble with it coming back on after it turns off after reaching temp.  Below is my code and I believe it should work as intended.

    alias: Auto Bedroom AC On
    description: """"
    trigger:
      - type: temperature
        platform: device
        device_id: 869a9da511681acd8296ee8◻◻◻◻be23
        entity_id: sensor.bedroom_sensor_temperature_2
        domain: sensor
        above: 73
    condition:
      - condition: time
        after: ""20:00:00""
        before: ""05:00:00""
    action:
      - service: switch.turn_on
        data: {}
        target:
          entity_id: switch.air_conditioner
      - repeat:
          until:
            - condition: time
              before: ""07:00:00""
              after: ""20:30:00""
          sequence:
            - service: switch.turn_on
              data: {}
              target:
                entity_id: switch.air_conditioner
    mode: single
    



Here's the Auto off command which does work:




    alias: Auto Bedroom AC off
    description: """"
    trigger:
      - type: temperature
        platform: device
        device_id: 869a9da511681acd8296ee8◻◻◻◻be23
        entity_id: sensor.bedroom_sensor_temperature_2
        domain: sensor
        below: 72
        enabled: true
    condition: []
    action:
      - service: switch.turn_off
        data: {}
        target:
          entity_id: switch.air_conditioner
    mode: restart
    

Any idea why it fails to come back on when its above the set temp?"	9	"['keatonatron: Any reason you aren\'t using the ""climate"" integration? That\'s what I\'m using, and it works great.', ""eLaVALYs: Maybe I'm missing something, but what's the purpose of the repeat loop? \n\nAlso, it looks like the repeat loop will run infinitely. If the time is before 7am or after 8:30pm, turn the switch on and stop. If it's currently 11am, the loop will turn the switch on and repeat. And since it's still 11am, the loop will repeat."", 'woodensaladtongs: You have “enabled: true” in the turn off command? But not in the one that doesn’t work? My yaml automation skills are rusty but that’s what I saw', ""Hindsight_DJ: Shouldn't you be basing the 'on' switch based on device state? You have it set to a device trigger.\n\nIf it were me:\n\n    trigger:\n      - platform: numeric_state\n        entity_id: bedroom_sensor_temperature_2\n        for:\n          hours: 0\n          minutes: 1\n          seconds: 0\n            below: 72\n\nThe time condition is helpful in a numeric state trigger, and as bedroom temperature is a numeric value, this could work for you. I think a template trigger could work \n\nI would also get rid of the repeat/sequence, and just have it turn on, period, end of automation. Then set a condition for turn on to be the device state is presently 'off' that way it will condition itself out instead of repeating endlessly. Then eventually, it will satisfy the requirement and enable it.\n\nThere are also useful blueprints that can help with a more robust/smart automation, I personally like [this one](https://github.com/marco-hacs/Automatic-air-conditioner/blob/main/automatic_air_conditioner.yaml) [direct install - here](https://my.home-assistant.io/create-link/?redirect=blueprint_import&blueprint_url=https%3A%2F%2Fgithub.com%2Fmarco-hacs%2FAutomatic-air-conditioner%2Fblob%2Fmain%2Fautomatic_air_conditioner.yaml)\n\n\nLastly you could use your 'off automation' with an 'if/then/else' setup, if temp above X = turn on, if below X turn off, else = stop (so it can re-run - maybe in an hourly time pattern, get creative there)"", ""LowSkyOrbit: I don't have a thermostat. I'm using an aqara sensor and a kasa outlet to turn off and on the AC. Didn't think I could use that."", ""LowSkyOrbit: My problem was I can't get the AC to turn back on once the off command gets pushed."", ""LowSkyOrbit: Thanks I'll look into that"", 'keatonatron: The climate integration takes a temperature sensor and a relay/smart outlet, and combines them to make a thermostat! So you should have all the pieces you need.\n\nGive it a try: https://www.home-assistant.io/integrations/climate/\n\nStart out by just configuring the climate object and play around with the manual controls before moving onto automation.', ""LowSkyOrbit: Oh nice. I'll take a look""]"
1681766790.0	17-Apr-2023 14:26:30	"My overkill solution to ""Does the cat's litter need cleaning?"" [Blue Iris + CodeProject.AI + HA]"	automatemyspeaker	388	12pxi2j	homeassistant	https://i.redd.it/wav8ztz8iiua1.jpg		48	"['OneVio94: I need this.', 'tentativetheory: Nice.  Have you looked at the Litter Robot?  I’m very happy with it.  I installed a through-wall bathroom exhaust fan and have an HA automation that turns on the fan for 15 minutes after a cat uses the LR.', 'Draskuul: It would just be an infinite loop for me.   As soon as I clean his litterbox he immediately jumps in and use it.\n\n\nSeriously though, great project!', ""adlx: I have a much less sofistated solution to remind me (aka force me) to clean the litter box.\n\nI keep a counter in HA, which increments every day. If the counter is one or more, it will show me a notification at 8, and every hour ,iif I'm home with a text and n 💩, n being the value of the counter. I have an NFC tag on the litter box. When I scan it, it will clear notification on my phone and reset the counter to 0. Simple but quite effective."", ""jakabo27: For anyone looking for a simple solution, I put an Aquara tilt sensor on the lid of the odor trapping trash can thing we scoop the litter into. If the lid hasn't been opened in 36 hours it notifies us, and reminds us every 6 hours after that"", 'angrycatmeowmeow: Awesome', 'ams3401: This is gold', ""Ablastado: Awesome project, congrats.\n\nDo you mind elaborating -or pointing me in the right direction- on how you're sending the video snapshot + the message + the 3 actions (Live view, mute 15m, mute 1h) in the notifications?"", 'Temporalwar: Someone hire this person at the litterrobot.company', 'Fiery_Eagle954: how would you feel if your cat installed this in your bathroom', 'SkiSTX: What, no air quality detector?', 'ntech2: Damn nice work! I need this but for detecting humans at the door. Thanks!', ""HolyPommeDeTerre: I am thinking about this. But I got 4 litters in very different places. \n\nIt'll become costly to monitor each one and manage them independently.\n\nAnyway, cool project !"", ""Flo_dl: Nice! I've attached Aqara vibration sensors on two litter boxes. Not as fancy but actually works quite good."", ""automatemyspeaker: In case you or anyone else is looking for actual tips on how to setup:\n\n[Blue Iris](https://blueirissoftware.com/) on a windows machine (running 24/7 for other services anyway) \\[\\~€90 for a year's license\\]\n\n[CodeProject AI Server](https://www.codeproject.com/Articles/5322557/CodeProject-AI-Server-AI-the-easy-way) for human/cat/dog etc image analysis \\[Free\\]\n\n[Tapo C200](https://www.tapo.com/us/product/smart-camera/tapo-c200/) streaming RTSP to Blue Iris (I've restricted mine to LAN only) \\[\\~€25 last I checked\\]\n\n*Depending on you experience*, maybe a few days of messing around with Blue Iris, and learning it's MQTT alerts (definitely download their PDF manual for parameter references if anyone gets this far).\n\nYou can *probably* do the same thing for free with Frigate directly on your HA machine. I just opted for Blue Iris as I have a more powerful machine running windows with a better GPU and way more storage for NVR with my three other cameras."", ""automatemyspeaker: Very cool, our bathroom vent actually runs through this section too.\n\nLast time I looked into Litter Robot, v3 was the latest model. I found too many reviews stating major issues after +1 years of use, and how the internals are virtually impossible to maintain/clean. So I decided I'd sit on it until someone released something that'd last longterm, considering the price.\n\nGlad to hear it's working out for you!"", ""johntash: >  I installed a through-wall bathroom exhaust fan\n\nWhere do you have your LR, and the fan?   We have one (with a couple normal litter boxes) in a spare bathroom, I thought about trying to hook it up to the bathroom exhaust fan already in there but wasn't sure I'd want to with how loud it is."", ""automatemyspeaker: It's funny, I knew they did *sometimes* run in just after a cleaning, but now that I'm notified everytime and have the data, I see that the 'fresh pooper' experience is a **100% of the time thing**, for both cats!\n\nI have a specific notification sound on for cleaning alerts, so I'm now wondering will that sound cause some kind of Pavlovian effect on the cats.\n\nPoop on demand, would that be a useful tool?! 😅"", 'automatemyspeaker: We had a similar set up for awhile too, you can still see my Ikea shortcut button stuck to the door on the first notification above!\n\nI recently set up an NVR system for my other cameras, and got carried away with object recognition, and decided to repurpose a spare indoor camera to *save* us an extra button click per day 😅', ""automatemyspeaker: MQTT on alert topic/payload in Blue Iris: https://pastebin.com/s0MuaWa0\n\nAutomation for alerts: https://pastebin.com/GEtVDFZ9\n\nAutomation for handling mute action presses: https://pastebin.com/3HypQWgd\n\nI've removed some sensitive addresses and my other cameras, but the above should work. Shout if you have any issues.\n\nEdit: Oh, you'll also need to set up the downloader integration if haven't already, `/config/configuration.yaml`:\n```yaml\ndownloader:\n  download_dir: /media/downloads\n```\n\n_I'm downloading the images from BlueIris into HA (overwrite as to not use up much storage), so that I can set BI to require full authentication even on LAN._"", ""SgtBatten: If you use frigate there's a blueprint built for that too"", ""automatemyspeaker: That'd be like Nasa hiring a guy who built a hobby rocket out of plastic bottles and mentos 😅"", ""automatemyspeaker: Haha, I'd feel bad, but these two cats scream at me until I come watch them poop sometimes. Stage 5 clingers."", ""automatemyspeaker: I'm using the same setup for human, postman and particular trained faces. I answer the door now before they even ring the bell, would recommend!"", 'Daniel15: Did you train your own AI models, or did you just use the ones that Blue Iris ships with?', ""ds-unraid: Have you seen [frigate](https://docs.frigate.video/)? I replaced my Blue-Iris because I didn't like that I had to run a  VM to use it.  Frigate is CodeProjectAI and BlueIris combined along with RTSP streaming. Best of all it's FREE AND runs in a docker container"", 'dcoulson: We have litter robot 4 and it’s great. Even has home assistant integration so you can couple it with espresense and know which cat just pooped.', ""Kirby6365: Not sure what reviews you were reading, but LR v3 seems perfectly fine to clean and maintain. Also, the LR company sells basically every spare part so even if it breaks you can buy replacements easily.\n\nThe only issue I've found is that the pinch detect does seem to fail over time from corrosion... But you can bypass it, and none of our cats seem stupid enough to potentially be in danger of the pinching.\n\nMy main complaint of the LRv3 is that it's pretty loud when cycling. The 4 seems to have fixed that."", 'tentativetheory: The LR3 is very reliable, but will require some maintenance/repairs over a long enough timeline.  Mine from 2015 is still going strong, but I’ve had to replace a few parts over the years.  All repairs were very easy.  It’s worth it if you’re the type of person that doesn’t mind gloving up and swapping parts in a shitbox every couple of years.', ""v0lrath: I have 2 cats and one of them absolutely refuses to use the Litter Robot. I also tried the similar Petkit Pura Max and she wouldn't use either one, opting to go on the floor instead.\n\nSo keep in mind that while you might be the target audience for an enclosed robot litterbox, there's a chance your cat won't be."", 'AvGeekExplorer: Our Litter Robot 3 lasted about 5 years. Just bought a 4 because the new one is so much quieter.', ""lizaoreo: I got a Litter Robot v3 in 2017, I've not had any issues with it (though the sensors seem off now, it doesn't always fire when it should).  I think I need to just give it a deep cleaning, probably been a few years since I did that and recalibrate all the sensors.  I upgraded the main board to the wifi version when they released that and I've had to replace one of the sensors a few years ago, which I believe was free despite being out of warranty.  They had a newer version of the sensor available than mine had when I contacted them about it.  Their support has always been great though and, at least for me, it's not been a big deal to take it apart and clean it and stuff.  The biggest hurdle for me is I have it under a shelf in our tight utility room, so it's just a hassle dragging it out from under that and getting room to work on it (it is large)."", 'tentativetheory: It’s in the laundry room which has an exterior wall.  I used a Panasonic 70 CFM fan that’s very quiet.  It’s connected to a Kasa smart switch that’s triggered by HA when the LR detects a cat.', ""Draskuul: Oh, 99% of the time when I go to clean it he's already followed me in there, and just stands there waiting."", ""lizaoreo: I've been including the base64 encoded alert image from BI in the MQTT alert for motion/person detected on outside cams, any reason you didn't go that route?"", ""automatemyspeaker: I use IPCam-Combined which comes packaged in CodeProject AI Server these days [https://github.com/MikeLud/CodeProject.AI-Custom-IPcam-Models](https://github.com/MikeLud/CodeProject.AI-Custom-IPcam-Models)\n\nI find it occasionally classes our two cats as 'dog', I think it's because they're a lot whiter than the typical cat, but it's not an issue, as I just mark anything as a cat or dog as 'cat' in HA.\n\nAlthough I have 'trained' some faces myself, I have a special 'postman' alert on our front door cam."", ""automatemyspeaker: I have, and spent a bit of time weighing up the options.\n\nI settled for Blue Iris mainly due to Window's support. I didn't want my HA blue to also be my main NVR, as I'd be hacking together storage over network, worrying about HA outages while messing around with it, and also my HA Blue is nowhere near as performant as my always-on windows machine.\n\nPossibly opinionated, but according to a few reviewers popular here, BI is a lot more reliable and has more configurability vs Frigate.\n\nIt was mainly the Windows choice though that got me. If I had a more powerful always-on unix based homelab, I'd definitely have tried out both first before deciding."", 'Robotober: I second this suggestion! I just setup Frigate last week and have been pretty happy with it. The docs could use a little dummy-proofing, but once I fixed my issues, it’s been working really well.', ""automatemyspeaker: Just watched some reviews, I see they've put a lot of effort into fixing feedback/complaints from v3, and have easy cleaning of the internals!\n\n**\\*wallet violently shakes in pocket..\\***"", 'Suitable-Weekend5681: I got an LR4 before I started doing HA, and was happy to see there was an integration for it, so now I can have it automatically set the air purifier to medium when one of my cats goes inside, and then sets the purifier to full blast for 5 minutes before going back to automatic when the LR starts a cleaning cycle.', 'lizaoreo: Cats can be so picky.  I think they have a guarantee thing at least, like 90 days and you can return it?', ""automatemyspeaker: I initially was going to do that, but opted for downloading the image, as I thought there'd be a crop integration or script I could run more easily on a file vs b64.\nCurious, do you need to decode or save it as a file to use it as an image for notifications, or just plop the value in notification data.image?"", 'Daniel15: I also use those models, and for some reason it always detects me as a dog! haha', ""lizaoreo: Trying to figure out how it works again, it's been a minute :)  I'm curious as to whether the downloader option might be better, sometimes the alert sends the previous image instead of the current one which is a little annoying/confusing at times."", 'Nyghtshayde: Possible explanation but I need some more info: do you behave weirdly around full moons or have an aversion to silver?', ""automatemyspeaker: Fwiw I've never had that happen with the downloader. Might be worth saving more of your traces and analysing the payload, perhaps that's a BI bug 🤔"", 'lizaoreo: Ah, figured it out.  I have ""MQTT Cameras"" set up in Home Assistant for the alert images.  So BI kicks off a motion trigger, if it\'s recognized as a person or whatever and it actually alerts, it saves an image to MQTT along with setting the trigger state to true, which tells NodeRed to fire an alert.  That alert uses the MQTT Camera image.  I think what may happen is the NodeRed alert kicks off faster than Home Assistant updates the camera image, I believe I may have a processing speed issues somewhere in the line.  Sample cam below.  \n\n\n`camera:`\n\n  `- topic: ""BlueIris/BckPrch/image""`\n\n`image_encoding: ""b64""`\n\n`name: ""Back Porch Alert Image""`\n\n`unique_id: ""BackPorchAlertImage""`', ""automatemyspeaker: Interesting. A 1s delay might solve your issue, or switch to my downloader approach. You can also keep 'always authenticate' mode on for my approach, if you follow this tip: https://github.com/elad-bar/ha-blueiris/issues/206#issue-1670195808""]"
1681764049.0	17-Apr-2023 13:40:49	Outside gate lock automation (hardware question)	BoostedE	5	12pvzan	homeassistant	https://i.redd.it/qccscufyrjua1.jpg	"I have such simple outside gate lock. Which is locked with key. Would really love to automatise it, so I can lock/unlock remotely (or to change locking mechanism completely something which would be HA friendly). But have been failing to find anything that would work. Most smart locks are for indoor use only.

I have power wires inside the opposite bar already, and can have power of 12v or 24v. Anyone maybe had been in similar position, and would be kind to share or recommend something ?"	2	"['rotinom: Honestly, due to the weather requirements, you’re likely looking at something more heavy duty for access control. Think of the latches/magnets used for badge swipe “stuff”. \n\nAdd swipe hardware and you’ve basically done away with a traditional lock and gone to something else. \n\nThe reason it is keyed on both sides is the fact that it’s trivial to manipulate a thumb turn, especially on gates like this. With the right tool it’s literally seconds of work. \n\nFor electronic latches, you may have similar issues, especially if emergency egress is required. \n\nShort version is that it’s probably nontrivial to do it and hard to do right.\n\nSee: \n\nhttps://youtu.be/O74Q1VTz4j4\n\nhttps://youtu.be/9Vo9XxIMACc', ""Nyghtshayde: Best bet is install a magnetic lock and a shelly or similar. You can automate that a bunch of different ways and it'll cost you probably about $50 total.""]"
1681763523.0	17-Apr-2023 13:32:03	Popup Grid Card Layout Help?	400HPMustang	1	12pvozs	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pvozs/popup_grid_card_layout_help/	"So I have a popup that lays out some tile cards in two columns and that works just fine. I get the intended result. My mental hangup is that with 5 tiles the last tile has nothing next to it and that just looks odd to me.

What I'm wondering is, is there a way to break that 5th tile outside of the grid and just have it stretch across the entire popup?

    tap_action:
      action: fire-dom-event
      browser_mod:
        service: browser_mod.popup
        data:
          title: Droid Depot
          dismissable: true
          content:
            square: false
            type: grid
            cards:
              - type: tile
                entity: switch.cr_10_left_side_power
                vertical: false
                icon: mdi:printer-3d
                name: CR-10 Left Side Power
                color: orange
                card_mod:
                  style:
                    ha-tile-info$: |
                      .secondary {display: none;}
              - type: tile
                entity: switch.cr_10_right_side_power
                vertical: false
                icon: mdi:printer-3d
                color: red
                name: CR-10 Right Side Power
                card_mod:
                  style:
                    ha-tile-info$: |
                      .secondary {display: none;}
              - type: tile
                entity: switch.cr_10_s5_left_side_power
                vertical: false
                icon: mdi:printer-3d
                name: CR-10 S5 Left Side Power
                color: light-blue
                card_mod:
                  style:
                    ha-tile-info$: |
                      .secondary {display: none;}
              - type: tile
                entity: switch.cr_10_s5_right_side_power
                vertical: false
                icon: mdi:printer-3d
                name: CR-10 S5 Left Side Power
                color: green
                card_mod:
                  style:
                    ha-tile-info$: |
                      .secondary {display: none;}
              - type: tile
                entity: light.droid_depot_lights
                vertical: false
                icon: mdi:lightbulb
                name: Droid Depot Lights
                color: yellow
                card_mod:
                  style:
                    ha-tile-info$: |
                      .secondary {display: none;}      
            columns: 2

&#x200B;

https://preview.redd.it/rntgu6ql8iua1.png?width=1150&format=png&auto=webp&v=enabled&s=5650e4717050daa1163435559cf823861fed4eb5"	7	"[""antonio1475: Don't overkill. Just do:\n\nGrid 1 column (or vertical stack)\n  Grid 2 columns\n   4 cards\n  5th card"", 'ams3401: I guess you can use \n‘’’\nstyle: |\n  that-5th-ha-tile {\n    width: xxpx\n   }\n‘’’', '400HPMustang: Thanks. That was the right call. I went with a vertical stack, grid two columns 4 cards and then the 5th card. It came out exactly how I wanted it to come out.\n\n&#x200B;\n\nhttps://preview.redd.it/feyvrfofvoua1.png?width=1150&format=png&auto=webp&v=enabled&s=aa770922d694ded2c96111d4eab7a6c31fdbc66f', ""400HPMustang: Sorry...I don't really understand CSS. I sort of glommed my way through this. Could you explain more?"", 'ams3401: CSS is a little tricky to explain since it requires lots of trial and error at least for me. You gotta right click that entity and hit inspect and locate exactly what that 5 tile is called.\n\n\nI found a post that you might find useful: https://community.home-assistant.io/t/is-there-any-way-to-make-cards-take-more-than-one-column-solved/102331', ""400HPMustang: Is this the name of the tile you're asking about?\n\n&#x200B;\n\nhttps://preview.redd.it/231absd74kua1.png?width=1824&format=png&auto=webp&v=enabled&s=9e84854b7d3ca60886ffe6b1d260c0abf1ad6fc6"", 'ams3401: Try implementing this:\n\npanel: true\ncards:\n  - type: custom:layout-card\n    layout: grid\n    gridrows: auto auto auto #choose your own row heights\n    gridcols: 400px 400px    # chosse your own column widths\n    cards:\n      - type: # card 1 here\n        style: ""ha-card { height: 100%; }""\n        gridrow: 1 / 2\n        gridcol: 1 / 2\n      - type: # card 2 here\n        style: ""ha-card { height: 100%; }""\n        gridrow: 1 / 2\n        gridcol: 2 / 3\n      - type: # card 3 here\n        style: ""ha-card { height: 100%; }""\n        gridrow: 2 / 3\n        gridcol: 1 / 2\n      - type: # card 4 here\n        style: ""ha-card { height: 100%; }""\n        gridrow: 2 / 3\n        gridcol: 2 / 3\n      - type: # card 5 here\n        style: ""ha-card { height: 100%; }""\n        gridrow: 3 / 4\n        gridcol: 1 / 3']"
1681762037.0	17-Apr-2023 13:07:17	Tuya plugs - zigbee - tuya cloud/local?!	MadSnow-	3	12puwex	homeassistant	https://www.reddit.com/r/homeassistant/comments/12puwex/tuya_plugs_zigbee_tuya_cloudlocal/	"Hi guys :) I'm currently in my first week of HA and I'm a bit confused about tuya plugs... can I just control them with Zigbee2mqtt and have full functionality (power consumption measurement, etc.) and what is tuya local? Is it the same thing? Do I have more functions there?

Thx!"	6	"['big-ted: Tuya zigbee works with Zigbee2mqtt - no cloud\n\nTuya WiFi requires TuyaLocal or Tuya cloudcutter (to cut them off from the cloud)', 'MadSnow-: Okay that’s awesome! But do i have power measurement stuff in zigbee? Some manufactures only lets you access it in cloud variants 😕', ""AnchoredFrigate: The answer is a definite maybe. There's really no way to know for sure, unless they straight up tell you that there is no power measuring in the first place. You can't look it up with the model numbers, as the same model numbers are used by multiple different devices, some which have it, some which don't, and some which only expose it in some scenarios.\n\nSadly the only way to know for sure is to try them yourself."", ""jsonr_r: Zigbee devices don't have direct access to the cloud, so any info they send to the cloud has to be available over Zigbee to get to the hub to be sent to the cloud.  The only issue is it might not be using the standard zigbee smart energy monitor profile to send it, so may need some custom decoding.\n\nWifi devices are different - they send directly to the cloud, so can sometimes send data to the cloud that they are not making available locally."", ""AnchoredFrigate: We're not talking about any cloud here though, so while true, none of that matters."", ""jsonr_r: >We're not talking about any cloud here though\n\nThe OP was...\n\n> But do i have power measurement stuff in zigbee? Some manufactures only lets you access it in cloud variants""]"
1681760425.0	17-Apr-2023 12:40:25	Having an automation stop after time elapsed	ashleypenny	2	12pu2xb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pu2xb/having_an_automation_stop_after_time_elapsed/	"I've got an automation on our en suite bathroom's lights and fan; lights are hue, fan wired with a sonoff switch. 

Works good most the time but occasionally we will find the fan on 3 hours later and trying to figure out where it's going wrong. I thought I'd figured it out by using the continue in timeout option but it did it again today?

This is the current yaml - is there a better way I can do this?

alias: En Suite Motion automation
description: """"
trigger:
  - type: motion
    platform: device
    device_id: 5557fc180fdf1396e8d371e710ea8ef4
    entity_id: binary_sensor.en_suite_motion_iaszone_3
    domain: binary_sensor
condition:
  - condition: time
    after: ""07:00:00""
    before: ""23:59:00""
    weekday:
      - mon
      - tue
      - wed
      - thu
      - fri
      - sat
      - sun
action:
  - type: turn_on
    device_id: efaddbfe3401f7754e27b24d3ff9198c
    entity_id: light.sonoff_01minizb_light
    domain: light
    enabled: true
  - type: turn_on
    device_id: 5fb024bba19199b26fb984c209a833df
    entity_id: light.es1
    domain: light
    brightness_pct: 100
  - type: turn_on
    device_id: 9b41b0aba9a61241c8f10182773e3675
    entity_id: light.es2
    domain: light
    brightness_pct: 100
  - wait_for_trigger:
      - type: no_motion
        platform: device
        device_id: 5557fc180fdf1396e8d371e710ea8ef4
        entity_id: binary_sensor.en_suite_motion_iaszone_3
        domain: binary_sensor
        for:
          hours: 0
          minutes: 3
          seconds: 0
    timeout:
      hours: 0
      minutes: 30
      seconds: 0
      milliseconds: 0
  - delay:
      hours: 0
      minutes: 7
      seconds: 0
      milliseconds: 0
  - type: turn_off
    device_id: efaddbfe3401f7754e27b24d3ff9198c
    entity_id: light.sonoff_01minizb_light
    domain: light
    enabled: true
  - type: turn_off
    device_id: 5fb024bba19199b26fb984c209a833df
    entity_id: light.es1
    domain: light
  - type: turn_off
    device_id: 9b41b0aba9a61241c8f10182773e3675
    entity_id: light.es2
    domain: light
mode: restart"	10	"['zSprawl: I’ve tried all of the usual approaches to motion sensor and light, and I like using a timer helper the best. It always works, even through reboot, even if you edit your automations (which cancels all running automations), and even if the time is missed cause you just happened to be running updates at that time.\n\nhttps://www.home-assistant.io/integrations/timer/\n\nThe gist of it is, you make a timer helper in the GUI. \n\nFirst, you make one automation that says “when motion detected, set a timer for 30 minutes and turn on shit”. \n\nNow every time motion is detected and redetected in the room, this timer just keeps getting set back to 30 minutes again and again. \n\nThen add a second automation that says “When timer reaches zero, turn off stuff”. \n\nThere are examples in the link above for all of this. \n\nP.S. Lastly make an automation that says, “if no motion detected for 45 minutes and shit still on, send a notification” to monitor your script. This way you get notified when something fails and you can troubleshoot it using the automation traces, logbook and such while the data is still fresh.', '_avee_: Split turning off into a separate automation. Use “no motion for X time” as a trigger. This way your logic is much simpler and more resilient to unusual sequences of events and Home Assistant restarts.', 'ufgrat: This may be utterly useless to you, but my Z-Wave relay switches have a ""turn off after time elapsed"" parameter, and as part of my activation automation, I set that value to, say, 20 minutes.\n\nThen the relay itself turns off the fan for me.\n\nNow, just because I was feeling snarky, I configured an automation so that when the fan is turned off (either automatically or manually), that timeout is reset to zero, so if the fan is turned on manually, it runs until turned off.', 'niobos: Please be aware of this open bug: https://github.com/home-assistant/core/issues/79145\n\nTL;DR: it seems that currently, missed timer.finished events while home assistant was not running don’t work as expected', 'ashleypenny: This sounds promising, thanks I will take a look tonight!', ""ashleypenny: Thanks, will give that a go. \n\nIs there a way of doing that to have a timeout so if the sonoff PIR keeps saying it's detecting motion for too long it will eventually turn off? Sometimes, albeit rarely, they will get stuck in a state."", 'KnotBeanie: You can just add that as a trigger in the current automation', 'zSprawl: Thanks. 😢', '_avee_: You can have 2 triggers for “off” automation - for instance, one can check that motion is off for 5 minutes, another that motion is on for 2 hours. But be careful with that - if you can’t trust your sensor it may lead to lights turning off when you don’t expect it.', ""IroesStrongarm: You could make an automation that turns off the fan after it's been on for a certain amount of time.\n\nI have one at for my bedroom ceiling fan for instance that only triggers between 9pm and 7am. If I trigger the fan on then it'll turn off at 30 minutes. I have a remote next to the bed so I can turn it off but then go back to sleep.""]"
1681758432.0	17-Apr-2023 12:07:12	Typical light switch in the Netherlands	ewlung	1	12pt2q3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pt2q3/typical_light_switch_in_the_netherlands/	"I want to replace an existing garden light, because the old one is broken. The old light can be controlled by a switch from inside living room.

However, the electrician that helped me, he cannot find the cable or way to get that switch work with the new light, unless we take out all the tiles in the garden. But he found a cable from the garage to the new light location. He said he can make a switch in the garage for that new light.

That's not what I want because I don't want to walk to the garage to turn on or off that garden light.

Then I thought to use Home Assistant to control that switch! I can attach Shelly relay to the switch, right?

My question, I don't know which Shelly to buy, 1 or 1L? It's down to whether the switch uses neutral wire or not. This is something I don't know and I don't want to waste money to buy incorrect Shelly relay.

So, if you are from the Netherlands and know about this, please let me know what kind of switch to buy, and does it use neutral wire or not. I usually buy things from Hornbach, Praxis, or Gamma 😆"	5	"[""Lau-ie: From the Netherlands too, some pictures might help. Very weird that the new light stopped working with the existing switch.\n\nGenerally light switches in NL don't have a neutral wire."", 'Getslow6: Assuming the wites are color coded correctly (which you’ll have to double check with a multimeter/spanningszoeker);\n\nBrown - live wire,\nBlue - neutral wire,\nBlack - switched wire (on/off depending on switch state), green/yellow - earth\n\nDutch switchboxes normally have brown->switch->black, so no neutral. \n\nSo if there is a blue wire in the switchbox, you’ll probably have a neutral wire.', 'ewlung: It is because we cannot find the correct cable to the old switch, for whatever reason the electrician wasn\'t able to make connection to that old switch. So, a new switch must be created in the garage for the new light.\n\n[This is the new light](https://www.hornbach.nl/p/brilliant-sokkellamp-chorus-81-cm-rvs/10270803/). It is quite simple light, I bought it because it is cheap.\n\n[This is the instruction of that light](https://ibb.co/yfZDKWg). I saw there was a green/yellow cable already attached to the body of the light. I think that\'s the ground cable, right? In the instruction, it is marked with ""L"" and ""N"". I guess L=Live and N=Neutral??? \n\nThe light will be connected with an existing cable in the garden. This cable will be connected to a junction box (kabeldoos) inside the garage where it will get the power from the main circuit board (meterkast).\n\nFrom the junction box, I think that\'s where I can install the new switch+Shelly. Thinking something like [this switch](https://www.hornbach.nl/p/q-link-opbouw-wisselschakelaar-zwart/10061835/). Not sure if I can stuff Shelly in it, otherwise the Shelly will be put outside.\n\nSo, that\'s the rough plan I had. The question is remain, which Shelly I can use for the switch, to be able to control it from Home Assistant, and manual switching as well.', ""Fritz00015: Don't you guys also use the switch box to wire up the lights?\n\nIn older houses in Germany there is usually a Junction box in the wall (in every room) where the cables and switches etc. are wired up but for newer installations that is usually done in the switch box itself."", ""Lau-ie: Not really. There are usually a couple of junction boxes in the ceilings throughout the house, but not in every room.\n\nMy girlfriend is German and her folks bought an old house which they are renovating so i actually know exactly what kind of wall boxes you're talking about, but I've never seen those in NL.""]"
1681758416.0	17-Apr-2023 12:06:56	Is this my camera acting up or Frigate?	Mysterious-Flamingo	11	12pt2ep	homeassistant	https://www.reddit.com/gallery/12pt2ep		12	"['_Rand_: In my experience its the camera, assuming frigate is doesnt have camera specific issues.\n\nIts possible its a issue somehow with the rtsp stream, I’d recommend messing with the settings (frame rate/bitrate etc.) and see what happens.', 'nickm_27: are these reolink cameras? because this is a very common issue with them and their rtsp streams. \n\nAlso, frigate does not re-encode the video so whatever the video shows is coming from the camera stream.', 'Mysterious-Flamingo: I\'m not sure what the correct term for this is, but whenever there\'s movement caught on that camera, all my Frigate recordings have messed up pixels where the movement is happening. Whether it\'s animals or people, there\'s just a weird ghost image that lingers behind the movement and the object that\'s moving doesn\'t record properly (it\'s like a ghostly outline moving across frames).\n\nThe recordings on the camera\'s SD card seem fine. This only happens on this one camera, the rest are fine.\n\nSometimes I have recordings that are missing video altogether (audio is still there), so I\'m inclined to believe Frigate is the issue.\n\nEdit: There\'s a typo in one of the picture captions: ""need"" should be ""seem""', ""Mysterious-Flamingo: It's an Amcrest ASH43-W. I only started noticing this recently, but I suppose it could just be the camera starting to crap out or something. You get what you pay for I guess lol"", 'joshkrz: What cameras would you recommend over Reolink that integrates well with software NVRs?', 'nickm_27: maybe look at bandwidth and iframe interval settings', ""nairou: That's a wifi camera, right? So it could also be things like connection quality, router issues, bandwidth over-usage, channel congestion, etc. Ethernet wired cameras will always be more reliable."", 'nickm_27: Dahua, Hikvision, Annke, Loryta. All cameras that actually follow the rtsp protocol correctly and have high quality streams', ""nairou: For what it's worth, I've been using several Reolink cameras for a few months now with Frigate, with zero issues. However, they are wired PoE cameras, I know wifi cameras can have issues."", ""Nyghtshayde: To follow up on this I have a number of Reolink cameras and I've made the decision to replace them - ordered my first Annke as a trial on the weekend. The Reolinks are great cameras with a fine app but all the issues getting them working and stable with BI and frigate aren't worth my time."", ""Mysterious-Flamingo: I'll play around with those settings and see if there's any improvement.\n\nOne thing that's strange is that if I share one of these clips with someone on Messenger, the video compression on there fixes some of the glitching - especially the lingering ghosts. Watching the original clip in Frigate or VLC is much worse."", 'nickm_27: well, those are re-encoding the video so that would make sense. Frigate directly copies the stream to mp4 without reencoding it']"
1681758236.0	17-Apr-2023 12:03:56	Cloudflare: 400: Bad Request	IP_FiNaR	1	12psyxw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12psyxw/cloudflare_400_bad_request/	"Hello,

I am trying to setup Cloudflare to expose my Home Assistant to the outside word.

Below is the list of what I have done so far:

* added Domain in Cloudflare (myDomain.com)
* installed Cloudflare add-on in Home Assistant
* added configuration to Cloudflare add-on:
   * external host name: [ha.myDomain.com](https://ha.myDomain.com)
   * started cloudflare add-on
   * checked log and completed the authentication
* in cloudflare, verified:
   * tunnel is up and running
   * DNS record succesfully created (CNAM for ***ha***)

all seem ok, but when I go to [ha.myDomain.com](https://ha.myDomain.com) I get a **400: bad request** message

what am I doing wrong? 

Thank you"	6	"['PlanetaryUnion: Your trying to use a cloudfare tunnel correct? Did you add a cname under the domain’s DNS or public hostname under the tunnel settings?\n\nIf you want to use the tunnel you need to to the latter.', 'IP_FiNaR: at the moment I have:\n\n* Cloudflare tunnel up and running (between Cloudflare and my Home Assistant installation)\n* DNS record (CNAME) set\n* SSL certificate valid\n\nI can reach home assistant with the URL but it resold with ""**400: bad request**""...\n\n&#x200B;\n\nhttps://preview.redd.it/okykgtp2pmua1.png?width=470&format=png&auto=webp&v=enabled&s=64dd9ad4734d197a0028ad7e045cc75eb8337500\n\nthe only thought I have is that I have currently install DuckDNS with port forwarding and let\'s encrypt... could this make a ""confusion"" in digital certificates etc...??\n\nAn Ideas? I really want to get rid of Duck DNS and I hope I do not need to reinstall everything. \n\nthank you', 'PlanetaryUnion: Did you setup the subdomain under public hostnames which is under the tunnel’s configuration page?\n\nI followed [this](https://youtu.be/ZvIdFs3M5ic) video', 'IP_FiNaR: I got it working! I forgot to add the http configuration in configuration.yaml\n\n    http: \n      use_x_forwarded_for : true \n      trusted_proxies: \n       - 172.30.33.0/24', 'PlanetaryUnion: Oh yea I keep forgetting about that part. Sorry.', 'IP_FiNaR: 🤷\u200d♂️']"
1681757902.0	17-Apr-2023 11:58:22	baseoid for TPLink WA1201 wifi router?	wenestvedt	1	12pssk7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pssk7/baseoid_for_tplink_wa1201_wifi_router/	"Can anyone point me to what the baseoid value is for a TP-Link WA1200 wifi router (a.k.a. the AC1200)?

I ran `snmpwalk` against it using `-v ` but I can't find an OID string in there. 

The router's GUI allows me to enable it, but doesn't offer places to add entires for SNMPv3 values -- though it will cough up some SNMPv2 data.

Given that this is the first few lines, is there a standard MIB to use (e.g., the one for a generic Linux box)?

    SNMPv2-MIB::sysDescr.0 = STRING: Linux TL-WA1201v2 3.3.8 #1 Mon Jan 3 04:54:12 CST 2022 mips
    SNMPv2-MIB::sysObjectID.0 = OID: NET-SNMP-MIB::netSnmpAgentOIDs.10
    DISMAN-EVENT-MIB::sysUpTimeInstance = Timeticks: (262241) 0:43:42.41
    SNMPv2-MIB::sysContact.0 = STRING: my_email_address@gmail.com
    SNMPv2-MIB::sysName.0 = STRING: WA1201
    SNMPv2-MIB::sysLocation.0 = STRING: office
    SNMPv2-MIB::sysORLastChange.0 = Timeticks: (0) 0:00:00.00
    SNMPv2-MIB::sysORID.1 = OID: TCP-MIB::tcpMIB
    SNMPv2-MIB::sysORID.2 = OID: UDP-MIB::udpMIB
    SNMPv2-MIB::sysORID.3 = OID: IP-MIB::ip
    SNMPv2-MIB::sysORID.4 = OID: SNMPv2-MIB::snmpMIB
    SNMPv2-MIB::sysORID.5 = OID: SNMP-VIEW-BASED-ACM-MIB::vacmBasicGroup

I manually entered sysContact, sysName, and sysLocation  in the web GUI.

Thanks for any suggestions!"	0	[]
1681757785.0	17-Apr-2023 11:56:25	Home Energy Monitoring Dashboard	nightcrawler2164	24	12psqjt	homeassistant	https://www.reddit.com/r/homeassistant/comments/12psqjt/home_energy_monitoring_dashboard/	"I’ve been a huge fan of the Home Assistant energy dashboard ever since it was released but one area where it lacks currently is the ability to filter for specific date intervals (for ex. Mid-March to Mid-April). This is particularly useful if your utility company (like mine) bills you on a different cycle than the cycles available in HA. 

I ended up learning how to set up InfluxDB, Prometheus, and Grafana to consume data from Home Assistant, my Powerwall, and an RTL-SDR for my gas consumption and bring it all into one dashboard. 

It was a fun weekend project, and I just wanted to share it since I’m super happy with the progress I’ve made so far. Feel free to AMA!

[Home Utility Dashboard - Grafana](https://i.imgur.com/wEkd8pQ.jpg)"	4	"['No_Trust_5973: Very neat looking. I would like to set up a dashboard similar to this. What resources did you use to learn it all?', 'IsThereAnythingLeft-: Super lucky how close your return rate is to your unit cost of electricity. Also if those 2 current consumption and production values are supposed to be instantaneous usage the units should be kW, not kWh', ""nightcrawler2164: * How I got my Tesla Powerwall metrics feed my Prometheus instance - [link](https://github.com/foogod/powerwall_exporter)\n* I watched [this](https://www.youtube.com/watch?v=eJ-XE2tsD4U) video for how to get my HomeAssistant metrics feed an InfluxDB database.\n* Using [this project](https://github.com/allangood/rtlamr2mqtt) to get my Gas meter reading into Home Assistant (and indirectly into InfluxDB)\n* Using this [product](https://flumewater.com/) to track my water consumption. HomeAssistant provides a native integration to bring this data into the energy dashboard\n\nHonestly, it was just YouTube videos, and stalking on reddit forums to learn from others. As for the dashboard itself, it's very highly modified for my use case and uses a combination of data from Prometheus, and InfluxDB to get me the data I needed. Feel free to use my template as a baseline for your use case! :)"", ""nightcrawler2164: There's a different utility provider I will move to in 6 months once my current contract ends. When i do that, it'll be a 1:1 for consumption and return :) \n\nAlso, thanks on the catch on the units! That was a side effect of a copy+paste I did but I've fixed it thanks to you!\n\nhttps://i.imgur.com/DJ0fizy.jpg""]"
1681756361.0	17-Apr-2023 11:32:41	Anyone try the Xiaomi Mosquito repellent? Does the repellent work?	DumbDumbGoodbye	1	12przji	homeassistant	https://xiaomipedia.com/en/p/mijia-smart-mosquito-repellent-2/		5	"[""SomeoneSimple: If something says repellent, more often than not it doesn't do much of anything. But it looks like this actually aerates a ~~(restricted use)~~ [pesticide](https://en.wikipedia.org/wiki/Transfluthrin).\n\nEdit: updated incorrect link"", 'shakuyi: does it keep track of how many mosquitos it kills or repels? Asides from battery life what other features does it give lol. Does it need an existing gateway lol', 'Nyghtshayde: The only one of those fancy repellents that gets decent reviews are the Thermacells. We had a literal plague of mosquitoes this summer and I found them pretty effective.', ""DumbDumbGoodbye: Ya I have a handful of Thermacells too and they work great. Was hoping this option would be more fun with home assistant but I think it's not worth the effort."", ""Nyghtshayde: I suspect if you screwed around with it a bit you could fit an ESP32 or similar - well beyond my technical expertise but it's in line with some of the projects I've seen posted here!""]"
1681755516.0	17-Apr-2023 11:18:36	Locked out of instanace	MrCaspan	0	12prj0q	homeassistant	https://www.reddit.com/r/homeassistant/comments/12prj0q/locked_out_of_instanace/	"So I just got HA setup on VirtualBox and once I got everything setup I turned on 2FA and I rebooted my host system to get the VM to turn on automatically and then all of a sudden it wont accept my TOTP.

&#x200B;

I keep reading these articles that say just do this ""[https://community.home-assistant.io/t/turning-off-two-factor-authentication/148854](https://community.home-assistant.io/t/turning-off-two-factor-authentication/148854)"" but no one explains how to do it. I have CLI access on the VM but it looks like the interface is very limited. How can I disable 2FA or add myself to the trusted network to get back on my install?"	1	"['deathinfection: Try this:\n* type ""login"" to have a ""real"" shell\n* Navigate to the hidden storage folder: cd /config/.storage\n* Rename the old file: mv auth_module.totp auth_module.totp.tmp\n* Reboot\n\nGood luck']"
1681753839.0	17-Apr-2023 10:50:39	Zwave range issue	Civil_Basis9635	1	12pqlny	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pqlny/zwave_range_issue/	Just got a Zooz Remote Switch. I have two of these already, working great. But this one is meant for my garage and it does not seem to “reach”. I get signal near the garage, but not in it. My garage is not far from my Ha, though, certainly nowhere near the 100s of feet or should reach. I do have plaster walls, can they make a difference? Anyway, are there zwave extenders I could use to help with this issue? I use the zwave dongle on my HA.	12	"['akcoder: Yes plaster can be an issue with the mesh used to hold it in place. This extender will work for you.\n\nZ-Wave Hub Range Extender -... https://www.amazon.com/dp/B081G97TLB?ref=ppx_pop_mob_ap_share', 'InfoAE: They do make zwave extenders but any main powered zwave device (light switch, plug, anything not battery powered, etc) acts as an extender in the network. \nAlso, make sure you are running the latest firmware on the zwave stick as there was a nasty bug for zwave 700 sticks that affected communication.\n\nEdit: link to mentioned zwave bug\nhttps://github.com/zwave-js/node-zwave-js/issues/3906', 'Zncon: Plaster can have wire inside it that disrupts the signal, and external wall insulation may use a reflective metal foil that also ruins wireless signals.', ""mrtramplefoot: I would just get a z-wave plug and put it in the middle, it'll work as an extender and you can use it for anything else."", ""ufgrat: Where was the switch when you included it originally?\n\nI ran into this issue when I added a sensor while sitting near my HA box (and it's dongle), then moved the sensor to the other end of the house.\n\nHad to heal the network, and wake up all my battery powered devices (or just wait for them to poll on their own)."", ""kunigit: Yes, range extenders are a good option, but only if there's no other opportunity to replace a switch or add a smart plug, etc. For roughly the same price, you can get a smart plug ([example](https://www.amazon.com/dp/B0BHL9MBRZ/)) that also acts as a repeater."", 'Civil_Basis9635: I remember reading about this when I first set up my HA. At the time, it seemed you couldn’t update the firmware on a Mac. Any idea if that’s true?', 'Civil_Basis9635: Yeah, I was sitting maybe 6 feet from my HA. You think this might have an impact? I’m not familiar with healing a network.', 'akcoder: Reason I recommend a repeater (and this specific one) is it supports S2. A lot of your zwave plugs (that I’ve found) do not support S2 and so that breaks things like smart locks.', ""InfoAE: Yeah quick search I only see Windows and some Linux instructions. Sorry I can't help ya there. But could be a good reason to look into a raspberry pi or full on hypervisor setup."", 'ufgrat: Z-wave is a mesh network-- when you include a device, it finds it\'s nearest neighbors (probably based on signal strength) and connects to them, and remembers that connection.\n\nSo your switch is now trying to connect directly to your hub, instead of the nearest zwave repeater (typically any wired switch, light, thermostat, etc... battery powered devices don\'t act as repeaters).\n\nIf you\'re running ZWave JS UI, click on the device, click on the green ""Advanced"" button, and select ""Heal Network"".  Should force the device to re-establish the most efficient route.\n\nNote that the device can\'t be asleep when you do this.', ""kunigit: Yeah, almost all of the cheap no-name Z-Wave smart plugs either don't support S2 or don't include an S2 inclusion code, but the more reputable brands do:\n\n* Zooz ZEN04 (which I linked above) ~$33 on Amazon US\n* [Minoston MP21Z](https://www.amazon.com/dp/B08FM3NFCP/) ~$29\n* [GE/Embrighten 14298](https://www.amazon.com/dp/B07VFQBBJS) ~$40\n\nS2 compatibility is an important consideration for use with smart locks, but there are options out there. It's still better to buy a device that serves two purposes rather than only one.""]"
1681752793.0	17-Apr-2023 10:33:13	Once a day	thatsamwilliams	1	12pq1ny	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pq1ny/once_a_day/	"Hi all,

I’ve got a robot vac that I’ve created an automation for.

It currently starts when neither my partner or I are home for 10 minutes and between 0900-1730. It will also update a helper with the time it started.

What can I add as a condition so it checks the helper and only runs once a day?

Thanks."	13	"['mrtramplefoot: I have a similar automation, I just use a toggle helper.  Set it to ON the first time it runs each day and the automation just checks to see that it is OFF when it runs.  Every day at midnight, I set them back to off.', 'Shooter_Q: I have an automation like that which fires when family are not home. I have it set up so that after the automation finishes, it disables itself. It is re-enabled at 0100 as part of my general maintenance automations. \n\nI have another automation which cancels all cleaning if people come home in the middle of cleaning, sends robots home, and re-arms the above automation. As a result, we make sure the robots get a full cycle in but only up to one full cycle, per cleaning day of MWF.', 'NL_Roy: Use a counter helper and a automation wich fires at 00:00 to reset the counter.https://www.home-assistant.io/integrations/counter/\n\nIn the automation for the robot vac check if the counter = 0 to start.\nAlso increment the counter to prevent multiple starts a day.', '404flyer: You can create a template condition to check that the value in your helper_datetime is more than 12 hours ago, which should cover your window and have elapsed before the next day\'s window starts:\n\n    - condition: template\n      value_template: \'{{ (((now() | as_timestamp) - (states(""input_datetime.YOUR_HELPER"")\n        | as_timestamp)) / 60 / 60 ) > 12 }}\n\nas_timestamp converts the dates to the number of seconds since the epoch (an arbitrary time in the past), hence why this divides by 60 (to get minutes) and then 60 again (to get hours).', 'thatsamwilliams: I’ve got this far. Does this look correct?\n\nalias: Voldemort - Zero Home\ndescription: """"\ntrigger:\n  - platform: state\n    entity_id:\n      - zone.home\n    to: ""0""\n    for:\n      hours: 0\n      minutes: 10\n      seconds: 0\ncondition:\n  - condition: time\n    after: ""09:00:00""\n    before: ""17:15:00""\n    weekday:\n      - mon\n      - tue\n      - wed\n      - thu\n      - fri\n      - sat\n      - sun\n  - condition: numeric_state\n    entity_id: counter.voldemort_daily\n    below: 1\naction:\n  - device_id: 5f39b84ba50112549b9e43d0531d7dd4\n    domain: vacuum\n    entity_id: vacuum.voldemort_2\n    type: clean\n  - service: input_datetime.set_datetime\n    data:\n      datetime: ""{{ now().strftime(\'%Y-%m-%d %H:%M:%S\') }}""\n    target:\n      entity_id: input_datetime.robot_vacuum_running_input\nmode: single\n\nCan’t work out how to add to the counter though.', 'thatsamwilliams: Thank you. I’ll try this.\n\nI think I’ve just noticed an issue with my automation i need to try and work out now. You may be able to help speed things up.\n\nCurrently - when we’re both out for 10minutes the automation checks it is between the times I’ve set and if so, starts the vacuum.\n\nI have a horrible feeling that if we’re both out of the house BEFORE the window I’ve set, the vacuum won’t start unless one of us came back and left again during the window.', 'NL_Roy: It looks ok to me.\n\nTo increment the counter use the service counter.increment see the following link https://www.home-assistant.io/integrations/counter/#service-counterincrement', '404flyer: I would address this by having one trigger for each of you being gone 10 minutes plus a third trigger at 09:00. You would need conditions for both being gone, the time being in the window, and the datetime helper one in my last reply.\n\nThat should cover all permutations and also only run once a day, maximum.', 'thatsamwilliams: I think I understand.\n\nBut having trouble finding how to put say me gone for 10 minutes.\n\nConditions I have done as such:\n\ncondition:\n  - condition: and\n    conditions:\n      - condition: time\n        before: ""17:15:00""\n        weekday:\n          - sun\n          - mon\n          - tue\n          - wed\n          - thu\n          - fri\n          - sat\n        after: ""09:00:00""\n      - condition: numeric_state\n        entity_id: counter.voldemort_daily\n        below: 1\n      - condition: numeric_state\n        entity_id: zone.home\n        below: 1\n\nI’ll probably update with your solution over the counter once I’ve got this nailed down.', '404flyer:     description: """"\n    mode: single\n    trigger:\n      - platform: state\n        entity_id:\n          - person.404flyer\n        to: not_home\n        for:\n          hours: 0\n          minutes: 10\n          seconds: 0\n    condition:\n      - condition: state\n        entity_id: person.404flyer\n        state: not_home\n        for:\n          hours: 0\n          minutes: 10\n          seconds: 0\n    action: []', 'thatsamwilliams: Added a bit above with my condition, does it look ok?\n\nAlso, thanks for this. So you’ve set 404flyer to be ‘not_home’ for 10 mins. Would this still fire if I had reached work within the 10 mins? Does not_home encompass literally anything that is not what I’ve set as home?\n\nI’ve got it set up as :\n\nTriggers\n\nI’m not_home for 10 mins\nWife’s not_home for 10 mins\nTime is 09:00:00\n\nConditions\n\nHome count is below 1\n&\nTime is between 09:00:00 and 17:15:00\n&\nTimes vacuumed is below 1 (which I will change to yours above once I’ve got the other conditions nailed down)', ""404flyer: Yes, it gets a little more difficult to have a trigger or condition on whether you were anywhere but home rather than just specifically not\\_home. I was thinking you might be able to use a history stats sensor, as described [here](https://community.home-assistant.io/t/wth-automation-condition-was-entity-in-x-state-in-the-last-x-minutes-even-if-it-has-changed-state/471694/4). But I don't think this will really work in your case without combining it with some other logic because history stats sensors only count when it changes to that value, not away from that value.\n\nIf I were tackling this problem, I'd use a sql sensor to query the history database, such as is discussed [here](https://community.home-assistant.io/t/get-the-time-since-an-entitys-state-was-a-certain-value/477547/2), but if you're not familiar with sql syntax, this may be a challenging route for you.\n\nMaybe a simpler solution would use use a [Timer](https://www.home-assistant.io/integrations/timer/) and an input_boolean. You would need automation(s) that look like this:\n* When the state of your tracker changes from `home` to something else start a 10 minute timer.\n* If the timer finishes, turn on the input_boolean (you've been away for at least 10 minutes)\n* When the state of your tracker changes to `home` cancel the timer if it is running and also turn off the input boolean.\n\nThen you can use that input_boolean in your trigger and conditions."", 'thatsamwilliams: That’s frazzled my brain a little. Think I’m going to have to see what happens on Wednesday.\n\nThat’s the next time that we’re both out before 9.']"
1681752657.0	17-Apr-2023 10:30:57	ITEAD Core EVB AW2041	Rare-Entertainer5485	1	12ppz6y	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ppz6y/itead_core_evb_aw2041/	"Hi All, 

I have a board as per title. Is there something I can do with this with regards to Homaassistant. I am thinking in the realms of dashboards etc.

Thanks"	0	[]
1681751884.0	17-Apr-2023 10:18:04	Using Nabu Casa vs using HA with Google home app - do I need Nabu Casa for these applications? (also looking for suggestions)	lynnlynn1016	0	12ppksm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ppksm/using_nabu_casa_vs_using_ha_with_google_home_app/	"Tldr: Do you use Nabu Casa? What benefits are there to having Nabu Casa instead of just controlling things from Google home app while away and home assistant app when home? 

THE LONG VERSION

My smart home:

I have been building a smart home for the past few months, and in the beginning I wasn't really giving much thought to the brands that I bought other than whether or not they will do what I need them to do independently from everything else and if they will work with Google Home and Alexa. After I started accumulating items, I made sure any new purchases either stated they do or will work with Matter in the future, so anything I buy now will hopefully have that capability for the future. 

I have been using either the Google Home app or Alexa app to control turning things on or off and I've set up some very basic automations through those apps, but I would like to set up some more complicated automations, and have them all in one place as much as possible. After considering the options, I chose Home Assistant (instead of homekit or hubitat). 

I signed up for the free trial of Nabu Casa and I don't actually see any point in having it for my situation and needs, unless I'm missing something. I can still use Google home and/or Alexa when I'm away to turn things on or off. 

To be fair, I still haven't gotten everything connected to home assistant, so maybe I'm not using it to its fullest capabilities yet, but I'm wondering what I might be missing as to why so many people do use Nabu Casa. 

Me: 
I'm not an expert when it comes to programming or computers, but I'm the most knowledgeable person I know in this area, so I've been learning from YouTube and the home assistant website and different subreddits when I have time. 

My devices I currently own:
- Android phone (Galaxy S22) 
- 2x Google Nest mini speakers 2nd gen
- Echo Dot 5
- Echo dot 2
- Monster smart light strips x2
- Energizer connect (tuya) smart bulbs x3
- Energizer smart (tuya) plugs x2
- Roomba i7
- Alfred camera x10
- Kasa tp-link hs220 x6
- Aqara M2
- Aqara door/window sensors x3
- Broadlink RM3 
- Broadlink RM4 2019 with temperature and humidity sensor cord
- Switchbot plug mini x4
- Chromecast
- Tile Pro 2020
- Generic NFC tags
- Samsung tablet Galaxy Tab 4
- Nest Thermostat
- Ubox doorbell
- Samsung watch 5 40mm
- iPad Mini 3 
- My everyday use Laptop running Windows 11 with VM VirtualBox set up to run home assistant - I'm trying not to invest in other hardware until I know for sure I want to use home assistant, but I will eventually buy a dedicated device. 
- ZigBee 3.0 Silicon Labs EFR32MG21 Universal Open Hub USB Dongle Chip Module T5B7
- Bluetooth dongle Cambridge Silicon Radio Ltd USB-2.0BT [8891]

My devices I will be purchasing in the near future:
- Switchbot door lock
- Switchbot hub 2
- Temperature/humidity sensors for different rooms and for monitoring fridge/freezer temps
- usb hub for computer


My goals/desires for my smart home:
- basic routines 
- > Workday routine to turn on/off lights, change light colors, turn on/off sounds like white noise or Spotify
- > dynamic routine that will ruin based on conditions from Google calendar (start time of work changes sometimes, so I'd like to be able to adjust the routine based on Google calendar events. Or if an appointment is on the calendar other than work, set alarm for certain time before appointment)
- intermediate routines containing several conditions each (if/and & if/or) 
- start routines by scanning nfc tags
- log events by scanning nfc tags
- reminders on phone when nfc tags aren't scanned
- notifications for when specific devices go offline
- adjust thermostat based on temperature sensors
- Home/away based on phone location for me and based on some type of bluetooth tracker for the dog (maybe Tile could accomplish this? I want the thermostat to change to different temperatures if both me and my dog leave, vs if I leave the house and she stays home) 
- access to google voice assistant (alexa if necessary, Google preferred - I heard home assistant might get it's own voice assistant at some point this year, but I do prefer Google) 
- integrate with tasker (I need to learn to use tasker too) or something similar
- if additional hardware is needed, preferably low cost hardware
- preferably no monthly subscription (I'm not opposed to having a subscription if it will be actually helpful to achieve these goals, but I don't want one just for the sake of having it) 
- local and non local control preferred - work with our without wifi if the internet goes out, and work from around the world) 
- use free version of ifttt
- view Alfred camera videos
- > I'm currently contemplating getting new cameras as Allred cam has become too unreliable, but I haven't decided what to get yet. I just spent $350 to get all 10 of my alfred cams a few months ago. In a new camera system, I would need motion detection, cloud storage with access to 7+ days of recordings, pet detection, facial recognition world be great, monthly fee of $3ish or less per month with access to all features. 
- work with new devices on my list to buy


If you have any thoughts on nabu casa and why you do or do not use it for your smart home, I'd love to hear them! 

Or if you have any suggestions about changing to another ecosystem or devices that might be better for my smart home, let me know those as well! 

Thanks!!!"	3	"[""big-ted: Nabu Casa gives me remote access to HA and allows me to use Google assistant to bark commands\n\nYes I could do those for free but I can't be arsed to repair the functionality every time HA releases an update"", ""The_Mdk: Nabu casa does what HA already does, it just makes it a bit easier to set up some things\n\nIf you love tinkering and having full control, you don't need it"", ""Medved_77: I subscribed recently after installing HA around 9 months ago. Other than for supporting the project, I found it really helped me to clean up my devices/smart home setup.\n\nMy HA instance had grown 'organically' and my alexa devices were a massive mess. I'd sorted the naming convention in HA but still had them stored as different names in Alexa, some devices that worked, others that didn't, some called completely different names.\n\nSo now, other than the actual Amazon devices, the only devices in my alexa app are those that I've authorised HA to expose. I don't need to worry about naming conventions, I can expose helpers.\n\nIt's hard to justify the price for the functionality alone, as there are alternatives for remote connections and using Alexa however for me, it got me to think about how to organise HA. cleaned up my integrations with Alexa and I'm supporting the developers whilst receiving some convenience in exchange.""]"
1681750129.0	17-Apr-2023 09:48:49	HomeAssistant Compatible EV Chargers	dangerous_dave1064	8	12pooo4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pooo4/homeassistant_compatible_ev_chargers/	"Slightly off from the usual track with HA and EV but here goes;  


Soon to be getting a PHEV which will require around 2 hours of charging to fully charge. My tariff is a variable one in that it changes throughout the day in 30 min blocks - we are advised the day before what the next day will look like. I want to keep this as its not worth moving to an EV tariff with higher day rates for the 2 hours of EV charging I need at night. (For anyone who knows it - Im on Octopus Agile).   


So I am looking for a charger that can be set to charge the car from say 00:30 to 01:00 then 03:00 to 0400 then 04:30 to 05:00 based on whatever the lowest price ""blocks"" are overnight. This charge schedule will need to be changed almost every day as the blocks fluctuate in price. Ideally this is through HA interface via an integration/API.  


I have no experience with EV so this is entirely new to me. Im reaching out to the HA community first as you lot are more likely familiar with the use case over say my energy provider, car mfr or even the people who make the charger.   


Where do I even start with this ?  
thank you ."	32	"['gmillerd: Just of note, your car likely is able to do this as well, you plugin and configure it to only charge during a window.', 'QuesyDucky: I use Juicebox, and it interfaces well, status, voltage, amperage, temp, etc', ""sembee2: I have an OpenEVSE charger and it is completely controlled by Home Assistant. The charger is put to sleep when the electric price is high, and then wakes up when it is cheaper.   \nThe only drawback is that it doesn't report its use in real time to the Energy dashboard, so you get odd spikes in power consumption, but they are working on that."", 'andrewrmoore: I can highly recommend the myenergi Zappi. It’s very popular in the UK Home Assistant community.\n\nWithout HA it integrates with Octopus and can charge during cheap periods. The great HA integration is just a bonus.', ""wsdog: I'm using Emporia EVSE. It requires the cloud, but the HA integration is quite good."", ""Medved_77: I'm using a PodPoint Charge point in HA. You can create automations for it to start/stop charging at certain times.\n\n[https://github.com/mattrayner/pod-point-home-assistant-component](https://github.com/mattrayner/pod-point-home-assistant-component)\n\nThere's also an Octopus Agile integration:\n\n[https://github.com/markgdev/home-assistant\\_OctopusAgile](https://github.com/markgdev/home-assistant_OctopusAgile)\n\nCheck to be sure but I think you could create an automation to tell the podpoint to start/stop charging at the best 30 min rates available based on the Agile rates being fed into HA.\n\nI'm using Octopus Intelligent but that connects to the cars API and I just leave it to start/stop charging bypassing HA.\n\nAlternatively, have a look at [https://www.ev.energy/](https://www.ev.energy/) \n\nAgain it bypasses HA (which I'm trying not to recommend) but it does integrate certain charge points with the Octopus Agile tariff to start and stop the amount of charge based on the cheapest available rates."", 'DIY_CHRIS: Your soon-to-be car will already do this.', 'ongebruikersnaam: Perhaps a zigbee plug is enough for you.', ""kunigit: Smart EVSE's definitely exist (lots of examples suggested in other comments), but for a PHEV, the cost is usually not worth it. The car will no doubt offer basic scheduling for time of use billing, but if you want to be able to change it easily and/or automatically, then you're going to need either a smart EVSE or (if electrically feasible) a smart relay.\n\nI would start at both ends of your situation - look to see if your electrical billing has some kind of integration/API etc., and also try to see whether any of the smart relay/plugs could manage the EVSE your car comes with. No idea what voltage/amperage you'll be using, but some PHEVs in the USA support 110VAC at 12-amp, which theoretically could be switched with a 15-amp relay. Not sure if electricians would yell at you for trying that, but it's worth investigating."", 'Timbo8000: I really like the [Easee One](https://easee.com/uk/home-charging/). Looks good, works well, integrates well, shares an RFID tag with my Yale Connexis.', ""TabooRaver: I'm currently looking into this as well, there are 240v 30amp zigbee(?) power monitoring relays. So as long as you can find a charger that won't freak out if it is disconnected, you'll be fine."", 'Howdy-Doody-Yee-Ha: Emporia is the top rated charger and if you add their Emporia Vue energy monitor it will do what you want. Oh and, the Emporia goes up to 48a hardwired (not that you’ll need that for a PHEV) and is only $400.\n\nWhich PHEV are you getting?', 'Matt_NZ: I do this using the API for my car rather than the charger. If it was just time based charging then I would use the cars built in timer but I also need to stop the car charging if the dryer is running since they share a circuit and can overload.', 'Lambdahindiii: I have a Wallbox Pulsar Plus (40A) and it integrates well with HA!', 'NoDiscussion9481: I use a Prism Solar by Silla Industries. It communicates via MQTT. Nodered is a great way to control it. Indeed I can squeeze every single Wh of energy from my PV panels. From your description, a flow that starts/stops the charger at specific time and modulates the current  seems really easy to implement', ""techramblings: Greetings fellow Agile user.\n\nLooks like lots of good suggestions of chargers in the thread already, though given you're in the UK, it might be worth checking whether there are any grants toward the cost of installation available to you.\n\nYou're probably already aware - the rather excellent Octopus HA addon \\[1\\] has capability to pick charge windows from the best Agile rates, so you can either allow it to charge in half-hour intervals during the cheapest Agile rates, or pick the cheapest contiguous 2 hour window.\n\nI tend to use the latter, especially with my garden tools, as I'm concerned about the effect of on/off/on/off charging on older NiCd batteries. Probably not an issue with a modern Li EV though.\n\n\\[1\\] [https://github.com/BottlecapDave/HomeAssistant-OctopusEnergy#target-rates](https://github.com/BottlecapDave/HomeAssistant-OctopusEnergy#target-rates)"", 'Mad-Mel: Hypervolt is a solar-smart charger with a HA integration that lets you control everything. You can set up an automation based on current electricity prices.', '5yleop1m: Also some chargers include time based charging too, my POS china charger has time based charging built in, though the interface to add it horrendous.', 'FuzzyMistborn: This is true but in some cases (cough cough Hyundai/KIA cough cough) the car API sucks so controlling/monitoring from the EVSE would be better.', 'TDawg225: Had a juicebox at my old place and can confirm integration was great.', 'NateCrawford: The company that sells them now (ENEL) sent out a e-mail to users a few months ago that said they were shutting down API access, and everything was to go through their new app. The deadline came and went, and I can still access through HA. I contacted their support people about this, and they said they would let the backend people know the API was still in use.', ""MrJacks0n: Do you have an example of how you setup the sleep part? I've looked at it a bit but the API seems a little lacking."", 'JasASmiths: +1 for MyEnergi Zappi.', 'cmh-md2: I have the same.  Wishing for the same ESP32 hack as on their energy monitor that makes it ESPHOME compatible :)', 'mattfox27: Me too', 'wsdog: ChatGPT?', 'sembee2: It uses the integration. Sleep mode is one of the options. Not using the API myself.', 'ongebruikersnaam: ?\nI drive a Leaf that is literally charged by a zigbee plug that HA turns on when the tariff is low or my PV is producing.', ""MrJacks0n: I must be doing something really wrong then as I can't even get it to show up as a single device, only entities."", 'sembee2: I completely forgot, I am not using the native integration, but a fork. \n\n[https://github.com/firstof9/openevse/](https://github.com/firstof9/openevse/)\n\nThat will expose a lot more information including sleep mode as a switch. \n\nThe native one is just sensors.', 'MrJacks0n: Thanks, that looks a lot better.', ""Professional_Koala30: Ah that's great. I looked into building an openevse once, but got turned off due to the integration lacking so much. For something completely open I was surprised it didn't have a better integration""]"
1681742978.0	17-Apr-2023 07:49:38	Need help setting up local calendar & automations for sprinkler schedule	docwisdom	2	12pjift	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pjift/need_help_setting_up_local_calendar_automations/	"I have successfully built a sprinkler system using esphome and all of the hardware and HA switches work as expected. 

I set up a dedicated local calendar for the sprinkler schedule, but I’m struggling with building a scalable automation to run the valves based on the calendar. 

As a test, I created an event called “all valves” and a corresponding automation that looked for the string in the calendar event and started a full sprinkler cycle. This is great but I don’t want to have to manually create an automation for every possible sprinkler valve combo I might want to run. 

Is there a way that I can create local calendar events and just put the valve number or nickname in the event and even have multiple valves separated by commas, then have the automation parse the valve numbers/names using a single automation?

If required I could make multiple events per day with the corresponding valve information and have the automation add it to the queue if the cycle is already running. 

Is anyone doing something similar with a cleaner approach? 


Thanks in advance"	2	"['404flyer: I assume since you mentioned the valve names/numbers that there is some service you can call and pass that info to that would start that sprinkler. If so, here\'s an example of using a comma separated list in a for loop in an automation. For this example, I used an input_text, because it was easy to test, but hopefully it\'s clear how you would adapt this to use an calendar trigger (in which case, the title of the event would be available in `{{ trigger.to_state.attributes.message }}`.\n\n    alias: For Each test\n    description: """"\n    trigger:\n      - platform: state\n        entity_id:\n          - input_text.test_text_1\n    condition: []\n    action:\n      - repeat:\n          for_each: ""{{ trigger.to_state.state.split(\',\') }}""\n          sequence:\n            - service: switch.turn_on\n              target:\n                entity_id: ""{{ repeat.item }}""\n    mode: single\n    \nSo what\'s happening here is that input_text.test_text_1 contains a comma separated list of switch entities. When it changes, it triggers this automation. For each item in the comma separated list, it calls a service using the item as the entity_id.', 'docwisdom: Thanks for pointing me in the right direction. I have more testing to do, but this alteration to your example appears to be working for me so far!\n\n    alias: For Each test\n    description: """"\n    trigger:\n      - platform: calendar\n        event: start\n        offset: ""0:0:0""\n        entity_id: calendar.irrigation\n    condition:\n      - condition: state\n        entity_id: input_boolean.rain_delay\n        state: ""off""\n    action:\n      - repeat:\n          for_each: ""{{ trigger.calendar_event.summary.split(\',\') }}""\n          sequence:\n            - service: switch.turn_on\n              target:\n                entity_id: switch.enable_valve_{{ repeat.item }}\n      - service: switch.turn_on\n        data: {}\n        target:\n          entity_id: switch.run_cycle\n    mode: single\n\nMy calendar item in `calendar.irrigation` has a title of 1,4,7 and this resulted in the Enable Valves for 1,4,7 turning on and then the run cycle switch being turned on which begins the irrigation routine.']"
1681742457.0	17-Apr-2023 07:40:57	Mesure water level?	camera_Niko	89	12pj2fe	homeassistant	https://i.redd.it/xjpyvl6rzhua1.jpg	there is someway to measure how much water i have in this hot water tank	50	"['Lectere: The amount of water is always the same... 🤣', 'ExpertYogurtcloset66: Add text label. Set text to 100%. Done', 'Dmytro_r: Such water tanks are always full, because hot water is pushed out by a connected cold water (so it mixes and temperature decrease).\nAnd it is quite hard to empty it, because hot water intake is located near the top of tank (to get the hottest water) - so water level will always be near the top.\nSo it makes no sense to measure water level here on a daily basis.\nYou, potentially, could replace thermometer with some smart one to get temperature readings remotely.', ""alex3305: Although comments here are hilarious, I think OP is asking how much _hot water_ he has in this water heater. I had the same question a couple of years ago. And there is a very unobtrusive way to make this kind of water heater smart with 2 additional components.\n\n1. A smart plug which is rated for this water heater. I have a [Fibaro wall plug](https://www.fibaro.com/en/products/wall-plug/) which is rated for 2500W.\n2. A DS18B20 probe with a Pi or ESP with ESPHome (or 2 for calibration at your faucet)\n\nYou see. That little gauge on top of your water heater is most probably removable. As was with mine. You can check with the manufacturer or manual if you are not sure. This little gauge works because it's a very basic thermometer with a metal end cap that measures the outside temperature of the inside water vessel.\n\nI simply replaced this thermometer with my own, a DS18B20. They are also metal and very conductive. They are also cheap, easy to configure and easy to come by. I hooked mine up to a leftover Pi, but you can also use something like a Wemos D1 Mini with ESPHome. They are [very well supported](https://esphome.io/components/sensor/dallas.html). Finally I filled up the little hole with some left over insulation.\n\nIf you combine this sensor with a smart plug, you can leverage Home Assistant's [Generic Thermostat component](https://www.home-assistant.io/integrations/generic_thermostat/). And this is very easy to setup in your `configuration.yaml`:\n\n    climate:\n      - platform: generic_thermostat\n        unique_id: thermostat_water_heater \n        name: Water heater\n        heater: switch.water_heater\n        target_sensor: sensor.temperature_water_heater\n        min_temp: 25\n        max_temp: 75\n        min_cycle_duration:\n          minutes: 2\n        cold_tolerance: 2.5\n        hot_tolerance: -0.5\n        precision: 0.1\n        target_temp_step: 0.5\n\nNow you have a controllable thermostat for your water heater.\n\n_Note that if you do this, you'll have to account for legionella growth inside of your water heater. So you'll need to keep the water at a minimum temperature at all times and/or are recommended to do regular legionella runs for it to be safe!_"", 'Valantur: Hilarious post. Upvoted.', 'bendu122: https://i.imgur.com/PgZyh9y.jpg\n\nI made this card\n\nEdit: Here is the code for the SOC percentage view of the waterheater:\n  - platform: template\n    id: ""combinedtemperature""\n    lambda: |-\n        return id(tempwaterheatertop).state + id(tempwaterheaterbottom).state;\n    update_interval: 60s\n  - platform: template\n    name: ""Waterheater battery""\n    device_class: battery\n    unit_of_measurement: ""%""\n    accuracy_decimals: 0\n\n    filters:\n     calibrate_linear:\n        - 20.0 -> 0.0\n        - 132.0 -> 100.0\n    lambda: |-\n        return id(combinedtemperature).state;\n    update_interval: 30s', 'rlowens: Since the obviously meant ""how much HOT water is in the tank"", I agree with /u/the_figaro that it would work to measure the power going in. Not drawing power = tank 100% hot water. Then maybe a timer that shows how long it has been heating, so you know about how long you have left?\n\nTo really know how much hot water you have left, you would need a metering valve on the output as well, then you could do some calculations on (total volume - volume used in last hour + heating rate) or something.', ""olderaccount: There is no point in measuring. The total amount of water is always the same. \n\nThe question you'd like answered is how much hot water do I have available? The only way to answer that is to have thermocouples every few inches along the inside of the unit to see where the temperature changes.\n\nI highly recommend the video below to anybody who is not sure how a water heater works. They are simple, but a lot more clever than one might suspect.\n\nhttps://www.youtube.com/watch?v=Bm7L-2J52GU\n\nAfter watching the video you will understand how *recovery time* is as important of a metric as the total water capacity."", ""The_Figaro: In addition to what others are saying even a temperature sensor wouldnt help that much. That's because the tank stratifies into a hot and cold portion. Best method imo is to monitor the power going in."", 'GroundbreakingTwo449: The gauge is for the temperature, not the level of the water. The water level is always the same', 'undeleted_username: What the gauge on the top shows is the water temperature, not the amount of water. To measure the water level, you can choose the *internal path* (try to figure out how does that gauge work and where it measures the water temperature, then replace it with something else), or the *external path* (place some kind of sensor, perhaps a camera, and read the temperature as shown by the gauge).', ""quaintlogic: I'll place this here;\n\nhttps://youtu.be/Bm7L-2J52GU"", 'TheRedLob: I have the same issue.\n\nYou can use a combination of flow meter (to count how much hot water left the tank/how much cold water entered) and power consumption meter.\n\nStart with 100% (120 liter?) at 60C. As water flows out, the water in the tank is eg 70% hot 60C, 30% Cold 10C. In a typical hot water boiler, these do not mix. You can assume each 50 kcal of electricity consumption converts 1 liter of cold water (10C) back to hot water (60C).', 'pollonium84: Should always be full.', 'esjay1990: Probably by reading the product label\n\nEdit: I even did not notice the energy label at the right where the volume is mentioned.', 'BartLanz: I have a boiler that requires water to be added to it from time to time. I have been racking my mind on how to best do what you’re asking.', 'PFTKev: You could put a temperature sensor on the outlet side and then track the temperature with multiple sources using as much hot water as possible. This would give you the temperature curve for worst case scenario. Use the values from that curve to calculate how much time is left until the water reaches a temperature you consider intolerable. You’ll have to keep in mind that the temperature of the incoming water will vary and that will affect how quickly water can heat up.', 'ams3401: Oh I’ve seen this when I went to China. That gauge on the top is not the water level, it measures water temperature. \n\nWhen it’s low, it means the reserved water temp is low because you’ve used all hot water, but doesn’t mean theres no water inside of it.', 'maxkonrad03: You can make some math calculations and predict water level, maybe?', '__freaked__: See the temperature gauge on the front? You should be able to pull it out and most of the water heaters of this kind I have seen so far are using a immersion sleeve (according to google translate) where you could insert your own temperature sensor.\n\nIt should look similar to this:\n\n&#x200B;\n\nhttps://preview.redd.it/od0oo9q0ojua1.png?width=768&format=png&auto=webp&v=enabled&s=d5056a8d1eadd723787f38b9c4eff74e5c4049c1\n\nIf it the temperature alone doesnt do it for you, you could just do a simple calculation and let it display as %', 'LeftRightShoot: Measure the outflow of the hot taps and apply a conservative recovery rate.', 'AlanMW1: In case anyone is curious about water heaters with the feature built in, my GE water heater gives an estimate on remaining gallons of hot water. And I know there is a GE connection to HA. Not sure if the remaining gallons of water is being reported to HA though.', 'Jusii: I was able to sneak in 2 DS1820 sensors in my boilers thermostat pocket, one all the way in and one closer to bottom. Can then read top and lower temperatures. DS1820 sensors are attached to Shelly UNI. On my boiler, thermostast pocket was accessible from the bottom, long metal tube going from under to close to top.', ""Bergtatt: I use template sensors which calculate the amount of energy contained in the boiler instead. \n\n\nThey're not 100% accurate but close enough. The more temperature sensors you have the better. I have one ds18b20 placed ~30 cm from the bottom."", 'alukad: Dallas sensor + Esp 32\n\nhttps://preview.redd.it/5q1r3pzfyuua1.jpeg?width=2268&format=pjpg&auto=webp&v=enabled&s=a6c2d2c11ceedfee3e27f3599bf087425cadfa2e\n\nmy water heater has a plastic wrap around it, I just drilled it and taped the sensor to the outer metal casing. the readings i get are pretty accurate..', 'Emmanuel_Karalhofsky: Start by making a hole at the top. Then make a hole every  1cm down and vertically. When it leaks water you will have the answer.', 'undefined-one: Yes', 'ecschnei: Put a glow meter on input and output then program the math', 'NavinF: Pretty sure he meant hot water level. As in ""what percentage of the water in this tank is hot?"" \n\nIf anyone\'s wondering, no the hot and cold water don\'t mix even though they touch: https://www.youtube.com/watch?v=Bm7L-2J52GU', ""5h4d0w: You know all the water in a hot water heater, isn't the same temperature right? Cold water goes in the bottom and hot water comes out the top, but it has baffles inside to prevent it all from mixing."", 'None: [deleted]', 'camera_Niko: home assistant stand up comedian', 'Tapehead2: There are some external flow meters (ultrasonic) that could capture this data. Might be easier than finding/installing a reliable inner hot-water flow meter. Maybe obvious or bad advice, but just one idea on how to capture this part of the equation.', ""skinnah: I agree but I would anticipate that you could track a trend of miniscule temperature drop on the hot water output still. Could be useful in addition to power usage. That wouldn't work with a natural gas or propane hot water heater though."", '5h4d0w: The temperature at the top should stay pretty close to the same  too. (https://www.youtube.com/watch?v=Bm7L-2J52GU)\n\nWhat you need is a thermal camera to see where the transition is, to gauge a rough percentage of hot water remaining.', 'created4this: Just leave the tap on a dribble, as the pressure cycles during heating the extra water will be shot out of the overpressure valve. \n\n—->Don’t do this. <—-\n\nFind out where the leak is and fix it, you can buy dye that shows up under UV even after the water has dried to add to the system.', 'Howdy-Doody-Yee-Ha: They make auto fills for boilers, since probably 1955.', ""tehrmuk: I don't even need to click the link to know what it is.\n\nToodles!\n\nEdit to at least try to be helpful: On my electric hot water tank I soldered a row of ten DS18B20 temperature sensors to the metal of the tank (under the insulation) to work out how much hot water I have left. The sensors are at approximately equal intervals so represent 10L of the 100L tank."", ""alex3305: On my model -- and as far as I can see OP's model too -- the hot water doesn't come out the top, but rather at the bottom.\n\n> [...] prevent it all [water] from mixing.\n\nThis isn't what I observe whenever I have used a little hot water. And also isn't in the exploded view of the manual of my water heater."", ""alex3305: > You mean your water heater doesn't already have a thermostat inside?\n\nYes, it has a thermostat inside. It goes up to 75 degrees. However this is a very simple, 'dumb' thermostat. If the temperature goes below a threshold (probably the setpoint - 5 degrees or something) the water heater starts heating again until it has reached the target setpoint.\n\nIn my setup I have set the water heater thermostat to 75 degrees, it's maximum and I manually override this. Whenever HA should crash I still have hot water if the smart plug is on. Otherwise I can easily override it. However this has never happened. The Pi crashes about once a year, but every time a simple reboot fixes that.\n\nJust for funsies I have just looked up how old this setup is, and apparently my first implementation is from november 2019. Since than I have saved myself somewhere between 1500 and 2500 euro's on power from this  (`(9kWh rated - 2,5kWh actual) * 4 years * 365,25 days * 0,22€ average kWh price`). The more you know 🤷\u200d♀️."", ""tonytaylor85: A turbine meter is a better option if you're comfortable with basic plumbing work"", 'The_Figaro: True a sensor on the outlet would be a good indicator of temperature in the tank. It would depend on the setpoint and deadband of the controller of course.', ""djgrahamj: yeah I was picturing a bunch of temperature sensors on the outside but might not work too well if it's well insulated. A thermo cam is a neat idea but might be hard to parse out the result."", 'BartLanz: It’s a low pressure steam system. The leak is supposed to be there. When the radiators hit temp they pop off and some steam is lost.\n\nFor a normal person/system you are 100% correct on how to find and then get fixed.', 'a12rif: Love that channel. Where else am I going to find a 40 minute video on a 50 year old toaster?', ""NavinF: Wait you soldered the sensors directly to the tank? Were you soldering with a blowtorch? I don't think my 700W iron can deal with such a large chunk of metal. \n\nI would have just sanded the metal, used thermal adhesive to attach it, and taped some cloth on top for insulation."", '5h4d0w: https://www.youtube.com/watch?v=Bm7L-2J52GU is worth a watch.\n\nYour system might be designed differently, but the majority are as described in that video.', 'alex3305: I just looked at the exploded view of my water heater and it looks more like [something like this](https://boiler-weetjes.nl/media/direct_gestookt/elektraboiler.jpg). However electric water heaters are also extremely uncommon, not to say rare, here in the Netherlands. And we can run them on 240V. So I think they can be quite different to their US counterparts.', 'ImNotTheMonster: You can see it in the diagram you posted: the hot water comes from the top. The hit water tube goes to the top.', 'rotinom: Most electric water heaters here run on 240v as well. I very much doubt your water heater works differently. \n\nNever had a gas water heater until I moved into a city. In the country it was all electric.']"
1681742345.0	17-Apr-2023 07:39:05	Need new device to run HA	shotsfired3841	16	12piyuo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12piyuo/need_new_device_to_run_ha/	My laptop died over the weekend. I need a new device to run HA on. What's the best value and ease of use experience to do that? Pis are hard to get. I hear about the Nuc but don't know anything about them. What's your recommendation?	48	"['tehrmuk: Do a search on your preferred marketplace for [""usff i5""](https://www.ebay.co.uk/sch/i.html?_nkw=usff+i5) and you\'ll be spoiled for choice of suitable machines, often with a warranty and under €/$/£100. These are fleet computers used in corporate settings and they\'re rotated out regularly so the marketplace is full of excellent, compact little computers.\n\nIf you just want to run HA these have oodles of power; they\'re even suitable for more advanced setups running a hypervisor like Hyper-V or Proxmox.', 'Lectere: Cheap Intel NUC, low power usage. With a ssd.', 'supergerrit: I recommend getting a second hand Thin Client PC, they are really cheap to get and capable enough to run HA.', ""realsqlguy: Find yourself a cheap mini PC. I'm running on a Lenovo M72e, after dumping a RPi4. Best move I could have made."", 'ams3401: Damn I was gonna recommend RPI4 because that’s what I’ve been using for years but somebody already got bombed with downvotes :/\n\nI guess NUC is the way to go nowadays..', 'm1kemahoney: I switched to an Intel NUC7i5. It runs Proxmox with a full VM for Home Assistant. The device was $125 on eBay. I’m super happy with it.', 'blentdragoons: or use a vm on another pc you have', ""sbogx: I saw that there's an entire market of refurbished mini-PCs that you can use for this, I got myself 2 Lenovo M710Q with a 6th gen i5 because I want to run some other stuff with proxmox, but probably an i3 is more than enough for a HA setup."", ""jacaug: I've been using [these HP T620 thin clients](https://www.ebay.com/itm/325505544799?mkcid=16&mkevt=1&mkrid=711-127632-2357-0&ssspo=ZVWZrfm7RYq&sssrc=2349624&ssuid=_fpksmzeq22&var=&widget_ver=artemis&media=COPY) for a while, no problems so far."", ""edz9876: I picked up a refurbished mini PC (Lenovo m700) off eBay for < $100 without a HD or OS. I had an extra SSD so installed that. So far I'm running proxmox ve on it with HA in it. I've split out Adguard Home from HA and running it in a separate container. Planning to add a few other containers for things like a cam server and firewall."", ""nmavor: I'm running on intel NUC its good and easy (its just mini PC) and I get it for free (the NUC are on the high end of price) you get pickup some of the old dell desktop (SFF) for sub 100$ and it will work fine 10 times faster the Pi"", 'datasmog: I’m using Virtual Box on an old 2010 Mac Mini. It’s possibly to install Linux on those and avoid using a VM.', 'anonymous7865412: https://www.reddit.com/r/buildapcsales/comments/12pi3m2/mini_pc_acemagician_mini_computer_n5101_12gb_ddr4/?utm_source=share&utm_medium=ios_app&utm_name=iossmf', ""BartLanz: Ya, I would look on FB marketplace or Craigslist or where ever is popular in your area for either a SFF or USFF PC, I like Dell Optiplexs, I do not like USFF PCs though. In my experience USFF tend to be loud and shorter lived. \n\nI'd grab an old SFF Optiplex with a SSD maybe. \n\nDepending on what else you are doing, if you want to go over the top. You could get an old PowerEdge Server. I am currently using a T430 for my house. It hosts HAS as well as a few other things for us. I'm running ESXi 7.0 U3 on it. If you go the old server route, make sure it has DDR4 ram. the stuff w DDR3 will be much cheaper, but also much slower, more power hungry and create quite a bit more heat. \n\n&#x200B;\n\nUSFF is **U**ltra **S**mall **F**orm **F**actor\n\nSFF is **S**mall **F**orm **F**actor"", 'anonymous7865412: Raspberry pi', ""Free-Ad9013: Im using a used Dell OptiPlex Micro 7040.  quad core a 8gb ram with 128gb ssd hdd. made a offer to someone and they accepted but can be got for 80 ish on a good day.  If I had known how easy it was to install I wouldnt of ever bought the PI's that I have now.\n\nThe SD card in a PI is slow, and will eventually brick it bc of the write limitations."", 'DIY_CHRIS: You can get a cheap Linux box on Amazon for ~100', 'Doranagon: Some little low power minipc.i have a beelink s1.', 'ridiz: A used thin client works well. This site is a wealth of information on them: https://www.parkytowers.me.uk/thin/hp/t530/', 'jrhenk: I just managed to install debian (armbian) thanks to this project on a s905x3 armbox https://github.com/ophub/amlogic-s9xxx-armbian\n\nRunning ha core and node red on docker and installed mosquitto - works pretty great and you can get these boxes for under 50€ on aliexpress', ""thornygravy: thin client for sure, everybody likes a different flavor.. I'm partial to the dells"", 'triplerinse18: Find a dell optiplex off ebay like 80 bucks.', 'daath: It is possible to get Pis - last week I got my hands on a RPi 4 model B 8GB kit with a case and a power supply - now running HA with an m2 SSD (in a case and with USB 3) :)', 'itsVorisi: I run on a Dell wyse terminal. Works fantastic. Just make sure you find one on eBay that includes a power supply, ram, and SSD.', 'notalbymangels: Agree, I have two Lenovo TinyPCs running HA at different sites, an i5 and an i7.\n\nOP, if you want to run Frigate check the GPU is supported by OpenVino, it handles object detection and avoids the need to buy a Coral.  So 6th Gen Intel platforms (Skylake) and newer. https://docs.frigate.video/configuration/detectors', ""fortisvita: This is the way.  I'm running mine on a Lenovo, never had a problem with performance."", 'TexticularTorsion: RPis are nice and all for some prototyping, but I agree, ditch them in favour of a far more reliable system - no more randomly corrupted SD cards!', ""WannaBMonkey: I'm in the process of setting up HA...on a pi...so there is that"", ""Kabunny: I have been going strong on mine for a few months. Now I'm scared."", 'Geotig: The problem is the prices, a complete pi with all the accessories + SSD to run HA costs more than a NUC and offers a lot less processing power.\n\nI had to recicle an old laptop (it’s running HA great tbh, and it has an integrated battery for power outages) because Pis and NUCs where expensive locally. Don’t regret this, having a backup battery and a screen and keyboard integrated makes for a really good HA server.', 'peterxian: I’ve been using a [Dell Wyze 5070](https://a.co/d/bYRJzyQ) for a few years. More than twice as fast as a pi4 for a lower price after case, power supply, and SSD.', ""018118055: I've found these with at most a couple of weeks delay via rpilocator.com. I'd run another option but I value low-power and ecosystem above all."", 'tasslehawf: Unobtainable. Also ssd support is not great. Best bet is a mini pc or docker image.', ""renaiku: Is it power and CPU hungry ?\nI plan to switch with a NUC / SSFU with an i5 and 16gb, but there is so much choice I'm lost."", ""fhfs: with HAOS you can move the data partition to a usb ssd, which works great and prevents corrupted uSD's."", ""Doranagon: Don't use a micro SD. Use a USB drive.  Can also use a Argon40 One m2 case. Have a m2 ssd to boot from. I have one for retro pi."", ""jacaug: Any thin client works I'm guessing. I did a quick google search to compare CPUs for pi and HA's offical hardware and most of the thins came out on top."", 'anonymous7865412: That’s my thought. RPI uses basically no power.', 'anonymous7865412: Get a pi from eBay?', ""notalbymangels: Even my i5 is running 3 cameras no problem, however I'm having some other HAOS issues right now which I can't say isn't from openvino since I just installed it a few days ago.\n\nCPU is staying about 9-12% though, Openvino offloads the object detection to the GPU so it actually frees up CPU resources.\n\nThe Lenovo is drawing about 12W so I don't think it's an issue.  Much more than a RPi4 of course, but still not significant."", 'TexticularTorsion: Good to know! Reminds me of the early SSD approach of splitting boot to the tiny SSD and data to the conventional HDD.', 'nightshade00013: By the time you pay those prices you can get an Odroid N2+ which is faster and just as well supported.', ""renaiku: What's your issues right now ?\nAnd what's your i5 and i7 models please ? :)"", ""notalbymangels: i5 7400T 8Gb 128GB M2 SSD.  I've since added a 256GB SATA SSD \n\ni7 6700T 8GB 256 M2 SSD.\n\nBoth have ample cpu power and ram for HAOS, even running Frigate with 3-5 cameras.  The i5 also runs NextCloud, no performance issues at all.\n\nI've recently had an issue with both of them locking up requiring a power cycle, but they were rock solid for months.  I'm sure it's a config issue or a problem with an integration - something I've done - not an issue with the hardware."", 'renaiku: Ok thanks !\n\nHAOS is in a VM in proxmox or HAOS is installed bare metal ?\n\nI aim to have it as simple and dedicated to Home assistant+ frigate since my nextcloud and Plex etc are running on another computer.', ""notalbymangels: HAOS bare metal.  \n\nI'm running the NextCloud HA add on, has been fine for my limited use so far (mostly auto upload of photos from my ohne)"", 'renaiku: Ok, I found a Lenovo M710q for 180€ on Amazon, I have so many hopes for this one thank you !', ""notalbymangels: That's exactly the model that I have.\n\nNote it probably comes with two DP display ports, no VGA or HDMI, so if you don't already have a DP cable you'll need one to hook it up to a monitor if you need to.""]"
1681741922.0	17-Apr-2023 07:32:02	Question: Adding Map Through Picture Elements	ipwnedukitty	2	12pilfk	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pilfk/question_adding_map_through_picture_elements/	"Hello everyone! I'm new to Home Assistant and I've been customizing my dashboard using picture elements. However, I've run into a roadblock while trying to add maps to my code. It seems like picture elements won't allow me to do this.

Has anyone encountered a similar issue and found a solution to add maps to picture elements? I would really appreciate any help or advice you can offer! Thank you in advance."	3	"['imjerry: Is it a static map? Like in .PNG or .JPG format? Is it in your ""/config/www"" folder?\n\nIf it\'s an online map you might be able to use the [Webpage Card](https://www.home-assistant.io/dashboards/iframe/).', ""ipwnedukitty: I think what I had in mind is similar to a Google Map that displays the location of my phone's trackers. I attempted to create a webpage card that could be integrated into picture elements, but unfortunately, I wasn't successful. I even tried testing it with an iframe card, but it didn't work with the website I was using."", ""imjerry: And why not the [Map Card](https://www.home-assistant.io/dashboards/map/) then?\n\nOr I guess....... There might be some way to use a [shell command](https://www.home-assistant.io/integrations/shell_command/) to get a [static map](https://www.home-assistant.io/integrations/shell_command/), use wget, specify to save in your '/config/www' folder at a given interval, with a specific name, so the card should update. And then you can have your interactive elements overlayed too.\n\nBut that sounds pretty hacky way to do it😅 And I'd say to be cautious with the shell command stuff, I'd say there's a lot of damage it could do!""]"
1681741821.0	17-Apr-2023 07:30:21	What hardware do I need for my home assistant server?	corrado33	2	12pii0f	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pii0f/what_hardware_do_i_need_for_my_home_assistant/	"I recently bought my house and as I've been purchasing devices for it, I've made sure they're all compatible with local only home assistant. 

The question I have is.... what dongles and stuff do I need for my server?

I plan on installing home assistant on my TrueNas (as... well... it's already a server that runs 24/7 so I may as well combine them.)

Do I need dongles? I know that'll depend on what type of devices I have but should I just pick up a zwave and zigbee dongle anyway? What else do I need? Anything? Thanks!"	4	"[""quixotic_robotic: I mean.... are you planning on getting zwave and zigbee devices?  The HUSBZB is a pretty good combo stick with both to start out with, though it's an older gen zwave that may not have as good of range as the latest. Makes it easy to just have both and be able to add whatever device strikes your fancy\n\nBluetooth may be the other depending what you're trying to connect with but not as common to need."", 'clin248: If you want zigbee and zwave then dongle is the way to go. If you don’t want any dongles you are limited to wifi using local options like tasmota, esphome, Shelley etc but most wifi devices are not local.', ""mini_juice: +1 for a dongle and there are several other posts about which one is best! Most seem pretty good 👍 \n\nSomething to add though, if you'll be using a USB 3.x port on your NAS, be sure to grab a short (maybe 1-3ft) USB 2.x extender. I personally haven't had issues yet, but it's said that USB 3 ports can add interference, so it's a good idea to keep that interference away from your chosen dongle. Enjoy!"", 'WWGHIAFTC: Welllll..... the cart is definitly ahead of the horse on this one, so... what devices have you bought??? They will have a requirement of zigbee, zwave, wifi, or bluetooth generally.']"
1681741704.0	17-Apr-2023 07:28:24	Why the hell do devices lose connection?	michaelcmetal	1	12pie4c	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pie4c/why_the_hell_do_devices_lose_connection/	I've been moving from WiFi to Zigbee and Zwave devices.  Now I'm starting to regret it.  If my power blinks out for a moment, I'm guaranteed to lose connection with at least one device.  I've gotta go into HA, remove it, rediscover, and reconfigure.  This isn't sustainable.  Am I using the wrong brand?  As far as I know, most of my devices are Sonoff.  A Nortek Zigbee/Zwave stick controls it all from my Home Assistant server.  Can someone please point me in the right direction?  I'm tired of hearing it from the family.	15	"['blentdragoons: get a ups so your host does not lose power', 'ReallyGene: Do you have the Nortek stick on a USB extender as far from the CPU as possible?\n\nInterference close to the host seems to be the bane of all such devices.', ""kunigit: If you're using mostly Zigbee, then you should check into [Zigbee Wifi interference](https://www.metageek.com/training/resources/zigbee-wifi-coexistence/). I'm all Z-Wave (900MHz ISM) so I don't have any issues with this, but since Zigbee is in the 2.4GHz band, it's possible for wifi to cause problems.\n\nI also don't know the mitigation steps (e.g. how to change your Wifi or Zigbee band) but that article looks like a good starting point explaining why they can potentially conflict."", ""amazinghl: That's the reason I left Zigbee and went wifi only."", 'clin248: I started with sonoff too, and found them would drop randomly. In my case there was no power outage. \n\nI switched to aqara and seem to have no problems. \n\nAre you losing connection to battery devices or hardwired devices? Battery devices will connect to a hardwired device and stick with it instead of searching around if that hardwired device went offline. So if power is lost sometimes you do have to painstakingly repair the devices.', ""yjamal01: I tried switching to zigbee, was excited about it, but for some reason HA would always start out snappy and then after that just get super delayed.   \nWent with local tuya, which I know people hate tuya, but was the easy solution for me as I just couldn't get zigbee on HA to work reliably."", 'BartLanz: When I have had devices go offline, I have not had to drop and re-adopt them, I just re-interview them. Have you tried that?', ""TexticularTorsion: I have a Zooz stick with mostly Leviton Z-wave devices. I have not found them to need anything after power dips/blackouts. My host is on a UPS as well.\n\nI have found the Leviton dimmer light switches are easy to get into a screwy state if you happen to push the dimmer paddle while palming/slapping/elbowing the main paddle. But pulling out the dimmer paddle from the bottom resets it very quickly and it's all back to normal in moments."", 'michaelcmetal: I neglected to state that it is on a UPS.  Is this generally a host issue?', 'michaelcmetal: Hey, thanks for the response. The Nortek stick is actually on a 6 ft extension cable and goes through a hole in the floor up to my family room. The computer is downstairs in the basement on a shelf.  Is there a better stick I could get?  Is this problem generally related to the devices or the stick?', 'michaelcmetal: Are there battery operated WiFi devices?', ""michaelcmetal: So far - it has ONLY been hardwired devices.  Inline switches.  Wall switches.  Plugs, and bulbs.  And they don't all go at the same time.  I lose a particular bulb more often than anything else.  But each of those above mentioned devices have dropped at one point or another, requiring a removal, pairing mode, and rediscovery."", ""michaelcmetal: Slight update - thought I lost a battery operated switch today.  Turns out it was the plug.  I have Sonoff, I think they're S31? plugs.  So far, I've had three of them go offline.  I'd like to think it was just them, but I also lost a Cree bulb.  To re-pair everything, I only had to put the device in pairing mode, then tell HA to scan for new devices.  It finds it, puts it back where it belongs, and it keeps its name.  I need to figure this out."", 'michaelcmetal: With Tuya - are you using their app?  Or can they pair directly with HA?', ""ReallyGene: I have the Zooz stick.  They're all just radios, and for ZigBee, it's transmitting in the 2.4GHz band where WiFi lives.  Apparently, high-speed USB ports can also interfere with these, and relocating is the usual solution.\n\nI found that I had to power cycle my stick, not just reset it, when the network became unresponsive.""]"
1681740798.0	17-Apr-2023 07:13:18	How to use smart plugs for things that don’t turn on automatically?	pastry24834	7	12phkdg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12phkdg/how_to_use_smart_plugs_for_things_that_dont_turn/	"For instance, my air purifier is plugged but it still needs to be turned on and select the power setting. With the smart plug it doesn’t do anything. How do you guys work around appliances that need a second input? 

Thank you"	23	"['sleekelite: Replace it with something that does or find some other way - SwitchBot for buttons, BroadLink for IR, etc', ""Zncon: Mostly what you need to do is focus on buying 'dumb' appliances with physical buttons, or ones that advertise smart plug compatibility/power loss restoration."", 'kctjfryihx99: If you don’t mind doing a little soldering, I recently opened up a coffee maker and soldered some leads around the button and wired up a Shelly relay. When I closed it up, you can’t see the relay at all and it still works manually as designed. But during my morning routine, the relay starts the coffee maker at the right time. I’ve done this to a few coffee makers over the years.', 'BartLanz: Ya, unfortunately the easiest way to deal with it is to replace it with something dumber OR make sure that you get a device that returns to its power on state. This is usually declared on Air conditioners and dehumidifiers. If it does not say, assume it does not do it. I have been through this with a few different devices over the last decade or so as I have smart homed more and more..', ""Kerivkennedy: Not air purifier, but cool mist humidifier we switched to one that has a dial switch on and speed (intensity?). \nSince we wouldn't really adjust that we just set it where we want it. The smart switch controls the on/off. \nThe unit we were using requires pressing a power button multiple times to get to the desired setting, and thus we couldn't make smart.\n\nThis is a nice easy upgrade."", '5yleop1m: Does the air purifier have an IR remote?', 'neutralpoliticsbot: SwitchBot can solve some of this but generally just get a new device that will work', ""W_Shadowborn: Managed to wedge a small bit of plastic in the button of a dehumidifier which allowed me to control it with a smart switch without issue. Sometimes you don't have to go down the complicated route."", 'MowMdown: You can’t', ""cwhiii: If the device has physical buttons or switches, you can probably stick a SwitchBot on it. If it's capacitive buttons... I'm afraid you're up the creak without a paddle, unless you want to crack it open and solder things."", 'sauberflute: This was posted a few days ago: [https://www.reddit.com/r/homeassistant/comments/12n6xwb/converts\\_anything\\_to\\_iot\\_with\\_espclicker\\_and\\_home/](https://www.reddit.com/r/homeassistant/comments/12n6xwb/converts_anything_to_iot_with_espclicker_and_home/)', 'Howdy-Doody-Yee-Ha: Obviously you have to use devices that retain their on state when power is removed and restored. There’s no magic in smart homes.', 'None: [deleted]', 'Howdy-Doody-Yee-Ha: Just devices that maintain last state when power is removed. That’s not a dumb appliance.', ""tehrmuk: It's not easy, but this is the approach I took with my washer/dryer and a couple of electric heaters, too. Works perfectly but, again, not necessarily easy."", 'zSprawl: Awesome BUT I wouldn’t recommend it unless you know what you’re doing. No offense to OP, but some other posts suggests that perhaps this not a good path for them.', 'MrJacks0n: Switchbot with a touch screen stylus tip glued on may work.', 'undeleted_username: ""Smart plugs"" just block or let electricity flow... there is not much they can do.', 'mrtramplefoot: No, but like you said, the smart plug would do nothing for you anyway.', 'sabutilnik: Yo can build or buy an esp32 connected to several relays and then replace the internal switch in your device.', 'rgmelkor: Why the downvote? People can\'t just ask a question in peace. Others are so desperate to ""demonstrate"" are ""smarter"".', '5yleop1m: Easier to do with older appliances in my experience, like pre 2000s appliances before everything started getting consolidated into single circuit boards with ICs.', 'justinhunt1223: My guess is people downvote to say ""no"" to the comment and upvote for ""yes"". OP doesn\'t seem like they understand the concept of a smart plug though, hopefully they understand now', 'zSprawl: While upvote is supposed to be for any post adding value to the topic and downvote for spam, it has (de-)evolved into agree/disagee or like/dislike just cause that is how it is on other platforms.']"
1681738457.0	17-Apr-2023 06:34:17	PowerShell Node Red API call to download flows - auth/token 500 internal error	anatawaurusai2	0	12pg66f	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pg66f/powershell_node_red_api_call_to_download_flows/	"&#x200B;

I see that there is a documented API call to download flows: [https://nodered.org/docs/api/admin/methods/post/auth/token/](https://nodered.org/docs/api/admin/methods/post/auth/token/)

&#x200B;

I would like to leverage powershell to backup my flows into onedrive. When I navigate to https://<HomeAssistantIP>:1880/flows I get prompted for basic authentication Username Password and I am then able to see my flows represented in JSON.

&#x200B;

Trying to script this has been problematic though. Using the same username and password:

$Body = @{ 

client\_id = ""node-red-admin"" 

grant\_type = ""password"" 

scope = ""\*"" 

username = ""<user>"" 

password = ""<password>"" 

}

# Bypass SSL checking for now

$code= @""

using [System.Net](https://System.Net);

using System.Security.Cryptography.X509Certificates;

public class TrustAllCertsPolicy : ICertificatePolicy {

public bool CheckValidationResult(ServicePoint srvPoint, X509Certificate certificate, WebRequest request, int certificateProblem) {

return true;

}

}

""@

Add-Type -TypeDefinition $code -Language CSharp

$uri = ""https://<HomeAssistantIP>:1880/auth/token"" 

Invoke-RestMethod -Uri $uri -Method ""Post"" -Body ($body | ConvertTo-Json -Depth 10)

I have tried multiple iterations, but I always get 500 Internal Server Error

Again, I can reach it through my browser using Basic Auth.

Thank you for any advice!"	0	[]
1681738094.0	17-Apr-2023 06:28:14	Updating Database config for Frigate	holman8a	1	12pfzj4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pfzj4/updating_database_config_for_frigate/	"Hi there,

I have an LXC in Proxmox running Frigate. I was hoping to have all storage (recording etc) to occur on my Synology NAS. 

To do this I've set up a shared folder, and mounted via NFS to the LXC. This all seems to be working fine. I'm now looking for how to direct Frigate to store into this folder.

It looks like I need to use the database field as below:

    database:
 path: /media/frigate/frigate.db

I currently have my mounted folder called /mnt, so have used the below config:

    database:
 path: /mnt/frigate.db

This hasn't been picked up by Frigate, it still is saving locally when I look at storage under the GUI (ie the mnt folder does not show).

I haven't actually created a 'frigate.db' file in the relevant folder, so I was wondering if that was my problem? If so, how do I do that? 

If I've stuffed anything else up with this plan please let me know! 

Thanks heaps for the help!"	6	"['nickm_27: The frigate container only sees the volumes that are mapped to it. I would suggest mapping whatever location on the mounted volume is to `/db/` in the frigate container. Then you can simply make the config\n\n```\ndatabase:\n  path: /db/frigate.db\n```', ""holman8a: Thanks for that, in my portainer stack I now have:\n\n        volumes:\n          - /etc/localtime:/etc/localtime\n          - /root/frigate/config.yml:/config/config.yml:ro\n          - /mnt:/media/frigate\n\nDoes that look right? I've mounted the volume on portainer now too, assuming that's necessary. \n\nSorry if this is dumb - this is the first time I've used YAML and Portainer, so still pretty new! \n\nI know you said /db/ - is that any different to the /mnt I've used above? \n\nThanks again for the help!"", 'nickm_27: Are you also storing your recordings and snapshots in the same place as the db? That’s what would be happening here. I’d definitely recommend keeping the db on local storage otherwise it will slow down network calls considerably', 'holman8a: Thanks for that. Yes they are. To be honest I wasn’t entirely sure on the difference between where the db is stored and where recordings and snapshots are, but they are in the same place. Are you thinking I delete the database entry in confit.yml but keep the mapping in portainer so database doesn’t move but recordings do? Thanks!', 'nickm_27: You are misunderstanding. If you have /mnt/frigate.db in your config then the db is ONLY inside your container and not mapped to your actual storage at all. This means your db has a chance of being deleted when you update the container. I would highly suggest you have two volumes mapped, one from the NFS for recordings / snapshots and one from the local storage which will contain the db', 'holman8a: Thanks! I think I’ve got you.']"
1681737862.0	17-Apr-2023 06:24:22	Automation Help for MiniSplit HVAC units	HarleyEarl69	1	12pfvf2	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pfvf2/automation_help_for_minisplit_hvac_units/	"I was hoping someone might be able to help me out with this one.  I have a mother-in-law suite with four LG minisplits (4 indoor heads connected to a single outdoor unit).  They've been working fine for the last couple of years, but my mother-in-law often forgets that when switching any of the units to a different HVAC mode, she has to do all 4 of them....otherwise the units will error out.

I just recently connected the units to the network and added them to the LG SmartThinq app.  I've added the SmartThinq integration to HA via HACS, and I can now control all four units from within HA.  What I'm wanting to do, is setup an automation that will trigger when ANY of the 4 units switches modes, and then switch the remaining units to the same mode.

I don't really know the best way to go about this, and figured someone has probably already dealt with this issue before, so I'm reaching out for your expertise.  Any help is appreciated."	4	"['Shooter_Q: Does the SmartThinq integration present each minisplit as a climate entity? If so, you could [make a climate group](https://www.home-assistant.io/integrations/group/) and then put make that group the target of a single card on your dashboard so that it controls all four at the same time.   \n\n\n    climate:\n      -platform: group\n        name: ""MIL HVAC""\n        entities:\n          - climate.minisplit_1\n          - climate.minisplit_2\n          - climate.minisplit_3\n          - climate.minisplit_4\n\nAs for the card itself, since you\'re catering to a primary user other than yourself, I like [Simple Thermostat](https://github.com/nervetattoo/simple-thermostat) for its customization and user-friendly shortcuts.  \n\n\nJust tested it out myself.\n\nhttps://preview.redd.it/nq7ekqg5hkua1.png?width=1370&format=png&auto=webp&v=enabled&s=4dd4bea47c60f36ceada7d5875397cdf91ec0d1f', ""RobotGib: Thanks for the reply. The integration does present each unit as a separate climate entity. I hadn't considered making a group, but that is an option.  One issue is that she doesn't keep all of the rooms at the same temp, so the group might not work well in this case. The other issue is that I don't plan to have any sort of HA dashboard for her to mess with, as it would only confuse her. I just planned on letting her continue to use the individual remotes for each unit. \n\nRight now I've got a couple of simple automations that will switch the bedroom, basement, & breezeway units to either heat or cool mode whenever either of those modes is selected by the living room unit.  That works ok, but only if she sets the mode on that particular unit. Not ideal."", ""Shooter_Q: >Right now I've got a couple of simple automations that will switch the bedroom, basement, & breezeway units to either heat or cool mode whenever either of those modes is selected by the living room unit.  That works ok, but only if she sets the mode on that particular unit. Not ideal.\n\nIn that case, seems like you just have to tie all of that into one automation with triggers that track the state of all of the units, but for any particular mode (Heat, Cool, etc.), there should be only one trigger ID.\n\nFor example...**Trigger 1 = Bedroom Unit Changes to Heat; Trigger ID = Heat ModeTrigger 2 = Breezeway Unit Changes to Heat; Trigger ID = Heat Mode**... and so on.\n\nThen, when it comes down to the actions, you can take what you already have and assign them by appropriate trigger ID, so you only have as many action paths as you have modes. The mode change action should be set to all units.  \n\n\nEdit to add: Is this your alt or something?"", ""RobotGib: Heh.... Actually my main. Didn't realize I had originally posted from my alt. I use it on my work PC to filter out anything on the main page that might be deemed offensive to coworkers.""]"
1681675574.0	16-Apr-2023 13:06:14	Changing function of RGBCCT controller?	Froczt	0	12on2j6	homeassistant	https://www.reddit.com/r/homeassistant/comments/12on2j6/changing_function_of_rgbcct_controller/	"Hello,  
I'm in the process of buying some LED controllers from Aliexpress and Ive noticed the price is the same for all the controllers regardless of function. I might have different use cases for the controllers, so if I buy the controller with the most functions (RGB + Cold White + Warm White) could I change it to emulate a dual channel warm white/cold white controller? I know I could just connect whatever regardless but it would be a little annoying trying to control RGB from dashboard if you only got a CW/WW led strip.   
Link to controller I'm looking at: [https://www.aliexpress.com/item/1005004682932824.html?spm=a2g0o.cart.0.0.6b0538daKWXqNz&mp=1](https://www.aliexpress.com/item/1005004682932824.html?spm=a2g0o.cart.0.0.6b0538daKWXqNz&mp=1)"	0	[]
1681735281.0	17-Apr-2023 05:41:21	Netatmo WiFi Weather Station alternatives also with indoor modules?	OutrageousExternal	1	12peko7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12peko7/netatmo_wifi_weather_station_alternatives_also/	"The outdoor module of my Netatmo weather station suddenly stopped working: it is connected to the weather station, just not sending any data (if not sporadically). Support has been completely unhelpful and I'm really unhappy as a long term client of Netatmo.

As the replacement for the outdoor module costs 60 EUR, which is way too much for a simple sensor like this, I was wondering if there are any alternatives to Netatmo so that I can replace my system alltogether. I have to monitor the air condition in some rooms of my apartments and outside, so the requirements are:

* Outdoor module suite with at least temperature, humidity, rain. CO2, wind and solar are optionals
* Indoor modules with temperature, humidity and CO2
* Connection via WiFi or Zigbee (I already have a Zigbee network), possibly without Cloud. Bluetooth would also be ok but I believe there are no weather station with outdoor module using this protocol
* Can have a main gateway but is not necessary if the connection can be done directly to the pi where Home Assistant is running
* Reliable but not as expensive as Netatmo
* Low power consumption

I already have a Oregon sensor outside, and for a period I used it in conjunction with rtl\_433 to get the data, but having a rtl-sdr stick always active to just get a transmission every few minutes is far from optimal."	5	"['AsYouFall: I have a Ecowitt and I am really happy with it', ""nickm_27: I use ambient weather and couldn't be happier. Using ambientweather2mqtt so it is fully local."", 'wsdog: Tempest is great. Not sure about CO sensors, but temperature and wind are working great for me.', 'OutrageousExternal: >ambientweather2mqtt\n\nCool, that seems like a clone of the Ecowitt...right? I guess all these brands are cloning each other at the end of the day.\n\nHow many indoor sensors can you pair with a single station? I cannot seem to find this information on the original website. Also, can I just buy all the sensors, and they will all pair to the WiFi, or do I need a central hub/gateway to collect all the data and connect to WiFi?', 'nickm_27: Not sure about indoor sensors. Mine has the outdoor station and then an indoor display which also does temp / humidity.']"
1681735082.0	17-Apr-2023 05:38:02	Non Pro Hub Support for Pico Remotes	TechRemarker	1	12peh2a	homeassistant	https://www.reddit.com/r/homeassistant/comments/12peh2a/non_pro_hub_support_for_pico_remotes/	As of at least 2 years ago, you needed a Casetta Pro Hub to control Pico remotes. Can anyone confirm definitively that as of now a non pro hub still cannot interact fully with Pico remotes?	9	"[""400HPMustang: I can confirm that you do not need to have a pro hub to interact with Pico remotes. I have 3 of them controlling things that aren't Lutron, without a pro hub."", 'Windex4Floors: Seems like just a few months ago they added the functionality to see the pico remote events in HA. You also get the button entities exposed so you can trigger a press from within HA. \n\nNot sure what else is missing in comparison to the ones with the PRO hub but I would say events should get you most of the way.', ""quixotic_robotic: I think one minor limitation is that you get events for button presses, but can't directly read the state, so you wouldn't be able to automate for a button held for 1 sec or 2 buttons at once, for example. The pro version does directly feed HA the state."", 'tarzan_nojane: The non pro bridge update for pico remotes was incorporated into the [Feb 2022.2](https://www.home-assistant.io/blog/2022/02/02/release-20222/#all-changes) release', 'TechRemarker: Oh awesome do you know when that changed? All the posts here and other places mention limitations with using them as triggers or such with non pro. But haven’t seen any posts within the last year or so confirming that still so looks like that has recently changed?', 'TechRemarker: Aw man. Is that confimed somewhere or any chance that limitation has been removed recently since it sounds like most all other limitations have recently? Also even if non pro does support more now, is the direct feed feature specific to pro? Meaning, it will always work a little faster or such than the non-pro?', ""400HPMustang: I would guess in the last year or two? Not sure where I read it but I did read it and that's what got me to buy the Pico remotes. I'm using blueprints from the blueprints exchange from the HA forum for my automations."", ""quixotic_robotic: Sorry I'm not sure on the technicals, I've had the pro for quite a while now. Tried the newer integration when it first came out and it was only using eventing but certainly could have been updated by now"", 'TechRemarker: Awesome!']"
1681734056.0	17-Apr-2023 05:20:56	ZHA to Zigbee2mqtt?	papershredder33	1	12pdyzo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pdyzo/zha_to_zigbee2mqtt/	"Hey all,
I've done some searching but would like to confirm this is a good idea considering what I'm working with.

I initially set up my zigbee things with a Sonoff Ezbridge running on wifi and then coordinating the zigbee stuff. I paired it with ZHA since that was just a one click operation. I do notice though that sometimes devices become unknown and checking the logs I get messages like such- 

    2023-04-15 23:06:16.846 WARNING (MainThread) [zigpy.application] Zigbee channel 11 utilization is 99.95%!
    2023-04-15 23:06:16.848 WARNING (MainThread) [zigpy.application] If you are having problems joining new devices, are missing sensor updates, or have issues keeping devices joined, ensure your coordinator is away from interference sources such as USB 3.0 devices, SSDs, WiFi routers, etc.

Now I thought zigpy liked channel 15 by default but yeah, it is on channel 11. My wifi itself uses 1 and 6 but I live in a city so I can't control my neighbor's wifi channels. Since a channel change requires repairing anyhow (per my understanding), should I continue with ZHA and just update my config to use a channel like so- https://www.home-assistant.io/integrations/zha/#defining-zigbee-channel-to-use or should I go Zigbee2mqtt since everyone seems to like that pretty well?

Right now I have just the sonoff stick, 4 sonoff smart outlets, and some sengled lights. The only things exposed via the smart outlets are the power toggle and the ""identify"" clicking. The lights have a few other niceties but nothing I much use at this point (mainly just doing on/off with automations.) I plan to add some aqara door sensors soon so I hope to get this all right before doing that.

Now I do use docker with HA core but have already added mosquitto as another container for use with tasmota so that part is done anyhow. So I could just add a Z2MQTT container and go. Is it really that much better? Is the channel selection better? Does it truly expose more and make it worth it?

Also- if anyone has an idea how to do a ""zigbee scan"" via that sonoff ezbridge using tasmota, that would be great. I'm kind of flying blind with what channel is least saturated that I can use zigbee on. I know 25 kind of interferes with channel 11's ""lobe"" or something so I was gonna guess 20 but I'd prefer to know just what I'm working with. Also, the bridge is connected via an old cable and away from all WAPs so I don't think interference is an issue here."	2	['dr_raymond_k_hessel: Sounds like you’ve done your research.  I migrated from ZHA to Z2M and glad I did.  I also migrated from a USB stick coordinator to a POE coordinator (TubesZB).  I found that to be a major performance boost.  I also reduced the number of 2.4ghz wifi clients.\n\nI have about 50 devices and just re-paired them rather than migrate the database like some people do.  I researched that process and just found it to be more hassle than just re-pairing.', 'canoxen: When I switched over, I also just re-paired my devices.  I had a second USB coordinator so that made it SO EASY.']
1681731184.0	17-Apr-2023 04:33:04	Homeassistant on PC	Rare-Entertainer5485	9	12pcnpi	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pcnpi/homeassistant_on_pc/	"Hi All,

I have an old PC gathering dust, it's an old i3 with 4gb of ram. Is it wise to run Ubuntu on it to install Homeassistant or should I rather just keep it running on my old Pi3?

I am also contemplating starting from scratch, other than here and YouTube, are there any good resources I can use to start from a blank canvas. This time around I really want to set it up for the long haul.

Thanks"	42	"['BackHerniation: You can install proxmox and deploy HA OS with a simple script:\n\nhttps://smarthomescene.com/guides/how-to-install-home-assistant-on-proxmox-the-easy-way/', ""savijOne: I use an old laptop. I find the pi to be a little slow compared. Plus SD cards seem to go bad after a while on the pi's. I installed proxmox on the laptop and installed Hass OS on a VM. Been working great for a few months now. I prefer proxmox because I can also use the laptop for other things like octoprint, cloudflare tunnels, or whatever else I want to use. It also supports docker containers if you want to run that instead of a VM. My cloudflare tunnel is a container."", 'vendo232: This preinstalled  device : https://www.ebay.com/itm/115769532061', 'kemoen: Any iX would be an improvement over the arm processor.\nIf you plan on running other stuff than hassio, I would consider adding more memory.', ""sbogx: I started running HA on an RPi 4 to trial it out.\n\nAfter figuring out how and what was needed I moved to running HA via a vritualbox VM on a Ubuntu Desktop installation I had on an old gaming laptop.\n\nUbuntu Desktop become a bit unstable running long term on the laptop so I looked for something else. Found some refurbished mini pc-s and I got two with a i5 6th gen specced one with 16GB ram and I had two m.2 ssds around.\n\nI now have proxmox running on 2 mini-pcs and a 3rd node is the old laptop that had Ubuntu.\n\nI went a bit overkill because I also plan on running some other self hosted services but i3 should be totally ok for running HA, even with all addons I have it's fairly ok.\n\nThis is a CPU comparison of an i5, RPi 4 CPU and and older i3 from a refurbished pc going for around 75EUR - [https://www.cpubenchmark.net/compare/2627vs4945vs2035/Intel-i5-6500T-vs-ARM-Cortex-A72-4-Core-2400-MHz-vs-Intel-i3-4130T](https://www.cpubenchmark.net/compare/2627vs4945vs2035/Intel-i5-6500T-vs-ARM-Cortex-A72-4-Core-2400-MHz-vs-Intel-i3-4130T)"", ""blentdragoons: for my install i use ubuntu as the bare metal os with kvm. then create a vm running debian 11 with an ha supervised install. i like this the best because i get native access to the ha filesystem without jumping through hoops and i can use the bare metal host os for many other uses. for example i run frigate and plex on the bare metal os and because ha is running in a vm it doesn't complain. this is all a fully supported method."", 'RedKomrad: I’m surprised HA runs on an rpi 3. I thought it required 4GB RAM which the rpi 4 base model has while the rpi 3 only had 2GB.\n\nI’ve run HA on rpi and in a VM . I prefer it on the the rpi because I’ve been working on my hypervisors pretty often. When they are down, the HA server is down too. That is irritating because HA controls so much of my home. \n\nI’d rather HA still be running even when my hypervisor is powered off.', ""TexticularTorsion: Been a while since I did my install, but I'm pretty sure I went the route of HassOS directly on a dedicated PC. \nSure I could get more services out of it by using a VM, but the convenience factor was pretty high. \n\nCertainly drop the pi if you have the hardware kicking around. Depending on power draw it might cost you a little more yearly in electricity to run, but not having SD cards go bad is really nice."", 'Rare-Entertainer5485: Thank you', ""mjsrebin: Came here to recommend Proxmox, I love it.  I bought a Dell MicroPC off of eBay, maxed it out for proc and ram, and installed Proxmox to I could test various VM's as needed without reformatting a dedicated system every time.  When I was thinking about switching from OpenHAB to HomeAssistant I spun up a HA VM to test it with before I made my decision.  When I wanted to play with Frigate I spun up a VM for that and just connected HA to it.  The versatility of using VM's is wonderful for the home/lab environment."", 'Rare-Entertainer5485: Interesting this is a good option, as I would love to run octoprint as well. Then it releases anoter Pi for some other projects.\n\nHow often do you restart or is it fairly stable to run long term?', 'Itchy_Tiger_8774: I do this as well because I use Proxmox VMs for testing for work. I last restarted 131 days ago.', 'niceman1212: Yuckers that sounds scary', 'Rare-Entertainer5485: Awesome thanks for the advice. I have an 8gb ram laying in a drawer somewhere. I will install that.', ""Rare-Entertainer5485: Thanks, the i3 runs circles around the ARM. Will definitely make the switch. I can then use the Pi's from HA and Octoprint to run some dashboards in the house somewhere.\n\nJust not looking forward re installing and rebuilding HA too be honest. A little bit scared of that"", 'Rare-Entertainer5485: Interesting thanks. I would like to run bothe my OctoPrint and PV system on it. Do you think itbwould be able to run it?', ""Rare-Entertainer5485: I've ran it on a 3 before, but was super slow and unresponsive at times. Switched to a 4 and it's been running beautifully.\n\nI am planning to try and set up a Dev and Prod environment for mine (if it's possible) that will then give the ability to play and test while everything still runs. When I am happy with everything I will just replace, that should keep everything running always"", ""Rare-Entertainer5485: Thanks, yeah electricity bill is not too much of a factor for me, as my house runs 80% from solar. The thing that draws me the most to the PC other than it laying around is I can run multiple installs (ie. Octoprint, my PV, etc) which is convenient for me to have everything in one space and then also freeing up those Pi's to run something else"", ""Rare-Entertainer5485: Seems like Proxmox is the way to go then. It seems quite pricey though. Or are there free versions for the home enthusiasts?\n\nEdit: Sorry I misunderstood the pricing. It seems like it's free and you only pay for subscriptions to get support. I think there will be plenty support for the home user on other platforms anyway. I will stick with the free version for now."", 'Rare-Entertainer5485: This is great news. I have never worked with Proxmox before though. Is it similar to linux or more towards Windows?', 'sbogx: For running HA on proxmox I followed this guide [https://www.youtube.com/watch?v=PrKQkI53xys](https://www.youtube.com/watch?v=PrKQkI53xys) , it also includes a part on how to do the restore of an existing setup for on a new HA instance.\n\nOnce restored the backup on the new instance almost all worked out of the box.\n\nMy problem was with the setup of the zigbee devices that upon restoring got switched to the default name and had to rename one by one and adjust a bit the automations that I had set up. Most of them reported that the devices could no longer be found.\n\nBut besides the above, all addons and custom integrations I had running, even the cloudflare tunnel to expose HA worked immediately.', 'the_harakiwi: > Thanks, the i3 runs circles around the ARM\n\nI am running my HA on my old Pi3 because I can\'t tell the difference running it on a Pi4 (just curious how long the Pi will last)\n\nWhat circles does your setup have to run?\n\nStill building my ""smart"" home, currently only a few old non-Tasmota power plugs that I can\'t get to work with HA without modifying them, my speakers/chromecast devices, two new plugs and planning to add two small PV solar power solutions and lights.\n\nSo my best guess is that whatever I currently am doing does not need any CPU performance or amounts of RAM.', ""blentdragoons: don't see why not"", 'savijOne: Yup free version is what I use. Check out YT, there are lots of Hass videos for it out there. You can even install klipper in proxmox. I was about to but ended up go getting a sonic pad.', 'clintkev251: Proxmox is a hypervisor which is based on Debian. So if you want to run a bunch of VMs, its a good choice', 'Rare-Entertainer5485: Damn, that sounds like hell. I am literally in the process of setting up a bunch of Zigbee devices. I will definitely then wait until I have Proxmox running. Thanks for the heads-up', ""Rare-Entertainer5485: Yeah I was talking pure performance between the two based on their performance. My set up ran a bit slow on the Pi3 and much smoother on th 4. My guess, it's because I installed a bunch of stuff I don't use and also ran scripts not needed.\n\nI agree, th i3 is way overkill. But seeing that I have it laying around, I might as well use it and utilize the Pi's for something else, maybe Kodi or what I really want to do is run a touch screen dashboard on one of them"", 'Rare-Entertainer5485: Hahahahaha, you are talking a foreign language to me. I will need to do some hard studying', 'Rare-Entertainer5485: I see thanks. I read quickly now, will study further later. But Proxmox seems like a Virtual Machine that still runs on Windows. Which means I will need Windows to run Proxmox and within Proxmox I will set up different environments?', ""sbogx: I'm still starting with all of this and not sure if I just went off the recommended path with the way I set up my zigbee devices. I haven't explored yet if this wouldn't be a problem with Zigbee2Mqtt or if using NodeRed instead for defining automations would help. \n\nSomething to revisit later. \n\nAlso to be clear it was just going to the ZHA integration and turning on/identifying a device at a time and renaming via the UI, not needed to re-pair anything"", ""the_harakiwi: Sure! With current Pi4 prices it's way cheaper to buy a thin client with much more IO ports and power supply already included.\n\nIf I still had my 16 core Intel Atom server board I could run everything on one machine instead of 4 Raspberries"", 'lebrilla: 3d printing talk', 'clintkev251: No, proxmox itself is not a virtual machine, it is used for running and managing VMs. Proxmox should be installed on bare metal.', 'Rare-Entertainer5485: I started playing around with Node Red a couple of weeks ago. I really like it and even wrote some automations for my Solar power. I can definitely see myself to run all my Sonoff and Zigbee automations on NR', ""Rare-Entertainer5485: Exactly my thinking. The PC boards also gives you bit more life and future proof. You can still upgrade an older machine to run much better than a Pi4. Only bonus of the Pi's, they are compact. But for this purpose a PC is fine, as I have enough space in my server cabinet for it anyway"", 'Rare-Entertainer5485: This sounds fantastic! I definitely have some reading to do. Thanks for the help, seems like I will be burning the midnight oil for the next few nights😁', ""the_harakiwi: > Only bonus of the Pi's, they are compact. \n\nwell that and power.\n\nI think the Pi 3 was ~1.5W when idle  \nand a Pi4 uses 0.5W per core, up to 6W max  \n(both without USB devices added).\n\nMy old PC is using >100 Watt idle."", ""savijOne: Think of proxmox as an operating system. It boots when you turn the machine on. Does not run in windows. Once it's installed you control it from a web page interface."", 'Rare-Entertainer5485: True, I forgot about that yes', 'Rare-Entertainer5485: It sounds like heaven to be honest', ""savijOne: Forget about the klipper and sonic pad comment. It's a 3d printing thing. Really meant you can find lots of uses for proxmox once you have it setup."", 'Rare-Entertainer5485: Awsome, thanks. Definitely installing Octoprint on it to free up that Pi of mine. I would definitely look into installing my solar software on it as well, also running on Ubunto on a Pi']"
1681729385.0	17-Apr-2023 04:03:05	"How do I ensure that automations are ""aware"" of other automations?"	TheProffalken	5	12pbvbs	homeassistant	https://www.reddit.com/r/homeassistant/comments/12pbvbs/how_do_i_ensure_that_automations_are_aware_of/	"**EDIT:** I've added an Input Boolean Helper that is set when the TV automation runs. The ""sunset"" automation then works on specific lights based on the state of the boolean.  I'll see how it runs tonight and report back.

========

I have two automations:

1. If it's after 8pm and the TV state changes to ""play"", dim the main lights to 0%, bring up the wall lights to 30%, turn on the standard lamp in the corner of the room
2. At sunset, fade up the wall lights to 50%, turn on the standard lamp in the corner of the room

I created these automations back in November, and they've been working fantastically up until this week when Sunset is \*after\* 8pm.

Last night we sat down to watch TV.  The lights dimmed as expected when we pressed play.  Then the sun set and the wall lights faded up to that level.

Is there a way to get HA to ""respect"" other automations?

I'd like to get it so that the logic is essentially:

    If I've already run automation 1, don't run Automation 2, unless the TV is paused.

Obviously I could wrap all my automations (I have quite a few others that work depending on time of day/results from sensors) into one massive decision tree and let that run everytime any sensor is updated, but that feels like a very complicated and time-consuming task to both setup and debug when things go wrong.

I'd rather not go outside the HA environment for this if I can help it - I know people are using NodeRed, but I'd prefer to avoid that and do all this ""natively"" if I can!

How would you suggest handling things like this?"	27	"['angrycatmeowmeow: Create an input boolean and have your TV automation turn it on. Then have a condition in the sunset automation that the input boolean must be off.', 'michaelthompson1991: Could you not put a condition on the automation to only bring the wall lights on if the tv is off or paused?', ""404flyer: There's a hundred ways to do this, but most for most of my automations that run at a specific time and change the brightness of specific lights, I put that action inside an if/else to make sure the light is in the state I expect it to be (otherwise someone or some automation has changed it for a good reason, and the time-based change should be skipped)."", 'Dianoga: I have moved to the approach of having things I call ""Master Controllers"" that manage every possible state for a thing. I make heavy use of trigger ids and the Choose action. The automations get big and complicated but it means I can reliably handle all the random edge cases that I used to run into with separated automations.', ""mikep99999: Could you have a condition on your 'at sunset' automation that also checks it's before 8pm?"", 'Marc-Pot: Isn’t this just a simple added condition: not tv state on?', 'zurzat: There are probably multiple ways to do this but you may be able to use a boolean ""Helper""  (Settings -> Devices & Services -> Helpers).Helpers act like a variable which is accessible from any automation.You could set the helper at the end of one automation to let others read the current status.\n\nOne example I use is a boolean/toggle helper which  allows me to pause multiple unrelated automations. Simply read the state of the helper as a condition in the automation.I use a button card to be able to toggle the state manually.', 'JayEll1969: You could either set a boolean helper to say that the TV automation is active then have the second automation check that and only run if it is false,\n\nOr you can have the second automation check to see if the TV is in the ""play"" mode and if so, assume that the first automation has ran and do nothing.\n\nYou might also want to put a state change event so that if the tv stops playing it runs the second automation.', 'michaelthompson1991: I thought that too but I also thought of just using the tv state and not need a Boolean', ""blentdragoons: why not just use the state of the lights. they're already tracking their own state."", ""TheProffalken: Thanks, I'd not used helpers before, I've updated my automations, I'll see how it goes tonight!"", 'davidr521: This is the way', ""TheProffalken: The TV lights should be on regardless of the state of the TV, it's just whether they're at 30% (TV is being watched) or 50% (TV is not being watched)."", 'Getslow6: This', 'IvyM1ked: I enjoy booleans, as I’ve created a separate “Settings” tab on my dashboard. There I can keep track off which “automation concepts” that are running, their respective threshold values, etc.', 'michaelthompson1991: Not sure if you can but could you not make a condition when tv lights are at 50% do x then if they’re at 30% do y? Never done this so maybe someone can pipe in? Might be easier to use Booleans like the other person said', 'michaelthompson1991: 👍🏻', 'hottogo: I will have to look into doing them, any links of guides you recommend?', 'michaelthompson1991: Yeah good point', 'Blitherakt: The next step is creating device settings for individual scenes to reference. For example, my thermostats have separate temperature values for heat and cool that correspond to Home, Away, Sleep, and Vacation modes.\n\nOnce I get ESPresence working and validated that it’s accurate enough for me, I’ll have individual settings for things like light brightnesses based on who’s in the individual room and time of day.', 'TheProffalken: yeah, it feels like booleans are the way forward here, because sometimes family members adjust the light levels after the TV has started playing to make it easier to view the screen etc.', 'IvyM1ked: Create boolean from the Helper page. Include boolean as a “on” condition in all automations related to “it”. \n\nConversely, I have a “migraine” boolean to avoid all light automations. It needs to be “off” for a “light on” automation to run. And a “party” Boolean that needs to “off” for various “go to sleep” automations to trigger.', 'michaelthompson1991: Ah yeah makes sense, I would recommend Booleans then 👍🏻', 'hottogo: Ok awesome will give it a go!', ""hottogo: I can't find Boolean on the helpers page. Is it a toggle?\n\nhttps://preview.redd.it/ijcyjhxeyjua1.png?width=1080&format=pjpg&auto=webp&v=enabled&s=ca3653f9180bb3a62acb00923d9e4c98a6980142"", 'Shammy01011101: It’s been renamed to ‘toggle’', 'hottogo: Thanks!']"
1681726896.0	17-Apr-2023 03:21:36	Adding a second AppleTV to HA	slashed_wings	2	12patgm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12patgm/adding_a_second_appletv_to_ha/	"Im attempting to add a second Apple TV to my HA, i go through the process however when it completes it says ""Re-authenitcation sucsessful"" and still only shows the one Apple TV allong with my homepods. Has anyone else got a second apple TV to show up?"	4	"[""clabern: I have 3 Apple TV's integrated without much issue (along with multiple HomePods). Are you sure you're adding the correct new Apple TV?"", 'hometechgeek: I have two, it does work, maybe try removing the first and trying setup again?', 'slashed_wings: Positive it comes up with the PIN code prompts when I attempt to add it', 'clabern: Maybe try renaming your existing Apple TV in HA first.\n\nGo to Integrations - Apple TV, find your existing Apple TV and click it, then click the three dots and rename.\n\nTry adding the new one after that.']"
1681720775.0	17-Apr-2023 01:39:35	How do I zoom or enlarge to make my dashboard stuff look bigger?	danTHAman152000	6	12p8ck2	homeassistant	https://www.reddit.com/r/homeassistant/comments/12p8ck2/how_do_i_zoom_or_enlarge_to_make_my_dashboard/	"I've been experimenting with my FireHD10"" with purchased FullyKiosk to make a nice dashboard. I had a decent horizontal dashboard (h1 h1 h1 c1 c2 c3 f1 f1 f1 paired with grid cards) but wanted stuff BIGGER! I tried a vertical oriented dashboard expecting a giant icon, but got huge margins on either side of the regular icon.

I like the new ""tile"" alarm card and it's pop up, so I can avoid using a static keypad, but I wish it was BIGGER!

EDIT: ok so I just figured out the margins problem ... I had to change the page's ""View Type"" to ""Layout Card"" instead of the default ""Masonry."" Still curious if there is a zoom function to make that new tile alarm popup bigger!"	2	"[""Fritz00015: Take a look at this:\n\n[https://github.com/thomasloven/lovelace-layout-card](https://github.com/thomasloven/lovelace-layout-card)\n\nI don't if there are simpler ways but that is what I use. An alternative might be this:\n\n[https://github.com/custom-cards/button-card](https://github.com/custom-cards/button-card)\n\nThe tiles you can make with this are fully customizable"", 'tarzan_nojane: Add the following to your card(s) and adjust the scale value to achieve desired results:  \n  \n    card_mod:\n      style: |\n        ha-card {\n      transform: scale(2.2);\n        }']"
1681718638.0	17-Apr-2023 01:03:58	Mushroom Chip Card person status	PM_ME_YOUR_BBW_BOOBS	0	12p7hdj	homeassistant	https://www.reddit.com/r/homeassistant/comments/12p7hdj/mushroom_chip_card_person_status/	Has anyone else had their Mushroom Chip card start showing not_home rather than Away for Person entities? This started when my wife changed her phone last week and I cannot see a way to change it back short of making a template sensor to translate the states.	4	['antisane: Did she install the Companion app on her new phone? Is the app logged in? Did you add the new phone as a tracker for her?', 'danwooller: Yes, seems to be since the last update. Just assuming it gets fixed at some point.', 'sometin__else: yes since the update status shows as not\\_home instead of away, and travel time sensor shows as HH:MM:SS instead of X min   \nHad to make a template sensor to fix the issues as it was driving my OCD mad', 'PM_ME_YOUR_BBW_BOOBS: I may well do the same. Well nice to know it’s not just me.']
1681709196.0	16-Apr-2023 22:26:36	High power production in de morning (before sunset)	RVinfo	0	12p3io3	homeassistant	https://www.reddit.com/gallery/12p3io3	"I’ve noticed some strange high power production early in de morning. HA displays an incorrect value just before sunset!

Does anyone has the same issue? 

How to fix this?"	9	"['jellewie: Hallo Nederlander.\n\nThis data is comming from your invertor. It could be that the addon had a super weird bug but I doubt it. I think when the device starts up (it is not online when there is no sun) some higher starting value is given. And HA seems that as ""that\'s produced now"".\n\nI suggest to start digging at the invertor', ""dk_DB: Some context and translation would help.\n\nHA does not create values of thin air. The device/sensor/whatever providing the values is likely the cause.\n\nEg wrongly connected clamps for power meters. Or if you have one way wire clamps and it measures the 150-250W power draw of your inverter as production.\n\nSunset is not sunrise\n\nJust realized - you probably don't meand production...\nIf you mean the spike in energy use... Maybe it's your electric boiler?\nDon't know - where should we know from."", 'No-Hospital-5340: It looks like the gas chart below has a similar spike at the same time?', ""Preference22: Seeing the peak at the same time for both your consumption and productio on electricity but also your gas consumption, my guess is that there's something wrong with the integration which manages the entities.\n\n&#x200B;\n\nAre those entities perhaps managed by the same integration/addon? Would be the most logical. Also check if you can see such pikes on the actual app of said integration (like the app from your energy company). Because it could be that your smart meter (the one in the meterkast) could be having issues."", 'Time-Button4999: Electric Shower?', ""binarybolt: As others said, we need to know the exact integrations you're using, since that would indicate where the issue lies.\n\nMy guess would be that you're using the integration sensor (Riemann sum integral) to convert kW into kWh. This sensor broken defaults, causing issues like this. Changing it to use \\`method: left\\` would solve it in that case."", '-----_------__-----: How much solar was reported yesterday? \nGet similar peaks some day when the day before there was no communication. Than at the start of the next day the production of the day before is reported when communication is started.', 'jxychat: Got the same with a solar log base. \n\nIt‘s actually in the values of the sensor. They drop and come back ever morning. And since I use TOTAL_INCREASING it gives me that spike. The spike is roughly yesterday’s yield. \nLooks like a calibration or correction happening on the inverter. \n\nNo time to fix it rn. Sorry, no solution for you!\n\nBut .. are you using the solar log devices?', 'Razorback_11: Of Vlaming 😂']"
1681707363.0	16-Apr-2023 21:56:03	help with custom sentences	Acid_Rain	2	12p2qfz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12p2qfz/help_with_custom_sentences/	"here are my test configuration files it says to use on the conversation config guide 

https://www.home-assistant.io/integrations/conversation/ 

/config/custom_sentences/en/temperature.yaml

    language: ""en""

    intents:

    TurnOnMasterBedroom:

    data:

      - sentences:

           - ""Turn on master bedroom""

           - ""Turn on master bedroom lights""


/config/configuration.yaml

    intent_script:

    TurnOnMasterBedroom:
      speech:
        text: ""Turning On Master Bedroom Lights""

        alias: ""Turn On Master Bedroom Lights""

        service: light.turn_on

        target:

      entities:

        - light.master_bedroom_light_1

        - light.master_bedroom_light_2

        - light.master_bedroom_light_3


I'm not sure why its not working, i have tried tweaking it different formats. just gives an error when i try the command on the ""assist"" button

i believe this error from the logs is connected

    Traceback (most recent call last):
    File ""/usr/src/homeassistant/homeassistant/components/websocket_api/decorators.py"", line 26, in _handle_async_response
    await func(hass, connection, msg)
    File ""/usr/src/homeassistant/homeassistant/components/conversation/__init__.py"", line 164, in websocket_process
    result = await async_converse(
    File ""/usr/src/homeassistant/homeassistant/components/conversation/__init__.py"", line 288, in async_converse
    result = await agent.async_process(
    File ""/usr/src/homeassistant/homeassistant/components/conversation/default_agent.py"", line 125, in async_process
    lang_intents = await self.async_get_or_load_intents(language)
    File ""/usr/src/homeassistant/homeassistant/components/conversation/default_agent.py"", line 320, in async_get_or_load_intents
    return await self.hass.async_add_executor_job(
    File ""/usr/local/lib/python3.10/concurrent/futures/thread.py"", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
    File ""/usr/src/homeassistant/homeassistant/components/conversation/default_agent.py"", line 424, in _get_or_load_intents
    intents = Intents.from_dict(intents_dict)
    File ""/usr/local/lib/python3.10/site-packages/hassil/intents.py"", line 230, in from_dict
    intents={
    File ""/usr/local/lib/python3.10/site-packages/hassil/intents.py"", line 233, in <dictcomp>
    data=[
    File ""/usr/local/lib/python3.10/site-packages/hassil/intents.py"", line 235, in <listcomp>
    sentence_texts=data_dict[""sentences""],
    TypeError: string indices must be integers"	4	"['Cha7lie: Is your Home assistant (in settings) set to the language EN? I had an issue at first and it was because my language was defaulted as EN/US. \n\nAsking as there are many variants of EN and EN/<country code>.\n\nFound the answer on a GitHub comment that solved my issue.', 'AtomOutler: Hrm. Based on the logs stating it\'s a dict not a list, and it needs strings as index values, I might try this:\n\n`sentences: {""1"":""Turn on master bedroom"",2:""Turn on master bedroom lights""}`', 'Acid_Rain: in settings>general the setting language is set to English. im not sure where else to set that option. but ill try doing en/us and en/ca\n\nedit: en/us made it work. thank you for your help', 'Ripcord: Probably should do an official report on that as a big if you have time.\n\nNinja edit: although person who you replied to may have seen the issue in an existing report based on saying they saw on github']"
1681704884.0	16-Apr-2023 21:14:44	Reserve car functionality with Callander support?	TheBoxTrot	2	12p1lrd	homeassistant	https://www.reddit.com/r/homeassistant/comments/12p1lrd/reserve_car_functionality_with_callander_support/	"Not sure really where to ask but we have two cars shared between 3 people and I would like a kinda simple way to setup a way to reverse and checkout the cars so that each person in the house can see when someone needs what car. Having a way to see it on our Calander or even auto reserve based off the Calnder would be nice. Of course we could manually add events to a Calander but I want it to be as simple as possible for the older folks so they would be able to set and check availability. Like having a drop down of which car to reserve and for how long on a dashboard would be great. Voice setting via Google home would be the dream but I understand that's pretty hard
Any suggestions or help would be good thanks"	4	"[""ReallyNotMichaelsMom: Hmmm... I like where you're going with this. Are you using something like the Google calendar integration, or are you using the local calendar in Home Assistant?\n\nA drop-down menu (as you suggested) with the make or color of the car, along with the start and end hours it would be needed seem pretty clear cut. I don't know if that can be done in the calendar, but I bet someone could help write a script that would take the info from those drop downs and automatically add them to a calendar. \n\nOr maybe cards on a dashboard, with cards for each day of the week (one of each car?), and toggles to select the times."", ""TheBoxTrot: I haven't actually implemented anything yet. But I guess I would use a local Calander and then sync it with google Calander"", 'ReallyNotMichaelsMom: Do the two other people use Google calendar? It would be a shame to make them try to learn a new system. I know that Google can be brought into Home Assistant, but not sure how it would done in reverse.', 'TheBoxTrot: Yea as long as home assistant can add events to a google Calander']"
1681703585.0	16-Apr-2023 20:53:05	Rhasspy and HomeAssistant Where do I even start?	DrummerElectronic247	6	12p0zc2	homeassistant	https://www.reddit.com/r/homeassistant/comments/12p0zc2/rhasspy_and_homeassistant_where_do_i_even_start/	"Good Evening Big-Brained Humans,

After a bunch of frustration I've got Rhasspy up on a pi 3B+, my Google AIY first gen hat is working for microphone and speakers and Rhasspy even knows what I'm saying (if it's a sentence I added to the list) but now I need to know where do I find an example of actual *real* intents.  The ones on the Rhasspy and HA sites don't line up, even assuming the Rhasspy tutorial is complete (which it doesn't really seam to be).

Do I actually place the intents in my Configuration.Yaml?

Do I need to have the Rhasspy box using the same MQTT server as HomeAssistant?  I Ask because Rhasspy won't work on anything but it's own MQTT config and it already has the HA IP and Long-lived token...  Every request the Rhasspy box sends shows as ""not responding"" from HA, *but at the correct IP*.

<McBain>The Googles, they do nothink</McBain>

I clearly need a bigger brain than mine to point me to the next thread to pull.

HAAALP!!!"	6	"['antisane: I wouldn\'t start at all. This is HA\'s ""Year of Voice"", which means they are planning to replace native voice support this year (when? who knows?). Would be a huge pain to setup Rhaspy now, only to remove it later...', 'signman10: For me, not using MQTT works best. I have an intents.yaml that I include in configuration.yaml to handle everything.\n\nHome Assistant is adding voice control, but still is missing my favorite features Rhasspy has, like being able to define custom commands. For example, instead of saying ""turn on the living room lights"" I can just say ""lumos"" (after the wake word of course) and it does it.', 'DrummerElectronic247: So you build the sentences file in Rhasspy, and then install the integration in Hass, how and where do you build the intents.yaml and can you possibly give me a sample of it?  \n\n\nSorry, new to this kind of integration.', ""signman10: I uploaded some screenshots here \n\n[https://imgur.com/a/e8fqQly](https://imgur.com/a/e8fqQly) \n\nThere's not really an integration to install in Hass. Unless you mean the add-on that can run Rhasspy. That works fine too."", 'DrummerElectronic247: Thank you :)', 'signman10: no prob. And if you want anything explained, just ask.']"
1681697995.0	16-Apr-2023 19:19:55	Probably a dumb question about power monitoring, and using Zigbee Plugs on a PC	Some_guitarist	0	12oya8g	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oya8g/probably_a_dumb_question_about_power_monitoring/	"Quick question;  I wanted to get some Zigbee power monitoring plugs to monitor things around the house, and flesh out the network.  I really like these;

https://www.amazon.com/THIRDREALITY-Zigbee-Function-Certified-Required/dp/B09KNDM4VV/ref=sr_1_4?crid=1HFVHM687MVN1&keywords=third%2Breality%2Bzigbee%2B20a&qid=1681697821&s=industrial&sprefix=thirdreality%2Bzigbee%2B20a%2Cindustrial%2C77&sr=1-4&th=1

But can I use them for a PC, or would that be too crazy?  I'd at least go Wall -> Third Reality Plug -> UPC -> PC, if that matters at all."	7	"[""Morgan-CS: You absolutely can do that. I'd recommend putting it behind the UPS to account for its power draw as well."", ""Jungies: They're 15Amp, so they'll handle a PC.\n\nIf you go Wall -> UPS -> 3rd Reality -> PC, you'll be able to hard reboot the PC, which can be handy.\n\nEDIT: Did I miss the bit where it mentions power monitoring? I think those are just on/off."", 'CreeblySpiks: I have a bunch of the ThirdReality plugs, both with and without power monitoring. They work great. I don’t have my PC on one, but I do use the energy-monitoring ones to enable notifications when my washer and dryer are running and finished. One note if you get them, I advise against upgrading to their latest firmware of v1.00.43 - it’s caused odd issues for me and their support hasn’t responded to me yet.', 'Apprehensive-Bug5917: Yeah, in the link there are 2 versions, a regular smart plug and a power metering smart plug.', ""Some_guitarist: Oh man, what issues? I pretty much immediately installed them on the first set, but they're only powering lamps and I haven't had a chance to mess with it much yet.\n\nThanks for the feedback though! I'll keep the next set on whatever they come on!"", 'CreeblySpiks: Odd behavior mainly with my motion automations, where the outlet will turn on for a split second, then power off, then turns back on after an inconsistent delay of like 2-10 seconds. Still trying to exactly determine if it is the new firmware that’s caused it, but that’s one of the main changes that’s occurred since the issue began. Hoping to get access to an older firmware so I can test with that.\n\nRelated post here: https://reddit.com/r/homeassistant/comments/12ovc28/thirdreality_zigbee_smart_outlets_latest_firmware/', ""Some_guitarist: I'm out of town for a week or so, but if you know of a way to pull the old firmware I'll see if I can do that for you! I also haven't set up any automations using them yet, I was mostly trying to expand my zigbee network. But I'll give that a whirl too and see if I'm experiencing similar issues.""]"
1681695545.0	16-Apr-2023 18:39:05	HA not connecting to ESP API, no ESP's show online	Dangerous-Tap-2141	1	12ox2hx	homeassistant	/r/Esphome/comments/12moc2w/newbie_having_trouble_getting_devices_online_for/		4	"['Tulkash_Atomic: Probably be useful to post more info.  Your ESP code - redacted password etc.  network setup etc.', ""Dangerous-Tap-2141: It looks like it might be an issue with how DNS is handled with the ESP's.\n\nI found a [potential fix](https://community.home-assistant.io/t/esphome-devices-offline-but-only-for-dashboard-status/403141/4) using a Pi-hole, but need to wait a bit on another raspi to come before I can test it out."", ""Dangerous-Tap-2141: I've been troubleshooting getting my ESP's to show online in HA for a few days now.  \n\nI can see through their logs that the ESP's are connecting to WiFi, but HA isn't connecting to the API that they're hosting.\n\nThis is my first experience with the ESPHome addon, so I've yet to have any ESP successfully connect with HA.    \nI plan to use several ESP's to automate a greenhouse I've been working on by bringing in sensor data from things like pH sensors.  So, it's really important for me to get ESPHome to work with HA.  Any help would be greatly appreciated."", ""dingdongdynamo42: What /u/Tulkash_Atomic says, plus, it would also be useful if you have a log. Keep the window open after flashing, so you can see what's happening.""]"
1681692014.0	16-Apr-2023 17:40:14	ThirdReality Zigbee Smart Outlets - latest firmware causing issues?	CreeblySpiks	5	12ovc28	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ovc28/thirdreality_zigbee_smart_outlets_latest_firmware/	"I run around 32 smart outlets from ThirdReality (model: 3RSP019BZ). Recently updated them to firmware v1.00.43, via OTA update in zigbee2mqtt.  Now I’m having an issue where I’ll turn one on, or have it turned on by automation and: it will briefly turn on, then turn right off, then turn back on after an inconsistent delay. My main question is if anyone else is experiencing something similar?

Also, is it possible to downgrade firmware via the OTA updates (or other) within zigbee2mqtt? I’d love to test but haven’t found how to downgrade to firmware 1.00.41 or before"	7	"[""Darklumiere: I know it's not helpful, but have you had any issues with thirdreality outlets besides this? I was about to pull the trigger on a purchase of a dozen or so outlets after loving their motion and contact sensors, they seem to be one of the few offering built in energy monitoring. I didn't even know updating the firmware over mqtt was a thing to be honest, but long story short, curious if this is the first hiccup for you or anyone else."", ""Rccoleman: I'm seeing the same new behavior after updating to v1.00.43 and just finished writing up an issue against zigbee2mqtt: [https://github.com/Koenkk/zigbee2mqtt/issues/17489](https://github.com/Koenkk/zigbee2mqtt/issues/17489).  I still have one of the old firmware versions and will see if I can downgrade."", ""generalambivalence: I am using the power monitoring plugs (3RSP02028BZ) and using ZHA, so not really helpful in your situation, but I have had no issues with my TR plugs.\n\n&#x200B;\n\nFor what it's worth, the firmware reported on all 4 of my plugs is v1.00.30."", 'CreeblySpiks: Definitely the first issue I’ve had with them, been rock solid otherwise. I have 32 non-energy plugs and 4 energy-monitoring plugs. The energy-monitoring plugs are a different model but have the same firmware updates available via z2mqtt. Everything I’ve received has been on an earlier firmware, so I would say hold off from v1.00.43 since I doubt they’ll ship with that applied. \n\nI have a problem with always applying any update I see become available….\n\nOn a side note, I just re-did one of the automations that was causing issues for me, and so far it seems to be acting correctly (though it’s the same settings and actions within the automation), so it’s possible the new firmware just changed some things and I need to revise my automations - still testing.', 'lunchplease1979: Please keep us updated OP as curious on purchasing some of these too', 'CreeblySpiks: The rebuild of the automation has not fixed it, still occasionally seeing the issue. Need to get a chance to reset one of them and start fresh', ""lunchplease1979: Ah thanks for letting us know....bizarre issue and with so many to reset I don't envy you bud!""]"
1681690065.0	16-Apr-2023 17:07:45	Is there a good way to control the color of my white shelly duo bulbs through HA?	pjdonovan	0	12oudpm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oudpm/is_there_a_good_way_to_control_the_color_of_my/	"For some reason, I can't seem to get the color to go from warm to cool, just on or off.  I'm using shellyforHASS.  I've got COLOT enabled, MQTT disabled, cloud disabled.   


I know there is like 3 ways to get shelly into HA, maybe one of the other methods would work better? Like MQTT?"	4	"['cogneato-ha: I use some Shelly duo bulbs with the normal HA Shelly integration and white color temps are available', 'pjdonovan: Do you use it with MQTT or cloud?', ""cogneato-ha: It's local, and shelly cloud isn't needed unless you want energy consumption."", 'Grim-D: It would be using CoIoT as its a gen 1 product and the built in intergration only uses local communication. It have one and mine has both RGB options and white temp options avaliable in HA too. I also have cloud disabled on the device as I have no need to control it through shellys own cloud platform.\n\nHave you had a look at the intergrations help page https://www.home-assistant.io/integrations/shelly/. It explains exactly what is needed for both gen 1 and gen 2 devices to work correctly with it.\n\nEdit: grammer']"
1681689655.0	16-Apr-2023 17:00:55	End device is not connecting when ONE specific router isn’t plugged in…	MadSnow-	1	12ou6hp	homeassistant	https://i.redd.it/vqu0920rmdua1.jpg	DXRacer (aquara door sensor) isn’t connecting to my zigbee network when my ikea plug isn’t powered… how do I fix it?	12	"['_Rand_: Aqara stuff really likes to connect through whatever router it originally connected to.  It’s probably the issue you’re seeing here.', 'cotuisano: Same thing happen to me, they’re connected but maps show otherwise', 'MadSnow-: Is there any way to fix it? I’m not using the ikea plug currently so it’s just plugged in because of this one sensor', 'MadSnow-: In my case the sensor isn’t working', '_Rand_: As far as I know really you can only remove and reconnect it, at which point it should pick up a new route.', 'Jenova70: Before removing it, try to allow ""Join"" on the nearest router and press\'s again the button on the end device to ""join""\n\nAqara is sometime able to reconnect as such.\n\nIf it does not work, do what he ☝️said ;)', 'MadSnow-: Okay thx :) I’ll go that way probably', 'Jenova70: Source: I quite like aqara sensors 😂\n\nhttps://preview.redd.it/tpexe4xvihua1.png?width=1440&format=pjpg&auto=webp&v=enabled&s=9c92b8925903074a40e663c899f83f6c9ea6934f', 'drenthe73: Ah cool, a “starter”…\n\n😎😎\n\nhttps://preview.redd.it/9q0ia78j5qua1.jpeg?width=1714&format=pjpg&auto=webp&v=enabled&s=6cf78dc73b8e77610239d41275ce91195ca24317', 'Jenova70: Nice !!!! Technically I have a second ZigBee network on Hue with 27 light bulbs and 8 buttons.... But I don\'t have the courage to migrate it to Z2M... Mostly because ""it works""...\n\nBut seeing the number of routers you have on yours... You\'re kinda giving me some motivation', 'DJ_TECHSUPPORT: I find it funny how devices tend to go to the hub instead of routers', 'drenthe73: I had almost the samen setup and migrated it all to zigbee2mqtt a few weeks ago. Until now it is stable, the IKEA gu10 lights I have are even better then when connected to the hue bridge. \n\nMoving all the aqara sensors was a bit of work and I had to replace a few batteries to get them working again, but very happy with the setup']"
1681688961.0	16-Apr-2023 16:49:21	Introducing 'Google Trends' - HACS integration to cycle through the top currently trending Google searches for your country	psytechnic	19	12otum1	homeassistant	https://i.redd.it/afbi4ngr0cua1.png		3	"[""psytechnic: Hey all, sharing my new integration that retrieves the top trending searches for your country and cycles through each of them every 10 seconds.\n\nThe repository is here: [https://github.com/b0mbays/google\\_trends](https://github.com/b0mbays/google_trends)\n\nI also have a custom card for displaying the trends: [https://github.com/b0mbays/google-trends-card](https://github.com/b0mbays/google-trends-card)\n\nI wanted something for my dashboards to keep an eye on what's happening in my country, and I couldn't find anything that uses [Google's trends](https://trends.google.com/trends/trendingsearches/daily) so I decided to build it myself. It's a pretty simple integration that uses the [pytrends](https://pypi.org/project/pytrends/) library to query Google Trends.\n\nYou can configure the following:\n\n* Country\n* Number of trends (5 is default... I think there is a max of 10)\n* Update interval\n* Font size for the custom cards entity\n\nYou may find that it's slightly out of sync with the actual [Google Trends website](https://trends.google.com/trends/trendingsearches/daily), but that is nothing to do with this integration, but with how Pytrends works.\n\nLet me know if you have any issues!"", 'Alx_xl: Nice integration.  \nAs i noticed in some countries there are questionable entries at high/first places. Maybe a option to filter words like ""maps"" and so on would be a good idea. just a thought', 'psytechnic: Thanks! That\'s a good idea. I could add a ""blacklist\' option so that uses can blacklist certain words. I\'ll do that for the next version👍']"
1681684527.0	16-Apr-2023 15:35:27	Two separate systems both locked up - Frigate?	notalbymangels	0	12orpyh	homeassistant	https://www.reddit.com/r/homeassistant/comments/12orpyh/two_separate_systems_both_locked_up_frigate/	"I've had both my HAOS devices lock up over the weekend.  My home system I had to power cycle on two occasions to get access again. I got to work this morning and my work system was unavailable, I had to power cycle it and it's back again.

Both are Lenovo sff Intel units, both been running fine for months.  Both updated to the latest versions of HAOS, supervisor and core.


History for memory and cpu usage both normal, then on Friday night (on my work system) they flat-lined indicating the system was frozen.  

My home system has lots of add ons as normal, but my work system is purely dedicated to Frigate.  So Frigate and the add ons it requires are the common add ons between the two systems.

Both systems have recently been updated to the latest version of Frigate to utilise the GPU object detection.  This feels like the most likely cause, but has anyone else been having similar problems?

[Solved]:  Turns out while reading the docs on the GPU detector I (for some reason) decided I needed to change the hwaccel_args: from -c:v h264_qsv (which was working fine) to preset-vaapi.  I did this to both systems but promptly forgot about it as I played with the GPU detection settings.

Changed back to the original -c:v h264_qsv and neither system has locked up since.

Note to self:  Only change one thing at a time."	8	"['notalbymangels: Update:\n\nBoth my work and home systems locked up again today.\n\nBoth showed this same error in the logs\n\n>   2023-04-18 18:04:08.917 ERROR (Recorder) [homeassistant.components.recorder.core] Error during connection setup: (MySQLdb.OperationalError) (2002, ""Can\'t connect to MySQL server on \'core-mariadb\' (115)"")\n\nNo errors in Mariadb log.\n\n\nI didn\'t make any changes to mariadb config on either system, but I have been installing  HAOS updates as they come out.\n\nRestart HA and it restarts fine, error message gone, all appears to be working.\n\nAny ideas on where to look to resolve this?', ""cS47f496tmQHavSR: I have no clue what this could be, but can confirm it's not Frigate itself. I also run Frigate (albeit inside a Docker container) and I've had no issues, I even use CPU detectors for Frigate and I've seen no abnormal loads."", 'nickm_27: We’ve had a few users report system issues with openvino due to a kernel panic with the GPU but I believe a new kernel fixed it.', ""WimbashBagel: I'm experiencing issues with the latest home assistant OS on an NUC with frigate. After about 30 minutes the system crashes and just shows a black screen when I plug in a monitor. Have to power cycle it for it to come back on."", 'bra1nphuk: Try this:\nGo to Settings-System-Logs and select Supervisor in the upper right drop down menu.\n\nDid it load very fast, or did it take more than, say, 5 seconds?\n\nIf it wasn’t  fast, and you are using an SSD, you probably need to disable UAS.\n\nI have no clue what that even does, but I stumbled upon this tip on YouTube and it completely solved my home assistant lockups. \n\nHere is how to do it:\n\nhttps://community.home-assistant.io/t/supervisor-logs-extremely-slow-to-open/344375/20', ""notalbymangels: OK thanks.  I changed both systems from CPU detectors to OpenVino GPU detectors last week when the Frigate update 0.12.0 came out, which is why I suspect it's something to do with that.  I don't know how to trace it though.  Nothing in the logs.\n\nThere were some HAOS updates (core and supervisor) last week too, but if they had caused a problem I assume it would be widespread."", 'notalbymangels: Thanks Nick.  Is this kernal update included in HAOS do you know?', ""notalbymangels: Thanks.  Mine snapped up in under a second (on both systems) though so looks like not that.\n\nIt's been running ok since I posted, although I didn't change anything.\n\nIt's just weird that it happened at about the same time on two completely separate and disconnected systems.""]"
1681684029.0	16-Apr-2023 15:27:09	Hardware Suitability and General Tips/Help	natemate90	0	12orgvx	homeassistant	https://www.reddit.com/r/homeassistant/comments/12orgvx/hardware_suitability_and_general_tipshelp/	"G’day all, I’m not sure if I’ve got the right flair (might be support?), but I’m just looking for some advice and suggestions for my setup

I’m quite new to home assistant, been using it for about two weeks. I’m currently running two cameras (one battery w/ motion events saving footage to my system drive) and another RTSP, along with many lights, motion sensors, door sensors, etc. I also use the Plex NAS addon to run a local media server for my family.

At the moment I’m running this through VirtualBox on my PC using 4 cores (I believe an i7-12700k but may be an i5-12600k, I can’t check right now), 4gb RAM and 500gb storage, but I am running into some occasional performance issues (stuttering feeds, slow loading, etc). I’m wondering if it’s related to my HA setup or my hardware. I’m also wondering about the scalability of my setup in the future as I add more cameras and media specifically. I do plan on moving from using my personal system to a dedicated server when I can afford to.

Any advice, tips, etc. is welcome, cheers :)"	1	"[""mrtramplefoot: Definitely a setup issue as that hardware is super overkill.  I run a Pentium j3710and it's plenty of power with a lot more stuff running...""]"
1681682393.0	16-Apr-2023 14:59:53	Start-up color temperature on ikea bulbs	princesaharan	1	12oqmrt	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oqmrt/startup_color_temperature_on_ikea_bulbs/	"Hello all,

Can some one advise or give hint on how to change the startup color temperature more then 454 in the UI for Ikea smart bulbs.

&#x200B;

&#x200B;

https://preview.redd.it/1p7hk7drjbua1.jpg?width=297&format=pjpg&auto=webp&v=enabled&s=ea409fab356f8a0fb7f0682a85eee2423b2d84cd"	2	['MowMdown: I suggest reading [this](https://visualsproducer.wordpress.com/2020/11/29/mireds-versus-degrees-kelvin-for-colour-temperature/) That number is not Kelvin.', 'princesaharan: u/MowMdown much much appreciated, this was very very helpful.In the home assistant group, I wrote a few times in the past month, but no one ever responded. I then posted here on Reddit, and in only 16 minutes, you responded, confirming my love for the community and for the platform.']
1681682334.0	16-Apr-2023 14:58:54	Clock recommendations	RandomBarry	5	12oqlpp	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oqlpp/clock_recommendations/	Wondering is there any large “kitchen” clocks available where you could have a digital display rotating some nice stuff?	5	['_Rand_: Google home hubs are pretty OK for what they are.\n\nI’ve not seen anything more open/less googley that looks decent though, aside from some homebrew projects.', 'the012345: If you fancy a project https://blakadder.com/esphome-pixel-clock/', 'hellweaver_666: There’s the Amazon Echo Show 15 which looks super nice and less like an obvious piece of tech.', 'RandomBarry: Thinking something homebrew all right, with an e-ink or led you could put on an analog clock, like a large Pebble watch basically :D', 'MGSkott: Warning: The ability to sideload apps on the Echo Show 15 has been removed with a firmware update from Amazon.']
1681681737.0	16-Apr-2023 14:48:57	Stupid question: Why use YAML and not an actual programming language for automations?	Altie-McAltface	69	12oqayq	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oqayq/stupid_question_why_use_yaml_and_not_an_actual/	"I am not a developer, but I do my fair share of scripting as part of my job. Batch, Python, Powershell etc. I'm also very new to Home Assistant and home automation in general.

When I think of automating a process, I think of doing something multiple times, or choosing different actions based on some condition. That's literally the definition of a programming language.  YAML is more of a data interchange format like XML or JSON. But automations are, well, processes. With conditions and iterations. It's kind of hard to wrap my brain around using a markup language like YAML to describe a process. It's not like a programming language where each line is an instruction and they're executed in order. HA isn't the only culprit here. Ansible has the exact same issue.

Why not use Python? Or better yet, since this is a specialized application with limited scope (automating your home) why not develop a beginner-friendly BASIC-like language specifically designed to make automation easier? 

But maybe it's all just me. Like I said, Ansible uses YAML in a very similar way. People wouldn't be choosing YAML for this if they didn't think it made sense. I'm interested to hear why YAML was chosen for this purpose."	104	"['wsdog: Because HA automations are declarative, not imperative. A better way of defining automations would be some functional programming language, like lisp or Haskell . But the learning curve would be quite steep for an average user.', 'imanze: Just want to give a shout out to netdaemon. https://netdaemon.xyz. Big fan of .net and gotta say thr netdaemon devs did a really nice job. You can use many of the language niceties like Linq, async and dependency injection. I use it for my more complicated automations.', ""0x7270-3001: i recently installed the pyscript integration and started moving my stuff from yaml to python. it's super easy and way easier to setup and follow complex actions. the provided decorators and functions make it extremely easy to copy yaml automations to python almost exactly line by line."", ""Craftkorb: Y'all understand that parsing Python script into something that you could visualize is the horror, right?  That most automations are done through the UI (Either stock or NodeRed)?  For that there's simply not a good way of doing it otherwise.  The discussion if to use JSON, YAML or XML is a different one - Although YAML is the easiest to write, and I guess that everyone actually manually writing YAML has a reasonable editor doing the indention.  You know, what you have if you're doing Python anyway."", 'ttgone: Unless the home assistant founder responds you’re probably not going to get the (real) answer.\n\nHaving said that, most of my automations & scripts are built using the visual editor. No code.\n\nIf you wish to code there’s a custom integration that allows you to script thru Python: https://hacs-pyscript.readthedocs.io/en/latest/\n\nAnd HASS itself also allows you to write services as scripts in Python: https://www.home-assistant.io/integrations/python_script/\n\nThere are also other custom integrations that allow for different languages etc', 'LurkerTalen: I haven’t found anything formally for this anywhere when I looked before. I’m curious too why is this way, but I suspect YAML was really chosen as a storage format more then as a scripting language. Home Assistant has been moving more and more to a UI-preferred interface and then (in theory at least) the storage of your automations doesn’t matter. Yes today we still need to use YAML for advanced options but I suspect the overall goal is to move everything to the UI. In that light the storage shouldn’t really matter. It could be YAML that gets translated to JSON that gets stored a byte code or something else similarly convoluted - in the end it shouldn’t matter because it’s abstracted behind a designer. \n\nFor a single node YAML is easy enough for anyone to look at and at least say “I might be able to understand that”, once they’ve learned a bit of the way to think around how HA works. \n\nIf it doesn’t make sense to you, there are other options - AppDaemon for example is Python. Many people use node red too, though I think that’s further away from your desire to see automatons as code. To me the big advantage of using the built in automation engine is you can edit it on pretty much any device natively with the UI. I generally start there then flip between the UI and YAML as needed. I don’t encourage people to use YAML from scratch for most of what we do - it’s just more complex for no benefit.', ""codeartha: I have the same frustration. Writing a if condition with an or between two conditions in yaml just hurt my eyes. \nAnd I used to love yaml when I used it for Minecraft bukkit addon configs. So much that I now use it very often as a python programmer for user config files.\n\nI like yaml, but programming automations in it just doesn't make sense to me. There are ways to write them in python. But the documentation is scarce and in the end more cumbersome than yaml because lots of people provide yaml code that you can just copy paste. While in python you have to do everything yourself."", 'zicher: I use NetDaemon and write everything in C#', ""EinalButtocks: YAML is a markup langauge, not a programming language, faux or actual.\n\nIt's used in HA to \\*configure\\* automations, which are then run by HA itself.\n\nI think HA does automations very well, I've seen in the \\~2 years I've used it that the GUI way of creating automations is at the point that people who are afraid of yaml don't need to use it and don't even need to know it's there.\n\nI've run into issues where I'm trying to do complicated automations, and the solution is usually to stop thinking about how I would program it, and try to think about what I want to happen and when, and then it usually fits quite well as a normal automation.\n\nSometimes I create scripts and have automations run those. \n\nMy point being, I've seen regular people install HA and start using it to create automations without one needing to know what YAML is. For the rest of us, there are plenty of ways to achieve our goals."", 'Stenthal: I always assumed it was a combination of two things: (a) they already had YAML for the config so they thought it would be ""efficient"" to use it for scripts as well, which is a very bad reason, and (b) it\'s relatively easy to translate between YAML and a GUI representation of the script, which is a somewhat less bad reason.  I do wish there were another option.', 'Murky-Sector: Because in theory the costs of using procedural language in this context would outweigh the benefits (mostly in terms of complexity). Declarative is supposed to be simpler. I dont fully agree but thats the thinking', 'bitzap_sr: By being declarative, it makes it possible to generate dynamic user interfaces that make use of the declared data, as well as edit the data.  Think about how you can switch between the visual editor and the code editor in the home assistant web interface.  If configuration was done with an imperative language, then this would be practically impossible.', 'DarkYendor: Yeah, I have the same feelings. I’m a decent C/C++ programmer, but YAML feels so unintuitive.\n\nIve had a decent experience using combinations of scripts and automations via the GUI, but otherwise I’ve used NodeRed for more complex tasks.', 'carrot_gg: You can always install the NodeRED addon and use JavaScript.\n\nFor the record: YAML is cancer.', 'Nessundorma13: Not a stupid question, it\'s actually a industry-wide (not only IoT, ops too) mistake.\n\nThe premise is ""YAML is simple, so it is easy to get into"" vs say making Python-based DSL and having people learn ""real"" language.\n\nBut, obviously, once you need something more complex, just declaring stuff is not enough so tools either make some awkward way to have if conditions and other programming construct in YAML, or add templating language to YAML (tools like ansible, helm etc).\n\nAnd you will hit limit of that so you end up having to write custom modules in ""real programming language"" anyway, so initial desire to make it simple and  ""not learn Python"" turned it into learning YAML, templating language used for generating YAML, AND Python (or whatever other ""real"" language tools are being built upon).\n\nThat mistake was repeated multiple times in ops world, and in IoT world. Sometimes ""too easy"" makes it hard.\n\nIMO:\n\n* YAML should be *only* for actual data/sensor definitions\n* Real language should be used for defining data transformation and logic\n* Something like Scratch generating Python code should be used as ""easy frontend for beginners to start"". Need something simple ? Just drag some drops. Need something complex ? Edit generated code.\n\n\n> With conditions and iterations. It\'s kind of hard to wrap my brain around using a markup language like YAML to describe a process. \n\nOther tools like Puppet went on to create it\'s own DSL. It was still worse than ""just using real programming language"" (I think Chef tried using Ruby directly?) but far preferable than mixing YAML and templating.\n\n>It\'s not like a programming language where each line is an instruction and they\'re executed in order. HA isn\'t the only culprit here. Ansible has the exact same issue.\n\nDeclarative in most cases is good when it comes to defining resources. Puppet is basically:\n\n* get the data, (facts and other info about the host)\n* feed that data to code, transform it into list of resources to apply on target\n* resources are declarative and have dependencies with eachother.\n\nDeclarative is nice as it allows for reasonings like ""make sure this config file have that content and if it changes, restart a service"". It does make some things more complex but you\'re ""supposed"" to make the imperative sequence to make something as it is declared into custom code, not try to fit it into DSL. Which is why having DSL be same language tool itself is written in is an advantage.', 'NaissacY: Use AppDaemon. Python not yaml.', 'CuriousWolf7077: You can do what you with this\n\nhttps://hacs-pyscript.readthedocs.io/en/latest/', ""Ginden: Basically, it's really low entry barrier - YAML automations are really easy for new users, they can usually create them through UI or just by pasting simple code to specific field.\n\nThough, I would appreciate support for builtin programing language."", ""climb4fun: YAML is used because it is what's called a declarative language rather than an imperative language like Python or BASIC.\n\nDeclarative languages like YAML are used to define the configuration of a set of inter-operating objects. The language imposes rules on how these configurations should be defined. And YAML is flexible enough to handle all kinds of HA devices and software components.\n\nImperative languages are good for programming a wide range of things that can logically be thought of as a set of steps (with decisions and branches). It would be too flexible for HA and would present all kinds of problems making it fit for the purpose."", ""Jenova70: If you want to try it out. You can develop your automation in Python using AppDeamon. \n\nIt's an official add on that you can install within home assistant.\n It taps into the Python app of home assistant directly.\n\nIt's wonderful.\n\nYou can write your automation as such: \nhttps://github.com/jlpouffier/home-assistant-config/tree/master/appdaemon%2Fapps"", 'uosiek: I love YAML and have no issues with mixing built-in automation editor with snippets. I might be wrong, but my gut feeling says that need for NodeRED comes from wrong mindset.', ""ufgrat: As others have said, YAML is for defining data, or in the case of HA, a state.  Home Assistant, behind the scenes, does all the signal processing, data collection, polling loops, etc..\n\nWe configure integrations, add-ons, devices, entities, helpers-- but most of the logic involved in those building blocks aren't the concern of the average user.\n\nThe average user wants to turn on a light when a condition is met, and turn it off when another condition is met, or get notified when something does (or doesn't) happen.\n\nMost of that's declarative, and providing the interface via a scripting language would be more complicated.  YAML has it's quirks, but for the most part, it's straightforward.\n\nThere are cases however, where actual logic and scripting is required-- scripts, for complex actions, and template sensors for data transformation.  Both of those allow (require) coding."", 'ayyycab: Even with YAML the learning curve is pretty steep for the average user.  \n\nThe average person has no experience in any programming language, which is why I roll my eyes every time someone says “Well *I* have experience in programming/coding/scripting and I think YAML and Jinja2 is pretty easy”. Yeah, *you* have experience. HA should be accessible to more people than just you.  \n\nIt’s annoying enough as it is that I have to learn a markup language to use HA, let’s not make it even less accessible.', ""blentdragoons: i think the OP's point is that they don't need to be declarative. that was just a design choice made by the ha devs. they could have made a different choice to make automations imperative and implemented using a real programming language. the questions is would that be better?  another way to do it would be for ha to expose an object model that can be used to script ha using python.  personally i would like that better."", 'raw65: >A better way of defining automations would be some functional programming language, like lisp\n\nYeah, no thanks!\n\n    (defun list-nth (n L) (cond ((null L) nil) ((zerop n) (first L)) (t         \n    (list-nth (1- n) (rest L)))))\n\nI personally love YAML but it\'s a terrible choice for automations.\n\nIn theory declarative languages should be easier for beginners to learn.  In practice that\'s not the case, at least based on my four decades of experience and observations.\n\n*""In theory, theory and practice are the same. In practice, they are not."" - Albert Einstein*', 'Nessundorma13: Better way would be *declarative* language. Puppet already does it. Example:\n\n    file {\'/etc/config.yaml\':\n        mode => ""0640"",\n        owner => ""db"",\n        validate_cmd => ""/usr/sbin/db --config-check --file %""\n        notify => Service[""db""],\n        content => inline_template(\'<%= YAML.dump(@db_config) %>\')\n    }\n\nwill\n\n* make sure file exists, with right permissions and owner\n* make sure file content matches the serialized `db_config` variable\n* only replace the config with new one if `/usr/sbin/db --config-check --file %` returns 0; i.e validate config is correct before replacing it\n* IF config changes, it will notify `Service[""db""]` to restart that service\n\nBut not entirely declarative. You want to manipulate the data as you see fit (and functional works well for that) so you can dynamically generate that `db_config` based on the environment and only then bake it into declarative resource', '_avee_: This is the correct answer.', ""contagon: I can't recommend pyscript enough! Way easier to use than appdaemon (in my opinion), but still powerful enough I can do anything I need to in it."", 'recapYT: Have you tried nodered?', 'tekrider: is this the same thing as pyscript? https://www.home-assistant.io/integrations/python_script/', ""droans: And, thanks to the comprehensive API, you can use your own automation and scripting methods. \n\nAppDaemon is great if you want to code your automations in Python. I use it for complex automations that are a pain with YAML. \n\nYAML automations and scripts might be a bit difficult to write, but they're very easy to read. It's literally just human-friendly JSON. You can understand what is happening with each step and don't need to worry about how HA is accomplishing it. \n\nJust use the web editor if you're worried about making changes to the YAML. It's super easy."", ""Murky-Sector: This is all true.\n\nAnd its not hype to say that pretty soon you'll be able to get automations done via LLM based stuff like gpt4. I think these will eventually be integral to HA systems (yeah I hate the ai hype bandwagon and Im sorry if it seems Im jumping on it but I do think this is true true LLM + HA is a very good fit)"", 'nclpl: Yes if OP is comfortable in Python, just do everything in AppDeamon!\n\nYAML can be a last resort.', 'hirscheyyaltern: I have a feeling the more advanced stuff will always be locked behind yaml. Even something relatively simple like the for each repeat option in automations is yaml only and that was introduced as they were moving to a primarily ui-based system.\n\nUltimately I would love for the more advanced features to be available in UI because for someone like me, yaml sometimes seems unnecessarily obtuse and it feels like you could accomplish the same things better in UI but you need to strike a balance between making the interface friendly to newcomers and not overwhelming those newcomers, and not alienating your Advanced users', 'Altie-McAltface: It lowers the skill floor but also lowers the skill ceiling I think. I want to make an automation that makes my lights slowly scroll through the color wheel starting with red at sunset and looping back to red at sunrise. I think that would be much easier to implement in a more traditional programming language. \n\nYAML is great for config files though.', 'Prowler1000: I think declarative is more so that the devs can make any performance improvements and changes they want without breaking existing automations. You make an automation and it doesn\'t matter if it uses the tide to power a mechanical calculator or the dark arts to perform float operations, it will ""just work"", while still giving you control to do what you want.', 'sgxander: BuT ItS HuMaN ReAdAbLe!', 'ARJeepGuy123: NodeRED runs all of my HA automations, it is awesome', 'nclpl: Yeah I picked up lisp in a few weeks in college. After 3 years of HA, YAML and Jinja are still fully “google until I find something similar and then copy pasta” territory for me. \n\nI do all my automations in Node Red and make full use of the function nodes so I can do most of it in Java. I can struggle through YAML, but… I don’t enjoy it.', ""asveikau: As a programmer, I would think most programmers would look at YAML or jinja2 as used by homeassistant and think it was pretty bad and limiting.  There are *lots* of hacks to make things dynamic which are highly awkward and non-intuitive, there is typically *lots* of repetition.  Basic manipulation of data can get pretty inflexible.  It doesn't play well with diffs, patches, or source control.\n\nThere is the [`python_script` integration](https://www.home-assistant.io/integrations/python_script/).  Personally I think the easiest way to integrate with HA through code is probably to write small services and interface over MQTT."", 'Okonomiyaki_lover: I program for a living, I hate yaml and jinja lol.', 'abraxas1: Autocratic environments are gonna autocrat.\nYou got to pay to enter the club.', ""hirscheyyaltern: Honestly I have very little experience with coding at all. Yaml and home assistant was basically my first foray into that stuff and honestly I think it's quite intuitive as opposed to a typical programming language. I genuinely think not enclosing things in braces and not using so many quotes and comments and colons makes the whole thing seem a lot less daunting and a lot easier to understand if you're not coming from a coding background. Overall I just think it's a a lot more intuitive in physical layout for people who don't understand programming"", 'ufgrat: YAML is not a programming language.  Don\'t think of it as one.  It\'s not a markup language either --  ""YAML ain\'t (a) markup language"".\n\nI hesitate to call it a language-- it\'s a syntax for expressing data.  In the simplest terms, it can express single key/values, lists, or lists of key/value pairs.\n\nIt is about the simplest construction for expressing complex data out there, with a very small set of rules.', ""Prowler1000: But they do, assuming I understand declarative and imperative correctly.\n\nHome Assistants whole thing is ease of integration and long term comparability. One important thing HA does is control *how* things are allowed to run, in order to ensure the best stability and performance they can. Exposing an object model to a language will allow users to do things very unexpected, like sleep for example. \n\nWhat if, later, it's decided that spawning script threads and letting them sleep is too costly and that it's better to stop execution, put something into a queue, and resume execution later? Now, the devs have to depreciate sleep and create new requirements for scripts. Eventually, old scripts will no longer function at all, and the devs now have to create basically their own library on top of whatever programming language, or God forbid languages, they choose for this purpose. Over time, this creates a large amount of fragmentation due to the outright broken scripts and integrations that people may not know are broken until they try to rely on it.\n\nInstead, the HA devs can (and did) choose to make users define WHAT should occur, leaving the devs free to decide how best to go about doing that thing. This ensures that, long term, scripts, automations, and whatever else remains compatible and functional. Ever notice how, after some updates, there might be a massive performance improvement? Under the hood, they had to make a lot of changes. Now imagine how much work you, and every user in a similar position, would have to put in to update scripts and automations to whatever new standard they release. If other devs are lazy, maybe they never update their script and HAs overall performance is affected as a result. \n\nYeah, as a dev, it's a little frustrating when it takes me 30 minutes to figure out how best to make an automation I could code in 5; but the peace of mind that comes from knowing that it's not going to just suddenly break on me one day, or need updating, is genuinely beautiful. I can scale my smart home with complete peace of mind, knowing it will be stable and I won't suddenly have to repair automations for 50 devices one day. While I'd love for it to be *easier* to make these automations, I vastly prefer this to having to define them imperatively."", 'CuriousWolf7077: Pyscript', ""ufgrat: >I personally love YAML but it's a terrible choice for automations.\n\nWhat would you replace it with?"", ""wsdog: I don't care about the beginners, frankly."", ""ufgrat: And then  you discover that another module is also trying to modify file { '/etc/config.yaml': }, and you spend 10 minutes trying to find where, because the error message listed the same module **twice**.\n\nOr you want to increment a variable by 1, and have to create a new variable, because puppet's DSL has no sense of order unless you manually define that, and even then, it's not going to let you re-use a variable.\n\nPuppet's ruby-based DSL isn't terrible.  But it's not newbie friendly, and I don't see what the advantage it has (other than complexity) over YAML."", ""0x7270-3001: I used nodered on my last install and found pyscript before I got around to migrating it to my new location. I was never a fan of graphical coding (if anyone else recognizes the name LabView, I'm so sorry), I write code for a living and it's just so much easier than dragging shit around and hiding details in menus and submenus. Also python is way better than js lmao"", ""0x7270-3001: No, that looks like it allows writing python scripts that can be called as services, you'd still have to write a yaml/gui automation with triggers to call them.\n\n[pyscript](https://hacs-pyscript.readthedocs.io/en/latest/reference.html) lets you define triggers and conditions in the python as well, and they are called automatically when appropriate without any yaml/gui automations."", '_avee_: Automation has 3 distinct parts - trigger, conditions and actions. Most people think of procedural languages only in context of actions where things would be straightforward. But defining triggers would be quite painful or would require a different language. With current setup there is the same language and structure for all parts of automation and it’s convenient IMO.', '_avee_: About your automation: embrace declarative approach! Build a template sensor for target color hue (essentially, interpolate based on sun.sun attributes and current time) and then run a trivial automation based on it changing.', 'Murky-Sector: Of all the HA environments Ive programmed in my preference is for those that expose the data and functionality objects allowing a regular high level language to do the scripting. In the long run its more straightforward and there are far fewer arbitrary constraints. This would tend to favor programmers though so I understand why systems designers might not prefer it based on the target users.', 'username45031: And one. One goddamn misplaced space breaks it all. \n\nIdk, I read json just fine. XML and I aren’t so friendly.', ""canoxen: Yes! I couldn't imagine doing some of the automations I have in yaml (though, I'm garbage at yaml)."", ""CodeCat5: >YAML and Jinja are still fully “google until I find something similar and then copy pasta” territory for me.\n\nSo basically you're a Sr Developer at this point."", 'snaky69: I’ve installed node red and have yet to understand how to use it. There’s a few things I’d want to do with it that I have no clue how. I find it rather counterintuitive to use. I have no clue how to interact with my IoT stuff. \n\nIs there any ressources you could suggest I read up on?\n\nI can hack away at vb and python and similar but node red stumps me. \n\nI’d like to do a if then else with it for my gree AC. I found a dashboard for it which I dumbly copy and pasted hoping it would clue me in…', ""sofixa11: >As a programmer, I would think most programmers would look at YAML or jinja2 as used by homeassistant and think it was pretty bad and limiting. There are lots of hacks to make things dynamic which are highly awkward and non-intuitive, there is typically lots of repetition. Basic manipulation of data can get pretty inflexible. It doesn't play well with diffs, patches, or source control.\n\nThat's just YAML for ya. It was never made for dynamic complex logic, or templating, and it absolutely sucks for it. No idea why it gets so overused, especially in combination with tons of templating on top, for very complex stuff, you always end up with a bunch of ugly hacks."", 'ianjs: Agreed, but in what way do these not play well with source control?', ""surreal3561: >. Personally I think the easiest way to integrate with HA through code is probably to write small services and interface over MQTT.\n\nhttps://appdaemon.readthedocs.io/en/latest/ is what you're looking for, you can connect it to home assistant directly or just use mqtt"", 'ayyycab: >As a programmer, I would think most programmers would look at YAML or jinja2 as used by homeassistant and think it was pretty bad and limiting.  \n\nI’d rather it seem limiting to a programmer than overwhelming to the average user. At least if a programmer thinks it’s not good enough they can just make their own home assistant with blackjack and hookers using their superior language of choice. A non-programmer has to settle for Google Home.', 'wsdog: For programmers got used to languages like python - yes. My primary programming language is scala, I also play for infrastructure as a service a lot, and hell yeah, yaml configurations in HA feel like home.\n\nUnfortunately the HA developers are not moving in this direction anymore.', 'woieieyfwoeo: Can you expand on what the services and MQTT might look like in practice?', ""ufgrat: I disagree about source control-- Our enterprise has been running Puppet for the past decade or so, and in order to simplify management of the puppet infrastructure, I've essentially recreated Ansible-- 95% of our day-to-day management of servers/workstations is by manipulation of the YAML half of the codebase.\n\ngit manages it quite nicely.\n\nAs I've said elsewhere-- YAML is not, nor was it ever intended to be, a programming language."", 'WWGHIAFTC: Hey, at least its not xml...so glad that trend died off mostly.', 'ayyycab: This is the “not champagne unless it’s from the Champagne region of France” argument. Fine, it’s sparkling syntax. Go be pedantic somewhere else.', ""ufgrat: Exactly.  Home Assistant manages the automation.  YAML defines those automations, but the heavy lifting is done by HA.\n\nWhile it may be cool to write python / javascript / rust extensions to how HA behaves, that's not how you get wide acceptance for the product."", ""raw65: Short answer: Python.\n\nNot easy to answer without a lot of discussion of the pros and cons, whys and why nots.  Maybe if I can get time in a couple of days I'll make a long winded post with my 2 cents."", ""Prowler1000: And you're allowed to do that. It doesn't make you seem any less ignorant, but you are allowed to do that"", 'Nessundorma13: Well we have 100k lines of code in it (about 70k are our own) so we do see a huge difference vs just plain yamls with shitty templating. But it definitely has issues\n\n> Or you want to increment a variable by 1, and have to create a new variable, because puppet\'s DSL has no sense of order unless you manually define that, and even then, it\'s not going to let you re-use a variable.\n\nThat is incorrect. Code is ran in order within the class, it\'s resources that technically have undefined run order till you define dependency (practically you can select file order or by hash order in config).\n\nBut their incessant stubborness on making  variables be write-once does make into some unnecesary complex code. Much less so when filter/map landed in language but still.\n\nOn other side type system makes some interesting stuff possible, like you can have parameter of type that includes validation\n\n> And then you discover that another module is also trying to modify file { \'/etc/config.yaml\': }, and you spend 10 minutes trying to find where, because the error message listed the same module twice.\n\nError messages got significantly better few years ago. For example in duplicate `define`\n\n    Error while evaluating a Resource Statement, Duplicate declaration: File[/tmp/asd] is already declared at (file: /tmp/1.pp, line: 5); cannot redeclare (file: /tmp/1.pp, line: 5) (file: /tmp/1.pp, line: 5, column: 1) (file: /tmp/1.pp, line: 13) \n\nit does show same line twice (because it is same define that tried to define it) but then at the end it does show where exactly duplication happened (removing line 13 in that example would fix it).\n\nOverall I would prefer ""a real language"" but it is now (took some time...) decent enough to not really be annoying in daily use and quite powerful', ""0x7270-3001: It's all quite simple with pyscript, and complicated control flows are much easier to write and read in python than yaml or the gui"", ""Murky-Sector: Homeseer exposes all major underlying functionality to C#. Its not painful to use at all, in fact all things considered its much more straightforward than home assistant. It's quite consistent in its implementation across all functional areas.\n\nMy only complaint is Im not a fan of C# otherwise I might still be using it;."", ""sgxander: Careful, you'll upset all the hardcore yaml fans that mostly come at night... mostly"", 'nclpl: lol. Amazing.', 'Djelimon: [JavaScript tutorial (includes JSON)](https://www.w3schools.com/js/DEFAULT.asp)\n\n[node red tutorial](https://nodered.org/docs/tutorials/)\n\nRecommend you do them in that order to get the basics', 'Flashphotoe: The hook up YouTube channel has some old nodered tutorials', 'ColdTights: Try n8n its easier.', ""asveikau: The syntax doesn't lend well to diffs. Lots of things would alter indentation. I would hate to resolve a merge conflict on them."", 'cliffardsd: Yeah AppDaemon is great. Not many people realise you can use MQTT direct and don’t even need home assistant for automations. Good to have that option.', ""psychicsword: Honestly the feature I miss from my hubitat is a direct solution to this problem. They have a marketplace for community built apps which drive automatons.\n\nWhile I do code for a living, I was able to find a basic app that was one click install which fully automated my bathroom fan. That same problem still hasn't been fully replicated in my Home Assistant reimplemention. Even with missing features it requires 2 automations and an input boolean.\n\nBlueprints are OK but there are a lot of missing features in it."", ""honestFeedback: > I’d rather it seem limiting to a programmer than overwhelming to the average user. \n\nTrouble is it's not either/or - sadly it's both."", ""ufgrat: >This is the “not champagne unless it’s from the Champagne region of France” argument. Fine, it’s sparkling syntax. Go be pedantic somewhere else.\n\nNot really.  To *actually* be pedantic, you're referring to the *Appellation d'origine contrôlée*, recognized by international law.  But in this case, it's not even sparkling fermented grape juice.\n\nBy your argument, I assume you believe there's no difference between an add-on, an integration, or a device.  You might even think *The da Vinci Code* is actually a documentary.\n\nBeing specific is not necessarily pedantic.\n\nWhen you can write me an if/then conditional or a while loop in YAML, I'll believe it's a programming language.\n\nWhen you can write text in bold, and create a table in YAML, I'll believe it's a markup language."", 'ufgrat: Way too complicated, way too unfriendly to non-programmers, and has roughly two thousand times the functionality required for **configuring** a home automation system.\n\nAs a programmer, I understand the desire to have as much control and flexibility as possible.\n\nBut it\'s the wrong tool for the job.\n\nHA already has it\'s logic, it\'s cycles, it\'s input/output.  And certainly, those portions can be (and are) programmed in ""real"" languages.  Integrations are ""code"", and add-ons are, by and large, separate applications.\n\nBut a programming language is not a configuration language (and the converse is true as well), and I think it would be a hideous mistake to try to make it work as one.\n\nEven puppet\'s ruby-based DSL syntax is overkill for 99% of what\'s done in home assistant-- and for those projects, there is node red and scripting.', '__sem__: Thanks, I decided to look into node red recently, this will help', ""ianjs: Interesting. Haven't seen that myself. \n\nA diff is a diff and if indentation is changed it shows that. How is it different to, say, a Python or C program where you shuffle code around?"", 'wsdog: Like python.', ""ayyycab: Fair, but if the question is about whether HA should switch to a language that's more familiar to professional programmers, I'm gonna say programmers can go pound sand because YAML/Jinja is still infinitely more familiar to them than average person who just wants local IoT."", 'ayyycab: [Pedantic is an insulting word used to describe someone who annoys others by correcting small errors, caring too much about minor details, or emphasizing their own expertise especially in some narrow or boring subject matter.](https://www.merriam-webster.com/dictionary/pedantic)  \n\nSounds about right to me', 'raw65: HA Automations are NOT just configuration they are scripts. Automation actions use a ""[script syntax](https://www.home-assistant.io/docs/scripts/)"" that includes flow control statements (for each, while, repeat, etc.).\n\nThe developers have built their own language for actions, the only thing YAML is buying is the tokenization step of language processing.  It buys very little for the HA developers and offers very little to HA users.\n\nI agree, a scripting language is not beginner friendly and support improved scripting tools in the UI.  But there needs to be a transition to a more advanced tool for power users.  That inevitably means a scripting language.\n\nScripting languages need tools to help people develop scripts.  That means things like IDEs, syntax highlighting, and contextual help (e.g., Microsoft\'s intellisense).  \n\nSo you either build a custom scripting language and tools to support it, or you use an existing language.  Given that HA is written in Python, Python is the logical choice.\n\nIt wouldn\'t require any more documentation and arguably less.  The HA documentation already discusses variable, conditionals, control structures, etc.  May as well use an existing language that has plenty of existing introductory tutorials and tools.\n\nA script writer wouldn\'t have to know all the details of python to start, just enough to write a basic function.  That is the very same knowledge that is required now to write a script using YAML.  Only the syntax changes.', ""asveikau: I would much much much rather look at a diff of C code. I can't quantify that, maybe just a lot of experience."", 'asveikau: Python is whitespace sensitive but i think a lot more readable from small snippets. Context is more obvious.', 'glacierre2: I am a python developer and have no problems with indentation of python code. \n\nHowever, my golden rule is NEVER edit yaml by hand, there is always a missing -, tab or whatnot that ends up breaking the parser.\n\nSo, load the yaml into python, change stuff, save yaml. But it is a pain once you get to preserve comments (pyyaml does not, ruamel yes) and thing like that.\n\nFor the purpose of user editable file yaml fails spectacularly, you just need somebody opening it with notepad and in 2 minutes you have 100% guaranteed broken file.', ""ufgrat: It's only insulting according to people who can't be bothered with details, but would rather moan and complain, and when their mistake is pointed out, attack the messenger, rather than the message.\n\nI apologize for insulting you by making the assumption you might actually have some interest in understanding what's going on around you.  Please, go back to being hopelessly confused and overwhelmed by one of the easiest data languages in existence.\n\nI'd like to know what you'd replace YAML with in Home Assistant."", 'ufgrat: >HA Automations are NOT just configuration they are scripts. Automation actions use a ""script syntax"" that includes flow control statements (for each, while, repeat, etc.).\n\nScripts can be included in automations.  But they\'re not necessary.\n\nHA has an automation ""engine"", which processes YAML defined automations.  Here\'s a sample, functioning example from my system, which checks the value of a calculated sensor, checks to see if a relay is on or off, updates the relay to configure an auto-off timeout, and activates the relay.\n\nBut there\'s no flow control, no loops, no conditionals anywhere in this YAML.  That\'s handled by the automation processor.\n\n    alias: M.Bath FanOn\n    description: Run fan if relative humidity is over 10%\n    trigger:\n      - platform: numeric_state\n        entity_id: sensor.m_bath_relative_humidity\n        for:\n          hours: 0\n          minutes: 1\n          seconds: 0\n        above: 10\n        enabled: true\n    condition:\n      - condition: device\n        type: is_off\n        device_id: 7d7f7a597427d8d7bcf4eb231bcd83c8\n        entity_id: switch.dimmer_dry_contact_relay_3\n        domain: switch\n    action:\n      - type: turn_on\n        device_id: 7d7f7a597427d8d7bcf4eb231bcd83c8\n        entity_id: switch.dimmer_dry_contact_relay_3\n        domain: switch\n      - device_id: 7d7f7a597427d8d7bcf4eb231bcd83c8\n        domain: zwave_js\n        type: set_config_parameter\n        parameter: 10\n        bitmask: null\n        subtype: 10 (Auto Turn-Off Timer for Relay)\n        value: 20\n        enabled: false\n      - service: zwave_js.set_config_parameter\n        data:\n          parameter: ""10""\n          value: ""20""\n        target:\n          device_id: 7d7f7a597427d8d7bcf4eb231bcd83c8\n    mode: single\n\nNow-- the ""sensor.m\\_bath\\_relative\\_humidity"" is actually a template sensor, which does have some ""programming"", in that it uses math.  I have a couple of other template sensors with conditionals in them.\n\nI could, if I wanted, include a script in this automation-- because there are circumstances where having a script may be desirable.\n\nThis isn\'t one of them.  Should also probably note that this is entirely constructed by the visual editor-- I created none of this by hand.', 'ianjs: Sounds like your problem is perhaps more around editors that let tabs sneak in than the indenting itself.  I can’t remember the last time that was what the problem turned out to be.\n\nI find YAML to be logical once you get the way it works, and it’s minimalist lack of extra clutter like quotes and braces helps find errors quickly.\n\n> …. Notepad …\n\nGood god. No, I wouldn’t let anyone near my code with that 😱. Does it even render Unix line endings properly yet? ((It’s been a while…)', ""ufgrat: Use emacs, turn off tab mode, and use a yaml edit mode.\n\nBut most IDE's grok yaml as well these days, and in the past few thousand git commits to my puppet yaml tree by 7 different admins, I think there have been tab/space issues a dozen times?"", ""wsdog: Idk, I never had problems editing yaml. I think it's the most logical format."", 'ayyycab: >I’d like to know what you’d replace YAML with in Home Assistant  \n\nHow about a fully graphical user interface? There’s a reason you don’t have to type lines of syntax to tell Microsoft Word what font to use. But for some reason I have to write YAML to tell an integration which features I want enabled or disabled and how those features should behave… all of which could have been a drop-down menu or a checkbox.', 'raw65: My point was the developers clearly felt there was a need for a scripting language and included a [counted repeat](https://www.home-assistant.io/docs/scripts/#repeat-a-group-of-actions), [for each](https://www.home-assistant.io/docs/scripts/#for-each), [while loop](https://www.home-assistant.io/docs/scripts/#while-loop), and more.\n\nRather than build a scripting language in YAML it would be better to leverage an existing solution.', 'glacierre2: Sure, you can get pycharm and probably get by editing 10 lines without trouble. But this is the point, we are not discussing yaml as a config tool for programmers, yaml is being used as a config tool for end users, and they use... Notepad...\n\nIn my case the problem is that even with pycharm, editing a gigantic yaml with hundred entries in a list and you quickly lose reference of how deep you should be.', ""ufgrat: And for 90% of what you do in home assistant, there is in fact, a visual editor-- and every release, more pieces get converted over to it.\n\nBut if you want to write a fancy macro in Word, you're going to need to delve into macros, which, guess what?  They require programming.\n\nA gui is for configuring known cases.  The unknown cases require some form of scripting."", 'ayyycab: It’s not even close to 90%. No visual editor for making templates, half of integrations have to be installed in configuration.yaml and will never show up on the integrations tab, generic cameras are YAML only, I could go on.  \n\n90% isn’t even a good target for usability tbh.', ""ufgrat: I'll give you template sensors.  Nearly everything else I've got is through the visual editor.\n\nOh well.""]"
1681678677.0	16-Apr-2023 13:57:57	location high accuracy mode automation	Witty_Music_9101	1	12oophg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oophg/location_high_accuracy_mode_automation/	I can set the high accuracy mode to enable when connect to Bluetooth, but i curious if there is also a way to enable/disable it in an automation instead?	1	['shakuyi: https://companion.home-assistant.io/docs/notifications/notification-commands#high-accuracy-mode']
1681678391.0	16-Apr-2023 13:53:11	I made some DIY smart blinds using an ESP32, a stepper motor, and a can-do attitude	Cranktowncity	421	12ook6x	homeassistant	https://v.redd.it/g5u5jj2g7bua1		44	"['ashok36: This is unnecessarily complicated, over-engineered, costly, and ugly. I love it.', ""cS47f496tmQHavSR: I was like I *just* watched a video about this but then realized it's you.  \n\nSo much for lowering that bar, this one was phenomenal dude."", 'gmzamz: Wow that motor seems *wildly* overpowered! Looks awesome though.', ""Cranktowncity: Here's a link to the full video:\n\n[https://www.youtube.com/watch?v=G9q5oAXhidU](https://www.youtube.com/watch?v=G9q5oAXhidU)\n\nThanks for watching!"", 'flooger88: This is useful in case your blinds weigh 50+ lbs. I look forward to more shenanigans like this.', 'Indy500Fan16: By the time it opens at sunrise, it’ll be time to close because it’s sunset', 'Todo744: Your engineering abilities never cease to be interesting. Awesome project.', 'Ksevio: You should add a big spring in there, then you could remove a few of the gears to speed it up', 'locke577: Super cool. From one wild haired, bearded, Carhartt shirt wearing tech tinkerer to another: awesome shit man, love to see stuff like this', 'KewlGuyRox: What a horrendously ugly beast! I love it!', 'The_May: Got some detailed wiring and code?', 'Wild-Bus-8979: Great to see you here! Love the channel, been following a while!', 'pimpadocious: I don’t understand why this channel isn’t more popular. Lots of humor, ingenuity, and the production/edit is great. Been watching this channel for a while!', ""Electronic-Still2597: i don't know if im missing the joke but for the record you can just get out of the video when you speed it up."", ""Dimitri0815: Can't you just buy these? but better in every way and not that expensive?"", 'holman8a: Upvoted for can do attitude', '510Threaded: Editing style reminds me of Aging Wheels/Under Dunn', ""luckyj: Why all the gears? They all seem to be roughly the same size so there's no mechanical advantage"", 'AssDimple: What stepper driver did you use for this?', 'instant_absolution: Oh my! What a brutal thing))) How is control through a mobile app, is it convenient?', 'theloneranger08: I was just going to say ""but why"" but I also know..', 'Cranktowncity: Haha thanks man!', 'DaveDurant: Same. Definitely enjoyed this one.', 'McNooge87: Some say those blinds are still rising into orbit', ""YellowGreenPanther: You don't want that much power, and you do want enough torque. It can be good to have slow opening like light adjustment and waking up to the sun"", 'sarrcom: If you liked the short, the full video will blow your mind. Highly recommended', 'howzer00: This was awesome.', 'nine_legged_stool: Really? I thought he looked kinda cute. Like a scruffy K-Mart Ewan McGregor', ""RoadkillUKUK: A bit of self promotion, but [here's a repo](https://github.com/RoadkillUK/Motor-on-a-Roller-Blind-for-ESPHOME) with working blind code, take a look.\n\nIt's quite complicated though, imo.\n\nAlso @cranktowncity, Youtube has been wanting me to watch that vid for a few days, I didn't realise it was you :)"", ""keatonatron: I often see comments like this, and I don't mean to be rude, but it's just a stepper motor moving up and down. Aren't there tons of wiring and code examples to be found with a quick Google search?\n\nI'd understand the request if it were something complicated, but there's this seems really simple."", 'Cranktowncity: Thanks for the support!', 'Cranktowncity: Thank you, I really appreciate it!', ""MockTurt13: sure but... what's the fun in that?"", 'Dangerous_Focus_270: Which ones are not expensive?', 'Zesty__Potato: Sure, you could also have a company handle all of your home automation stuff but instead you are here', 'Dragnier84: The only acceptable answer to “but why?” Is “you know why”', ""svideo: My man I fuckin love your channel and thanks for bringing your nutty projects out for the rest of us to enjoy!\n\nedit: also, have you looked into esphome?  If you're knocking out projects like this to tie into Home Assistant, esphome makes the arduino-side stuff really simple and it really accelerates the development cycle."", 'The_May: Cool for you understanding everything. I really understand what you mean and I really dont want you to think im salty.  \nIm asking because:\n\n\\- Simple things might be complicated for people like me and working on examples lets me understand it much faster. Im not a natural with ESPs and tinkering with sensors and such.\n\n\\- Documentations are sometimes very vague and do not provide a sample code/sample where you can ""rebuild"" and work/learn on it:\n\n[https://esphome.io/components/stepper/index.html?highlight=stepper](https://esphome.io/components/stepper/index.html?highlight=stepper)\n\nThe docs dont even provide information about current, etc etc.\n\n  \n\\- people on youtube just briefly demonstrate their cool project, circlejerking how awesome they are, not providing anything to the people, even promising that there will be a follow up ""when they have the time""  \nfor example: [https://www.youtube.com/watch?v=R08FdiPXUDI&pp=ygUcaG9tZSBhc3Npc3RhbnQgc3RlcHBlciBtb3Rvcg%3D%3D](https://www.youtube.com/watch?v=R08FdiPXUDI&pp=ygUcaG9tZSBhc3Npc3RhbnQgc3RlcHBlciBtb3Rvcg%3D%3D)\n\nImo this is not the mindset you should have. Im aware that I am not a position on this and I cant do better though.  \n\n\n\\-  Some SIMPLE solutions might be solved in many different ways and I was just curious about this.   \nSpeaking of: which stepper motor has been used? What kind of Motors have been used? Esphome for example does NOT mention TMC2208, which seem to work etc etc.  Maybe OP used another undocumentated TMC noone ever used before in which everyone might just benefit from the documentation of this project.', 'elkaboing: “Because I can”', ""Cranktowncity: I looked into it for this video, but didn't get deep enough to figure out how to make the blinds work the way I wanted to, hence the Matt route.\nIt seems pretty dang cool though, they had me at updating firmware over the network haha thats crazy.\n\nThanks for the support!"", ""keatonatron: Thanks for the explanation. I wouldn't have had any issue with your first comment if you had asked specific questions about things that couldn't be googled (e.g. how did you make the gears? Which stepper motor did you use?)\n\nProjects like OP's often don't have easy to understand documentation, so it's possible to answer specific questions but would be a lot of work to explain everything.\n\n(I know you didn't ask for it, but just in case, a great step-by-step on how to get a stepper working is here: https://docs.arduino.cc/learn/electronics/stepper-motors)"", 'kevlarcoated: Too busy working out if he could to work out if he should', 'klipseracer: ""Because I have to justify my tech itch, since I never made it as an engineer and the closest thing I get is tech elitism and PC master race topics""\n\n^ Also why some pc gamers don\'t mind spending 95% of their evening dicking around with drivers and cpu temps instead of playing games and think it\'s fun to sit in a chair with a sweaty headset while being seared by pulsing blue lights reflecting off fan blades of an acrylic case. \n\nJk... No really I\'m just kidding, there is no truth in anything I said.', ""swampjedi: Because I'm a mid-career engineer, which means my daily work is pushing paper, but yeah. I restore/modify game consoles, and then never play them, same idea.""]"
1681669591.0	16-Apr-2023 11:26:31	Need recommendations for new home	medster87	0	12ojwlc	homeassistant	/r/homesecurity/comments/12ojtrq/need_recommendations_for_new_home_securty/		1	['nclpl: For cameras you can use pretty much any IP camera. I’m sure there are some available in your country. \n\nFor object detection and NVR, you can run Frigate NVR on your HA Yellow. Plenty of tutorials on the internet about that. If you’re running more than a couple of cameras you will want a Coral AI accelerator for your Yellow. I don’t know if those are available in Saudi with export restrictions but you can check. If you can’t get one of those, the latest version of Frigate can use a GPU for some acceleration, but the yellow doesn’t have a GPU. You’d want to run frigate on a dedicated x86 computer in that case.']
1681667640.0	16-Apr-2023 10:54:00	UNIOP Top-050045 touchscreen	T-LAD_the_band	1	12oivcv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oivcv/uniop_top050045_touchscreen/	"Hi all. I can get my hands on a couple of these touch screens. Would like to know it there is any way to get these working with home assistant.

Any ideas?

Here's a little mor product info
http://m.lohiyaautomation.com/uniop-e-top05-0045-hmi-7335717.html"	1	['antisane: That link shows me no information at all, and several broken images.']
1681667499.0	16-Apr-2023 10:51:39	How to get a generic thermostat signal to HA?	barth_	0	12oisul	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oisul/how_to_get_a_generic_thermostat_signal_to_ha/	"Hi,

If you'd have some very old thermostat and it's connected to valve to open and close. No ethernet or wifi.

What would you use to get this signal to HA?

Some board with WiFi? Raspberry Pi? 

Thanks."	2	['LurkerTalen: Depends on the voltage but I think a Shelly could work. If you want to diy it, esphome world work easily too.', 'therange: I have an old dial thermo that just opens and closes a circuit between two terminals at the boiler.\n\nA Shelly1 relay put in parallel works perfectly, while retaining the function of the dial if the Shelly goes wonky.']
1681666655.0	16-Apr-2023 10:37:35	Automation setup for turning on lights gets triggered for turning off!	trumee	1	12oide9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oide9/automation_setup_for_turning_on_lights_gets/	"Hello,

I am using an automation to turn on lights using an Aqara sensor.

    alias: ""Motion Bedroom Light On ""
    description: """"
    trigger:
      - platform: state
        entity_id:
          - binary_sensor.0x00158d000237a631_occupancy
        to: ""on""
    condition:
      - condition: time
        before: ""23:00:00""
        after: ""08:00:00""
      - condition: numeric_state
        entity_id: sensor.screek_human_presence_sensor_1w_7bf6b4_sun_light
        below: 3
    action:
      - service: light.turn_on
        data: {}
        target:
          entity_id: light.shelly_plus_2pm_485519a0d3c8_1
      - service: fan.turn_on
        data: {}
        target:
          entity_id: fan.shelly_plus_2pm_485519a0d3c8_2
    mode: single
    

However, the logbook is showing this automation being called even for Turning off lights as the screenshot below shows. Any reason why is that?

&#x200B;

https://preview.redd.it/uy6uibro8aua1.png?width=928&format=png&auto=webp&v=enabled&s=a150e1bd612d5efe0ccec3c1a6c33b24cf86945e"	1	"['Sometimes-Scott: Thanks for properly posting your yaml!\n\nYour automation looks good. You can try running your actions to see they work.\n\nDid you copy this script to create the ""Motion Bedroom Lights Off"" script? If so, did you rename it properly? I\'m wondering if you have two scripts named the same thing.\n\nSide note, you have an extra space in your alias. This won\'t cause an issue, but it bugs me.']"
1681664877.0	16-Apr-2023 10:07:57	HA Newbie here	Fabulous_Scarcity_43	0	12ohgn9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ohgn9/ha_newbie_here/	Just installed HA on raspberry pi and i got a *SONOFF Zigbee 3.0 USB Dongle.* After so many failed attempts to install Zigbee2MQTT, i no longer see the zigbee device when i navigate to hardware from HA. Is there a way I can reset the S*ONOFF Zigbee 3.0 USB Dongle?* Basically, i need help with this :(	5	['sblessley: Reset to *what?* Had you flashed it (if not... you should). Did you verify Z2M has the correct USB port assigned?', 'hirscheyyaltern: I followed this guide when I used that same dongle and found it sufficiently informative https://youtu.be/KBAGWBWBATg', 'Wild-Bus-8979: >Is there a way I can reset the SONOFF Zigbee 3.0 USB Dongle? \n\nUnplug and plug back? Reboot the pi?', 'Fabulous_Scarcity_43: I meant flash, I haven’t and I don’t know how to', 'Fabulous_Scarcity_43: Thanks but I tried that and it’s still not showing up']
1681664014.0	16-Apr-2023 09:53:34	ZigBee or zWave smart lock	RBZ31	4	12oh0as	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oh0as/zigbee_or_zwave_smart_lock/	"I would like to use a smart lock as arrival detection and departure for my setups.
I was wondering if anyone could make a recommendation for a fairly secure non-Wi-Fi enabled smart lock."	9	"[""flaquito_: Z-Wave. Then you can use [Keymaster](https://github.com/FutureTense/keymaster) for PIN management. I'm using 2 Kwikset Connect 620 deadbolts, and they work really well."", ""mrtramplefoot: Just got one of these as well.  Install is by far the worst/most unnecessarily complicated lock install I've ever done, but seems to be the best value with zwave 700"", 'mzinz: !remindme 12 hours', ""flaquito_: Interesting, it didn't seem too bad to me. Hardest part was that one of the doors didn't yet have a deadbolt, so I had to drill all of the holes in the door and jamb. What did you find unnecessarily complicated about it?"", 'RemindMeBot: I will be messaging you in 12 hours on [**2023-04-17 18:49:08 UTC**](http://www.wolframalpha.com/input/?i=2023-04-17%2018:49:08%20UTC%20To%20Local%20Time) to remind you of [**this link**](https://www.reddit.com/r/homeassistant/comments/12oh0as/zigbee_or_zwave_smart_lock/jgkztmg/?context=3)\n\n[**CLICK THIS LINK**](https://www.reddit.com/message/compose/?to=RemindMeBot&subject=Reminder&message=%5Bhttps%3A%2F%2Fwww.reddit.com%2Fr%2Fhomeassistant%2Fcomments%2F12oh0as%2Fzigbee_or_zwave_smart_lock%2Fjgkztmg%2F%5D%0A%0ARemindMe%21%202023-04-17%2018%3A49%3A08%20UTC) to send a PM to also be reminded and to reduce spam.\n\n^(Parent commenter can ) [^(delete this message to hide from others.)](https://www.reddit.com/message/compose/?to=RemindMeBot&subject=Delete%20Comment&message=Delete%21%2012oh0as)\n\n*****\n\n|[^(Info)](https://www.reddit.com/r/RemindMeBot/comments/e1bko7/remindmebot_info_v21/)|[^(Custom)](https://www.reddit.com/message/compose/?to=RemindMeBot&subject=Reminder&message=%5BLink%20or%20message%20inside%20square%20brackets%5D%0A%0ARemindMe%21%20Time%20period%20here)|[^(Your Reminders)](https://www.reddit.com/message/compose/?to=RemindMeBot&subject=List%20Of%20Reminders&message=MyReminders%21)|[^(Feedback)](https://www.reddit.com/message/compose/?to=Watchful1&subject=RemindMeBot%20Feedback)|\n|-|-|-|-|', ""mrtramplefoot: I really hate how on the inside, the guts of the lock is an entirely separate piece from the pretty part and so you had to mount them both separately.  The Kwikset dumb keypad I uninstalled wasn't like that, so they know how to make it easy for you.  On top of that, 2/3 screws to hold the cover on are so close to the door that I had to find a screwdriver with a super skinny handle just so I could screw them in straight.  The instructions also have you install the cover, then you get to the part about z waving pairing, which makes you remove the cover with the stupid close screws and go through that all over again.  Oh and when the battery dies, back to removing those screws again.... \n\n&#x200B;\n\nThis was the lock I removed [https://www.kwikset.com/products/detail/905-keywayless-electronic-deadbolt](https://www.kwikset.com/products/detail/905-keywayless-electronic-deadbolt)\n\nMy wife absolutely hated the 2 numbers per key part (it wasn't great...), but the batteries were easily accessible by just sliding the back open, no tools required.  The back was mounted with two screws, one under the battery door and one you can see under the lock dial.  It was much easier to install and service."", ""flaquito_: Ah, certainly fair criticisms. Especially those tiny screws for the trim cover. I have an iFixit screwdriver set, so it was pretty easy, but I didn't consider that most people probably don't have small screwdriver sets. And I think I did the Zwave pairing before putting on the cover.\n\nHowever, I'm pretty sure that the battery case slides out the top without having to remove any screws, doesn't it? Unless you install the optional security screw. I haven't had to replace them yet, but that's what I remember reading. Either way, it's a whole lot better than my old Schlage doorknob where the entire thing had to be disassembled to change the batteries."", ""mrtramplefoot: Holey crap, didn't realize the black part on the back comes off!  I stand by the initial installation complaints, but being able to pop that off makes it fine going forward.  Thank you!"", 'flaquito_: Hey, glad I could help!']"
1681663683.0	16-Apr-2023 09:48:03	Frigate card long slow delay	ewlung	3	12ogu7n	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ogu7n/frigate_card_long_slow_delay/	"I just installed Frigate and it is working really well. My two Reolink cameras, E1 Zoom and E1 Outdoor are displayed perfectly via Frigate web interface. The video streams are fast, either using mse or webrtc. 

Frigate is installed as docker using Portainer, under LXC (Debian Linux). Hardware is Intel N5105, harware acceleration is configured to use QSV. I think it works fine, intel\_gpu\_top shows Render/3D/0 activities (about 8%). CPU utilization was about 10-30%.

[Here is the complete Frigate config.](https://pastebin.com/0mGykHGP)

Then I installed the Home Assistant Frigate Integration, followed with the Frigate Card.

Created a Frigate Card in the HA Dashboard for both cameras. The video streams were very slow, with several seconds of delay. Is this normal for HA integration? 

**Is my configuration wrong / not optimal?** 

Do I really need to install AlexxIT WebRTC Card? I thought the latest Frigate 0.12 has go2rtc with webrtc support.

Here is the Frigate Card configuration:

`type: custom:frigate-card`

`cameras:`

  `- camera_entity: camera.frontcam`

`live_provider: ha`

  `- camera_entity: camera.livingroomcam`

`live_provider: ha`

`view:`

  `default: live`

  `dark_mode: 'on'`

`menu:`

  `style: overlay`

  `position: top`

  `alignment: top`

`live:`

  `auto_play: selected`

  `auto_mute: hidden`

  `auto_pause: unselected`"	7	"['nickm_27: You should use the v5 beta of the frigate card which natively supports mse and WebRTC.', 'ewlung: Thanks, I changed to use **v5 beta-2** and I can see much improvements, video streams were fast!. See the card YAML codes below. But, is it true that this only works locally? I tried to use the HA Android Companion app, connected via Cloudflared and it was slow. Definitely a lot slower. What needs to be done here?  \n\n\n`type: custom:frigate-card`\n\n`cameras:`\n\n  `- camera_entity: camera.frontcam`\n\n`frigate:`\n\n`url:` [`http://192.168.86.209:5000/`](http://192.168.86.209:5000/)\n\n`go2rtc:`\n\n`modes:`\n\n`- webrtc`\n\n`stream: Front_cam`\n\n`live_provider: go2rtc`\n\n  `- camera_entity: camera.livingroomcam`\n\n`frigate:`\n\n`url:` [`http://192.168.86.209:5000/`](http://192.168.86.209:5000/)\n\n`go2rtc:`\n\n`modes:`\n\n`- webrtc`\n\n`stream: LivingRom_cam`\n\n`live_provider: go2rtc`\n\n`live:`\n\n  `draggable: false`\n\n  `auto_play: selected`\n\n  `auto_pause: unselected`\n\n  `auto_mute: never`\n\n`menu:`\n\n  `style: outside`\n\n  `position: top`\n\n  `alignment: left`', 'nickm_27: I use cloudflare tunnels and it works fine. Just need to follow the same rules that the frigate and go2rtc docs suggest for WebRTC remotely', 'ewlung: Can you please give some hints about that ""docs suggest""?', 'nickm_27: https://github.com/AlexxIT/go2rtc#module-webrtc', 'ewlung: If I read, I need to forward port 8555 on the router to the Frigate local IP address port 8555, correct?\n\nThen, I need to add this to the go2rtc:\n\n`webrtc:`   \n\n`candidates:`     \n\n`- A.B.C.D:8555  # A.B.C.D is the router public IP address`\n\nIf I do that, the local webrtc didn\'t work. I reverted back to the local IP address. At the end, I changed to use ""mse"", it is not as fast as webrtc, but it looks faster, a little bit.', 'nickm_27: You can add multiple candidates to the WebRTC list so you should have your local along with stun:8555 (stun sever finds your public ip address). \n\nThis only works if you have a non symmetrical NAT']"
1681659534.0	16-Apr-2023 08:38:54	Can't discover Bluetooth Thermo/Hygrometer	PaulTankerfahrer	1	12oduvm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oduvm/cant_discover_bluetooth_thermohygrometer/	"Hey, I got a question....
I installed Home Assistant OS in Proxmox and everything ist working fine so far. I want to add a ThermoPro TP357 and have already passed through my USB dongle from Ugreen to the VM. When I type ""bluetoothctl list"" in the Home Assistant terminal I get the MAC of my USB Dongle. Where to go from here? How can I add and read the TP357 sensor? 
There seems to be an Integration built in to Home Assistant for ThermoPro devices but it only says that no devices are on the network.
Any help will be greatly appreciated 👍"	6	"[""_atomic_garden: Haven't used any ThermoPro devices with Home Assistant. That said you'd first need the Bluetooth Integration enabled - for me that was discovered automatically. From there once it detects a ThermoPro signal it sounds like the TP357 will show up as newly discovered. This will take at least as long as that device takes to advertise it's data."", ""SkyUK: Not sure I can help answer your question, but wanted to share my experience in case it's useful...\n\nI previously bought one of those and was so impressed with the hardware and integration, especially finding one that didn't use button batteries... But then found that anyone with the manufacturers app could connect to the device via Bluetooth and view all the historic data without any notification being sent to me, nor with any option to lock it down with a password etc\n\nI appreciate its a long shot that someone would do that, they'd have to have the right app and be physically next to my house etc etc, but if they did they'd clearly see when I'm likely to be home, awake etc with the heat cycles, it's not information I'd share publicly and it just seems so insecure for this to be the case.\n\nI reluctantly returned it - hopefully this isn't an issue for you but again wanted to share as it's not obvious at first.  I believe this may be the case with many if not all Bluetooth thermometers, so I bought a ZigBee dongle and plan to try those instead\n\nCheers"", ""PaulTankerfahrer: Okay thanks for the answer! \nI think the Bluetooth integration is working, not too sure about that. At least the dongle is showing up under bluetoothctl. But I think the dongle isn't the best one and probably the cause of these issues."", ""PaulTankerfahrer: Hey, thank you very much for your answer. That's actually a pretty good point, didn't think about that. \nI also returned it and will setup one with mqtt, which also seems to work much better and is more secure. Why self host something when such a simple device makes it all nonsense xD\nAppreciate your answer!"", '_atomic_garden: You should see your dongle appearing under integrations as well (default name appears to be the mac address)\n\nhttps://preview.redd.it/7vw7hwwibdua1.png?width=302&format=png&auto=webp&v=enabled&s=1927b1c97ecddf7a3193f09a054eb759ba9f3a69', 'PaulTankerfahrer: Yea I can see my dongle in the integrations tab.']"
1681658836.0	16-Apr-2023 08:27:16	TV turn off when nothing is playing	Vast-Ad-9451	2	12odawe	homeassistant	https://www.reddit.com/r/homeassistant/comments/12odawe/tv_turn_off_when_nothing_is_playing/	"I want my TV to turn of automatically after 10 minutes when nothing is playing on it.  
The TV is recognized in HA with the Samsung integration.

We use the TV in 2 way's:  
1) Watch TV with a google Chromecast via HDMI  
2) Use it to play games on a nintendo Switch via HDMI.

I have already used an automation to detect if the chromecast is playing and if its switch off than turn the TV off after 10 minutes. Alas it also turns the TV of if we switch from chromecast to the Nintendo HDMI (and turn the chromecast off).

Below is the automation I am using for that:

https://preview.redd.it/o7dro8fdl9ua1.png?width=697&format=png&auto=webp&v=enabled&s=375152aadd244e6e1045727d8aadbc4c725720a6

I have also used an energy meter for the TV but the difference in power (when the chromecast is of, or something is playing on the tv is minimal).

BTW with chromecast turnt off I mean in screensaver mode not physically turnt off.

Anyone an idea?"	5	"['404flyer: Put a smart switch with a power monitor on the Nintendo, and add a condition that the power on the Nintendo must be zero. You could also use the power meter to automatically switch the HDMI for you when you turn the Switch on or off.', ""Neapolitan_pizza: I do similar to 404flyer.  \n\nMy Tv's draw like 20w power while off (actually in standby mode, I agree, its high),  so I set my smart switches (kasa) to say anything <30 watts for 5 minutes turn off the switch. So I have to turn my kasa switch back on before  I can turn the tv on again though."", 'Vast-Ad-9451: Nice one. Never thought of that😃', 'Vast-Ad-9451: That is a lot of power.\nThing I did not explain in my original post is that when we stop casting by Chromecast it sets a screen saver (photo slides). So in a sence the TV is still on.\nThats why the difference in watts when on a screensaver from the chromecast or normal use is minimal (in my case between 80 and 100 watts). But that range of watts is used in both cases (on screensaver or streaming/gaming)\n\nI am now testing @404flyers option. But I have a family so have to wait till the children and the wife are in bed.', 'IroesStrongarm: Add a wait timer at the end of your automation to wait 5 minutes and then turn the plug back on. This will have it auto turn off and be ready for you next use.']"
1681658526.0	16-Apr-2023 08:22:06	A New Way of Dealing with ADT Pulse	HardlyThereAtAll	0	12od1z0	homeassistant	https://www.reddit.com/r/homeassistant/comments/12od1z0/a_new_way_of_dealing_with_adt_pulse/	"So...

I've found the ADT Pulse plugin to be unreliable. Specifically, I want to be able to arm and disarm my ADT Pulse alarm system, and the existing plugins struggle to remain connected. Worse, if there's a problem, I don't actually know - it simply stops working.

So: I had an idea. I know Python. I know Selenium. I have Proxmox on a cheap Chinese NUC-knock off. And, of course, there is the ADT Pulse web portal.

Why not set up a simple server on a Lubuntu instance, that uses Selenium to control a web browser to check current alarm status, and to arm and disarm.

This automation - the pressing buttons on the [https://portal.adtpulse.com/](https://portal.adtpulse.com/) website - is the easy part. (As in, it'll be about 15 minutes of work.)

So here's my question for the community. What's the best way to expose this to Home Assistant? 

I could create a very simple HTTPS api - /checkstatus, /arm, /disarm, etc

Or I could presumably use MQTT (not that I've used MQTT before, but how hard could it be?)

What do you guys think. What's the easiest way to expose it to Home Assistant as an alarm panel?"	6	"[""ahj3939: It's better to skip Selenium and try to do direct HTTP requests.\n\nYou send a login POST, get back the token, send a request to the endpoint to get the status, etc, etc."", ""HardlyThereAtAll: Also: if this approach is successful, what's the best way to share it with the community?"", 'HardlyThereAtAll: I had assumed that the portal used JavaScript, but looking at it, it looks pretty simple, so maybe requests is the way to go.', 'ahj3939: Yes even if it uses Javascript. You want to emulate the calls the javascript makes to the server, instead of emulating a full blown web browser which is slow and resource intensive.', 'HardlyThereAtAll: Ok.\n\nAny suggestions about the best way to expose my new virtual alarm panel? Mqtt or flask web service?', 'ahj3939: Not sure, I would see if you can plug into an existing addon/integration.']"
1681657925.0	16-Apr-2023 08:12:05	Aqara E1 Torque	TheRealBarros	1	12ockl5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ockl5/aqara_e1_torque/	"Hi all! 
Just looking for some advice/help. I’ve had my blind motor for little over a month now and I’ve only recently run into the issue of the motor stopping when raising the blinds. No issues on lowering. 
The issue seems to arise when the battery life gets below 50%. And there’s no issue with the blind being raised when the motor is plugged in. I assume this is a torque issue. 
I have double checked that the blinds fit the requirements and they’re well within the dimensions and weight issues. I’ve checked the different spindles for the chain etc too. 
I was wondering if anyone had similar issues and if so how they resolved it! (Or didn’t if that was the case). 
Thanks!"	3	['michaelthompson1991: By the sound of it it’s similar to a problem I have, although it still has around 40% battery left it needs charging, try plugging the charger lead in and it’ll probably work', 'TheRealBarros: Yeah as soon as it’s charged up a bit or is left plugged in it works fine. Just quite annoying if I’m having to charge it so frequently or leave it plugged in. Was hoping someone had maybe found a way of working round this!', 'michaelthompson1991: Yeah would be nice but even when I used it with an Aqara hub it stopped going up at about 40-45%, still lasted about 4-6 weeks though']
1681657330.0	16-Apr-2023 08:02:10	The many faces of the LD2410	djw17	1	12oc3fc	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oc3fc/the_many_faces_of_the_ld2410/	"I'm lookup to supplement my ESP32-based room monitoring modules with millimeter-wave, and have been attracted by the LD2410, which looks to have a decent mix of affordability and capability. But going to [AliExpress](https://www.aliexpress.us/item/3256804165278321.html) there are 11 different ""colors"" (read: variants). Some of these aren't really relevant to determinig the difference between different modules; they're kits that come with Dupont-to-JST cables and/or CH340 USB-to-UART devices. I've already got a CH340 and plenty of wires (which I plan to hardwire), so those particular options are moot for me, but even so it looks like there are a lot of options, and I'd like to make sure I understand the choices. Below I've put a lot of assertions which I'm unsure about (and would like confirmation or refutation of), and a few questions where I straight-up do not know the answer.

* ""LD2410 with pins"" appears to be a standard LD2410 with stabby\* headers soldered on. As I understand it, if I want to use this with ESPHome the connections to be made are UART and 5V power only, leaving the ""OUT"" pin unconnected. Configuration can be done with ESPHome YAML and it is not necessary to calibrate it with a CH340-and-computer setup.
* ""LD2410-P(with BLE)"" is what is elsewhere referred to as an LD2410B, I think. This one can operate with just 5V power and can both be calibrated and monitored over BLE, although some folks have said the range and connectivity is a bit spotty. Since I mean to house it with an ESP32, using the BLE connection seems pointless, but this module (the same price as the above) might still be a better choice, if only to ignore the BLE (can I do that? Does it work OK without?) and hardwire the connections without having to desolder the header pins, since this one comes without a header.
* ""LD2420"" is where I get out of my comfort zone, because a lot of what I've read is about the LD2410, and this is of course a different device. It has a different physical layout (20×20 instead of 35×7), a different stated voltage level (3.3V instead of 5V), a longer stated detection range (8m vs 5m) and as far as I can tell no BLE. Otherwise, though, does it work like the LD2410, i.e. is the only difference in setup and usage that the VCC line needs 3.3V instead of 5V?
* ""LD2410C-P"" is one I don't know about, but I think it's an LD2410 with a different physical layout, 22×16 instead of 35×7, and with no BLE (?). Not sure about the use case for this one; it seems inferior to the LD2420 generally unless you wanted to use it with a 5V MCU like and Arduino.

As mentioned above, I'd appreciate refutations/confirmations/experience reports!

&#x200B;

\*A proposal for alternative names for male and female connectors which I've seen elsewhere: ""stabby"" and ""grabby""."	5	"[""slboat: We've done quite a few radars recently and have a little bit of insight into some of them, here are some of our thoughts.\n\nThe LD2420 is a micro-motion detection module that doesn't seem to be very good at detecting human breathing.  \n\nLD2410C is the one we used in this project, it is an enlarged version of the ld2410b, almost the same hardware specifications, but the connection pin is 2.55 pitch, which makes it very convenient to be able to solder wires.\n\nLD2410B, LD2410C are through the Bluetooth to adjust the parameters, the significance of Bluetooth is to adjust the parameters, you can dynamically observe the fluctuations of each zone changes, this is very interesting.\n\n[https://www.reddit.com/r/homeassistant/comments/127mcvc/build\\_a\\_smaller\\_human\\_body\\_radar\\_sensor\\_using/](https://www.reddit.com/r/homeassistant/comments/127mcvc/build_a_smaller_human_body_radar_sensor_using/)"", 'big-ted: LD2410C-P comes with BLE and works with Bluetooth Proxy if the proxy is under 3M away from the device (BLE has a range of upto 5M if you are using the app on the phone for some reason)\n\nAlso find it lasts at least 15 days if powered from a 20,000mAh battery pack', ""djw17: Thanks for the detailed comments! I'm likely not going to use the LD2420 based on your anti-recommendation, but out of curiosity: is it protocol-compatible with LD2410 (i.e. can you use the `ld2410` ESPHome platform to monitor it?\n\nAlso, I note that your YAML doesn't include the `gX_*_threshhold` parameters. Is this because they're set via the BLE calibration? Does the LD2410 retain those parameters after BLE calibration, even through power-outages?\n\nThanks again!"", 'slboat: >LD2410C-P comes with BLE and works with Bluetooth Proxy if the proxy is under 3M away from the device (BLE has a range of upto 5M if you are using the app on the phone for some reason)Also find it lasts at least 15 days if powered from a 20,000mAh battery pack\n\nDoes it run all the time, 24 hours a day? That sounds pretty amazing, which is great.', 'slboat: The configuration is continuously saved in the device at all times, which is a major role of ble, very convenient to observe the adjustment parameters in real time. ble can also be turned off in the serial protocol, which makes it very convenient.\n\n&#x200B;\n\nWe have not used the ld2420, although I have a piece and it is half the price of the ld2410, but my friends have given feedback that it even recognizes micro movements.\n\nLooking forward to the results of your testing.']"
1681656623.0	16-Apr-2023 07:50:23	Mushroom Card Question for Lights	LynnOnTheWeb	69	12obicr	homeassistant	https://i.redd.it/uk5b6s8jwaua1.jpg	Is there a card that is similar to the entities card in that it groups entities together, has a title, and has a toggle that controls all entities, but shows the brightness as a graphic/bar all the time?	32	"['imjerry: Not with Mushroom, but if you made a [light group](https://www.home-assistant.io/integrations/group/) (in the Helpers menu), you could use an entity card to do the first bit, then the other cards in your second example.\n\n[Vertical Stack In Card](https://github.com/ofekashery/vertical-stack-in-card) in HACS, would show them as one card graphically.', ""dibsODDJOB: idk but I'd love it"", 'FantasyMaster85: Commenting an initial comment to say that yes, if I’m understanding what you’re asking for correctly, it can be done using CSS (giving the look that things are the same card when they’re technically separate cards, thereby allowing a “turn on all” button along with separate sliders). I did something *similar* (but not exactly the same) in my UI (can see it here: https://www.reddit.com/r/homeassistant/comments/12ctbgk/tablet_setup_for_nonguest_usersi_think_im/?utm_source=share&utm_medium=ios_app&utm_name=ioscss&utm_content=1&utm_term=1 )\n\nI’ll come back a little later and create what I think you’re asking for and post the yaml. Just need to get in front of my computer.', 'BenForTheWin: Not mushroom but slider entity would do it. https://github.com/thomasloven/lovelace-slider-entity-row', 'admins69kids: Liights', ""uosiek: It's doable with custom card fold-entity-row: [https://github.com/thomasloven/lovelace-fold-entity-row](https://github.com/thomasloven/lovelace-fold-entity-row)\n\n    - type: entities\n      entities:\n        - head: switch.nami_viper_chargers_shelly_plus_plug_s_relay_0\n          type: custom:fold-entity-row\n          entities:\n            - entity: automation.stop_charging_nami_viper_when_battery_almost_full\n              name: Limit charge to 80%\n            - entity: sensor.nami_viper_chargers_shelly_plus_plug_s_relay_0_power\n              name: Power\n            - entity: sensor.nami_viper_chargers_shelly_plus_plug_s_relay_0_energy\n              name: Energy\n            - entity: sensor.nami_viper_chargers_shelly_plus_plug_s_relay_0_voltage\n              name: Voltage\n            - entity: sensor.nami_viper_chargers_shelly_plus_plug_s_relay_0_temperature\n              name: Temperature\n            - entity: sensor.nami_viper_chargers_shelly_plus_plug_s_wifi_signal\n              name: RSSI\n            - entity: sensor.nami_viper_chargers_shelly_plus_plug_s_wifi_ip\n              name: IP\n        - head: sensor.nami_viper_chargers_monthly\n          type: custom:fold-entity-row\n          entities:\n            - entity: sensor.nami_viper_chargers_daily\n              name: Daily consumption\n            - entity: sensor.nami_viper_chargers_weekly\n              name: Weekly consumption\n            - entity: sensor.nami_viper_chargers_monthly\n              name: Monthly consumption\n        - entity: automation.stop_charging_nami_viper_when_battery_almost_full\n          name: Limit charge to 80%\n      title: Nami Viper\n\n\n&#x200B;\n\nhttps://preview.redd.it/w114savt5bua1.png?width=495&format=png&auto=webp&v=enabled&s=07a3517074b73cfff82161a7e83f63d9fd9042b8"", 'Eelviny: This is why I love the Android device controls actually. Each light with a slider on it, all in one list. 100% agreed that something in the app too would be great.', 'jofo: You can make an entities card and for each entity define a “type” of card to display\n[would look like this ](https://i.imgur.com/AGFBdoc.jpg)', 'Neon_44: tiles and a helper entity?', 'nextlevel8: [deleted]', 'FantasyMaster85: It’s funny, didn’t see your reply to the OP until just now, but that is *almost exactly* the solution I gave him in my “example code” reply, just went one additional step further and used CSS to give the appearance of having all the individual mushrooms cards as one singular mushroom card.\n\nWithout the CSS, each of the slider/light cards show as individual cards instead of being merged as they are in the OP’s request. You end up with the switch and then separate mushroom light cards instead of one ***singular*** entity card.\n\nEDIT: for clarity (hijacking top comment so it’s seen lol) here was my reply to OP\n\nHere you go (I think I got this right):\n\nScreenshot: [https://drive.google.com/file/d/15qTFT3dOYLK7XaXB7Wu59AFBJ7xDdxlJ/view?usp=drivesdk](https://drive.google.com/file/d/15qTFT3dOYLK7XaXB7Wu59AFBJ7xDdxlJ/view?usp=drivesdk)\n\nVideo: [https://drive.google.com/file/d/1zbhjoPa7b-vhfJtR1Ld7muoaXX\\_2itPQ/view?usp=drivesdk](https://drive.google.com/file/d/1zbhjoPa7b-vhfJtR1Ld7muoaXX_2itPQ/view?usp=drivesdk)\n\nYAML: [https://pastebin.com/W6fG1w7f](https://pastebin.com/W6fG1w7f)\n\nPreview:\n\nhttps://preview.redd.it/g51empt4ebua1.jpeg?width=1170&format=pjpg&auto=webp&v=enabled&s=a61ee0c94e9f8e6075550e1a5e30206fa0c11d58', 'FantasyMaster85: Have a look at my reply to the OP, it’s possible\n\nPreview (actual yaml and video in my reply to OP’s post):\n\nhttps://preview.redd.it/vuytc0pmhbua1.jpeg?width=1170&format=pjpg&auto=webp&v=enabled&s=bacaa29532949ba6fa2a97fa97c80457bb757bd8', 'FantasyMaster85: Here you go (I think I got this right):\n\nScreenshot: [https://drive.google.com/file/d/15qTFT3dOYLK7XaXB7Wu59AFBJ7xDdxlJ/view?usp=drivesdk](https://drive.google.com/file/d/15qTFT3dOYLK7XaXB7Wu59AFBJ7xDdxlJ/view?usp=drivesdk)\n\nVideo: [https://drive.google.com/file/d/1zbhjoPa7b-vhfJtR1Ld7muoaXX\\_2itPQ/view?usp=drivesdk](https://drive.google.com/file/d/1zbhjoPa7b-vhfJtR1Ld7muoaXX_2itPQ/view?usp=drivesdk)\n\nYAML: [https://pastebin.com/W6fG1w7f](https://pastebin.com/W6fG1w7f)\n\nPreview:\n\nhttps://preview.redd.it/hseeaqtmbbua1.jpeg?width=1170&format=pjpg&auto=webp&v=enabled&s=fb5e97c0d437f9bb6711db92fb9949d37979662d', 'LynnOnTheWeb: Lol I’ve had it that way for months and nobody has said a thing.', 'notthefirstryan: What', 'uosiek: Also, first prepare light group \\`Living light\\`, use that light group as a header, show individual lights as a child items to a header entity.', 'notthefirstryan: Change layout of that card from default to horizontal\n\n`layout: horizontal`', ""shbatm: This looks like the `custom:mushroom-light-card`, not the built-in `tile` card, which doesn't have the horizontal option."", 'LynnOnTheWeb: https://preview.redd.it/86w98uimydua1.jpeg?width=1033&format=pjpg&auto=webp&v=enabled&s=fa65c433ff792d622a5bc6f79c43a0359dcdeb05', 'LynnOnTheWeb: Amazing. Thanks to both of you! I’ve started trying to reproduce this. I’ve got the vertical-stack-card installed and am trying to figure out where to put the code that the direction say to put in the Lovelace.yaml because I don’t think I have that file. I’m running HA inside a Proxmox VM.', 'FantasyMaster85: Should mention you’ve got to navigate to “helpers” (here: http://homeassistant.local:8123/config/helpers ) and create a “group” of lights that contain all the lights you want the toggle switch at the top to operate. In the example I’ve given you I put the kitchen and dining rooms lights in the group and named it as such.', 'admins69kids: Look at the first group name in the bottom section.', 'nextlevel8: [deleted]', 'LynnOnTheWeb: Yes, that is the mushroom light card', 'nextlevel8: Ohhhh now it all makes sense!', 'No_Impact7840: You can access the yaml through the UI editor with the ""Show code editor"" button on an individual card, or the ""raw configuration editor"" button from the three dots menu at the top right when editing for the entire file.', 'notthefirstryan: Ahh lol', 'notthefirstryan: Yup just updated to 2023.4.4 and still works fine. \n\n&#x200B;\n\nhttps://preview.redd.it/4kvibcewkdua1.png?width=591&format=png&auto=webp&v=enabled&s=4cfcdde37729a9dd4ea266e951053331db37204b\n\n`views:`\n\n  `- title: Home`\n\n`cards:`\n\n`- type: custom:mushroom-light-card`\n\n`entity: light.living_room_ceiling_lights`\n\n`use_light_color: true`\n\n`show_brightness_control: true`\n\n`- type: custom:mushroom-light-card`\n\n`entity: light.living_room_ceiling_lights`\n\n`use_light_color: true`\n\n`show_brightness_control: true`\n\n`layout: horizontal`', 'LynnOnTheWeb: Thank you! I was looking for the ui-Lovelace.yaml file in the file editor and couldn’t find it. I see where to do it now.', ""LynnOnTheWeb: I've finally gotten around to installing and am working through the process. I've installed Vertical-Stack-In-Card, added the resource and inserted then removed the code in the yaml while I'm working through the entities. I'm pretty sure I've removed everything I entered, but am getting this error. I can easily revert to backup, but thought I'd see if I could learn a little about troubleshooting if possible. I've checked to make sure the resources are included and they are.\n\nHere is the yaml [https://pastebin.com/edit/J5EG87Ti](https://pastebin.com/edit/J5EG87Ti)\n\nThoughts? What am I looking for? Thanks!\n\nhttps://preview.redd.it/nq829e8093va1.png?width=1000&format=png&auto=webp&v=enabled&s=9aedf15a7fc8a4e60b1c3aba84a2c1d6d9ea5218"", ""No_Impact7840: I'm sorry I haven't actually used mushroom or vertical stack cards, so I'm not a lot of help on those.\n\nJust from looking at those errors because they are `integration error` I'd guess you have a rogue `type` `title` and `cards` in an integration file that is not `lovelace.yaml` - so `configuration.yaml` or one of the files you're importing there."", 'LynnOnTheWeb: Thanks for that info. I decided to just roll back and start again.']"
1681655624.0	16-Apr-2023 07:33:44	Home Assistant memory use is hitting 100%	JonathanGraft	4	12oanwf	homeassistant	https://www.reddit.com/r/homeassistant/comments/12oanwf/home_assistant_memory_use_is_hitting_100/	Starting around April 12 / 13 my [Home Assistant has been slowly creeping towards 100% memory usage](https://i.imgur.com/Shcxzrn.jpg). When it peaks Home Assistant becomes unresponsive and I need to unplug the odroid n2. I’ve never encountered this issue before, how do I figure out the cause & fix this?	6	"[""mgithens1: Since it isn't a system wide issue, it isn't actually HA... it is going to be an addon that is going rogue.  I would start by disabling half your addons... problem persists, then it is a running process, problem goes away, it is one of the processes you stopped.\n\nBasically, you need to divide and conquer to find the responsible party."", 'llego: I had the same problem. Turned out it was the double take add-on that slowly but steadily ate up all the memory. Did a dirty fix by setting up an automation that restarts the add-on once a day.', ""JonathanGraft: I also thought that it might be an add-on and not Home Assistant itself because when the odroid hits 100% memory usage it also causes AdGuard to freeze up which brings my entire home network down with it as well.  I'll try disabling some add-ons and report back.\n\nUPDATE: Scrypted was eating up \\~40% memory, I've disabled it and will be keeping an eye over the next 24 hours, but I bet this was the culprit."", 'mgithens1: Well, when memory runs out, the running processes will crash at random... they ask OS for memory and it shrugs it shoulders and the various processes will slowly halt.\n\nMemory going to 100% can be expected for some applications. Java for instance will persist cached items in memory until it hits a threshold and then it will do a memory cleanup -- it would look very similar to your graph where you see it spike up and then go drastically down as it cleans up / dumps older generation memory.', ""koushd: > I also thought that it might be an add-on and not Home Assistant itself because when the odroid hits 100% memory usage it also causes AdGuard to freeze up which brings my entire home network down with it as well.  I'll try disabling some add-ons and report back.\n\nWhat plugins are you running? If you were using a motion detection plugin, that issue was resolved earlier today."", ""JonathanGraft: I was using the motion detection & HomeKit Secure Video plugins.  Maybe I'll try re-enabling it tonight.  Since disabling Scrypted I have no issues, so that definitely was the cause.""]"
1681653982.0	16-Apr-2023 07:06:22	Frigate live feed and scrub recording	captainR0bbo	2	12o9jdb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12o9jdb/frigate_live_feed_and_scrub_recording/	"Hey all,

I have Frigate NVR setup and integrated with HA. I am coming from Nest Cams in the Nest app, and we are very used to just clicking on the camera stream to see the live view, and being able to just scrub back in time right from there to see what happened over the last hour, day, week, etc without going to any other screen. either watch live or just scrub by pulling down with your finger to immediately go back in time. It’s seamless. 
But I’m sour with Google for what they are doing to nest secure. So trying to get away. 

It seems to see any frigate recording (not clip/event), you have to browse folders to find the day and hour recording and then view from there. This is not convenient, especially on mobile. 

Anyone aware of a setup similar to nest for viewing your 24/7 recoding quickly and easily?

Thanks!"	10	"['nickm_27: There is an experimental ui like the nest viewer that is hidden behind the experimental flag. It however has not been updated and doesn’t support mse or WebRTC live view\n\nBetter, fully supported recording viewing systems are on the roadmap', 'naynner: Can’t you click Recordings from the Cameras view for any camera (assuming you have motion or continuous recording on)?\n\nJust last week I turned on continuous recording for my cameras and do this to scrub through footage. Unless that what you’re already doing?\n\nI do have to click into the hour I want, but it’s from the web UI and not system folders. \n\nEven still, not terribly convenient on mobile.', ""Pleasant-Phase: If you're talking directly in home assistant then using the Frigate card, there is a timeline view. I haven't totally figured out how to get the clips to playback everytime but I think that's mostly user error 🤣"", 'captainR0bbo: Thanks! I’ll check out the experimental flag', 'captainR0bbo: This has promise. But it seems it depends on event detections being present and you cannot just quickly fly though all 24/7 recording.', 'captainR0bbo: Yeah, I know what you mean I think. But it’s too much clicking around in its current state. With nest cam you click once to open you camera feed and either watch live or just scrub by pulling down with your finger to immediately go back in time. It’s seamless. \nBut I’m sour with Google for what they are doing to nest secure. So trying to get away', 'captainR0bbo: I have that setup. But that is not 24/7 footage to just quickly scrub through as far back as you want.. those are clips you can select one at a time. But it’s too much clicking around in its current state. With nest cam you click once to open you camera feed and either watch live or just scrub by pulling down with your finger to immediately go back in time. It’s seamless. \nBut I’m sour with Google for what they are doing to nest secure. So trying to get away', ""Pleasant-Phase: That does sound very nice. I've no experience with Nest."", 'nickm_27: I believe the new v5 of the card has improvements for this', 'captainR0bbo: I briefly just tried the v5 card beta and got errors adding it to the dashboard. Will have to look into it more tomorrow to see what the issue it. \n\nThanks!']"
1681653247.0	16-Apr-2023 06:54:07	Passing only SOME lights from HA to Homekit	HassF	2	12o96sb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12o96sb/passing_only_some_lights_from_ha_to_homekit/	Is there a way to pass only 1 light from home assistant to home kit? Issue is ive added a few lights to home assistant that i already have in homekit and when i want to add a light thats not homekit supported from HA to HK it creates a bridge that forces me to add every HA light to HK. I only want to be adding my WLED strips to HK	3	['Waterbottle_365: Yes. You can either pass an entire category (lights, cover, etc) or you can filter to include or exclude certain entities.', 'Crazeeeyez: Have you looked at the HomeKit page?  https://www.home-assistant.io/integrations/homekit/. Look at filters.', 'HassF: Legend, filters is what I was looking for. Didn’t know it existed. I’ll look it it. Thanks mate.']
1681652158.0	16-Apr-2023 06:35:58	Made a smart solar production display to brighten my home! (There be dragons!) - used WLED to power the leds and connects to home assistant to automatically show my solar production, battery level and household usage every 5 seconds.....!	Hands-On-Katie	134	12o8p6e	homeassistant	https://v.redd.it/2hekx59y09ua1		25	"['Surph_Ninja: I dig the blinkenlights on the base. How’d you do that?', 'letsmakesometacos: Very cool but what do the lights represent?', ""GritsNGreens: Very cool! The other comment thread left me confused about whether this runs ESPHome or WLED? Maybe I'm missing something?"", ""bowlama: I've never loved anything in my entire life more than this idea right here. Saving this for some future inspo when I inevitably integrate some solar equipment"", 'Hands-On-Katie: I used some WS2802 LEDs and an ESP32 chip, then hooked them up through ESPHome into Home Assistant to control them!\n\nThe blinking effect gets more intensive, the more solar I produce. The outer ring is the battery level and the next ring is the household usage!', ""Hands-On-Katie: Outer ring is the house battery level as a percentage, next ring is the household usage of electricity.\n\nThen the centre part is basically black when there's no solar generation (eg at night) and furiously flickers when it's very high solar!"", ""Hands-On-Katie: I've got ESPHome controlling the ESP8266 from Home Assistant (easy firmware upgrades and so on), then using ESPHome, I installed WLED on the ESP8266 to run the effects locally.\n\nDoes this make sense? (Do say if I'm not being clear! I'll be writing a tutorial in the next few weeks on this if that helps!)"", ""Hands-On-Katie: Heheheh! Thank you, what a lovely comment! Although, surely bacon wins..... ;)\n\nKeep an eye out and I'll write up a tutorial as lots have requested, so hopefully that'll make things easier to copy!"", 'a_reif: Well done. How did you create the blinking effect? Is that some custom code? I am also trying to display my solar production using HA and Leds.', ""John_Yossarian: What's the WS2802 setup for the middle area? Like a circular LED matrix?"", 'letsmakesometacos: Oh ok now that actually looks easily readable at a glance, very cool.\n\nLooks like a sweet decorative piece too!', 'Mr_Incredible_PhD: I would *love* a peek at your sensor yaml/automation to see how you convert % of battery to % of LEDs illuminated.\n\nI always get lost in the templating and math functions of YAML :(', ""GritsNGreens: I've used both ESPHome and WLED and really wanted to achieve a setup like this basically to let ESPHome control a relay that's unrelated to the lights without having to custom build the WLED multi relay usermod (or deal with the added complexity of needing MQTT in the middle to control WLED).\n\nYou're being super clear, do you have a link to any docs on how you got the two running together? The docs I found made it look like ESPHome could control a WLED device, but I couldn't figure out if both could be installed on the same ESP.  Thanks its good to know this is achievable!!"", ""Hands-On-Katie: WLED is all you need - it has hundreds of inbuilt effects!\n\nI did customise them a bit to suit my needs, but nothing hard.\n\nI'll look to post a little tutorial or something in the next week or two if that's helpful?"", ""Hands-On-Katie: It's actually just a WLED segment with 'Color Twinkles' and the intensity being modified by Home Assistant to reflect the solar generation"", 'Hands-On-Katie: Exactly! I can basically set it to do anything, but this works really nicely at a glance.\n\nI might add additional rings or effects in future, but I like the simplicity as it is for now!', ""Hands-On-Katie: Of course, PM me and I'll dump the relevant bits!"", ""Hands-On-Katie: I kinda just tinkered around, but yes definitely possible!\n\nI'll cover that in my write up if it's of interest!"", 'a_reif: That would be awesome. Thank you in advance and I will have a look at WLed also', ""John_Yossarian: What is the actual physical hardware with the LEDs in the middle? Like a brand and part number? I get that it's WLED, but I'm curious about the guts under the dragons."", 'GritsNGreens: Very of interest, thanks!', ""SpacenoXx-2: I'm also interested in this write-up when it becomes available!"", ""Hands-On-Katie: A pleasure - enjoy WLED, it's pretty cool!"", ""John_Yossarian: Oh I see from your other post that it's a series of nested rings, pretty neat! The random pattern of Color Twinkles really obfuscates that they are just more rings, I thought maybe you had either used an LED matrix or hand-soldered a bunch of randomly placed LEDs."", 'Hands-On-Katie: Spot on! A matrix was my original thought, but it was easier than I thought !']"
1681650076.0	16-Apr-2023 06:01:16	Rpi 4 SD to SSD zigbee (ZHA) error and solved	Vast-Ad-9451	17	12o7r6o	homeassistant	https://www.reddit.com/r/homeassistant/comments/12o7r6o/rpi_4_sd_to_ssd_zigbee_zha_error_and_solved/	"Writing this post because I could not found an easy solution when running in this problem. So if someone has the same error, this is what I did to solve the problem.  
The honors of the solutions go the the respective authors/users, I am just putting it all in one post/page so people with the same issues can find it more easy.

Reading about the potential problems of using an SD card for HA (in my case with a RPI4 it just dies allot) I wanted to replace the SD with an usb SSD disk. But because it would be the first time for me to restore an HA backup I waited as long as possible to do the switch. Just nervous, I could not get things running again.

In short terms I followed this Guide  
[https://adam.ac/blog/raspberry-pi-home-assistant-from-sd-card-to-ssd/](https://adam.ac/blog/raspberry-pi-home-assistant-from-sd-card-to-ssd/)

But after the restore my Zigbee devices where nowhere to be found. Luckily I still had the SD card witch contained a working HA.  
So I rebooted the ""old"" HA with the SD card and followed this solution:  
[https://everythingsmarthome.co.uk/easily-backup-migrate-your-zigbee-network/](https://everythingsmarthome.co.uk/easily-backup-migrate-your-zigbee-network/)

Even after to switch back to the SSD drive I could not get the zigbee devices to work. None where responsive. Than after going to zigbee devices on my HA and manually switching the controller on it gave this error: **<Status.MAC\_CHANNEL\_ACCESS\_FAILURE: 225>**

At this point Im sweating like its 40 degrees celcius. The backup gave an error and following two guides my zigbee devices still where nowhere to be found.   
Then I found this   
*<Status.MAC\_CHANNEL\_ACCESS\_FAILURE: 225> means too much RF  interference or noise .  USB3 devices and particularly hard drives are  known to cause that.*   
*In one case, the problem was solved by using a different drive  enclosure. Also make sure your USB adapter is on USB extension cable.*  
From user Adminiuga on Github  
[https://github.com/home-assistant/core/issues/64404](https://github.com/home-assistant/core/issues/64404)

So I did this. Just extended the USB cable of the Zigbee dongle and voila, problem solved.  
It did honestly took almost 1 hour for the last 2 zigbee ligths to be found again. But now everything is running again."	2	"[""jlboygenius: Same. It pops up around d here occasionally. It's best to put the zigbee controller on a USB extension. Wifi and usb3 signals can mess with it and block the zigbee signals."", 'Slow-Marsupial5045: 100% this. I went through the same change to ssd and had the exact same issues. I’ve now got my usb dongle on a usb extension lead and as far away as possible from the ssd and it all works fine most of the time. Still occasionally see those errors pop up']"
1681647129.0	16-Apr-2023 05:12:09	First alert zwave smoke and co questions	Witty_Music_9101	5	12o6gm9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12o6gm9/first_alert_zwave_smoke_and_co_questions/	"Hello all, I have a question about the first alert zwave smoke and co. 
Currently all of my fire alarms are hard weird, so if one goes off, it will also trigger all the other alarms go off. My question is in home assistant, will I see all the alarms sensors detect smoke? Or just the one that detect smoke will update the sensor? Mainly I want to know if I can know which one is the one actually trigger the whole house alert?"	8	['peterxian: If you replace all your alarms with the first alert zwave combo, then yes you will see exactly which one goes off in Home Assistant, but you will lose the whole-house alert feature that if one alarm triggers, so do all the others — unfortunately [zwave alarms are not interconnected](https://support.firstalert.com/s/article/Z-Wave-vs-Wireless-Interconnect) and there is no automation to trigger remotely. (Note some jurisdictions require an interconnect feature so check your local regulations)', 'None: [deleted]', 'Drjjr: Instead of replacing your interconnected smoke alarms maybe this will work for you. \n\n[https://www.amazon.com/Ecolink-Wireless-Detector-existing-FF-ZWAVE5-ECO/dp/B071Z8NM8N](https://www.amazon.com/Ecolink-Wireless-Detector-existing-FF-ZWAVE5-ECO/dp/B071Z8NM8N)', 'otis_wrx: It will alert on the detector that senses the smoke/co. There are also separate entities for smoke + co (if running the combo detector) so you can see tell which has been detected.', 'tungvu256: i have it.\n\nif 1 goes off, the others will stay quiet, unless they are on fire as well.  not an issue as i have 3 sirens.  when anything is wrong in the house,  all 3 sirens go off to make sure even the neighbors know.', 'TheWingedDonkey: Can confirm, took mine down just yesterday for something so it’s right next to me. Not an interconnect style fire alarm.', 'ttgone: Does the kidde one work with first alert?', 'peterxian: No, but First Alert makes a similar relay, the RM4, which can be paired with the Zooz ZEN51 as well. I use this with my hardwired alarms. You know when they trigger, but you don’t know which one since they’re interconnected.', 'ttgone: Hey, thanks! Appreciate it']
1681644536.0	16-Apr-2023 04:28:56	Help to create simple Date Time Helper to subtract minutes	DaffyThug	0	12o5gn4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12o5gn4/help_to_create_simple_date_time_helper_to/	"I have been trying this for 3 days and about to throw my pi out of window. All I want is to subtract minutes from calendar event start time. There are tens of posts on HA forum but I couldnt make it work.

&#x200B;

>{{ (as\_timestamp(state\_attr(""calendar.xxx"",'start\_time')) - states(""sensor.google\_travel\_time"")|float \* 60)| timestamp\_custom(""%H:%M:%S"") }}

&#x200B;

This line shows correct time under Developer options> Template. I want to save this time into Helper with an automation.

&#x200B;

>service: input\_datetime.set\_datetime  
>  
>entity\_id: input\_datetime.time\_helper\_xxx  
>  
>data\_template:  
>  
>  time: >-  
>  
>{% (as\_timestamp(state\_attr(""calendar.xxx"",'start\_time')) - states(""sensor.google\_travel\_time"")|float \* 60)| timestamp\_custom(""%H:%M:%S"") %}

 I tried date time and time for helper but couldnt make it work. Any help is appreciated, thanks"	9	"['lastingd: https://community.home-assistant.io/t/subtract-x-minutes-from-datetime/484633/2', ""lastingd:     filter_timer_reset_air_filter_bedroom:\n      alias: Reset Air Filter Timer Bedroom\n      sequence:\n      - service: input_datetime.set_datetime\n        data:\n          datetime: '{{ now().strftime(''%Y-%m-%d %H:%M:%S'') }}'\n        target:\n          entity_id: input_datetime.air_filter_last_change_bedroom"", 'LurkerTalen: Your syntax for the time value isn’t right if you copied it across. It should be using {{ }} like you did in developer tools. What error message comes up when you run it the service call?', 'DaffyThug: I wont use it as a trigger. I will show the time on UI. I can subtract and get what I want  however can NOT save it into Date Time Helper.', 'DaffyThug: Yes using now() works. But it is not my case. I have an event for tomorrow morning lets say 08:00am. I have an automation that updates google travel time 2 hours before the event every 5 minutes. I want to show ""when to leave home time"" during those 2 hours before event.', 'DaffyThug: I tried all possible syntax and that was the last one I tried. I am starting to think it is either not possible on UI or not possible to set time for future.\n\nUsed hardcoded time just to test still same. ""states(""sensor.google\\_travel\\_time"")"" returns 35 as of now fyi.\n\n&#x200B;\n\n>service: input\\_datetime.set\\_datetime  \n>  \n>data:  \n>  \n>time: ""{{ (as\\_timestamp(""2023-04-17 08:00:00"") - states(""sensor.google\\_travel\\_time"")|float \\* 60)| timestamp\\_custom(""%H:%M:%S"") }}""  \n>  \n>target:  \n>  \n>entity\\_id: input\\_datetime.xxx\n\n&#x200B;\n\n>service: input\\_datetime.set\\_datetime  \n>  \n>data\\_template:  \n>  \n>entity\\_id: input\\_datetime.xxx  \n>  \n>time: ""{{ (as\\_timestamp(""2023-04-17 08:00:00"") - states(""sensor.google\\_travel\\_time"")|float \\* 60)| timestamp\\_custom(""%H:%M:%S"") }}""\n\nBoth says  **Invalid time specified: {\'\\[object Object\\]\': None} for dictionary value @ data\\[\'time\'\\]. Got None.**\n\nI put them as the last action of automation.', 'LurkerTalen: I get that error when I forget to put value as a string, either inside quotes or as a multiline string, but the syntax below looks ok for that, other then swapping {% %} with {{ }}.\n\nTry specifying a date, I remember trying some of the set operations with the date and time and running into odd errors, I’ve used timestamp instead. I needed both date and time though so I’ve not tried just time. Can you try specifying a date (any date) and see if that allows it to work?', 'DaffyThug: Thanks, timestamp worked in this way:\n\n>service: input\\_datetime.set\\_datetime  \n>  \n>data\\_template:  \n>  \n>  timestamp: >  \n>  \n>{{ (as\\_timestamp(""2023-04-17 08:00:00"") - states(""sensor.google\\_travel\\_time"")|float \\* 60)|float }}  \n>  \n>  entity\\_id: input\\_datetime.home\\_to\\_sabiha\\_leaving\\_time\n\nit does NOT work in this way:\n\n>service: input\\_datetime.set\\_datetime  \n>  \n>data\\_template:  \n>  \n>  timestamp: "" {{ (as\\_timestamp(""2023-04-17 08:00:00"") - states(""sensor.google\\_travel\\_time"")|float \\* 60)|float }}""  \n>  \n>  entity\\_id: input\\_datetime.home\\_to\\_sabiha\\_leaving\\_time\n\n&#x200B;\n\nFirst one is working as intented thanks again. Just wondering why second one doesn\'t work', 'LurkerTalen: All I see is that if that’s a copy/paste there’s an extra space in the timestamp value\n\n    \ttimestamp: “ {{ (as_timestamp(“2023-04-17 08:00:00”) - states(“sensor.google_travel_time”)|float * 60)|float }}”\n\t\n\nshould be\n\n    \ttimestamp: “{{ (as_timestamp(“2023-04-17 08:00:00”) - states(“sensor.google_travel_time”)|float * 60)|float }}”\n\t\nBut otherwise it looks ok. I’m not at home now so can’t test it']"
1681643971.0	16-Apr-2023 04:19:31	"Google devices asking ""Can I Have Your PIN"" for Tuya devices"	TheHeroOfCanton62	3	12o59k3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12o59k3/google_devices_asking_can_i_have_your_pin_for/	"Out  of nowhere, my Google devices (Nest Speaker and two Nest Hubs) have started asking ""Can I Have Your PIN"" when I try to turn smart lights on  or off via my Tuya devices.

There  was a previous post related to a PIN being required on a garage door  opener but I can't find any PIN within the Tuya app or within Google  Home, Assistant or my account. I tried 1234, 123456 and any other PIN I  usually use but nothing works."	5	"['async2: Maybe they talk about your Google account pin? Did you recently create one? It might not be related to tuya at all.', 'LunarstarPony: I thought Google usually only ask pin for  Locks :v but you should able to set a pin in HA Config', ""hirscheyyaltern: When you configure the Google Assistant integration through yaml you need to set a pin for locks and garage doors. I would assume that it's that PIN"", 'dryingsocks: set `secure_devices_pin` https://www.home-assistant.io/integrations/google_assistant/#secure_devices_pin', ""TheHeroOfCanton62: I checked and my google account doesn't have a PIN.""]"
1681643558.0	16-Apr-2023 04:12:38	Ikea Tradfri and Fyrtur Battery drain	hundsfutter	1	12o53td	homeassistant	https://www.reddit.com/r/homeassistant/comments/12o53td/ikea_tradfri_and_fyrtur_battery_drain/	"Hi!

Since I connected my Ikea Fyrtur + Tradfri to ZHA, the battery of both (blinds + remote) are empty in about 1-3 weeks.

When I used them standalone, the battery of both lastet months without a single charge/change.

What could cause that? 

I don't have any Hub or something, only my SONOFF Zigbee 3.0 USB Dongle Plus,TI CC2652P + CP2102(N) Zigbee USB-Stick with ZHA."	6	"['Mike_A_VA: Might try updating the firmware for the Tradfri remote.  One of the recent updates (Jan 25,  2023) addressed battery issues.  Mine were draining ridiculously fast. After update seem to be doing very well.  Running for months now with no fast draining.', ""Kitchen_Meaning5345: I have the same problem with the small tradfri remotes with the 1/0 button. I had two and the were eating battery's like candy. The STYRBAR remote and the shorcut button don't have that behavior.\n\nI'm using the Ikea stuff together with a Sonoff ZigBee bridge flashed with Tasmota. \nI don't have any problem with all the other battery powered ZigBee devices. So I think the have a bug in the program."", 'TheWingedDonkey: Interesting…\n\nHypothesis, since I don’t really know under the hood: I’m assuming increased amount of pings/communication are draining? Do you have other zigbee products in the “mesh” bridging through?\n\nFor context, I use a smartthings as a hub, raise and lower daily, and get about 1 month per charge. So 3 weeks seems a little more accelerated, especially if not motoring.', ""hundsfutter: I try to update it via Home Assistant, once I got fresh batteries. \n\nBut what about the Fyrtur? Is there a software update too? My Home Assistant doesn't update that..."", ""No_beef_here: I have several Tradfri remotes of 3 different types and all but one (?) of the On/Off dimmers eats their batteries over a weekend.\n\nThat last one has been fine from the beginning. Most of the On/Off dimmers were also ok in the beginning.\n\nTRADFRI on/off switch by IKEA of Sweden\n\nFirmware: 0x23079631\n\nIt's possible it's connected directly to the coordinator, if that could make a difference.\n\nIn configuration.yaml I have:\n\nzha: \n\n  zigpy\\_config:\n\nota:\n\nikea\\_provider: true\n\n&#x200B;\n\nSo is that correct and does it mean it should update my Ikea stuff automagically?"", ""hundsfutter: I have a few Aqara temperature sensors on my Home Assistant setup via ZHA. \n\nI also raise and lower the blinds daily (raise in the morning, lower in the evening). Before I connected them to my HA, i've done the exact same amount via the Tradfri remote and I haven't charged the battery for months.""]"
1681642606.0	16-Apr-2023 03:56:46	Home Assistant and other applications possible on a RaspberryPi?	HirteDerMeere	2	12o4pk7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12o4pk7/home_assistant_and_other_applications_possible_on/	"Hello, yesterday I tried to install Home Assistant on a RaspberryPi that already runs a perfect Pi-Hole with unbound for my needs. This should continue to run and not be replaced by a completely new image. I had Homebride running parallel to the Pi-Hole and co before, and had no problems with it. Apart from the fact that Homebridge has brought me purely nothing... 
So now I wanted to try it with HomeAssistant.

Linux is relatively unfamiliar to me, so I do not really know it, but so far everything has worked somehow was I intended. I also managed to run everything on a SSD, which is generally recommended when working with HomeAssistant.
Well, apart from the HomeAssistant.

Since I of course don't know Docker, I tried to install the core version.
Meanwhile I know that I need Python 3.10 to install HomeAssistant, and also that the error message I got during the installation with Python 3.9.2 only says that the HomeAssistant version can't be found...
As a noob, of course, this says nothing, although it says at the beginning of the installation instructions of the core version that Python 3.10 must be installed, but as a noob you may not know what that means and expect there maybe a short check and a corresponding note that Python 3.10 is required and not that Homebridge can not be found ... 

Well long story short. 
Does it do anything for me now to get to understand Docker and get Homebridge running on my current RaspberryPi in a container, does that include Python 3.10? 
As I said, am noob and have no idea if this is possible or I will be stoned by all the knowledgeable now, so please be gracious 😅

Or do I really need to install a HomeAssistant image on a new Pi?
Even with Pi-Hole, unbound and Homebridge the Pi got bored, so I don't understand why it can't be done with HomeAssistant."	9	"[""Reason_He_Wins_Again: You should learn docker simply because it's awesome and it is the easiest way to install a lot of systems.  Hardest part is understanding the paths."", 'peterxian: In my opinion yes, it’s worth learning a few docker commands because the home assistant docker contains all the required python versions and components, which makes it really easy to get running and upgrade (new releases come out almost weekly). There are good instructions on the docker website for installation, and the “docker-compose” tool makes it even easier to define, start, stop, and upgrade containers.', 'Ratio_Forward: Get a new SD and install home assistant image on it. I think you’ll find how powerful and easy HA is for doing many things.  I have HA, AdGuard home, Tailscale and dozens of integrations in HA that is far superior to manual install. And it’s automatically backed up in case the SD fails.', ""HirteDerMeere: It's done. 🥳\nI finally got Home Assistant to run as a Docker container through Portainer on my Raspberry Pi.\nThe first time I tried to do it completely from the command line, but somehow I lost track. I have linked the German tutorial which helped me.\nIt was really fast and easy.\nNow I just have to warm up to Home Assistant. Then I should get at least basic Docker understanding, that would probably be quite beneficial. 😅\nBut one step at a time. 😁\nhttps://www.heise.de/news/Wie-man-Docker-auf-dem-Raspberry-Pi-in-15-Minuten-einrichtet-7524692.html"", 'Pimentoso: I got rid of pihole and just use the embedded adguard inside HA.', 'tungvu256: i wouldnt touch anything with the rpi. it was great to get started because it was cheap.  but it was never good with reliability in the long term...\n\nim using a thin client as seen [here](https://www.youtube.com/watch?v=fEG7fDW56HE). rock solid in the 2+ years. so much better than the rpi and for around $60.  now if you want rock solid HA along with other stuff running as well, get a NUC.', ""HirteDerMeere: This is the first time I've heard that now. Did you have HA on SD card? I don't have any experience with Home Assistant. \n\nI just got it running yesterday. xD\n\nIf I like it and get along with it, I can make a backup and install it on another platform, so I'll keep that in mind. But for now it should be enough to try it out."", 'tungvu256: I had on mSD card when I started about 6 years ago. It was slow and ultimately crashed within 8 months.', ""HirteDerMeere: I don't know if you changed to an SSD on the RPI afterwards, but I was strongly advised to use an SSD directly in connection with Home Assistant because, as you wrote yourself, you will otherwise only have problems with an SD card. However, the use of SSDs on the Pi is also only possible for almost two years I think.""]"
1681642292.0	16-Apr-2023 03:51:32	Using Home Assistant Energy Dashboard with Solis Integration	The_Manoeuvre	0	12o4l59	homeassistant	https://www.reddit.com/r/homeassistant/comments/12o4l59/using_home_assistant_energy_dashboard_with_solis/	"Hey everyone,

I've been using Home Assistant's Energy Dashboard to track my solar generation and energy consumption for the past year. I recently added the Solis integration to bring in my solar generation data, but I've noticed that I seem to be losing older data.

Despite having my solar system installed for a year, I only have about two months of data showing in the graph. I'm not sure if this is a limitation of the Solis integration or if there's something else going on.

Has anyone else experienced this issue? Any suggestions on how to troubleshoot or fix it?

Thanks in advance for your help!

&#x200B;

https://preview.redd.it/b7637gkg88ua1.png?width=1584&format=png&auto=webp&v=enabled&s=41bb5f2bec1eb2224b3c9f9c1f9a6175a317d359"	5	['PM_ME_YOUR_BBW_BOOBS: I think the new Solis cloud has only been running for that time so would have that amount of data? I don’t think the Solis inverter uploads older data to the server and just does real time data so to speak. That could be why it’s not all showing up.', 'The_Manoeuvre: I’ve always been on the “new” Solis cloud, and to be clear I’ve had the integration running for about a year - but it’s like Home Assistant has dumped out the data?', 'PM_ME_YOUR_BBW_BOOBS: Oh I see… then I’m fresh out of ideas. I don’t use the cloud integration myself as I prefer a local solution with control and faster updates.', 'The_Manoeuvre: Any pointers / direction you can give to achieve that? This was one of my first forays into HA at the time - I’ve slowly gained the now typical distain for cloud *gives the side eye to my netatmo TRVs and thermostat*', 'PM_ME_YOUR_BBW_BOOBS: This is what I used initially to get going. I have forked this and made significant modifications to it including adding gird discharge support and automations to predict required over night charging SOC based on day ahead solar but this should give you a good basis to get started.\n\nI needed to buy a different Wi-Fi stick as I had a gen 3 which is not compatible with this so it’ll depend what Wi-Fi stick you have. There are links to supported ones on the GitHub page.\n\nIf you check the Facebook owners group (I know, shudder) there is a link to an online shop that has the gen 2 stick in stock. \n\nhttps://github.com/fboundy/ha_solis_modbus']
1681638169.0	16-Apr-2023 02:42:49	Replace HUE configuration for HA automation	LeafarOsodrac	1	12o2yvk	homeassistant	https://www.reddit.com/r/homeassistant/comments/12o2yvk/replace_hue_configuration_for_ha_automation/	"Hello, this is maybe a noob question, but as I'm a noob on HA configuration I need help. 
I got all everything from philips HUE and I want to replace the limited sensor configuration on HUE app with a automation on HA.

I got it work, but not as 100% as I want. Here is my code:
""alias: Sensor Corredor ON
description: """"
trigger:
  - platform: state
    entity_id:
      - binary_sensor.sensor_corredor_motion
    for:
      hours: 0
      minutes: 0
      seconds: 0
    to: ""on""
condition:
  - condition: numeric_state
    entity_id: sensor.sensor_corredor_illuminance
    attribute: light_level
    below: 20
action:
  - service: light.turn_on
    data: {}
    target:
      area_id: corredor
  - delay:
      hours: 0
      minutes: 1
      seconds: 0
      milliseconds: 0
  - service: light.turn_off
    data: {}
    target:
      area_id: corredor
mode: restart""

It turns the light when the sensor detects light below 20lx, but it turn it off after 1 min, even if it detects montion in the area. 
How can I improve this and resolve the situation where I want the action to restart if the sensor detects again montion before turn it OFF. 
The delay 1 min is just to test, the objective is to place with 3 or 5 min.

Another thing I want is the light to turn ON using the adaptive lighting I already have working, and not turnning on using the scene I got on HUE APP."	4	['LeafarOsodrac: No one can help me? Any expert?', 'sulylunat: I haven’t done this myself OP but it’s something I will probably want to tackle some day aswell. This was a problem I also faced in HomeKit, trying to replicate the Hue behaviour was tough. I’m going to take a look now as I’ve got some time but I’m nowhere near an expert at HA, so if you don’t hear back from me, it’s probably because I couldn’t figure it out. I’ve got a rough idea in my head, just not sure if HA has the capability to do what I’m thinking without some really advanced code that is above my knowledge level.', 'bikeidaho: Add a timer helper for the duration. \n\nReset it when motion is detected during the time period you want it.', 'LeafarOsodrac: Where shoud I define that? On actions?']
1681633311.0	16-Apr-2023 01:21:51	Flymo Easilife Go	stevecrox0914	2	12o10kb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12o10kb/flymo_easilife_go/	"Has anyone managed to integrate one of these lawnmowers into home assistant?

There are 3 positions in my garden either my dog or some foxes keep digging out. The lawn mower seems desperate to check all 3 locations multiple times during any run and will often get stuck.

It would be really nice to get the ""lifted"" notification picked up by home assistant so it can notify me.

I explain the issue in case people have alternative solutions"	1	"[""Breezeoffthewater: Sadly, there is no integration available. There is for the Husqvarna automowers (which Flymo is part of) because they have access to the API through the connect module - the Flymo range does not make use of this and the Home Assistant integration does not support bluetooth connectivity which Flymo uses to control the mower through an app on your phone.\n\nUnless someone wants to write the code to intepret the bluetooth comms - then we're out of luck unfortunately.""]"
1681630329.0	16-Apr-2023 00:32:09	Nabu Casa Remote Access	LazorEyez	8	12nztj3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nztj3/nabu_casa_remote_access/	"Morning all :)

I have signed up for a trial of Nabu Casa so I can remotely access Home Assistant when away from home - everything seems to be working nicely.

&#x200B;

If I was to have the Terminal & SSH add-on enabled, theoretically I could use that to SSH onto other machines on my home network and interact with them. I understand that technically with anything being exposed, there is always going to be a risk - but really I just want to understand how much of a risk really this is, how other people have approached this scenario etc.

&#x200B;

I mean, I could change my firewall settings on my other devices on my home network to block communications from my Home Assistant server..., but before I do that, I would like to see what others say etc :)

&#x200B;

TIA!"	9	"['tintieno: It depends on what you\'d like. If you did not add port forwarding rules to your router, ssh-ing from a terminal into home assistant will not be possible. You can however use a VPN like wireguard to enable this (which requires other ports to be opened up in your router).\n\nIf you use the ""terminal & SSH""\'s web ui I think you should be OK since that uses ingress (e2e encrypted, see [docs](https://www.nabucasa.com/config/remote/)). Just make sure to use 2fa for home assistant to be on the safe side. \n\nPersonally I use the VPN way off ssh-ing into HAOS.', ""404flyer: I think none of the other posts are addressing the specific attack surface that OP is concerned about. If you have remote access to the HA web UI (via Nabu Casa otherwise) AND you have the ssh add on, THEN someone who gains access to the HA web UI could use the web interface for the ssh add on to ssh to other machines on your network (no port forwarding, duck dns, tailscale, or firewall setup of any type required).\n\nSetting up key authentication as someone else mentioned could help if you don't setup a key from HA. You could also just block ssh port access form HA, as you mentioned.\n\nI actually use this access as a feature for the rare occasion I need to access some other RPi on my network while away.\n\nWhether or not this is an acceptable security risk would have be a judgement call up to you."", ""hirscheyyaltern: Set up your SSH so that I can only be accessed with key authentication. This is the most secure as only devices with the right key can access your SSH. \n\nI don't know if this is common practice but I personally change the default port for SSH from 22 because that's one more layer that people would have to go through to access my SSH"", 'Dramatic_Tangelo_207: I have used Nabu Casa for a couple of years and for me the rising annual cost had exceeded the value.  I began looking for another way to maintain my Home Assistant when away from my home network.  I struggled unsuccesfully with Wiregaurd, then DuckDNS, and eventually found Tailscale.  This has worked well for me and I have decided not to renew my subscribtion to Nabu Casa.  \n\nGood Luck to you,', 'LazorEyez: Thank you for replying 😃 no port forward rules have been added to my router. I think for now disabling password SSH is a good start and I will continue investigations to make it more secure 😃', 'kneticz: Open ports are open ports, whether they are non-default is not a barrier to entry, they will be port-scanned just the same.', 'LazorEyez: Thanks, yeah that is actually a good idea about disabling Password Authentication - just working on that now :)', 'TheTinkerDad: I pretty much agree with this, but in the end I decided to keep paying to support the development of Home Assistant.', ""gm_84: someone said tailsacale - I use it a lot. it doesn't open ports on your router (upnp) and you do not spend a lot of time on configuration, also speed is ok. for me and my fam. needs this so ev. what I need.\n\nand the first thing I do is always disable.password SSH, only keys!""]"
1681628767.0	16-Apr-2023 00:06:07	Frigate and Reolink E1	ewlung	3	12nz6y9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nz6y9/frigate_and_reolink_e1/	"**\[SOLVED\]** I am trying to install Frigate NVR and to integrate with HA later. Unfortunately, I just found out that two my cameras don't have RTSP stream. They are **Reolink E1 Zoom** and **E1 Outdoor**.

If you use any of this camera with Frigate NVR, how do you set it in the Frigate configuration?

Can you please share your configuration?

Thanks

**SOLUTION**: Apparently, this needs to be enabled manually. And you cannot change the settings using the mobile app. So, download Reolink Client for Windows, then follow this guide:[How to Set up Reolink Ports Settings via Reolink Client](https://support.reolink.com/hc/en-us/articles/900004435763-How-to-Set-up-Reolink-Ports-Settings-via-Reolink-Client-New-Client-/)"	9	"['Kaldek: I have Reolink cameras. Their feed is WAY better if you use the FLV stream than RTSP.  Frigate supports it natively:  \n[https://docs.frigate.video/configuration/camera\\_specific/#reolink-cameras](https://docs.frigate.video/configuration/camera_specific/#reolink-cameras)', '_Rand_: Check the settings for the camera, see if there is an http stream option, that can be used in frigate as well.', ""eatoff: E1 doesn't have any external streaming options. You need the E1 pro or even better, the zoom.\n\nThere is a docker container called neolink, that can convert non rtsp reolink cams to provide a stream."", 'circularlinkedlist: Glad you got that fixed. I am in the market for security cameras. Does this Reolink need an internet account to setup the camera or can I set it up without internet?', 'ewlung: Thanks, I found it. I can stream RTSP now from both cameras!\n\n**SOLUTION**: Apparently, this needs to be enabled manually. And you cannot change the settings using the mobile app. So, download Reolink Client for Windows, then follow this guide:  \n [How to Set up Reolink Ports Settings via Reolink Client](https://support.reolink.com/hc/en-us/articles/900004435763-How-to-Set-up-Reolink-Ports-Settings-via-Reolink-Client-New-Client-/)', 'ewlung: I found it, at least E1 Zoom and E1 Outdoor has RTSP, probably with the latest firmware. Following the below solution, I am now able to view their RTSP stream via VLC :)\n\n**SOLUTION**: Apparently, this needs to be enabled manually. And you cannot change the settings using the mobile app. So, download Reolink Client for Windows, then follow this guide:  \n[How to Set up Reolink Ports Settings via Reolink Client](https://support.reolink.com/hc/en-us/articles/900004435763-How-to-Set-up-Reolink-Ports-Settings-via-Reolink-Client-New-Client-/)', ""ewlung: I chose Reolink because people said it can be locally controlled. Although, I don't know how to do that yet. When I set it up for the first time, I used Reolink App and it asked me to create user for the camera."", ""hypermir: Reolink cameras that aren't battery powered don't require a cloud account, just a local account on the camera."", 'gm_84: find camera IP and try login from browser, I have  e1 zoom and I use webpage to manage cams settings app was need only to provide WiFi password.']"
1681627342.0	15-Apr-2023 23:42:22	"Diagnosing ""Error doing job: Unclosed client session"" errors"	Slow-Marsupial5045	1	12nyly5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nyly5/diagnosing_error_doing_job_unclosed_client/	"After a failed upgrade to 2023.4 I've rolled back to 2023.3.6 and was wanting to make sure my setup was stable before trying to upgrade again. I'm seeing lots of the above error in my logs but there's no context that I can see that would help me to track down what's causing it. 

Is there anything I can do to try and diagnose these errors? The usual turn it off an on again doesn't make any difference"	0	[]
1681626314.0	15-Apr-2023 23:25:14	making a switch do what another switch does	purrrkin	1	12ny6n7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ny6n7/making_a_switch_do_what_another_switch_does/	"I have two physical switches, i'd like to make one copy the behavior of the other. Is there a way to achieve that?

&#x200B;

I mean i could create automations that would react to state change of switch B and execute switch change of switch A. I was hoping to have something simpler to set up."	20	"['t_i_b: Just add switch B as a trigger to the automation which already has the switch A as a trigger ?', 'Low-Rent-9351: If they’re zwave or zigbee you can associate or bind the switches together and they will control each other directly.', ""Ok-Jury5684: Yeah, automation is the simplest way.\nCheck this blueprint, if you don't want to tinker it yourself: https://community.home-assistant.io/t/link-multiple-switches/424415"", ""ntsp00: > I mean i could create automations that would react to state change of switch B and execute switch change of switch A. I was hoping to have something simpler to set up.\n\nBut that's exactly what you're asking of HA? It only controls the switch, it could only ever be an automation telling the switch to change states. Anything else wouldn't involve HA and would be more like using the switch's firmware/wiring such as a 3-way setup."", 'otis_wrx: Create a switch group with the 2 switches you’d like to behave the same', ""purrrkin: That's what i ended up doing."", 'purrrkin: that\'s a good idea! I have 5 of these i was hoping to have some kind ""Copy A to B"" option.', ""purrrkin: Yes, they are, great idea. \n\nI don't see where it's configured in Zwave  JS, will google a bit."", 'purrrkin: I\'m asking HA to do something like ""make entity A an alias for entity B""', 'Ok-Jury5684: How it supposed to work?', ""purrrkin: Thanks, i'll look it up"", 'Shooter_Q: Could you add all 5 switches to a group? Then you only have to write a single automation such that change to any one switch will apply the same action to the group.\n\nIt’ll potentially be a lot of triggers, but only two trigger IDs for two paths in a single action chain of a single automation. \n\nI’m sure there’s some other tool/template to link all of those potential triggers together, but I’m not experienced enough for that one.\n\nEdit to Add: better idea, [a blueprint someone already did all the hard work on.](https://community.home-assistant.io/t/link-on-off-state-of-multiple-devices/460310)\n\nJust tested with a couple of lights. Working well for me.', ""purrrkin: Googled a bit, unsure how to do it correctly. Tried something but it didn't work. If you know of a doc on how to do it, please share."", 'purrrkin: Not sure, if i read it the documentation correctly you could turn on/off the whole group, which is not what i was looking for.', 'otis_wrx: What do you mean? Create a group, and then it’s only 1 entity you have to use in an automation instead of calling each individual entity', 'purrrkin: This worked for a while, then caused strange loop of lights being turned on/off in a loop. Also, i have zooz scene controller and i was unsure how to map all the buttons.', 'Ok-Jury5684: Exactly. :)', 'Ok-Jury5684: But switching one of them won\'t switch another. Moreover, group will be ""on"" if at least one of them is ""on"", or, 3xclusively, only if two of them are ""on"".\n\nGroup logic nothing to do with OPs problem. It\'s more like reverse interlocking.', 'otis_wrx: OP wants to copy behavior. A group switch accomplishes this (quite simply), and your scenarios can be avoided if automations are created correctly. If you or OP don’t want to do it that way, so be it.', ""Ok-Jury5684: Group can be made in two ways:\n- it's on, when all of included switches are on\n- it's off, when everything is off\n\nSo it won't work anyways.""]"
1681622541.0	15-Apr-2023 22:22:21	Moving from Arlo to Frigate	vebs	4	12nwlmx	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nwlmx/moving_from_arlo_to_frigate/	"Hey everyone,

I've been planning to drop Arlo and start a jorney with Frigate, but I'm little bit worried about the usability. I think I've googled my ass off but there's still questions when it comes to the non-local network.

- Notifications: you don't need to be on local network to make motion detected notifications work thanks to google firebase, right?
- Video library: can I watch clips or recorded stream outside off my local network without VPN like with Arlo?
- Live stream: the same as above ^
- Is the home assistant ios app able to handle everything needed like notifications, video library, live stream etc?

I really like the idea of Frigate, but losing usability after Arlo doesn't sound good especially as I'm not the only one using our camera system.

Thanks!"	9	"[""MGSkott: How do you plan on accessing to your Home Assistant instance (and thereby Frigate) when being away from your LAN?\n\n1 (Notifications): Can be done with the HA Companion App. Another solution is utilizing a Telegram bot.\n\n2 (Accessing video from off site) and 3 (live stream): \n* With Home Assistant Cloud from Nabu Casa\n* By opening/forwarding a port in your router (NOT recommend since I sense from your post, that you are not tech savvy enough to do it securely)\n* Via VPN to your local network or alike (Wireguard, OpenVPN, Tailscale etc)\n* Via Cloudflared (using a Cloudflared tunnel)\n\n4: Reading you post, I get the idea, that you are not completely understanding the whole picture: \n* Home Assistant on hardware on your LAN\n* The iOS-App connection to your local instance via HA Cloud or other ways mentioned in 2+3\n* How you need sufficient hardware and configuration to setup and run Frigate including the right IP camera's.\n\nI'm not saying that you cannot do it, but you might have a steep learning curve getting a working setup with Home Assistant, local IP camera's, running Frigate and also securely connecting from you HA Companion App. It can be done and I love my own setup, but it is not a plug and play solution like Arlo. On the other hand, you get total control of your own setup and data."", ""Kaldek: I can't speak for a huge amount of this but for remote access (to all of my stuff) I use cloudflare zero trust.  It's free for home use!"", 'SuddenlyFurries_: As others have pointed out, it depends on how you manage your remote access, but I use a Cloudflared tunnel and am able to accomplish all of those things you mentioned--device notifications on motion, access to recorded events, and access to live streams from anywhere. I replaced an Arlo doorbell and a few Arlo cameras with ONVIF IP cameras/doorbell and Frigate and never looked back.', ""vebs: Well, that was my actual question; how do I access the LAN. I've read people have moved away from Arlo to Frigate saying it was a great decision. That's why I thought there must a nice way to achieve Arlo's usability without VPNs etc because Frigate is something totally different.\n\nActually, I've skills to do pretty much everything when it comes to the networks/security. I really like my segmented network and tight fw policies. And my latest gen NUC i5 is doing automation tasks :-)\n\nI'd prefer to not pay anything for the management, so the cloudflare tunnel sounds very interesting. Thank you for your answer, appreciated!"", 'WimbashBagel: Had you considered zerotier / tailscale, any reason for cloud flare specifically?', 'ilikedatsyuk: Which doorbell cam are you using?', ""vebs: I'll try with cloudflared - it sounds good, thanks!"", ""Kaldek: No client required, it's just an authenticated web browser session and you can use your existing Google account.\n\nWhen I need IP access into my network I have a traditional VPN. CloudFlare can do that too I believe, much like Zscaler Private Access.  But my router does the VPN so it's more of a fallback if my CloudFlare docker host dies."", 'SuddenlyFurries_: Amcrest AD410. Works great with Frigate, has wifi and POE, and after the initial setup and integration with Frigate, you can delete the Amcrest app.']"
1681618818.0	15-Apr-2023 21:20:18	High accuracy mode bluetooth devices question	Witty_Music_9101	0	12nuxw9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nuxw9/high_accuracy_mode_bluetooth_devices_question/	In the location settings (high accuracy mode) i can choose multiple Bluetooth devices, does that mean my phone need to connect all of them or just one of them?	6	"['None: [deleted]', ""shakuyi: I don't know what the other guy is talking about. Clearly they don't use the feature. Only 1 connected device is required from the list to trigger high accuracy mode\n\nhttps://companion.home-assistant.io/docs/core/location#high-accuracy-mode"", ""mrtramplefoot: Just one, like I have my car and my wife's car added so it can use the high accuracy mode to arm and disarm the alarm regardless of the car I'm driving"", 'antisane: Huh?', 'Witty_Music_9101: Are u sure? How can i connect to HA Bluetooth when i am 1 mile away....', 'Witty_Music_9101: To be more clear, this is my phone app location', 'None: [deleted]', ""Witty_Music_9101: I am talking about the setting 'high accuracy mode only when connected to BT devices', you can find this setting in your phone app (sorry about my broken English)""]"
1681613460.0	15-Apr-2023 19:51:00	Help! - UniFi Protect Integration Final Setup	Formal_Enthusiasm576	3	12nsfnm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nsfnm/help_unifi_protect_integration_final_setup/	"So i've gone through and setup the integration  but in doing so, i get limited functionality, no detection events  or RSTP streams to my HA instance.

I've given my HA user (used to login to the UniFi instance) a local admin account to all applications.

I have followed [this](https://www.home-assistant.io/integrations/unifiprotect) for installation.

I have included screenshots of the available options and also of the UniFi side.

Any suggestions would be welcomed!

&#x200B;

&#x200B;

&#x200B;

\------->>>>> SOLVED<<<<---------

\------->>>>> SOLVED<<<<---------

OK I can confirm, DOING NOTHING other than changing the password, reinstalling all UniFi protect/UniFi integrations has solved this issue. I have also Created another area for the camera just in case it used the old settings or something for the old instance/entity.

\------->>>>> SOLVED<<<<---------

\------->>>>> SOLVED<<<<---------

[Camera integration information](https://preview.redd.it/2fd9m0zju5ua1.png?width=1600&format=png&auto=webp&v=enabled&s=8d86f93f99df2408709a3bbf883db8ae33da27cd)

[ UniFi Protect - Integration Settings](https://preview.redd.it/okuw58jet5ua1.png?width=867&format=png&auto=webp&v=enabled&s=2561b139af8fb4393cb99917b298a8e51730f93e)"	2	"['dish_rag: For the RTSP streams -- did you enable the RTSP streams on the UniFi Protect side for each camera as wanted as per ""Camera Streams"" setting in the linked documentation?', 'Formal_Enthusiasm576: yeah i think so - see below: \n\nhttps://preview.redd.it/slvc001jg7ua1.png?width=535&format=png&auto=webp&v=enabled&s=8207196d7d05c1ea249590f7c1d47c252b78564b']"
1681612575.0	15-Apr-2023 19:36:15	Problems with a Govee sensor not updating	smdifansmfjsmsnd	2	12ns0tx	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ns0tx/problems_with_a_govee_sensor_not_updating/	I’ve got two Govee devices - one is the combination indoor/outdoor temperature sensors that work great and have no issues and the other is the H5075 which has been stuck at the same temperature for days now.  Display shows a different temp than what HA says and seems to work fine.  I’ve tried restarting and reloading Govee integration.  Any other tricks you could recommend?	4	"['s0m3b0dy447: Did you check the logs and did you add a new device recently? I had the same issue with lights after adding a new one, and it ended up being to due hitting the API call limit, so I had to bump up the polling rate.', ""chicknlil25: Could be a bluetooth range/interference issue - do you have any nearby proxies?\n\nI've also found that removing those types of BLE devices from their associated apps tends to make them more reliable in HA, since I was made to understand that the app can interfere with when your HA's bluetooth is trying to scan the device for updates.\n\nTL:DR -  I added many bluetooth proxies and removed Govee BLE devices from their app, and have no issues."", 'smdifansmfjsmsnd: Think you’re right.  Moved the sensor to the same floor as my HA Raspberry Pi and started updating regularly.  I had a proxy in the same room.  Do you know if there’s a way to force it to connect to it instead of the pi?  Not sure how the connectivity works.', ""chicknlil25: I don't, I only know just enough about those bluetooth proxies to be dangerous (LOL!) ... but [they do have a Discord](https://discord.gg/y7Z9KFsV) that they're very responsive in. They were able to  help me with some issues I was having, I'm sure they can help you as well. :)""]"
1681606739.0	15-Apr-2023 17:58:59	control thermostats manually not working	MadSnow-	2	12npd3m	homeassistant	https://www.reddit.com/r/homeassistant/comments/12npd3m/control_thermostats_manually_not_working/	"I'm new to home assistant... maybe it's obvious but my tado thermostats can't be controlled ""by hand"".

I mean... technically they can but they won't reflect their status to HA so my dashboard is still on 24°C although my heater is turned down to 15 (by hand). How do I fix that?

Thx"	6	"['Shooter_Q: I don’t have that issue with my thermostats, but I have some shade devices on 433MHz that don’t report their status back to the hub, and therefore to HA, when controlled via dumb radio remote. \n\nIf no one comes along with a solution specific to that thermostat, then I would look for some way to poll the device in order to get an update on its status. If not available as a direct command, it’s sometimes achievable by sending a non-interruptive, innocuous command from HA.\n\nFor a thermostat, maybe this could be something like setting a fan to Auto when it’s always on Auto, for example. Perhaps try something like that to see if it returns the updated temperature?', ""m0oml: Tado is a brilliant product but doesn't play nicely with home assistant you can integrate them as a homekit device and get better control. Not an expert but I do wish I went with a different system."", ""MadSnow-: I've just upgraded from HK to HA... until yet, that's the only negative aspect I had"", 'LongjumpingCitron8: Just to be sure. I believe m0oml is talking about the [Homekit integration ](https://www.home-assistant.io/integrations/homekit_controller/) within Home Assistant.\nWith that integration Home Assistant can talk to Homekit enabled devices.\n\nSo maybe when you connect Tado to Home Assistant trough Homekit instead of the Tado intergration it can do more?', 'MadSnow-: Correct me if I’m wrong but I think they can do more in HA… e.g. window-open-detection or home/away/off modes', 'Shooter_Q: I have a humidifier that when exposed to HA through HK Controller gives me more controls and sensor data than when integrated directly. Might be worth trying to see if it will update status for you.']"
1681604690.0	15-Apr-2023 17:24:50	Adjustable Thermostats with HA, Honeywell Smart Thermostats, and YoLink room sensors	mkujoe	1	12nofmo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nofmo/adjustable_thermostats_with_ha_honeywell_smart/	"Hi,

I have successfully integrated YoLink and Honeywell with Home Assistant and am looking now to create a couple custom thermostat actions/triggers.

&#x200B;

I would like to be able to add a Button like ""Keep master bedroom cool"" that turns on Honeywell AC whenever yolink sensor reaches above a preset value and turns AC off, when it dips below a second preset value. Then I would like a similar button for heating. Those buttons are then replicated for each room that has a YoLink sensor in it. How can I best achieve this? Is there a template I can use / is there a Node-Red solution available?

Side-Node: I noticed when adding the Honeywell thermostat that it only allows me in HA to turn on/off the heating and cool, but not dial in a target value. Is this expected?"	3	"[""ManOfMuchKnowledge: my honeywell T10 pro has homekit and was added to HA with all its features intact... depending on your thermostat, you may want to look up specs or see if there is a homekit reset in its menu...\n\nfor room temps, I use honeywell room sensors for T9 & T10... there is an integration already in the thermostat to use one or all temps for runtime...\n\non a programming note: some advanced programming I do as an energy consultant, my alarm is tied into HA, and I use the window sensors... if any windows are open, the thermostat will turn off and not allow to be turned on... and once windows are all closed, the thermostat gets weather data from my weather station outside (also in HA) to set the correct cooling or heating mode... I also have some time delays in there as well... I'm also going to be tying my whole house fan into the mix, so it comes on when temps and windows are open... but I'm still modifying the whole house fan with HA compatible controls...\n\nhope this helps and inspires..."", 'mkujoe: hi, I confirmed that in dashboard view I can actually dial in the target value thanks.\n\nWould it make sense that I then provide ""fake"" thermostats for each room in the main dashboard? how would I accomplish this with HA/ node-red logic? Are there chances that several rooms would ""fight"" for the correct thermostat setting then? how would I prevent this?', ""ManOfMuchKnowledge: mine don't fight, but I have an engineered duct system that is balanced for airflow across the entire home... so when my unit runs, heating/cooling, my rooms are within 0.5-1.0F of each other...\n\nand I'm not a node-red guru, so I'm going to have to bow out for someone else to answer...\n\nif your rooms are too far apart from each other (my original duct layout was way oversized and airflow was so low, there was a difference of 10F from east-west side of home in summer), you won't get it under control with room temp sensors... I've tried, doesn't work...""]"
1681603412.0	15-Apr-2023 17:03:32	Lights on and off at specific time automation	BORIStheBLADE1	3	12nnuiz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nnuiz/lights_on_and_off_at_specific_time_automation/	"I'm migrating from Hubitat to HA and looking for advice when setting up lights automation. 

I have created an automation to turn on the lights but the question is do I need to create a new automation to turn off the same lights? Or is there a way to set a time off in the same automation?

Thanks"	9	"['SpencerDub: You could bundle this all in one automation.\n\nYou\'d set two triggers: one for the on time and one for the off time. Triggers operate on an OR principle, not AND, meaning that one any one of the triggers has to be met for the automation to fire.\n\nUnder the actions, you\'d set two ""If-Then"" actions. One would turn the lights on if the time is equal to your on time, the other would turn them off if it was the off time.\n\nYou could also skip the If-Then actions and just call the ""Toggle Light"" service, which turns a light off if it\'s on, and vice-versa. The risk with this is that the lights will toggle regardless of what state they\'re in—so if you manually turned them off before the designated off time, Toggle Light will turn them _back on_ when the automation runs.', 'mini_juice: Based on the responses above, which are all valid options, it feels like I\'m missing something here because it seems like your solution should be simple. \n\nIf you already have an automation working to turn on your lights and you want to turn them off after a delay, add an action called ""Wait for time to pass (delay)"", choose the amount of time, then add another action to turn off the light (usually ""Device"" for single or ""Call service - Light: turn off"" for multiple lights).\n\nAs you experiment with home assistant, you\'ll find that the ""Choose"" action is a great way to keep your on/off automations. YouTube is a great place to learn how to use it. I don\'t have a specific video in mind, otherwise I\'d list it here.\n\nApologies if I misunderstood your question. Hope this helps. Welcome to HA!', 'noneofyourbizwax: Instead of using automations you can download the [Scheduler component](https://community.home-assistant.io/t/scheduler-card-custom-component/217458?u=tidharmor)  from HACS and use it to turn lights and switches on and off using a simpler scheduling system.', ""eLaVALYs: As others have shown, it's possible to have one automation do this (trigger ids or using a delay). But I would just write two automations. Each automation is super simple and easy to read, there's no limit to how many automations you can have, and sometimes, you want different conditions for turning the light off than turning it on.  And if HA gets restarted for any reason, a delay won't persist and the turn off action won't happen. In general, I try to also avoid long delays."", 'chicknlil25: Same, basically, but I use the ""Choose"" action rather than ""If-Then"" ... I use the ""when triggered by"" condition, and then the light off (or on) service in the actions. My triggers are set up identical.\n\nHere\'s an example of one of mine in case that\'s helpful, u/BORIStheBLADE1: \n\n    alias: Ben\'s Bedroom Closet Light - Toggle\n    description: """"\n    trigger:\n      - type: motion\n        platform: device\n        device_id: 76ad0162fa4ebd6e65d69b7a85d7925e\n        entity_id: binary_sensor.ben_bedroom_closet_motion_sensor_occupancy\n        domain: binary_sensor\n        id: ""On""\n      - type: no_motion\n        platform: device\n        device_id: 76ad0162fa4ebd6e65d69b7a85d7925e\n        entity_id: binary_sensor.ben_bedroom_closet_motion_sensor_occupancy\n        domain: binary_sensor\n        id: ""Off""\n    condition: []\n    action:\n      - choose:\n          - conditions:\n              - condition: trigger\n                id: ""On""\n            sequence:\n              - service: light.turn_on\n                data:\n                  kelvin: 5000\n                  brightness_pct: 90\n                target:\n                  entity_id: light.ben_bedroom_closet_light\n          - conditions:\n              - condition: trigger\n                id: ""Off""\n            sequence:\n              - service: light.turn_off\n                data: {}\n                target:\n                  entity_id: light.ben_bedroom_closet_light\n    mode: single', 'BORIStheBLADE1: I will try this method out thanks.', ""ntsp00: Generally speaking you want to avoid delays or waiting for conditions to become true because those automations won't survive an interruption, such as a loss of power or HA restart. Since light on/off automations are quite simple to create by using multiple triggers (exampled in another comment), I definitely wouldn't recommend using a delay or wait condition."", 'BORIStheBLADE1: I will check this out, thanks!', ""mini_juice: That's a fair point!""]"
1681602698.0	15-Apr-2023 16:51:38	Electric floor heating thermosta	Virtual-Clue9814	3	12nnic3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nnic3/electric_floor_heating_thermosta/	"Hi all,

I've got a number of cloud connected smart devices at my home. I've got an instance of Home Assistant that I spun up a while back but haven't done a lot with it. As I'm adding more smart things to the house, I realise the need for a system such as HA to bring them all together. 

I'm about to do a couple of bathrooms and want to do electric slab heating. I can see there's a stack thermostats I can use. I'm happy to use Wi-Fi as we have good gear and really good coverage. I would like to avoid hubs if possible.

I want to have a thermostat on the wall in the bathrooms. I suppose I'll want to avoid Cloud Polling IoT devices. Anyone know of any thermostats that can be polled locally? I saw some people using Shelly 1PM with temp sensor addon. That looks simple to implement, but I'm not sure how to do it whilst keeping a physical thermostaton the wall. 

Any assistance apprecieated. Thanks."	6	"['Lectere: Step 1: throw out everything cloud based.', 'mikedm139: I’ve been using Mysa thermostats for my in-floor heat. I connected them to HA via the HomeKit intetegration to bypass the need for their cloud-connected app and they’ve been working quite well.', 'grahamr31: I did a schluter in floor under tile system in my basement bath, works fine in HA. I think it’s a cloud component, it’s programmed on the stat and we use HA for visibility more than actual control', 'sh0ckwavevr6: Check this one\n\nhttps://www.sinopetech.com/en/products/thermostat/floor-heating-thermostat/', ""Virtual-Clue9814: Thanks. \n\nThey're a pretty pricey thermostat. I'm sure they're good, but I'm surprised at the pricetag. I may also be  'cheap' 🤷\u200d♂️"", 'mikedm139: Yeah, I wish they were cheaper.']"
1681602122.0	15-Apr-2023 16:42:02	Why isnt this automation firing?	savijOne	2	12nn8ls	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nn8ls/why_isnt_this_automation_firing/	"Hello,

I hooked up the Moonraker integration through HACS. I can now read my 3d printers temps. I plugged a zigbee outlet into my UPS and my printer into the outlet. I can see the zigbee plug and control it in HASS. I can also see the temperatures from the 3d printer. I wanted to create an automation that will turn off the zigbee plug when the temperature on the printers extruder goes below 50 degrees for more than an hour. If I run the automation it works, but nothing happens on its own. Here is my yaml for the automation:  


    alias: Ender Turn Off When Idle
    description: """"
    trigger:
      - platform: numeric_state
        entity_id: sensor.spad_6046_extruder_temperature
        for:
          hours: 1
          minutes: 0
          seconds: 0
        below: 50
    condition: []
    action:
      - service: switch.turn_off
        data: {}
        target:
          device_id: a261e41904aa4bbc5a66b6a5bd76976f
    mode: single"	5	"['Shooter_Q: Have you already checked your temperature sensor history to see if it ran under 50 for a full hour?\n\nLikewise, automation history to make sure it’s been uninterrupted for that hour?', ""savijOne: I did notice that the temps were not showing up this morning, so I removed and Re added the integration. I'll do a good test tonight and watch the tracking. I was right next to the printer today after a print for many hours and it didn't turn off which prompted the question. I'll check the history and see, good idea."", 'Shooter_Q: How’d it go?', ""savijOne: Turns out what I thought was hours wasn't. History tells all. It's working fine, thanks for pointing out my stupid! Lol"", 'Shooter_Q: Good to hear. My girlfriend says I have the same problem.']"
1681600719.0	15-Apr-2023 16:18:39	Create location based automations	MadSnow-	2	12nmkth	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nmkth/create_location_based_automations/	"Hey there :) I’d like to create automations that only fires when:

- somebody is home
- no one is home
- last person leaves home and
- first person arrives home

But I really don’t know how…

I’m absolutely new to HA and me and my family are using HA companion app!

Thx"	13	"['sgxander: If each member has the companion app (or another tracker type device in HA assigned to the user then you can use the state of the home location which will be a number equal to the number of users at home. Therefore you can do automations with conditions that it is >0 (someone is home), 0 (noone is home) or with triggers when it goes to 0 (everyone has left) or when it goes from 0 to 1+ (people have arrived home)\n\nPersonally I have a helper in the mix too called presence. It is set by an automation doing what I describe above but the helper abstracts other automations so I can activate it if the grandparents are babysitting and we still want the heating to be on for them.', 'jmcgeejr: if you all are using the companion app you would use the device tracker for each device that is signed in, and then you use conditional automations.', 'SteveM363: We have the following.\n\nEach person has trackers (phone app and phone connected to router). Either of these at home gives a home presence.\n\nGroup of people who I need to track ie:\n\n`group: occupants`  \n  `- person.person_1`  \n  `- person.person_2`\n\nNow group.occupants covers each of the objectives above. First person arrives home sets occupants as home and stays as home if any or all are at home right up until the last person leaves, when group occupants is away.', ""Rizzo-The_Rat: I use the integration with my router to track if our phones are connected to the WiFi.  A routine triggers whenever there's a change and if both phones are disconnected it turns all the lights off. \nThe downside of this is if the Internet drops out, phones are smart enough to disconnect from the WiFi and revert to 4/5G... so the lights go off :D"", ""Sampyy3: I'm using different zones for every automation, trigger is when device enter or leave zone. I used for vacuum cleaning, when everybody leave a zone, than it's start. My favorite is for garage door, when I enter zone then garage opens, condition which door opens is connection to car bluetooth."", 'schmu17: What!!!!  I’ve been doing things wrong for 2 years now.  This is great!  I had created a group of people and used that.', 'MadSnow-: but then I have to specifically use one device... I want a whole group to trigger/not trigger. but how? :D', 'zSprawl: Haha there is more than one way to automate a home but yeah zone counts are nice. Also you want to allow guests somehow. This can be with a guest toggle or a fake user, or a binary sensor of some type. \n\nI work from home so I often go on short walks and don’t want my entire house to go into away mode, so I actually just have it send an “actionable notification” to my phone when the zone count for home gets to zero, asking “Enable Away Mode?” and I can hit yes right in the popup.', ""sgxander: Yes can't remember when zones changed to this, was last year some time but the count is very useful"", 'jmcgeejr: [https://www.youtube.com/watch?v=4FXLqsceBxo](https://www.youtube.com/watch?v=4FXLqsceBxo)', 'FastAndForgetful: Create a group with all of the phones. If one or more person is home, the status will be on. If nobody is home, it will be off. \n\nThe trigger is when the state changes from off to on or on to off. It should cover all 4. You can use the state as a condition on any automation you only want to run when you’re home (or away)', 'connelhooley: I set up some automation recently using zones and it works nicely', 'MadSnow-: <3 thx']"
1681599427.0	15-Apr-2023 15:57:07	Yes or no condition	schwartzasher	1	12nly2p	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nly2p/yes_or_no_condition/	I'm looking for a code or plugin I can do that does a yes or no if the weather is sunny, rainy, or going to be cloudy during the day. Basically, for me I want, if it's 20°c+ a day sunny or cloudy I want it to say yes. And if it detects rain in the daily I want it to say no, or under 20 it says no	5	"['mscottco: A template sensor should do that easily without the automation', '4241342413: Create binary sensor helper. \n\nChange it with automation', ""hirscheyyaltern: if its just for an automation, id use a template.\n\n&#x200B;\n\n`{{'yes' if (state_attr('weather.home', 'temperature') >= 20 and (states('weather.home') == 'fog' or states('weather.home') == 'sunny')) else 'no'}}`"", 'schwartzasher: What do I enable or where do I put this', ""hirscheyyaltern: Depends on what you're using it for. If it's for a template sensor you want to read up on how to make template sensors and if it's for an automation you want to put it as a template in the condition section""]"
1681598502.0	15-Apr-2023 15:41:42	Intercom / camera system with lock / deadbolt integration (2023)	WonkiWombat	1	12nlifn	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nlifn/intercom_camera_system_with_lock_deadbolt/	There are a lot of topics on this but some are dated now and a lot has changed. I’m looking for some hardware suggestions to replace a simple audio intercom which opens gates around a large garden of 7 entrances ideally i would like a video display, 2 way audio and deadbolt opening as well as people detection (use as intruder alerts), no cloud nonsense and perhaps futureproofed for matter etc.	0	[]
1681593498.0	15-Apr-2023 14:18:18	These bottom 4 cards show the power used in the past 24 hours, is there any way to reset them at midnight instead?	AllOutRaptors	40	12nj0xs	homeassistant	https://www.reddit.com/gallery/12nj0xs		11	"[""Rock--Lee: Check out Utility Meter integration (core). Use those sensors as the input and you'll get new sensors that reset every day."", 'JATD2020: I’m just wondering what’s so secret about those two devices😅', ""MowMdown:     - platform: history_stats\n      name: Heat ON time\n      entity_id: sensor.linear_status\n      state: 'heat'\n      type: time\n      start: '{{ now().replace(hour=0, minute=0, second=0, microsecond=0) }}'\n      end: '{{ now() }}'\n\nYou can use this, this specifically keeps track of my heat pump runtime when the heat mode is selected and running, you'll notice the start and end. These reset the statistics at midnight everyday."", 'Additional_Cook6785: Thanks for asking. I was wondering the same', 'nhees: Or use apexcharts via HACS', 'ShakeDazzling5417: Check out https://developers.home-assistant.io/docs/core/entity/sensor/ with reference to state_class attributes.', 'OwnEnd7870: This is the way to go. It’s the native solution for home assistant and it lets you track those devices in the energy dashboard -> https://www.home-assistant.io/images/dashboards/energy/devices-graph.png', 'richardwonka: Adjacent topic: Is it possible to reset a UM-sensor after each use? \n\nI have an electric outlet used for ev charging and ideally, I’d like to have a sensor for each individual use _and_ monthly summary.', 'Mr_Monkey_Shiner: Based on the fact the lamp card has a picture of a lamp and the secret cards have a picture at a man and a woman I would surmise OP and their significant other, are androids. 🤫', 'AllOutRaptors: Top secret 😉', 'Rock--Lee: You can also use a service call \\`service: utility\\_meter.reset\\` (which requires also using a tarif) and \\`service: utility\\_meter.calibrate\\`. You can alway use calibrate and set it to 0 with an automation that triggers after individual use.']"
1681592050.0	15-Apr-2023 13:54:10	mmWave Presence Detection and dogs?	Internal_Researcher8	0	12niabe	homeassistant	https://www.reddit.com/r/homeassistant/comments/12niabe/mmwave_presence_detection_and_dogs/	Ime seriously considering using mmWave Presence Detection but my one concern is that I'm planning to get a dog (shelter rescue).  What can I do to avoid having a lot of false alarms when having a dog while having these things?	7	"['Complete_Stock_6223: The only ""solution"" for this is putting the sensor near to the ceiling and reduce the detection distance to be  above 1.5m from the floor.', 'hirscheyyaltern: mmwave cant differentiate between you and any other moving object. it simply senses some sort of movement. and while you can adjust range and sensitivity, theres no functional difference between a human moving and a dog moving', 'JackDiesel_14: Only include the sensor on automations that were previously turned on with human input. For example if you walk into a room and turn on a light with a switch or motion sensor high enough to avoid false detections then the mmWave sensor keeps the lights on until you leave the room for 10 minutes. Your dog will likely follow you when you leave.', 'gordonthree: If you get the kind that can be tuned through a USB tool, I believe you can configure object height detection, or maybe it was mass detection? One way or another there is a way to configure the more expensive modules to ignore smaller animals. Question is, how do you tell the difference between children and large dogs?', ""antisane: Wouldn't this then fail on people sitting?"", ""Internal_Researcher8: That's what I was concerned about.  But I was hoping that as popular as these things seem to be, that someone might have found a way to overcome that obstacle.\n\nI didn't want to spend a bunch of money setting these things up only to be unable to use them once I do bring home a new furry friend."", ""hirscheyyaltern: It's really not possible without probably some pretty advanced knowhow. TI has a [write-up on mmwave](https://e2e.ti.com/blogs_/b/industrial_strength/posts/which-is-a-better-occupancy-detector-mmwave-or-pir), but as you can probably see, we're nowhere near that yet. At least, not in the consumer home automation space""]"
1681590066.0	15-Apr-2023 13:21:06	Audible Alarm Monitoring?	Deydradice	5	12nh9jn	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nh9jn/audible_alarm_monitoring/	"So my wife and I recently welcomed our son, and shortly after birth he was diagnosed with a couple of complex medical issues, one of which requires him to be on IV nutrition and G-tube nutrition for the foreseeable future. The pumps we are being issued run on batteries exclusively (non-rechargeable strangely enough, gotta replace every 24 hours, which is kind of wasteful…), and as far as I know do not have any networking capabilities. 

My wife and I are both heavy sleepers, and what we are most worried about is missing an alarm ( air detection, line occlusion, etc.) overnight. I’m curious if anyone is aware of an HA-compatible sensor that can alert on hearing a specific sound that we can set up to listen for a pump alarm and send us an alert that will hopefully wake one of us up. We’re open to pretty much any suggestions, so if anyone has a better solution please feel free. Thanks!

**Edit:** As many have rightly pointed out, HA is a hobbyist project and should not be utilized for life safety or personal security purposes. It was not my intention to replace any medical alarms or other safety mechanisms with HA, and I should have stated this in my initial post. We have already discussed using the baby monitor to amplify alarms at night, and we will thoroughly test this before going live. Mainly my aim was to augment the existing systems and have something similar to the smartphones the hospital staff use which sound alerts when a patient’s vitals go outside of their ranges. Guess I had some tech envy. 

I do appreciate those of you who reached out to express concern for our son, and concern for what appeared to be a risky plan for his medical care. I should have written the initial post better, clearly stating my end goal."	18	"['wsdog: Never ever rely on HA for anything health related. HA is a hobby software created to have fun with home automation. It is simply not designed to be medical grade reliability!!!\n\nRepeat: do not use HA for anything related to health or your personal security!', 'iddr64: Hospital-grade pumps usually have at a minimum RS232 if not Wifi output, and many have ""nurse call"" relays that can signal for attention when there\'s an alarm.  Without details like a brand name and model, it\'s hard to say what can be done with your specific pumps.\n\nThe lowest level of sensing would be things like an ESP32 running ESPhome, with an optical sensor installed over the alarm LED and/or a microphone or other sensor installed over the alarm speaker to detect when it\'s sounding.\n\nWhen it comes to power, have you considered a [battery eliminator](https://batteryeliminatorstore.com) and a UPS?', 'None: [deleted]', 'mosaic_hops: Amazon Echos can detect beeping and perform an automation in the Alexa app. You could have it trigger something in HomeAssistant using an alexa automation to trigger an HA automation. I wouldn’t trust it to be 100% reliable but it’s an option for quick and dirty.', ""generalambivalence: First, congratulations on the birth of your son. Parenthood is difficult enough without the extra challenges you are facing. I hope you can lean on your friends and family for support when you need it.\n\nI wholeheartedly agree with the other comments that you should not rely on HA for any life critical functions. \n\nIf you're looking at a truly long-term scenario where you'll need to be alerted to alarms, you could consider a legitimately trained service dog. Different kind of commitment, more expensive, but incredibly reliable and dedicated. Just a thought. Could also be total overkill for your son's situation.\n\nAgain, congratulations on your growing family!"", 'Possible-Opinion-984: See the cameras from tp link, tapo c225 can record any sound as an alert sound and then sound an alarm on your phone. Also HA can be linked to Tapo.', ""tungvu256: you can easily detect anything using an ESP8266 chip.\n\nhere's my [setup](https://www.youtube.com/watch?v=TeAnNzEkkeQ) to make a dumb doorbell smart. following the same concept, you can get that setup to detect the LED light or sound coming off your alarm.\n\nas for battery operated....im sure u can convert that to be powered by cords. and also plug that into a UPS for backup power"", 'Deydradice: Lol I get where you’re coming from, and believe me I appreciate it. My wife is certain that with the volume of the baby monitor appropriately set we would be awoken to any alarms, this was more of an augmentation to the alarm. It was never my intention to solely rely on HA for a medical grade purpose, nor to replace other such hardware. I guess I was jealous of our hospital’s use of smartphones to alert staff when certain patient conditions are met (low O2, high HR, etc.). I guess this was more of a could it be done than a should it be done, and I apologize for not addressing that in my original post. I do appreciate your looking out for our son :-)', 'Deydradice: Yeah I unfortunately don’t have the details of the pump (my wife met with the home care team), think she said one was a Moog Curlin 6000, and the other was a Moog Infinity. The prior model was the one that used a proprietary battery but from what I can see the Curlin uses C’s, so maybe the eliminator plus UPS is the way to go, but from what I’ve seen the Curlin doesn’t advertise if it has network capabilities that are accessible, and the Infinity advertises even less', 'Deydradice: Lol that’s what my wife wants to do. Me being the gearhead I naturally blew past the simple option and went looking for the complex and fancy lmao', 'antisane: I had the same idea when I read this, but the downside is if the internet goes down so does the detection.', 'Deydradice: Thanks!! Yeah it’s been a roller coaster so far…he was born in January and went right to the NICU. Had his third surgery Wednesday, and he’s passed the final hurdle. Just a few weeks observation and he should be able to finally come home :-) \n\nYeah I’m gonna add an edit to my initial post. I should have specified it wasn’t my intention to rely on HA or replace any alert systems with it, this was more about augmenting the existing alert system. I guess I was a bit envious of the hospital staff getting alerts sent to their hospital issued smartphones lol', ""iddr64: According to the [Moog manuals](https://moogmedical.wpengine.com/infusion/resources/), the Infinity doesn't have any connectivity and the Curlin only has a serial interface for downloading history using a proprietary app...which means there's no easy way to make them smarter.  \n\nUnfortunately, I don't think you'll find anything off the shelf to help with monitoring the pump for alarms. If you like tinkering you might be able to throw together some light and sound sensors with [ESPhome](https://esphome.io) that you can tape onto the pump and monitor in Home Assistant; otherwise as CallTheKhlul-hloo suggests, a baby monitor will give you 80% of the solution for 1% of the effort."", 'chriswood1001: Your wife is wise.\n\nPlease do not use the hobby for something this critical. The simple (and well tested) solution is best.\n\nIt may be worth reaching out to the medical equipment company to see if they have solutions as well', 'mosaic_hops: Yeah and so many other things could go wrong… another AWS outage, echo drops wifi or freezes, alexa integration credentials time out, etc.\n\nBut the beeping, crying and barking detection is pretty robust.', ""generalambivalence: My son was in the NICU when he was born. He was lucky, not a long stay, and even then it was the greatest day when he came home.\n\nSounds like your son is a fighter. I'm truly glad to hear that he'll be coming home soon! You seem to be preparing well. You guys will do great."", 'Deydradice: And that’s likely the angle I’ll take, the 80%/1% part. I like the idea of tinkering to see if it can be done, but my homelab is evidence of how my lofty projects can balloon out of control lol', 'Deydradice: Lol believe me I know that, just don’t want to admit it 🙃. See my response to u/wsdog; I was not seeking to replace a function, more to see if I could add additional alerting for at home.', 'Deydradice: Lol I’d be interested in that just for the barking detection, as long as we could restrict it to within our network through HA…don’t want to have to connect it to Amazon, they already guess my shopping ideas enough as it is 🙃']"
1681588715.0	15-Apr-2023 12:58:35	card-mod help	AnxiouslyPessimistic	2	12ngk3n	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ngk3n/cardmod_help/	"I am trying to use the Hue like card which the documentation says supports card-mod.  The below code shows the right height when in configuration mode, but when i save the card and view the card in the dashboard it has no effect.

&#x200B;

    type: custom:hue-like-light-card
    card_mod:
      style: |
        ha-card { 
        min-height: 300px
        }
    entities:
      - light.main_lounge
      - light.corner_lamp
      - light.lounge_corner_strip
      - light.tv_bars
    onClickAction: hue-screen
    icon: hue:room-living
    title: Living Room"	4	['generalambivalence: May or may not be it, but you should indent the `min-height: 300px;` one more level. Also, you are missing the semi-colon after it.', 'zSprawl: Sometimes a good !important after helps too.', 'FantasyMaster85: It’s almost 100% definitely this, not the indentation. If you’re seeing the code (which looks fine to me) correctly reflected in the preview but not in the actual finalized dashboard view, it’s likely another CSS rule being applied after yours.\n\nEDIT: the missing semicolon should definitely be there too, but definitely make the line:\n\n    min-height: 300px !important;\n\nIn case you’re unfamiliar with the above, the addition of the important means the styling rule *cannot* be overwritten by another styling rule that attempts to style the same element.', 'AnxiouslyPessimistic: Thanks all! So I’d also posted on the hue like cards creators GitHub issues and he responded saying they’re an issue with the way the cards working but update due soon. \n\nHowever I’ve learnt a few bits here so cheers!']
1681586359.0	15-Apr-2023 12:19:19	Need to get the max sun elevation in the last 24 hours	4241342413	1	12nfch8	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nfch8/need_to_get_the_max_sun_elevation_in_the_last_24/	"I need a history stats or statistics sensor to get the max sun elevation in the last 24 hours, i cant seem to figure it out. I have my sensors folder broken out in config, which i'm wondering if it is tripping up my yaml. 

I have sun elevation pulled into a separate sensor (from sun.sun)

sensor: !include_dir_list ab_config/sensor/

This is what i've tried:



    platform: statistics
    name: 'max_sun_elevation_yesterday'
    entity_id: sensor.sun_elevation
    state_characteristic: value_max
    max_age:
      hours: 24"	6	"[""eLaVALYs: You didn't say what the problem is, as in what's not working. Does the sensor not appear at all? Or does it appear and has the wrong value?"", 'hirscheyyaltern: 2 things,\n\n&#x200B;\n\n1: you can only have 1 `sensor:` entry in your config.yaml so make sure thats not the issue\n2: try putting it in the config.yaml  to narrow down whether the issue is with the actual sensor config or where youve put it', '4241342413: Good call. It doesn’t appear at all', 'eLaVALYs: And just to cover the basics, does the filename end in `.yaml` and have you restarted HA?', '4241342413: Yeah to both', 'eLaVALYs: What you wrote *looks* correct to me, I\'m thinking it\'s something small.\n\nSo when you go into Developer Tools, States tab, in the ""Filter entities"" box, and type ""sun"", your statistics sensor does not show up?\n\nIf it\'s not, I\'m gonna add this into my HA and see if it works.']"
1681583928.0	15-Apr-2023 11:38:48	Is it possible to create a Device via the RESTFul platform?	barndawgie	4	12ne31b	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ne31b/is_it_possible_to_create_a_device_via_the_restful/	"I have YAML to query my PurpleAir device locally and it successfully creates all of the expected sensors. This results in a bunch of sensor entities, but they are not grouped under any device.

Is there some way to update my YAML so that it creates a PurpleAir Device object over all of the entities?

YAML is below if it matters:
```
rest:
  - resource: http://192.168.1.242/json # Local IP of my PurpleAir device
    method: ""GET""
    scan_interval: 15
    sensor:
      - name: ""PurpleAir AQI""
        unique_id: purpleair_aqi
        value_template: ""{{ average(value_json['pm2.5_aqi']|int,value_json['pm2.5_aqi_b']|int)|int }}""
        device_class: aqi
        icon: >
          {% if (states('sensor.purpleair_aqi')|int >= 151) %}
            mdi:cloud-alert
          {% else %}
            mdi:cloud
          {% endif %}
        state_class: measurement
      - name: ""PurpleAir PM1.0""
        unique_id: purpleair_pm1
        value_template: ""{{ average(value_json['p_1_0_um']|float, value_json['p_1_0_um_b']|float)|float }}""
        device_class: pm1
        state_class: measurement
        unit_of_measurement: ""µg/m³""
      - name: ""PurpleAir PM2.5""
        unique_id: purpleair_pm25
        value_template: ""{{ average(value_json['p_2_5_um']|float, value_json['p_2_5_um_b']|float)|float }}""
        device_class: pm25
        state_class: measurement
        unit_of_measurement: ""µg/m³""
      - name: ""PurpleAir PM10""
        unique_id: purpleair_pm10
        value_template: ""{{ average(value_json['p_10_0_um']|float, value_json['p_10_0_um_b']|float)|float }}""
        device_class: pm10
        state_class: measurement
        unit_of_measurement: ""µg/m³""
      - name: ""PurpleAir Air Temperature""
        unique_id: purpleair_air_temperature
        value_template: ""{{ value_json['current_temp_f']|int - 8 }}""
        device_class: temperature
        state_class: measurement
        unit_of_measurement: ""°F""
      - name: ""PurpleAir Humidity""
        unique_id: purpleair_humidity
        value_template: ""{{ value_json['current_humidity']|int + 4 }}""
        device_class: humidity
        state_class: measurement
        unit_of_measurement: ""%""
      - name: ""PurpleAir Air Pressure""
        unique_id: purpleair_pressure
        value_template: ""{{ value_json['pressure']|float / 33.863886666667|round(2,'common') }}""
        device_class: atmospheric_pressure
        state_class: measurement
        unit_of_measurement: ""inHg""
      - name: ""PurpleAir Dewpoint""
        unique_id: purpleair_dewpoint
        value_template: ""{{ value_json['current_dewpoint_f']|int }}""
        device_class: temperature
        state_class: measurement
        unit_of_measurement: ""°F""
        icon: mdi:water
      - name: ""PurpleAir Signal Strength""
        unique_id: purpleair_signal_strength
        value_template: ""{{ value_json['rssi']|int }}""
        device_class: signal_strength
        state_class: measurement
        unit_of_measurement: ""dBm""
      - name: ""PurpleAir Firmware Version""
        unique_id: purpleair_version
        value_template: ""{{ value_json['version'] }}""
        state_class: measurement
```"	3	"['alex3305: Great question. There is even a [WTH](https://community.home-assistant.io/t/wth-cant-i-manually-create-a-device-from-entities/223247?u=alex3305) open about it. Honestly I never thought about it. But it seems possible to do with MQTT according to [this post](https://community.home-assistant.io/t/wth-cant-i-manually-create-a-device-from-entities/223247?u=alex3305) and [this post](https://community.home-assistant.io/t/create-device-manually-via-yaml/487457/3?u=alex3305).', '_avee_: FYI, looks like there is a native PurpleAir integration: https://www.home-assistant.io/integrations/purpleair/', ""barndawgie: Yes, I've looked at it - but it's based on Cloud Polling and I prefer to use the Local Polling model.""]"
1681583805.0	15-Apr-2023 11:36:45	Browser mod: navigate and close popup?	alex3305	10	12ne0s0	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ne0s0/browser_mod_navigate_and_close_popup/	"[**Solution in comments**](https://reddit.com/r/homeassistant/comments/12ne0s0/browser_mod_navigate_and_close_popup/jghs2z7/)

I was playing around on the frontend, wanting to redo my settings page on my dashboard. So I thought about creating a popup with [browser\_mod](https://github.com/thomasloven/hass-browser_mod) and adding a grid with buttons to navigate to the settings page. Something like this:

    type: custom:mushroom-chips-card
    chips:
      - type: entity
        entity: input_button.dummy
        content_info: none
        icon: mdi:cog
        tap_action:
          action: fire-dom-event
          browser_mod:
            service: browser_mod.popup
            data:
              title: Instellingen
              dismissable: true
              content:
                square: false
                type: grid
                cards:
                  - type: tile
                    entity: input_button.dummy
                    vertical: false
                    icon: mdi:star-cog
                    name: Lights
                    tap_action:
                      action: navigate
                      navigation_path: /test-dashboard/config-lights
                    color: orange
                    card_mod:
                      style:
                        ha-tile-info$: |
                          .secondary {display: none;}
                  - type: tile
                    entity: input_button.dummy
                    vertical: false
                    icon: mdi:thermostat-cog
                    name: Thermostat
                    tap_action:
                      action: navigate
                      navigation_path: /test-dashboard/config-thermostat
                    color: red
                    card_mod:
                      style:
                        ha-tile-info$: |
                          .secondary {display: none;}
                  - type: tile
                    entity: input_button.dummy
                    vertical: false
                    icon: mdi:application-cog
                    name: System
                    tap_action:
                      action: navigate
                      navigation_path: /test-dashboard/config-system
                    color: light-blue
                    card_mod:
                      style:
                        ha-tile-info$: |
                          .secondary {display: none;}
                  - type: tile
                    entity: input_button.dummy
                    vertical: false
                    icon: mdi:bell-cog
                    name: Security
                    tap_action:
                      action: navigate
                      navigation_path: /test-dashboard/config-security
                    color: green
                    icon_tap_action:
                      action: none
                    card_mod:
                      style:
                        ha-tile-info$: |
                          .secondary {display: none;}
                columns: 2

which resulted in this:

[Configuration popup](https://preview.redd.it/ufwv3ydkd3ua1.png?width=691&format=png&auto=webp&v=enabled&s=3d17ae7ab25a7aabb5354e9f46f79a472563921a)

However while `service: navigate` works, this doesn't close the popup. So I thought about using a browser\_mod service, for instance with [browser\_mod.navigate](https://github.com/thomasloven/hass-browser_mod/blob/master/documentation/services.md#browser_modnavigate):

    tap_action:
      action: fire-dom-event
      browser_mod:
        service: browser_mod.navigate
        data:
          path: /test-dashboard/config-light

But that still doesn't close the popup when clicking a button. I also cannot stack actions within a `tap_action` unfortunately. So I was wondering if there is any easy way to do so? Or am I missing something here?"	3	"[""alex3305: When looking at this again and browsing the community forums I stumbled upon [this post](https://community.home-assistant.io/t/browser-mod-turn-your-browser-into-a-controllable-device-and-a-media-player/123806/2034?u=alex3305), where I was triggered by the [`browser_mod.sequence` service call](https://github.com/thomasloven/hass-browser_mod/blob/master/documentation/services.md#browser_modsequence). Apparently I had missed that yesterday.\n\nHowever this was the solution for me:\n\n    tap_action:\n      action: fire-dom-event\n      browser_mod:\n        service: browser_mod.sequence\n        data:\n          sequence:\n            - service: browser_mod.navigate\n              data:\n                path: /test-dashboard/config-light\n            - service: browser_mod.delay\n              data:\n                time: 100\n            - service: browser_mod.close_popup\n\nI've also added the [browser_mod.delay](https://github.com/thomasloven/hass-browser_mod/blob/master/documentation/services.md#browser_moddelay) for a smoother transition.\n\nThanks all for your input."", ""flossraptor: `autoclose: true` works, but it also closes on mouse move for me.\n\nI've been looking for a better solution.\n\nEdit: I can't get this working at all now.\n\nEdit: Ok it has to be like:\n\n      tap_action:\n        action: fire-dom-event\n        browser_mod:\n          service: browser_mod.popup\n          title: []\n          data:\n            browser_id: THIS\n            autoclose: true\n            timeout: 5000"", ""hirscheyyaltern: i use the popup card for a slightly different use case, but had the same issue with wanting to stack a popup close and another action. you could work around it the same way i did using state-switch, probably in your case using hash, might not be quite as ideal for your situation though\n```\ntype: custom:state-switch\nentity: input_boolean.pc_state\nstates:\n  'on':\n    type: custom:layout-card\n    layout_type: custom:grid-layout\n    cards:\n      - type: custom:mushroom-template-card\n        primary: You're home. Do you still want to turn off the computer?\n        layout: vertical\n      - type: custom:layout-card\n        layout_type: custom:grid-layout\n        cards:\n          - type: custom:mushroom-template-card\n            primary: 'Yes'\n            layout: vertical\n            tap_action:\n              action: call-service\n              service: shell_command.pc_off\n          - type: custom:mushroom-template-card\n            primary: 'No'\n            layout: vertical\n            icon: ''\n            fill_container: false\n            tap_action:\n              action: fire-dom-event\n              browser_mod:\n                command: close_popup\n        grid-template-rows: null\n        margin: '-4px -4px -px'\n        padding: null\n        card_margin: null\n        layout:\n          grid-template-columns: 50% 50%\n          grid-gap: 1px\n          margin: '-4px -4px -10px'\n    layout:\n      grid-template-columns: 10%-20%\n      margin: '-4px -4px -6px'\n      justify-items: center\n  'off':\n    type: custom:layout-card\n    layout_type: custom:grid-layout\n    cards:\n      - type: custom:mushroom-template-card\n        primary: PC off. You can close this dialog.\n        layout: vertical\n      - type: custom:mushroom-template-card\n        primary: OK\n        layout: vertical\n        tap_action:\n          action: fire-dom-event\n          browser_mod:\n            command: close_popup\n```""]"
1681581993.0	15-Apr-2023 11:06:33	iCloud3	michaelthompson1991	3	12nd34g	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nd34g/icloud3/	"So I’ve decided to run my spare pi as a test kinda thing. I’m not confident with Yaml yet so I’m going to do it on my other pi so I don’t break my stable one.

I’m going to attempt iCloud3 but I’m wondering do I need the iOS app to try it out? And if so can you run 2 separate ones of HA in the iOS app?

I have access to it through the browser currently so wondering if I need both homes in the app and if you can do it on iOS?"	6	['zSprawl: ICloud3 leverages the FindMy the iPhone. So you’ll be able to see the same stuff of whoever’s account you use. I don’t think you can set it up twice but you ideally just get the one account able to see everyone’s location and you’re set. \n\nYou can also login to iCloud at iCloud.com and view the FindMy map there so if you’re setting this up for the family, for example, but you use an android, you can do all the iCloud config part on a browser.', 'michaelthompson1991: Cool thanks, thats what i thought. Everyone has iPhones and I have the HA companion app but my parents don’t, so I thought this might work. I assume because I have the HA app there’s no need to track my phone, just my parents? I would possibly like to also track my Apple Watch incase I ever go out without my iPhone, do you think this is possible? Also the iCloud integration had charging state for the Apple Watch but it wasn’t very reliable, does iCloud 3 have charging state like the normal iCloud integration does? \n\nMy plan was to just try it out and if I can do it transfer it to my main HA so I would only have it once.', 'zSprawl: Get the Findmy app working with all the data how you want it, then setup iCloud3 to pull it into HA. \n\nIf you can see your family in the FindMy app, you’re set. If you cannot, send them location requests and walk them through sharing their location with your iCloud account.', 'michaelthompson1991: Yeah I have all the people in findmy and the devices I want, sorted that when I set up family sharing. Would it actually be simpler to put HA on there devices?', 'zSprawl: The two things aren’t mutually exclusive. I use both the app and iCloud3. They work together to provide better geofencing and gps tracking.', 'michaelthompson1991: Oh cool, I never thought about using both!']
1681581777.0	15-Apr-2023 11:02:57	Need WiFi Smart Switches with Smart Light Mode	ChiPaul	1	12ncz3f	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ncz3f/need_wifi_smart_switches_with_smart_light_mode/	"Hopefully you all can help me out. I have a detached garage pergola, and our building is all brick. Zwave doesn’t go outside the walls of my home. I do have solid wifi outside the home (have an access point mounted outside, facing the patio/pergola).

I have 4 can lights (smart lights) that I don’t want to use a regular switch on, I’d rather use a smart switch that can tell the lights they should be on or off, versus actually cutting the power.

In my house for situations like this I use zooz z-wave switches, and they are great, can enable smart light mode so the power/load stays hot all the time, but I can still (via z-wave) cut the power if needed.

Does anyone know of WiFi switches which have a mode like this so they can provide power to the lights constantly (but still have some method of cutting the power, if needed for a power cycle or something) but would let me connect it with home assistant to send wifi based commands to these can lights?

Was trying to avoid flashing firmware onto some of the devices out there.

&#x200B;

Thank you!"	5	"['peterxian: Several vendors make smart switches [pre-flashed with Tasmota](https://templates.blakadder.com/preflashed.html) now, which can be easily programmed to decouple the button and the relay. I’d recommend either the CloudFree or Martin Jerry models.', ""Internal_Researcher8: You could use a Zooz z-wave RELAY.  \n\nI'm assuming the power starts in the house and you have  a line that runs out there.  Put your relay inside the house before the wire goes out there."", 'ChiPaul: Love the thought but the power running from the house is a 20 amp circuit that runs everything including lights, TV, speakers, etc.', ""Internal_Researcher8: Does the wiring run out there in conduit or is it direct buried?\n\nIf conduit, it might be worth pulling a new line out there.  Use 12/3 instead of 12/2.  Connect the light to the new extra wire instead of the one they're on now -- they can all share the same neutral wire.\n\nThen you can still have the relay in the house."", ""ChiPaul: It's conduit but we wouldn't be able to run more wire in it.. too many curves/turns to make it worth it. I really think a wifi switch is what's needed. Might need to give in and go down the flashing firmware route onto a TopGreener Scene Controller Switch.""]"
1681579938.0	15-Apr-2023 10:32:18	Since 4023.4.4 installed, my Bluetooth becomes inoperable about once a day.	Dansk72	1	12nc1o4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nc1o4/since_402344_installed_my_bluetooth_becomes/	"All my Bluetooth integrations sensors and devices, including Govee, Inkbird, and SwitchBot become unavailable about once a day since I installed 4023.4.4.  The problem is the Bluetooth integration will show ""Adapter with address x.x.x.x is not found""

The *only* thing that will bring Bluetooth back is to shut down HA, then *unplug* the power adapter to the NUC, wait a few seconds, then power it back up.  Nothing short of that will work, including restarting HA, or even shutting down HA and restarting if I don't unplug the power supply for a second."	4	"['None: [deleted]', 'zSprawl: Is your BT dongle on the supported list as a high performance device? There are a lot of BT sticks out there and a lot kind of work but don’t work entirely. \n\nAlso, is it on a usb extension cable to get it away from the ports and interference?\n\nI use a BT Rainbird and Switchbot without issue on 2023.4.4.', 'RemindMeBot: I will be messaging you in 2020 years on [**4044-04-01 00:00:00 UTC**](http://www.wolframalpha.com/input/?i=4044-04-01%2000:00:00%20UTC%20To%20Local%20Time) to remind you of [**this link**](https://www.reddit.com/r/homeassistant/comments/12nc1o4/since_402344_installed_my_bluetooth_becomes/jge29od/?context=3)\n\n[**CLICK THIS LINK**](https://www.reddit.com/message/compose/?to=RemindMeBot&subject=Reminder&message=%5Bhttps%3A%2F%2Fwww.reddit.com%2Fr%2Fhomeassistant%2Fcomments%2F12nc1o4%2Fsince_402344_installed_my_bluetooth_becomes%2Fjge29od%2F%5D%0A%0ARemindMe%21%204044-04-01%2000%3A00%3A00%20UTC) to send a PM to also be reminded and to reduce spam.\n\n^(Parent commenter can ) [^(delete this message to hide from others.)](https://www.reddit.com/message/compose/?to=RemindMeBot&subject=Delete%20Comment&message=Delete%21%2012nc1o4)\n\n*****\n\n|[^(Info)](https://www.reddit.com/r/RemindMeBot/comments/e1bko7/remindmebot_info_v21/)|[^(Custom)](https://www.reddit.com/message/compose/?to=RemindMeBot&subject=Reminder&message=%5BLink%20or%20message%20inside%20square%20brackets%5D%0A%0ARemindMe%21%20Time%20period%20here)|[^(Your Reminders)](https://www.reddit.com/message/compose/?to=RemindMeBot&subject=List%20Of%20Reminders&message=MyReminders%21)|[^(Feedback)](https://www.reddit.com/message/compose/?to=Watchful1&subject=RemindMeBot%20Feedback)|\n|-|-|-|-|', ""Dansk72: I'm not using a BT dongle, I'm using the Wifi/BT on the motherboard, which is the same thing that I did when I was using a RPi 4, about a year ago before I switched to the NUC.  \n\nI never had this problem until 2023.4.4, so I'm guessing they made some minor change in the code resulted in some small mismatch with the BT on my motherboard.\n\nI guess I need to roll back to 2023.4.3 just to see if it still does it."", 'zSprawl: Good call with the rollback. Good luck.']"
1681579471.0	15-Apr-2023 10:24:31	HA as VPN Gateway?	joseror	0	12nbtav	homeassistant	https://www.reddit.com/r/homeassistant/comments/12nbtav/ha_as_vpn_gateway/	"Hi all,

I want to know if my use case could be feasible for HA somehow:
1. I want a device in my network to connect to an external Wireguard provider (for geo restricted content mostly) and act as a gateway so other devices in the network can access the VPN network through it.
2. I’d like to create a helper in HA. If the switch is on then traffic from specific clients goes through the Wireguard gateway. If it’s off, then traffic goes out my ISP as usual. Ideally, I’d have separate switches per location so if Ireland is on then the devices use the Wireguard Ireland tunnel, if US is on then traffic goes through US tunnels. If both are off, then traffic goes through ISP.
Do you have any ideas on how I could tackle this even if it has to be outside HA? I have a mini PC with Proxmox so could spin off an extra VM if needed.

Thanks!"	2	"['ChipBeef2354: Tailscale', ""zoredache: You would probably have make the computer you run HA on act as a router. So it would need to be on a computer with 2 or more interfaces. It would have 1 interface behind the ISP router, and a second interface connecting to an internal switch.  If your ISP router was wireless, you would probably need to turn that off, and then run your own access points 'inside'.\n\nAnyway after you get a Linux box setup as a router, it should be relatively easy to install HA, and the setup a wireguard configuration, and then setup a switch that you can toggle, that calls an external script to bring the tunnel up, or down as needed.\n\nI suppose if you had a Linux-based router on a separate system from homeassistant you could a script connect to that remotely to toggle wireguard tunnels on or off as needed.""]"
1681576053.0	15-Apr-2023 09:27:33	Outdoor led strips under deck rails.	stevieo81	3	12n9zt6	homeassistant	https://www.reddit.com/r/homeassistant/comments/12n9zt6/outdoor_led_strips_under_deck_rails/	Can anyone suggest led lights for my deck rails that are straight forward setup? I looked at the wifi open source options but not really sure I can safely store the unit and transformer outside and secure it from moisture. So I'm hoping someone can recommend a product they've used. Worst case I can plug sometime basic with a ZWave outdoor plug but then I wouldn't be able to do different color scenes. Hopefully there's something out there. Thanks.	16	"[""Windex4Floors: If you're not wanting to do WLED with a weatherproof enclosure then I would recommend govee. They use quality LEDs and have weatherproof LEDs. \n\nIf you still are on the edge of DIY or buying, I can point you towards an ESP32, ip67 or ip68 LED strips with an aluminum channel, a weatherproof project box, some 12 or 16awg wire, and some weatherproof solder connectors.  That's all you should really need to make a much better system."", ""stevieo81: It's not that I don't want to do WLED, just wasn't really sure where to start. I don't always have a ton of time to put it all together and research it all. But if you can show me what the materials are needed, I have a soldering iron that I haven't used in ages I might consider giving it a go. I plan on mounting the strips under the wooden railing to create a glow at night. Not sure if people keep their esp32 enclosure out all year round, especially with winter weather here in Canada."", ""Windex4Floors: I don't have an exact item list but here are some soldering connectors I recommend. These will make the job easier and more resistant to weather. \n\n https://a.co/d/4JpFmuu\n\nWeather proof box: I think this would be fine to leave outdoors. \nhttps://a.co/d/bbjJ0sZ\n\nWires is pretty self explanatory.... \nLED is whatever you want/need. If recommend one with a dedicated white channel. \nFind any esp32. \n\nYou'd also need a power supply. This will depend on if you use 5v or 12v."", ""chicknlil25: FWIW, I've got my WLED (pre-made Dig-Unos) and their power supplies in [these units](https://www.amazon.com/gp/product/B009RX5H6S) (possibly different sized than what gets linked) for the lights that are on my front bushes.\n\nWe hit -25 F this winter and everything continued to work as expected."", 'stevieo81: I took the plunge and bought a wled dig Uno unit. Now I need to figure out my power needs for about 30ft of run led lights. Wish me luck my friend. 🤞', ""stevieo81: Thanks, I was looking up DrZzzz and I might give it a try. That enclosure looks decent. But curious isn't there usually a power supply that goes with the units and how's the airflow going to work with an enclosure?"", 'chicknlil25: [This page](https://quinled.info/addressable-digital-leds/) has some useful resources for determining power needs and such.', 'chicknlil25: Yep! I use [this power supply](https://www.amazon.com/gp/product/B07K9Q4DV1) and [these adapters](https://www.amazon.com/gp/product/B07C7VSRBG/) to wire to my Dig-Uno.\n\nDig-Uno did not however come with any way to wire it to the lights. I had previously bought Athom controllers (don\'t waste your time/money here, they suck), and used what they supplied to accomplish that. I think (and don\'t quote me on this!) that something like [this](https://www.amazon.com/mxuteuk-Connector-Adapter-Electrical-WS2812B/dp/B083GQPM3G/) or [this](https://www.amazon.com/mxuteuk-Connector-Adapter-Electrical-WS2812B/dp/B083GR7FQF/) would work, depending on the wiring setup of your lights.\n\nAside, depending on your timeframe and the style of lights you\'re looking for, I found AliExpress (yep, China) helpful in that regard. [These are the lights I\'m using](https://www.aliexpress.us/item/2255801019885999.html) (I wanted a more ""holiday light"" effect).\n\nAs for airflow - goooooood question. Given that they\'re watertight, I\'d guess that there\'s probably minimal (if any) airflow from outside in and vice versa. Hasn\'t been an issue for me so far, but you\'ve got me thinking about tossing a small temp/humidity (BLE) sensor in each box, just to monitor THAT.', 'stevieo81: Thanks for the link. I actually just posted on wled for some advice on the project but this site looks like it might be a good start. 😁', ""stevieo81: Thanks this is great info, so I guess you went with a 5v power supply for a smaller run of lights. Okay this makes more sense because a lot of the videos I see, people are pushing 12v huge power supplies so I guess you can get away with these water right enclosures for power supply brick. \n\nThe lights I'm thinking of getting are outdoor strips so I get a good glow happening under the railing and maybe under a few steps. So if we have friends over I pair it with an outdoor light sensor to kick on the lights and you get a bit of lounge feel. 😀"", ""chicknlil25: QuinLED (the Dig Uno creator, and where that other link went) also has a [discord channel](https://discord.gg/WdbAauG). They're very helpful there. They were able to help me determine that a fuse had blown on mine (never would have occurred to me!) and within 24 hours, everything was working again."", ""chicknlil25: For whatever reason (and it may have just been me and how I was trying to configure WLED), I could only get 3x strands of 50 bulbs working together at a time. Best that I can tell, even when I've got whites going, I should have more than sufficient power available with that brick to power more strands but. 🤷\u200d♂️ My overall is 300 bulbs, so it's two power bricks, two Dig-Unos, two of those water tight containers.\n\n[This is a recent video (St. Patrick's Day time) of my setup](https://photos.app.goo.gl/7AYPM6a4NS2fyd3L8). You can see one of the two watertight containers to the left of the smaller bush (and it looks like I'd opened it before doing that video). I've also since used electrical tape to secure those lights to the shepherd's pole.\n\nI suspect you can get something much...flatter...than what I'm using, easier to hide/disguise/secure."", ""stevieo81: Yeah I might jump in there if I get to the point where I get really desperate. 😆 But I think the previous link you gave me seems to have a ton of technical details on getting this perfectly off the ground. I'm definitely going to wire everything up at home and see how it runs before reassembling it outside on the deck."", ""stevieo81: Do you use a relay in your 5v setup to kill the power on LEDs when they're completely off? I guess to ensure it's not using any power?"", ""chicknlil25: I'm not to my knowledge, and to be honest, I wouldn't even know where to start with that. I know the Dig-Uno (and it's cousins) can be customized instead of being pre-configured, so perhaps that's easy enough to do?\n\nI could perhaps toss a smart plug on the main outlet, and just toggle it on/off around the times the lights are being used, since mine are on at set times."", 'stevieo81: Check out DrZzs [YouTube video ](https://youtu.be/2OWGJA5FbqY).']"
1681573025.0	15-Apr-2023 08:37:05	Home Assistant + Cameo …Could I use custom announcements from a Celebrity?	Sufficient-Call1311	2	12n7v4h	homeassistant	https://www.reddit.com/r/homeassistant/comments/12n7v4h/home_assistant_cameo_could_i_use_custom/	I was just thinking about how funny it might be if I could get a celebrity on Cameo to read a few custom phrases, and then pull the audio from the video and use it in Home Assistant for automations. This is technically possible, right? Are there any limitations or concerns? (Is this an awesome idea, or the cheesiest thing ever?)	7	"[""Rock--Lee: Yes, it's possible and yes, it's the cheesiest thing ever. On par with having a voice say: welcome home master.\n\nIt's cool to show people, but actually living with that is terrible and get's old real quick.\n\nBUT, if you like this then you do you ;)"", ""generalambivalence: Years ago, when I had a dedicated Garmin GPS, I would always use John Cleese's voice for verbal directions. I loved it."", 'chazwhiz: As long as we’re skirting ethical considerations and not considering whether it’s a privacy violation, you could also use ElevenLabs to clone a celeb voice and have whatever prompts you like.', 'Sufficient-Call1311: I remember that! He was one of the first celebrity voices. “At earliest convenience, turn the automobile around, so that it is… the opposite direction in which you are currently, which is not the correct way at all.”', ""theloneranger08: I'm gonna have Obama put me to sleep now"", 'Sufficient-Call1311: I didn’t realize this was an option—I was just thinking about this idea and lamenting that Majel Roddenberry, Don Pardo, and Gary Owens are no longer with us…', 'generalambivalence: Lol exactly. Heard it in his voice']"
1681571744.0	15-Apr-2023 08:15:44	Converts anything to IoT with ESPClicker and Home Assistant	PricelessToolkit	282	12n6xwb	homeassistant	https://youtube.com/watch?v=Gc4yCd9yvuE&feature=share		39	"['PricelessToolkit: [https://youtu.be/Gc4yCd9yvuE](https://youtu.be/Gc4yCd9yvuE)\n\nMade a simple project that will allow you to convert various household appliances into IoT, all files are available on GitHub', 'sokl: Really cool. Also price point is ok.\n\n\nIf we could have ZigBee esp32...', 'SASDOE: Great device and video!\n\nI basically would like to do the exact same but for a device with capacitive buttons. I’m having a hard time finding information about how I would proceed online, does anyone have some search terms or resources I could use?', ""DaMadOne: I've wanted to do something like this for my air purifier. Mine has 3 LEDs for low, med, high fan speed. It would be nice to be able to also hook into them to get feedback  to know what speed it was on and also how many clicks would be needed to switch to the desired level. Plus I'd know if it was even on if no LEDs were lit.\n\nThere is an LED that lights up when it's time to change the filter and also one for when it's time to change the UV bulb. Having notifications for those would be nice as well, but less necessary as on/off and fan speed setting.\n\nIs that something that would be possible with this?"", 'ML2128: Share this to r/esphome !', 'MrBoobSlap: Great work!\n\nI have been wanting to build something similar interpret the communication buses on my washing machine, dishwasher, and dryer. I have the skills, I just lack the motivation to do so. 🙃', 'codyc1515: What does this do over ESPHome?', 'marioPS: At the risk of being shouted down, is this comparable with HomeBridge?\n\nThanks in advance!', 'kitanokikori: Great project, looks super useful - thanks for sharing', 'Dizer12: Awesome project !', 'rickestrada: This is great! Thanks for sharing 👍🏻', 'tiooan: Why did you chooise ESP8266 and not ESP32?', 'nickctn: This seems really interesting and I might want to try it on some fans and my dryer.  If we get the pre-built one from your store, is it preprogrammed? Or do we still need that special adapter to get it programmed the first time around?', 'AwAcS_11: This is great. Thank you\nThough I have been looking for such projects and someone in India made one with esp32. Pasting a link to their site\nhttps://www.techiesms.com/product/all-in-one-home-automation-v3/', 'alex3305: [GitHub link](https://github.com/PricelessToolkit/ESPClicker)', ""SirDarknessTheFirst: The ESP32-C6 does support Zigbee and Thread. I've gotten my hands on a few modules but unfortunately the stable version of the IDF doesn't support it yet."", 'PricelessToolkit: Thanks, I chose epp8266 on purpose to keep the size small. if done with esp32, it will be bigger, because of more output/input.   ZigBee.. I never wrote firmware from scratch', 'PricelessToolkit: Hi, almost every capacitive button has a controller with high or low output, so you can connect your esp or ...... directly to it', 'DigitalUnlimited: If you have an old keyboard not using any more you got a ton of em.', ""PricelessToolkit: Hi, yes it is possible but size.... will be a little bit bigger, I'll see what can be done, if I find 4 x optocoupler in one small package, maybe, I will do v2"", 'jakabo27: I made my air purifier smart! I used an ESP32 placed in between the control board PWM fan signal and the fan. The ESP32 sends a pwm signal for the smart home set fan speed. It also monitors the control board signal and if that signal changed (by user pressing a button) then it toggles a relay to switch the fan signal to the signal given by the control board', 'PricelessToolkit: oups i forgot to do it :) Thanks', ""PricelessToolkit: > I just lack the motivation to do so. 🙃\n\nI totally understand you!! :)   I wanted to interpret the communication buses  too, but it wouldn't be for everyone"", 'PricelessToolkit: firmware is ESPHome', 'PricelessToolkit: Hi :) Firmware is (ESPHome)', 'PricelessToolkit: My pleasure', 'PricelessToolkit: Thanks!!!!', 'PricelessToolkit: glad you like it :)', 'PricelessToolkit: Size and it have enough outputs.', 'PricelessToolkit: By default, I program it with ESPHome, ""so it has wifi hotspot""\n\n1. You have to create a new device in ESPhome then  compile it\n\n2. Connect to the wifi network of ESPClicker\n\n3. upload firmware', 'PricelessToolkit: different concepts and size but thanks for the link', 'PricelessToolkit: thanks!!', 'Hochkomma: I have learned my lesson with the eps32-s2. Just wait until the software support is there until you even try to go into production for your home.', 'Kendrome: They have newer ESP32 chips the size of the 8266.', 'DaMadOne: Awesome! If you do, please let me know.', ""dryingsocks: seconding the LED sensors, that'd be really useful to have. There's a lot of non-smart devices I'd only need to read the status LEDs of to integrate them into HA, like washing machines"", ""SirDarknessTheFirst: Absolutely. The C6s are cool though and I wasn't sure how available they'd be so I jumped at the chance to get them on launch."", ""PricelessToolkit: thanks I'll take a look"", 'PricelessToolkit: If I do there will be a new video so you will know']"
1681571328.0	15-Apr-2023 08:08:48	Any tag readers that aren’t adonno ESP?	TundraKing89	1	12n6mta	homeassistant	https://www.reddit.com/r/homeassistant/comments/12n6mta/any_tag_readers_that_arent_adonno_esp/	"Hey All. I’ve built a few of the adonno ESP tag readers and they work OK, but are not reliable enough. They constantly drop connection to my router and just seems like a toss up any given day if they’ll work. I have one about a foot from my router and it still drops, so not sure what the deal is with these things. 

Is there anything a bit more robust out there? Thanks!"	1	['muppie87: I also have a few but they are rock solid. Maybe something else is the matter?']
1681569215.0	15-Apr-2023 07:33:35	Re-purposing a Water Sensor to detect status of Appliances	InternationalNebula7	2	12n4xm0	homeassistant	https://www.reddit.com/r/homeassistant/comments/12n4xm0/repurposing_a_water_sensor_to_detect_status_of/	"I have an Aqara water sensor that I am considering re-purposing to detect the power status of my range/oven unit to evaluate if this was left on after leaving the house. Has anyone been successful in doing this?

My range has two red LED lights that signal the warm/power status of the range/oven. I am thinking I may be able to wire the positive and negative terminal of this light to the water sensor to detect completion of the circuit. If the voltage passed through the LED is too high, I may need to use a relay switch to protect the water sensor circuitry. Is a relay switch necessary? What voltage would be considered too high for the Aqara water sensor?

Thanks for any and all feedback."	4	"['zSprawl: Here is what I did for my stove using contact sensors and tiny sticker magnets. \n\nhttps://reddit.com/r/homeassistant/comments/xfejrc/dont_forget_to_turn_off_the_stove_burners/\n\nI would **not** try to pipe power through a water sensor under any circumstances.', ""sblessley: If I understand you right... *noooooo.* The water sensor is relying on a change of resistance between the two points, your range's LED is providing a voltage. Not what the sensor had in mind. If you had a relay that operated off the LED voltage and provided a dry contact closure, that *might* work, but the control logic for the range is designed to provide current for the LED, not the LED plus the relay. A transistor circuit could respond to the LED voltage, but that's tricky too - and you'd need some power for it.  \nA photodiode might work (it would depend on the sensitivity of the water sensor, and the voltage at the sensor contacts), and you'd have to deal with ambient light.   \nIf I have a completely wrong idea about your approach... apologies."", 'hirscheyyaltern: the aqara water sensor is simply an open circuit. water underneath the sensor simply completes the circuit, changing the state from off to on', ""InternationalNebula7: I think you have more understanding than I. But you're navigating the question correctly. A relay that operated off the LED voltage and provided a normally open circuit, but closed circuit when the voltage was relinquished was my idea for the project.""]"
1681569146.0	15-Apr-2023 07:32:26	My HA is creating a lot of network traffic -- how to diagnose?	simplex5d	2	12n4vh3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12n4vh3/my_ha_is_creating_a_lot_of_network_traffic_how_to/	"I'm running HA (HAOS latest) on an RPi4. My router shows my HA machine creating a surprising (to me) amount of traffic, several MB/min both up and down. 
Can I install a traffic monitoring tool like wireshark or ntop or glances on the HA machine to see what's going on, which integration or whatever is creating all that traffic and where it's going? I'm fine sshing in, installing packages, etc."	2	"['mitchsurp: Any cameras in your HA install?', ""simplex5d: Aha, yes. 4 Arlos. That's likely it!""]"
1681568424.0	15-Apr-2023 07:20:24	turning on automation with the latest trigger	sh4hr4m	2	12n48og	homeassistant	https://www.reddit.com/r/homeassistant/comments/12n48og/turning_on_automation_with_the_latest_trigger/	"Hi Everyone,
I'm new to home assistant.
I've made an automation in order to turn off the heating and my time-based automations for the heating when we leave the home. And I want to turn the automations with the last trigger on when we arrive home.
Does the action ""Automation: Trigger"" do what I need? When no, how could I implement my automation?
Best Regards,
Shahram

My Time-based automation are like this:

alias: Bedroom Heating
description: Bedroom Heating
trigger:
  - platform: time
    at: ""20:00:00""
    id: ""2000""
  - platform: time
    at: ""22:00:00""
    id: ""2200""
  - platform: time
    at: ""06:00:00""
    id: ""0600""
  - platform: time
    at: ""08:00:00""
    id: ""0800""
condition: []
action:
  - if:
      - condition: trigger
        id: ""2000""
    then:
      - service: climate.set_temperature
        data:
          temperature: 20
        target:
          entity_id: climate.trv_bedroom_moesthermostat
      - device_id: 831d808d4b966b7349031d44ac743191
        domain: climate
        entity_id: climate.trv_bedroom_moesthermostat
        type: set_hvac_mode
        hvac_mode: heat
  - if:
      - condition: trigger
        id: ""2200""
    then:
      - service: climate.set_temperature
        data:
          temperature: 23
        target:
          entity_id: climate.trv_bedroom_moesthermostat
  - if:
      - condition: trigger
        id: ""0600""
    then:
      - service: climate.set_temperature
        data:
          temperature: 20
        target:
          entity_id: climate.trv_bedroom_moesthermostat
  - if:
      - condition: trigger
        id: ""0800""
    then:
      - service: climate.set_temperature
        data:
          hvac_mode: ""off""
          temperature: 14
        target:
          entity_id: climate.trv_bedroom_moesthermostat
mode: single

My arriving-home automation looks like this:

alias: arriving home
description: Things that should be done when we arrive
trigger:
  - platform: device
    device_id: 69652ae4a0a708d9e6a5baa5e33c6463
    domain: device_tracker
    entity_id: device_tracker.eli_s_handy
    type: enters
    zone: zone.home
    id: ELI1
  - platform: device
    device_id: 9fbe178f115d8b80fce0a1ad85359f7c
    domain: device_tracker
    entity_id: device_tracker.sha_s_handy
    type: enters
    zone: zone.home
    id: SHA1
condition: []
action:
  - if:
      - condition: and
        conditions:
          - condition: not
            conditions:
              - condition: zone
                entity_id: person.eli
                zone: zone.home
          - condition: not
            conditions:
              - condition: zone
                entity_id: person.sha
                zone: zone.home
    then:
      - service: automation.turn_on
        data: {}
        target:
          entity_id:
            - automation.bedroom_heating
            - automation.bathroom_heating
mode: single"	5	"['Ok-Jury5684: I personally use input_select ""home_state"" with ""night"", ""away"" and ""home"" modes. And build my automations on that change. Then si.ply setting value to home_state does adjust everything in my home.', ""Ok-Jury5684: AFAIK if you programmatically trigger automation, you can't set trigger - it will just run actions in automation with null-trigger.\n\nYou can create button helper, and add explicit trigger for that button press to all automations you want to run - and adjust rules explicitly for that trigger. Or, if you don't use specific trigger parameters inside of actions, you may just run automation.trigger without any parameters."", 'theloneranger08: What do you mean by turn on automations with the last trigger?', 'zSprawl: He doesn’t even appear to be triggering the automation, just enabling it when he arrives home. Enabling an automation doesn’t trigger it. It just enables it.', ""sh4hr4m: my heating automations are time based, for instance in bedroom temperature is going to be set to 20 °c at 8 pm and 14 °c at 8 am.\nwhen I leave the house the heatings are going to be set to 14 °c. \nNow I want when I come home at 9 pm the heating automation get active and the temperature doesn't stay at 14 but 20 °c.""]"
1681568362.0	15-Apr-2023 07:19:22	Schneider Odace blind control cover value is weird (sometimes -155%, 255%, etc.)	Pulsahr	1	12n46oz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12n46oz/schneider_odace_blind_control_cover_value_is/	"Hello there,

I asked for help on HASS forums a week ago with no luck, maybe I did it wrong so let's try again, somewhere else (here).

What I want eventually: have a position closed/open/mid-open I can use in automations.

**First install**

I bought a Schneider blind control switch ([that one](https://www.amazon.fr/dp/B091Z2KWNQ); technical PDF [here](https://download.schneider-electric.com/files?p_Doc_Ref=S5x0567W_HW)), which I wired correctly. Manual buttons works fine, switch is recognized in HA as "" Schneider Electric NHPB/SHUTTER/1"" with cover/up/stop/down buttons.

Up/down/stop buttons works fine, but the cover value behaves strangely. If I hit ""up"" button, the cover value decrease, like if it was closing. Plus, my blind take 26s to fully close and 29s to fully open. The cover value is not synced at all.

**Tweaks, round 1**

Recently, I started to remove and re-detect the blind and now the cover value makes no sense. Currently I just re-detected the switch and cover values says -155% (it's physically fully closed). Yesterday it was 255% (or -255% I don't remember).

It's been 3 days I'm reading several things looking for a solution, and I wonder what I do wrong because no solution worked so far.

**Tweaks, round 2**

I tried the custom component ""cover rf time based"" found [here](https://github.com/nagyrobi/home-assistant-custom-components-cover-rf-time-based), but it's abandonned since march 2023. Could not make it work, something like ""cover\_rf\_time\_based is not a valid integration"". I tried some workarounds but eventually gave up. I also tried the parent custom component [here](https://github.com/davidramosweb/home-assistant-custom-components-cover-time-based), but without more luck.

I also read a suggestion about using Zigbee2mqtt instead of ZHA to pair my device and manually set the cover time based on lift value, but I clearly don't understand how to do even the first step of this. And I wonder if I should go that way (because I need my automations to be 100% Z2M and ditch ZHA if I understood correctly).

**What now ?**

I'm a programmer so I can handle technical stuff, but I don't know python so I can't understand what is going on in custom components python script.

If it comes to this I'm ready to code a 3 switch + cover component or something, but I don't even know how to send the correct ZigBee signal (How ? Which value ?).

I considered buying a Wiser hub and use a HA integration like described [here](https://community.home-assistant.io/t/wiser-schneider/106527/2), but I'm not sure I would even succeed at configuring everything. Plus, I'd like to avoid unecessary purchases.

I want to buy this switch for all my remaining blinds (5 remaining) but I won't if I can't get one done correctly. I'm out of ideas, I don't know what to try anymore.

I'm open to any suggestion, thank you for your help :)

Installation :

* Home Assistant OS (up to date)
* Raspberry pi 3
* SonOff Zigbee 3.0 USB dongle plus ([that one](https://www.amazon.fr/gp/product/B09KXTCMSC))"	2	"['big-ted: What entities from the switch are available in Home Assistant\n\nWhat if you turn on the open button for 29 seconds\n\nWhat happens if you then turn off the open button and have the closed button on for 26 seconds\n\nSet up an automation to turn on and then after a 29 or 26 delay turn off', 'Pulsahr: >  What entities from the switch are available in Home Assistant\n\nI\'m not sure how to answer that correctly... if I search in entites panel ""schneider I find only 2 entities : ""cover.schneider\\_electric\\_nhpb\\_shutter\\_1\\_cover"" and ""cover.schneider\\_electric\\_nhpb\\_shutter\\_1\\_cover""\n\n>  What if you turn on the open button for 29 seconds\n\nThe cover still says -155%. Nothing changes if I click ""reconfigure"".\n\n>  What happens if you then turn off the open button and have the closed button on for 26 seconds\n\nStill at - 155%.\n\nI did a reset factory, and now I don\'t have the cover feature, just the 3 buttons displayed, and an error when I click on the stop button from the UI (it still stops though) : "" Échec d\'appel du service cover/stop\\_cover. \'>\' not supported between instances of \'NoneType\' and \'int\' ""\n\n>  Set up an automation to turn on and then after a 29 or 26 delay turn off\n\nHow can I do that ? I mean an automation ok, but how do I bind the up action to the up button of the switch ?\n\n&#x200B;\n\nThank you for you help :)']"
1681567802.0	15-Apr-2023 07:10:02	Aqara E1 USB Hub in Home Assistant	savtj	3	12n3ooo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12n3ooo/aqara_e1_usb_hub_in_home_assistant/	"Hi, I recently purchased an Aqara E1 USB hub (https://www.aqara.com/us/product/hub-e1), plugged it into my HA box (running Ubuntu Server + Docker) & added the device into my Zigbee2MQTT container.

This seemed to work, however the logs throw an error as listed here - https://www.zigbee2mqtt.io/guide/installation/20_zigbee2mqtt-fails-to-start.html#error-srsp-sys-ping-after-6000ms

I tried a few of the suggestions, but couldn’t get it working at all.

Is there some special config required for this adapter?
Any way to get this adapter working?

Thanks"	5	"['hirscheyyaltern: This hub is not even a self contained zigbee hub, it appears, based on the website information to simply be a repeater. my guess is its a router type device. regardless, its not listed on the z2mqtts [supported adapters page](https://www.zigbee2mqtt.io/guide/adapters/#notes)', ""Rotilho: Are you sure it's supported?"", 'savtj: Ahhh right. Oops! I’m new to Zigbee, so I guess I’ll be using that Sonoff USB Zigbee device instead.. thanks!\n\nHow did you determine it’s only a repeater? I got it in the box with the Aqara e1 roller shade motor, so just assumed it was all I needed - obviously I’m wrong..\n\nGoing from what you’ve mentioned, do you know if its possible to use this as a repeater for extended Zigbee range in my house (if needed) from my sonoff Zigbee hub? If so, how would I go about doing that?', ""hirscheyyaltern: honestly the Branding on the website is a little unclear, and it doesn't specify which chipset it uses. I did a little more research and it does look like a zigbee stick but it's an aquara stick so it only works with aqara devices, i think through a Xiaomi integration, but I couldn't find much about it outside of a few threads on the ha website. If you're interested in a coordinator that works for more than just the aqara products I would definitely recommend getting a coordinator supported by zha or z2mqtt. But if you can figure out how to set up the integration it would work with your shades.\n\nThe aqara stick you have i believe won't work with an existing zigbee system because aqara devices don't work as routers within a zigbee network (router is what zigbee calls devices that can communicate with other devices on your zigbee network).\n\nIf you're looking for devices to extend your zigbee network, i don't think there's any compressive list but most (not all) mains powered devices will work as routers in a zigbee network. Ikea is honestly a good brand to go for because their devices are cheap and most of their mains powered devices are routers.  My home is too small to do this, but I believe when you have a router device connected to your network, you can pair new devices through that router device"", 'savtj: I really appreciate your input, thanks. I’ve got mostly Aqara Zigbee devices, but have already setup MQTT & Zigbee2MQTT, & have some other non Aqara sensors on order. I’ll use the sonoff Zigbee stick that’s on the supported list and go from there.\n\nThanks very much for explaining this to me!']"
1681565669.0	15-Apr-2023 06:34:29	Failed to call service	PostAvocado	6	12n2l96	homeassistant	https://i.redd.it/ofw2q3t2e3ua1.jpg	How to solve this error? Its when change the brightness of the office lights, the room does have one hue socket but I also have hue sockets in the livingroom, there I don't get the error message.	21	"[""generalambivalence: It looks like you're calling the `light.turn_on` service incorrectly.\n\nYou're going to need to share the yaml from the card to get any real help. Edit the card, and switch to code editor mode and copy the yaml and paste it here. Make sure you format it properly so reddit doesn't bork it up.\n\nOn mobile, use three tick marks before and after the yaml code to preserve the formatting. Like this:\n\n` ``` `\nYour yaml code\n` ``` `\n\nIt'll produce a code block like this:\n```\nYour yaml code\n```\n\n\n\nEDIT: I can't see the whole caption for some reason, but it is also possible that your entity doesn't support dimming."", 'Jenova70: Two questions from me:\n\n1. Is it a  ""Hue group"" (meaning the light entity that comes directly from hue that represents an area defined within hue)\n\n2. If yes, is the hue group composed of lights supporting dimming and lights not supporting dimming? (Like a on/off Philips Hue Socket)', 'thuksy: I’m sorry I don’t know anything about HA, just got my Raspberry Pi Kit and will start it up later today. But just out of curiosity, how to you get the panel to look so nice and iOS-y? Until now, I’ve always seen some with a more Android looking UI 🤔', 'salonluden: I’ve been getting the same error in AppDaemon - not sure what’s going on or if it’s related', ""PostAvocado: Livingroom:\n```\ntype: custom:mushroom-light-card\nentity: light.living_room\nicon: mdi:sofa\nhold_action:\n  action: toggle\nshow_brightness_control: true\n```\n\nOffice\n```\ntype: custom:mushroom-light-card\nentity: light.office\nicon: mdi:chair-rolling\nhold_action:\n  action: toggle\nshow_brightness_control: true\n```\n\nIt doesn't seem anything wrong is going on.\nYes 'Request failed attribute (.dimming) is not supported by resource'\n\nIt only happens when changing brightness, not toggle the lights on or off. First I thought the smart to socket is the problem because it doesn't support dimming of cours, however I have a similar setup in the livingroom which doesnt give me errors.\n\nAlthough I am getting the error for the office, the lights still turn on/off and change brightness as expected."", ""PostAvocado: 1. Correct \n2. Correct\n\nHowever, the living room has the same kind of setup and doesn't have the problem."", 'turn-down-for-what: Those look like Mushroom cards, or possibly the much more detailed (and total pain to setup) UI-Lovelace-Minimalist.\n\nI use Mushroom cards in combination with lovelace-ios-themes for a really clean iOS aesthetic. Both are available via HACS.\n\nhttps://preview.redd.it/gpr8qgr5l3ua1.jpeg?width=1179&format=pjpg&auto=webp&v=enabled&s=9b60e0f9c57ec7451b14ad6fab94ad1e556641b8', 'BackHerniation: https://smarthomescene.com/guides/mushroom-cards-part-2-room-layout-and-card-combinations/', ""generalambivalence: What happens if you don't use a mushroom light card?\n\nWhat type of bulb is the light?"", 'Crazeeeyez: Did it ever work?  Did you check the device to see if it supports dimming?', 'Jenova70: I got the exact problem with my hue groups with ""inconsistent content"" ...\nAt the end I decided to abandon the use of Hue light groups and create HA groups directly from the Front End, and use these instead.\n\nHA groups handle inconsistent extremely well.\n\nI know it\'s not the answer you seek... Especially if you have the same setup in your living room and it works there.', 'thuksy: Nice! Thank you for that info. I’ll look into it after I set up my first cards!', ""PostAvocado: With the non mushroom card same error.\n\nIt's a Hue room(area) with different hue bulbs and a hue socket.\n\nSame as for the livingroom but there is no error showing"", 'PostAvocado: Not with the office lights, but with the living room lights it works.\n\n(Working as in, without the error message. In real functioning there is no problem. The light dim, turn on and off as expected. It just the error message that is the problem here haha).', ""PostAvocado: That's it, that's a solution that works! Thank you!\n\nToo bad it doesn't work well with the hue intergraded groups. Imo the error message doesn't bring much to the table since the lights just work as expected, now it's just an annoying message popping up. Sockets don't dim that's not rocket science, so an error message feels a bit useless to me anyway.\n\nThanks again for your solution, for now I will create my own groups and link them to the cards."", ""PostAvocado: Highly recommend mushroom cards indeed. I believe 'Everything Smart Home' YouTube channel has some nice videos about them if you need help or inspiration."", ""generalambivalence: Is it a group that you're dimming?"", ""Jenova70: You're welcome 🤗"", 'PostAvocado: Yeah it is a group of lights', 'brellox: Are you sure you are not trying to dim your outlet? \nIs it maybe somehow in the light group', ""PostAvocado: It is in the group indeed, so technically yes I'm trying to dim an outlet, which of course isn't possible.\n\nHowever, the remarkable thing is that the living room doesn't have this problem, which is also a group with lights including an outlet.\n\nThanks for getting back and helping me figure it out btw.""]"
1681565464.0	15-Apr-2023 06:31:04	RGBCW HA colour temp configuration	savtj	1	12n2hsu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12n2hsu/rgbcw_ha_colour_temp_configuration/	"Hi, I've recently loaded custom firmware via OpenBeken on a test RGB Downlight and added it to HA via MQTT, but I'm sure I've configured the light itself incorrectly.

It's a 'CasaLife' branded downlight from Aldi running a WB2L chipset (BK7231T). Similar to this white only model ([https://www.elektroda.com/rtvforum/topic3866123-810.html#20123466](https://www.elektroda.com/rtvforum/topic3866123-810.html#20123466)), but I have the RGB + White model.

Unfortunately, I've run into a configuration issue - it seems the light has a PWM channel for Red, Green, Blue, White Colour & White Brightness (at last that's what I have configured). When adding this to Home Assistant, the colours seem to work, but the brightness and temperature sliders are all out of whack - when adjusting the colour temp it cuts out at cool temps, and the brightness seems to work unexpectedly.

I'm pretty sure the issue is my configuration in the custom firmware or how it talks to MQTT, but I'm not sure how to setup the PWM pins correctly to reconfigure this. Can anyone help me out or point me in the right direction please?

Thanks

Attached are some screenshots of the pin configuration in the custom firmware.

&#x200B;

[3 = Blue, 4 = Colour Temp; 5 = White Brightness](https://preview.redd.it/ehgstb9wu1ua1.png?width=752&format=png&auto=webp&v=enabled&s=398f5e8506d96095eaca5c3c1760552e64225fa3)

[1 = Red; 2 = Green](https://preview.redd.it/ag1xjb9wu1ua1.png?width=695&format=png&auto=webp&v=enabled&s=d7423d7a187cdf6416b7038539b37d73e563ec7b)

[from top to bottom - Red, Green Blue, Colour Temp, Brightness \(though this last one only seems to work on the white, instead of across the whole range of colours\)](https://preview.redd.it/i0c9qb9wu1ua1.png?width=1063&format=png&auto=webp&v=enabled&s=ddeb3d9ce0b8572f633c93e69e13c8a9079cfd5f)"	1	['Mischivin: I’m not familiar with that brand of LED, but the RGBWW ones I’ve seen all have channels for two different white LEDs at different color temperatures, warm white and cool white. \n\nUsing the temperature slider in an app is just a simultaneous adjustment of the combined brightness of those two channels.\n\nThis LED controller setup would match the behavior you’re describing from how you’re manipulating your lights. \n\nBoth your WW channels should be a 0-255 range and most implementations I’ve seen consider “full daylight” to be 255 on both white channels.']
1681560435.0	15-Apr-2023 05:07:15	PMEZ-004T smart electricity meter, how to format cost as £0.00?	myromeo	27	12n06zo	homeassistant	https://i.redd.it/ntlrqzkiy2ua1.jpg	"I’ve set up a PMEZ-004T power monitor with an esp8266 board using esphome and I have successfully integrated it into my home assistant dashboard, I love it! 

One question however, the live and daily costs are showing as 0.00 £, how do I format the template sensor so that they display as £0.00 and are still recognised as numeric for the gauge card? I’ve tried a few different ways and I get NaN errors on the card."	6	"['alex3305: Of course you will get NaN (not a number) when you add text to a number ;). However instead of modifying the value, you could also modify the card with [card-mod](https://github.com/thomasloven/lovelace-card-mod). I think that would easier and the way to go.', ""AskFriendly: The reason you're not getting a zero is because of the standing charge. So even if you're not using energy it still costs you money..."", 'Stu2049: May I ask you how you did the day/week/month/year modifier at the bottom? Are those mini-graph cards? Would you mind sharing the relevant yaml config? Thanks!', 'myromeo: Thank you, yeah I’ve realised the error of my ways. I’ll check out card mod later and see if I can get it formatted how I want. It’s purely an aesthetic thing as functionally it’s working great', 'myromeo: They’re both part of the energy dashboard, you can use them with manual cards;\n\nFor the selection:\ntype: energy-date-selection\n\nAnd for the graph:\ntype: energy-usage-graph', 'Stu2049: Wow thank you!']"
1681557635.0	15-Apr-2023 04:20:35	How to add snapshot by tapping screen to Generic IP cam	Operations8	1	12mz0u8	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mz0u8/how_to_add_snapshot_by_tapping_screen_to_generic/	"This is my current code for one of my cameras on my dashboard.

I would like to have the option to tap the screen and make a screenshot. Any ideas?

camera_view: live
type: picture-glance
entities:
  - entity: binary_sensor.presence_10
hold_action:
  action: none
title: Voordeur
tap_action:
  action: none
camera_image: camera.10_0_175_155"	14	"['Mysterious-Bowler15: You can add the Frigate card', 'jjbeeblebrox: There is a service: [camera.snapshot](https://www.home-assistant.io/integrations/camera/#services) that will take a snapshot of the camera and save it to a specific location.\n\nYou could create a action for this and tie it to the tap_action, maybe?', 'ahj3939: You can take a snapshot in Home Assistant with this:\n\n    - service: camera.snapshot\n      entity_id: !input \'camera\'\n      data:\n        filename: \'{{ snapshot_create_file_path }}\'\n\nThis would store a single frame of the video somewhere in your Home Assistant. You could then probably send that snapshot to some sort of storage device/service.\n\nIf you want the snapshot on your NVR you would have to see if it supports an API call to do so. Maybe a work around many NVR have an ""alarm"" state that can later be looked up. If there is no API some NVR or cameras have dry contact inputs that can be used to trigger the alarm state.', 'Operations8: I look that up, that looks like a NVR right? I already have my Synology. So not really looking for a NVR.\n\n\nWould only like to be able to create screenshot from the Generic IP integration. If possible..', 'Operations8: Okee i have white listed /media/snapshot.\n\nBut how do i insert the code you mentioned into my code? I keep getting errors.\n\n- camera_view: live\n- type: picture-glance\n- entities:\n- entity: binary_sensor.presence_10\n- hold_action:\n- action: none\n- tap_action:\n- action: none\n- camera_image: camera.10_0_175_155\n\n\nYour idea:\n service: camera.snapshot entity_id: !input \'camera\' data: filename: \'{{ snapshot_create_file_path }}\n\n\nI have tried adding ""service: camera.snapshot"" to tap_action but that is not allowed.', ""Mysterious-Bowler15: You don't have to install the nvr from Hacs you can install the Frigate card"", ""ahj3939: I'm not sure how tap_action works"", 'ahj3939: Action should be call_service! See the docs: https://www.home-assistant.io/dashboards/actions/\n\nThen under that you put the actual service name\n\nNote that you must follow proper YAML syntax/indenting', 'Operations8: show_state: false\nshow_name: false\ncamera_view: live\ntype: picture-entity\nentity: camera.10_0_175_120\ntap_action:\n  action: call-service\n  service: camera.snapshot\n  target:\n    entity_id: camera.10_0_175_120\n  data:\n    filename: media/snapshots/woonkamer.jpg\nhold_action:\n  action: none\ncamera_image: camera.10_0_175_120\nname: Woonkamer\n\n\nThis should work i think but when i tap no file is created.', ""Operations8: This should work i think but when i tap no file is created.\n\n\n\n\n\n\n\nshow_state: false\n\nshow_name: false\n\ncamera_view: live\n\ntype: picture-entity\n\nentity: camera.10_0_175_120\n\ntap_action:\n\n  action: call-service\n\n  service: camera.snapshot\n\n  target:\n\n    entity_id: camera.10_0_175_120\n\n  data:\n\n    filename: media/snapshots/woonkamer.jpg\n\nhold_action:\n\n  action: none\n\ncamera_image: camera.10_0_175_120\n\nname: Woonkamer\n\n\n\n\n\nLogfile says:\n\n\n\nCan't write media/snapshots/woonkamer.jpg, no access to path!\n\n\n\nI have this in my configuration.yaml:\n\n\nallowlist_external_dirs: \n\n  - /media/snapshots/"", 'ahj3939: maybe you need leading slash on your path?', ""Operations8: Hero :) that works\n\nNow we have the problem it doesn't overwrite or add number to the file when i press again"", 'Operations8: Also solved :)\n\nLike so.\n\n\ndata:\n    filename: /media/snapshots/woonkamer_{{ now().strftime(""%Y%m%d-%H%M%S"") }}.jpg', 'ahj3939: Mine overwrites the last one... add a number you would have to do something like variable with epoch or date/time']"
1681552764.0	15-Apr-2023 02:59:24	Shell CLI command triggered by NFC	messr	0	12mx5tw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mx5tw/shell_cli_command_triggered_by_nfc/	I'm wondering whether this is even possible - I am running HA on Ubuntu server on a thin client in docker. I'd really like to be able to set something up where a scanning an NFC tag with my phone would trigger a CLI command (within shell) to manage something else on my system (logitech media server). Can anyone advise? Thanks.	5	"[""doomboy1000: You're wanting to run a shell command on the *host* system? Or within HA's docker container?"", ""bluefunk91: Well it's technically possible, it won't be easy and is not a good idea. The whole point of having HA in a docker container is to isolate it from the host, and configuring the container to even be allowed to execute a script on the host from within a container is at best a security nightmare and at worse poor practice. \n\nIs there a reason you can't integrate the Logitech server directly into HA and control it directly without needing to go through the host?"", 'eLaVALYs: I would use the [shell command](https://www.home-assistant.io/integrations/shell_command/) integration to SSH into your Ubuntu machine and run the command. In your automation, have the NFC tag being scanned be the trigger and the action is running the shell command you create.\n\nTo implement, get on the shell of your HA container, make your SSH keys, and run a SSH command to do what you want, eg `ssh -i /config/your_private_ssh_key -l ubuntuusername ubuntu_ip /path/to/command_or_script`. Get the SSH command working first. Then, make the shell_command  and try triggering it from HA.', ""messr: Thanks for your reply, it's within the host system"", 'doomboy1000: I was able to cobble together something on my own setup by following this: https://stackoverflow.com/a/63719458\n\nWith two special notes:\n\n1. You don\'t need to mess with docker sharing the volume to HA if you put the pipe in the HA config folder (since that\'s already a shared volume between host and HA -- or at least that\'s how it was meant to be done many moons ago on a HA Supervised installation. For other install types, YMMV)\n2. Home Assistant can write to the pipe using [the Shell Command integration](https://www.home-assistant.io/integrations/shell_command/), the command is something akin to `echo ""some command for host to run"" > ha_local_path/to/pipe`\n\nEDIT: as /u/bluefunk91 pointed out, this approach is not good from a security standpoint. There are ways to mitigate it, like not allowing the HA side to dynamically write to the pipe, or tweaking the host-side cron to only run a specific command when a specific pass phrase is written to the pipe. But all of these are **mitigations**, not solutions to the security issue.']"
1681550742.0	15-Apr-2023 02:25:42	Home assistant google photo plugin	schwartzasher	1	12mwgdw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mwgdw/home_assistant_google_photo_plugin/	I know there are google photo plugins, but I am looking for one that will take a photo album, and display only the newest photo each week. Each week I have someone send me a photo that I want displayed on the weekend and then disappear during the week for a slideshow of another album if that's possible.	1	[]
1681550131.0	15-Apr-2023 02:15:31	Naming convention in HA	Lyzo_Soft	30	12mw91d	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mw91d/naming_convention_in_ha/	What for naming convention do you use in HA.	10	"['alex3305: I mostly use whatever the integration provides me with. Having re-done everything multiple times, I just gave up on a naming convention.', ""TC_FPV: Type - name option - description\n\nSwitch - living room 1.2- main light\n\nSo, that's a switch in the living room that turns the main light on when I press the first button twice"", 'Vaenror: I did Floor/Room/Device(with specification if several of the same type in the room)\n\nSo for example: \nUF/Bathroom/TemperatureSensor\n\nThis way I can sort/search for Floors/Rooms/Devices.', 'mekaneck84: The entity name I use is `domain.location_devicename_featurename` and either (or both) *location* and *featurename* may be omitted if it is obvious or part of the *devicename.* And the *devicename* could be either the name of the device doing the controlling or the thing being controlled. For example *devicename* for:\n* A a smart plug that has a lamp plugged into it: `lamp` as opposed to `smart_plug` \n* Basement overhead light controlled by an in-wall switch: `basement_light` as opposed to `basement_light_switch`\n* Front door contact sensor: `front_door_contact` instead of `front_door`\n\n\nI try to use what I would refer to the device as in a natural speaking language. This is important because I have a number of the entities controllable by a smart speaker. I also omit the word ""sensor"" from *devicename* as I feel it\'s not helpful. It also helps with the entities that I record history on (which I also send to influxdb for long-term storage). I use blobs in the ""include:"" statement to record anything I care about, such as any sensor entity that ends in ""\\*\\_temperature"" or ""\\*\\_motion"" for example. That allows the system to record motion events but ignore the ping entity or other diagnostic entities that are on the motion sensor.\n\n\nHere\'s a few examples:\n\n* The temperature information that comes from my motion sensor which is located in the dining room: `sensor.dining_room_motion_temperature`\n* The motion sensor itself: `binary_sensor.dining_room_motion`\n* The level of water in my sump pump sump: `sensor.sump_pump_level`\n* The lights on the front of my house: `light.front_outdoor_lights`', ""WantonKerfuffle: For my sensors: typeLocation  \ne.g. thermostatLivingroom\n\nFor actions: typeLocationACTION  \ne.g. thermostatLivingroomON\n\nlocationType and locationTypeACTION would have sometimes be smarter, perhaps. Doesn't matter much, though."", 'pickerin: thing.protocol_location_mfg_type\n\ne.g.\nsensor.zha_first_floor_bathroom_lumi_pressure\n\nThis lets me target all ZigBee (or Zwave or IP) as well as locations and still allows ease of all pressure or temp or motion.  \n\nI use a lot of auto entity cards so this gives lots of sorting options.  The actual names are “wife approved” names as they only show up on cards not in programs or automations.', 'DarkYendor: I’m like this.\n\nType_Room-Detail-(number if required)\n\nSwitch:\n\n-\tSW_KITCHEN-TRACK\n\nLights:\n\n-\tL_KITCHEN-TRACK-01\n-\tL_KITCHEN-TRACK-02\n-\tL_KITCHEN-TRACK-03…\n\nGroup:\n\n-\tG_KITCHEN-TRACK', 'TragicFusion: As someone with a sump pump, what are you using to monitor the level of water?', ""hirscheyyaltern: really like the idea of calling it motion temperature, to make it obvious that the device it's associated with has a primary function as motion."", 'mekaneck84: I used a submersible level sensor and a NodeMCU and some other components with ESPHome\n\n[https://community.home-assistant.io/t/monitor-for-sump-pump-with-battery-backup/462288](https://community.home-assistant.io/t/monitor-for-sump-pump-with-battery-backup/462288)']"
1681549483.0	15-Apr-2023 02:04:43	Where is the Pico love (MQTT) ?	daredriven	22	12mw17r	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mw17r/where_is_the_pico_love_mqtt/	"Hi. I have been messing are with Home Assistant lately and after some frustation with ESPHome I started using the Raspberry Pi Pico with MQTT for some sensors and it works wonders!

Interestingly, I don't see here much projects with the Pico. It is so darn cheap and versatile.

For those interested, there is a great tutorial for setting up Pico as a publisher and subscriber at  [https://peppe8o.com/mqtt-and-raspberry-pi-pico-w-start-with-mosquitto-micropython/](https://peppe8o.com/mqtt-and-raspberry-pi-pico-w-start-with-mosquitto-micropython/)

Any Pico projects out there?"	20	"['mscottco: ESPHome is starting to build in support for the Pico W ([https://esphome.io/components/rp2040.html](https://esphome.io/components/rp2040.html)) so it integrates well to homeassistant\n\nI think it still faces competition from the ESP32 and ESP8266 in that space though.', 'gourdo: Seems rather large and expensive compared to my ESP8266-based D1 minis. Does it do anything unique?', 'kuello73: Also big fan of the Pico and Micro/Circuitpython. Python is just great for MQTT since the paho MQTT library is so simple and easy to implement. What did you build with it?', ""rlowens: > It is so darn cheap and versatile.\n\nPico W is like $13 on ebay as far as I can see, ESP8266 dev boards are like $4. ESP32 dev boards are like $6. Why pay double? Cheaper on other sites, but so are the ESPs.\n\nLooking at the specs, Pico W has 3 ADC vs the ESP8266 single ADC and ESP32 has 2 ADC. Pico W has Bluetooth 5.2 (but no support at launch, don't know now), ESP8266 doesn't have Bluetooth, ESP32 has Bluetooth 4.2 (BR/EDR and BLE, upgraded to 5.0 with restrictions). Pico W has 26 GPIO, ESP8266 has 17 GPIO, ESP32 has 34 GPIO.\n\nThe Pico W does have 8 × Programmable I/O (PIO) state machines for custom peripheral support, which is a feature I haven't seen before, so that could be useful."", 'amusedparrot: Seems overkill for most of the stuff I would use a ESP32 or ESP8266 for. What frustrations did you face with esphome?', 'Complex_Solutions_20: I\'ve never heard of a ""Raspberry Pi Pico"" until today so maybe that\'s part of it?\n\nA quick search sounds like its just another rebranding of the ESP32 and ESP8266 that are down around $5 per unit even small quantity Amazon Prime and widely known and available.  Cheaper if you wait from China', 'amaneuensis: I tried the Pico just this week. I’m impressed by how easy it was to get working!', ""FFevo: It takes time for mature software to adopt new chips, especially when there are large architecture differences. \n\nFor example it took over a year to get RB2040 support into QMK for building custom mechanical keyboards. And people in that space were/are still using ancient 8-bit ATmega16U2 controllers that don't even have enough memory for most of the available features; on top of being significantly more expensive. \n\nSounds like RB2040 isn't even more powerful than the existing esp chips and the existing supported chips aren't super expensive.  So there probably isn't *that much* incentive to quickly add support."", 'daredriven: I tried it and got it working correctly. However, a few days after it disconnected from the network and I no longer was able to reconnect it... I just gave up but do miss some features of ESPHome', 'daredriven: From quickly looking at the specs, from what I am using on my projects, I am not using nothing really unique, I just have more experience with the Pico and got them cheap locally.', ""daredriven: Got a bunch of  cheap sensors to measure the humidity of the plants' soil. Printed some adapters to hang it on the pot also and, why not, put them up for sell :p\n\nAlso did a tiny remote for turning on some stuff in the house. On my way to try and make a cheaper alternative to the switchbot.\n\nIt is all so simple. I just miss being able to update the code on the Pico wirelessly just like ESPHome did."", 'Ayfid: The Pico W is $6 from most retailers.', 'adiyasl: It is a completely different processor with different specs and different use cases', ""TheOneCurly: Your quick search failed to determine it's a totally separate product with no relation to the esp chips?"", ""mscottco: Hmmm odd.... The RP2040 support is pretty early days.\n\nI got a couple of Pico's to run some WS2812 LED's after seeing the Jeff Geerling video but that component didn't have support yet so they're sitting there largely unused..."", 'adiyasl: ESP-01 modules are like .7$ a pop and i think that’s why most people use the ESPs', 'daredriven: Yep got it at 7€ at a local store, one of the reasons I used it. I believe the price of the ESP ones were slightly less, but I will look into it, thanks.', 'Complex_Solutions_20: Sure different processor but it seems otherwise like a less featured same purpose device on the couple comparison sites I saw?\n\nWhy would you use that over the existing things?', 'Complex_Solutions_20: Then maybe you could provide some actual useful information instead of just saying what I found is wrong without providing any value?', 'ProBonoDevilAdvocate: Yeahh, I think once it has full support on esphome it will be much more usefull for HA use.\nIf I remember right, when I tried even MQTT wasn’t working that well.']"
1681548912.0	15-Apr-2023 01:55:12	G4 Doorbell Pro and Home Assistant, no doorbell press event?	s1mkin	2	12mvu0m	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mvu0m/g4_doorbell_pro_and_home_assistant_no_doorbell/	"**EDIT: fixed : I removed and re-added the Unifi Protect device, which restored the missing entities and sensors. Thanks :)**

\---

* Home Assistant 2023.4.3
* Frontend 20230411.0 - latest

I just installed my  G4 Doorbell Pro and try to add some automation in Home Assistant and noticed the logbook does not log any doorbell ring notifications. Only motion, recording, etc..

&#x200B;

https://preview.redd.it/i8u0bugci0ua1.png?width=331&format=png&auto=webp&v=enabled&s=68b8bb0cdd2bec8286d91c16a4566aa9beecd98c

Is this event not integrated in HA? Is not possible to add automation based on somebody ringing the doorbell?

&#x200B;

https://preview.redd.it/6lajh64qi0ua1.png?width=1114&format=png&auto=webp&v=enabled&s=85d9dda4ab4ebb5bd23d026532ac273eb3ffac0e"	9	"['segbrk: Mine has a “Doorbell” binary sensor entity (would be “G4 Doorbell Pro Doorbell” for you). Not sure why you don’t have that, but just confirming that it _should_ exist. Maybe check the device setting in HA to make sure that entity isn’t disabled? Do you get a notification/event in Protect itself, either the webapp or the mobile app, when you press the doorbell?', '400HPMustang: Looks to me like HA doesn’t see it as a doorbell, just a camera and that’s why. I don’t know what to do about it though.', 'rknova: I had this happen as well, just reloading the integration caused the rest of the sensors to show up.', 'dodoaddict: I have this combo and have had it working. I\'m triggering on ""doorbell becomes occupied"".\n\nMine hasn\'t triggered lately, so maybe there\'s an update issue. It could also because I don\'t get a lot of doorbell rings and had an unrelated doorbell issue for a bit. I can try later and report back', 'c0keaddict: I’m on 2023.4.4 and it works. Below is a screenshot of the entities I see. The doorbell sensor is what registers the button push. Someone rang it yesterday and everything worked fine.\n\nhttps://i.imgur.com/jEEx09x.jpg', 's1mkin: I do not think any are disabled:\n\n&#x200B;\n\nhttps://preview.redd.it/foar28gy53ua1.png?width=328&format=png&auto=webp&v=enabled&s=677fb70bd7331416f7451dc9cd2ecc32ec6c0551\n\n&#x200B;\n\nI do get a notification on my android phone but it is without sound, another thing I do not understand.', 's1mkin: I removed and re-added the Unifi Protect device, which restored the missing entities and sensors. Thanks :)', 's1mkin: &#x200B;\n\nhttps://preview.redd.it/j9o1cef563ua1.png?width=330&format=png&auto=webp&v=enabled&s=b9248ce8bdb188067857bdda2a88d75391fea250', 's1mkin: &#x200B;\n\nhttps://preview.redd.it/p5fyaijn63ua1.png?width=544&format=png&auto=webp&v=enabled&s=72f5e68927b798410a6ca0a5cc61f831fc3bd25d']"
1681541222.0	14-Apr-2023 23:47:02	After rebooting energy_pv750 and energy_akku are unavailable! how can i store the values for this entities?	knag1	2	12mt2yw	homeassistant	https://i.redd.it/liog1hcuvzta1.png		1	['zSprawl: Check each of the entities involved in your template. One of them went unavailable as well.']
1681540747.0	14-Apr-2023 23:39:07	Motion sensor stuck on ‘detected’?	JoseValdez69	3	12mswno	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mswno/motion_sensor_stuck_on_detected/	"Just got my Chinese zigbee motion sensor and got it all paired, however it seems to be stuck on “detected”. Now, I get it. It was $6 on AliExpress, but it seems to be identical to many others on Amazon and such. 

Is there a certain setup or entity I need to be using to switch from clear and detected as motion is detected?"	3	"[""Nyghtshayde: It's probably had it, but you could try resetting it."", 'CourageousCreature: Many PIR sensors has a ""start up"" period on which they are either detecting all the time, or not detecting at all. Maybe give it 10-20 minutes just to be sure?\n\nSome also blink an LED on the sensor itself when they detect. If your see something like that blink when it ""sees"" you, but you don\'t see anything in home assistant, then the sensor is most likely working, but it\'s the zigbee connection that is broken and you need to repair.\n\nWhat are you using for zigbee? Vendor hub, zigbee2mqtt, zha or something else?', 'tungvu256: what happens when you manually change the state to ""away"" in Dev tab? would the sensor go back to detected when someone is detected? would the sensor stay in away when no one is detected?\n\nsome of my sensors are stuck like this. so i have another automation to ""reset""  and all is good.']"
1681536387.0	14-Apr-2023 22:26:27	Set zwave paramater?	ahj3939	3	12mr9zr	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mr9zr/set_zwave_paramater/	"I just install Zooz 54 0-10v dimmer and I need to set parameter 12 = 1 so that I can use mometary switch.

Right now the light only works if you stand at the switch an hold it on!

However I can not figure this out. Even through the dev tools I call the service zwave_js.set_config_parameter with parameter 12 and value =1 and it fails with the error

Failed to call service zwave_js.set_config_parameter. Node(node_id=3) - NotImplementedError: Configuration values of undefined type can't be set

Also I try to switch from the official Zwave plugin to the ""Z-Wave JS UI add-on"" per the official instructions: https://www.home-assistant.io/integrations/zwave_js#how-do-i-switch-between-the-official-z-wave-js-add-on-and-the-z-wave-js-ui-add-on

But I get stuck on this step: ""Note your network security keys from the official add-on."" ... I can not find those security keys."	16	"['cogneato-ha: If you are looking at the device page for this you should see ""configure"" as an option, with any parameters listed there.', '_Rand_: Just a little further down:\n\n> Where can I see the security keys in the Z-Wave JS add-on? After the initial setup of the Z-Wave controller, you can view the security keys in the Z-Wave JS add-on. Go to Settings > Add-ons > Z-Wave JS and open the Configuration tab. You can now see the three S2 keys and the S0 key. The network security key is a legacy configuration setting, identical to the S0 key.', ""Low-Rent-9351: Look it up here. I don't see a 54 under the Zooz devices. It won't have parameters if it's not in the database. when it's not, there is a way to set parameters in the zwave-js-ui UI still I believe.\n\n [Z-Wave JS Config DB Browser (zwave-js.io)](https://devices.zwave-js.io/)"", 'Internal_Researcher8: [https://photos.app.goo.gl/2dEYNN1nAfaep7hL6](https://photos.app.goo.gl/2dEYNN1nAfaep7hL6)\n\n[https://photos.app.goo.gl/mkdV5h3VHKFFozdv8](https://photos.app.goo.gl/mkdV5h3VHKFFozdv8)\n\n[https://photos.app.goo.gl/hFvhCWcaZZ7Ueoxs5](https://photos.app.goo.gl/hFvhCWcaZZ7Ueoxs5)\n\n[https://photos.app.goo.gl/VesxVtRMRLs2anDf8](https://photos.app.goo.gl/VesxVtRMRLs2anDf8)\n\n[https://photos.app.goo.gl/EoowZFnyjhhsE4dC7](https://photos.app.goo.gl/EoowZFnyjhhsE4dC7)', 'ufgrat: Switching between the Z-Wave add-on and the Z-Wave JS UI add-on can be frustrating.  You\'ll need to go into the add-on configuration for the original z-wave add-on (I don\'t have it available, or I\'d bring it up) to get the keys.\n\nTry [this page](https://theprivatesmarthome.com/how-to/set-up-z-wave-in-home-assistant/) and search for ""security keys"".  That should get you to your current security keys.\n\nI suggest copy/pasting them into an editor.  ;)', 'ahj3939: Yes, I see the parameters... How do I edit it?', 'ahj3939: As far as I can tell it just shows a read-only table: https://imgur.com/0p8Y5Au', ""ahj3939: Is there any way I can just copy-paste another database entry so it thinks is in the DB?\n\nI don't quite understand what zwave-js-ui UI does and would rather keep things simple/stock."", ""ufgrat: Not true, actually.  The parameters will be there, but will just be numbers, with no description.\n\nThe T6 Pro Z-Wave (2007) model wasn't in the database when I first got the thermostat."", 'LegallyIncorrect: No, you can’t do that. The UI has an advanced section that lets you set a parameter unbounded by the device file.', 'Low-Rent-9351: There is a raw parameter field you can enter anything you want into.  I’m pretty sure it attempts to write whatever you put there regardless of what parameters exist.', 'ufgrat: Well, yes, but the parameters are still displayed under Configuration v<n> breakout-- Parameter 12 will be there, just no help text or default values.', 'Low-Rent-9351: Do those show up in HA?\n\nNever used a device not in the database.', 'ufgrat: Under Z-Wave JS UI, yes.  Not sure about the official add-on.', 'Low-Rent-9351: That’s what the OP said, with zave-js the parameters don’t show up in HA.', ""ahj3939: They do show up but I can't edit.""]"
1681528277.0	14-Apr-2023 20:11:17	Dashboard frustration	ufgrat	2	12mnwqf	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mnwqf/dashboard_frustration/	"Anyone else being driven mad by the unpredictability of masonry dashboards on a standard web browser?

Had my top level dashboard just the way I like it-- and now the latest update, instead of having three columns, I have two columns, one of which scrolls off the bottom of my screen.  Attempting to adjust ""vertical"" positions results in a totally random behavior with cards jumping hither and yon.

What I had is a three column dashboard on my web browser, and a single column version on my phone.  The phone still works, but now I have to scroll my web browser.

Am I missing something, or are the devs messing with us?"	6	"['_avee_: Check out custom layouts: https://github.com/thomasloven/lovelace-layout-card\n\nI use “vertical” layout which gives me the desired number of columns on desktop (using manual column breaks) and reasonable single column experience on mobile.', ""johimself: The dashboard layout system is really bad. The UI is adapting to the size of your screen. When I'm trying to change the dash layout I usually resize a browser window on my PC to get the number of columns right, but obviously that's still making the cards flip all over the place until it looks less terrible than it did before."", 'Wel_ok: I made a 1 column dashboard for my phone and tabs per room.\nI use that for my desktop aswell.\nThe rastercard is usefull to stick the cards.\nThe main dashboard is all iver the place and i stoped using it when i had more then 20 entities', '57696c6c: Yep. I came to terms with it and now it’s the greatest dashboard ever, very beautiful, there is nothing wrong. *blinks twice—help me*', 'sri10: https://youtu.be/Ac02PzU17GQ', 'ufgrat: Thanks!!!']"
1681524217.0	14-Apr-2023 19:03:37	Vacation Random Light Automation	sbehta	18	12mm3kl	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mm3kl/vacation_random_light_automation/	"Hi All,

I am going on vacation and need help creating an automation that will randomly turn on/off lights in the house.

Any suggestions?

Thx"	13	"['snowfil: https://github.com/slashback100/presence_simulation', 'FastAndForgetful: Look for Presence Simulation on HACS. You pick a number of days and it repeats everything that happened that day on the devices you choose', 'Shooter_Q: [Includes blueprint](https://www.speaktothegeek.co.uk/2022/07/random-vacation-lights-using-home-assistant/)', '400HPMustang: I use this\n\nhttps://community.home-assistant.io/t/vacation-lighting-replay-historical-lighting/282435', 'ten1219eighty5: Node red has a random generator', ""Cuddlebot4000: I wanted the same thing a few months ago. This post was incredibly helpful. Now I have a 'vacation mode' that turns my lights on/off exactly as they were 1 week prior.\n\nhttps://www.reddit.com/r/homeassistant/comments/gh6zmx/easy_smart_vacation_mode_lighting_with/?utm_source=share&utm_medium=android_app&utm_name=androidcss&utm_term=1&utm_content=share_button"", ""ShittyFrogMeme: There's one in HACS that uses your previous history to do it. If you want a bit more randomness, NodeRed has a really good presence faker: https://flows.nodered.org/node/node-red-contrib-presence-faker"", 'No_Towels5379: \nHighly recommend this solution. It will turn on your lights whenever they were on X days ago. \n\nhttps://peyanski.com/home-assistant-vacation-mode/', 'djgrahamj: I rolled my own that triggers existing motion light handling automations but the suggestions here look good. Might take a look at them myself.', ""Complex_Solutions_20: I take a different approach, I run enough secondary lighting (floor lamps and such) as well as outside lighting (porch/driveway lights) on timers normally so they look exactly the same whether or not we are home.\n\nMy parents have done this with manual timers as long as I can remember...I just upgraded it to use HA so I don't have to set and fix timers all the time."", 'shakuyi: I personally dont need no custom component to do something an automation can do. I dont think its smart to mimic previous day behavior its like having your lights on a timer, remember home alone lol. Instead I would prefer randomly turning on lights for a random set of time. Here is what I found off the forums and adapted to my needs.\n\n[https://github.com/dshokouhi/Home-AssistantConfig/blob/master/automations.yaml#L4272-L4319](https://github.com/dshokouhi/Home-AssistantConfig/blob/master/automations.yaml#L4272-L4319)', ""eLaVALYs: I've answered this question in [another recent thread on the same topic](https://old.reddit.com/r/homeassistant/comments/11kjpit/turn_lights_onoff_randomly/jb7wtlp/).\n\n>I have a input_boolean.vacation_mode that turns on when everybody is gone for some number of hours. When vacation mode is on, I have a set of automations that turn on/off lights randomly. The key is to use delays that are randomly picked from a large range. So for example, my living room light automation may trigger at 7pm. But the first action is a delay that will pause for anywhere between 5 and 85 minutes. Same thing for the off automation. Triggers at 11pm, but the light will go off anywhere from 11:05pm to 12:25am. To add even more randomness, I put a time condition to only run on certain days of the week. I think it works pretty well and wasn't difficult to set up.\n\nThat and I have various lights inside and outside that turn on/off daily whether I'm there or not.\n\nI like this solution because it's fairly simple, it's just normal on/off automations but with a condition and a delay."", 'TrousersCalledDave: If you use Node Red, the Big Timer node has all the functionality you could possibly need to control lights including random timings.']"
1681524096.0	14-Apr-2023 19:01:36	Problem with Synology NAS and running H.A on virtual machine.	bradpike5171	1	12mm1nf	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mm1nf/problem_with_synology_nas_and_running_ha_on/	"I already asked in the synology page. Just checking in here as well. 

 I'm trying to run H.A. on a virtual machine on my synology 920+

I have had a 2.5gb ethernet adapter plug (LAN3) into the back usb port for months now working fine.  

When I install the H.A. virtual machine it stops working. I can still have connection to NAS but H.A. virtual machine says no connection. 

I can get everything up and running if I plug ethernet into normal slot (LAN1) on back of NAS.  

When I get it running on LAN1 I can get I want to mount the USB sticks for zigbee and zwave and I notice I could mount the ethernet adapter. So I did.  There was also another setting where I could choose which LAN to use so I selected 1 snd 3.  It would not let me unchecked 1 because it was currently using it. 

When I plugged the ethernet back into LAN3 nothing would find the internet.  I tried rebooting the NAS but that didn't work.  

I got it working back on LAN1 and left it.  


So questions or if I did something dumb you can laugh at me. 

1. Can I get this to work using the 2.5gb ethernet adapter?

2. If not, can I use LAN3 for the NAS and LAN1 for the H.A virtual machine. 

3.  Should I really run this off a different machine. 

I've only just began working on this, I'm not opposed to starting over because other than troubleshooting this problem I only have like 30min working on H.A because I just wanted to see how it worked. 

Thanks for any input."	3	"[""dish_rag: You can totally run HA on a VM. It's great in some ways, like being able to easily take entire VM point-in-time snapshots. I have a pretty complicated setup, without the ethernet dongle but I also have multiple subnets/VLANs to contend with.\n\nYou need to really look at two things to start, and that's understanding how networks work with VMM (which is true of many other hypervisors):\n\n1. Rule out that your host actually has a network connection on those interfaces. (Control Panel -> Network -> Network Interface) -- I assume it does because it has been working for you.\n2. Check out your VMM virtual switches and how they are configured (VMM -> Network and either edit the default config or add a new one). This tells it which network interface to use, as well as what VLAN (if applicable).\n\nI'm guessing that (2) is your issue, but 1 is just as important as it feeds the second point.\n\nNot sure if this helps, but hopefully this points you in a direction."", 'DIY_CHRIS: Use docker.', ""bradpike5171: Thanks for the info.  Problem has been solved.  I don't feel like I did anything different from last time.  Feel like I just brute forced my way through lol.  I was looking into the virtual switches.  I think that helped.""]"
1681523935.0	14-Apr-2023 18:58:55	"Frigate Go2RTC feed - stuck in ""Starting go2rtc healthcheck service..."""	holman8a	4	12mlyvl	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mlyvl/frigate_go2rtc_feed_stuck_in_starting_go2rtc/	"Hi There,

I've attempted to add a go2rtc stream to Frigate following the [documentation](https://docs.frigate.video/guides/configuring_go2rtc/) they've provided. I've added the below in my config.yml:

    go2rtc:
      streams:
        back:
          - rtsp://admin:<password>@<cameraURL>:554/cam/realmonitor?channel=1&subtype=0

Note this is the same as the camera details that work fine on Frigate for detection. 

After this, it states that I should be able to restart Frigate, and from the camera select MSE in the drop down box. I restart everything (including the LXC) and I can't see any option other than 'jsmpeg'.

There is a message that says if video doesn't play, to add a line as below underneath, which hasn't helped:

     - ""ffmpeg:back#video=h264""

In the logs for go2rtc, I get the below message:

    2023-04-15 01:29:42.576006421  [INFO] Preparing go2rtc config... 
    2023-04-15 01:29:42.822968349  [INFO] Starting go2rtc... 
    2023-04-15 01:29:42.908097093  01:29:42.908 INF go2rtc version 1.2.0 linux/amd64 
    2023-04-15 01:29:42.908358334  01:29:42.908 INF [api] listen addr=:1984 
    2023-04-15 01:29:42.908524033  01:29:42.908 INF [rtsp] listen addr=:8554 
    2023-04-15 01:29:42.908676706  01:29:42.908 INF [srtp] listen addr=:8443 
    2023-04-15 01:29:42.908898183  01:29:42.908 INF [webrtc] listen addr=:8555 
    2023-04-15 01:29:52.598418540  [INFO] Starting go2rtc healthcheck service...

Is there anything that stands out here? This 'error' message has only been reported a couple of times online when I googled it, with not many comments about where I should be looking. 

For reference, camera is Dahua doorbell, using Frigate v12 in LXC on Proxmox. Detect is working fine. I assume my codec is H264, however my camera doesn't tell me, however think I would have had issues in Frigate set up otherwise if it wasn't.

Thanks in advance for any help anyone can offer, and please let me know if I need to provide any more info!"	6	"['nickm_27: Most likely the name in your config isn’t matching the name in the go2rtc config and you have not set live -> stream_name', ""holman8a: Thanks heaps for the help, think I got there in the end! I acutally didn't have live set up at all lol. Cheers!"", ""jeffmefun: Can you add more detail about how you solved this? I'm facing the same issue & don't even have go2rtc in my config.yml...\n\nTHANKS!"", 'holman8a: Hey I’m gonna be out the next 10 hours or so but can you post your config and I’ll compare when I get a sec? I don’t remember exactly what I did but I’ll see what’s different!', 'jeffmefun: Muchas gracias!!\n\nBoth cameras are wired. \n\nFront is a ubiquiti G4 Pro\n\nOther is an Amcrest  IP8M-DT3949EW\n\n    mqtt:\n      host: 10.0.243.90\n      port: 1883\n      topic_prefix: frigate\n      client_id: frigate2\n      user: homeassistant\n      password: qua3eighi4xua1cae7shoHaec8Iesi3Eiwouxei6naiH8Voo8oos8uxuxai0av7G\n    \n    detectors:\n      coral:\n        type: edgetpu\n        device: usb\n    \n    detect:\n      width: 1280\n      height: 720\n      fps: 5\n    \n    record:\n      enabled: True\n      retain:\n        days: 7\n        mode: motion\n    \n    ffmpeg:\n      global_args: -hide_banner -loglevel info\n    \n    objects:\n        track:\n          - person\n          - dog\n        filters:\n          person:\n            threshold: 0.75\n            min_score: 0.70\n          dog:\n            threshold: 0.75\n            min_score: 0.70\n    \n    cameras:\n      front:\n        ffmpeg:\n          inputs:\n            - path: rtsp://10.0.243.42:554/s2\n              roles:\n                - detect\n        objects:\n          track:\n            - person\n            - dog\n          filters:\n            person:\n              threshold: 0.75\n              min_score: 0.70\n            dog:\n              threshold: 0.75\n              min_score: 0.70\n    \n      cloffice:\n        ffmpeg:\n          inputs:\n            - path: rtsp://user:User1234@10.0.243.216:554/cam/realmonitor?channel=1&subtype=0\n              roles:\n                - detect', ""jeffmefun: Hey.... apparently this config just worked & I was confused that it was broken. No clue what changed, but I'll take it! \n\nThanks again for your offer of help!""]"
1681517380.0	14-Apr-2023 17:09:40	Aqara FP2 Presence Sensor Coming Soon!!!	platanito21	41	12mj1q4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mj1q4/aqara_fp2_presence_sensor_coming_soon/	"Looks like the Aqara FP2 Presence Sensor is finally going to be released soon!!!

[https://thematterhub.com/news/aqara-fp2-presence-sensor-announcement-coming-april-20th/](https://thematterhub.com/news/aqara-fp2-presence-sensor-announcement-coming-april-20th/)"	58	"[""wafwafe: No zigbee ? Only wifi and bluetooth ??\nI don't want this kind of stuff on my wifi :("", 'melbourne3k: Here’s a good overview from [The Verge](https://www.theverge.com/2023/2/24/23613530/aqara-fp2-presence-sensor-launches-china-price-specs-features). I don’t quite know how I feel about this device. I think I’ll get one to test out. The feature set sounds great, but I’m very curious how well this will integrate w/ HA. Sure, we’ll get homekit support, but I get the feeling a lot of those cool advanced features will require the app. Matter? Eh. We’ll see on that too.', 'meedl: Do we know how it differs to the FP1?', ""theloneranger08: For those concerned about wifi response times, it's apparently a non issue. \nhttps://www.reddit.com/r/Aqara/comments/11xtwnj/chinese_blogger_experience_with_the_aqara_fp2/?utm_source=share&utm_medium=android_app&utm_name=androidcss&utm_term=1&utm_content=share_button"", 'standarsh_69: hello this CCP, we noticed employee x from department y has anomalous presence behavior, commence black bag operation', 'Truth_Artillery: So its just compatible with Matters?  If I have the first version with Smartthings, theres no reason to upgrade?  \n\n\nI wish its range was better tbh', 'None: [deleted]', ""v_kowal: Damn but the FP1 with Home Assistant don't work well. OK for the detection but freeze everytime after, nees do reset it."", 'Hour-Guarantee-859: https://www.ebay.com/itm/394581665052?mkcid=16&mkevt=1&mkrid=711-127632-2357-0&ssspo=2mLOKXbBTiC&sssrc=2349624&ssuid=2mLOKXbBTiC&var=&widget_ver=artemis&media=COPY', ""theloneranger08: I think it's because of the amount of data it has to transmit. You can create up to like 16 zones so you could do automations for different parts of a room. It also has fall detection. Don't think china cares about when I'm triggering my sensor."", 'Time-Button4999: Agreed. No interest in this being on WiFi.', 'DecorationOnly: I believe I read somewhere that the issue is that Zigbee lacks the bandwidth for the features. Take that with a grain of salt, though, because it’s been a few months since I looked into it.', ""Lanten101: What's bad about it being on wifi?"", 'microlard: Oh please don’t whine.  You are probably better off with the everything smartthings sensor if you are cloudphobic.  The fp2 only requires internet for configurations from the Aquara app.', 'IPhoenix85: Wifi instead of zigbee', ""MrCalifornian: From what I remember reading before, it has more detection zones etc but won't work over ZigBee now because it transmits a lot more data. Personally, I don't care for more than a binary occupancy sensor so I'm sticking with my eBay-bought FP1s."", ""theloneranger08: Up to 16 zones, fall detection, knows whether you're going towards or away from it and at what speed I believe."", 'tungvu256: maybe available in usa finally. lol\n\nfp1 still nowhere to be found in usa. i had to get it from aliexpress', 'HassF: Doesn’t look like it… my guess is, it’s the same but they’ll be selling this version in countries other than China only now.', 'thebatfink: Because of what? Which feature is making you excited.', 'None: [deleted]', 'maniac365: My FP1 works fantastically well. I have had it since it released and have no issues with it till now. Has been working perfectly ever since', ""10gistic: The number of people properly segmenting and firewalling WiFi networks for these sensors is pretty negligible. Having a WiFi device on a hundred thousand networks is a pretty powerful thing even if all you want to do is DDoS and never collect any data.\n\nI agree China doesn't care about your room presence but with WiFi iot there are definitely bigger security concerns. Not necessarily specific to China, either."", 'DuffMaaaann: The FP1 supports 16 zones over Zigbee.', ""Rock--Lee: The main reason not to want Wifi is that 99% of those kind of devices (especially from China) only work when connected to their servers. Which means when they're down (or your connection is down) they don't work. And worse: if they decide to stop support, they become useless. \n\nSadly this has happened many many times with Wifi devices like cameras, lights, motion sensors, both from China and European and American companies. People ended up with paper weights since they took the servers offline and made it so that the devices only could work when connected from the start. Very few companies released a final update that removed this requirement. Most just pull the plug since it costs them money and they don't give a shit about their customers.\n\nWith Zigbee you are ensured you can use it local, without relying on commercial company that can pull the plug just because they don't feel like supporting anymore."", 'microlard: Great. Move along.', 'thebatfink: Personally I have lots of sensors, sensors on all doors, temps and motion in most rooms, leak sensors, blind motors, smart plugs.. at a certain point there is just so much shit in the network I feel like its burdening the router and the network. Possibly a psychological thing. Then there is that generally wifi devices need mains power, zigbee is low power and often uses batteries creating an easier installation. These ran off usb power if not mistaken so theres no getting around that in this case.\n\nI just want stuff that talks to home assistant over zigbee and keep my internet devices, pcs, phones, tablets etc. on the regular network. Also dont like having to block internet from all these sensors incase they phoning home or exposing security vulnerabilities. Having them in close proximity to zigbee stuff can also affect the zigbee connection strengths.\n\nPersonal preference really, dont think wifi is bad at all. I think once you have a good zigbee network running just prefer to add to that.', 'ams3401: You’re letting the Chinese know your presence by default.', ""The_Real_Ed_March: The manufacturer can turn it into e-waste whenever thewy want by turning off the server for the device or app.\n\nAnd these devices make a pretty good DDOS botnet.\n\nAnd if China cycles the power draw on all iot devices in a country every 5 seconds, it'll fry the whole electrical grid of a country and leave them powerless."", ""Chaosblast: That'd be actually worse lol."", 'None: [deleted]', 'escapethewormhole: being able to use 1 sensor and split open concept rooms into zones for presence detection.', ""v_kowal: Nothing move, i tested it yesterday in a closed room, and when i saw a mouvement, it's okay but after a doesn't detect that nobody is in the room..."", 'v_kowal: With deconz ?', 'theloneranger08: 10 according to this but yeah fair, idk why they abandoned zigbee. I use the Tuya presence sensors which use zigbee. No zones though but not a huge deal.  https://smarthomescene.com/blog/how-to-set-aqara-fp1-regions-in-home-assistant/', 'AndrewFromAqara: this device supports HomeKit and will support Matter, which means, it is able to work completely locally\n\nZigbee is absolutely the same, there are plenty of vendors that use Zigbee, but within their systems the automation executed on the cloud', 'microlard: Yet your fears have nothing to do with the FP2.  Facts matter, not irrational fears.', 'crewman4: Put your hub on Wi-Fi and they don’t ? I make sure to get devices that work locally only as well , then block internet access , regardless Wi-Fi or zigbee', ""theloneranger08: Don't think China is looking at your presence sensor activity lol"", 'AndrewFromAqara: The official version of FP2 is compliant with GDPR and other regulations, only uses local (e.g. European, American etc.) servers, please test it with a pihole.\n\nAnd, believe me or not, even if you use Chinese version, nobody in China will be interested in your room data or when you turned on the light.', 'microlard: Not if you are wearing tinfoil on your head.', 'IPhoenix85: Define ""worse?"" Not that I disagree with you but I\'m curious to know what the perception is for folks who believe wifi bad.... ZigBee good?\n\nFrom an engineering perspective.. wifi can send vastly more data... But they are still both on 2.4GHz..', 'thebatfink: He means what he said, not sure how you can not understand that single sentence. Must be something special to European Union then because they weren’t ever available in the UK either from what ever I could see. Had to be imported from China on aliexpress and such. What smarthome stores in Germany are carrying the FP1?', 'None: [deleted]', ""DuffMaaaann: Uhhh nice to know that Z2M added support for regions with the FP1. I have 4 of them with the 5th being ob its way from China right now. \n\nI personally use ZHA, but I guess I'll look into migrating to Z2M if ZHA doesn't add it soon."", ""The_Real_Ed_March: Don't you need the app to set it up? So if they pull the app you can't set it up.\n\nAnd the app might still need to talk to a server to function to set it up. So even if you have a version of the app saved somewhere, it still might need the server to work.\n\nI hate buying devices that a manufacturer can turn into e-waste when they want more profits. that's why I only buy zigbee or RF devices, and any wifi devices have to NEVER EVER require an internet connection or app, not even once."", ""ams3401: Except they are. Results from simple 1 min google search\n\n[Yes, China is probably watching us through our IoT devices | Digital Trends](https://www.digitaltrends.com/news/china-spying-iot-devices/)\n\n[China's strength in IoT could be a cybersecurity nightmare (techmonitor.ai)](https://techmonitor.ai/technology/cybersecurity/chinas-cornered-the-iot-market-that-could-be-a-cybersecurity-nightmare)\n\n[Chinese Officials Are Using Smart Devices for Surveillance (businessinsider.com)](https://www.businessinsider.com/chinese-government-smart-device-surveillance-2019-1)"", 'The_Real_Ed_March: For points 2 and 3 maybe. But point 1 is very common, My housemate threw out her Ring door bell just the other week because Amazon suddenly decided she had to start paying them money for something that used to be free.  \n\n\nI only buy devices that can run locally on Home Assistant without needing to ask a company for permission to work every day.', ""ericstern: Wifi pretty much requires the thing to be wired because the device has to maintain the network connection alive and needs power to do so. Most people like their sensors to not be so conspicuous, wires makes it harder. Most people also don't always have power outlets right next to where they want to put their sensors, which limits their choices of where they can put them if they're wifi.\n\nWifi does great with things that have power constantly, like switches, smart plugs, etc. Thing is for people who use zigbee, they would prefer to use zigbee where there is power too because then they can be repeater devices to expand and strengthen the zigbee network. Battery powered zigbee devices don't tend to be repeaters/routers, and are strictly endpoints, due to energy conservation purposes, which makes them last a lot longer on battery because they can just transmit small bits of data when there is a state change."", '_avee_: Zigbee is guaranteed to be local. With wifi devices quite often your only option is going via manufacturer’s server which is not ideal. Integrating such devices with Home Assistant may or may not be problematic and, particularly important for motion sensors, it adds latency.', ""Chaosblast: To add to the other answers, devices tend to react faster due to not using the same network. Also fully local, so not depending on your broadband router. Point is that sensors don't usually need to send that much data. That's why AFAIK Zigbee was made, specifically for these types of devices. Just more optimal."", 'thebatfink: The context here is small sensors in a home automation system. Its silly to make that comparison. What sensor needs to send vast amounts of data that can’t be handled by zigbee. Also zigbee good doesn’t equal wifi bad. Youre putting up a strawman. A jet engine will propel a car much faster than a regular combustion engine from an engineering perspective but I wouldn’t want one to travel the roads with. No one is surfing the internet with zigbee. You use the tool for the job.', 'SilentMobius: Harder to secure against rogue devices. ZigBee has no inherent mechanism to exfiltrate data out of your network whereas WiFi (More accuratle TCP) explicitly routes messages anywhere and devices need to be actively prevented from doing so', 'v_kowal: Yes i think too :/', 'AndrewFromAqara: OK if you are so concerned, you can wait for Matter update. The problem is, that none of the ecosystem apps including Apple Home, Alexa etc. support zones as they are  supposed to work for FP2. Matter is planning to support something like this later. We are looking forward to it. Also, later Aqara Home app will become local, and you will be able to control/set up the devices even if no cloud or internet are available which should address the concern.', ""theloneranger08: What could china possibly do with information about whether I'm home? They ain't invading Smyrna, GA. I'm more concerned about AI."", 'Ayfid: The FP1 already required wired power.', 'pressreturn2continue: <<China now puts Smyrna on their radar>> /s', ""JayEll1969: As do the two Tuya zigbee mmwave devices.  Difference is the Tuya devices also operate as zigbee repeaters, the FP1 doesn't  despite being usb powered."", ""ericstern: Ah, don't use em so I didn't know that, I guess if people still prefer zigbee over wifi in that case you might chalk it up to them having experience with bad/spotty wifi signal? It's happened to me before, had a tasmota light switch in the garage that would lose wifi connectivity intermittently because it was too far away from the access point.\n\nI do still have a mix of zigbee and some wifi(tasmotized) devices and have APs that cover the house with wifi a lot better."", ""speed47: My guess as to why they require power is that it's due to the mmWave sensor embedded inside, this kind of sensor is active and requires power all the time to do its detection job (contrary to PIR motion sensors, which are passive and do run on batteries pretty well).\n\nDue to this, I think we won't see any presence detection sensors not requiring power, unfortunately. Regardless of whether they use wifi, Bluetooth, zigbee, matter, or even none of those."", ""JayEll1969: And possibly because its an always active sensor it needs to be externally powered.  The FP1. COULDhave been made as a zigbee repeater, but wasn't""]"
1681514214.0	14-Apr-2023 16:16:54	Show Home Assistant DashBoard Raspberry Pi	AstroJit00	0	12mhggg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mhggg/show_home_assistant_dashboard_raspberry_pi/	Does anyone know how to show the actual dashboard of Home Assistant instead of just showing the terminal on my raspberry pi? I am currently trying to have the dashboard show up on a tablet I purchased from Amazon.	1	['mrbmi513: You open the website or app and point it at that Pi via its IP address.']
1681512711.0	14-Apr-2023 15:51:51	Nest secure shutdown	winston161984	0	12mgoxp	homeassistant	/r/smarthome/comments/12mgdu0/nest_secure_shutdown/		0	[]
1681511190.0	14-Apr-2023 15:26:30	Automate a file change (frigate.yml)	mstreck	6	12mfxx4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mfxx4/automate_a_file_change_frigateyml/	"I know this is a long shot, but I'm going to ask anyhow... I'm looking for a way to automatically read/write file contents of specific files in the config folder?

Here is why: I use the frigate add-on and want to automatically update the rtsp address of a Nest camera in the frigate.yml file. The RSTPtoWeb-WebRTC file provides the rstp address of the camera, but it changes periodically. It would be great if I could somehow read the address from there and update it in the frigate.yml file and restart frigate as needed. Otherwise, I need to do it all manually and that's not desirable.

I'm running HA on a NUC. I'm pretty sure I can eventually automate this with Python running on my laptop, by using Selenium and sendkeys but it would be great if it could all be done ""natively.""

Any ideas or is this just a pipe dream?"	5	"['morbidpete84: Depending on how you are running HA, making a quick sh script on the host to grab the URL and update the YAML via cron would do the trick.', 'Salty_Goose_8908: A simple cron job should do this', 'vytux-com: Not super familiar with nest cams, but why/how does your address change?', 'mstreck: Is that an option with the HA OS? I guess it’s time to dive into the CLI to see what I can make happen. Thank you for the suggestion!', ""mstreck: There is no local rtsp feed, but there is one hosted on the web if you enable it in the Nest app. I'm thinking it may change so you can't do exactly what I am trying to do -- use frigate instead of the Nest subscription package.""]"
1681510068.0	14-Apr-2023 15:07:48	Entity names are all messed up after update to 2023.4.4	MediumFamiliar3587	11	12mfdnc	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mfdnc/entity_names_are_all_messed_up_after_update_to/	"My entity names have gone crazy after the latest update to 2023.4.4. Lights have gone hidden, friendly names have been replaced by their internal ids...

I noticed that devices that have ""Switch as X"" are the affected devices only. What I see that happened was like this:

* imagine a device with one relay named 'Relay 1'
* 'Relay 1' was set up to be seen as a light named 'Desk lamp', thus making 'Relay 1' hidden
* when doing so, Home Assistant uses 'light.desk\_lamp' as the entity name for the 'Desk lamp'

After the upgrade to 2023.4.4 the situation is this:

* 'Relay 1' is being shown as lamp, and it's entity name is 'light.desk\_lamp'
* 'Desk lamp' is being shown as a relay, and it's entity name is the original device entity name.

The problem affects all devices in Home Assistant. I have over 100 devices. This is a headache to go and fix manually by myself.

Did anyone come across the same issue? thoughts?"	4	['maclauk: Think I might skip the whole 2023.4.X line of updates...', 'Shooter_Q: Lo siento. I only had one light revert back to being a switch that I had to fix. Maybe it’s better to roll back and try a later update.', 'nihility101: I had a couple switch as light that went weird with 2023.4, not sure which rev, .1 or .2, I think. The names got doubled. ‘Small Lamp’ became ‘Small Lamp Small Lamp’ as an example. I just fixed stuff as it wasn’t many.', 'WizrdOfSpeedAndTime: Yes I am seeing the same thing as well.']
1681509945.0	14-Apr-2023 15:05:45	ChatGPT in Node-RED function nodes	justanotherautomaton	185	12mfbb7	homeassistant	https://v.redd.it/vzn7jnikkwta1		34	"[""angrycatmeowmeow: Can't wait till people figure out interesting uses for this so I can copy their code."", 'Crazeeeyez: I feel dense.  I’m not getting it.  What is ChatGPT doing in this context that is not just JavaScript?', 'yellowfin35: Let me know when it can start the roombas when my wife and I both leave the house, because last time I tried to do it on my own it went off at 5am and my wife threw the roomba at me in bed.', 'icaranumbioxy: Node-RED is so freaking cool', ""AliB3: I tried to set up an automation once in home assistant to turn on lights at sunset and it didn't work, so then I tried node red and couldn't understand at all how to make it work =/"", 'Loud_Vegetable9690: Gee, and I thought I was ahead of the game by having ChatGPT provide the JavaScript code for a function that uses context to output a rolling average. This GPT node is much more general and elegant!', 'ayyycab: bUt YoU cAn’T tRuSt WhAt ChAtGpT sAyS', 'None: [removed]', 'donutsoft: Maybe ChatGPT can recommend a few ideas.', 'NoShftShck16: I don\'t think you are dense at all, I cannot fathom a use case where I\'d want AI interpreting inputs for an automation.\n\nI use Node Red to streamline my automations. Why would I want to introduce a literal wild card back into it?\n\nEDIT: I stand corrected. The example given by OP is a horrific example of best use cases of involving ChatGPT. However leveraging CGPT to bring natural language into TTS (as one example) or simply randomizing recurring TTS announcements / notifications are both excellent examples of how CGPT could actually benefit automations.\n\nI\'m still hesitant to run in *in* my automations. I think I\'d rather say, every sunday run a flow that builds an array of randomized ""Good mornings"" announcements that I would then pull from throughout the week.', 'nclpl: All ChatGPT is doing here is filling in the function node code based on the prompt you give it at the bottom of that window. There’s nothing dynamic, and there’s nothing that this does that asking ChatGPT and then copying and pasting the result into the node would do. \n\nBut this is certainly easier if you’re doing it a lot… you don’t have to prime the AI with “write me JavaScript for a Node Red function node that does…” every time.', ""boomzeg: It's writing (or fixing) that JS for you based on a description of what you'd like to achieve."", 'Phighters: This is super easy without GPT, just use geofencing. Mine is rudimentary, but flawless. After either of us leave, it waits 10 minutes, checks to see that we both aren’t home, and if not and it hasn’t run in the last day, it runs.', 'gourdo: I learned NodeRED by searching for various HA automation ideas I had, found some similar NodeRED flows that had been shared, imported them, followed the logic, made changes and eventually I created my own from scratch. I now have over 1200 nodes across dozens of automations on my main HA instance.', '57696c6c: [way easy](https://i.imgur.com/7LVwH8F.jpg)', 'giaa262: Home assistant uses some backassward implementations for sun tracking. It’s not intuitive. I just went through the same thing.\n\nYou have to use “below horizon” as a trigger rather than sunset.\n\nThe project would benefit from a UX designer', 'Hitnrun30: Much easier than the automation in home assistant. Plus you get to learn home assistant', 'Cha40s: I can use the home assistant Person entity and put them in a group for family. After that I can use that status of the family group to start automation when nobody is home. It’s very basic and u can just Google it.', ""AutoModerator: Please send the RemindMe [as a PM](https://reddit.com/message/compose/?to=RemindMeBot&subject=Reminder&message=%5Bhttps://www.reddit.com/r/homeassistant/comments/12mfbb7/chatgpt_in_nodered_function_nodes/jgmuamm/%5D%0A%0A!RemindMe%09Me%093) instead, to reduce notification spam for OP :)\n\nNote that you can also use Reddit's Follow feature to get notified about new replies to the post (click on the bell icon)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/homeassistant) if you have any questions or concerns.*"", ""cogneato-ha: Someone in an earlier post shared that they send more variations of text notifications on events to speakers this way so it's not the same announcement every time."", 'samuelbroombyphotog: I’ve recently hooked up Amazon Polly as a TTS service on my HomePods. When I trigger a good morning scenes, I want node red to pull all the weather info from the day, and digest it with GPT and output through the TTS. That’s just one use case :)\n\nOr pulling down the top 5 news stories of the day and parsing it into a fluid paragraph would be nice.', 'tubbana: 1. every time your face is detected, chatGPT gives you a passive-aggressive compliment (combined with TTS)', 'None: [deleted]', ""seg-fault: Yep. What we have right now is a ton of hype and people looking for ideas to justify the hype. This isn't too dissimilar to the web3 bullshit hype cycle we just exited. All the ChatGPT zealots are just useful idiots for VC money."", 'johnnorthrup: THIS so much!! Trusting the output of ChatGPT in a closed system is a recipe for disaster.', 'ayyycab: Makes tasks that require scripting/coding more accessible to people who don’t have that skillset. It’s not perfect, but the imperfection is worth it to some.  \n\nAnalogy: I can’t drive manual. I still want to drive, so I have an automatic. It does the shifting for me and I have little to no control over it. But what if the automatic transmission shifts wrong? Maybe it’s the way I drive but it hasn’t caused me any issues so far. And if I wasn’t satisfied with the results then that would be my cue to learn manual.  \n\nMost people wouldn’t say I’m playing with fire by getting behind the wheel of a car that’s doing its own shifting. Yet for some reason people get sooooooo apprehensive about using ChatGPT to enable HA to do really simple tasks.', ""thegreatmcmeek: ChatGPT is really good at handling/interpreting jumbled data, so although it's a wildcard if you're adding structured data, it's actually pretty good at condensing and summarising an input which is already in a non-standard format.\n\nE.g. Some automation which sends a weekly meal plan shopping list from Mealie via a webhook could have a bunch of duplicate ingredients for the different recipes, as well as varied measurements for those ingredients (one cup of flour, and 200g of flour etc)\n\nChatGPT can interpret that data and summarise in a human readable way and you can punt the output to a checklist or todo app - you're likely to still have some weirdness here and there but it'll certainly *mostly* reduce that without much effort on your part at all.\n\nIt's also good at explaining things, so you could pipe in a few news articles from different sites and ask for a brief summary of them as the output - again it won't be perfect, but it's got a good understanding of language so can usually get the gist of whatever it reads quite well.\n\nIt's could even be a good intermediary between something like a voice assistant and the user, since it remembers the context of the previous conversations better than any of the voice assistants I've used, and can interpret the meaning of your words better than most as well, so it could save you having to literally speak an exact phrase to perform some action, since you can just include in the prompt a set of outputs which it thinks most closely matches your request (likely to be much more hit and miss, but when it works this will be wild)"", 'Crazeeeyez: Ah ok so it’s not a chatgpt node it’s just a function node?', ""AliB3: I'm already confused. If you want the lights on at sunset why is it checking that they're on then turning them off."", ""kitanokikori: Changing that now would break everyone, it's not optimal but it works"", 'NoShftShck16: I do stand corrected, and I updated my comment to say so.\n\nHowever I still don\'t think I would include CGPT directly into my automations and would still have a flow that uses CGPT to build an array of ""Good mornings"" that I would then pull from with my actual automations.\n\nThere are simply too many variables with CGPT for me to use with automations I rely on so heavily.', 'ipreferc17: Or maybe just fun for people that like to experiment with new technology.', 'NoShftShck16: Your metaphor would work if automatics were invented within the last few months.', '57696c6c: It’s conditional, if sunset = true, turn it on, else, turn it off. That’s what the switch is performing based on true/false conditions. Also, you can get chatGPT to write this for you. Use v4.', 'ayyycab: Did automatic transmissions cause accidents in the first few months they were invented?', 'Chiralistic: Definitely. The first automatic transmissions allowed to switch from P to D without pressing the brake pedal, resulting in the cars immediately driving forward. Worst case the foot was on the gas instead of the brake pedal...']"
1681507395.0	14-Apr-2023 14:23:15	August 4th Gen (WiFi) won’t show up in HomeKit	Marty_Mac_Fly	2	12mdyea	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mdyea/august_4th_gen_wifi_wont_show_up_in_homekit/	"I have the August 4th Gen (WiFi) smart lock. I set it up and it works great in HAOS. However, when I edit the HomeKit bridge and “include” locks and select the August lock in the entity selections, the lock never shows up in HomeKit. The “wake” switch does come through if added separately. 

Any ideas?"	9	"[""jmcgeejr: you have to have it setup as it's own homekit device you can't have it bundled with other devices, something to do homekit controllers not having devices that are secure like locks and such.\n\n&#x200B;\n\nIn HA, make a new homekit controller and then only add in the lock.  Then add that controller to your homekit."", '400HPMustang: I had the same problem with mine. I ended up adding it to HomeKit directly and then just used the August integration in Home Assistant.', 'Marty_Mac_Fly: This solved it. You rule!', '400HPMustang: What is s2 security?', 'jmcgeejr: redacted because I was a dunce, answer is still correct but for the wrong reason :), thanks for pointing that out 400hp.', '400HPMustang: This lock doesn’t support Zwave so why would s2 security be a factor in the issue OP is having?', ""jmcgeejr: you're right, I may have hit the pub a little earlier today since it's a beautiful day out, my answer is still correct but I got my wires crossed, it's because homekit wont allow a device to be shared for some reason with other devices that are not secure when exposing them from home assistant to homekit.  I'll edit my response for future searches, cheers!!"", '400HPMustang: Thanks, and fwiw I wasn’t trying to be argumentative. I was just genuinely curious since I had the same issue and couldn’t figure it out. I thought maybe you knew about a hidden feature on the lock.', 'jmcgeejr: Nope, all good, you saved the interwebs from having (more) misinformation lol.']"
1681506744.0	14-Apr-2023 14:12:24	Zwave entities missing after installing Z-Wave JS UI	DJ-Anakin	4	12mdm87	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mdm87/zwave_entities_missing_after_installing_zwave_js/	"Hi. I'm only a few weeks into HA, and most things I've been able to stumble through, but this is defeating me. I have HA installed on a Pi, I have a Zooz S2 stick plugged into it. 

I've been using the zwave JS add-on and everything has been working fine, but today I updated to zwave JS UI add on. I can control existing devices from within zwave JS UI and from HA Devices list. All my devices so far are GE/Enbrighten switches and plugs. I added two more outlets after installing zwave JS UI, and while they show up in HA Devices section, when I click them they're both missing controls. All they show are ""+2 entities not shown"" which I click and it shows ""Basic"", and ""switch.kitchen_1_2"". All my other switches and outlets I added before today all show things like, switch.living_room_lamp_2, and light.living_room_lamp_living_room_lamp (no idea why that shows living room lamp twice, but it does). 

I also can't add them in any Automation. When I attempt to add the two kitchen switches to an existing automation (turn off lights at 11pm) it says Device: ""Kitchen 1"", Action: ""Set value of a Z-Wave Value"". My others allow Action: to be set as things like ""Turn off Living Room Lamp"".

I can control the two kitchen outlets from within zwave JS UI, but not from HA Devices. Why?! :(

Edit: I figured it out! I had to go into the options for the device, then under controls click the switch, the gear icon, and Enable it."	0	[]
1681506278.0	14-Apr-2023 14:04:38	Disable google cast sound?	hermy65	27	12mddj1	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mddj1/disable_google_cast_sound/	"Looked around on the home assistant forums and found an automation or two that was supposed to prevent that annoying chime sound from playing on my google home's but i was unable to make any of them work.

Does anyone have a working solution to disabling the google cast sound? thanks!"	17	"['Riffz: In the script I mute the thing first for 2 seconds, cast, and then unmute. Super annoying', 'tcbailey239: see if this works...\n\nAction 1 - set media volume to 0.01  \nAction 2 - play 1 second of silence .mp3. You can find files online to download  \nAction 3 - wait 1 second  \nAction 4 - set media volume to .4   \nAction 5 - text to speech or music without the ""google cast sound""', 'DVXT: Find use Chromecast audios on eBay/FB market place. They have a setting to disable the sound. If you keep an eye out you can get a good deal, despite most people charging quite a lot.', ""twobadmice: Yes it's in the Google app settings"", 'intrepidzephyr: I recall reading about someone scripting them to constantly cast so the chime never sounds. I read that and began imagining the unnecessary wifi traffic and wasted watts to hold the micros and amps running though', 'chicknlil25: I ended up having to do a combination of what was suggested here in order to get it to work.  It ends with a service call to for TTS.\n\n      - service: media_player.volume_mute\n        data:\n          is_volume_muted: true\n        target:\n          entity_id: media_player.speakers\n      - service: media_player.play_media\n        target:\n          entity_id: media_player.speakers\n        data:\n          media_content_id: media-source://media_source/local/1sec.mp3\n          media_content_type: audio/mpeg\n        metadata:\n          title: 1sec.mp3\n          thumbnail: null\n          media_class: music\n          children_media_class: null\n          navigateIds:\n            - {}\n            - media_content_type: app\n              media_content_id: media-source://media_source\n      - delay:\n          hours: 0\n          minutes: 0\n          seconds: 1\n          milliseconds: 0\n      - service: media_player.volume_set\n        data:\n          volume_level: 0.5\n        target:\n          entity_id: media_player.speakers', ""ams3401: For this very reason I gave up using Google Home Mini as doorbell chime. It's very fucking annoying."", 'shawnengland: Care to post some breadcrumbs? Feeling lost on this one as well.', 'AngryCvilleian: Can’t speak to google, put I do this with Alexa. In the script:\n-set volume near zero\n-add delay\n-run action that would cause audio/speaking response\n-set volume back to desired level\n\nNot perfect but works well for my use cases.', 'shawnengland: Can you elaborate?', ""Reg511: Aren't the microphones always on anyways? Listening for the wake word."", 'Riffz: Sorry I’m on mobile, but steps would look like this in your script or automation;\n\n1.\tCall service media player mute\n2.\tcall service media player play media\n3.\tcall service wait 2 seconds\n4.\tcall service media player set volume', 'Sunsparc: If you tap on the speaker in the Home app then go to Settings -> Accessibility, you can turn on/off the trigger/complete chimes.', 'intrepidzephyr: I see what you’re saying, and I meant microcontrollers. They’d still be active too I guess', 'AccidentalBirth: You\'re talking about the ding noise upon someone saying ""hey Google"". Yes, you can use accessibility settings to enable and disable that.\n\nOP is talking about the chime that plays prior to casting. It\'s not something you can disable.', 'shawnengland: So every speaker has that setting disabled/off. Still getting the boing noise when Home Assistant sends a TTS message', 'ntsp00: That is a completely different sound than what this thread is about']"
1681503619.0	14-Apr-2023 13:20:19	Load Full Logs Not updating	tonysmekal	1	12mc0r1	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mc0r1/load_full_logs_not_updating/	Hello, I have a small problem that my logs not updating, when i click view full logs. This was after update to 2023.4.4. Has anyone encountered this issue and if you do, could you please help me how to solve it.	1	['tonysmekal: &#x200B;\n\nhttps://preview.redd.it/shzo14vq9yta1.png?width=2560&format=png&auto=webp&v=enabled&s=c1f5ce92cc26edc9e708f9b0d48e918d8c9ed2c6']
1681503602.0	14-Apr-2023 13:20:02	Shelly Motion sensor disconnect and won't reconnect to HA	lowriskcork	2	12mc0fo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mc0fo/shelly_motion_sensor_disconnect_and_wont/	"&#x200B;

My Shelly Motion Sensor stop working with home assistant after months, I'm not sure why ( no problem with all the other Shelly devices I have).

I end up remove it from HA, then it was auto discovered again but when I enter name and password, I have Failed to connect.

\-- When I connect on the Shelly web interface with the same password I have no issue

on the Shelly Settings, I only have COIOT enabled and Cloud, any idea of what's going on ?

&#x200B;

&#x200B;

https://preview.redd.it/x76l66igrwta1.png?width=274&format=png&auto=webp&v=enabled&s=c7840b858bc434b474d56747cf07971125424205

&#x200B;

&#x200B;

&#x200B;

&#x200B;

https://preview.redd.it/cuui9mwerwta1.png?width=378&format=png&auto=webp&v=enabled&s=a7eacff5e00af74a4fa0f403c3895a5267bd5850"	2	['Shooter_Q: Have you tried switching it to MQTT just to make sure it’s dialing out? If it does, then it’s more likely the integration and not the device.', 'lowriskcork: Not yet! I’ll try to setup MQTT (I’m only using MQTT for Zigbee / zwave, but should be easy enough)']
1681503009.0	14-Apr-2023 13:10:09	Problem adding Zigbee Home Automation integration.	dontcallmejj	0	12mbpl7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mbpl7/problem_adding_zigbee_home_automation_integration/	"I recently upgrade to the most recent version of Home Assistant.  I'm running the core version in a Python virtual environment on Mint.  I started having Zigbee issues.  I removed the integration and now when I try to add it back I get the following error  Config flow could not be loaded: {""message"":""Invalid handler specified""}.   My Zigbee dongle is showing up on the command line as a usb device.   Thanks for any help."	1	"[""Wild-Bus-8979: I've noticed before that something holds the dongle when you remove the integration, try stopping the environment entirely and starting again, maybe even rebooting the computer""]"
1681502054.0	14-Apr-2023 12:54:14	FP1 not showing all entities with Deconz	Operations8	2	12mb598	homeassistant	https://www.reddit.com/r/homeassistant/comments/12mb598/fp1_not_showing_all_entities_with_deconz/	"From my start with HASS i have always used Deconz and a Conbee II USB stick.


I noticed my Aqara FP1 (i tried 3) are not showing lumi.aqara.occupany when using Deconz.


When i also install ZHA, it does detect the occupany entity.


Does anybody know why? I didn't see a reason to use ZHA besides Deconz before, but now i have to."	12	"['4241342413: Deconz is crap. Use zigbee2mqtt or zha', 'Operations8: What would best way be to step from Deconz to zha (or z2m) ? I cannot turn deconz off right? I will really have to deinstall it. \n\n\nAfter deinstalling reset all the devices. I really hope i will get it all to work again :)', 'Operations8: In one room i removed a few SHP13 plugs from deconz and added them with zha. They also show me more entities now... \n\nYou rock man, i was clearly using the wrong shit !', ""Operations8: Zha does look a bit slower when it comes to reporting current power usage. The updates seem slower. Is that correct? Or am i mistaken or do i have to change sometime somewhere?\n\n\nIt looks like it doesn't update the power sensor. It show 30 minutes ago when i open the power sensor. How do i make it receive updates every few seconds (like it did with deconz)?"", 'Operations8: Mmmmm if i remove deconz will zha automatically pick up all my devices? Or will i have to reset them one by one?', '4241342413: Nope will have to re-pair. It sucks but is worth it. I recommend z2m over zha', 'Operations8: Mmm z2m is also a integration like zha? I am pretty novice when it comes to hass.\n\n\nShame, that means i will have to reset all my smart plugs etc.\nWell if it worth it i will do it.\n\n\nWhen it is clear for me if i should use zha or maybe z2m. If i do it now for zha and you convince me to use z2m i have to do it all over again :p', '4241342413: Haha it’s sort of up to you. People think z2m had more device support and functionality but I’m sure there’s some zha folks who disagree. I recommend watching some YouTube videos to decide but you will probably be happier with either of them compared to deconz.', 'Operations8: Ok. I thought using Deconz was the way to go when i started. About 2 years ago. \n\n\nBut besides picking the one or the other, should deconz not also show the occupany enitity?', 'Operations8: Zigbee2Mqtt (is what you mean right?) Is not an integration, correct?', '4241342413: Yes. It’s an add in', 'Operations8: I have added z2m but i cannot get it to start.\n\nError:\n\n\n\nZigbee2MQTT:error 2023-04-16 11:47:04: Error: spawn\n\n\n udevadm ENOENT at Process.ChildProcess._handle.onexit\n\n\n (node:internal/child_process:285:19) at onErrorNT\n\n\n (node:internal/child_process:485:16) at\n\n\n processTicksAndRejections (node:internal/process\n\n\n/task_queues:83:21)\n\n\n\nSince i use a Conbee II i have added this:\n\nSerial:\n\n\n\nadapter: deconz\n\n\n\nAny ideas?']"
1681500405.0	14-Apr-2023 12:26:45	Enable or disable devices on schedule	Hylian-Loach	0	12ma2d2	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ma2d2/enable_or_disable_devices_on_schedule/	"I am looking for some tips to create an automation. I have overhead fixtures controlled by a smart wall switch, and lamps controlled by smart outlets. They are turned on and off by automations, the physical switches, and voice via Siri. I would like them to not turn on after sunset.
Because they are in scenes and controlled various ways, I think enabling or disabling them makes sense, but I can’t see that option in automations. What type of automation should I be looking at for something like this?"	3	['sleekelite: don’t do that, have a binary switch that turns on and off with the sun and have automations condition on it', 'Rock--Lee: Or just use the sun.sun integration and use that as a condition on its own. No need to have a binary switch ;)', 'zSprawl: Yeah no middle man sensors. Just enable the sun integration.']
1681498822.0	14-Apr-2023 12:00:22	Trying to configure the Yeelight integration - no luck	PgUpPT	0	12m8yiw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m8yiw/trying_to_configure_the_yeelight_integration_no/	"When adding the Yeelight integration, I leave the ""host"" field blank and it [successfully finds my ceiling light](https://i.imgur.com/MZyXiBK.png) and [adds it to HA](https://i.imgur.com/wy3i604.png), but then in the integration status, it says [it can't connect to the light](https://i.imgur.com/GNH0HaS.png). Any tips? Thanks!"	1	['PM_ME_YOUR_BBW_BOOBS: It’s been a while since I set up a Yeelight but I seem to remember I needed to put the bulbs into Lan Mode (using the app) to be able to control them from outside the Yeelight app. Also, you could try putting the IP of the light into the integration setup instead of leaving HA to auto discover it.']
1681498716.0	14-Apr-2023 11:58:36	Should Coral USB be listed on hardware page	JrPek	0	12m8vpv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m8vpv/should_coral_usb_be_listed_on_hardware_page/	"Every other USB device is listed on hardware page but not Coral. Should it be there? I have tried every usb port on HP Elitedesk with USB cable provided with Coral and tried also with powered USB2.0 hub. One white LED on Coral turns on with every port. But cant see it on hardware page.

Edit:

Seems that it doesn't have show on hardware listing page. Frigate does the object detection after removed cpu detectors and added Coral. I thought device should be more specific path to USB device than ""usb"", but seems not:

    detectors:
      coral:
        type: edgetpu
        device: usb
        model:
          path: ""/custom_model.tflite""
    #  cpu1:
    #    type: cpu
    #  cpu2:
    #    type: cpu

&#x200B;"	0	[]
1681498252.0	14-Apr-2023 11:50:52	Newbie here. Raspberry Pi 4 destroyed two SD cards in one day (?)	Zedredditer	4	12m8kbh	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m8kbh/newbie_here_raspberry_pi_4_destroyed_two_sd_cards/	"New to all this, so sorry if the question is worded poorly.  I just bought a Raspberry Pi 4 and after a successfully etch, I got Home Assistant up and running.  But then I moved it to another location and it stopped working and also I could not re-etch the SD.  I assumed that I just had a bad SD so I bought another one.  And exactly the same thing happened.  I see that improper shutdowns can trigger SD failures, but really?  Does it happen every time?  Like whenever the power goes out?  

Basically I'm wondering if my Pi is just bad, or if I've had bad luck.  Also is there any way to restore the SD card which I assume is still physically fine?"	13	"['ThePixlPirate: Good lord, what kind of cards are you buying? I was using the same card for over 3 years without having problems until I recently switched to an SSD just as it’s the next progression of tech. \n\nAnd no, they shouldn’t just die because of power outages/cuts….we’ve had plenty of outages and I’ve pulled the power on multiple occasions without problems', 'Milk_A_Pikachu: Let\'s break this down a bit:\n\n&#x200B;\n\nCan an improper shutdown trigger a (solid state) drive failure: Effectively no (there are really weird corner cases that are impossible for all intents and purposes). The worst that can happen is that you fail to write an important system file correctly (as in you are doing a package update) and the OS gets borked. The common case is that nothing happens (because this is a common scenario) or you have a corrupted log. But this is all fixed by just reformatting/""etching"" the card.\n\n&#x200B;\n\nAre SD Cards good for OSes: No... with a ""but it is fine"". Back in the day, yeah, this was suicide. But running an OS on an SSD (without a lot of backups) was also a bad idea. The reality is that you do have a limited number of writes to any form of solid state. And, on paper, they are low. But, in reality, they are high enough to survive the lifespan of most devices because the hardware controllers spread those out and OSes are generally aware of this and compensating as well. You shouldn\'t but... whatever.\n\n&#x200B;\n\nSo why do raspberry pis kill SD cards: mostly because people are buying cheap SD cards. I think both Linus Tech Tips and Gamers Nexus have done videos on this, but the way this usually works is that a scammer buys an SD card of one size (let\'s say 256 GB),  hacks the firmware to report a much larger capacity (let\'s say, 2 TB), and then you kill the card almost instantly because of write errors.\n\n&#x200B;\n\nSo what probably happened to you: you bought those SD cards for cheap\\* and learned a lesson.\n\n&#x200B;\n\n\\* : Yes, it is possible that you bought a Sandisk (or other reputable source) card from Sandisk via amazon but an evil gremlin in the warehouse swapped them out. But this is pretty rare for the same reason most supply chain theft is. Those amazon warehouse workers are so overworked that they are buying diapers so that they don\'t get docked for needing a piss break. They don\'t have time to swap around the sandisk cards with the sandask cards and so forth.', ""doenietzomoeilijk: Apart from the SD cards maybe not being up to the task, as others have pointed out, you might want to investigate your power situation. Are you using an official brick or a knock-off Chinesium special? Is your powerline flaky?\n\nI, too, have seen cards going strong for years, and I've also seen them perish in short order, the latter usually being caused by improper power supply."", 'Mysterious-Bowler15: Same reason we stopped using Rasberry Pi every time we have power failure my SD cards are broken. Tried several brands always the same, and not only with Home Assistant.', 'live_archivist: Switch to a solid SSD or USB device', 'jdjvbtjbkgvb: Yes it really can be that bad. Just get an USB 3 SSD.', ""triplerinse18: Do yourself a favor get a cheap dell optiplex off ebay add a ssd. And don't wooer about sd cards. Maybe even a intel nuc used."", ""RequiredTraining: HA does a lot of writing and SD cards corrupt easily. You should unfortunately buy an SSD and run from that. My SSD is plugged into USB on my Pi4 and it's been rick solid for almost 2 years."", ""Zedredditer: They were both SanDisk Extreme A2 64 GB, which I understood to be decent.  Since two were wiped out in a row, I started to assume it's the Pi and not the cards.  But I'm only guessing there."", 'ntsp00: Same experience with my sd card, going on 4 years.', 'put_on_the_mask: Counterfeit goods don’t get into Amazon’s supply chain via the warehouse staff, the fraud happens before Amazon takes receipt in the first place. Usually when it’s a “fulfilled by Amazon” product from a third party seller rather than the actual manufacturer.', ""mother_a_god: Yep, really annoying when it happened to me too. Got at most 6 months out of my cards. It's a shame that is still the default install mode and newbies find out the hard way, and especially hard if there are no recent backups...."", 'gpuyy: Sounds like fakes\n\nBeen using Sandisk extremes for years now, no failures yet']"
1681497227.0	14-Apr-2023 11:33:47	HASS HUE w/ GLEDOPTO GL-C-008P	AuZZZZZZie	0	12m7stk	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m7stk/hass_hue_w_gledopto_glc008p/	"Is anyone using the GLEDOPTO GL-C-008P controllers with the HASS HUE Integration? I'm talking specifically about the P (Pro) version as my non-P seems to be behaving normally. 

Everything appears fine with them. However, anytime I set a color/kelvin, it lasts for a few seconds then the HASS UI automatically reverts to Blue. 

I'm thinking there is a compatibility issue with these controllers because they all worked perfectly under HomeSeer prior to moving to HASS, but they're also super popular so I find it hard to believe they're not compatible. 

At a bit of a loss as to how to correct it."	0	[]
1681496630.0	14-Apr-2023 11:23:50	Aqara Magic cube automation ideas with HA and quick review!	Soggy_Breakfast_2720	0	12m7ceb	homeassistant	https://v.redd.it/1ka5cvypoxta1		1	['Creepy-Ad8688: Inspiring video. 😀 I have the Aqara cube t1 pro just purchased and when adding it using ZHA it does not work as expected. Only when I use the Aqara m2 hub I can utilize it. Unfortunately I don’t have anything to control in that hub thus wanted it in HA. I’m concerned people will say just switch to z2M instead and it will work. 😉but I’ll keep digging how to add it.']
1681496292.0	14-Apr-2023 11:18:12	Why doesn't this template round correctly?	Kat81inTX	1	12m72ud	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m72ud/why_doesnt_this_template_round_correctly/	"I've got a simple template that displays the current volume setting for media players:

      Volume: {{ state_attr('media_player.office_homepod','volume_level') * 100 | round(2) }}%
      State: {{ states.media_player.office_homepod.state }}

But the number displayed is not always rounded correctly.

[incorrect rounding](https://preview.redd.it/dtxnmvl16wta1.png?width=690&format=png&auto=webp&v=enabled&s=5b054e51f878d4f085ec3bb8f5eced2eecc2c96c)

Thoughts on why this syntax isn't working?"	6	"['Sometimes-Scott: I think you are round 100. It should be like (state *100) | round', ""wishIknewbackwhen: Put another set of brackets around the term to be rounded and convert to integer?!\n\nVolume: {{ (state\\_attr('media\\_player.office\\_homepod','volume\\_level') \\* 100) | int }}%\n\nNice music choice :-)"", ""mill1000: Round outputs a float which can't represent every real number exactly. Trying converting the round output to an integer."", 'Kat81inTX: I should have said ""sometimes"" in my question. The template doesn\'t always display incorrectly (I\'m using the same template for all three of those cards, and took the screen snap below after telling Siri to set the volume to 50%):\n\n&#x200B;\n\nhttps://preview.redd.it/9w33xtejsxta1.png?width=2064&format=png&auto=webp&v=enabled&s=bea63be0a1b4db04145b69210f0882a3c9c2f613', 'Kat81inTX: So what I’ve learned is that the pipe operator in Jinja is more like a mathematical operator than the Shell pipe operator … that’s a tricky nuance for old *nix guys like me.\n\nThanks for the guidance … now back to some good tunes …', 'skepticalcow: He’s right though.  You’re just rounding the 100 and that’s the problem.']"
1681496139.0	14-Apr-2023 11:15:39	Help with creating custom dashboard card with toggle option and timer	SnooPies8803	4	12m6yek	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m6yek/help_with_creating_custom_dashboard_card_with/	"Hi, I am trying to make custom card where I would be able to control switch by manually toggling it on/off or based on time, for example, I set countdown timer when the switch will be turned off or time interval, like between 0100-0700h.  


EDIT: I found [this](https://community.home-assistant.io/t/timer-automation-with-toggle/340983), but I am unable to import(due to lack of knowledge) it in my home assistant, but this is exactly what I need.

Since I am new to home assistant, I barely managed to install z2m and setup a few switches, I am struggling to achieve this feature.Can somebody help me, give me a keywords if not the solution to this? I tried to google, but I am missing keywords that are used in the community, so I hardly can find something.

&#x200B;

thanks"	4	"['ReallyNotMichaelsMom: If you go into Home Assistant -> Settings->Devices and Services, the tab on the far right is ""helpers"".  They are saying you need to create three helpers. \nA toggle helper (they named it timer 1 toggle).\nA number helper, set as a slider (they named it timer 1 slider)\nAnd a timer helper (they  named it timer 1 timer)\n\nI didn\'t see them say anything about making the timer restorable, but I would. Check the box that says ""Restore?"". If you don\'t check it, no big deal. You can edit it later and check it if you want it. It just means that it will keep track of the timer end time, even if you restart Home Assistant.\n\nOnce you do those, go to Developer Tools (should be in your right hand column, probably near the bottom) and click on YAML. Once there, click on the option to check your configuration. It everything is good, you can go down a bit and click to reload ""All YAML configuration"".\n\nOnce that\'s done, you can create a card and an automation. Let me know if you have trouble with that, and I\'ll come back. \n\nI also recommend Smart Home Junkie on YouTube for really good tutorials :)', 'ReallyNotMichaelsMom: I\'d recommend creating the automation first, and then the card. Use the exact names they\'re using, unless you need them to be different. \n\nAre you using this for a plug? Or something else? (I created something based on the link you sent, in order to auto turn off a ""do not disturb"" toggle I have.)', 'SnooPies8803: Thanks man, I owe you a beer 🍺', ""ReallyNotMichaelsMom: No problem. I get almost all my HA stuff from videos on YouTube and it hasn't been that hard. (Except for the month where my HA wouldn't connect and I unplugged it and put it away and cried until I could deal with it again. Who knew that it needed a static IP? Not me!)\n\nMy problem is always with my dreams outstripping my understanding of HA :)""]"
1681495669.0	14-Apr-2023 11:07:49	Doorbell won't update to newer firmware	iansime	1	12m6kep	homeassistant	/r/reolinkcam/comments/12m6jpb/doorbell_wont_update_to_newer_firmware/		4	"[""rickyboone: It's complicated further by the device and its firmware no longer being listed at [https://reolink.com/download-center/](https://reolink.com/download-center/) ... Very strange, as it was listed there a few days ago.\n\nI have a request out to Reolink's support, so hopefully they'll respond with more information soon."", 'nickm_27: They pulled it due to issues.', ""rickyboone: Yep, that was what I was suspecting as well, just odd that it was removed without anything in its place.  Even the form at the bottom of the page to request update emails for specific devices had it removed. Must have been problematic enough to warrant removing it from the site, though.\n\nSupport replied last night with the following. Probably best to wait for an updated firmware to be released that addresses any major issues, but if you need the update, it looks like support will make it available.\n\n> Sincerely sorry for the hassle caused. \nAttached is the new firmware for the camera:\n> \n> We'll update a new version to the download center soon. Please stay tuned."", ""Foreign_Baseball8168: \\*\\*\\*Twelve Days Later\\*\\*\\*\n\nStill no update from Reolink. I'm still in the warranty/return period and wondering if this latest Chinese device, which only supports USA customers from 1700-0230 (overnight) is worth it.\n\nTo not have anything on the website, in the support area, is just lack of customer-focus. Is it worth it? That is the question??? Not sure.""]"
1681495657.0	14-Apr-2023 11:07:37	How to inject (start) a flow in NodeRED from Home Assistant?	VikingOy	4	12m6k1q	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m6k1q/how_to_inject_start_a_flow_in_nodered_from_home/	"In NodeRED there's a very useful and simple node called `Inject` that can be clicked manually to start a flow for testing purposes.  Is there a way to have HA ""click"" that node?

Or, is there some other very simple way to start a specific Flow in NodeRED from HA?"	15	"['Evanito: What you would usually do in NodeRED is listen to a certain event in HA, usually with the ""events: state"" node.\n\nThen it\'s as simple as ""when door goes into unlocked..."" and you\'re back on track!', ""Im1Random: You're probably using the `node-red-contrib-home-assistant-websocket` library in NodeRed right? There you can just use the `button` Node, it will create a button in HA which will trigger everything connected to it if pressed. Not sure but you may need to have the `Node-RED Companion` Integration installed in HomeAssistant for this feature."", 'PKune2: Create a ""button"" entity in HA, then use the state event of that entity to trigger. \n\nAlternatively, create an empty script, then use the script event to trigger', 'ehutch24: Node red companion in HACS', 'VikingOy: Man! Your answers certainly doesn\'t lack creativity; ""Press a button"", ""create a helper"", ""use a trigger""\n\nI don\'t want any of that!  I just want to parse an execution thread from HA to NR. Not associated with any event, action, trigger and without passing any data or parameters.\n\nSomething like:\n\n`call_service.nodered_node_x`\n\nWhere ""node\\_x"" denotes the starting point (node) of the flow where execution continues.', ""VikingOy: Well thanks for your suggestions, but that's not what I want to do.\n\nLet me put it this way: Suppose you imagine the NR Flow as if it was a subroutine or library routine, and I just want to call it from a HA script or an automation.  Not as a result of any event or action. I have no need to pass any parameters, data, messages or state values."", 'Ok-Jury5684: This.\n\nThen add HA nodes, and listen to state of sensor, or event, sent by button click.', 'LiupingToo: If you create a button node in node-red (with the HACS companion installed), you can press it from you automations in HA. It’s as easy as calling a subroutine. \n\nYou don’t need to monitor it or anything. It looks similar to an inject node on your node red graph, but is a button as far as HA is concerned.', 'dergib22: Would publishing to MQTT feel less associated with any event, action, trigger and less passing any data or parameters?', 'Evanito: Create a helper button in HA, and then listen to that push event in NR?', 'Im1Random: You can also press this button via an automation.', 'wishIknewbackwhen: Do you need to mix, or can you stay completely with either NR or HA?', 'VikingOy: Great! 👍\n\nThat was exactly what I was looking for 🙂\n\nThank you so much!', ""VikingOy: Perhaps. I have Mosquitto running, but I've never tried to integrate it to NodeRED.\n\nHow would a sample automation YAML look like to make this work?"", 'dergib22: To test this, I made a little loop that starts with an inject node in Node-Red which connects to an MQTT Out Node. \n\nOn the HA side I have an automation with a trigger subscribed to the same topic as the MQTT Out Node. The action of the automation is to republish the received payload on a new MQTT topic.\n\nBack in Node-Red, I have an MQTT In Node that is subscribed to the new MQTT topic connected to a debug node to see the data moving.\n\nNode-Red side:\n\n    [{""id"":""5ca86cdfaff06074"",""type"":""mqtt out"",""z"":""13008f0b.b93a41"",""name"":"""",""topic"":""Node_Red/Fire"",""qos"":"""",""retain"":"""",""respTopic"":"""",""contentType"":"""",""userProps"":"""",""correl"":"""",""expiry"":"""",""broker"":"""",""x"":1240,""y"":4120,""wires"":[]},{""id"":""887a69e966b9dd57"",""type"":""mqtt in"",""z"":""13008f0b.b93a41"",""name"":"""",""topic"":""Node_Red/Node_X"",""qos"":""2"",""datatype"":""auto-detect"",""broker"":"""",""nl"":false,""rap"":true,""rh"":0,""inputs"":0,""x"":990,""y"":4180,""wires"":[[""db29c62c2020a59b""]]},{""id"":""49654802c96cf333"",""type"":""inject"",""z"":""13008f0b.b93a41"",""name"":"""",""props"":[{""p"":""payload""},{""p"":""topic"",""vt"":""str""}],""repeat"":"""",""crontab"":"""",""once"":false,""onceDelay"":0.1,""topic"":"""",""payload"":"""",""payloadType"":""date"",""x"":980,""y"":4120,""wires"":[[""5ca86cdfaff06074""]]},{""id"":""db29c62c2020a59b"",""type"":""debug"",""z"":""13008f0b.b93a41"",""name"":""debug 17"",""active"":true,""tosidebar"":true,""console"":false,""tostatus"":false,""complete"":""false"",""statusVal"":"""",""statusType"":""auto"",""x"":1220,""y"":4180,""wires"":[]}]\n\nHA Automation YAML:\n\n    alias: MQTT Test\n    description: """"\n    trigger:\n      - platform: mqtt\n        topic: Node_Red/Fire\n    condition: []\n    action:\n      - service: mqtt.publish\n        data:\n          qos: 0\n          retain: false\n          topic: Node_Red/Node_X\n          payload: "" {{trigger.payload}} ""\n    mode: single']"
1681494659.0	14-Apr-2023 10:50:59	Why are my Aqara sensors so unreliable?	chai_investigation	45	12m5ntp	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m5ntp/why_are_my_aqara_sensors_so_unreliable/	"I have a small apartment (\~600 sqft). I have the Raspberry Pi and a Sonoff Zigbee dongle in the middle of the apartment, away from both WiFi... devices. Whatever. You know what I mean. The things that make the internet go *vroom*. There is an extra Bluetooth dongle plugged into the Pi, but the Zigbee dongle is a foot or two away on a cord.

I have installed Ikea GU10 bulbs and Sonoff smart plugs in areas further from the dongle. I've connected the Aqara sensors in those areas to the repeaters, not the Zigbee dongle.

But the Aqara sensors just won't stay alive. I'd say the problem is getting worse, not better. The ones on the fringes drop constantly (except the furthest one because...because). It's even impacting motion sensors that are like eight feet away.

Does anyone have ideas as to what I can do? Ideally short of replacing the sensors, at least short-term there's no way I have the money for that."	61	"['braucktoon: Is it possible that your zigbee dongle is getting interference from your WiFi or nearby WiFi. I run my sonoff dongle on channel 26 which doesn’t seem to interfere with my WiFi. But I also don’t live in an apartment.  Maybe do a scan of the surrounding WiFi channels and see if there is possible interference. Can you see if the zigbee end devices are connected to the routers?  The zigbee map should show you. For reference I have the same setup as you. But my dongle is 10 foot from my pi. I also live in a 4 bedroom house and my dongle in the basement. I have zigbee blinds on second story that work fine. I also have Aqara sensors all over the house. Everything hums along.', 'Ancient-String-9658: Aqara devices bind to one device and don’t switch when that device is turned off/out of range. \n\nPersonally I feel ikea and Sonoff devices are quite unstable for the Zigbee mesh. \n\nCan try two things:\n1)Get a Philips Hue plug they tend to play nicely with Aqara \n\n2) try bind the Aqara devices right next to the dongle to make sure it connects to the dongle and not another device.', 'NicoLeOca: Mine were too until I move to zigbee2mqtt', 'alex3305: Besides all the other recommendations, you can try to lower the TX power of your Sonoff dongle. What happened in my apartment is that my dongle could easily reach my Aqara sensors, but not the other way around. By lowering the TX (or transmit) power of my Zigbee dongle the Aqara devices are forced to use routers to reach your dongle.', ""ReallyNotMichaelsMom: TL;DR: Since you're using a dongle, I'm assuming you're using Z2MQTT. Is that correct? If you go to the Z2MQTT page, are all the columns filled in correctly? If you check your map, does your mesh look good with more than one router?\n\nLong version:\nAqara doesn't use standard Zigbee. When I was using ZHA, I had more problems with them dropping off. I switched over to Zigbee2MQTT and things have greatly improved. HOWEVER, with almost every single one, when I removed it from ZHA and re-paired it with Z2MQTT, I would have to forcibly remove and repair several times before everything showed up correctly. (I have one room sensor that still doesn't have everything showing correctly, but I got tired of re-pairing it over and over and it works well enough.)"", ""salsation: Hard to say if it's the sensor or the dongle, but it's best to keep the dongle a few feet from what it's plugged into. I use a random 1m USB extender and it makes all the difference in the world. I'd also replace the batteries with known good fresh batteries (tested with a cheap battery tester).\n\nIf stuff works but only intermittently, I find it's usually a hardware problem: physical connection, location (interference), or power. Good luck!"", ""5yleop1m: Have you tried replacing the battery in the aqara devices? I had low signal until I replaced the battery. \n\nAqara devices also don't work with all zigbee repeaters, try connecting them directly to the zigbee dongle."", ""Daniel15: Check that your Zigbee channel doesn't overlap your wifi channel:\nhttps://i.imgur.com/FtVa8bz.png\n\nIf you're using ZHA, switch to Zigbee2MQTT. Z2M is much more reliable, especially for Aqara devices."", 'Leading_Release_4344: What’s the link quality? Are you using z2m or zha (default)? I think both have maps that show the quality', 'surly73: My zigbee network has been very, very good (not quite perfect) in my two storey detached house. \n\nI have specifically chosen my zigbee channel to avoid my own wifi channels as best I can. I have a tubesz PoE zigbee router/coordinator located centrally on my ground floor and a sonoff zigbee stick flashed with router firmware located centrally/opposite on my upper floor.  I have over 20 Aquara MCCGQ11LM door/window sensors and around 8 Aquara SJCGQ11LM leak sensors running over a year on the batteries that came in them and everything just works almost all the time. \n\nI have a small handful of other devices (IKEA buttons, a water valve…) so far so good.  \n\nI use Z2MQTT.  There are multiple model numbers for Aquara window sensors and they don’t all work as well. I carefully and specifically selected the model number I did based on Z2M documentation.\n\nEDIT: when I check the map it is as I expect - devices attach to the closest router. When the dedicated router was unplugged (kids) everything moved to the tubesz coordinator but with more challenging signal strength. When I plugged the router stick back in the network went back to normal.  To those saying aquara devices never move - in my experience they move just fine.', 'justin_144: There are some devices (repeaters) that do not work well with Aqara. Aqara will bind to those repeaters but they never work great unless their bound directly to the coordinator. I suggest removing Aqara from your setup.', ""digiblur: That's really the Aqara way unless they are the newer Zigbee 3.0 spec models.\n\nDo make sure your local wifi is using channels 1, 6 or 11 at 20mhz. I would use Zigbee channels 15, 20 or 25 (ZLL channels). 26 is tempting but some sensors have power power and some don't support it. Also make sure you have an extension cable to get the thing away from the HA host. Use a 2.0 USB port if possible. And lastly make sure you have a decent mesh of mains powered devices."", ""Time-Button4999: I've found that 1) they hate bad or even average signal, anything less than perfect and they'll drop after 24hrs.. And 2) they hate not being directly connected to a powered repeater.\n\nThe IKEA repeaters have been superb for me and have solved all my Aqara issues."", 'SlimeQSlimeball: It’s your battery. I bought some and they would not stay connected for anything. I got so fed up that I soldered 2 AAA batteries to the battery contacts. ROCK SOLID ever since. \n\nNever again will I buy coin battery powered sensors.  Just too much crap to put up with.', ""Kage159: I have a bunch of Aqara devices and they are solid.\n\nFrom reading your post I wonder if it's because you're in an apartment. If you do a wireless scan I bet the entire 2.4 spectrum is saturated and I'd bet there are even APs splitting channels.\n\nIf this is the case then ZigBee is going to struggle no matter the flavor."", 'kyriii: It sounds to me like you are comparing battery powered devices to devices that are connected to a powersource. This unfortunately is behaviour that I see with devices from all kind of brands. The battery devices have far lower reliability', ""OriginalPiR8: How many zigbee coordinators (the one giving the orders) do you have?\nIf it's just your dongle that's fine but expect it to only handle less than 10 reliably on its own.\n\nHow many zigbee repeaters (these are mains powered zigbee devices) do you have? These are really helpful in expanding your zigbee network without getting something better than a draught dongle.\n\nHow many zigbee devices do you have?\nIt should be approximately 10 per repeater with the repeaters feeding the dongle if you get everything happy. A zigbee network map will help with that.\n\nI say all this because I went out and bought a shit ton only to find out it's not like WiFi devices. There is a significant and brutal device cap. Dongles are also not the best way. Wired coordinators and routers like Tube's are the cream. I have three plugs, one coordinator and about 45 sensors"", '400HPMustang: I bind my Aqara sensors to a plug nearby instead of directly to the hub.', ""gdnt0: Is it the ZBDongle-P or ZBDongle-E?\n\nI had issues with the ZBDongle-E but the P is working very smoothly.\n\nBefore using either I had the RaspBee II and Sonoff Smart Plugs worked very poorly to the point of making the network unreliable. Can you experiment with not using them for a while to see if it helps?\n\nI haven't tried using these smart plugs since I switched to ZBDongle-P, so I'm not sure if they had issues with RaspBee specifically or if they are just bad."", 'zSprawl: A lot of good ideas for troubleshooting Zigbee but also make sure your usb coordinator has the latest firmware. For example, if you have the Sonoff-P, there are a number of fixes specifically for Aqara included in more recent firmware updates.', ""Matt_NZ: I have two Aqara door/window sensors (mccgq11lm) which I have paired with a SkyConnect running with ZHA and I haven't had any issues with them losing connectivity. \n\nI was surprised actually, since the SkyConnect is located in my garage where my HA box is located (well, VM running on a server...) and one of the sensors is all the way at the other end of the house behind walls and doors on a window (about 20m away)"", ""FuzzyToaster: It's usually one of two things: wifi interference or USB EMF.\n\nVerify your wifi channel and ZigBee channel don't overlap. Then get a USB 2 extension cable for the ZigBee radio. A shielded one with a ferrite ring - i.e. a thick cable with a lump."", ""chicknlil25: I feel you on this. I've got a Sonoff dongle, channel 26 (best according to scans I ran), significantly away from my box. I'm using Z2M. My mesh is roughly half routers and half end devices, and I built it out the suggested way (adding routers from closest to furthest away, and then adding end devices).  So it's rock solid.\n\nEven intentionally pairing Aqara to the closest router, they're unreliable. I really don't understand why Aqara in general gets so much love. I think I've got 4 left in my place, the rest I've replaced. Two of the devices that remain are buttons. I had a third, but it decided to stop working (despite replacing the battery) and wouldn't re-pair at all.\n\nI've got a water leak sensor that's been basterdized into a bed pressure sensor and that one falls off the mesh repeatedly, which means removing it from the bed, removing it from Z2M, all sorts of restarting and rebooting, swearing and praying before it eventually gets back on. Until the next time, of course.\n\nUltimately, others have offered suggestions that could work, but I'll offer the one you don't want to hear: replace those devices. You can likely find a much cheaper (and more reliable) replacement on AliExpress. All of my contact and motion sensors are random AliExpress brands and with the exception of one motion sensor, I've had no issues."", 'cpressland: I’ve had nothing but problems with all of my Aqara devices. I have about 65 zigbee devices total which are all completely solid, but not a single week goes by where an Aqara device doesn’t drop off the network.\n\nContact sensors have been replaced with Sonoff equivalents and it’s been bliss!\n\nI feel your pain!', 'DIY_CHRIS: Are sure that the sensors are routed through the bulbs and plugs? In Z2M, you can look at the topology. Typically a device will hold on to the route it takes when paired, so make sure you add the sensors in-situ in the location you plan so that it will route through those routers.', 'Drjjr: Aqara devices hate a lot of routers. I’ve had good luck with IKEA smart plugs and Innr outlets as repeaters. Once they are paired they don’t move so if that router goes offline the sensors freak out. \nI was having issues until I switched to all Innr or IKEA plugs to pair them with. At one point I had a peanut plug in the mix and they really hated that. \nThey didn’t like to be paired to Philips bulbs either. \nBut once I got them paired to compatible routers they have been rock solid. Both motion sensors and temperature sensors. I’m also using Zigbee2MQTT.', ""dialeighted: Hi All, I'm in the same boat. Started my adventure using Zigbee2MQTT with the Conbee II stick. My Aqara devices have never been stable, so I swapped Conbee II with a Sonoff dongle (accidentally bought the model E, sent back and swapped out for a model P) and started over. Updated my docker image, configured Z2M and spent quite a few hours re-pairing all of my devices. When I was able to change the units from Celsius to Fahrenheit on my VOC sensor, I thought I was golden. Woke up this morning with half of my devices offline. \n\nAfter digesting [this link](https://community.hubitat.com/t/xiaomi-aqara-devices-pairing-keeping-them-connected/623) on the Hubitat forums, I realized that my repeaters, which are CentralLite and Sonoff SB31 Lite, are confirmed to not work well with Aqara end devices. I don't really care for how the IKEA devices look, so I opted to replace my four repeater devices with the Aqara plugs. If this doesn't work, guess I'll return them and try the IKEA devices.\n\nI've also changed my channel, relocated my Zigbee dongle, relocated everything that could be interfering and am still having a ton of issues with Aqara devices. I have so much money invested in them that it is hard to turn back now. I'll report back with the results of installing the Aqara plugs.\n\nMaybe this will help someone else."", ""mistahclean123: Good question.  All my temperature sensors are offline right now and I have no idea why.\n\nAll the others are fine though - water, motion, door.  Just air temp sensors all dead.  I guess I should check batteries but they're way too new to be dead..."", ""sonicw1nd: Same issue. 2500sqft house was getting intermittent dropouts. Moved all my devices to channel 25 I believe and it's been rock solid since. 15+ sensors in my mesh"", ""TarheelSwim: What other zigbee devices are on your network? Aqara doesn't implement the zigbee spec perfectly, so some powered zigbee devices won't play nice with them, and they end up getting marked as unavailable. For me, it was Osram/Sylvania Lightify recessed LED lights. When I removed the lights the zigbee devices started working. Pick your poison I guess haha"", '_atomic_garden: Seeing some similar comments, but when I added Sonoff ZigBee smart plugs (S40s, specifically) to my network my Aqara contact sensors started disconnecting regularly. They had been rock solid before (replacing the Sonoff versions that had been disconnecting frequently), and are rock solid again after removing the Sonoff plugs. Many are routed through Ikea bulbs or an Ikea repeater.', 'emzy21234: I had a similar issue, turns out it was the zigbee dongle antenna that was damaged.', 'Shooter_Q: I was also going to suggest channel segregation on 2.4GHz band, especially in an apartment. I’d start small just by putting wifi and zigbee on opposite ends of the spectrum. [Here is an article with visuals that help explain the idea.](https://www.metageek.com/training/resources/zigbee-wifi-coexistence/) \n\nIf that doesn’t help, then you have to resort to SDR scanning and trying to find space with the least interference from your neighbors so that you can adjust your channels accordingly. \n\nAnd as a last resort, if all channel ranges look congested, ~~you break into every neighbors’ apartments and forcibly set~~ … ~~grab enough air traffic to hack into every neighbors’ network and forcibly set~~ … talk to every one of your adjacent neighbors and ask them kindly to set all of their wifi routers to 50%-70% gain.', ""Daniel15: Note that if you're in the USA, channel 26 has reduced power due to FCC regulations. Also note that channels 25 and 26 are in the sideband lobe of wifi channel 11, so be sure to not use wifi channel 11 if you're using those Zigbee channels."", 'swpete: How do you set the channel on the zigbee stick? I have a sonoff 3.0 dongle but am not sure how to change settings.', 'muppetman74: The Innr smart plugs from Amazon also play nicely with Aqara sensors.', ""ElectroSpore: > Mine were too until I move to zigbee2mqtt\n\nYa with availably tracking on and monitoring battery levels I know as soon as any of them fall off the network.\n\nI have only had two issues with my 8 sensors.. One was a weak / dead battery and the other was because the device it was joined via was removed and they don't repair / roam so it needed to be paired again.\n\nIn both cases they appeared offline which I have an alert for and it was easy to fix.\n\nThey have already saved me from splashing messes in the main bathroom and a slow leak from my kitchen sink."", 'moderately-extremist: Yeah I had issues on ZHA, too, that went away when I switched to z2m.', 'Dead_Politician: To the contrary, I have an HUSBZB-1 and ZHA works perfectly with these Aqara sensors and buttons. (as well as hue lights and other zigbee devices)', 'HoodRat79: Exactly the same here. Z2M works so much better for me than ZHA or Deconz did for Aqara devices. I also had to do the same and re-pair all my devices over and over until all values were properly populated.', 'mrkylematz: I second the USB extender idea. I was having issues with reliability and moving the Zigbee stick away from the Home Assistant server worked well!', 'chai_investigation: Some of the Aqara devices are brand new, so that is probably not the problem. I can definitely replace the few that are dropping, through.\n\nI will switch the ones not connected directly to the dongle, but a bunch of the affected ones are already are connected there. Sigh. Thanks though.', 'Leading_Release_4344: I believe sonoff plugs and aqara play nice with each other', 'zipzag: I agree. This is one of several reasons that z-wave is superior. Z-wave disadvantage is costing more on average. I have many zigbee and z-wave devices. My zigbee became reliable after buying and carefully placing a tubesz router/repeater.\n\nIn my experience the most remote/weakest signal zigbee devices are much more likely to go offline compared to z-wave. But certainly a reliable system can be built with zigbee', 'rubs_tshirts: Why did I have to scroll all the way down for this? OP check your connection map / link strength and go from there.', ""randytech: Also you can use something like wifi man to scan all the wireless networks. You can see if you're neighbors are broadcasting an ssid on an overlapping channel"", 'kryptonitecb: On the last point, good luck. Average dwelling uses the ISP provided AP/switch/modem/toaster that doesn’t allow you to change those settings.', '5yleop1m: https://www.home-assistant.io/integrations/zha/#defining-zigbee-channel-to-use', ""ReallyNotMichaelsMom: That's awesome! I wish it would have worked for me. It would have saved me money and having to hear my son roll his eyes. :)"", ""5yleop1m: I've had brand new devices come with low battery, they are lithium batteries so they lose charge just sitting there. Temperature swings will also cause them to lose charge, can't predict what condition they were kept in during shipping/storage."", ""areakode: First thing I do when I get a new Aqara motion sensor is replace the battery. They don't work worth a crap with the ones that come preinstalled.\n\nOnce getting the battery replaced, I typically don't have to touch them for like a year before the battery gets too low."", 'shawnshine: The brand new Chinese batteries in Aqara sensors are shit. Definitely replace them when you can.', 'Leading_Release_4344: People have preconceived notions of what will solve i guess I suppose it could be many things but it’s hard to say', ""digiblur: A lot of AP/Routers are now on auto so you can't really go off your neighbors. Just control your own that are in your face."", ""Daniel15: > Temperature swings will also cause them to lose charge\n\nI have an Aqara temperature sensor in my freezer, and it's been working fine for months. However, the one time I took it out and left it out of the freezer for a while, totally killed the battery. I guess the change from the freezer at -18C to room temperature around 22C was too much for it. Replaced the battery and the sensor is working fine again, but the dead battery never came back to life."", 'ntsp00: Interesting, all of my aqara motion sensors have been rock solid with the batteries they came with', ""Luxim: Yeah that's an extremely bad idea, not because of the temperature swing, but because of condensation from the relative humidity change.\n\nIf you need to do that again, you should probably remove and dry the battery right away, or put the sensor in dry air to warm up (something like a 3D printing dry box maybe)."", 'SlimeQSlimeball: You are luck then. Mine were fine until they went low and the cells I bought after were crap, too. Just soldered two aaa cells in series and to the coin cell contacts. Finally works now with no disconnections.', 'zSprawl: It’s gonna vary a lot of course.', 'ntsp00: That sounds like it was an issue with the batteries you bought and nothing to do with the sensors', 'SlimeQSlimeball: I agree, they were crappy cheap cells. Probably dead upon receipt. The aaa cells have sat in the fridge for a year and work perfectly. I just printed a little holster for them and direct soldered them and done.']"
1681490683.0	14-Apr-2023 09:44:43	Zigbee Dongle	blentdragoons	3	12m3cjn	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m3cjn/zigbee_dongle/	What is the recommended Zigbee dongle for HA?  Skyconnect looks cool but it's not available yet.	26	"[""Wild-Bus-8979: Some people swear by the Sonoff Dongle-P, others by the Sonoff Dongle-E. Either way make sure you use a 3~6' USB extension to move it away from the machine.\n\nI, for one, use the HamGeek/Zigstar PoE Gateway to optimally position the coordinator, works great for me."", 'RodneyRenolds21: I use the Sonoff Dongle-E with Zigbee2MQTT and it works great for the hardware I have setup.\n\nEdit: The great thing about the ""E"" version dongle over the ""P"" version is that it can be upgrade to support Thread in the future.', '400HPMustang: Where are you that SkyConnect is not available yet?\n\nI don’t have any experience with other Zigbee dongles but I do like my SkyConnect', ""icaranumbioxy: Sonoff dongle P works great and is cheap. Would recommend. Thread is not a thing yet and likely won't be for a while so no need for sky connect."", 'bat1939: I am using the Sonoff Zigbee 3.0 USB Dongle Plus but I just got an email from EverythingSmartHome and he says they are selling the SkyConnect  \n\n\n[https://shop.everythingsmart.io/en-us/products/home-assistant-skyconnect?ref=everything-smart-home](https://shop.everythingsmart.io/en-us/products/home-assistant-skyconnect?ref=everything-smart-home)', 'ron-swansons-anus: Conbee II', 'severanexp: Sonoff zigbee bridge flashed with tasmota', 'HoodRat79: I recently got the Sonoff that others have already linked and it’s great. This replaced my Skyconnect which I couldn’t get working properly. I have about 50 Zigbee devices, many of them Aqara and they keeps dropping off the network with the SkyConnect. Have been rock solid (except 1 bulb which is being a pain) for a few weeks now on the Sonoff Stick.', 'Sym0n: [ZZH by Electrolama](https://electrolama.com/projects/zig-a-zig-ah/) has done me proud for 2 years+ now.', 'ams3401: [Electronic Components and Parts Search | DigiKey Electronics](https://www.digikey.com/en/products/result?s=N4IgTCBcDaIF4EsDmAjApmgBAEwPYDskAbNEAXQF8g)\n\n&#x200B;\n\nI got my Zwave dongle from here but they sell Zigbee dongles too', 'wokkieman: I used to have a conbee ii stick for about 3 years, last week replaced it with the sonoff p. It solved my stability issues and it was easy to order on amazon', 'blentdragoons: i had no idea there are lan/poe based units. that is really cool and would work great for my use case. does it integrate into zha well?', ""blentdragoons: looking at the resellers it's back ordered everywhere."", 'noslab: Yeah I second this. I use one for my Z2M instance. Works great.', 'troubaskank94: I cancelled my SkyConnect and went with Sonoff Dongle-P. It was about half price off eBay and it’s been perfectly reliable so far. Thread devices aren’t readily available and I’m not convinced that Thread is meaningfully better than ZigBee.', 'blentdragoons: shipping is $22, hard pass.', ""antisane: Been over 2 years now with my Conbee II, it's never let me down."", 'krulbel27281: The problem with this device is that it does software serial over WiFi, which can be problematic in a crowded WiFi environment. I gave my mom my old bridge, and never had any problems. But because of the little price difference between the Sonoff Zigbee Bridge and the Sonoff Zigbee Dongle, I think it’s better to use the latter.\nAlso, you don’t have to flash the dongle where the bridge needs to be opened and flashed before it can be used. I’m not sure about OP, but that can also be a plus for the dongle which is plug and play', ""blentdragoons: i think i'm going to get the zigstar lan gateway. i like being able to place the hub away from my server rack and in a better location."", 'blentdragoons: thanks, i ordered the zigstar and the only place to buy it is from tindie and it ships from germany.', ""blentdragoons: looks like they're both compatible with zha. also looks like the zigstar ships from germany with an expensive shipping.  the hamgeek can be found on ebay here in the us. is there any advantage of the zigstar or the hamgeek? or are they pretty much the same?"", ""-entropy: I mean, May isn't that far away..."", 'AhhaaEhhee: Who cares about 22 bucks...having HA, Zigbee etc is anyway mid-expensive hobby.', 'severanexp: Theory and practice tend to differ. In theory wifi is always problematic. Unless you live in a crowded apartment complex with hundreds of families with everyone outputting 2.4ghz (like in an university complex) you’ll hardly have an issue.  \nAside from that, the dongle suffers from interference problems due to its proximity to the main device, issues that while you can offset with the use of an usb extension, the sonoff zigbee bridge simply does not suffer from.', ""Wild-Bus-8979: I bought mine on [Ali](https://www.aliexpress.com/item/1005004814960588.html), shipped to [the apartment above your meth lab.](https://img.huffingtonpost.com/asset/5cd7393d2100005900caec62.jpeg?ops=scalefit_720_noupscale&format=webp)\n\nI don't think there is a difference, the Zigstar is the original developer so you'd be supporting them, but the HanGeek model is very nicely packaged, I love mine, I even bought a second one to flash a router so I have a router that stays online if the power goes out (PoE switch is on the UPS)."", 'thornygravy: we could all be dead by then!']"
1681490343.0	14-Apr-2023 09:39:03	Find my phone (at home) options?	branflakes613	1	12m367y	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m367y/find_my_phone_at_home_options/	"I would like to be able to call a script to turn on my ringer, max the volume, and play a noise, so that I can easily locate my phone at home.  My initial plan was to do it with Tasker but I've had reliability problems with it in the past. The phone is an android. 

Any ideas? Thanks.

Edit:
I dug through all of the Presence Sensor results and found this: 
[Critical Notifications](https://companion.home-assistant.io/docs/notifications/critical-notifications/).
I think this will work.

Edit 2:  I don't have the Google Assistant integration. I did look to see if there was a way to call Find My Phone with that, other than a verbal command, and I couldn't find anything.

Either way, I figured it out. I did have to turn on persistent notifications in the companion app. Otherwise I was getting the occasional unacceptable delay. 

I had trouble getting this to work when my phone was on silent.  had to get creative with the ringer mode. My understanding is that Samsungs just do their own thing with alarm volumes. Most Androids should be able to just call 
``channel: alarm_stream_max`` and it will work, even when the phone is on silent.

```
alias: Find xxxx's Phone
variables:
  ringer: ""{{ states('sensor.brandons_phone_ringer_mode') }}""
sequence:
  - service: notify.mobile_app_xxxx
    data:
      message: command_ringer_mode
      data:
        command: normal
  - service: notify.mobile_app_xxxx
    data:
      message: "" ""
      title: Find My Phone
      data:
        ttl: 0
        tag: Find xxx Phone
        priority: high
        channel: alarm_stream
  - delay: 2
  - service: notify.mobile_app_xxxx
    data:
      message: command_ringer_mode
      data:
        command: ""{{ ringer }}""
mode: single
icon: mdi:phone
```"	15	"['ownsjo: Following. Interested as well. Find my iPhone constant prompts are annoying.', 'Rebelgecko: I just have a button in Hass that calls Google Assistant with ""OK Google, find my phone"". That triggers the ringer regardless of volume settings (like if you used the online Android find my phone UI). Kinda hacky but it\'s been reliable so far.', ""EnoughMail2: I'm guessing you mean using Homassistant and it feels like that should be possible. I hope you find such a solution.\n\nI just want to note that I use a find my phone app on my smart watch which does what you want."", ""GringoBen: Not exactly what you're asking for, but you can do this with a Google home mini, if you happen to have one already.\n\nDisclaimer obviously that both devices need to be connected to the internet and you would need to add a voice assistant to your setup which is not always a plus.\n\nThere are also options to find iphones with the same setup as long as you have the Google home app installed and the featurw enabled. \n\n\nhttps://support.google.com/googlenest/answer/7535860?hl=en&co=GENIE.Platform%3DAndroid"", 'Bsmi1h: Get a ring keychain', 'NdrU42: Any reason not to use [find my android](https://www.google.com/android/find)?', 'tcbailey239: There are different ""channels"" of sound on the phone (Media, Alarm, Ringer and something else). I think the alarm string rings even if the phone is on silent. I have a button on my dashboard that rings my android phone through the HA app. Originally found this online somewhere. See if this helps (my button yaml):  \n\n\nshow\\_name: true  \nshow\\_icon: true  \ntype: button  \ntap\\_action:  \n  action: call-service  \n  service: notify.mobile\\_app\\_xxxxx  \n  data:  \nmessage: Wake Up  \ndata:  \nchannel: alarm\\_stream  \n  target: {}  \nname: Ring Alarm  \nicon: mdi:alarm  \nicon\\_height: 25px  \nhold\\_action:  \n  action: none', 'danTHAman152000: Does the iOS companion app allow for this type of feature?', 'zSprawl: Well for iphone, if you install iCloud3 off HACS, it will add a find my phone service that you can call from HA. \n\nhttps://i.imgur.com/pKEAuAj.jpg', 'unrly: How exactly are you making the ""call""? Sounds like a cool idea, I could see using it for other purposes.', 'tcbailey239: sorry the spacing in the code above got messed up. I googled it.  See this thread:  \n\nhttps://community.home-assistant.io/t/a-find-my-phone-button/21514/10', 'branflakes613: Not the companion app but the iCloud3 integration does.\n\nhttps://www.reddit.com/r/homeassistant/comments/12m367y/find_my_phone_at_home_options/jgaj2qg/', ""branflakes613: Damn, Apple wins that one. I'm guessing something like this exist for Google but I couldn't find any documentation on it."", ""Rebelgecko: You have to follow these instructions first, it's kinda tedious \n\n\nhttps://www.home-assistant.io/integrations/google_assistant_sdk\n\nThen you can set the action on a button or entity page [like this](https://i.imgur.com/oVgFYJA.png)"", ""Ok-Jury5684: Well at least turning off do-not-disturb mode, and putting all volume channels to 100% is possible with notification service. \n\nDon't know about playing sound though - didn't have use case for that one.""]"
1681489606.0	14-Apr-2023 09:26:46	Help with Template	lowriskcork	0	12m2sko	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m2sko/help_with_template/	"I have a template that display where the presence is detected :

&#x200B;

    {% set kitchen_motion = states('binary_sensor.kitchen_motion_group') %}
    {% set kitchen_radar = states('binary_sensor.kitchen_area_motion_radar_presence') %}
    {% set living_motion = states('binary_sensor.living_motion_group') %}
    {% set living_radar = states('binary_sensor.living_room_radar_presence') %}
    {% set garage_motion = states('binary_sensor.garage_motion') %}
    
    {% set presence = [] %}
    {% if kitchen_motion == 'on' or kitchen_radar == 'on' %}
      {% set presence = presence + ['Kitchen'] %}
    {% endif %}
    {% if living_motion == 'on' or living_radar == 'on' %}
      {% set presence = presence + ['Living room'] %}
    {% endif %}
    {% if garage_motion == 'on' %}
      {% set presence = presence + ['Garage'] %}
    {% endif %}
    
    {% if presence %}
      Presence detected in {{ presence|join(' and ') }}
    {% elif kitchen_motion == 'unavailable' or kitchen_radar == 'unavailable' or living_motion == 'unavailable' or living_radar == 'unavailable' or garage_motion == 'unavailable' %}
      However, one or more sensors are currently unavailable.
    {% else %}
      No presence detected
    {% endif %}
    
    
    
    

now I'm trying to do the same but with a motion within the last 10minutes (whatever there is still motion or not)  but this return : TemplateError: Invalid entity ID 'history.\_\_call\_\_'

    
    
    {% set kitchen_motion = states('binary_sensor.kitchen_motion_group') %}
    {% set kitchen_radar = states('binary_sensor.kitchen_area_motion_radar_presence') %}
    {% set living_motion = states('binary_sensor.living_motion_group') %}
    {% set living_radar = states('binary_sensor.living_room_radar_presence') %}
    {% set garage_motion = states('binary_sensor.garage_motion') %}
    
    {% set presence = [] %}
    {% if kitchen_motion == 'on' or kitchen_radar == 'on' %}
      {% set presence = presence + ['Kitchen'] %}
    {% endif %}
    {% if living_motion == 'on' or living_radar == 'on' %}
      {% set presence = presence + ['Living room'] %}
    {% endif %}
    {% if garage_motion == 'on' %}
      {% set presence = presence + ['Garage'] %}
    {% endif %}
    
    {% set kitchen_motion_history = states.history('binary_sensor.kitchen_motion_group', true, now()-timedelta(minutes=10)) | map(attribute='state') | list | last %}
    {% set kitchen_radar_history = states.history('binary_sensor.kitchen_area_motion_radar_presence', true, now()-timedelta(minutes=10)) | map(attribute='state') | list | last %}
    {% set living_motion_history = states.history('binary_sensor.living_motion_group', true, now()-timedelta(minutes=10)) | map(attribute='state') | list | last %}
    {% set living_radar_history = states.history('binary_sensor.living_room_radar_presence', true, now()-timedelta(minutes=10)) | map(attribute='state') | list | last %}
    {% set garage_motion_history = states.history('binary_sensor.garage_motion', true, now()-timedelta(minutes=10)) | map(attribute='state') | list | last %}
    
    {% if kitchen_motion_history == 'on' %}
      {% set _ = presence.append('Kitchen') %}
    {% endif %}
    {% if kitchen_radar_history == 'on' %}
      {% set _ = presence.append('Kitchen Radar') %}
    {% endif %}
    {% if living_motion_history == 'on' %}
      {% set _ = presence.append('Living room') %}
    {% endif %}
    {% if living_radar_history == 'on' %}
      {% set _ = presence.append('Living room Radar') %}
    {% endif %}
    {% if garage_motion_history == 'on' %}
      {% set _ = presence.append('Garage') %}
    {% endif %}
    
    {% if presence %}
      Presence detected in {{ presence|join(' and ') }} within the past 10 minutes.
    {% elif kitchen_motion_history == 'unavailable' or kitchen_radar_history == 'unavailable' or living_motion_history == 'unavailable' or living_radar_history == 'unavailable' or garage_motion_history == 'unavailable' %}
      However, one or more sensors were unavailable within the past 10 minutes.
    {% else %}
      No presence detected within the past 10 minutes.
    {% endif %}"	2	"[""ReallyNotMichaelsMom: If I were doing this, I would create a timer for each device and have it start when motion ends, then use the timers to show where motion was in the last 10 minutes. However, I'm incredibly new to HA, so my automations aren't at all elegant :)"", ""eLaVALYs: I think you're getting the error because there is no `states.history` data. I've never seen that format before, I don't think it exists.\n\nEdit: Found the [HA Docs page on the state object](https://www.home-assistant.io/docs/configuration/state_object).""]"
1681486074.0	14-Apr-2023 08:27:54	Minor Cover Template Help	muddro	1	12m0z4h	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m0z4h/minor_cover_template_help/	"Hi all, wondering if someone can help me out with a cover template. I installed a zen16 relay for my garage with a zse43 tilt/shock sensor. The basic cover I was able to make and will paste below. What I would like to do is make it so if it was in the closed position, and then the shock is detected, it will show a status of opening, and vice versa. Not sure if that is possible.
    
    cover:
      - platform: template
        covers:
          small_garage_door:
            device_class: garage
            friendly_name: ""Small Garage Door""
            value_template: ""{{ is_state('binary_sensor.small_garage_door_window_door_is_open', 'on') }}""
            open_cover:
              service: switch.turn_on
              entity_id: switch.small_garage_door
            close_cover:
              service: switch.turn_on
              entity_id: switch.small_garage_door
            stop_cover:
              service: switch.turn_on
              entity_id: switch.small_garage_door


I did play around and got closer with a value template of this (this is a different cover so sensor names are slightly different:

        value_template: |-
          {% if is_state('binary_sensor.small_garage_door_window_door_is_open', 'on') and is_state('binary_sensor.small_garage_door_tampering_product_cover_removed','on') %}
          Closing
          {% elif is_state('binary_sensor.small_garage_door_window_door_is_open', 'off') and is_state('binary_sensor.small_garage_door_tampering_product_cover_removed','on') %}
          Opening
          {% else %}
          {{ is_state('binary_sensor.small_garage_door_window_door_is_open', 'on') }}
          {% endif %}

The problem with the above is that depending on the position of the tilt sensor, it will show opening and closing at different points in the open close process because the tilt sensor would be in the open position. I guess my main question is how do I add something to go into this looking at the state the garage door is coming from and not dynamically update while its still moving?"	3	"[""eLaVALYs: My first thought was to do what you did in your second code block.\n\n>The problem with the above is that depending on the position of the tilt sensor, it will show opening and closing at different points in the open close process because the tilt sensor would be in the open position. I guess my main question is how do I add something to go into this looking at the state the garage door is coming from and not dynamically update while its still moving?\n\nI'm not following you here, could you elaborate on this? From what I can gather, it sounds like the tilt sensor goes back and forth between on and off while the garage door is opening? So the state of the template cover goes back and forth between opening and closing, while it's only opening?"", 'muddro: Correct. I may not have explained it super clear but your take is right. Basically the only way I could see this working is if there was a helper that equalled the cover state, and it could only update with a delay. So the helper would = closed, then when the zse43 is shaking and the helper = closed, it would show as opening. then perhaps a delay after the tilt sensor shows as open before updating the helped. \n\nAnyway, seems more trouble than its worth.', 'eLaVALYs: >if there was a helper that equalled the cover state, and it could only update with a delay\n\nYou can do this with a template sensor and the `delay_off` option. Set that to something like 20 seconds, so when the tilt sensor first turns on, the template sensor will also turn on. But the tilt sensor may turn off, but the template sensor will not go off for another 20 seconds (long enough for the garage door to go completely up/down). The template sensor will basically be a ""wrapper"" for the real tilt sensor and won\'t bounce states.\n\nGoing back to your original post:\n\n>how do I add something to go into this looking at the state the garage door is coming from and not dynamically update while its still moving?\n\nYou could also use a template sensor for this. Make the template sensor match the state of the cover. But only when Closed or Open. Not Opening or Closing. The template sensor won\'t change when the garage starts moving, only when it\'s done. That way, you can have the ""previous state"".\n\nNot sure if I explained that well. The logic is:\n\n  - If garage door is Closed, template sensor is Closed.\n  - If garage door is Open, template sensor is Open.\n  - Else (garage door is any other state), template sensor keeps the same status.\n\nAnd you\'re right, this is starting to get a little involved. Just throwing it out there, integrated my garage door with an ESP, two reed switches to detect fully open / fully closed, and a relay to short the wires that trigger the garage opener. Reasonably simple and has worked very well.']"
1681484528.0	14-Apr-2023 08:02:08	Struggling to see sensors added into config.yaml	maillme	0	12m05zm	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m05zm/struggling_to_see_sensors_added_into_configyaml/	"Hi, 

I'm trying to add some sensors to HA - using some code snippets I've got from some HACS integrations however..... there seems to be something wrong with the code as I can not see these sensors, and I'm sure it's something simple (if you know how) - 

&#x200B;

I've reloaded and restarted HA many times. 

I have checked in developer tools to see if the entities exist, and they don't. 

Any help is appreciated, thanks. 

Below is my code, the two sensors at the end are those I am trying to add /access.

&#x200B;

    # Configure a default setup of Home Assistant (frontend, api, etc)
    default_config:
    
    frontend:
      themes: !include_dir_merge_named themes
    
    # Text to speech
    tts:
      - platform: google_translate
    
    group: !include groups.yaml
    automation: !include automations.yaml
    script: !include scripts.yaml
    scene: !include scenes.yaml
    
    # Custom Panels
    panel_custom:
      - name: Supervisor
        url_path: hassio/system 
        sidebar_title: Supervisor
        sidebar_icon: mdi:home-assistant 
        module_url: /local/panel-redirect.js 
    
    logger:
      default: info
      logs:
        homeassistant.components.automation.my_automation_id: debug
    
    input_number:
      energy_price_threshold:
        name: Energy Price Threshold
        min: 0
        max: 1
        step: 0.05
        unit_of_measurement: EUR per kWh
        
    
    #next tram sensor
    sensor:
      - platform: dutch_public_transport_api
        name: Amsterdam naar Vlissingen        # (required)
        station: station-amsterdam-centraal    # (required)
        destination: Vlissingen                # (required)
        show_future_departures: 2              # (optional)
        
    #template sensors 
    template:
      - sensor:
        - name: epex_spot_price_ct_per_kWh
          unit_of_measurement: ""ct/kWh""
          availability: '{{ states(""sensor.epex_spot_nl_price"") != ""unavailable"" }}'
          state: '{{ states(""sensor.epex_spot_nl_price"") | float / 10 }}'"	6	['generalambivalence: Your logs should provide errors if the sensors are failing to create. Reviewing the logs would be the first step to resolving your issue.\n\n\nSettings -> System -> Logs', 'maillme: >dutch\\_public\\_transport\\_api\n\nthanks!  \n\n\nSo, the only relevant log entry I can see is this one:   \n\n\n    2023-04-15 20:56:52.264 ERROR (MainThread) [homeassistant.components.sensor] dutch_public_transport_api: Error on device update!\n\nI *think* this is more to do with the update entity than the running /initiation of the sensor, right? \n\n&#x200B;\n\nAnother, which seems to have run ok is:\n\n    2023-04-15 20:56:51.093 INFO (MainThread) [homeassistant.components.sensor] Setting up sensor.dutch_public_transport_api', 'generalambivalence: Quick google search brought me here: [https://www.ns.nl/en/travel-information/ns-api](https://www.ns.nl/en/travel-information/ns-api)\n\nSo, I think you should look into setting up an RESTful sensor (or integration).\n\n[https://www.home-assistant.io/integrations/rest/](https://www.home-assistant.io/integrations/rest/)', 'maillme: Aha ok - so, it is a problem with the API itself (that the sensor is calling) and not the sensor config?\n\n&#x200B;\n\nthanks for your help,\n\nNeil', 'generalambivalence: Yeah, I think so.', 'maillme: thank you.']
1681484373.0	14-Apr-2023 07:59:33	Honeywell T6 Pro Z-wave not functioning how I thought it would.	TheGreatBeanBandit	3	12m02rj	homeassistant	https://www.reddit.com/r/homeassistant/comments/12m02rj/honeywell_t6_pro_zwave_not_functioning_how_i/	"Hello there, I have a Honeywell TH6320ZW2003 T6 Pro Series Z-Wave thermostat. It is hooked up to my raspberry pi 4b through an Aeotec Z-Stick Gen5. I am running the latest version of HomeAssistant double checked this morning.

The issue that I am having is that the information that appears on my home assistant dashboard from my thermostat is not the same as what is on the display. Currently I have my home set to 70 with the AC coming on at 72 and the heat at 68. Looking though the history it shows that my house has never changed from exactly 70.00 degrees the entire time it has been hooked up despite having seen the number on the thermostat itself change many times and both the heat and AC coming on when appropriate.

Functionally it has been flawless so I am just wondering if I did something wrong when setting up the Z-wave functionality."	12	"['ProfitEnough825: Home Assistant might be just displaying the target temperature and not the actual. Take a look at the entities or attributes to the entities available and see. Maybe even look at it through the developer settings. \n\nWith that said, Honeywell Thermostats perform very well in terms of HVAC control, much better than Nest. I would never replace the thermostat for one with better smart integrations.', 'MisterBazz: Try using the ""Better thermostat"" card.  It\'ll show target and actual on the same card.', 'Panzerbrummbar: Just installed a 2007 model so I am not sure if the below is applicable, it should be though.\n\nParameter 44 is the min temp change before it updates to the controller which updates HA.\n\nDefault is 1 degree, check that setting, you may have to double check the setting on the thermostat also.  \n\nAlso on my 2007 it shows a Air Temperature and Humidity under sensors.  Could check that sensor also to see if it is changing.', ""Sunsparc: [Here is everything the thermostat exposes to Home Assistant](https://i.imgur.com/HmXlQAW.png)\n\nThe actual air temperature is on the `climate` entity under `current_temperature` attribute.\n\nIf you're using the thermostat card, the big number is the air temperature and the small number is the target temperature."", 'That_Engine: I had to setup command delays (for automatons) with mine to get it to work properly. Too many commands would cause it to freeze for an hour.', 'ehutch24: Mine works fine. Are you looking at the right entity?\n\nhttps://preview.redd.it/ajmus8k9i0ua1.jpeg?width=1284&format=pjpg&auto=webp&v=enabled&s=a9c446829a811eae2db4c9aa3a9eb8855aea2f7f', ""Diabeetoh768: This is it.  There's a separate entity for actual recorded temperature from the thermostat."", ""TheGreatBeanBandit: I agree. It performs flawlessly. Smart integration was just a bonus for me. I'm not that crazy into it, I just wanted it more for the historical data, if anything."", 'TheGreatBeanBandit: Mine stops at 42 no parameter 44.', 'CO_Cane: sensor.t6\\_pro\\_z\\_wave\\_programmable\\_thermostat\\_air\\_temperature\n\nAssuming default names has the actual temp for me.\n\nAlso  climate.t6\\_pro\\_z\\_wave\\_programmable\\_thermostat holds ""temperature"" which is the thermostat set temp and ""current\\_temperature"" with the measured temp.', 'Panzerbrummbar: Can you ping it from ZwaveJS.  \n\nWhen I was researching some people claimed the 2003 model had a poor Zwave module and would fall offline and was hard to connect to.   \n\nBest of luck', 'TheGreatBeanBandit: Yes I just set it up again 2 days ago.']"
1681482385.0	14-Apr-2023 07:26:25	Zigbee light switches help?	zostarrr	1	12lz1lt	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lz1lt/zigbee_light_switches_help/	"Hi all. I'm pretty new to HA and home improvement/ownership stuff in general so please be kind/excuse any lack of knowledge. I'm learning as best I can!


So, for context: 

In my new flat I have a 3-gang light switch in the living room/kitchen area. The living room lights are connected to one switch (let's call it A), the kitchen spotlights to another (B), and the third switch on the panel controls the kitchen counter lights (C). 


I've already replaced the living room/kitchen ceiling lights (A/B) with zigbee bulbs. 


The lights for the counter, however, are integrated LEDs that I can't change, and haven't been able to access the wiring to connect some kind of zigbee switch/breaker between the wall switch and the lights. I've stuck a Switchbot to switch C for the time being so I can control those lights from within the kitchen using Flic/Alexa, as the switch is a few metres away and that's kinda inconvenient when in the middle of things.


With my current setup, however, I can only control any of the living room and kitchen lights using Alexa/Flic/HA automations. This isn't ideal as it means guests can't control any of my lights and the actual lightswitch is redundant. Plus it just feels clunky.


Ideally, I'd like a 3-gang zigbee switch to replace the existing fitting, but one where pressing buttons A and B doesn't actually cut the power to the bulbs and instead triggers automations/scenes (so essentially the buttons are decoupled from the circuit I guess?), while button C does cut the power to the counter lights circuit in the more traditional way. If that makes sense?!


I'm struggling to even find 3-gang zigbee switches at the moment, let alone figure out whether there is a switch out there that will allow some but not all of its buttons to be decoupled from the circuit. Or if you can suggest any other way to install a power control switch to just the counter lights (without making a big hole in the wall) so I can then just put a cover over the existing lightswitch faceplate with zigbee buttons/remotes such as a hue dimmer, that would also be amazing.


If anyone has any suggestions or ideas to help me figure this out, I'd be eternally grateful! I just want a smooth solution that can work with a mix of smart and dumb lights at the same time.


Thanks!"	2	"['tarzan_nojane: 3 individual single-gang switches should co-exist nicely behind a 3-gang wall plate. With some designs metal cooling tabs must be removed in order for them to fit side-by-side, and reduces the total wattage rating for the switch (much harder to exceed with LED bulbs).  \n  \nThe Lutron Aurora dimmer fits over a (US) single-gang toggle switch and allows for conventional-feeling manual push-button on/off and rotary dimming of Touchlink-paired zigbee bulbs. It also prevents the toggle switch from being inadvertently switched so as not to wreak havoc with the smart bulbs.', ""5yleop1m: https://inovelli.com/products/zigbee-matter-blue-series-smart-2-1-on-off-dimmer-switch  this is what you want, it supports Zigbee Binding which lets you connect zigbee devices together, in this case you can connect the switch to the lights so toggling the paddle doesn't disconnect the lights from power, but does turn the power off. \n\n\nI found out about this after I found another way around this. I use shelly devices behind all the switches that go to smart bulbs. Specifically these - https://www.shelly.cloud/en-us/products/product-overview/shelly-1pm-ul\n\nWithin the shelly's config I changed it to act as a disconnected switch, that means toggling the switch doesn't toggle the relay. Instead I have an automation in home assistant which is looking for the shelly's input to change, when that changes it toggles the associated light. \n\nThis isn't perfect because if HA goes down the switch is basically useless. I can get around this by using the shelly app to toggle the light manually, but only I can do that unfortunately because of the way my network is setup. Everyone else in the house doesn't have access. \n\nTo mitigate this I have Home assistant setup to limit its down time.""]"
1681479314.0	14-Apr-2023 06:35:14	Should I move Hue devices to a Sonoff Bigbee radio?	ckgriffi	1	12lxi4d	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lxi4d/should_i_move_hue_devices_to_a_sonoff_bigbee_radio/	"Hey folks, 

I've got \~27 or so Hue lights spread around the house and integrated into HA.  I picked up a couple of Aqara sensors that I currently have integrated with deconz and a conbee II.  Started having some issues with the PIR sensor and went down the rabbit hole of all things zigbee, so I picked up a new Sonoff controller and am considering rolling ZHA.

I don't necessarily have a problem just hanging on to the Hue hub (it's in a utility closet with my network gear)...but wanted to start adding more zigbee sensors.

What are the pros and cons of pairing the Hue devices with the Sonoff radio?  Would I need to remove the Hue hub?  I suppose I'd need to remove the hue integration in HA at the very least and then rename the bulbs in the ZHA integration consistent entity IDs as to preserve existing automations?

Just trying to understand the cost/benefit of rolling in the Hue devices into ZHA or running two seperate Zigbee networks (actually 3 as I have a Control 4 EA-1 driving my A/V in the basement).  Thoughts?"	8	"['Waterbottle_365: I recently moved away from the Hue hub but then moved back after a month. Everything worked fine, but I like to use HomeKit’s adaptive brightness which was no longer an option. I also lost the ability to set gradients on my supported light strips. I left my Hue motion sensors on ZHA but all lights are back on the Hue bridge.\n\nBut yes, you can document your entity IDs from HA, remove the devices one by one from Hue then pair them with ZHA or Z2M. I only had to manually reset 2 of my bulbs when I made the switch.', 'ckgriffi: Bigbee...ha.', 'sleekelite: Search the sub for “hue ZHA” or “hue Zigbee2mqtt” for a very large number of past identical discussions.', ""noslab: I moved all my Hue stuff to my Z2M only to find out that the Hue bulbs did not play nice with my routers and basically just acted like an EndDevice, did not route anything that wasn't ZLL.\n\nMoved just the lights back to a single Hue bridge and kept everything else in Z2M. Been working pretty well. I don't like the idea of having two Zigbee networks but the bulbs created more chaos on  1 network than I wanted to deal with."", 'zSprawl: You can move them and I did. It worked fine but I moved them back. I want the Hue dynamic lighting features, hue labs, and easier firmware updates. It works for basic on/off type stuff though.', 'ckgriffi: Thank you.  Makes sense.', 'Personal_Track_3780: Same, i had real connectivity issues with my Hue lights on ZHA, even though i had a wide mesh of zigbee devices so it should (on paper) have been better than on the Hue.', 'zSprawl: It’s worth noting that a competitor product to HA recommends against it. Not everything applies but it’s worth a read if you’re having issues. \n\nhttps://community.smartthings.com/t/faq-do-i-need-the-hue-bridge-hub-to-use-a-hue-bulb-with-smartthings/109414']"
1681476504.0	14-Apr-2023 05:48:24	Ecobee - Error Requesting PIN	strangebrewfellows	0	12lw5a4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lw5a4/ecobee_error_requesting_pin/	"I'm struggling to get a new Ecobee integration working. I've following the instructions here:

https://www.home-assistant.io/integrations/ecobee/

I've signed up as a developer and created an application successfully, which gives me an API key. The Application is configured with the ecobee PIN authorization method. When I try to configure the Ecobee in Homeassistant, I enter the API key and then get the following error:

""Error requesting PIN from ecobee; please verify API key is correct.""

No matter what I do, I can't seem to get past this error. I've tried creating a new application but that doesn't help. I've verified MFA is off on the ecobee side, which seems to be one hang up with the API.

I've found a few others with this issue but never anyone who seems to have solved it. Any ideas?"	7	"[""psychicsword: I would highly recommend the homekit integration for controlling your ecobee. It doesn't use the cloud at all and operates fully locally.\n\nI am unfortunately not able to really help with this because I don't use the cloud integration but I wanted to let you know that you had other options."", 'jeremycmp: I had the same issue and had to restart the entire computer to correct it.', 'strangebrewfellows: Thank you, maybe this is the way I will go. I have yet to set up any homekit integrations but this was the plan eventually.', 'ExaminationSerious67: Homekit integration is really easy to setup, get into settings, then homekit. It will give you a QR code, but copy the numbers above it. Add the integration in home assistant, it is going to ask you for the numbers, but it will seem to be in a different format. Put them in the format that home assistant wants, and it will work fine.', 'strangebrewfellows: Yep I got it working, thank you. I did have an issue at first and it wouldn’t start the wizard properly but restarting HA did the trick.', 'GringoBen: Nice, your experience with homekit should be much better than with the standard integration and API- more reliable, faster response, and not chained to the cloud.\n\nI made the same switch after almost two years and wish I had done it sooner.', 'strangebrewfellows: This is really helpful, thank you! HomeKit integration seems fine even if it does bug me that the API integration doesn’t work and I don’t know why.']"
1681475310.0	14-Apr-2023 05:28:30	Locking down Tuya	Nyghtshayde	0	12lvlcl	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lvlcl/locking_down_tuya/	I recently bought a new modem. Since I've now got to re-set up my Tuya devices anyway, I thought I might as well try to lock them down. Since my main modem is pretty basic and has no ability to setup VLANs, I've reflashed an old wireless router with DD-WRT. I thought I could use this one with any device I didn't trust (basically the Tuya stuff and a few other bits and pieces) while my main trusted devices (including HA) sat on my main network. Trouble is I have no idea if this is the right approach or what I should do next. Is there some sort of guide to how to do this? I really have no idea about networking or anything like that so it'll have to be pretty basic.	0	[]
1681474005.0	14-Apr-2023 05:06:45	Sensibo	TOKyyy	1	12lv0qf	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lv0qf/sensibo/	"Hey guys,

Got an issue with Sensibo at the moment. The image should explain what I'm seeing but essentially its dropping *very* frequently.

Edit: I'm running HA on a local server VM. Up to date on all things it could be. 

https://preview.redd.it/1cmrfp4wauta1.png?width=2391&format=png&auto=webp&v=enabled&s=45748cffc478a1491c47261066c32fc2d7a695e3

I previously made a post since removed about this. I was suggested to meter the network connection to see if it was just a network issue but after almost a week of minimal/no dropouts from HA and any that did occur were due to general network dropouts which my ISP is kind enough to supply a list of them, which match up.

What could be causing this?

During this dropout time I'm able to still control the sensibo device with the app. The API key works on their browser login. I can delete and generate another but it wont integrate back into HA. The pattern is pretty predictable so I just wait 20 minutes until I think it would be working and re-intergrate it.

I do have other API integrations.  Mainly Accuweather, which does not experience this at all.

&#x200B;

Any help would be greatly appreciated"	1	['techdan98: Wow. Very strange. I am running 3 sensibos. Mine momentarily drop out 1-2x per day, but nothing like this.']
1681474001.0	14-Apr-2023 05:06:41	Wiring f***k up - smart switch fix?	aprettyparrot	0	12lv0ng	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lv0ng/wiring_fk_up_smart_switch_fix/	"So not exactly HA topic but think a smart switch could alleviate my situation. But I don’t know much about them.

Situation: 
I’ve been running wires for net/speakers/hdmi. And while I was running 3 cat6, ehhh I may as well do the rest of my basement shop/office. Being a network engineer, 18 runs later, I’ve got my patch panel and 24port switch mounted to the ceiling. Works great.

Problem:
I had to power said switch (simple guy, specs say 36w). So I had a light outlet up there, so I ran power cord to that, works great till I could convert that box to an actual outlet. I completely forgot that light is on the main light switch…

So my question is: can I swap my main light switch to smart switch. Is there one that won’t cut the power to the circuit, just send the smart commands to HA? Or am I gonna have to run another line from my electrical box and just screwed?"	15	"['Wild-Bus-8979: Anything that runs Tasmota or ESPHome should be able to disconnect the switch from the relay.', 'maweki: Look for a zigbee smart touch switch with ground. Then you have a zigbee bulb on the other end and you should be good to go.', 'ten1219eighty5: As far as a smart stitch that stops you from turning off the main switch try these\n""Lutron Aurora Smart Bulb Dimmer Switch | for Philips Hue Smart Bulbs | Z3-1BRL-WH-L0 | White https://a.co/d/7clNZxZ"" that will put a smart button over the light switch so you can\'t turn it off then you just need to make all your lights smart so they go in and off when you press the button', 'IsThereAnythingLeft-: Worst case you will only have to run another wire from the light switch, taking a branch off before the switch and using that spur to power your socket', ""wishIknewbackwhen: I'm using a Shelly 1PM with ESPHome, allowing me to separate switch and relay."", 'aprettyparrot: I’ve got no zigbee anything :< all my stuff is on wifi\n\nBut I don’t really care about the bulb really, the socket to outlet adapter (know that’s not the best thing to use) just happened to have a bulb socket on it so I put bulb back in. I really just don’t want the actual light switch to affect the circuit anymore.\nDoes that make sense?', 'aprettyparrot: Got it going with a sonoff switch, just have to get it configured.\n\nFor anyone else doing this I just plugged in ground to ground port on the switch. Put the hot wire and the wire the old switch was on/offing in the Positive terminal on sonoff switch. So basically there is no switch anymore, just a smart button.\n\nThanks to everyone for the help, super much appreciated!', ""maweki: Shame. If you use ZigBee and bind them together it will still work if your home assistant is down.\n\nThere are wifi smart touch switches from tuya, but I'm not sure how the home assistant support is with that. Should work though."", 'kunigit: What does the wall switch do besides control this light you\'ve commandeered for power? If you have no other use for it, you could just hard-wire the circuit closed and remove the wall switch.\n\nOtherwise, the ""Smart bulb mode"" on Zigbee or Z-Wave wall switches is your best option to keep control over other lighting in the area. (Edit: None of my GE/Jasco Z-Wave switches have this feature, only my Zooz ZEN23, so make sure you verify capabilities if you go this route.)\n\nThere\'s no down side to mixing ecosystems in your home when needed. Getting a Zigbee/Z-Wave switch and bulb (or smart plug) wouldn\'t mean you have to replace any of your wifi stuff.', 'Shooter_Q: Got any existing light systems in your house? \n\nI did a similar thing with a Lutron pico remote and some wifi bulbs with the actual light fixture hardwired in the socket, so that the wireless remote only controls the bulbs and they always have power. There are no true switches in this situation though, so it definitely shouldn’t be done in a vital component area. \n\nThis worked for us because we’re already a Lutron home though.', 'aprettyparrot: Been thinking of adding it, kinda waiting for price of pis to go down. I got one 3b+ for $55 but that guys gonna be dns/dhcp. But being a network engineer the more ips I have the happier I am… :>\n\nSo it sounds like any smart switch would do the trick?', 'maweki: You need one with its own touch control and neutral. No neutral setups need a bulb to close the circuit.', 'aprettyparrot: The bulb doesn’t close the circuit. Let me try to explain again.\n\nThe light socket I’m using as an outlet for router is connected to a few other light sockets, and a light switch turns them on/off.\n\nI want it so that light switch is always turned on, so router won’t lose power.\n\nSo if I use smart switch in place of original light switch. Can it keep everything on, and just send the commands to turn smart bulbs on?\n\nThat make sense?', 'maweki: I know exactly what you mean. I\'m just explaining that you need a switch with neutral wire if you don\'t plan on connecting the bulb wire to the switch.\n\nBecause there are many switches advertised as ""no neutral"" and they need a consumer.\n\nThe always-on bulbs are just connected parallel to the switch.', 'aprettyparrot: Ah ok, gotcha. Thanks very much appreciated :>']"
1681473680.0	14-Apr-2023 05:01:20	[Project] Simple MQTT Thermostat - Ethernet, ESP32 based, I learned a lot!	PockyBum522	26	12luvld	homeassistant	https://www.reddit.com/r/homeassistant/comments/12luvld/project_simple_mqtt_thermostat_ethernet_esp32/	"I made my own ESP8266-based MQTT thermostat a few years ago. I am aware there are pre-made solutions, but I wanted to learn in the process, and so I rolled my own.

Recently, I wanted to upgrade to a ESP32 and also Ethernet for reliability. The 8266 wasn't bad, but regardless, my central air closet is near my router and I already had Ethernet run for this project. 

Just finished it, happy to report it's working well! Warning, this is my first foray into C++ so if you see anything that can be done better, let me know. I'm always down to improve. 

https://github.com/PockyBum522/mqtt-thermostat-wt32-eth01"	3	"['electric_machinery: Is there a watchdog timer or something to make it safe(r)? Did you have any ""oh shit"" moments with controlling big, expensive hardware?', ""PockyBum522: Just for fun, here's the history graph and me showing a low temp where it shuts off into a high temp where it kicks back on:\n\nhttps://imgur.com/a/M5YY7id\n\nYou can also see where my partner took a shower as the blip on the second-to-last cycle."", 'PockyBum522: ESP32 has a watchdog built in, and it re-initializes with a 15 minute timeout on starting the compressor, which is the only thing that I\'m really going to hurt if I switch it on and off too fast. \n\nAlso, every time the compressor turns off, yep, another 15 minute timeout. It\'s probably way, way more than it needs, but it\'s less than a normal cycle of how long it takes it to switch off and then the house warms up 1.5F which is when I have it set to turn back on at the moment.\n\nI\'m trying to think if I\'ve had any ""close calls"" but I don\'t think so with this project. The relay board I have lights up LEDs for each channel, so it was easy to simulate different temperatures and watch how it reacted.']"
1681473192.0	14-Apr-2023 04:53:12	fluctuating Adguard processing speeds	Fehldreher	0	12luo5m	homeassistant	https://www.reddit.com/r/homeassistant/comments/12luo5m/fluctuating_adguard_processing_speeds/	"I noticed that sites sometimes open with a delay. Therefore I checked the processing speeds. Any idea what causes that / what I can do?

HA is running on a Pie 4 with 4gb ram. The Pie is connected to the router via ethernet.

disclaimer: I'm rather new to the HA world..

&#x200B;

https://preview.redd.it/0plrirkk9uta1.png?width=1587&format=png&auto=webp&v=enabled&s=404fcc9d59422d2cf0d93925d43c8bf6098377c2"	7	"[""golles13: I'm afraid a Pi is not powerful enough.\n\nI'm running 2 instances of Adguard, one on a NUC and one on a Pi4. The Average processing speed is 8,10ms (NUC) and 24,33ms (Pi4), both running via Docker.\n\nFor me, it's not such an issue, as the Pi is configured as secondary DNS and handles only 10% of the load the NUC does."", 'mosaic_hops: Disable the features that check with their servers for every request - the parental filtering for example and see if it improves?\n\nOtherwise, yeah, Adguard was dog slow for me. Something’s wildly inefficient. I just wrote my own code to fetch block lists and load them into unbound and get sub-millisecond response times again (on a Pi 4). Requests that go upstream take 8ms on average.', ""Fehldreher: Well, but I sometimes have more than 400ms (see graph). That's seems extreme, don't you think?"", 'mosaic_hops: Adguard performs like it’s written as an Excel macro running on a graphing calculator. Something is taking orders of magnitude longer than it should.', ""Fehldreher: Thanks, but my point is that it extremely fluctuates. It is very fast for days and then very, very slow - as you can see in the graph. \n\nSomething is slowing it down. Sometimes.\n\nI don't use the parental filter. Just ad blocking.."", 'mosaic_hops: I noticed huge CPU spikes every several seconds. Not coincident with DNS traffic. And just really poor latency otherwise.', ""Fehldreher: I don't get cpu spikes. I just cleared the log and the statistics and now have ~10 ms since 2 hours.\n\nNot sure if that actually solved it or if it's just correlation.\nLet's see""]"
1681471363.0	14-Apr-2023 04:22:43	Zigbee dongle VS Zigbee wired hub	TheoSl93	1	12lty9w	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lty9w/zigbee_dongle_vs_zigbee_wired_hub/	"Hi there!

After a couple of months with Home Assistant (mostly used for energy/solar panels management) I would like to step into the Zigbee devices.

As far as I know, a Zigbee network needs a coordinator, and most of the users use a USB dongle. In my case my PI is stored in a closet on the top floor in the house, and it will be difficult for the devices to reach, so I was thinking about a Ethernet hub that I can place somewhere else (like [this one](https://aliexpress.com/item/1005005269351360.html)).

Is this a good idea? Will the hub do a good work or do I still need the dongle?

I was also curious about the integration part. Do I need the zigbee2mqtt integration (and take into account the devices compatibility)? Or is this integration only needed with the dongle? Will I be able to 'post' and 'get' into the devices?

Any post or documentation regarding my questions are also welcome!

Thanks in advance everyone!!"	0	[]
1681471064.0	14-Apr-2023 04:17:44	Administrator - Hide location	ayers_81	2	12lttyc	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lttyc/administrator_hide_location/	"Home Assistant is great.  Lets start there.  I've used it personally for a couple years now, and it has just gotten better and better.

I am setting up a Home Assistant for a friend.  We trade work for eachother in our areas.  I'd like to keep myself as an Administrator on his Home Assistant, but I DO NOT want the security concern about seeing his location.  Is there a way to block location visiblity for a specific user?  Maybe setup a 'power user' or external admin who can't see location, but can see/fix everything else?"	4	['jasonkohles: There isn’t a way to do that, but if it were me I’d just tell them “look, having it setup this way means that I can help you maintain it, but it also means I could spy on you.  I’m not planning to spy on you, but it’s up to you if that’s an acceptable trade off or not.”\n\nI’d also make it clear that location tracking probably isn’t the most invasive thing you could do with admin access.  If someone else had admin access to my HA instance I’d be more concerned about things like being able to access cameras, unlock doors, or open the garage door.\n\nKnowing the kinds of friends I have though, the worst that would probably happen is that they’d use location tracking to figure out when nobody was home and then use the cameras to spy on our cats and give them extra food.', 'wsdog: No. There is no notion of acls in Home Assistant.', 'Tornado2251: Setup an administrator with 2fa and let your friend have the code generator on his phone.', 'ImATrickyLiar: You’d have the problem of being on the other side of the airtight hatch way. An admin could manipulate something to find or enable anything that was hidden from them.\n\nWhat I would do is disable your user by unchecking Active in the users list in settings. If your friend wants help with something then they move you back to Active temporarily.']
1681470560.0	14-Apr-2023 04:09:20	Is there any way to control my Alexa Smart Thermostat in home assistant?	JROsteen234	0	12ltmrc	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ltmrc/is_there_any_way_to_control_my_alexa_smart/	"I'm trying to set up my smart home and I am switching from an Alexa smart house setup and so far, I'm loving the switch. 

Not super HA savvy as I am just beginning to get my feet in the water lol.

However, my Amazon brand devices (Plugs & Thermostat) are not able to connect to HA.  I've already done the Alexa Media Player so I can do stuff with my Echo devices, but now I'm looking to control my other Alexa smart home devices.  I'm wanting to put a temperature slider/up & down buttons with the temperature read on the same card.  Is there any way to do this? 

Thank you all for the help!"	2	"['drpeppershaker: Maybe a place to start?\n\nhttps://community.home-assistant.io/t/amazon-thermostat-integration/421286/2', ""JROsteen234: This is a good place to start, but I would like to be able to control it without sending a command through alexa, even if it's through HA.  I'm looking for a GUI so my wife can use it a lot easier""]"
1681470133.0	14-Apr-2023 04:02:13	Failed to discover Aqara E1 Hub in Xiaomi Gateway (Aqara)	aliekiddo	1	12ltgqx	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ltgqx/failed_to_discover_aqara_e1_hub_in_xiaomi_gateway/	"I am trying to add an Aqara E1 Hub but it can't be discovered with the Xiaomi Gateway (Aqara) integration.
Any ideas?
It is linked to the Aqara Home App.

This is the error with the interface as 'any'

""Failed to discover a Xiaomi Aqara Gateway, try using the IP of the device running HomeAssistant as interface""

I have also tried with HA's IP as the netwowk interface without success."	0	[]
1681469846.0	14-Apr-2023 03:57:26	Yaml on old pi	michaelthompson1991	0	12ltby1	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ltby1/yaml_on_old_pi/	"So when I upgraded from my pi 3b to my pi 4 I thought what can i do with the old pi?!

After thinking an possibly thinking of running docker and portainer but with no actual use I thought bingo!

Install HA again and try some yaml stuff I’ve been scared to do incase i ruin my primary HA. 

So I’m thinking of trying the icloud3 integration, templates and template sensors and I’m not sure what else to try.

If anyone has any ideas and guides of yaml things to do, then if they work ill try them on my main pi."	8	['ArrogantDoorknob2963: Scrape it on ebay for 10x the price', 'michaelthompson1991: Do you think? I thought I’d get more use learning', 'ArrogantDoorknob2963: Nah I’m just joking with you. You can do alot of fun things with a pi. Run proxmox to learn more about virtualization, block ads on your whole network by running pihole or do what I’m currently doing with a spare pi and use it to gather telemetry from a autonomous drone and send it over 4G and you have a drone with unlimited range.', 'michaelthompson1991: Well I can virtulise HA on my Mac, which might be on the cards. I’ve also recently discovered AdGuard which I can run in HA, just not sure how well it would work because I’m already running a double NAT 4g internet due to where I live. That sounds soo cool! Haven’t got a drone though 🤣', 'ArrogantDoorknob2963: You can build your own with pretty cheap kits fron ali express and then run a open source flight software like ardupilot or inav and you’re good to go 😎', 'michaelthompson1991: Might have a look! Do you think I could use AdGuard with my network?', 'ArrogantDoorknob2963: Yeah probably as long as you set the default DNS in your router to your adguard IP. Should work in the same way as pihole', 'michaelthompson1991: Yeah I thought that was what you did. I’ve got an eero mesh so that’s easily done, just not sure if it’ll work with the ee router as a double Nat. Because I have strict Nat on my ps4']
1681468921.0	14-Apr-2023 03:42:01	Dashboard display issue	lowriskcork	1	12lsy6w	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lsy6w/dashboard_display_issue/	"I have the correct display on my iPhone but no on a desktop, (I'm using a grid card for the room selection)

any idea how could I fix it? (to have a similar alinement that on the mobile phone version) ?

or am'I better create two dashboard and fine a way to automaticaly detect the client (Mobile or Dashboard?)

https://preview.redd.it/1vkps649wtta1.png?width=407&format=png&auto=webp&v=enabled&s=89d7fbdf98c34efe9cbb5a1a8731ee9dd749807e

https://preview.redd.it/wtf921miwtta1.png?width=1745&format=png&auto=webp&v=enabled&s=445176b5626fa1e7d14b44d6a780c6b686782856"	10	"[""ten1219eighty5: You could combine the cards using grid or vertical stack I to one card and set the page to one card mode or create multiple dash boards for different device views ( creating different logins for each device let's you have different default views)"", ""MattHashTwo: I'd be curious to see if you fix it, as I have a similar issue when swapping phone to desktop.\n\nI see grumbling on the home assistant community forums but never found a solution.\n\nEdit: found a YT video on 'responsive design' dashboards, by 'smart home junkie' which looks promising but I'll have to check it out later"", 'w0nderward: This is how I did it. More photos to come.\n\nhttps://preview.redd.it/p5vihpgvfwta1.jpeg?width=1322&format=pjpg&auto=webp&v=enabled&s=92a78850bbffc2e692460bfa74a73ec304b86ef6', 'w0nderward: https://preview.redd.it/pff375exfwta1.png?width=3294&format=png&auto=webp&v=enabled&s=570b833497d0f22de6ba0280219cf91a78457997', 'w0nderward: If you need further explanation I’d be happy to help!', 'lowriskcork: Very nice ! Thank you', 'w0nderward: https://preview.redd.it/uekb9ygzfwta1.jpeg?width=1168&format=pjpg&auto=webp&v=enabled&s=5147d687fbf43431590f2231ad186502f28b1948', 'JQuonDo: Newer to HA. Can you walk us through which card visuals and components (custom if any) you used to achieve this.', 'w0nderward: Yea, not very descriptive. But each “floor” is a a grid card. Then all of those are wrapped in a [themable grid](https://github.com/nervetattoo/themable-grid). I then set breakpoints for mobile, tablet and desktop to get the view that I want. The tablet I think only applies to my iPad mini if I remember correctly. I may post the full code here if people are interested', ""JQuonDo: Thank you! I would be interested in the code, but no rush, I'm still experimenting with a lot.""]"
1681464909.0	14-Apr-2023 02:35:09	[Request] New HW recommendation	Nighter83	1	12lra93	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lra93/request_new_hw_recommendation/	"Hi all,

I started with HA round about a year ago, just with some small stuff, to monitor my energy consumption with some flashed gosund111 devices as we had used \~8000kwh for a 4ppl household which was way too much.. so at that point the usage of my RPI3+b with 2GB and a microsd was enough.

After some time I started to integrate more and more things and the RPI came to its limits, especially with upgrades as my history grew more and more due to the frequent updates the gosund sent ( I have very sensitive settings to determine which devices consumes a lot of power maybe unseen or during the night for just a small peaktime so the tasmota settings were at 3% change in the past and are at \~10% change in consumption right now). On top of that I build some automations and some small dashboard

So at the moment I cant even update to 2023.4.4 as the backup takes too long.

long story short: I need new Hardware

What would be your recommendation for a HA, maybe with frigate or motioneye server in the future, as I have several sec cams (reused old RPI and RPI Zero) which are currently running with motioneye.

* Currently running 25 gosund111 (updating to 40 in the near future)
* 2 TVs
* 2 FireTV
* Roomba
* 14 Somfy Blinds 
* 4 Shelly ( 20 more to come)
* 6 sec cams
* Smoke detectors
* 14 TRV
* several lights in the future (not yet in place)
* Doorbell

&#x200B;

&#x200B;

The main point for me is the power consumption, due to very high energy costs where I live.

I was looking in some SFF pcs from dell in past, but due to the amount of different cpus you can get them and missing consumption information I lost track of them.

RPI4 is not an option as there is none available with 8GB since over a year now (and I'm not willing to pay 200+€ for some ""bundles"" if there are more efficient options with SSD)

&#x200B;

So what would you buy now in terms of power vs consumption efficiency for a future proof setup?"	7	"['banned-again-69: A pi will use 5-10W and a sffpc will use 10-40W. The standby drain from all the other IOT devices in your house will be more significant than the pc or pi that you use to control it lol', ""BenStoked: When was the last time you tested/replaced the sd card? they're notoriously unreliable in HA, and can cause the HA symptoms you describe."", ""mrtramplefoot: I use a Lenovo tiny with a Pentium J3710 which is a 6.5w tdp, so overall draw should be just a bit more than a pi, but way more powerful and flexible.  They're dirt cheap on eBay for something like this that just needs a cheap ssd https://www.ebay.com/itm/125869802015?mkcid=16&mkevt=1&mkrid=711-127632-2357-0&ssspo=DK1vqINUQKq&sssrc=2349624&ssuid=zZxTWctVSx-&var=&widget_ver=artemis&media=COPY"", 'tungvu256: im using a thin client as seen here [https://www.youtube.com/watch?v=fEG7fDW56HE](https://www.youtube.com/watch?v=fEG7fDW56HE). rock solid in the 2+ years. so much better than the rpi and for around $60. it has Frigate via the m2 slot since i couldnt get the Coral via usb.', ""Nighter83: >re significant than the pc or pi that you use to \n\nThe point is the IOT devices are there either way.. so why should I ignore the consumption of the control unit which I'm going to exchange now? If there is a sff unit that uses 20W but has enough resources for the points listed above why should I consider a unit using 40 W or more? \n\nthe point is an RPI3 or RPI4 does not have enough power as it seems/not affordable for a reasonable price.. that was the whole background of my request... \n\nI know that there is the N2+ but does it match a sff in terms of efficiency and have enough resources for my points?"", 'Nighter83: As far as I can remember I’ve replaced the microsd in round about September October last year with a 128gb sandisk extreme A2, after the previous microsd died..', 'RIPD_: I would recomend the Odroid N2+\n\nThe  power consumption of the [N2+](https://wiki.odroid.com/odroid-n2/hardware#specifications) seems to be lower than the [Pi 4](https://www.pidramble.com/wiki/benchmarks/power-consumption) power consumption.\n\nI have an Odroid N2+ with a 128GB External SSD and it seems to be almost as fast as my Unraid server (i5-10400), but i dont have a lot of automations.  \n\n\n[Pi 4 vs Odroid N2+ performance](https://www.notebookcheck.net/fileadmin/Notebooks/News/_nc3/Raspberry_Pi_4_vs_ODROID_N2_Plus_768x418.png)']"
1681460678.0	14-Apr-2023 01:24:38	Make a Canairi inspired Smart Air Quality sensor using CircuitPython, MQTT and HomeAssistant	hellweaver_666	0	12lplnb	homeassistant	https://andywarburton.co.uk/2023/make-a-canairi-inspired-smart-air-quality-sensor-using-circuitpython-mqtt-and-homeassistant/		0	[]
1681452618.0	13-Apr-2023 23:10:18	Assist not returning correct answer	Additional-Nerve-421	0	12lmdsq	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lmdsq/assist_not_returning_correct_answer/	"hmmm what's going wrong here? two doors are open? 

&#x200B;

https://preview.redd.it/25diauebksta1.png?width=586&format=png&auto=webp&v=enabled&s=93c7ecf830d0b80f76daa2f3c5e621f0437a30a5"	0	[]
1681452112.0	13-Apr-2023 23:01:52	How to calculate time left in battery, time left to full charge?	blueant1	3	12lm6cr	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lm6cr/how_to_calculate_time_left_in_battery_time_left/	I’ve got a bluetti hooked up to solar in addition to AC charging for my home.  I had a ecoflow before which had a handy readout of time left on current battery while not charging, or time left to full charge while charging.  I can do the calculation with the value I get from MQQT manually.  How dow I do these calculations in a card/UI component to display in my HA?	3	"[""crashbash2020: I'd be curious on that too. You could do the maths yourself with a template but it would probably have lots of conditions and would mess up on reset\n\nI wonder if there's an integration that can take a sensor data and do it for you"", 'trantoriana: I do this for my water boiler.\n\nBasically you need to determine what the charge rate and  discharge rates are ( they may differ).\n\nThen create a template sensor in HA taking the current state from MQTT and calculate charge time and discharge time using the rates as above.\nQuestimate in the beginning, then look at the actual values (use a history graph) and fine tune your calculations each time. Beware these calculations are best guess.\n\nTo visualize put the template sensors in a history graph or entity chart.\n\n(If needed I can give you a example from my boiler template sensor).', 'eagerpanda: I’m curious, how do you have your bluetti/ecoflow hooked into your house? Possible to do via generator inlet?']"
1681447603.0	13-Apr-2023 21:46:43	Can't update HA or backup. Can I fresh install and use same config.yaml?	saltmonkey27	2	12lkaor	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lkaor/cant_update_ha_or_backup_can_i_fresh_install_and/	"My HA seems to be stuck. I'm on core 2022.4.6 and supervisor 2022.11.0 and can't for the life of me seem to update anything. I looked into it a while ago and it seems like it's some kind of bug that got squashed but I missed the updated and it has basically borked my system. What's worse is that it seems to fail when backing up to Google Drive.

Luckily, everything has been and is currently working fine, but naturally I'm concerned that if things start to go south at some point, I'm going to be SOL with a broken instance and no recent backup.

Like the title says, if I make a copy my config file and then do a fresh install (I'm running Home Assistant OS on a Linux box) can I then just copy over the config file and start again from there?

Of course, I expect that not everything is going to work without configuration (I have a fair number of add-ons like frigate, deconz, docker wyze bridge, and more!) But am praying for some kind of portability because starting from scratch would be a ball ache (and nigh on impossible time-wise with a small child hanging around my ankles!)

Oh wise HA hivemind, what say you?"	3	"['saltmonkey27: https://preview.redd.it/wwrtb3nartta1.png?width=1080&format=pjpg&auto=webp&v=enabled&s=4f8cbddee4cac5ec71ba58f671abc09952889ff3\n\nFor context, this is what I get when I try to update basically any component (supervisor, add-ons, etc). Clicking the update button does nothing.', 'VikingOy: Perhaps yet another good reason to run the core docker version instead of HAOS?  \nAll I do when things get rough is to delete the container and download a fresh updated container and restore my last working config folder.', 'little_fancy: your screenshot just shows the entity that shows if an update is available....\n\nhave a look at settings -> system . there should be ""updates"" ""repairs"" and ""backup"" that should help you further. if they are missing maybe your supervisor container is not running']"
1681444484.0	13-Apr-2023 20:54:44	"Any solutions for a ""wireless"" speaker?"	guardian1691	16	12liwpa	homeassistant	https://www.reddit.com/r/homeassistant/comments/12liwpa/any_solutions_for_a_wireless_speaker/	"I want to add a speaker to my son's room to help him wake up on school days and to play announcements. I do **not** want to use a Google or Alexa speaker as I don't want it to be capable of controlling devices and, more importantly, listening in his private space. I currently have a couple of raspberry pis that could be used for this, but I am open to other options and was curious what kind of configurations others have used.

Also, yes I know that there is a manual off switch for the smart speakers, but that would also mean that he can just flip it. We want him to have a place of privacy in the house."	49	"['FishScrounger: Look at the IKEA Symfonisk range. It might be perfect for what you want to use it for. They do painting-style speakers, bookshelf speakers, or a lamp with a speaker built-in.', 'bfodder: Chromecast Audios were excellent for this. I wish Google still made them.\n\nThat being said you can get speakers that support Google Cast. They have no Assistant but you can cast to them over WiFi.\n\nhttps://www.google.com/chromecast/built-in/audio/', 'dwyimli: Depending on wether the budget allows, you could also consider a Sonos SL speaker. They have no microphone.', 'harborfright: I did some initial testing with the ESPMuse speaker, and was pretty pleased. I was using the stock firmware with Logitech Squeezebox add on. Apologies for not having more details, but it was shaping up to be a good announcement replacement for my Google speakers. I just haven’t dedicated time to full implementation.\n\nI also tested ESP audio firmware on it, but stumbled on getting the audio files via local server and not NabuCasa links. Local playback was smooth, proxied through Nabu was horrible.', '17Giunness: I use Moode Audio on a pi with a DAC and powered speakers\n\n[https://moodeaudio.org/](https://moodeaudio.org/)', 'owevs55: Yamaha MusicCast has an integration that runs well on HA. I use it to control my multi room setup at home', ""gormami: Sonos has a line of speakers specifically without Google/Alexa/Siri etc. I didn't have the time or energy to play, but absolutely didn't want a voice assistant system.  They are great, I don't do much with the the HA integration, but it's there.  I've been slowly getting back into automation after a long pause, but I don't have a lot of time, so I'm buying things I know I can do more with later."", ""winDOS2K: I don't know if you have Bluetooth available? Otherwise you could take a look at this:\n\nhttps://github.com/pkozul/ha-tts-bluetooth-speaker"", ""EspaaValorum: It's funny how we're trying to recreate old school tech with complicated new tech.\n\nUse a clock radio.\n\nOr a cassette tape player set to play when the power comes on. Plug into one of those clock outlet things where you set the times the power comes on, you know, one of those you plug the Christmas tree lights in.\n\nEt Voila!\n\n&#x200B;\n\nhttps://preview.redd.it/fo1c1brz2xta1.jpeg?width=298&format=pjpg&auto=webp&v=enabled&s=b896d679653dfcf4639a8153bf921e51e292d540"", 'dravenstone: Pretty much *any* [linkplay based speaker](https://github.com/nagyrobi/home-assistant-custom-components-linkplay) will work just fine, as will any airplay 2 enabled speaker. \n\nYou could even just get a little airplay2 dongle (I like the wiim stuff, but Belkin makes a dongle that works fine too) for any powered speaker you already have and be done.', ""petervk: My son has a Sonos play:1 in his room as well as a M5Stack with an RFID reader running ESPhome. He has a bunch of RFID cards, one for each of his favorite songs and can place them on the reader to get the speaker to play it. Everything is done through a home assistant automation so I have a condition that it doesn't work after bed time or before wake up time. It's pretty slick and I love it.\n\nOnly issue is that because we are using Spotify, sometimes when he scans a card it stops Spotify from working anywhere else. I set him up with his own Spotify account but I haven't been able to spend the time to get his speaker to always use his Spotify account."", 'mjsrebin: I used a RPI zero running [PiCorePlayer](https://www.picoreplayer.org/).  It can be used with a [Logitech Media Server](https://www.mysqueezebox.com/download) instance to play music, or setup as an audio sink in HA to play text to speech messages.', 'EnonGator: Maybe this: Raspiaudio ESPMUSE Proto esp32 Development Card with Speaker and Microphone https://a.co/d/ikcqNM8', 'zer0545: The old bose soundtouch speakers did not have a microphone and they have a home assistant Integration available.', ""DVXT: Look for Chromecast audio on eBay/FB marketplace/gumtree. You can pair these with any 'dumb' speaker you have which has a 3.5mm jack. Pretty sure you can also use optical, but I've never tried. \n\nThey are normally priced quite high as Google stopped making them, but you can get a steal occasionally - I picked up 3 for £50 the other day. What's more, you can turn off that annoying notification sound you get on Google home devices in the settings!"", 'sabutilnik: What about a normal speaker connected to the DAC of an esp32 with pre recorded audio, controlled through mqtt?', 'amazinghl: Smart light switch at his room? Turn them on while his alarm is going off.\nGot a smart plug? Hook up a jukebox to it and turn it on when alarm is off.\nWith smart home, imagination is your only limit.', ""hops_on_hops: A Google mini or Alexa is the obvious answer. Why can't you just turn off the microphone switch?"", 'sebsebseb1982: Dfplayer mini and an old speaker', 'blentdragoons: i would get a sonos speaker', 'FalconUK17: Sonos and Symfonisk speakers work really well with Home Assistant. I have around 10 speakers and most of them are part of automations in one way or another.', ""tungvu256: any tablets will work. i have old tablets sprinkled around the house as seen [here](https://www.youtube.com/watch?v=51lSlGPh_0Q). they do announcements. the kids use it to check off their daily tasks, etc...   i havent thought about snooping in via microphones but i suppose that's easy to accomplish"", 'DarkYendor: Another vote for Sonia here. I have two Beams and a One.', ""bjvanst: The bookshelf is good value, imo.  I have a bunch of Sonos Ones around the house and a Bookshelf out in the garage.  It doesn't sound as good to me but it's also nearly half the price."", 'thackstonns: I have two of these.  I tore apart and connected the amp to outside speakers.  They work great.', 'soggypete: I recently got a symfonisk bookshelf one and it’s a game changer', 'nclpl: My daughter has the Symfonisk lamp speaker and it sounds pretty darn good for a single speaker at that price point. Integrates perfectly with HA, and she loves it.', ""look_ima_frog: Still have two of 'em in my desk. Keep thinking I'm going to try and use them again, but never seem to get the time.\n\nWish there was a direct replacement minus the google bits. I loved being able to play music all around my house with the stereos I already own. I don't want a sonos speaker, my components are better and I already own them."", '-entropy: Audio Pro makes some high quality speakers that also support casting!', ""guardian1691: Those are good starting points, I'll check them out. Thanks!"", 'segdy: I unfortunately have very bad experiences with the Muse Luxe. Tried both the squeezelite firmware and the ESP. Very unreliable and unstable for me.', 'Terrik27: Can you explain your setup with this?  I use Soundwireserver and it works well but not at multi devices with my setup.  Do you need a pi per speaker for this as a receiver?\n\nOr you just use it for one speaker?', 'solts: I can second musiccast. Speakers have multiple online sources... Which can be automated with HA or even the built in alarm function.... You can also sent TTS commands.', 'guardian1691: The range would probably be too far for a stable connection, but I appreciate the advice!', 'mrohdubs: I’ve been thinking about trying to set up something like this for my son. Did you follow a tutorial to get it set up?', ""guardian1691: I always wished I picked one up before they discontinued them. I guess I didn't realize they paid with HA."", ""guardian1691: I'll check this out, thanks!"", 'guardian1691: The lights unfortunately aren\'t usually enough to wake him up. Sometimes running an effect on them gets his attention if he\'s awake but not always, and sometimes it would be nice to just send him a quick audio message instead of one of us going up/down stairs. ""Hey you\'re volume is too loud"", stuff like that.', 'guardian1691: Did you miss the second section of my post?', ""Izwe: Can confirm! The bookshelf sounds _fine_, but the Sonos' sound _good_, although make sure if going the Sonos route to get the non-Alexa variant"", ""FishScrounger: I'm looking at getting one with the built-in shelf underneath with wireless charging. Looks great!"", 'DreadedMonkey: I found that it becomes unreliable once the battery is partially drained. Mine is plugged in most of the time, but I intend to put a higher capacity battery in. There is also an issue with the battery draining rapidly on standby that can be fixed by breaking one of the pcb tracks. Squeezelite was definitely more unreliable that the Home Assistant app.', ""melbourne3k: I've read this a few times about these devices. It's scared me off buying one."", 'harborfright: I’ll need to set mine up again and put some effort into getting it set up as a replacement for one of my Google devices. \n\nWhat issues did you encounter?', 'petervk: For the automation I used this: [https://www.home-assistant.io/blog/2020/09/15/home-assistant-tags/#building-the-rfid-jukebox](https://www.home-assistant.io/blog/2020/09/15/home-assistant-tags/#building-the-rfid-jukebox)\n\nI purchased a M5 Stack lite ([https://shop.m5stack.com/products/atoms3-lite-esp32s3-dev-kit](https://shop.m5stack.com/products/atoms3-lite-esp32s3-dev-kit)) and their RFID unit ([https://shop.m5stack.com/products/rfid-unit-2-ws1850s](https://shop.m5stack.com/products/rfid-unit-2-ws1850s)) and flashed it with esphome ([https://esphome.io/guides/getting\\_started\\_hassio.html](https://esphome.io/guides/getting_started_hassio.html)) and used this configuration to get it working: [https://gist.github.com/petervk/ddc2f7d699a83a4fe76f87966bf9cb6b](https://gist.github.com/petervk/ddc2f7d699a83a4fe76f87966bf9cb6b)\n\nYou can get this to work with quite a few different ESP devices and RFID readers, and likely some will be cheaper than the m5stack versions, but I like that the m5stack comes with the usb C adapter built in, a case, and the cables. Also the holes in the sensors are lego compatible if you want to build a case for it.\n\nGood luck getting it going!', ""hops_on_hops: No. Still not clear on why you're unable to just turn that switch off."", 'Natclanwy: Were you able to send announcements to your Sonos? I have two Sonos Fives but I have been unable to send announcements to them. All I have tried is the Alexa Media player add on though.', ""Izwe: Yes, there's a Sonos Cloud integration (might be in HACS) which can do it with local sounds and TTS"", 'Natclanwy: Thanks I’ll check it out!']"
1681440888.0	13-Apr-2023 19:54:48	Smart Thermostat Recommendations?	DangNerdReddits	4	12lh86t	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lh86t/smart_thermostat_recommendations/	"Looking for suggestions on smart thermostats; HA integration / app (short term), reliable, remote (internet) control while away, but not dependent on someone's app/server/internet in the long run once i do get HA going.

&#x200B;

Eventually I'd like to dive into HA but right now I just need to get some better temp controls and want to ""future proof"".  Short term i don't absolutely need anything fancy or apps as long as i can ""multi-zone"" locally.

&#x200B;

SITUATION: I've got a place with only one thermostat and I would like to add ""zones"" because it gets crazy hot on the sunny side and the AC won't trigger because the single dumb thermostat is on the opposite end of the house. I figured an ecobee with those ""extra sensors"" or maybe one hardwired ecobee to replace the dumb one and a second wireless (or adapter?) one in the hottest zone to give the extremes?

to clarify, there's only one whole home AC and one furnace, and currently only manually adjusted dampers; so this implementation would just be to have temperature sensing where I care about it most even though it will make other parts of the house extra cold without other work - that can be done later.

&#x200B;

My only 2 fears are something becoming useless because a server/app/service goes out (or they start charging for what was free) \[or similarly, useless if you don't have internet even while home with it\], AND that some of these have things like Alexa built in and don't seem like you can shut off that it's always listening.. but ecobee is the only one ive really heard of often.

thanks for the input!

&#x200B;

EDIT: heres what i currently have: Whole home HVAC (natural gas furnace + some kinda outdoor big AC) all forced air through typical wall vent lines and manual dampers. NO ZONES just one thermostat downstairs.

HONEYWELL TH5110D1022  
Wires are:   
Rc - stainless tab jumpered from Rc to R  
R - 1 wire, stainless tab jumpered from Rc to R  
Y - 1 wire  
C - 1 wire  
W - 1 wire  
G - 1 wire"	24	"[""ProfitEnough825: Honeywell, Emerson Sensi and Ecobee are the default smart thermostats preferred by the HVAC industry for residential installations. I don't have experience with the first two when it comes to smart home integrations, but I've had great experience with Ecobee.\n\nEcobee is very friendly when it comes to Home Assistant integrations. You can rely on Ecobee's cloud or locally through the Home Kit integration. I currently have it connected to the cloud as a back up in case if my Home Assistant is down."", ""Sunsparc: To calm your fears about being beholden to a service, go Zwave or Zigbee. You would need a controller stick that is tied into Home Assistant in order to communicate with the thermostat. Also, you would need to expose Home Assistant to the internet through a reverse proxy or private tunnel.\n\nMy personal setup: A Nortek combo stick (Zwave and Zigbee) passed into Home Assistant docker on my UnRAID server. It communicates with my Honeywell T6 Pro thermostat. I have Nginx RPM set up which allows secure internet access through the reverse proxy. It doesn't matter where I am, as long as I have internet access, I can either open the Home Assistant app on my phone or log into ha.mydomain.com through any computer to control the thermostat (among other things in my house)."", ""MrCuddlez69: I got a zigbee thermostat for $30 USD. Best money I've spent on my HA stuff yet!\n\nLook at centralite thermostats"", 'curt7000: I wanted a thermostat with a touchscreen, looked modern, compatible with HA, remote sensors, weather, no reliance on the cloud.  Nothing out there seemed to really fit the bill for me.\n\nThis can be done with HA, ESPs, Z-Wave/ZigBee sensors, etc, but I wanted a dedicated controller that didn’t have reliance on my HA server, that way if I take HA down for upgrade (often), need to restart (often), or have an issue, my thermostat keeps on plugging away.\n\nSo I DIY built one, to support single stage cooling, 2 stage heating with Heat Pump and Auxiliary Oil heat.\n\nI built a dedicated HA instance on a RPi 3B+ with the RPi Touchscreen.  Did a bunch of mods to have it setup in a way that you could never tell that it’s running Raspberry OS Desktop in the background.  It automatically boots right to its local HA UI in single pane mode.  Remote sensors connect over ZigBee to its own controller on ZHA.  My main HA server connects to it via the Remote HA HACS integration.  It’s been running for two yrs without issue.\n\nIt’s a project but totally worth the time and money.\n\nHere is a pic of it.  If you want more details, I will try to follow up with some more info.\n\nhttps://preview.redd.it/fkl8qeew7xta1.jpeg?width=4032&format=pjpg&auto=webp&v=enabled&s=208b52c4e433945ca3ef5e23c6fb746b5b5c678d', 'DrS3R: Sensi works great!  Has the option for both local or cloud. \n\nLocal works with HomeKit so you will need the home kit integration. You shouldn’t need an apple device to set that up. \n\nFor cloud, you can either link it through HACS Sensi integration or from SmartThings integration.', 'DangNerdReddits: My leniency was to ecobee just because you see it everywhere and it seemed like they had good data for nerds (once i get the time for it)..\n\nEcobee can ""pair"" multiple thermostats or even those remote sensors to help fix zoning right out of the box (no HA necessary yet)?\n\nMy only concerns with ecbobee is they\'re bought out by amazon now, right? and their whole ""all our devices connect for a big dumb curb cloud"" idea + they have a microphone in the newer ecobees that cannot be disabled??\n\n&#x200B;\n\nThe best alternative i can see right now is honeywell T6 pro - assuming i can do the same kind of ""multiple thermostats can be paired"" thing.\n\n&#x200B;\n\nTo clarify - short term i wont have time to do HA setup, long term i can certainly geek out with things.. but i just need temps to regulate so i can actually think when im home', ""Kitchen_Software: Seconding Honeywell T6 Pro. I realize it doesn't satisfy OP's needs, but I would encourage them to think about the payoff of an hour or two of work now (versus hampered functionality later).\n\nI have Alexa/Echo [control](https://www.home-assistant.io/integrations/alexa.smart_home/) via HA (btw probably the best documentation I've ever seen; takes about half an hour, but it works very well). Remote control via my own domain. Temp/humidity sensors in 5 rooms via ESPresense and AHT10 sensors. It's great."", 'DangNerdReddits: I was looking at IKEA blinds which i believe are Zigbee - that\'s generally considered the ""better"" between the two mesh standards, right?\n\nDon\'t remember where I got it in my brain but i believe it was mentioned that Zigbee is shorter range but faster speeds for data heavy devices and its slightly more secure somehow? Otherwise unsure of the difference other than they don\'t mesh together directly..', 'DangNerdReddits: okay i havent heard of that brand, thanks', 'curt7000: Here was pre install , getting myself rid of Nest.\n\nhttps://preview.redd.it/6nqq7phr9xta1.jpeg?width=3024&format=pjpg&auto=webp&v=enabled&s=bfc38d33675ff6504be8a4cd26b27b291d7c6b6a', ""DangNerdReddits: This is super cool! but honestly it will be way to much for me to analysis paralysis over in the short term.\n\nI'm so busy right now that I'll have to baby step my way into finally getting into home assistant / home automation stuff - the big hurdle being buying the right devices that are useful now but can work with HA later on too.\n\nI'll have to circle back on this project idea in the future though because it does look fun"", ""ProfitEnough825: That's great to hear! I knew it was ideal for the equipment, especially for some of the equipment with more advanced control systems. Awesome to hear that it plays well and can be used locally. \n\nI'll likely switch from Ecobee to Sensi if I ever get a more advanced system."", ""DangNerdReddits: I've not heard of emerson sensi, i'll have to dig into this more"", ""DangNerdReddits: I believe i saw this Honeywell T6 pop up in a few google digs, if I'm looking at the correct one:\n\nIt has wifi and theres a honeywell app - so short term, without HA setup yet I will be fine for at least 1 thermostat.\n\nBut can I put another thermostat in a different location (not directly connected to hvac) and sync it through this app to make that the primary demand signal (over the app/wifi of course).  \n\n\nI'm also curious what need your saying this one wouldn't meet other than the possible multiple thermostat setup in (DUMMY cant setup HA just yet) mode haha.. To be clear, i actually DONT want a voice assistant so maybe thats what you meant?"", 'andy2na: >I wanted a thermostat with a touchscreen, looked modern, compatible with HA, remote sensors, weather, no reliance on the cloud.\n\ngreat project but ecobee does fit all of those criteria when you connect it to HA via Homekit', 'DrS3R: I have just the basic unit (non touch) and it works great. The only thing I would gripe about was customer service was not the greatest when I needed to rest the thermostat (home kit wouldn’t work and I wanted local connection). However that was towards the end of COVID and I think frankly they were just having issue like every other company. After about 3 monthes of the ticket being open and when I finally got a phone call out of the blue from them, the support tech was very helpful and had my issue resolved in a matter of minuets.', 'DrS3R: Sold at Home Depot and Amazon. They back a standard looking one and then a touchscreen one. I have the standard.', ""Kitchen_Software: Ah my fault. I did not realize there were Wifi versions of the T6 Pro. I was parlaying /u/Sunsparc's implication that it was Z-wave. This is the unit I think they and I are both referring to: [https://www.honeywellhome.com/us/en/products/air/thermostats/programmable-thermostats/t6-pro-z-wave-thermostat-th6320zw2003-u/](https://www.honeywellhome.com/us/en/products/air/thermostats/programmable-thermostats/t6-pro-z-wave-thermostat-th6320zw2003-u/)\n\nI have a two thermostats: one on the main floor and one in the basement. Since the basement is just a gym and guest bedroom, we have literally never touched that thermostat. I just replaced the main floor thermostat with the T6 and left the basement one as a zombie. No experience with coordinating two thermostats as a result.\n\nI think I did misunderstand your point about the voice assistant. If you run this all through HA, you can choose what (if anything) to expose to something like Alexa. So you can but don't have to."", 'curt7000: I heard some horror stories about Ecobee outages, so I didn’t even want to consider it as an option.\n\nI’m sure things have changed since researching this two yrs ago.\n\nFun story; I remember losing my cool, and I mean I lost it, with a AlarmRelay (Alarm.com) representative ~10yrs ago.  They wanted to charge me $50 to OTA update my RadioThermostat because a new firmware update was required to restore functionality.  It was basically dead, it couldn’t heat and you couldn’t configure it manually. After lots of screaming they updated the Thermostat for free, but with a cold house in Feb., with no heat, and ransomed into paying for an update to regain basic functionality, that ended my love affair with Alarm.com and pushed me to Nest.  Once Google ended their Nest API, I went the DIY route.\n\nTLDR: I’ve had problems with RadioThermostat (Alarm.com) and Nest.  Lost trust with the big names.  I knew how to build my own, so I did.  Of course, there is always the next best thing, so what works today may be outdone by something else tomorrow.', 'DangNerdReddits: I\'ve got some Homekit confusion i think .. is homekit just an apple version of google home? or is there some sort of device hub or an iphone required?\n\nI don\'t have any i-devices and i can\'t imagine I\'m the only HomeAssistant-interested person that is like that as DIYing tends to lean more Andriod user from my experience. So are people just pulling an Apple app into HA or something like that?\n\nWhat is it about homekit that makes it that so many people mention it? I would think there\'s other things within HA or other ""ecosystems"" that\'d handle the same functions.\n\n&#x200B;\n\nSorry for my confusion, i guess the first few times i heard of homekit i just assumed people meant some sort of apple-hub and it\'d require iphone etc.\n\nEdit: Also MATTER -  are some of these compatibility situations people use homekit and many other software or hardware hubs the reason matter was/is finally coming around? so many proprietary ecosystems that its all a pain', ""DangNerdReddits: > Ah my fault. I did not realize there were Wifi versions of the T6 Pro. I was parlaying [/u/Sunsparc](https://www.reddit.com/u/Sunsparc/)'s implication that it was Z-wave. \n\nNo i may have just crossed my searches and thought it was both haha my bad. it seems theres both a zwave version and a wifi version:  \n[https://www.honeywellhome.com/us/en/products/air/thermostats/wifi-thermostats/t6-pro-smart-thermostat-multi-stage-3-heat-2-cool-th6320wf2003-u/#specifications](https://www.honeywellhome.com/us/en/products/air/thermostats/wifi-thermostats/t6-pro-smart-thermostat-multi-stage-3-heat-2-cool-th6320wf2003-u/#specifications)  \n\n\n>  If you run this all through HA, you can choose what (if anything) to expose to something like Alexa. \n\nYeah, im okay with the option to do it but not when its seemingly forced on with no way to shutoff or remove without extra effort - like ripping it apart and cutting a mic wire or otherwise"", ""andy2na: totally fair especially given your past experiences! I personally haven't had any issues with ecobee, but would be frustrated of any downtime"", ""andy2na: so you can either set up an ecobee device via typical cloud login or through home assistant's [homekit controller](https://www.home-assistant.io/integrations/homekit_controller/). Homekit requires local control for devices, so that's why this method is preferable. The only downside is that custom comfort modes do not show up under homekit (but the basic ones (sleep, home, away)) do show up.\n\nYou do not need an iDevice for this, on the ecobee, you have to Main Menu > Settings > Reset > Reset HomeKit. Then go into HA, add homekit controller, and it should discover the Ecobee"", ""DangNerdReddits: okay cool, thanks!I think that cleared up some misunderstandings for me\n\nI'm still weighing exactly which thermostats to grab but i think for my initial Cro-Magnon approach i'm leaning to ecobee as it'd give me more out of the box usefulness before i have to stress perfecting HA with various other devices across all the protocol. - first thing is to just fix the temps before i make the wife extra frustrated""]"
1681439393.0	13-Apr-2023 19:29:53	Random buttons went missing overnight. Was there an update that broke this?	Scarletz_	4	12lgiwj	homeassistant	https://i.redd.it/cdmwqghlysta1.jpg		10	"[""nndttttt: I updated the other day to v4.2, I noticed this afternoon that the icons were missing. I was going to revert to a previous snapshot I had before the update when I had some time in the evening, but just checked again now and the buttons are there!\n\nI'll update to v4.4..."", ""mini_juice: Yes. [Update 4.3](https://www.reddit.com/r/homeassistant/comments/12kd2ff/button_cards_broken_after_updated_to_202343/?utm_source=share&utm_medium=android_app&utm_name=androidcss&utm_term=1&utm_content=share_button) broke some of the buttons for many users. It's not confirmed yet, but allegedly updating to 4.4 (came out this morning) fixes it.\n\nI rolled back to 4.2, which fixed it as well."", ""kaisercrunch: I've been using a grid card with 20 something buttons for some time now. Two of these buttons went missing since updating to 2023.4  \n\n\nUpdating to 4.4 has not resolved the issue for me. The same two buttons are still missing somehow."", 'zyghomh: same same same ;-(', ""WhiteOm_: Same, not the first time.. i updated with yesterday's version and fixed. The first time that happened i was really scared until update  ahhahahah"", ""Ok-Jury5684: I'm still on 4.2 - for some strange reason my dashboards stopped scrolling on 4.4. I guess some conflicts with minimalist theme or browser mod... Eh..."", 'Scarletz_: Haha 😅 magic', ""Scarletz_: Thanks, I just saw the thread. Someone said switching to light and then dark mode fixed it (or vice versa). I tried that, fixed it for me too.  \n\n\n\\*Strange that a HA reboot didn't fix it.\\*"", 'kaisercrunch: Found out from a comment on another post that there\'s a temporary fix / workaround.  Changing the number format for time from ""auto"" to 24h in my user settings solved this issue for me.[https://github.com/home-assistant/frontend/issues/16155#issuecomment-1506518235](https://github.com/home-assistant/frontend/issues/16155#issuecomment-1506518235)', 'Scarletz_: Changing the theme from light to dark or vice versa works for me too, haha. Odd.']"
1681437545.0	13-Apr-2023 18:59:05	Detect what wifi HA is running on?	catdaddyinabarrell	1	12lfm19	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lfm19/detect_what_wifi_ha_is_running_on/	"I have HA running in Docker on a Raspberry Pi in an RV. When the RV is parked at home, the RPi connects to my home wifi. When it's traveling, it's on a wifi hotspot. How can I tell which is active?

Why? Because I have another device that monitors the RV's systems. It changes IP address depending on which wifi network is active, and I want HA to hit a REST API on the right IP.

If it helps, I can always access the REST API using a whatever.local address from the RPi, but it seems that .local DNS doesn't resolve inside the HA docker container. That gets me:

`http://whatever.local/api/blah/blah failed with [Errno -2] Name does not resolve`

I can manually put the right IP address in `/etc/hosts` on the RPi and it works, but is there a better way?

If it matters, the Docker container is set up with 

`network_mode: host`"	20	"[""mccmax95: So this doesn't answer your question, but I think it will solve your issue.  There's an intergration called [local ip](https://www.home-assistant.io/integrations/local_ip/) which creates an entity with the state of your current ip. If you use that to build your url that should work."", '_avee_: One dumb solution that comes to mind is to have an [NMAP tracker](https://www.home-assistant.io/integrations/nmap_tracker/) that would ping target IP and tell you if it’s reachable. Assuming there is no device with the same IP on the second network, it should give you correct result.', 'catdaddyinabarrell: Thanks for the ideas. The insight that I don\'t actually care about the wifi, but can use IP address-based methods got me thinking... I may not know the IP of the other device, but I always know its MAC address. And while I can\'t get `.local` addresses working correctly in the container, for whatever reason `/etc/hosts` entries work fine (container is using the host\'s DNS infra?).\n\nI ended up writing a little script on the host:\n\n    #!/bin/bash\n    \n    IP=$(arp -n | grep b8:27:eb:8f:db:cb | cut -d \' \' -f 1)\n    if [ -n ""$IP"" ]; then\n      perl -p -i -e ""s/^.*\\s+(rvwhisper)/${IP}\\t\\$1/"" /etc/hosts\n    fi\n\nAnd running it using cron every 5 minutes.', 'kctjfryihx99: I don’t have your exact use case but I also can’t get the local DNS to resolve on HA in docker. Following in case anyone else can help.', ""quaintlogic: As your network mode is running on host, wouldn't this allow you to get SSID with either nmcli or iwgetid.\n\nWould require a little bit of bash knowledge but would also mean no looking for set IPs or installing integrations."", ""catdaddyinabarrell: That does seem like it'll work. Thanks for the idea!"", 'catdaddyinabarrell: This is promising!\n\nThe two networks have different subnets (192.168.X.\\* and 192.168.Y.\\*), so there should be no chance of a device with a conflicting IP.', 'brellox: Is your network mode set to host?', ""catdaddyinabarrell: I'm not sure what's available inside the HA container, but this sounds plausible. I'll test it out."", 'mccmax95: No problem, fingers crossed that it works!', 'kctjfryihx99: Yes', ""quaintlogic: You're correct in thinking that actually, just checked.\n\nI always forget that the HA image is pretty stripped back, there is ways to mount nmcli into the container via volumes and dbus but that's perhaps a bit too much effort for little reward"", 'brellox: Can your host resolve the hostname?', ""brellox: I ssh'ed into my host from the container to run bash scripts from there. \nBut there should be always a better solution, but it works"", 'kctjfryihx99: What do you mean? I’m pretty new at this. When I try to access home assistant from http://homeassistant.local:8123, it doesn’t resolve.', 'brellox: You are trying to access your Hass through a hostname ""home assistant"" http://homeassistant.local asks other devices on its network if they respond to the hostname ""homeassistant"" and gets it\'s up from it. \nTry accessing it by its ip directly. If this works you have a problem with mDNS and requests. And your devices don\'t negotiate correctly.', 'kctjfryihx99: I can access is through the ip, or I would really have a problem. It’s more an inconvenience. I have multicast dns enabled on my router, and I don’t know what else to check. Any ideas how to troubleshoot this?', 'brellox: Type ""hostname"" in a terminal on your docker host server.\nMaybe it\'s hostname ist not homeassistant.', 'kctjfryihx99: The hostname of the the machine that runs docker is not homeassistant. Should it be? I don’t see how to get the hostname of the home assistant container.', ""brellox: One might get container hostname through custom docker networking. I have no clue about that. \nAs I understand with network_mode host the container takes all it's networking configuration from the host. So the hostname of your Hass container is the same as it's host hostname\nMaybe get into a reverse proxy to get your custom url.\nIt's a whole new networking rabbit hole, scary at first but once I got my 40+ reverse proxy entries with https://nginxproxymanager.com/ running i was pretty happy.""]"
1681431077.0	13-Apr-2023 17:11:17	Seriously, Google? Which part of single thread network do you not understand?	waverunnr	5	12lcibo	homeassistant	https://i.redd.it/43092hh7sqta1.png		0	[]
1681429776.0	13-Apr-2023 16:49:36	Tips for a new irrigation system?	thevizionary	9	12lbur3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lbur3/tips_for_a_new_irrigation_system/	"I'm looking to put some lines down in my garden so I don't have to get the hose out every day in summer, rather just turn the tap on. I don't have to cover a lot of space so I can probably run it all on a single outdoor tap. I'm hoping to automate this somehow.

My main ideas/aims are:

1) wifi controlled unit between tap and hose. This would need to be battery powered as it'd be too hard and risky (my front yard is easily accessible to anyone walking past) to have power running to it.

2) water sensors in the garden that link up so if I'm on holiday I can see if I need to turn the system on or not. And potentially automate the system to work without me checking.

3) open source, obviously, so I can run it on HA or other system. I saw LinkTap G1S Wireless Water Timer is on Zigbee but it's proprietary so I'm not sure that's going to work out for HA.

&#x200B;

Would love to hear from anyone with experience or thoughts on this. TIA!"	23	"[""timsstuff: [Rachio](https://www.amazon.com/gp/product/B07CZ864Y9) is where it's at. My house already had an automated sprinkler system installed, unit is in the garage so I just replaced it with the Rachio. Took about 10 minutes. You don't really have to do anything once you setup the zones, it's all automated and even skips watering when it rains automatically. Also got a rebate from the water company for like $100 or so which offset the cost quite a bit."", ""Nyghtshayde: I run a Bhyve setup and it runs pretty well, other than that the weather part doesn't seem quite right. It's not open source but there's a HA integration - I don't use it because the native app is fine (basically set and forget). There are a bunch of Tuya/ZigBee tap controllers on Ali too - not sure how well the Tuya ones are covered by opentuya though so you might have to play around with it to get it to work."", 'feralfantastic: All you really need is a solenoid. Those generally run on 5-24v. I know you’re worried about running power, but what about a thermostat wire?', 'wigam: Open sprinkler', 'oxjw: Linktap has local control via MQTT added to allow integration with HA. I’ve been using the sprinkler for a few years but aim to try the MQTT integration this summer.', ""ackleyimprovised: Mains pressure on basic solenoids is a no go for where I am for two reasons. Water hammer caused pipes/joints to fail in wall. We have a high water pressure of 200kpa+. On two occasions replace piping and repaired walls. Lucky I can do it myself. Second is solenoid connection failed from the tap and had water releasing for a couple of hours. \n\nCould try to fix thr water hammer.\n\nI'm now working on a storage tank for rain water and a caravan pump. Appears to be working well so far in concept.\n\nEsp8266 + wemos + aliexpress stuff"", ""Rotilho: I have been using this one with z2m. It's been working great\n\nhttps://a.aliexpress.com/_m0MuEik"", 'snowfil: I just ordered one of these. Ali also has moisture sensors for your #2. But may not need it - could base off recent rain and forecast.\n\nhttps://a.aliexpress.com/_m0Enjok', 'noneofyourbizwax: I already had the solenoid valves (using an old watering automation system) so I just connected them to [a wifi relay](https://a.aliexpress.com/_EJI53hD ). \nThere are different models, some Tuya, or ewelink, or Esphome. Any of them can be controlled by HA.  \n\nI use [irrigation unlimited](https://github.com/rgc99/irrigation_unlimited) for the schedule. It has many options, including reducing the watering time if it rains using the weather integration.', 'electromotive_force: Opensprinkler', ""thevizionary: Thanks for the tip! Unfortunately this looks like a control unit only. I'd have to set up a series of solenoid valves to use it though. I don't think I need that much control. Ideally it's a single unit between the tap and the hose but maybe that's pure wishful thinking."", ""thevizionary: Wow this is pretty good. Especially the smart wifi controller one. Though I imagine it'll burn the batteries quicker than the Bluetooth unit that requires the hub to function."", ""tamu_nerd: +1 for Bhyve. As mentioned there is a HA integration, but due to what I suspect is a poor API or just inconsistent communications between the valves and the wifi-bridge the reporting and control isn't super responsive. That said it is basically set and forget in the app so functionality is fine it's just reporting into HA that I find sub-par."", ""thevizionary: I love this. Looks really well done and if they can do HA integration then I'm down."", ""junkdumper: Is there matt or direct HA integration?  I can't see it mentioned in their site"", ""timsstuff: Right well that's where you would start, I had an existing valve system so it just tied into that, I don't know anything about that part of it but I can't imagine it being rocket surgery. But you will definitely want the Rachio controller."", 'Nyghtshayde: I have the unit with the hub and a good set of batteries lasts about 3 months.', 'dudeinparis: I used several b-hyve devices last season and when they worked they were perfect. I had connectivity issues a few times that resulted in replacements from the company (support was always really good) but once I got the new ones they worked again. I recommend getting them setup and then leave them alone…it was when I played with them or moved the wifi receiver that I had issues. \n\nBtw I am selling my kit because I’m getting a built in system this year so if you’re interested DM me.', ""Nyghtshayde: Yeah there's probably a five second delay between clicking the button on the app and the water actually starting to flow. First couple of times I thought it was broken. As you say though, once you've set it up and configured it the way you want it basically will run itself.\n\nThe only issue is that the weather doesn't seem to be that accurate where I am (Australia) - it was doing a rain delay when there was no rain about, meaning the garden wasn't watered during some hot days. I have set it up now to water for 10 minutes a day regardless of the weather - I'll dial that back in winter to every third or fifth day rather than every day."", 'oxjw: The unit itself has been great for me, zero issues for 3 years\n\n[https://www.link-tap.com/#!/mqtt-and-home-assistant](https://www.link-tap.com/#!/mqtt-and-home-assistant)  for HA integration', ""electromotive_force: There is a integration on HACS for it.\nIt works and does allow you to read and write all the things. I have an automation that modifies the water level (which is a watering duration multiplier) according to my rain sensor.\n\nOther than that I have embedded the Opensprinkler website in my Lovelace dashboard (webpage card). Opensprinkler's web interface is pretty good."", ""thevizionary: Good to know. That's pretty decent. I'm very curious what the wifi one is."", 'junkdumper: Ok cool. Thanks for the reply!']"
1681429203.0	13-Apr-2023 16:40:03	Got stuck help me to build service to enable/disable user without using switch entity.	hexmacl	0	12lbk1g	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lbk1g/got_stuck_help_me_to_build_service_to/	"I want to make service to enable/disable user from Developer Tools>services UI .I found  [this repo](https://github.com/permissionBRICK/home-assistant-block-user-switch/blob/main/lockuser/switch.py) which does the job but uses 'switch entity'  instead i want to make two new service enable\_user/disable\_user . so that i  can build automation to do this on a schedule, or I can build a UI to  make it easy for a user to toggle on/off users in their main dashboard.

Currently i use switch.turn\_on/turn\_off user but  i want user\_access\_control.activate\_user/deactivate\_user services"	0	[]
1681428216.0	13-Apr-2023 16:23:36	I want to set up Nginx mainly because the Reolink integration requires http for motion sensors to work properly. I understand that additional configuration is needed for ESP Home, but is there anything else that might stop working if I do this, particularly Echo devices?	TrousersCalledDave	1	12lb1w1	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lb1w1/i_want_to_set_up_nginx_mainly_because_the_reolink/	"The Reolink integration error I get is:  Reolink products can not push motion events to an HTTPS address (SSL), please configure a (local) HTTP address under ""Home Assistant URL"" in the network settings. The current (local) address is myDuckDNSAddress...

I'm using DuckDNS with Let's Encrypt and both my external and internal point to my DuckDNS address, set up following Everything Smart Home's [guide](https://www.youtube.com/watch?v=AK5E2T5tWyM&t=392s) 

It sounds pretty straightforward and I've made a backup just in case, but are there likely to be any other unexpected complications from doing this? In particular, Node Red, ESPresense and Alexa? 

Thanks."	2	"['flagun: What do you mean by additional confirmation for esphome? \nI started to use Nginx addon for the same reason as yours and I noticed that right now I have better setup that I should have run from start. Right now there are no security prompts when I enter local address and I could close the HA port on my router. \nThe only changes I had to make were links to my HA on Spotify project and Google Assistant.', 'TrousersCalledDave: Are the motion sensors on your Reolink cameras decently quick to trigger alerts after adding Nginx? \n\nAre you already using ESPHome without any issues then?\n\nI\'ve seen a few YoTube videos where they mention an additional step to ensure ESPHome continues to work, like [here](https://smarthomeaddict.co.uk/2022/10/home-assistant-remote-access-using-nginx/) \n\nIf you don\'t want to click it, it says - \n\n""For any addons with embedded web servers, such as ESPHome, you will need to add an extra configuration file to ensure this can be viewed remotely. This is an optional step. Navigate to the ‘share’ directory. If you can’t navigate, in File Editor, disable enforce\\_basepath in the File Editor configuration. Once there, click to add a new file. Create a file called nginx\\_proxy\\_default\\_fix\\_ingress.conf and paste the following in: ""\n\nand then some code. \n\nI believe it\'s now mandatory to install MariaDB first too before running Nginx? The trouble is I\'m jumping between tutorials and getting different answers each time!\n\nThanks.']"
1681427959.0	13-Apr-2023 16:19:19	Are all dimmable 12v power supplies for led spots made for leading AND trailing edge dimming by now?	jrhenk	1	12lax4d	homeassistant	https://www.reddit.com/r/homeassistant/comments/12lax4d/are_all_dimmable_12v_power_supplies_for_led_spots/	"Before starting my smart home adventure I had a setup with dumb trailing edge dimmers, trailing edge dimmable 12v power supplies and 12v led spots, never had flickering nor buzzing. After upgrading to wifi dimmers I noticed a buzzing sound coming from the power supplies and sometimes flickering when dimming very low. After some research I learned about leading and trailing edge and that my issues seems to come from these power supplies being made for trailing edge dimming.
After browsing amazon and aliexpress for a while I'm starting to get a bit desperate since when I find a power supply with the right wattage it often only says dimmable but not explicitly whether it's made for trailing edge. Since I don't want to buy something new yet not solving my issue I was wondering if by now all power supplies might be made for leading and trailing edge dimming? Anyone has experience with smart dimming 12v led spots? Bit at a loss here so any input iw highly appreciated! TIA!"	20	"[""jrhenk: I felt like updating this thread after trying out a new device... So after realizing that the sonoff d1 dimmers want leading edge trafos yet mine due to my dumb dimmer setup before were for trailing edge I did a little research and found out that most tuya dimmers are actually trailing edge. This one just came in today https://a.aliexpress.com/_msldnVq and I'm happy to share that it works perfectly... No buzzing, no flickering and the dimming goes even lower than with the sonoffs. They still need a bit of tlc by getting openbeken but that's a small issue.\n\nhttps://a.aliexpress.com/_mOSCR88 this one is still on the way and another test - they dim the 12v itself and not the trafo providing the 12v, curious how that will go"", 'Wild-Bus-8979: https://www.sinopetech.com/en/products/lighting/smart-adaptive-phase-dimmer-dm2550zb-zigbee/', ""jrhenk: Interesting so there are also smart dimmers compatible with both types of dimming... Bit pricey though and wouldn't integrate in my setup (I have an athom switch that controls the wifi dimmer via mqtt)"", 'Wild-Bus-8979: Found one: https://www.aliexpress.com/item/1005003786230780.html\n\nClearly configurable for leading or trailing edge', ""Wild-Bus-8979: I also did see some ZigBee dimmers on Ali that can configured for both trail and leading edge. I don't have a link though"", 'jrhenk: Oh nice this indeed has a little switch... I bought the moes one half the price and it is also trailing edge... Flashed it with openbeken in the meantime and works nicely... However (just in case other miss my other more burried comment) I also just got a 12v led strip dimmer and tested it with a 12v spot and it has the smoothest dimming I ever saw, truly beautiful', ""jrhenk: Ah alright, I'm open to replacing the dimmer itself at this point. Do you by any chance know whether it's possible to use one color led strip dimmers for led spots? I saw this all in one device which would be pretty sweet if it works \nhttps://a.aliexpress.com/_mLI1Gs8"", ""Wild-Bus-8979: >Do you by any chance know whether it's possible to use one color led strip dimmers for led spots?\n\nI'm not sure I understand the question.. could you rephrase?"", ""jrhenk: There are these all in one (driver plus wifi dimmer) devices now that could turn out to be super handy, however they are meant to be used with 12v led strips ... I wonder whether they might also work with 12v led spots. Don't know enough about how single light led strips are dimmed and whether it's different to how 12v led spots are dimmed."", 'Wild-Bus-8979: Yeah, they *should* be able to drive any sort of LED as long as the voltage ratings and maximum amperage matches. You can think of LED strips as one big led if it makes more sense.', ""jrhenk: Thanks for this second opinion, creates confidence to just give it a try! And yes, I kinda thought the same but then again there's always a huge potential for surprises if you apply common sense with limited knowledge :)"", ""Wild-Bus-8979: >there's always a huge potential for surprises if you apply common sense with limited knowledge\n\nGreat life philosophy to have, for sure!"", ""jrhenk: Haha thanks! Just wanted to update: The led strip dimmer came in today and I tested it with only one spot connected but oh man, it's the smoothest dimming I ever saw.... So much nicer compared to dimming the 230v of the power adapter, this is what I always imagined what it should look like :)"", ""Wild-Bus-8979: Sweet, in glad it worked! Let me know if you get OpenBeken working on it!\n\nWhat about the other 13V dimmer you posted? It says Wifi&BT, is it an ESP32? I'm seeking an ESP32 based RGBCTT dimmer badly!"", ""jrhenk: Nah I think it's beken based ...Flashing it with openbeken will be tonight's or tomorrow's project :) Should be pretty straight forward though, I think I even saw it in the list of tested devices, hopefully it works with pwm directly and not with a tuya mcu daughterboard what can get very frustrating"", 'Wild-Bus-8979: Yeah TuyaMCU is garbage!\n\nLet me know how that goes!', 'jrhenk: Okay it has an BK7231N chip, just flashed it successfully with cloudcutter now to the configuration :)', ""jrhenk: Alrighty, I guess this is going to take a bit longer and a chat with the openbeken developer... The config from elektroda for the device (it's a cw01) does not work and it crashes when the page for the module config is being loaded :) let's see"", 'jrhenk: The openbeken developer is just great, so motivated to make all new devices work with his firmware. Got an answer today and if you are interested: If you are able to use tuyacloudcutter to flash it with openbeken, you just need to add the code underneath in the autoexec.bat and then it just works cloudfree :)\n\nthe whole discussion can be found here:  \n[https://www.elektroda.com/rtvforum/viewtopic.php?p=20560337](https://www.elektroda.com/rtvforum/viewtopic.php?p=20560337)\n\n&#x200B;\n\nstartDriver\xa0TuyaMCU   \nsetChannelType\xa01\xa0toggle   \nsetChannelType\xa02\xa0dimmer   \n//\xa0not\xa0needed\xa0here?   \n//tuyaMcu\\_setBaudRate\xa0115200 tuyaMcu\\_setDimmerRange\xa01\xa01000   \n//\xa0dpID\xa020\xa0is\xa0power   \nlinkTuyaMCUOutputToChannel\xa020\xa0bool\xa01 //\xa0dpID\xa022\xa0is\xa0dimmer   \nlinkTuyaMCUOutputToChannel\xa022\xa0val\xa02']"
1681425016.0	13-Apr-2023 15:30:16	End of works with nest. Should I get rid of my nest mini?	Fnacide	1	12l93js	homeassistant	https://www.reddit.com/r/homeassistant/comments/12l93js/end_of_works_with_nest_should_i_get_rid_of_my/	"Just saw an article saying that by September 2023 works with nest will no longer be working.

I have Google nest mini all over my house and I've just installed home assistant to work with it. 
With works with nest ending, would I need to get rid of all my nest mini speaker? Or is there a way to keep using it with HA?"	2	"['mrtramplefoot: This is just some older nest products. Will not affect your Google home mini, nothing to worry about', ""Fnacide: Ooooooooooh I'm so relieved!!! Thanks!""]"
1681424126.0	13-Apr-2023 15:15:26	Is there an addon or integration for keeping score using a Zigbee remote?	Habibihany	0	12l8bmd	homeassistant	https://www.reddit.com/r/homeassistant/comments/12l8bmd/is_there_an_addon_or_integration_for_keeping/	"I am looking to try to make a score keeper for our ping pong table. I have an extra [Ikea Tradfri Remote](https://i.imgur.com/Y1vtJ2d.jpg). Here is what I was thinking:  


Mount button by table

Mount old tablet or TV or something on wall by table (later I would love to replace this with a dot matrix)

have an old pi I would connect with a dedicated HA dashboard for Ping pong. 

Press the right or left button gives that corresponding side a point.

press the power button resets the score.

up and down buttons can do something later.... 

&#x200B;

Is something like this possible? 

&#x200B;

I am trying not to spend any extra money at the moment but later on I would love to also add some LED strips and have them flash when someone wins."	9	"['mrbmi513: Use input helpers with one (or more depending on how you set it up) automations to increment/decrement/reset the helpers.\n\nHelpers can be used like entities everywhere as inputs to cards, other automations, etc.', 'mrbmi513: Those up and down buttons might be useful to decrement the score for each side in case of a mistake. Print out some color coded labels to make everything clear.', ""Habibihany: Oh, that's an awesome idea. I haven't used helpers before. \n\nI created a quick test helper and set up the details. And I added the Remote back to the HA. now if I try to set up the automation it doesn't show up as a device so after some googling, I found out I need to set it as call service: input number increment. but how do I get it to count this new helper? It doesn't show up in any area device or entities.  Maybe I'm missing something?   \n\n\n&#x200B;\n\nhttps://preview.redd.it/7ahltm3oxrta1.png?width=982&format=png&auto=webp&v=enabled&s=3ae0f7e7b00dff485ec212c8c00d551daeb38db6"", 'AngryCvilleian: This is the way', 'Habibihany: Thanks again for all the help! I got a running prototype up and running this morning with your help. Figuring out the trigger for winning is the next step. Ill post a video on here later on once I have the screen mounted and what not.', 'Habibihany: Maybe I set up the helper wrong?   \n\n\n&#x200B;\n\nhttps://preview.redd.it/4856zclsxrta1.png?width=508&format=png&auto=webp&v=enabled&s=8d4a8e43f9d8f180e9907a24676be5f32d74284c', ""clintkev251: You're using input\\_number.increment, but you're using a counter, not an input\\_number. Use counter.increment"", 'Habibihany: Sorry for the late reply but that worked great! thanks for the help! Now I have to figure out how to use it as a trigger when the points have hit its max.', 'clintkev251: You’d probably want to use a numeric state trigger when the state is greater than some number']"
1681423587.0	13-Apr-2023 15:06:27	I have a Govee HS074 Bluetooth Temperature Sensor	billiarddaddy	1	12l7u0w	homeassistant	https://www.reddit.com/r/homeassistant/comments/12l7u0w/i_have_a_govee_hs074_bluetooth_temperature_sensor/	"How would I go about integrating that with HA that's running in ProxMox or can that be done at all?

I found [THIS](https://github.com/custom-components/ble_monitor) integration from 2021 but I'm not sure if it's still viable or compatible with my setup.

Any advice is greatly appreciated."	3	"['triangulum-visitor: You could get a cheap ESP32 and run ESPHome.  It doesn’t come with support for that out of the box but [this thread](https://community.home-assistant.io/t/read-govee-temperature-humidity-ble-advertisements-with-esp32-and-esphome/230449/7) has a bunch of info on how to add support.', 'smdifansmfjsmsnd: Govee has a built in integration already.  While I don’t use that specific sensor I’ve got two other ones added using said integration that work well.  If you don’t want to use that one there’s the one you linked that does work well but isn’t necessary.  Not for me at least.', ""whodisUK: This. I have BT proxies in passive mode, and the govees were automatically 'discovered' with the Govee Bluetooth integration when pairing. Your sensor is listed as supported here\n\n[https://www.home-assistant.io/integrations/govee\\_ble/](https://www.home-assistant.io/integrations/govee_ble/)""]"
1681422968.0	13-Apr-2023 14:56:08	Has anyone had any experience with these Reolink cameras?	Phastor	0	12l79fu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12l79fu/has_anyone_had_any_experience_with_these_reolink/	"My options for installation are quite limited and I don't really have a means to run cable through my walls. I've been trying to find a wireless, battery powered camera that has RSTP support and it's proven to be quite difficult. I've been looking at this here.  
https://reolink.com/us/product/argus-2e/  
I'm not a fan of having to use their app to browse recorded footage that's stored on its SD card, but so far it's the closest thing I've found to meeting my criteria and not locking most of the supported features behind a subscription. (Thank you TP-Link, for locking the ability to browse the LOCAL SD CARD behind a cloud subsciption...)

Has anyone else used these in their HomeAssitant setup? What were your experiences getting things working inside and outside of HA?"	12	"['angrycatmeowmeow: AFAIK no Reolink battery cams have RTSP support or are compatible with the official Reolink integration.', ""Nyghtshayde: My experience with the Reolink cameras is that the hardware is great for the price and the native app is also pretty good but they can be a pain to get to work reliably with frigate or blue iris etc. This was supposed to be fixed with a firmware upgrade but at least in my instance it still took me a significant amount of time to get everything working properly. That only happened a few days ago so I'm still not sure if it will be ok on an ongoing basis."", ""daKEEBLERelf: would plug-in wireless cameras be an option? Reolink has local DVRs that allow you to connect their wifi cameras to it. Havning the power wired is more ideal for cameras as the battery ones have delayed recording and you have to monitor the batteries?  \n\n\nThat being said, I don't have experience with Reolink cameras in Home Assistant."", 'anthonws: Use neolink. Amazing project.\n\nhttps://github.com/QuantumEntangledAndy/neolink\n\nPlease donate to the dev! He has worked tirelessly to get battery cameras supported!', 'CaveNeanderthal: I just setup Reolink RLC-410 cameras on HA (yesterday as it turns out) ... they were a complete pain! Frequent image corruption. As someone else said - they are hit-n-miss!', 'Nyghtshayde: This is correct. I went down the same rabbit hole myself and ended up disappointed.', ""Phastor: I guess there's conflicting information out there. Checked some more places and it seems to be hit and miss. I guess it's not worth the chance."", 'fakemanhk: I just purchased 2 of those non battery powered cameras, planned to use RTSP+ONVIF with DVR like Shinobi, or Agent DVR or integration with Home Assistant, can you share what difficulty you encountered?', ""Phastor: I would much rather have at least the power wired, but I just don't know how I would get it outside of the house. I was going to go with one of those floodlights with the Wyze camera built in because I could have just replaced my entryway lighting with those and that would have solved the wiring problem, but I know that Wyze has adopted some very stupid practices lately and locked everything behind a sub."", ""Nyghtshayde: The cameras needed a lot of tweaking to get stable, and even now I'm not convinced they're completely stable. A firmware upgrade last year was supposed to have fixed it but at least in my case that didn't happen. But in case it's of assistance, there's a bit of a summary of some of the fixes here https://blueirissoftware.com/forum/viewtopic.php?t=2072"", ""daKEEBLERelf: Depending on your fixture, or if you're willing to change it, they do make fixtures with an outlet built in, just needs to have power then. You could put a smart bulb in the fixture and automate on/off, this leaving power on always for the camera"", ""Phastor: Funny you mention this, as I just thought about it a few minutes ago. My porch light fixture does need to be replaced, so I guess this would be a good opportunity to put in a fixture with an outlet as you said. I guess I have some more research to do as that would definitely broaden my options for cameras (still want WiFi, but power no longer being an issue).\n\nNow I just have to find a fixture that has an outlet that's discrete. Most of them look bad and obviously designed for temporary use of the outlets in mind.""]"
1681422484.0	13-Apr-2023 14:48:04	ESP32 BT Proxy	ricastroluce	0	12l6u7b	homeassistant	https://www.reddit.com/r/homeassistant/comments/12l6u7b/esp32_bt_proxy/	"I've tried on & off for a year to get my ESP's to work with HA but still no luck.

The devices show up in the router (with IP address), and they show up in HA ESPHome, but always shows as offline.

Question, how do you get them ""on line"""	11	"['ricastroluce: Still no luck at adoption of devices. Is there a way to “bulk” delete all the config files of the esp32’s… HA seems to want you to empty every folder before deleting that folder… that’s hundreds of files for every device, and I have 8 showing up in the esphome folder', 'sleekelite: Read your logs.', 'smdifansmfjsmsnd: One thing I had an issue with on this was the ota password.  Router showed them as online and main ESPhome page showed them as online but when I checked logs wirelessly they showed as offline and couldn’t connect.  Noticed the esp8266’s I setup had a section under api key area with ota password that my bt proxies didn’t have so I copy and pasted that to the ESP32’s and they started working fine.', 'ricastroluce: Here\'s the Logs : *""INFO Reading configuration /config/esphome/esp32-basement.yaml... INFO Starting log output from esp32-basement.local using esphome API WARNING Can\'t connect to ESPHome API for esp32-basement.local: Error resolving IP address: \\[Errno -5\\] No address associated with hostname INFO Trying to reconnect to esp32-basement.local in the background""*\n\nI find the IP address in my router... I assume it\'s a proper one. I don\'t know where else to look. Unless my Unifi Router is blocking communication (that\'s another thing I\'m not to good at) lol.\n\nThx for the tip tho.', 'ricastroluce: The yaml code for my device does show an ""ota"" password (whatever that is?), along with an encryption key (under the api: line)\n\nexample - \n\n esphome:  \n name: esp32-basement  \n friendly\\_name: ESP32 Basement  \nesp32:  \n board: esp32dev  \n framework:  \n type: arduino  \n\\# Enable logging  \nlogger:  \n\\# Enable Home Assistant API  \napi:  \n encryption:  \n key: ""xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx""  \nota:  \n password: ""xxxxxxxxxxxxxxxxxxxxxxxxxxxxx""  \nwifi:  \n ssid: !secret wifi\\_ssid  \n password: !secret wifi\\_password  \n \\# Enable fallback hotspot (captive portal) in case wifi connection fails  \n ap:  \n ssid: ""Esp32-Basement Fallback Hotspot""  \n password: ""xxxxxxxxxxxx""  \ncaptive\\_portal:', 'sleekelite: No, the logs of the esp32 when plugged in via usb and you run “esphome run”.  The logs above just mean mdns failed.', 'StillLoading_: Have you tried pinging ```esp32-basement.local``` ? It looks to me like your DNS Server is just not resolving the hostname.', 'ricastroluce: Thanks again my friend... just so you know, I\'m a 65yo tech wannabe that knows $hit about what I\'m doing (but willing to learn)... When you say; run ""esphome run"", are you talking command line from Terminal (Mac)?\n\nI\'ve followed a YT tutorial by ""mostlychris"" but can\'t get the result he gets... Of course there may be other computer/network settings that He assumes are correct, and so doesn\'t divulge those secrets.\n\nCan these devices be installed to a VLAN (IoT network) or do they have to be on the ""Default"" network... I\'m going to keep trying things ;)', 'ricastroluce: The ping returns affirmatively\nThere’s probably something really simple I’m overlooking', 'J0RD4N300: [Download this](https://github.com/esphome/esphome-flasher/releases/tag/1.4.0) and plug the esp device into your computer, choose the com port and click view logs. Read those and see if it gives you any extra information.\n\nYou can use the devices in their own vlan, you just have to allow communication and mdns between the networks.', 'StillLoading_: Still looks DNS related, HA does some fallback stuff which can get in the way of things resolving localy.\nYou could try setting the IP your router gave the device via the ```use_address: xxx.xxx.xxx.xxx``` option under wifi in the configuration file.']"
1681420300.0	13-Apr-2023 14:11:40	Frigate vs ‘other’ for live streaming?	holman8a	9	12l4ube	homeassistant	https://www.reddit.com/r/homeassistant/comments/12l4ube/frigate_vs_other_for_live_streaming/	"Hi everyone! 

I’ve just set up frigate, and while the detection is great, the live stream leaves a bit to be desired. It seems to operate on a 4-5 second lag. For reference, the camera is PoE, HAOS in a proxmox VM and Frigate in an LXC.

In researching this issue, it appears that this is due to reencoding that occurs with different formats, and that VLC offers the best live streaming. 

I was wondering if anyone uses Frigate just for detection, but then uses other options for live-streaming? Or any other set ups that people have for this?

Thanks!"	15	"['nickm_27: Frigate 0.12 includes go2rtc which can be setup to use webrtc which has the least lag out of any current streaming technology. https://docs.frigate.video/guides/configuring_go2rtc\n\nIn HA you can use the [webrtc card](https://github.com/AlexxIT/WebRTC) (make sure to set up frigate first) or you can use the [beta v5 frigate card](https://github.com/dermotduffy/frigate-hass-card/releases/tag/v5.0.0-beta.1)', ""benjamingolub: I use my Hikvision NVR's app for live streaming. It's much faster and has a higher quality stream. I toyed around with enabling go2rtc with Frigate and it does work very well but I haven't yet gotten all my cameras configured properly.\n\nFrigate for detection + notifications\n\nHikvision for live streaming."", 'emuhack: watching this thread as I have a similar setup.. LAG in HA, Frigate in Docker on Unraid', 'EpicFuturist: Tried and tried as I did, never could get Frigate to work as quality driven and latency loss comparing to streaming it live via vlc. Love the features, but An alternative would be much appreciated for just recording and live viewing', ""ewlung: OP, would mind sharing any info on how to install Frigate on Proxmox LXC please? I want to do this, but I can't find any decent tutorial. Thanks 🙏"", ""D34DC3N73R: Just to add to this, you can also set up [RTSPtoWebRTC](https://www.home-assistant.io/integrations/rtsp_to_webrtc/) if you want to continue using other cards. \n\nEdit: but you know that because you're the guy who helped me get it working, so this is for everyone else."", 'holman8a: Oh legend, there’s my project for tonight! Thanks heaps!!', ""holman8a: Firstly, I started building HAOS etc about 2 weeks ago, and have no IT background other than being good with excel. So the bar is low, but it has taken me about 10 hours to get it up and running. I haven't even gotten recording set up yet! \n\nI ended up using about 3x different guides (I've closed them now but had just googled). None of them were sufficient in their own right. \n\nKey points:\n\n* Use Debian 11 CT template and set up an LXC. Make it privileged - it will help you later with Coral, but some people don't like this. \n* Get a guide for installing Portainer\n* Get a guide for installing Frigate on Portainer\n* You will need a Config.yml file on the LXC (largely just copy paste from guides but reference the Frigate documentation)\n* You will need to copy/paste some code to Portainer\n\nI'm breaking this down as there are unique guides you can find for each of these steps.\n\n&#x200B;\n\nIf you have Coral USB, you will also need to:\n\n* Follow set up instructions from Coral website (I did these on both the pve and lxc). There is a test you can do to make sure it worked, you should see when you put in lsusb you can see 'Google Inc'.\n* Passthrough the usb to LXC. You can google a guide from this, the copy/paster worked for me with minimal changes. Effectively need to update the config file in /etc/pve/lxc on the host.\n\nAny Qs let me know, I don't know what I'm doing but it works for me so should be able to compare!"", 'holman8a: Thanks!!', ""danlo315: I have Frigate card installed and it seems to work great; however, I have a bunch of picture element cards that I use because I want to overlay binary\\_sensors and switches on top of the camera streams.  Those streams are definitely lagging, I'm assuming because it's running on HLS.  Does RTSPtoWebRTC solve that for me?"", ""ewlung: Thanks, I think I only need to learn about Portainer. That's I have never used before.\n\nBy the way, how much storage and RAM did you assign to the LXC? I guess that might depend on the number of camera and the video clips to store.\n\nI am going to have 2 cameras, 1 outside and 1 inside, both are Reolink, waiting to get shipped. I won't do continues recording for sure, only interested in detection and occasionally viewing life streaming when I'm away from home."", ""exclaim_bot: >Thanks!!\n\nYou're welcome!"", ""D34DC3N73R: I believe it should. I've tested the picture element cards and custom button cards, and webrtc works on both."", ""holman8a: I gave it 2gb of RAM and 31gb of storage. I didn't think too much about storage as I'll put recorded stuff on my NAS. You're right - storage will depend a lot more on your approach to what and how much you record. \n\nPortainer was very easy to use, don't stress about that!"", 'danlo315: Thanks for pointing the direction.  I spent the afternoon configuring rtsptoweb and my picture element cards are much more responsive than before.']"
1681419746.0	13-Apr-2023 14:02:26	Detecting when a GFCI outlet is tripped?	ericlathrop	1	12l4bzf	homeassistant	https://www.reddit.com/r/homeassistant/comments/12l4bzf/detecting_when_a_gfci_outlet_is_tripped/	My sump pump is on a GFCI outlet, and more than once I've gone down there to find the outlet has tripped. How can I be notified of the trip so my basement doesn't flood?	11	"['gordonthree: Plug a smart something into it, and setup an automation to watch the availability. Do something if ""last available"" was more than X minutes ago.', 'mrtramplefoot: Not automation related, but gfci outlets do just go bad eventually and will frequently trip for no reason.  Have you tried replacing it?', 'justabasement: Put a Kasa smart plug between the pump and outlet. Then you have two options.. simple option send notification when switch is in any state but on. Advance option, get a smart plug that measures wattage as well. If x watts have not been consumed in x hours send an alert. \n\nThe advantage of option 2, if the pump dies or internally trip you will also catch it.', 'DIY_CHRIS: The load or inrush current of the pump may be too high for the CFGI, causing it to trip. You could get a better suited GFCI for the pump or just remove it altogether for the outlet and move it down stream to the other loads on the line.', ""justinhunt1223: Is it mounted in a metal box? If so, it's very possible the wiring is the issue. Easy thing to check and fix"", 'peterxian: I use [this Z-wave kit](https://www.thesmartesthouse.com/products/diy-smart-power-outage-monitoring-kit) from Zooz. It gives me a binary sensor in HA that goes ‘true’ when the outlet trips (or power to the whole house is out).', ""W1DTH: Could put a level sensor in the sump and alert if the water gets too high, then you know the pump isn't on because the GFCI tripped, or the breaker tripped or the pump gave out."", 'Constant_Shot: I agree with others that an energy monitoring plug combined with a ‘time out’ check to see when it last ran should work well. Depends on how active your sump is tho.\n\nAnother thought is something with a battery backup that reports charging status. A phone is an obvious one - it will report power changes to HA. I assume you could do the same with an ESP if you added some small battery backup.', 'ericlathrop: No, but the house is only like 5 years old', ""mrtramplefoot: I'd replace it anyway, they do go bad, which is like weird to think about for an outlet, but it happens.  It shouldn't be regularly tripping, you might have gotten a lemon."", 'ericlathrop: Good to know, thanks!']"
1681419326.0	13-Apr-2023 13:55:26	Use multiple intent scripts	DethByte64	0	12l3xqw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12l3xqw/use_multiple_intent_scripts/	"I just set up rhasspy a few days ago and cant get any other voice commands to work. Ive switched the intent_scripts around and commented out some but only the top one works can someone show me the correct syntax for mutiple intent_scripts?

Heres what ive got currently:
    intent_script:
      Test:
        speech:
          text: ""this is a test""
      GetTime:
        speech:
          text: ""the time is now""

Only ""Test"" works and if i put ""GetTime"" at the top, it works but ""Test"" doesnt.
If i put ""intent_script:"" above ""GetTime"" then neither work.
I do have ""intent:"" in my configuration.yaml

Bonus question. How would i reference a seperate config file for intent scripts to be used with rhasspy?

Sorry im a noob."	1	['DethByte64: # Solution:\n\nconfiguration.yaml\n\n    intent:\n    intent_script: !include intents.yaml\n\nintents.yaml\n\n    GetTime:\n      speech:\n        text: >\n          the time is now().hour now().minute\n    Test:\n      speech:\n        text: >\n          this is a test']
1681416721.0	13-Apr-2023 13:12:01	Trying to create a heating automation. Does this make any sense?	ReallyNotMichaelsMom	0	12l24p8	homeassistant	https://www.reddit.com/r/homeassistant/comments/12l24p8/trying_to_create_a_heating_automation_does_this/	"What I want is for the temperature to *slowly* increase in temperature (1 degree per hour) until I get up in the morning. I'm currently using a workable but kludgy automation where at 6 am it updates the temp by one degree, and then at 7 up one, etc.

But everything is hard coded. I'd really like something more flexible. This is what I've cobbled together so far. Does this make any sense?

(This is my number helper)
    
    hvac_heating_with_level:
      alias: HVAC heating with level
      sequence:
      - service: climate.set_temperature
        data:
          temperature: {{ level | int }}
        target:
          entity_id: climate.my_ecobee
      mode: single
      icon: mdi:heat-wave

 
  
(This is my repeating script)
 
     morning_wakeup_heating:
        sequence:
          - repeat:
              while:
                - condition: template
                  value_template: '{{ states(""input_number.hvac_heating_number"") | int < 71 }}'
              sequence:
            - service: script.hvac_heating_with_level
              data:
                  level: '{{ states(""input_number.hvac_heating_number"") }}'
            - service: input_number.increment
              entity_id: input_number.hvac_heating_number
            - delay: 01:00:00
      - service: input_number.set_value
        data:
          entity_id: input_number.hvac_heating_number
          value: 1"	5	"['HotClassroom9823: Maybe it’s not the solution you’re looking for but I use Simple scheduler for my heating programs..', 'Tadpole-Various: I do the same thing with my heat pump. All I do is have an automation that repeats the action every 15mins of getting current temperature and adding 1 degree to it. It’s trigger is a time of day and stops at either a specific temperature or time.', '_avee_: You can have a template sensor that would calculate target temperature based on current time. And then have an automation that would use changes to this sensor as a trigger.', ""ReallyNotMichaelsMom: I don't really know why I'm looking for something else, since what I have works and works well. It's not like anyone is going to come over and look at my automations and complain about how they're written. :)""]"
1681416621.0	13-Apr-2023 13:10:21	Zigbee on Restart: async_initialize: all attempts have failed: [DeliveryError('Failed to deliver message)	chench0	2	12l22ws	homeassistant	https://www.reddit.com/r/homeassistant/comments/12l22ws/zigbee_on_restart_async_initialize_all_attempts/	"I've been seeing these messages for quite sometime and I believe they are related to zigbee and they only appear on a restart. I also believe it's due to battery devices not responding quickly enough during a restart. 

Even though everything usually works after, is there anything I can/need to do in order to stop them or it's completely normal in the zigbee world?

Thanks!

Full message:

                Logger: homeassistant.components.zha.core.channels.base
                Source: components/zha/core/channels/base.py:486
                Integration: Zigbee Home Automation (documentation, issues)
                First occurred: 4:06:18 PM (12 occurrences)
                Last logged: 4:06:20 PM

                [0x5319:3:0x0b04]: async_initialize: all attempts have failed: [DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>')]
                [0x6AAC:1:0x0006]: async_initialize: all attempts have failed: [DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>')]
                [0x6AAC:1:0x0202]: async_initialize: all attempts have failed: [DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>')]
                [0x9440:1:0x0006]: async_initialize: all attempts have failed: [DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>')]
                [0x6AAC:1:0x0008]: async_initialize: all attempts have failed: [DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>'), DeliveryError('Failed to deliver message: <EmberStatus.DELIVERY_FAILED: 102>')]"	0	[]
1681414818.0	13-Apr-2023 12:40:18	Introducing: A Home Assistant Plug-in for ChatGPT	OcelotTerrible4233	546	12l10se	homeassistant	https://www.reddit.com/r/homeassistant/comments/12l10se/introducing_a_home_assistant_plugin_for_chatgpt/	"Hey everyone!

It takes a certain kind of crazy to think its a good idea to connect one's house to the AI overlords. We in the Home Assistant community are exactly that kind of crazy. Or, at least I am haha.

OpenAI recently announced ""plug-ins"" for ChatGPT. With plug-ins, ChatGPT can now talk to the internet. Plug-in support will launch to the public soon, with early support for services like OpenTable, Instacart and Wolfram Alpha.

I built a Home Assistant plug-in. It's alive and working!

[Home Assistant Plug-in in ChatGPT](https://preview.redd.it/x5b6amwk7jta1.png?width=1073&format=png&auto=webp&v=enabled&s=b7d1e95828b077fbdaeead5b65b7a510c37b1e85)

For example, I can say ""Turn off the lights in the kitchen,"" and the lights in the kitchen will turn off. Or ""Turn on the music,"" and my living room Sonos starts playing music. Advance actions are supported as well, including endpoints like selecting a media source or setting a light brightness. I have it controlling my lights, media\_players, and covers at the moment. The possibilities are endless, and I'm looking forward to exploring more advanced prompts and interactions.

I'll include more details in the comments section. AMA.

If people are interested, I can reach out to the team at OpenAI and attempt to get the plug-in \`verified\` and published on the official ChatGPT Plug-in store (free). I'd only do that with the blessing of the team at Nabu Casa, of course (thanks for their amazing work!). Otherwise, I can write a full post on how to develop your own \`unverified\` plug-in for personal use. I expect OpenAI will release plug-in and plug-in development access to the general public soon.

The plug-in itself is fairly easy to reproduce - I'm no expert. I am sure other friends in our community will build plug-ins capable of awesome things around our smart homes. I can't wait!

[Home Assistant ChatGPT Plug-in in Action](https://preview.redd.it/xlro8bdztota1.png?width=2640&format=png&auto=webp&v=enabled&s=c7343b9c074c022de9aed868e15a9f3eb30c0479)

(will post on r/ChatGPT as well)"	164	"['MrAffinity: Could you ask it to do weird requests like: ""Turn on the lights in rooms that contain the letter I""?', 'Steelyp: This sounds awesome. I’d love some sort of ai chip I could run at home similair to frigate. \n\nSo annoying right now trying to use Alexa - half the time she gets my devices confused. My in-laws were staying at our house and asked Alexa to turn on the “kitchen” not saying lights, and my Sonos speakers turned on house-wide at full volume and the kitchen lights were still off. So now they’re stumbling around the house in the dark trying to find the speakers which are hidden behind plastic plants screaming out stop Alexa but it’s too loud so she can’t hear anything and they’re too scared to touch the switches cause I told them not to because some kill the power to smart lights but most are smart switches they were just trying to be nice. Anyways this sounds like a good  idea', ""legovaer: Awesome. I love the effort you did for writing up your work. I'm quite sure the community can't wait to start testing plugins.\n\nEven tho you're not a developer, it might help others by sharing your code on GitHub. I'm quite sure other people will help you out with improving the code."", 'None: [deleted]', ""lilbigmouth: I'm sure most people will be aware, but please note there are privacy concerns for ChatGPT.  \nhttps://duckduckgo.com/?q=chatgpt%20privacy%20policy&ko=-1&ia=web"", 'OcelotTerrible4233:  *(First, I want to say thank you to the Home Assistant community. Over the past year or two, I’ve leveraged the Home Assistant forums and sub-reddit to build out my smart home. Fancy dashboards (like the 3D home in my screenshot above) and complex NodeRed automations are a result of feedback and inspiration from these boards. Thank you!)*\n\n&#x200B;\n\nThis was a fun project.\n\nLike everyone else, I am enthralled by ChatGPT and the future of AI. I don’t know what (good and bad) to expect. I want to be a part of it.\n\nI recently participated in a ChatGPT hackathon. For my weekend hackathon project, I built and presented this Home Assistant ChatGPT plug-in.\n\nThis plug-in, ironically, an example of what ChatGPT is capable of. I am not a software engineer. I work in tech, but I do not code. My programming background is limited. With the help of ChatGPT itself, it guided me through the process and helped me develop this plug-in from scratch.\n\nThe plug-in works through an openapi proxy. Luckily, this was fairly straightforward to setup. Basic functionality worked straight out the box. I’d like to explore tweaking the openapi spec to better train ChatGPT on available entities and actions so that ChatGPT can better predict what actions you want to take based off of increasingly complex English prompts. There’s low-hanging fruit for improvement that I would love to tackle.\n\nChatGPT plug-ins, for now, are quite slow. I imagine this will improve. A query takes a couple seconds before my smart home reacts.\n\nMy plan is to refactor my current deployment to make it configurable with an easy (and secure) setup process. That will take a little work.\n\nI hope this post spurs discussion and gives us some ideas to explore with AI in the home.\n\nThanks all! AMA.', 'Drewelite: Very awesome! Any thoughts on doing something similar with LLaMA? Being able to self host something like this would be the golden ticket!', ""masterofmoneyzz: Looks fun! Did you connect it to some sort of mic/speaker since you are saying you talk to it?\n\nI really want one with the voice of hal 9000. I'll just never get a smart doorlock so it can never lock me out."", ""Belazriel: Can you have it produce messages? I know there was a post a while ago about using it that way and it seemed like it could prove useful. Things like dumping all the days info into it and having it spit out:\n\n>Good morning! It's currently 7:00 AM and you have about 2 hours until you need to leave for work. Based on the current traffic conditions, your commute should take around 30 minutes, so you have a little extra time to prepare. The temperature is currently 67 degrees and it's cloudy with a chance of afternoon rain, so you may want to consider bringing an umbrella just in case."", 'djgizmo: and this is how skynet begins.  In the basements of lots of moms basements.', 'Hindsight_DJ: Can it access/read HA historical data? I’d like to use it to be able to spot trends, report on occurrences etc. I’m thinking of leveraging it for smart(er) HVAC control.', 'ufgrat: Now all you need is to fire up [Whisper](https://openai.com/research/whisper) and get voice input working with it.', 'Neldonado: How is this different than me saying “Alexa, turn off the bedroom lights” \n\nI pay for Chatgpt+ so I’m genuinely interested in this.', 'wildekek: This is the way Home Assistant and open source is beating the giants. First it was abstracting away all the hardware trough integrations and this abstracts away all the interface. The year of the voice is going to be truly amazing. Thank you for your amazing work.', 'nascimento3: For this you need to have the paid version of ChatGPT right?', ""shbatm: If you haven't already, you should share this with the HA devs on Discord."", 'groupwhere: Hello, Mycroft.', ""bstrauss3: I'm sorry, Dave, I can't turn off THOSE lights. Maybe there are other lights you would like me to turn off?"", ""Vinterslag: Can you make a version that uses gpt4all? It's a version of chatgpt you can run locally right now, but i dont know how to get it to control things. It's a lightweight model relative to real chatgpt., but should handle these types of asks pretty easily."", 'Pleasant-Ad1338: Wow!  Sounds like *scary* fun!\n\nHahaha!  Haha.  Ya-ha-ha-ha-ha!  \nI recently installed HA-OS, and I\'m ***certainly*** crazy enough to want to try that.  \nFirst I guess I need to figure out how to use my Coral AI USB accelerator.  I\'m still getting the cameras integrated.  \nDo I need the Coral to run your ChatGPT thingie?  \nI guess I\'ll also need to hook up Alexa, or at least the Echo Dots we\'ve got laying around everywhere.  I wasn\'t really interested in having ""voice-activated"" automation until finding out about your ChatGPT plug-in, or whatever it is, now I\'m fixated on it!\n\nI\'d love to try it...I want it!    \nI wonder if I can train it to understand hand gestures...or of it could read my facial expressions to know what I want....\n\nMaybe I can develop a set of rules with it, so that it does only certain things we ask it to do--that\'ll really confuse my wife and friends!  Oh, the possibilities....\n\nYahahahaha!', 'Trouthunter65: Thanks', 'eagerpanda: Any chance this can queue up actions or something like “temporary” automations?\n\nex:  when I leave the house, turn off X. I don’t want it to turn off every time I leave the house, but I do want to do it this time. I feel that this is something missing from all voice assistants currently (or I am behind on their capabilities and would love to be corrected)', 's1500: One step closer to Demon Seed!', ""meandthemissus: Oh my god. I have been waiting for an assistant that understands what album i'm trying to play.\n\nAlexa play Joshua Tree by U2.\n\nOkay, playing Josh Young\n\nWhat??"", ""CopyPasteMezzYou: The point of my home assistant setup is that All of the devices are controlled locally on my network, not dependent on the cloud and without providing outside access to them. A ChatGPT implementation is completely counter to this. \n\nAnd dont get me wrong, I use ChatGPT for a lot of different functions, but controlling my home is not one that I find beneficial at this point in time.\n\nMaybe if I could locally host an LLM AI, but pretty sure I'm not there yet."", ""Angelusz: Very interesting, thank you for your efforts! I'm curious if it's possible to integrate this using my Sonos speakers. There's some limitations because the voice recognition has to go through Sonos first -- can I link everything up?"", 'TOKyyy: Can i call it jarvis?', 'AnduriII: Wait is this Like Google Assistant but offline?', 'None: [deleted]', 'Meelobee: Awesome until someone elses AI controls your house 😂', 'coasttech: Somewhere in the discord, there is an admin crying', 'ITGuytech: What did you used for the house plan or its justiție random?', 'Till_Fl: Can it pull history data form entities for questions like:\n\nFor how long have the living room lights been on?\nHow do the indoor and outdoor temperature values correlate?', 'fodi666: wow, it should be paired with STT and then we could have voice assistants in practically any languages that ChatGPT speaks', 'mking1337: This is amazing, I want to get to a conversational fully listening AI in my house. So like if I was to just say I wish it was cooler in here it would turn on that rooms zone and adjust the temp or I want it brighter in here it would adjust the brightness.', 'aoul1: Do you think it’ll be possible (eventually, I’m nowhere near good enough with this stuff to attempt to implement this yet until it’s an add on with a guide for dummies on how to run it!) to integrate with Alexa voice control? (or as an output for requests that require speech back, or for playing music etc). Obviously Alexa + home assistant does a lot of these commands but it seems like this would provide much smarter and more accurate controls using whatever phrases I wanted rather than the specific programmed wording only, if I’m right?', 'Kinnikinnick42: Okay this is awesome 😎👍 I definitely want to mess around with this! Thank you for sharing!!!', 'bigdog_00: Awesome!! Is there a chance this could get up and running on GPT4all? That way the entire thing could be self-hosted', 'NeZeroZ: What I would love is an integration with Grocy, so I can have a card updated daily with a recipe based on my stock levels in Grocy.', 'pastudan: This is incredible!! I would absolutely love to see this get verified and into the plugin store. Once you do, I will try to add some TTS and STT models to the pi that I have running Home Assistant and have a full drop-in replacement for Alexa / Google :-D', 'ReallyNotMichaelsMom: I will be watching your career with great interest. 😀', 'Neldonado: I would love a cheap little speaker/ mic device combo that could be used in conjunction with this. I’m ready to move on from Amazon / echo/ Alexa', 'parkineos: All I want is to say: add bread to the shopping list and it gets added, instead of creating a new shopping list called add bread...', ""theRealSariel: Is it possible to restrict which devices can be used by the AI overlords? I'd like to let them control my lights for example, but maybe not my door lock."", ""UserSleepy: This is going to be much better assistance then Google. Even if it's wrong, it will be friendly 🤣"", 'LumpyAd7854: Very cool! Can you use it to schedule things? ""Please turn off the living room lights in 10 minutes""', 'blackhat8287: So the plug-in converts natural language into homeassistant commands?', 'weldawadyathink: How did you get plug-in access? I have been on the waitlist since they made the waitlist.', 'None: [removed]', 'RuudJDB: This is so cool 😎 thnx so much for putting in the effort and to share it with the community! Can’t wait to try it myself', 'Puzzleheaded-Ad-4539: Awesome work! Can you share this so we can all use it?', ""Abject_Dare_3283: Hey, can it interact with the data on your HA? For instance, ask when was the last time the TV on the bedroom was on, or who was the last one to trigger the covers to close? Things that require more data analisys than what the voice assistants can do (I've seen it can do more)"", 'Vertigo_uk123: It may be worth reaching out the the guys at JackChat.ai they have made the full version of gpt4 available for free. They have also added voice control and response. Maybe they would be interested in porting this to HA', ""OcelotTerrible4233: We're going to have to expand our imagination if we want to trick it haha.  It turned on my kitchen, dining room, living room, office, and patio lights. Knew to skip the bedroom, closet, bathroom, and hallway lights. \n\n(screenshot attached)\n\n&#x200B;\n\nhttps://preview.redd.it/087enymdgrta1.png?width=1206&format=png&auto=webp&v=enabled&s=1474b5c74b415738420aee0ad5996421a7290cfa"", ""torqueOverHP: That's a great story :D"", 'Anomalousity: this sounds hilariously chaotic.', 'Zirowe: Have you tried making groups in alexa?\n\nWith HA-bridge I have all my home assistant devices in alexa and I have renamed each to have a distinctive name, then made groups of them in the alexa app (example: I have 6 different lights in the kitchen, I have ""kitchen 1"" for the whole kitchen, then ""kitchen 0"" for 3 leds and ""kitchen 2"" for the rest of the 3 lights) and very rarely have problems with controlling them individually or in a group through voice commands.', ""meandthemissus: I can't stand the fact that turning on or off my livingroom lights turns on my tv half the time."", 'iSeerStone: I installed Shelly 1’s behind my light switches that have smart bulbs attached and then made automations that make it all work beautifully. PM for details and I will help you. Then your switches can work, lights turn on fast, and you can do smart light dimming and color or temp.', 'mostlymadig: This sounds like a scene from a spinoff of Meet the Parents.', 'OcelotTerrible4233: Thank you!  \nI plan to share my code and have no doubt the community can help make it better. I need to do a little work to sanitize it (refactor hardcoded tokens, etc) before posting, but hope to publish the github repo soon!', 'dcoulson: Do you have any flows you can share?', 'vytux-com: Not sure it was the smartest idea to publish your API keys', 'OcelotTerrible4233: Yeah. I want to look into that too! For that exact use case of generating audible responses. It’s nice polish :)', ""SnooPaintings1650: Do you have some fancy wifi connected washing machine or how does HA know that it's finished?"", ""bowlama: Got a flow of how you're getting mean responses?"", 'clennys: Wow this is amazing!  I used to have a boring and formulaic good morning message every morning that would tell me the current weather conditions, etc.  I had chatgpt rephrase it and its so much better now.', 'VikingOy: It worked for a while (4 or 5 times). But now it just throws the error:  \n\n\nhttps://preview.redd.it/ds7ooalwtvta1.png?width=321&format=png&auto=webp&v=enabled&s=4f951cea753394ad3c1871abc16b2c86579a4d02', ""clennys: What's the difference between completion, turbo, and gpt4?  The node documentation doesn't really explain what it is."", ""J_couture: I'm very curious on how you do that, can you provide an example?"", ""kitanokikori: Very cool trick, I'll have to remember that one"", ""clennys: Just wanted to report back.  I have this automation (that I can turn on and off) that turns on music when you go in the bathroom.  Right now I have it set up to greet the person and let them know some music will be playing.  I told ChatGPT to be funny and omg it can be so  clever.  It makes jokes about music in the bathroom with puns of the genre or artist's or song's name, etc.  I'm going to keep it on for a while see how long before I turn it off lol.  Definitely going to keep it around as a party trick, that's for sure."", 'PCLOAD_LETTER: So what you\'re saying is that when this comes out, I shouldn\'t ask it to ""turn off the lights in all the rooms that contain dead people""?', ""silvenga: Less of a problem now, since they changed their policy for API calls. \n\nBut regardless, local only world be amazing (but not usable for many right now). Using Facebook's models (tiny compared to GPT), response times can be measured in seconds (start to finish) on rather highly powered servers I have at home, so aren't quite there yet. GPU acceleration works better, but requires some pricey cards."", 'Own-Marionberry6577: super dope.  all of it.  thanks for the write-up', ""SlickUnderTheGun: I'm really looking forward to being able to self host something like this.\n\nOff topic, what program(s) did you use to create the 3D model of your house?"", 'brycedriesenga: With things like LLaMA, I bet this is doable completely locally as well, which would be awesome', 'meandthemissus: How do you communicate with it?', 'OcelotTerrible4233: You’re so right. The future of privately-hosted models will be game changing.\n\nBeyond the headlines, I haven’t yet used LLaMA myself. Something to explore for sure.', 'OcelotTerrible4233: *""I\'m sorry Dave, I\'m afraid I can\'t do that.""* haha\n\nI have not yet connected it to a voice input. I expect that functionality is coming. Too much fun to be had not to!', '5h4d0w: Check out the Esp-box. I see the community going that way.\n\nHopefully we can get Sonos on board though, that would be phenomenal.', 'toddw65: Not directly related but I used [these instructions](https://www.howtogeek.com/882019/how-to-use-chatgpt-like-google-assistant-on-android/) to be able to use voice to interact with ChatGPT using a widget on my Android phone.', 'OcelotTerrible4233: Absolutely possible with the GPT api. I know another poster above commented that he is using the NodeRed extension to build that into his smart home.\n\nIt would absolutely be possible to append this plug-in configuration itself to respond to pre-defined prompts with a bevy of pulled-information. For example, ""Tell me about my day"" and have it spit back the response you mentioned.\n\nIn fact, the context window should be large enough that you could have the plugin automatically pull bevy of data (like weather, calendar, etc) and then ChatGPT could parse it using its magic and pick and choose what\'s important - no predefined prompts needed.\n\ntldr; Yes, I believe its possible. But my plug-in is not yet that robust. Great idea though.', 'clennys: I literally did that yesterday!  It works well.  I had a very formulaic good morning message that would tell me the weather, etc.  All I did was say "" rephrase this message. Keep it light and funny:"" and then send the output to my TTS generator and now it\'s a unique message each time.', 'OcelotTerrible4233: Ooo, this is a great idea. The context window should absolutely be large enough to throw it historical data. I have tried that yet, but I imagine it’s possible!', 'notthefirstryan: This would be awesome!', 'TenseRestaurant: Mainly for automation without programming and natural language input. Without doing anything except for adding ChatGPT to HA (theoretically), you could say “Turn on the lights in the bedrooms” and it would figure it out automatically. \n\nOne example in this thread was “Turn on the lights in the common rooms” which turned on the living room, kitchen, and dining room lights and left the office and other lights off.', ""ReallyNotMichaelsMom: I don't know how it is in your world, but I'm having more and more problems with Alexa misunderstanding me. My husband also disliked using Google or Alexa because he struggled to remember the exact phrasing he had to use to get a command to work. (This is why my automations don't require a voice, button, phone, or remote to trigger.)\n\nA natural language interface would have been great for someone like my husband. \n\nAnd it's just fun!"", 'Luci_Noir: ChatGPT isn’t open source.', ""BarockMoebelSecond: This isn't part of the Year of the Voice, which IMO has been rather slow so far, and neither is the ChatGPT model open-source. \n\nIt'll be quite some time till OSS will even come close to OpenAI. Easier OSS challenges like OCR can't compare to their commercial counterparts yet, so I'd not be so sure that LLMs are going to be much more successful."", 'OcelotTerrible4233: I don’t think plug-in support is generally available yet. There is a waitlist for access on openai.com.\n\nI participated in a ChatGPT hackathon and was given early access. I expect that OpenAI will release it soon though!', 'keatonatron: This would be a game changer!\n\nI imagine it will be very possible quite soon. Something like ""turn the heat up for the next hour, then put it back to where it was"" is possible to program as a script, but too much work to do for a one-time use.', 'OcelotTerrible4233: Clearly needed, but not something it currently performs. We (the community) can build extensions on the api though. I expect this is coming :)', 'OcelotTerrible4233: Hopefully, one day we’ll have a quality offline model. For now, ChatGPT is online only.', 'BarockMoebelSecond: You are ascribing agency to an LLM. Seems paranoid.', 'OcelotTerrible4233: I used SmartHome3D to build out the floorplan 3D model. Tried to get it to match my setup as close as possible. Even included my same rug patterns haha.\n\nI then set it up in a HA dashboard. If I tap on a room, the light turns on (in real life and in the image). Double tap -> brings up brightness slider. Etc.\n\nFun project. Took way too long. But makes for one hell of a smart home demo!', ""AutoModerator: Please send the RemindMe [as a PM](https://reddit.com/message/compose/?to=RemindMeBot&subject=Reminder&message=%5Bhttps://www.reddit.com/r/homeassistant/comments/12l10se/introducing_a_home_assistant_plugin_for_chatgpt/jgc4ldy/%5D%0A%0A!RemindMe%09Me%092) instead, to reduce notification spam for OP :)\n\nNote that you can also use Reddit's Follow feature to get notified about new replies to the post (click on the bell icon)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/homeassistant) if you have any questions or concerns.*"", 'kn33: How about ""Turn on lights in common areas"" - will it pick up on living room, patio, kitchen, etc. but not office or bedroom?', 'MrAffinity: Wow, nice! Thanks for testing that out!', ""Internet_persona_ix: Thats great til you say Kitchen 2 100%, and it thinks '2' is 'to'"", 'alluran: * ""Hey Siri, turn on the Kitchen"" (all lights)\n* ""Hey Siri, turn on the Kitchen Lights"" (all lights)\n* ""Hey Siri, turn on the Stove Light""\n* ""Hey Siri, turn on the Fridge Light""\n* ""Hey Siri, turn on the Sink Light""\n* ""Hey Siri, turn on the Wall Light""\n* ""Hey Siri, turn on the Door Light""\n* ""Hey Siri, turn on the Corner Light""\n* ""Hey Siri, turn on the Window Light""\n* ""Hey Siri, turn on the Center Light""\n* ""Hey Siri, turn on the Radiator Light""\n\nMuch better than ""Kitchen 1/2/3""', 'Rhynri: What sort of things does this enable?', 'Friendly_Engineer_: Listen, if you use a term like ‘refactor the code’ I’m going to consider you a dev. Excellent work bringing the robot overlords.', 'ChrisAlbertson: That is not the best use of Git.   The best practice is to start committing code as soon as you have some code written.  Even if it does not work.  Then you fix it and commit the changes and just keep doing this.', ""Bobokun: I'm also interested in seeing some of these flows! Please share if you can."", 'None: [deleted]', 'SlimeQSlimeball: I saw that, hopefully it’s revoked.', 'digiblur: Smart plugs with power monitoring are simple ways to accomplish this.', 'shawnshine: I use a resurrected SmartDry sensor which communicates to an ESP32 and gives me sensors on HA, for which I have automations set up. It’s pretty rad and actually gets my clothes the perfect amount of dry every time (which is variable load to load).', ""reasonman: I tried vibration sensors on the back first and lucky me, my washer/dryer are fairly well insulated and don't make enough vibration to trigger the sensors."", 'None: [deleted]', ""brycedriesenga: I think he revoked his API key so you need to add your own if you haven't. Other than that, not sure."", ""lilbigmouth: Well, I guess you shouldn't ask it that if you don't want police to investigate...?\n\nOne of the advantages of Home Assistant, compared to an Amazon Echo or Google Home, is allowing the internet of things to communicate only on a LAN. Home Assistant generally would have better privacy than those two devices because of this.\n\nSome users might like the privacy, but may not be aware of how ChatGPT uses their data."", 'meandthemissus: ""Please turn on all lights containing people with social security number 444-44-4444""\n\noh shit', 'OcelotTerrible4233: Totally agree. A self-hosted solution will give me some peace of mind on the security side and also improve performance/latency.\n\nI used SweetHome3D to build out the core 3D model.', 'DrBiochemistry: Oh definitely. \n\n\nThis will be buried, but what I envision is that we eventually have a reputable company (Apple, MSFT, startup) come out with a box that sits in your house, and it just hosts all your data. Pictures, video, geoloc, chats, etc. The local language model trains off of that, and is locked to local users. \n\nThat becomes hyper powerful. The local agent can mesh with other AIs, but data access is restricted.  The monetization comes from licensing the model, and paying for cloud compute to retrain.', 'Drewelite: For sure! Seems like people are able to use ChatGPT data sets with engines like LLaMA and achieve much the same results.', ""LostFerret: Just have it be a fun variable that draws a random number and its a 1/10,000 chance it doesn't do the command then says this. You should block it from doing the random draw when you're executing critical tasks though."", 'Mister_Hangman: I wonder, with AI, if there’s enough voice samples of Jarvis/Vision to set up a model to use his voice to respond to everything.', 'nio_nl: ""Computer, please stop calling me Dave, it makes me uncomfortable.""', 'Neldonado: The market is desperate for a cheap self hosted option like this. $20 speaker/ mic that works with Chatgpt and HA would be game changer', 'Time-Button4999: Link?', 'eagerpanda: Is voice assistant on sonos something actually being worked on or just an idea you’re throwing out there? I just picked up an ESP-Box because I’ve been wanting to try to pair voice with GPT like the OP but to have on sonos would be amazing', 'Hindsight_DJ: Awesome, well I’d be a beta tester anytime.\n\nMy dream is for it to be able to act as AI security, leak/AQI/sensor detection, trends and statistics and analytics beyond the scope of standard HA cards and graphs. And hyper intelligent HVAC control based on numerous sensors indoor/out, etc.', 'Neldonado: In a practical sense, How do you communicate with it? Through an Amazon echo? Text?', ""ntsp00: Just to clarify, in the [comment](https://reddit.com/r/homeassistant/comments/12l10se/introducing_a_home_assistant_plugin_for_chatgpt/jg5kwz7?context=3) you're referring to the bedroom lights weren't turned on by ChatGPT as it (correctly) didn't consider them to be common areas."", 'Neldonado: What device do you use to communicate in its place?', ""AssDimple: > My husband also disliked using Google or Alexa because he struggled to remember the exact phrasing he had to use to get a command to work.\n\nThis sounds like an issue that could be resolved on your end.  Surely, you and your husband have conversations where he references these devices, right?  If so, just change the name to whatever comes naturally for him.  You can even build scripts that allow you to use multiple names (ie 'bedroom,' 'brian's bedroom,' 'the baby's bedroom,' etc.)"", 'dnlmnn: Dude, the company is literally called *Open*AI, how can their AI not be open source!?\n\nJust kidding, I really wish it was open source though, so much potential :/', 'wlard: Don’t worry there are already a few open models as in open source and a lot that are free for personal use when selfhosted, im already using them locally. The plugin support is pretty easy to extend to those models as well just that the token limit isn’t as big as for gpt-4 which is a bit limiting currently', ""wildekek: I know. Neither are the devices we control with HA. I'm talking about the middleware ecosystem."", 'wildekek: How is controlling all devices by natural language not part of ""*It is our goal for 2023 to let users control Home Assistant in their own language.""? I think you\'re missing the bigger picture here.*  \nedit:typo', ""notthefirstryan: Would love to see more details on this if you have it documented anywhere. I've always wanted to do this but a bit further with the ability to tap and control lights, fans, TVs, cameras, etc. This sounds super cool. Thanks for sharing!"", 'OcelotTerrible4233: With that prompt, it turned on the lights in the kitchen, dining room, and living room. It chose not to turn on the lights in the office/bedrooms/hallways/patio. I think thats the right response!\n\n(I can also provide simple natural language instructions when I build the plug-in itself. Aka, I can train the plug-in on things is should expect like ""common areas"" and then it will use its natural language magic to determine when I prompt that. But the above is without any special training as of yet.)', ""Zirowe: I have set it to italian, there is no misheard word, also no percentages on my lights: it's either on or off."", 'Other_Loss_5803: I keep forgetting my naming for these all the time', ""toughtacos: I'm supposed to be working but now I'm sat here in NodeRed. Thanks (sarcastically), and also: thanks (genuinely)! 😅"", ""bowlama: Does that work for you? Every time I've told it to be snarky or something along those lines, it defaults to saying that it can't because it built to be helpful. I've seen people feed it prompts to trick it into this, but when I've tried those I end up hitting the token limit for the chatgpt node's input so it ends up outputting an error"", ""VikingOy: Yes, you're right."", 'achton: Maybe [GPT4All](https://gpt4all.io) will be that solution.', 'OcelotTerrible4233: Similarly, enterprises will pay thousands of dollars per employee for a private instance locked to their company.', ""CorvetteCole: I've been running the 13B param LLaMa with pretty close results to ChatGPT. Maybe I'll write a fun little piece of software"", '4reddityo: Huh what’s this mean?', 'brycedriesenga: Yes: https://youtu.be/0SGxHkoYbj0?t=161', 'Angelusz: Yes, these voices can be emulated using AI as well.', ""5h4d0w: Just an idea I'm throwing out there. I don't see it happening anytime soon, I don't think they have any open API's for the voice assistants."", 'TenseRestaurant: Hopefully in the future it would be integrated with a voice assistant like Alexa or Siri, but right now you’re limited to communicating through the ChatGPT UI. You could potentially program your own voice assistant using the OpenAI API (if it has plugin support) and speech-to-text like Whisper.', 'TenseRestaurant: Thanks, fixing it now.', ""ReallyNotMichaelsMom: I just use automations. When I close my shower door, the contact sensor triggers alexa to play my 30 minute shower playlist, so I roughly know what the time is while I'm getting ready. When I go to bed, plugging in my phone by the bed triggers my nighttime routine, and Jarvis tells me what lights are on, confirms door locked, etc.\n\nMotion detectors turn on and off lights as I move from room to room. Unplugging my phone and getting out of bed tells the house I'm awake. I get a reminder to take my meds. If I don't open that cabinet, Jarvis keeps reminding me until I do.\n\nSitting in my recliner triggers routines that shut off lights in other parts of the house and sets my blinds to the correct height so the sun doesn't blind me during the day.\n\nI have reminders about when the dishwasher or laundry is done, but they're based on the status of the machine, not me setting a timer.\n\nWhen it's trash night, or time to bring in the bins, or recycle day, my calendar triggers reminders. When the garage door is opened, those reminders get turned off.\n\nIt's a ton of fun setting them up and working through the process of making them work just right. I *love* problem solving, but I'm still a noob when it comes to code, so some of my solutions may be a little unorthodox.  :)"", ""ReallyNotMichaelsMom: I just use automations. When I close my shower door, the contact sensor triggers alexa to play my 30 minute shower playlist, so I roughly know what the time is while I'm getting ready. When I go to bed, plugging in my phone by the bed triggers my nighttime routine, and Jarvis tells me know what lights are on, confirms door locked, etc.\n\nMotion detectors turn on and off lights as I move from room to room. Unplugging my phone and getting out of bed tells the house I'm awake. I get a reminder to take my meds. If I don't open that cabinet, alexa keeps reminding me until I do.\n\nSitting in my recliner triggers routines that shut off lights in other parts of the house and sets my blinds to the correct height so the sun doesn't blind me during the day.\n\nI have reminders about when the dishwasher or laundry is done, but they're based on the status of the machine, not me setting a timer.\n\nWhen it's trash night, or time to bring in the bins, or recycle day, my calendar triggers reminders. When the garage door is opened, those reminders get turned off.\n\nIt's a ton of fun setting them up and working through the process of making them work just right. I *love* problem solving, but I'm still a noob when it comes to code, so some of my solutions may be a little unorthodox.  :)"", 'ReallyNotMichaelsMom: We did have conversations about it, but... Did you ever see the SNL skit about ""Alexa for old people""? It was kind of like that. (He thought that skit was hilarious). While it was easy for me to say, ""Alexa, change the temperature to 72"" or ""Alexa, turn on the lights in the kitchen"" he struggled with get the phrasing right, couldn\'t remember when to use Alexa and when to use a switch, and was frustrated when she couldn\'t hear or understand him. \n\nSince I wanted home automation, I just made them invisible. Just going in the room turns on the lights. No need to say anything. The temperature changed when he texted me to say he was on his way home, so it would feel good when he came in.  You know, a smart house, rather than a house with expensive remotes :)\n\nUnfortunately, he died last year, due to complications from Covid. I like to think that he\'d be happy with the flow of automations now that I can do so much more in HA :)', ""BarockMoebelSecond: Just in the way that it's not an official update made by the devs, but a proof of concept by a user. Thematically, it fits."", 'IH8DwnvoteComplainrs: There are a fair few tutorials out there. I think OP probably used sweethome 3d.\n\nSearch something like home assistant sweethome.', 'BarockMoebelSecond: This truly is the future of Home Automation - Now it can process natural language and ""think"" for itself.', ""burajin: Man that's amazing. When the day comes where I can replace my leeching Google Home with something that uses this, it'll be a massive step forward for home automation."", 'calinet6: Absolutely incredible use of this tech. I’ve been waiting for it!\n\nStar Trek Computer here we come!', ""alluran: To be honest - all my lights are named, but very rarely used.\n\nThey're sensibly named enough that when I *do* want to turn on the sink light, or the sofa light, they come on - but for the most part, I'm just using room lighting."", 'LostFerret: You can create a variable that generates a random number between 1 and 10,000 any time you try and turn on/off lights, play music, etc.   \nIf it generates the number 10,000 the  instead of doing the automation it says ""**i cant let you do that dave**"".  \n\nHowver, if you need an automation to work every time (like unlocking a door, or turning off a heater) you should create a way to skip the number generation when these critical automations are executed.', 'GoAheadTACCOM: It\'s a reference to 2001: A Space Odyssey: >!a spaceship\'s AI goes rogue and very eerily and climactically says ""I\'m sorry Dave, I\'m afraid I can\'t do that."" in response to his command before trying to kill him.!<', 'Mister_Hangman: I need this I need this locally for home assistant.', 'Mister_Hangman: I need that. I need that bad', 'Neldonado: Very cool. Do you have any voice / speaker device? We use Alexa A LOT for hands free lights etc', 'calinet6: It’s not doing thinking - important to remember! It just has very large statistical models that are very good at choosing the best complex response for all the information in the request. It’s effectively just extremely good at words.\n\nNo less amazing, but I feel it’s important not to conflate that with thinking.', 'Preisschild: OpenAI has lots of privacy issues too. You send all voice commands to them.\n\nBest would be an open source, selfhosted voice assistant.', ""Angelusz: There's a pretty good chance someone has already trained a model to generate these voices, but if not you can do it yourself. Google is your friend. Better yet - ask ChatGPT how to do it, fairly good chance you'll get workable instructions. Good luck!"", 'BarockMoebelSecond: 11Labs makes it trivial.', ""ReallyNotMichaelsMom: I'm almost embarrassed by how many I have :) I have 5 Alexa devices, 1 Siri, and 1 Google. In part, this is because I only started with HA this year. Before that I used SmartThings and Alexa, and before that it was Tasker and Alexa :)"", ""BarockMoebelSecond: Of course it's not thinking, that's why I put it in quotes. It's a stochastic parrot."", 'Rhynri: Something like [GPT4All](https://github.com/nomic-ai/gpt4all) would be nice, even if it’s less powerful.']"
1681413764.0	13-Apr-2023 12:22:44	"Elegant way for ""redundancy check"" automations"	ElGuano	0	12l0e3f	homeassistant	https://www.reddit.com/r/homeassistant/comments/12l0e3f/elegant_way_for_redundancy_check_automations/	"I have an automation that checks room RH%, and turns on a dehumidifier if the RH is too high.

It works well, but as we know, there are always edge cases that come up--the unit doesn't turn on, it turns itself off (or loses power momentarily), someone turns it off, etc. 

So what I'd like is some kind of guardrail to make sure that it is actually doing what it is supposed to. Is there a best-accepted way to do this? What I'm thinking:

1. Have the normal ""turn on"" trigger at 50% RH, but also trigger at 52%, 55%, 60%, etc. so if the DeH is supposed to be on but the humidity keeps rising, it has more chances to turn it on.
2. Re-check every 30-60 minutes to minutes to see if the trigger humidity has been surpassed, and if so confirm that the DeH is on.

Are either of these preferable? Any other way I'm not thinking about?"	3	"['Burner_account_546: A far better way is just have ""when humidity changes"", ""when temperature changes"" and ""HomeAssistant is started"" as your triggers and ""RH% above a certain value"" as a condition.\n\nThis way your automation will be triggered every single time the sensor detects a change in humidity, temperature or when Home Assistant reboots, but it will never run unless the condition is also met. And in this case, the condition is your desired RH.', 'ElGuano: Oh that\'s interesting. I gate by condition frequently, but have not leaned into ""perpetual triggers"" like that.\n\nOne downside I can see is if the RH continues to rise (as there is often a lag time) then the automation will be firing and trying to turn the already-on dehumidifier on every 5-10 seconds or so until the dehumidifier can take it below the condition threshold. I guess I can add ""dehumidifier is off"" as another condition, but I have to wonder whether having such high trigger/condition throughput somehow impacts the system (or possibly overruns the logs with ""trigger/cancel"" entries)?', 'Burner_account_546: I run the same automation and also have ""action"" as: start dehumidifier, wait for ""RH below threshold"" or 1 hour timeout, stop dehumidifier. Has worked perfectly for about 6-ish months now.\n\nBecause HA automations are by default only allowed to run one instance at a time and because my automation has to wait for RH to go down, before ending, it can\'t trigger again while it\'s already running. And when it can trigger again, the RH will have gone down below the threshold, so the condition is no longer met.\n\nAlso, I have multiple automations that have been running perpetual triggers for years now and the impact on my Raspberry 4 has been smaller than what the CPU graph can register. One of the other automations is an artificial sunrise, which uses time as its trigger and thus been triggered every minute, of every day, for over a year. It simply doesn\'t take much processing to just check if an automation can run.']"
1681410882.0	13-Apr-2023 11:34:42	Customized Thermostat Cards (With YAML)	SeniorPoopyButthole	33	12kysp3	homeassistant	https://www.reddit.com/gallery/12kysp3		10	"['SeniorPoopyButthole: [Full breakdown with YAML here](https://designontask.notion.site/Air-Conditioner-Cards-f5b78ec63655468089d15880fcfd8aea)\n\nPrimary controls made using Simple Thermostat card', 'mrMargherita: Onlyfans?\n\nNice shortcut.', ""xlvwt: What model Midea and LG A/C's do you have that works with those integration's?   \n\n\nShopping for a new A/C myself and would like full integration vs my RM4 Pro to control it."", 'does-this-smell-off: I was just thinking to redo the Aircon interface for my kids rooms, this is great. Thank you!', 'ZAlternates: https://www.newsweek.com/onlyfans-now-selling-actual-fans-its-not-april-fools-joke-1580447', 'severanexp: Also looking for this info. I know midea sells to a bunch of different brands as well but they are tuya based I believe.', 'SeniorPoopyButthole: The LG AC is [this one](https://a.co/d/g17Vnfm). The hardware is really good, and unique, but currently the integration isn\'t local and I have little faith it will be. In terms of how it integrates, it\'s not the best. There not fully ""automatic"" mode on the unit. In ""eco"" mode it will turn on/off automatically, but can\'t automatically change the fan speed, which is super annoying. Excellent as a Dumb AC, completely lacking as a Smart AC.\n\nThe Midea AC is [this one](https://a.co/d/ajYl8iP). It\'s actually excellent, but I wish I\'d splurged on the higher BTU version of this model. It\'s aesthetically unique in a meaningful way, and MUCH quieter on average than any other window unit I\'ve seen. It won\'t stay as silent year-over-year as the first season you use it, but it\'s been holding up great so far and it\'s features are amazing. The integration used also has true local control that offers exceptional control. It seems way overpriced, but I can attest that nothing else comes close in looks, features, or silence. My only regret is not spending more on the bigger one, as we\'re very much stretching its BTU rating in our space.', ""Matt_NZ: The split system heat pump I have (Hitachi) in my rental doesn't have any integration capability so I used [this instead](https://esphome.io/components/climate/climate_ir.html) which imitates its remote. The only issue I had is that the ESPhome version of the library is lagging behind the [source](https://github.com/crankyoldgit/IRremoteESP8266) and isn't fully featured for my heatpump so I went with a custom climate configuration in ESPHome and used the source library instead.\n\nAs a side note, if you're buying a new A/C unit you really should look at making sure that it's a Heat Pump instead. You get all the benefits of A/C but it can also heat."", 'Hindsight_DJ: I have a Gree H/P and it works flawlessly with HA/native integration.', ""alterexego: Not OP but my LG Artcool split AC works perfectly with the LGE devices integration, haven't touched the remote or the native app since I set up HA. I'm guessing any LG that works with the ThinQ app will, too.""]"
1681410486.0	13-Apr-2023 11:28:06	Add-ons - accessing HA entities ?	HolyPommeDeTerre	0	12kyh64	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kyh64/addons_accessing_ha_entities/	"Hello,

I want to build a custom chore tasks manager. I wanted to integrate this with HA to use the presence sensors and notification system.

I couldn't find documentation on how to query HA about this information. I read the API endpoints but can't understand where the entities are lying and how to access the notification system. 

Should I be reading an internal queue somewhere to get the state of the entities (presence of person to narrow down the notifications to send)."	4	"['WindowlessBasement: https://developers.home-assistant.io/docs/api/websocket/\n\nEither subscribe to the ""state_changed"" event or call ""fetch_state"" depending on what you need.', 'HolyPommeDeTerre: Thank you very much. I read the documentation and saw the websocket API but did not enter as I thought it was an alternative. Should have read further.', 'WindowlessBasement: Most the API methods work the same across websockets and REST. If you are building something that relies on responding to changes, I would recommend using websocket instead. It lets you be notified of the change rather than needing to poll for it constantly.', 'HolyPommeDeTerre: Yes you are totally right. I misunderstood how I should approach the subject. I was in my exploration phase and was not really structured yet in the design.\n\nThank you for your time.']"
1681409939.0	13-Apr-2023 11:18:59	Have ordered an nfc ring and not sure how to write data info it. What to be done?	youmeiknow	0	12ky6f5	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ky6f5/have_ordered_an_nfc_ring_and_not_sure_how_to/	I have ordered an nfc ring and assumed (somehow) that I can use HA mobile app to write onto NFC right for an automation. Seems I am wrong, can't find a way to do it. How can I proceed next? Need to buy some device for it? If so, how should I integrate with HA?	6	"[""Node815: Can your phone read it?   My line of thinking is - if your phone can and it it reads the tag, and tag id's itself as O499257XX465997374 for example, then you can have the app on your phone react to that specific tag ID and execute a webhook call to your Home Assistant automation. \n\nI can speak more about Android specifics like using Tasker (which by itself is amazing), or NFC Tools, both of which can read and react to a NFC tag/device."", 'purayesca: If you go to settings > tags, are you able to create it there?', ""youmeiknow: Yeah I have Tasker, didn't use much though. Would you mind sharing some more info on how I can get the job done?\n\nHere is what I want to do. I have the nfc ring and an nfc tag, whenever I touch the tag with ring, an automation on HA should trigger. Thank you!"", ""Troll-U-LOL: >whenever I touch the tag with ring\n\nI might be missing something here, but I don't think that's how NFC is going to work for you.\n\nYou can touch a NFC tag to a phone, and get some action/automation.  I don't know about your ring, but assuming it has a NFC tag inside of it then the same thing, you can touch the ring to the phone and get some action/automation.\n\nBut there's no touching a NFC tag to a NFC ring ... and getting something to happen.  Neither has power."", 'Node815: Webhook Automations are set up in Home Assistant under the ""Automations"" tab, it will give you the URL you can call with it, that is the first thing you will need.\n\nThen, with Tasker, you should be able to do a HTTP POST to the webhook URL with a task.\n\nThen you create an EVENT profile for NFC Tag, scan your ring and then it reads the ID, and then link it to the POST task you created.  Tasker will ask you to format/write the tag, you can ignore this.  By doing so - however, your phone will probably ask you which app to respond to the NFC tag, so depending on what you have installed, it may be the default app or Tasker or another app.  Tasker should be made the Default app.   (This, I\'m not aware of off hand how to do), but can figure it out later today if you want.\n\n**EDIT:**  This may not be possible to set Tasker as default app depending on your Android version.  On my Samsung with Android 13 at least, I can not do this.  So, this may create an unnecessary step in your tag scanning flow. \n\nScan Ring  \nSelect Tasker in the pop up for which app to use\n\nvs. \n\nScan Ring - and it works, which I believe your ultimate goal is in this case. \n\nConversely, if you write a tag with Home Assistant or Tasker\'s inbuilt function, then you bypass the need for a default app, as the act of writing a tag by either app adds a payload of data which calls up the app which wrote it to act upon the webhook in this case. \n\nIf your ring can be written to, then you should be set.  To find out, you can download the free version of ""NFC Tools"" for the Android and read it, it will tell you if it is locked or writable.  If writable, then you could erase it and try writing to the tag again with Home Assistant.', 'KnotBeanie: No need to use tasker to fire an even in homeassistant, you can go to settings then tags to provision a tag']"
1681409924.0	13-Apr-2023 11:18:44	Rhasspy microphone pass through	Yewww1024	5	12ky64z	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ky64z/rhasspy_microphone_pass_through/	I have just started getting into Rhasspy and I’m very interested in it. The main thing I have been wondering and looking for information on is whether I can pass through the microphone, from something like my UniFi cameras, to my instance of Rhasspy and use it as the input? If anyone has any knowledge about this, that would be awesome!	2	"[""cryonia: I'm also interested in this! I didn't even think about using the UniFi mics, but not sure if it's even possible."", 'Yewww1024: Ya I’m not sure if it is possible either. I’m just trying to figure out a way to leverage hardware I already have in order to have a central installation of Rhasspy as opposed to having to spot something like raspberry pi’s, with an usb mic/speaker attached, throughout my home.']"
1681408829.0	13-Apr-2023 11:00:29	Energy Dashboard, how long will it keep my data?	djlorenz	3	12kxlmh	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kxlmh/energy_dashboard_how_long_will_it_keep_my_data/	"for some reason my energy dashboard is only showing the last few days, what is the default data retention for the dashboard? is it possible to keep storing the data (I would like to compare months etc.)

thank you"	4	"['ZAlternates: Long term statistics are kept forever. \n\nThey are summarized over time so the database doesn’t get all bloated. I forget exactly, but like it keeps the average/min/max for each hour, then for each day, month, year, with longer time periods as data gets older, if I’m making any sense. \n\nNow as to why you’re having an issue, I’m not sure. What are you using to gather the energy data? Give us more info.', 'djlorenz: Thanks for the info, good to know.\nI use the Slimmemeter and I just remembered that I updated the firmware and it got recognized as a new device and I deleted the old one. Probably by doing that I lost the old data :(', 'ttgone: It should pick it back up (on the very latest HASS version) if you rename it exactly to what it was before. See the 2023.4 release notes: https://www.home-assistant.io/blog/2023/04/05/release-20234/#database-scalability', ""djlorenz: Thanks, I don't remember the old name but I will figure it out (it's a completely new entity now with the new firmware and I deleted the old one, I thought energy was an entity by itself)\n\nI will update anyway, these changes seems nice, hopefully I don't have to spend days fixing all the breaking changes like every time I do an update...""]"
1681408341.0	13-Apr-2023 10:52:21	NS Panel Pro - 24V Power Supply Mod running HA	dasPsycho	7	12kxcs6	homeassistant	https://www.imgur.com/a/eKDGL72		8	"[""dasPsycho: Ordered three NS Panel Pro last year, when i bought the house.\n\nBut until they arrived I already started renovating and went full KNX for all switches, so I don't have 230V available near where i may want to use them, but I have 24V available on the aux power lines of the bus cable (yellow/white).\n\nSo I decided to remove the original power supply and hacked together a layout for a matching replacement that contains a Traco 24V->5V 1A Stepdown, a diode for reverse polarity protection, a 800mA polyfuse and some additional headers to breakout IO1/2 that could be accessed from an android app, or to use the power supply in for small sensor nodes (with an ESP32 instead of the NS Panel plugged in).\n\nPower consumption peaks with 2.5W while booting, drops to 1.5W with the screen on while showing a basic dashboard.\n\nNow i can plug it in anywhere where I have the green bus cable available (which is basically everywhere 😁)"", 'Shooter_Q: I have no idea how electricity works but I am surely impressed!!', 'Stravlovski: I have been thinking of doing this exact same thing. Great work! Do you have a schematic or pcb-layout for this modification?', 'Smart-Energy-5286: Translation: NSPanel needs 5V, he happened to have 2 unused wires at 24V, he made a voltage converter from 24V to 5V. Problem solved, can mount NS Panel easily everywhere.\n\n\nOP: is the Pro panel that much better than the initial NSPanel ? Screen quality (angles of view), speed, responsiveness, etc...\nU running HimeAssistant app on it ?', ""dasPsycho: 3D Printed cases for the new PCB (doesn't fit that well yet):  [Onshape](https://cad.onshape.com/documents/c703afac257269f1fd003891/w/907137e263dae0d74d3addb7/e/ba7278f876638591b1f0c8b8?renderMode=0&uiState=643a3785336ff3540d07ada3)\n\nOSHWLab Project for the PCB: [Link](https://oshwlab.com/dertim/knx-aux-power-module_2023-04-01_12-52-03)\n\n&#x200B;\n\nWould be a good idea to add additional input/output caps for the Traco stepdown, it doesn't need them, but that should reduce EMI and would also allow to use similar 3 pin dc/dc modules that do not work without external caps."", ""dasPsycho: Main issue was, the NS Panel Pro needs mains voltage, where you wan't to place it.\n\nKNX is a wired bus system for smarthome stuff, with 4 wires, two of those are allways used, the other two are optional for special equipment (which I don't have, so i decided to install a central 24V/60W power supply for all my DIY sensor/display/whatever stuff)\n\nMy intial plan was to use a PoE Module like the  AG9900 for power, but that would have involved more components (and I have the 24V available everywhere where i want to place the NS Panel Pro's)But should also be possible with a cheap PoE -> 5V Adapter (just for power)\n\nRegarding the comparison to the regular NSPanel, I don't have one, but as long as you don't have multiple live cameras on your dashboard it's pretty smooth and responsive, and the viewing angles are fine.\n\nYou can even watch youtube videos on it 😁\n\nSome pictures for the viewing angle, and video: [https://imgur.com/a/1E0vLZT](https://imgur.com/a/1E0vLZT)  \n\n\n  \nAnd yes, that's the Android HA Companion App running, after updating Webvies and replacing the Launcher, according to the Guides at [https://blakadder.com/](https://blakadder.com/)"", ""Smart-Energy-5286: Neat, I have 230V mains as source for a 1st version panel and was looking into upgrading to the Pro version mainly for screen quality and native android.\n\nStill love the custom UI I built for this one (AppDaemon with custom Nextion GUI), but the benefits of native android HA app outweigh everything else.\n\nLooking good on your end so I'll probably upgrade mine."", 'dasPsycho: Even with mains voltage availble, I would prefer a single efficient 24V power supply compared to 3 cheap and inefficient ones in the NS Panel Pro.  \n\n\nBut before you order, check if you can still enable ADB for the latest firmware version of the NS Panel Pro.  \nI think I  read somewhere, that there were some changes. I just had to enable it in the eWeLink app.  \n\n\nCompared to the KNX Stuff, the Panels where quite cheap, a single KNX Wall Switch with a small display and 6 capacitve buttons costs the same as 3 NS Panel Pro on preorder (\\~250€).']"
1681407638.0	13-Apr-2023 10:40:38	MQTT and Ring MQTT	DataNinjas	1	12kwzrt	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kwzrt/mqtt_and_ring_mqtt/	"**Question 1 - mqtt**

I have HA Core installed in docker along with various add-ons (MQTT, Node-red, Hass config).  I just got my Z wave stick and I'm  trying to get MQTT to recognizes devices, but it's not detecting anything. 

Below is my docker compose which seems to be working correctly as I was able to configure the MQTT integration in Home Assistant, but no devices are recognized after multiple restarts

      mosquitto:
        image: eclipse-mosquitto
        container_name: mosquitto
        restart: unless-stopped
        ports:
          - 1883:1883
        volumes:
          - /share/Appdata/mosquitto/config:/mosquitto/config
          - /share/Appdata/mosquitto/data:/mosquitto/data
          - /share/Appdata/mosquitto/log:/mosquitto/log
        environment:
          - TZ=America/Los_Angeles
        devices:
          - /dev/ttyACM0:/dev/ttyACM0 #Zwave usb location

**Question 2 - ring-mqtt**

I've also setup ring-mqtt in docker and modified the URL with the MQTT URL, but the  instructions on the [ring mqtt wiki](https://github.com/tsightler/ring-mqtt/wiki/Configuration-Details#global-configuration-options) aren't entirely clear.  The instructions state the the MQTT broker is in standard MQTT URL format: 

    mqtt(s)://[username[:password]@]host[:port]

For example should that be translated to:

    mqtt(s)://Bruce:Lee123@192.168.X.X:1883
    ##or this?
    mqtt(s)://[Bruce[:Lee123]@192.168.X.X[:1883]

I've tried both variations and I keep getting the following error:

    Running ring-mqtt...
    2023-04-13T17:28:49.462Z ring-mqtt Detected runmode: docker
    2023-04-13T17:28:49.464Z ring-mqtt Configuration file: /data/config.json
    2023-04-13T17:28:51.005Z ring-mqtt Reading latest data from state file: /data/ring-state.json
    2023-04-13T17:28:51.018Z ring-mqtt WARNING - Unhandled Promise Rejection
    2023-04-13T17:28:51.018Z ring-mqtt TypeError [ERR_INVALID_URL]: Invalid URL
    2023-04-13T17:28:51.062Z ring-mqtt Attempting connection to Ring API using saved refresh token...
    2023-04-13T17:28:51.640Z ring-mqtt Successfully established connection to Ring API using saved token
    2023-04-13T17:28:51.641Z ring-mqtt Received updated refresh token
    2023-04-13T17:28:51.642Z ring-mqtt Saving updated refresh token to state file
    2023-04-13T17:28:52.653Z ring-mqtt Successfully saved updated state file: /data/ring-state.json
    2023-04-13T17:28:53.641Z ring-mqtt Attempting connection to MQTT broker...
    2023-04-13T17:28:53.644Z ring-mqtt Error: Missing protocol
        at Object.connect (/app/ring-mqtt/node_modules/mqtt/lib/connect/index.js:72:13)
        at Mqtt.init (file:///app/ring-mqtt/lib/mqtt.js:85:41)
        at EventEmitter.<anonymous> (file:///app/ring-mqtt/lib/mqtt.js:27:22)
    2023-04-13T17:28:53.645Z ring-mqtt Could not authenticate to MQTT broker. Please check the broker and configuration settings.
    [17:28:53] WARNING: A critical error was detected, shutting down container..."	8	"['_Rand_: Mqtt doesn’t recognize devices on its own, mapping your zwave stick to it won’t do a damn thing because it literally can’t work with it,\n\nThink of mqtt as say… twitter for programs.  It allows them to leave “messages” for other apps to read and do whatever with.\n\nIn the case of zigbee2mqtt for example, the messages it would leave would be along the lines of ‘homeassis￼tant, the kitchen lights are off’ then Home assistant would see the message and change the status of the lights in its system.\n\nYou need to install ZwaveJS or ZwaveJSui and mal your zwave stick to that (neither of which requires mqtt btw, though UI can use it)\n\nAs for your ring2mqtt issue, the correct format is mqtt://user:password@address:port , typically it would look sometimes like mqtt://bruce:lee@192.168.1.100:1883', 'oxjw: point 2 - protocol (before first colon) should be mqtt or mqtts depending on whether the broker is configured to use secure connections or not. The (s) should not be in there.\n\notherwise, the top one you posted.', 'oxjw:   \nquestion 1 - I maybe missing something but the zwave stick should be used by home assistant and not the MQTT broker. Unless it’s something I’m not aware of a MQTT broker would not integrate directly with a zwave device.', ""DataNinjas: Thank you! Your last bit solved my problem.  I'm newer in this space and after 4 days of trouble shooting and information overload I had a major idiot moment.\n\nI forgot I don't have any Zwave devices (yet) outside of my ring products.  So even though MQTT was setup correctly, devices weren't detected because my ring-mqtt was misconfigured.\n\nShould I be using ZwaveJS or ZwaveJSui instead of MQTT for Home Assistant integration?"", 'DataNinjas: Thank you, both you and u/_Rand_ solved my problem.', ""DataNinjas: You're probably right.  I had the devices syntax added to all my dockers while troubleshooting."", '_Rand_: I prefer zwavejsui, you can find it in the addon store I believe, but yes you need one if them.\n\nEither will do just fine but ui is a bit more advanced, its a bit easier to dig into the more advanced device options.', ""DataNinjas: I'll check it out, since I'm doing things in docker, I'll have to explore installing it docker.\n\nIt would be nice to have a UI component to it. Because I want able to access MQTT (if it exists) through the URL.""]"
1681407549.0	13-Apr-2023 10:39:09	Spotify integration not working	jolivencia	1	12kwxxz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kwxxz/spotify_integration_not_working/	"So as the title says the Spotify integration is not working for me,

I completed the steps as shown in the how-to, but it just gives me a blank card that says spotify.

The error from the logs is:

*Logger: homeassistant.helpers.config\_entry\_oauth2\_flow*

*Source: helpers/config\_entry\_oauth2\_flow.py:319*

*First occurred: 1:37:50 PM (1 occurrences)*

*Last logged: 1:37:50 PM*

&#x200B;

*Timeout resolving OAuth token:*

&#x200B;

Any idea?"	0	[]
1681406970.0	13-Apr-2023 10:29:30	Homeassistant UI without websockets?	rknobbe	0	12kwn0h	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kwn0h/homeassistant_ui_without_websockets/	"My proxy server at work recently stopped permitting websockets connections (apparently). Now when I try to access my homeassistant server at home I get the ""unable to connect to Home Assistant. retrying..."" screen. I can access from elsewhere, it's just connections initiating behind this proxy server that are failing.

Is there a limited functionality UI I can use that doesn't rely on websockets?"	11	"[""rknobbe: Followup: I think I was able to fix it.  Tried using curl to see what the error message was, and saw this:\n\n`curl: (35) schannel: next InitializeSecurityContext failed: Unknown error (0x80092013) - The revocation function was unable to check revocation because the revocation server was offline.`\n\n&#x200B;\n\ndid some googling and saw that this can be because the proxy is blocking access to that CRL server.  Disabled CRL checking and now I'm able to get to my home server using Chrome. For some reason Firefox doesn't obey the same CRL settings as Chrome, but I'm happier now."", 'KnotBeanie: What did you change? You’re going to want to make sure your proxy will handle web sockets.', 'ttgone: Use a VPN or ZeroTier?', 'sleekelite: errr how does that work?  you’re presumably accessing it via HTTPS?  is your employer MITM your encrypted traffic?', ""rknobbe: It's possible my company changed the protocols the proxy forwards.  Regardless, I can't change the proxy config.\n\nSo is there another UI option for Homeassistant that doesn't rely on wss connections?"", 'rknobbe: The https connection to my server [https://homeassistant.example.com](https://homeassistant.example.com) works fine. But the subsequent connections to   wss://homeassistant.example.com/api/ ... get blocked', 'chillaban: A proxy server is basically that, yeah. It establishes the encrypted connection to your own server. You talk encrypted between you and the proxy.', 'KnotBeanie: Not in ha core. So ask your it org why they’re making breaking changes without bringing it up to you.', 'sleekelite: No, that’s a proxy server MITMing your traffic.', 'chillaban: Yes? A lot of corporate networks are still set up that way, where there’s no NAT or transparent connectivity outside the intranet, the only way out the WAN is via a corporate proxy server, sometimes AD/Kerberos authed to establish proof in who was at the desk when the connection happened. \n\n(There of course is no expectation of privacy in such a setup)', ""rknobbe: HTTPS connections do present the actual server's certificate to my browser.  Not sure how the mechanics work, but I appear to be connecting directly to the remote server for https although all my connections go through $http\\_proxy  or $https\\_proxy.  Port 443 is not open for outbound traffic, I need to connect to the proxy. However maybe the proxy is setting up a CONNECT session in the background and just shuttling the E-to-E encrypted session? Maybe our IT department switched a mode that no longer enables wss to be CONNECT-ed?\n\nThis all worked until about a month ago.""]"
1681406671.0	13-Apr-2023 10:24:31	Requested Brightness Level on Tradfri motion sensor	Tnt2k6	1	12kwhhp	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kwhhp/requested_brightness_level_on_tradfri_motion/	"Hi, I was wondering if I could use the entities ""Requested Brightness Level"" or ""Requested Brightness Percent"" for an automation. Does it have to do with the hardware setting on the sensor, aka the Sun or Moon button?"	0	[]
1681404903.0	13-Apr-2023 09:55:03	HOW TO - HACS 2023	MarkWattTech	0	12kvjfi	homeassistant	https://youtu.be/oXaGqjaKbeE		5	"[""MarkWattTech: The Home Assistant Community Store is by far the simplest and easiest way to access and install integrations, themes, cards and more. Not only this but HACS will also manage updates for all of the things!\n\nIf you're a long time HA user then you more than likely have this setup already. I thought I'd refresh this one though as I will be needing it in some up and coming projects.  \n\n\nLooking for something to get started with? I would recommend checking out Mushroom 🍄\n\n[https://github.com/piitaya/lovelace-mushroom](https://github.com/piitaya/lovelace-mushroom)\n\n&#x200B;\n\nWhat are your favourite additions available in HACS? 😁"", 'strawberry_gin: hopefully people can learn the difference between integration and addon, see them being used interchangeably somewhat often in comments', ""jmcgeejr: Hacs is also the only way to get certain devices into HA.  My LG Dishwasher for one, hubitat, balboa spa, dyson local, rainforest emu-2.  Just to name a few. It's a lifesaver."", ""Complete_Stock_6223: That's not true. It may be the easiest way but no the only one."", ""jmcgeejr: Oh, I'm sorry, I guess you could always just manually copy the custom folders into HA, if we're really gonna split hairs on that.""]"
1681403667.0	13-Apr-2023 09:34:27	Homekit Panel Card by DBuit	larryo108	2	12kuwxr	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kuwxr/homekit_panel_card_by_dbuit/	"Does anyone know if [this HACS frontend addon is dead?](https://github.com/DBuit/Homekit-panel-card) It looks like it has been updated since September 2022 and I just can't get it to work. I have tried so many different ways and read so many threads to try to get it to work. It just never provides me with any sort of dashboard. 

I have tried using yaml AND the GUI to develop a dashboard with it, but can never get anything to show up. It just shows up as a blank dashboard. In the GUI, I can click edit dashboard and see the element where it is supposed to be and see all the code in yaml, but I never actually see anything on the dashboard.

Short of this add-on, does anyone know of any readily available homekit style button cards I can integrate into my setup? I have a dashboard based on mushroom, but it is hard to tell from across the room when looking at my tablet control what devices are actually on. Thanks in advance."	0	[]
1681403484.0	13-Apr-2023 09:31:24	nRF52840 M.2 Module -- install into Elitedesk 800 G4 for Home Assistant?	comdty	2	12kutr9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kutr9/nrf52840_m2_module_install_into_elitedesk_800_g4/	"Thank you for your patience with these questions.

I have an Elitedesk 800 G4 Desktop Mini (running virtual machines through Proxmox) that has a M.2 slot (originally meant for a WiFi/Bluetooth card) that I'm wondering if I can use for the below card and have Home Assistant recognize it (as an alternative to a USB receiver like the SkyConnect) if I can manage to get Proxmox to pass through the hardware. In summary, three-part question:

1. Would I be able to install this card into the Elitedesk 800 G4 Desktop Mini (using the Wifi M.2. slot and attaching to the built-in WiFi/Bluetooth antennas)?
2. Would I be able to have Proxmox pass through the card into a Home Assistant VM?
3. Would Home Assistant recognize the hardware and/or what would I need to do to facilitate that?

Thank you!

Hardware in question: [nRF52840 M.2 Module](https://makerdiary.com/products/nrf52840-m2-module)"	2	"[""Wild-Bus-8979: > 1. Would I be able to install this card into the Elitedesk 800 G4 Desktop Mini (using the Wifi M.2. slot and attaching to the built-in WiFi/Bluetooth antennas)?\n\nIf it's the same m.2 key, then yes it should work\n\n> 2. Would I be able to have Proxmox pass through the card into a Home Assistant VM?\n\nAbsolutely. If it's a PCIe device (as opposed to usb) you will need to make sure your motherboard supports iommu.\n\n> 3. Would Home Assistant recognize the hardware and/or what would I need to do to facilitate that?\n\nI don't think home assistant knows anything about generic 2.4Ghz, you'll need custom software for this to work. For ZigBee, maybe it'll work, not sure.\n\n\nI stumbled on this card just last week and have been interested as well, maybe I'll pick on up 🤔"", 'comdty: Thanks for the response. Hoping others have had experience using this who can comment but if you end up going down that road, would love it if you could come back and share what you found.']"
1681402368.0	13-Apr-2023 09:12:48	Best practice for security	Matt_Shatt	7	12ku9lw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ku9lw/best_practice_for_security/	"I have a pretty standard HA installation:

* Home Assistant 2023.4.2
* Supervisor 2023.04.0
* OS 9.4

Installed on a VM on Proxmox. I want to double check that I don't accidentally have myself set up for a security breach or something. I have cloud access via Nabu Casa for remote control of my home. When I access my HA internally (via local IP), it is NOT https and I don't have SSL set up. With my only outside access being Nabu Casa, is this a security issue? What other areas should I check or improve upon to ensure someone isn't accessing my home or other computer systems without my knowledge?"	6	"['ZAlternates: One of the cool things about using the Nabu Casa cloud solution is that they provide you with a service to enable and disable remote access\n\nI therefore have an automation setup to say “when I leave the house, enable remote access” and “when I return home, disable remote access”. I also setup, “if wifi is having issues, then turn on remote access for 30 minutes” so I can use my phone and troubleshoot over cellular. \n\nSince I post on Reddit all day, I hardly ever leave the house, and this keeps HA even more secure.', 'sleekelite: no\n\nensure things stay updated and you don’t port forward random crap into your network', 'SkotizoSec: I think they have a checklist here:\n\n[https://www.home-assistant.io/docs/configuration/securing/#:\\~:text=If%20you%20want%20secure%20remote,VPN%2C%20or%20an%20SSH%20tunnel](https://www.home-assistant.io/docs/configuration/securing/#:~:text=If%20you%20want%20secure%20remote,VPN%2C%20or%20an%20SSH%20tunnel)', 'rourke750: I use haproxy to port forward. Biggest issues will be if ha has an undisclosed auth bug but for the most part no one should really be targeting you.', ""ufgrat: Nabu Casa works by your system opening an *outbound* connection to Nabu Casa, that the Nabu Casa site uses to proxy a connection back to your HA instance.\n\nAs long as their servers are secure, so's your HA instance.\n\nGenerally speaking, don't allow your router to forward connections into your network, or if you do, forward to specific ports on specific computers.\n\nIf you want to be truly paranoid, there's always the idea of bringing up your own router-- either install custom firmware on an existing router, or build a small PC and install pfSense or opnSense on it, and install an intrusion detection system-- but be warned, this is a rabbit hole of near infinite depth.  :)"", 'Matt_Shatt: Oh wow I didn’t know about that! Sounds easy enough and GPS tracking or geofencing has proven to be pretty reliable. Thanks!']"
1681402186.0	13-Apr-2023 09:09:46	Is there any way I can relay my USB z-wave stick from a different PC somehow?	suckfail	1	12ku688	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ku688/is_there_any_way_i_can_relay_my_usb_zwave_stick/	"I currently run HA on a Rasperry Pi 4 with a zooz z-wave USB stick in it. This Pi is in a cupboard on my main floor.

It works fine, but it's slow.

In my basement I have a rack server running proxmox and I can spin up HA in a container, but the issue is if I physically connect the z-wave stick down there in the rack case it can't contact any devices due to distance and interference.

Question is: can I somehow run HA in the basement and keep the USB upstairs connected to the Pi running some service to allow remote access of the stick or something? I know this is weird.

Thanks.

E: seems like it's definitely possible with zwave js UI, thanks for all the replies!"	5	"['danielszajkowski: Yes you can,\nYou can use zwavejs2mqtt (zwave js ui)\nOn the pi and run HA on your server', ""cornellrwilliams: This is very easy to do using Z-Wave JS UI\n\n1. Inside of the Z-Wave JS UI Settings enable the WS Server Option\n2. Then Create a New Z-Wave integration in HA\n3. When setting up the integration uncheck use supervisor add-on then type in the IP and Port Number that Z-Wave JS UI is running and all of your devices will show up.\n\nI personally use this method to control multiple Z-Wave Networks over IP. I have a garage that's far away that's connected via fiber. So I have multiple Z-Wave Integrations for each of my networks."", 'Skipper-1024: Zwavejs should be able to do that on the pi.\nYou will have to point home assistant to the pi ip address\n[https://github.com/zwave-js/zwave-js-ui](https://github.com/zwave-js/zwave-js-ui)', 'iWQRLC590apOCyt59Xza: With ser2net you can']"
1681402143.0	13-Apr-2023 09:09:03	Name + State	lowriskcork	2	12ku5fs	homeassistant	https://i.redd.it/nsz9lixtvpta1.jpg	"Quick question, can I display an entity name + tue status ? 
— assuming that required a custom template ?"	4	['Killer_XS: If you set your Mushroom Chip to template you can do all sorts of custom chips. It does take some more code and knowledge, but you can even get dynamic icons and icon-colors to work.', 'lowriskcork: * i forgot to mention it was a mushroom chips card !', 'lowriskcork: Thank you, I end up doing some custom sensor, but I’m starting playing with the template and that’s very handy too']
1681401485.0	13-Apr-2023 08:58:05	all the buttons disappeared. how to fix it? Both on web version and app.	superpanjy	0	12ktt5r	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ktt5r/all_the_buttons_disappeared_how_to_fix_it_both_on/	"&#x200B;

https://preview.redd.it/1lb0jqk4cota1.png?width=811&format=png&auto=webp&v=enabled&s=f03372b0c96554dd29673afbeefd535112d94025"	4	['coolvt: Either update to 2023.4.4 or click on you profile and change “number format”, “time format” and fist day of the week from “Auto” to your local it will fix it.\n\nIf you have multiple users you have to the same on each profile.', 'remembermereddit: https://reddit.com/r/homeassistant/comments/12kd2ff/button_cards_broken_after_updated_to_202343/', 'sembee2: It is only the time format that needs to be changed. The others do not.\n\nHowever 4.4 is the update to resolve it.']
1681398566.0	13-Apr-2023 08:09:26	Please help wit the /get command	Mx7733	0	12ksbug	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ksbug/please_help_wit_the_get_command/	"Hi there, 

To update or set a different timer interval there is a lot of documentation to be found. Sadly for me, I just dont know how to read/implement it. Im studying for my PCEP, a python entry lever certificate, but that's no help. 😞

How do I use the following?

Detection_interval (numeric)
Time interval for detecting actions. Press pairing button right before changing this otherwise it will fail.. Value can be found in the published state on the detection_interval property. To read (/get) the value publish a message to topic zigbee2mqtt/FRIENDLY_NAME/get with payload {""detection_interval"": """"}. To write (/set) a value publish a message to topic zigbee2mqtt/FRIENDLY_NAME/set with payload {""detection_interval"": NEW_VALUE}. The minimal value is 2 and the maximum value is 65535. The unit of this value is s.

I tried it in my terminal. Directory does not exist. I've been combining throught the HA pages RESTful commands and templating, but can't figure out where the /get goes..

Can someone point me in the right direction with an example or two? Or OTA updates? (This creates the same problem for me)

Thanks in advance 

-Mx7733"	2	"[""mrbmi513: Do you have a link to this documentation? Sounds like it's in an add-on and not the HA core.\n\nAlso, you can't just run these in a terminal directly. You need to use a program like `curl` or python's `requests` library to actually make an HTTP request."", 'Mx7733: Thanks for your reply.\n\nYes I do; \n\nThe aforementioned Detecion\\_interval\n\n[https://www.zigbee2mqtt.io/devices/RTCGQ14LM.html](https://www.zigbee2mqtt.io/devices/RTCGQ14LM.html)\n\nThe other one i need to looku later, for I am at work at the moment.']"
1681398079.0	13-Apr-2023 08:01:19	Environment Canada Showing Temp as 0	sometin__else	1	12ks2v7	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ks2v7/environment_canada_showing_temp_as_0/	"Update: Fixed in 2023.4.5  


Just checking to see if anyone else is experiencing this issue. My HA went offline at 4am, I rebooted and the sensor was reporting correctly. I ran the update to 2023.4.3 and since then its just reporting 0 (its 23 outside)

https://preview.redd.it/nsf8k2g72ota1.png?width=660&format=png&auto=webp&v=enabled&s=fc20744b81555e8e8caad24241857209ed588394"	12	"['sometin__else: [https://github.com/home-assistant/core/issues/91370](https://github.com/home-assistant/core/issues/91370)', 'sometin__else: Rolled back the update and its now working correctly', ""djgrahamj: There's an env can integration? Neat!\n\nThere's a .4 now, maybe that helps."", ""JETRUG: Same here, April 14 2023 5:57 pm is when the temperature history chart shows that it instantly dropped to 0. I'm on HA 2023.4.4"", ""jjbeeblebrox: > There's an env can integration? Neat!\n\nExactly what I was just thinking. So, thanks OP for the pointer!"", ""sometin__else: Just tried, no dice. Now all the sensors report zero. Rolled back to .2 and its working.My platinum weather card also disappeared on .4, not sure what that's about though"", ""djgrahamj: That's interesting, I was assuming it was a card issue as I'm still seeing those as of .4 but if the sensors are actually reading zero it must be something lower level. I'm sure it'll get sorted.\n\nI have a temperature sensor outside so don't really need it but some of the other data looks interesting!\n\nI just installed it (on .4) and I get air quality and the forecast but everything else is zero. Weird!"", 'Woodcat64: Same here. Weird part is that forecast, statements and radar works fine.', 'Goinuptheladder: Same thing here, forecasts are fine, but temp, pressure, humidity all 0 after 2023.4.4 update.', 'Woodcat64: 2023.4.5 fixed it.', 'sometin__else: Super weird, not sure what the breaking change would be but im back on .2 and everything working as expected', 'sometin__else: yup']"
1681397836.0	13-Apr-2023 07:57:16	Outdoor valve recommendations?	mmcc73	1	12krybv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12krybv/outdoor_valve_recommendations/	"I'm preparing to automatically hose down some squirrels, and I'm wondering if there is a preferred Home Assistant friendly, outdoor rated valve. Zigbee or WiFi would be great. Regular hose threads in and out preferably.

One option would be using a sprinkler valve + DC power supply + zigbee relay. Are there reasonably priced all in one gizmos out there that you've had good experiences with? If so, let me know!"	9	"[""godsfshrmn: You are best off with buying a 12V solenoid from Amazon or one of the different types of orbit valves and control with a relay. Wire it up to a spare 12V wall wart and you're set. Cheapest is to use an esp8266 or similar but could also use a zigbee or wifi controlled outlet too. \n\nThere are zwave mechanical switches for valves but they are loud and slow and cost quite a bit more than you really need to spend for something this simple."", ""kunigit: For some future garden automation, I've had my eye on the [Melnor Bluetooth valves](https://melnor.com/product/bluetooth-water-timer/) and the corresponding [integration](https://www.home-assistant.io/integrations/melnor/).\n\nNot sure if bluetooth is an option for you. Not even sure if I have the range yet, either, since I don't yet have bluetooth configured in HA. (OS/software version issues, I think) I might have to go with an ESP32/ESPHome bluetooth proxy."", 'oxjw:   \nI’ve been using linktap outdoor valv/sprinkler system the last few years. Happy with it. They recently added local control via MQTT to allow HA integration. Not used it yet myself but plan to this summer.', ""Rotilho: We have very similar problems and we both come up with very similar solutions.\n\nI went for this valve [https://www.aliexpress.com/item/1005004806967679.html?spm=a2g0o.order\\_list.order\\_list\\_main.113.4fb71802FQTH0B](https://www.aliexpress.com/item/1005004806967679.html?spm=a2g0o.order_list.order_list_main.113.4fb71802FQTH0B)\n\nIt's brandless, the quality may be questionable but it's been working great actually with Z2M. I didn't think about it before but having a timer makes the solution much more errorproof.\n\nI'm using a camera to detect cats and start the sprinklers. The detection part is not working great but I'm hopping that with Frigate Plus I can make it rock solid."", 'mmcc73: Thanks - I’ll take a look on Amazon and see what they have. I’ve got a bunch of esp boards laying around.', 'grahamr31: I have the melnor 4 hose RainCloud wifi timer and it works great. Would buy again for sure. There’s a hacs integration for it as well', 'mmcc73: That’s pretty slick - thanks.', ""JohnC53: Love my LinkTaps! Smart enough out of the box. I do have the MQTT enabled for monitoring and reporting, but I don't let my HA control it. No need to really."", 'feralfantastic: Just make sure the relay can respond and run on 3v.']"
1681394817.0	13-Apr-2023 07:06:57	MOES smart outlet with USB and USB-C control HA integration?	jakabo27	1	12kqfe4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kqfe4/moes_smart_outlet_with_usb_and_usbc_control_ha/	"Hello, I was wondering if someone can help me determine if I could integrate this with HA either by flashing firmware or with a HACS integration or something?  It seems like older MOES devices used Tuya or Zigbee but this one doesn't. The outlet:  ""[MOES Smart USB Wall Outlet with Type-C & Type-A Ports, 2.4GHz Wi-Fi in-Wall Plug Socket Receptacle 15Amp Work with Alexa Google Assistant, Remote Individual Control,Save Energy, No Hub Required](https://www.amazon.com/MOES-Receptacle-Assistant-Individual-Required/dp/B0BV9HRPMN)""

I'm looking for a wall outlet that has a USB port integrated that I can control via HA.  This is the best option I've found, or the [older MOE's smart outlet without USB-C](https://www.amazon.com/MOES-Divided-Interface-Compatible-Required/dp/B07R3R5PWS).

As a backup plan I guess I could use the Alexa media integration and send custom strings like ""turn on USB on MOES switch"" from HA, but that's a workaround I'd rather avoid.

&#x200B;

https://preview.redd.it/zooh5d0ksnta1.jpg?width=1500&format=pjpg&auto=webp&v=enabled&s=b7a3c529dd04f7fed7213a7baf3ce8c0c32e5d6d"	1	['FakespotAnalysisBot: This is a Fakespot Reviews Analysis bot. Fakespot detects fake reviews, fake products and unreliable sellers using AI.\n\nHere is the analysis for the Amazon product reviews:\n\n>**Name**: MOES Smart USB Wall Outlet with Type-C & Type-A Ports, 2.4GHz Wi-Fi in-Wall Plug Socket Receptacle 15Amp Work with Alexa Google Assistant, Remote Individual Control,Save Energy, No Hub Required \n\n>**Company**: Visit the MOES Store\n\n>**Amazon Product Rating**: 4.8 \n\n>**Fakespot Reviews Grade**: F\n\n>**Adjusted Fakespot Rating**: Insufficient reliable reviews\n\n>**Analysis Performed at**: 04-13-2023 \n\n[Link to Fakespot Analysis](https://fakespot.com/product/moes-smart-usb-wall-outlet-with-type-c-type-a-ports-2-4ghz-wi-fi-in-wall-plug-socket-receptacle-15amp-work-with-alexa-google-assistant-remote-individual-control-save-energy-no-hub-required) | [Check out the Fakespot Chrome Extension!](https://chrome.google.com/webstore/detail/fakespot-analyze-fake-ama/nakplnnackehceedgkgkokbgbmfghain)\n\n*Fakespot analyzes the reviews authenticity and not the product quality using AI. We look for real reviews that mention product issues such as counterfeits, defects, and bad return policies that fake reviews try to hide from consumers.*\n\n*We give an A-F letter for trustworthiness of reviews. A = very trustworthy reviews, F = highly untrustworthy reviews. We also provide seller ratings to warn you if the seller can be trusted or not.*']
1681392907.0	13-Apr-2023 06:35:07	Camera recommendation for person detection?	Diligent_Oil6245	2	12kpfit	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kpfit/camera_recommendation_for_person_detection/	"We unfortunately have a new walking path being installed behind our house / wooded property.  I’m interested in person detection cameras that we can use for person alerts, but also to use to trigger outdoor lights at night.

Are Reolinks decent?  

I’m not opposed to using the Reolink app for easy of use, but definitely want tie ins to Home Assistant"	16	"['_Rand_: I’m pretty fond of reolink stuff.  Seems to work well.\n\nI’ve not played with facial recognition much though, but with what I have tried frigate + double-take + compreface seemed to work pretty good.  You just need tons of example pictures to train with, preferably from the camera you’re using from multiple angles.', 'Shiztastic: The Hook Up (https://www.youtube.com/@TheHookUp) has some pretty good videos on the topic comparing different types and manufacturers including night vision.  Pretty good image quality comparisons, etc.', 'skepticalcow: I have reolink everything.  They are great for daytime, not so much in low light.  Everyone here loves reolink, everyone on camera forums hates them due to a history of bad hardware & software.  The hardware in my opinion is good for the cost.  The software is also decent if you use their NVR.  If you try to use something external, you’ll likely run into smearing at night.  I had frigate for a long time with reolink and it worked well, but wasn’t great for upkeep, constant recording, or sharing/viewing video.  I’ve moved to blue iris with reolink cameras.  The newer reolink cameras work great but you still get smearing at night when someone is moving fast.  Old reolink cameras have firmware issues and reolink has not fixed them.  They do not work great with other NVRs.  I doubt they ever will. \n\nAll in all, I’d rank them 7/10.  The best feature is the price.  If you want nighttime camera detection without smearing, avoid reolink and spend the big bucks on a brand that works better at night.  Just keep in mind that you’ll probably spend twice the amount.', 'wsdog: Use Frigate! Considering cameras, I personally use Amcrest, but you can you reolink if you like. I have HA automations turning my path lights on during the night, it works absolutely awesome and serves as a great deterrent. I saw a few guys running away from my property at night. The cameras work in IR, so there is no light pollution, the lights turn on only when a person is detected.', 'Diligent_Oil6245: Thanks.  I’m using addition NVR software, non-frigate.  So mostly after what native HA can do for triggers.  I have some alerting / recording via my NVR software for analytics.  \n\nAre the standard analytic alerts supported well in HA?   The Duo 2 looks interesting for wide coverage, but the floodlight model seems a bit underpowered.', 'louislamore: Can Reolink provide continuous detection like frigate, ie as a binary sensor. So, if someone is detected in a room, the lights will stay on.', 'raw65: Sensor size is what matters for low light.  Dahau (also sold rebranded as EmpireTech and Loryta) offers fairly good price/performance for low-ish light.  Built-in detection works very well.  Compatible with Frigate as well.', ""lukerwry: I use both reolink cameras for security and frigate for person detection automations (lights). I've used wyze, the Samsung cam, and blink in the past. I can definitely recommend reolink for use as a security camera, the AI person detection has been just about perfect for me, and the on camera AI chip is almost instantaneous. Plus they tend to be priced well. I use frigate for light automations since it's a lot more flexible, but the out of the box detection can have some false positives until you tune your config. One thing to note about older reolink models is that some of them don't work that well with frigate, but I think the firmware on the newer models has improved that."", 'Diligent_Oil6245: So, for person triggers just with Reolink to HA, it will work for basic stuff?', 'lukerwry: When the person detection on reolink triggers it does it on movement, then clears in about 30 seconds. So if someone walks into an area it triggers, then if that person stays motionless it clears. For me this works for security purposes. For frigate the person detection stays set even if there is no motion, hence the reason for using frigate for lights.\n\nFeel free to PM me if you end up getting a reolink setup and run into questions when setting it up with HA.', 'Diligent_Oil6245: Thanks!   I’m going to order a Duo 2 and their PoE Doorbell.  I have a lot of camera experience, but more on the profession end of cameras.', 'tungvu256: im confused.  how does a Reolink NVR/camera pass the AI person detection to HA?  what integration are you using?', 'lukerwry: The HA reolink integration has binary sensors for detection events. https://www.home-assistant.io/integrations/reolink/\n\nPersonally, I set up my camera a few years ago and had some problems with the reolink person detection from the HA integration. My solution was to use a rest senser that quiries the camera directly every two seconds for the person detected status', 'tungvu256: oh, i did not know ha integration can work with reolink AI. that should definitely help those who cant get the Coral chip.\n\nn just in case, i have issue with the integration, could u please share the link for this rest sensor?', 'lukerwry: Forsure, the documentation is at [https://www.home-assistant.io/integrations/sensor.rest/](https://www.home-assistant.io/integrations/sensor.rest/)  \n\n\nMy specific config is:\n\n  \n`- platform: rest`\n\n  `name: <ENTITY NAME>`\n\n  `resource: http://<CAMERA IP>/cgi-bin/api.cgi?cmd=GetAiState&rs=&user=<REOLINK USER>&password=<REOLINK PASSWORD>`\n\n  `method: GET`\n\n  `value_template: ""{{ value_json[0].value.people.alarm_state }}""`\n\n  `scan_interval: 2`\n\n  `device_class: motion`', 'tungvu256: thank you for the sample!  i find that more helpful than the link itself  :-D']"
1681390617.0	13-Apr-2023 05:56:57	Help with wait for notification action on Android	kaizokudave	1	12ko9pz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ko9pz/help_with_wait_for_notification_action_on_android/	"Edit:

&#x200B;

So there were two problems.

1. u/shakuyi helped me out, the toast notification of ""Failed to Notify HA of picked option"" was due to a TLS issue as part of my migration from DuckDNS to Nabu Casa. The problem was on the companion app I had picked the ""Use Home Assistant Cloud"" so it hid the URL. To resolve, I needed to uncheck the Use HA Cloud button, change the URL to my Nabu Casa URL and then turn it on again. No more toast.
2. The second issue was in my code, the action: REMINDER needed to have quotes on it:

&#8203;

    action: ""REMINDER""

&#x200B;

&#x200B;

So, I've been working on this for a couple days and can't figure out what I'm doing wrong.

Use case: It's 8PM, Home Assistant looks and see if my chicken door is open, if it is, I want two actionable notifications:

1. Open the Chicken Cam
2. Remind me in 15 minutes

I can get the camera to open just fine. The second part is where I'm having a problem. I see the option, but every time I click it I get a toast message that says ""Failed to Notify HA of picked option."" Going into the developer tools and looking for events shows nothing. (Though, I can fire one from the dev tools and it shows).

&#x200B;

So, I'm left trying to figure out what I'm doing wrong.

Here's my code. The action REMINDER should be the one that fires.

    alias: Test Notification Chickens Action
    description: """"
    trigger: []
    condition: []
    action:
      - service: notify.mobile_app_david_s_s22
        data:
          message: Test Chickens
          data:
            actions:
              - action: URI
                title: Open Camera
                uri: /lovelace-cameras/chickens
              - action: REMINDER
                title: Remind me in 15min
      - wait_for_trigger:
          - platform: event
            event_type: mobile_app_notification_action
            event_data:
              action: REMINDER
        timeout:
          hours: 0
          minutes: 1
          seconds: 35
          milliseconds: 0
        continue_on_timeout: false
      - delay:
          hours: 0
          minutes: 2
          seconds: 0
          milliseconds: 0
      - service: notify.mobile_app_david_s_s22
        data:
          message: Test
          title: Test Title for Chickens
          data:
            actions:
              - action: URI
                title: Open Camera
                uri: /lovelace-cameras/chickens
              - action: Reminder_15min
                title: Remind me in 15min
    mode: single"	20	"[""loujr15: Remove the timeout option and see if that will work. Don't see a reason to have a timeout option following by a delay."", ""loujr15: When I use wait for trigger, I don't use the timeout option, and everything only triggers once. I also noticed you don't have an action setup to trigger your reminder event.\nYour event won't trigger when you press the button cause it is not doing anything."", 'loujr15: I followed the same example when I started and ended up here. Hopefully, this will help do even more and give you a better understanding of what you want to do.\n\nhttps://companion.home-assistant.io/docs/notifications/actionable-notifications/', 'shakuyi: The timeout is waiting for 1 minute, if there is a delay in sending the notification or a delay in sending the action its not enough time to wait. If you feel it is enough time to wait then its possible the action is failing to send. Have you checked the companion app logs to see if the event is being sent to HA properly?', 'loujr15: alias: Test Notification Chickens\ndescription: """"\ntrigger:\n  - platform: time\n    at: ""20:00:00""\n    id: Check Chicken Coop Door\n  - platform: event\n    event_type: mobile_app_notification_action\n    event_data:\n      action: Reminder\n    id: Reminder\ncondition: []\naction:\n  - choose:\n      - conditions:\n          - condition: trigger\n            id: Check Chicken Coop Door\n        sequence:\n          - service: notify.mobile_app_my_phone\n            data:\n              message: Test Chicken\n              data:\n                actions:\n                  - action: URI\n                    title: Open Camera\n                    uri: /lovelace-cameras/chicken\n                  - action: Reminder\n                    title: Remind me in 15 mins\n      - conditions:\n          - condition: trigger\n            id: Reminder\n        sequence:\n          - delay:\n              hours: 0\n              minutes: 0\n              seconds: 5\n              milliseconds: 0\n          - service: notify.mobile_app_my_phone\n            data:\n              message: ""Your 15 min reminder ""\n              data:\n                actions:\n                  - action: Reminder\n                    title: Remind me in 15 minutes\n                  - action: Cancel\n                    title: Cancel\nmode: single\n\nI use automation depending on what I\'m doing.  \n\nI took your automation and tweak it a little. So,  when it is 8 pm, you will get your notification to open the camera feed or a reminder (delay). Hit the reminder button and your 15 min wait time will start and after 15 mins is up you will receive a new notification to either extend the 15 minutes or Cancel. \n\nAutomations like these I tend to use trigger id\'s and choose action to put everything in one place instead of doing multiple automations.', ""kaizokudave: Isn't the timeout function so the Automation isn't always running? Like, if there wasn't a time out, wouldn't HA always be running the same automation in the background if we didn't respond? (As in I just dismissed the notification.)\n\n&#x200B;\n\nAlso, just tried it and it didn't have any impact."", ""kaizokudave: Yeah, I'm following this YT example:\n\n[https://youtu.be/v8fcwhko1k4?t=367](https://youtu.be/v8fcwhko1k4?t=367)\n\nBasically, the delay will be the 15 minute timer. So, the wait\\_for\\_event is supposed to pause execution until an action is taken. One you press the REMINDER it's supposed to continue on processing the automation.\n\n&#x200B;\n\nThe bottom potion, is just supposed to end it one the second alert (I haven't finished that logic yet.)"", 'kaizokudave: So, should we be running scripts or should we be running automatons?', ""kaizokudave: Yeah, I grabbed some but they're hard to track:\n\n    \n\nHere's what I found in the Notifications:\n\n&#x200B;\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: Unable to fire event.\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: io.homeassistant.companion.android.common.data.integration.IntegrationException: javax.net.ssl.SSLException: Unable to parse TLS packet header\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat io.homeassistant.companion.android.common.data.integration.impl.IntegrationRepositoryImpl.fireEvent(IntegrationRepositoryImpl.kt:334)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat io.homeassistant.companion.android.common.data.integration.impl.IntegrationRepositoryImpl$fireEvent$1.invokeSuspend(Unknown Source:15)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat [kotlinx.coroutines.DispatchedTask.run](https://kotlinx.coroutines.DispatchedTask.run)(DispatchedTask.kt:104)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat [kotlinx.coroutines.internal.LimitedDispatcher.run](https://kotlinx.coroutines.internal.LimitedDispatcher.run)(LimitedDispatcher.kt:42)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat [kotlinx.coroutines.scheduling.TaskImpl.run](https://kotlinx.coroutines.scheduling.TaskImpl.run)(Tasks.kt:95)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat [kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run](https://kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run)(CoroutineScheduler.kt:664)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: Caused by: javax.net.ssl.SSLException: Unable to parse TLS packet header\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat com.android.org.conscrypt.ConscryptEngine.unwrap([ConscryptEngine.java:807](https://ConscryptEngine.java:807))\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat com.android.org.conscrypt.ConscryptEngine.unwrap([ConscryptEngine.java:747](https://ConscryptEngine.java:747))\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat com.android.org.conscrypt.ConscryptEngine.unwrap([ConscryptEngine.java:712](https://ConscryptEngine.java:712))\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat com.android.org.conscrypt.ConscryptEngineSocket$SSLInputStream.processDataFromSocket([ConscryptEngineSocket.java:858](https://ConscryptEngineSocket.java:858))\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat com.android.org.conscrypt.ConscryptEngineSocket$SSLInputStream.-$$Nest$mprocessDataFromSocket(Unknown Source:0)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat com.android.org.conscrypt.ConscryptEngineSocket.doHandshake([ConscryptEngineSocket.java:241](https://ConscryptEngineSocket.java:241))\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat com.android.org.conscrypt.ConscryptEngineSocket.startHandshake([ConscryptEngineSocket.java:220](https://ConscryptEngineSocket.java:220))\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.connection.RealConnection.connectTls(RealConnection.kt:379)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.kt:337)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:209)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat [okhttp3.internal.connection.RealCall$AsyncCall.run](https://okhttp3.internal.connection.RealCall$AsyncCall.run)(RealCall.kt:517)\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat java.util.concurrent.ThreadPoolExecutor.runWorker([ThreadPoolExecutor.java:1137](https://ThreadPoolExecutor.java:1137))\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat [java.util.concurrent.ThreadPoolExecutor$Worker.run](https://java.util.concurrent.ThreadPoolExecutor$Worker.run)([ThreadPoolExecutor.java:637](https://ThreadPoolExecutor.java:637))\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tat [java.lang.Thread.run](https://java.lang.Thread.run)([Thread.java:1012](https://Thread.java:1012))\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \tSuppressed: javax.net.ssl.SSLException: Unable to parse TLS packet header\n\n04-13 10:41:51.779  8016  8923 E NotifActionReceiver: \t\t... 27 more\n\n04-13 10:41:51.784  8016  8016 D CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10357; state: ENABLED\n\n04-13 10:41:51.801  8016  8016 V Toast   : show: caller = io.homeassistant.companion.android.notifications.NotificationActionReceiver$onReceive$onFailure$1.invoke$lambda$0:88 \n\n04-13 10:41:51.802  8016  8016 V Toast   : show: isFocusInDesktop = false mCustomDisplayId = -1 isDexDualMode = false isActivityContext = false"", ""kaizokudave: Thanks! Reddit seems to have screwed with the formatting but I'll try and parse it out."", 'shakuyi: scripts are the same as the action sequence of an automation\n\n[https://www.home-assistant.io/docs/scripts/](https://www.home-assistant.io/docs/scripts/)', 'shakuyi: >04-13 10:41:51.779  8016  8923 E NotifActionReceiver: io.homeassistant.companion.android.common.data.integration.IntegrationException: javax.net.ssl.SSLException: Unable to parse TLS packet header\n\nTLS issue, you will need to correct your SSL in order to fix the event being sent.', 'kaizokudave: Great! And crap.. just migrated from ducksns to nabu. Lol. Thanks!', ""shakuyi: you switched the URL to nabu casa? Then double check the companion app settings to make sure the correct URL is used you shouldn't hit any SSL errors using NC remote."", 'kaizokudave: There is no URL in the connection, it\'s just a slider now when enabled:""Use Home Assistant Cloud""\n\nObviously when I click that off it\'s replaced with my old URL.\n\nUpdate:\n\nSo, I unchecked the ""Use Home Assistant Cloud"" and put in my URL. No longer getting the toast. Seeing if it still runs.', 'shakuyi: turn it off, replace the URL there then turn it back on to cloud. There are some cases where the URL is not saved correctly and the old URL is kept', ""kaizokudave: Okay, the good news is that fixed the toast message. Bad news is it still doesn't work! lol. But that's probably cause my automation. It doesn't appear to be firing the mobile\\_app\\_notification\\_action as I dont' see it on my dev console. Thanks so much though! Never would have guessed that.\n\nDOUBLE EDIT!\n\nGot it!\n\n1st problem was what you solved. Second problem is my action: REMINDER needed to have quotes on.  I'm now seeing it hit on the events list and in the automation it shows the wait as triggered! Now to get it to run the delay."", 'kaizokudave: Yup! Sorry I tried it right before I sent that message. Just trying it with my NC URL right now to see if it completes running.', 'shakuyi: awesome glad you were able to solve it :)', 'kaizokudave: Thanks again!']"
1681389984.0	13-Apr-2023 05:46:24	"Error response from daemon: Get ""https://registry-1.docker.io/v2/"": dial tcp XXX.XXX.XXX.XXX:443: connect: network is unreachable"	Ok-Statistician5512	0	12knync	homeassistant	https://www.reddit.com/r/homeassistant/comments/12knync/error_response_from_daemon_get/	"Dear community

I was trying to update an Mosquitto Addon on Homeassistant OS and I am getting following error:

Error updating Mosquitto broker: Can’t install  homeassistant/amd64-addon-mosquitto:6.2.0: 500 Server Error for  http+docker://localhost/v1.41/images/create?tag=6.2.0&fromImage=homeassistant%2Famd64-addon-mosquitto&platform=linux%2Famd64:  Internal Server Error (“Get “[https://registry-1.docker.io/v2/](https://registry-1.docker.io/v2/)”: dial tcp [XXX.XXX.XXX.XXX:443](https://XXX.XXX.XXX.XXX:443): connect: network is unreachable”)

Does somebody knows how to fix this?"	5	['sleekelite: It means your local network is broken.', 'Ok-Statistician5512: What do you mean with broken?  \nping to other websites works without problems', 'sleekelite: It’s trying to read some address that you redacted and it can’t reach it.', 'Ok-Statistician5512: Thanks man, that was it...\n\nI am using two different network adapters to separate the sensor network from my internet network and I had a misconfiguration there.\n\nNow it works again!']
1681387409.0	13-Apr-2023 05:03:29	RTSPtoWeb-WebRTC integration remote	Witty_Music_9101	2	12kmpfh	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kmpfh/rtsptowebwebrtc_integration_remote/	I have the RTSPtoWeb-WebRTC integration and add on, but it only works locally, does anyone know how to make it work remotely? Or is there a better way to view cameras remotely?	0	[]
1681386964.0	13-Apr-2023 04:56:04	Check Mac mini status	SLsnkrslvr	0	12kmhis	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kmhis/check_mac_mini_status/	"Hi

I am using a Shelly 1 PM behind an electrical outlet in my office. My Mac mini, monitor and other things are connected to the outlet.

I would like HA, after the sunset, to check if I forgot my Mac turned on and if it's off, turn the Shelly off, if it's on then do nothing.

i have install the HA app on the Mac, and there's an entity to check if the app is open or not. But it's related only to the app, not to the Mac."	10	"['Leading_Release_4344: Does the Shelly monitor power usage? I have a plug that does but I’m not sure how specific your particular model is. Also, I bet you could ping it', 'kunigit: Misread your second paragraph sorry..\n\n\nIf you want to shut down the mac if it was left on, this is still the best option:\n\nhttps://support.apple.com/guide/mac-help/schedule-your-mac-to-turn-on-or-off-mchl40376151/mac', 'ttgone: https://www.home-assistant.io/integrations/ping/\n\nYou’ll want to set/reserve a static IP for the machine and probably as a safety make sure the binary sensor is in the off state for a minute or something before actually turning off the power', 'Leading_Release_4344: Why do you want to do this out of curiosity? Is it a cost savings measure? If it is, I can’t imagine a Mac mini taking up lots of power if it’s already off.', ""SLsnkrslvr: yes, Shelly monitors power usage.. thanks for your question - I already figured out what you're referring to.. check power usage when Mac is on, and when is off.. create automation based on that data"", ""SLsnkrslvr: nobody said to yank power from the computer.. it's exactly the opposite: yank the power from the outlet ONLY if the computer is OFF. If the computer is ON, the automation should not yank power from the outlet.\n\n&#x200B;\n\n&#x200B;\n\nEDIT: my intension is to have 2 monitors, and a docking station without power when not necessary."", 'SLsnkrslvr: Thanks mate, this is probably the best way.', 'Leading_Release_4344: Yep. Sorry I didn’t explain it super well! You def could do something else too, but I think that should be decent.', 'kunigit: Yeah, edited my comment.']"
1681386283.0	13-Apr-2023 04:44:43	pass variable from a sensor state to a shell command	Wise-Cash1628	1	12km67f	homeassistant	https://www.reddit.com/r/homeassistant/comments/12km67f/pass_variable_from_a_sensor_state_to_a_shell/	"Hi everyone,

I have setup my home assistant to access my host via ssh successfully. I am currently trying to create a script running a shell command using a sensor state as dynamic variable. I am not sure it is feasible.

My shell command is defined in the configuration.yaml, but it is not working :

    unban_ip: ssh -i /config/.ssh/id_rsa user@host_ip 'sudo docker exec -it fail2ban fail2ban-client unban ""{{ states('sensor.fail2ban_npm_docker') }}""'

I am stuck here, I am pretty sure that I have to setup my script in yaml, something like this :

      - service: shell_command.unban_ip 
        data: 
            entity_id: sensor.fail2ban_npm_docker
            source:  {{ states('sensor.fail2ban_npm_docker') }}

I am  a bit lost :D

Thanks for your guidance :)

EDIT :  I had to remove the t option in *sudo docker exec -it* and it just worked then .

&#x200B;

# "	2	"[""datumerrata: I don't have an answer, but you might try simplifying it for testing. You could start by echoing to a file. That should prove if your triggers are working."", 'Wise-Cash1628: I just figured it out running the command into my hass console in portainer.\n\nI had to remove the t in  sudo docker exec -it  and it just worked then :)']"
1681385872.0	13-Apr-2023 04:37:52	Best OS for home assistant core on Docker and mini PC	marcuz_90	0	12klzod	homeassistant	https://www.reddit.com/r/homeassistant/comments/12klzod/best_os_for_home_assistant_core_on_docker_and/	Hi everyone, I'm going to set-up a tiny server on a mini pc (i5 6500 + 8gb ram). What OS would you suggest? I'm considering window 10, Ubuntu 22.04 or Debian 11. I'm very experienced with windows, less with Ubuntu and even less with Debian. I'm looking for an energy-saving os solution, but I'd like to use the server for other stuff (not only HA) in the future. Any suggestions?	20	"['Pabsilon: For Core only, it doesn\'t matter really what distro you go for. It only really matters if you go for supervised on docker, which is only supported on Debian. And I don\'t like it because it requieres to run ""alone"" in your stack.\n\nIf you have little experience with Linux, I\'d say to go for Debian.', 'DustyChainring: I’m using Ubuntu on a Lenovo SFF with 16gb RAM. \n\nI’m running Home Assistant in Docker, along with about 20 other containers - Jellyfin, Sonarr, Radarr, Vaultwarden, Authentik, Esphome, Portainer and others. Everything is exposed externally and protected using Nginx from the SWAG container. \n\nInsanely rock solid.', ""mrtramplefoot: Unless you're going to be running things other than HA on the pc regularly, I'd go with something more energy efficient just to run HA on, then spin that up when you need to do something else.  Tiny PCs with like a pentium j3710 are dirt cheap, 1/10th the tdp of that i5, and still more than powerful enough for HA, unless you're trying to pull a bunch of cameras into frigate or something.  It'd also be easier to run and maintain as a bare metal server than virtualizing stuff on the other one and is isolated."", 'theNorrah: Proxmox.\n\nI have so much running on that.', 'dv8ndee: Ubuntu and Debian are fairly similar, i just setup Proxmox on a similar spec laptop so I can run other LXCs and run as HAOS supervised as a VM, one of dev community has a great set of auto install script making it painless \n\nhttps://tteck.github.io/Proxmox/', ""clintkev251: Either Ubuntu or Debian would both be good choices (Ubuntu is Debian based, so the two are very similar, just think of Debian as a little more barebones). I wouldn't recommend Windows, Docker on Windows isn't a perfect experience"", ""HardlyThereAtAll: I would suggest you don't do this.\n\nYou need to use Proxmox - which is a linux distribution (based on Debian) that hosts multiple containers/VMs.\n\nI have a very cheap Chinese Intel NUC knock-off ($145 on AliExpress), and which runs Proxmox, and on which I host four VM/Containers: Home Assistant OS,  Zigbee2mqtt, Mosquitto, and Home Bridge. (It also has a Lubuntu instance.)\n\nProxmox has a great web interface, so - after initial setup - you never need to have it connected to a screen. And it's very easy for even a newbie to use."", ""marcuz_90: What's the difference between supervised and core only? \n\nI have little experience with Ubuntu."", 'DustyChainring: Just checked server stats, I’m streaming a show over Jellyfin and am using ~6gb of RAM and 3% CPU right now. \n\nJust double checked and I have 23 containers running. That’s not counting the local/baremetal installs of Pi-Hole and Unifi Controller running on that machine.', ""marcuz_90: Yeah, I was considering raspberry pi initially, but it's really expensive nowadays. Eventually I got this mini pc for free from work, so I decided to make a full server for other stuff (like a small web server, media center and so on)"", 'nachopotatos: This is the way', 'tiberiusgv: This is the way', 'marcuz_90: Sounds interesting.... Why proxmox with an additional level of virtualization instead of a plain Linux+Docker?', ""Pabsilon: Supervised is the 'same' as what you install when you install HAOS. It's marked as 'the most difficult to mantain' because you have to take care of dependecies yourself, but in exchange, it gives you the supervisor and the hability to install addons.\n\nTo be honest, it's a lot better to run core in docker and if you need more things (like the mqtt broker), you just spin up another container."", 'bitzap_sr: Linuxserver (the SWAG guys) has a Unifi Controller container as well.  Why not use it?', 'Stravlovski: I’d recommend running HA as a virtual machine on (for example) Proxmox. You can run your other services separately.', 'dv8ndee: Proxmox is linux with LXD, docker, VM etc ready to roll, I can share my hardware resources between multiple different instances and migrate them easily to another proxmox machines easily in the future.. \nIm not a linux guru, and spend enough time trying to get all my different systems working together, let along the  system they are running on!\nPlenty of options, some better than others, but really its what fits my lab and helps we learn to walk before I can run', 'marcuz_90: Ok I got it, tyvm!', ""DustyChainring: Just haven't gotten there yet :)  \n\nI was trying to get Pi-Hole working as a docker container first, no real specific reason other than I started working on it first.  I can bring it online and restore my Teleport settings, and clients on the network get responses to their DNS queries, but neither my host nor my docker containers were getting responses and I can't figure out why.  Every few weeks I try again but have been considering starting in on the Unifi one just to get it done,"", 'marcuz_90: Ok, tyvm!']"
1681384723.0	13-Apr-2023 04:18:43	Recommendations for a local smart thermostat	Bucc21	6	12klgbq	homeassistant	https://www.reddit.com/r/homeassistant/comments/12klgbq/recommendations_for_a_local_smart_thermostat/	"Hello there.

I'm looking for a smart thermostat for my (soon-to-be) home. I'd like a device that works completely locally, or as much as possible. Since I live in Europe, Ecobee is not an option.

The models I've been looking into are:

* [Plugwise Anna](https://www.bol.com/be/nl/p/anna-slimme-thermostaat/9200000038466249/)
* [Honeywell Lyric T6](https://www.bol.com/be/nl/p/honeywell-lyric-t6-smart-thermostat-noir-filaire/9200000065991759/) (Y6H810WF1005, it does not seem to be the zwave version often mentioned in this sub)

Other models like Google Nest, Netatmo or Tado are available but from my understanding they are cloud based.

Does anyone have experience with either of them?

Thanks a lot!"	34	"['mccmax95: I use ecobee with the homekit integration which makes it local haha', 'might_and_magic: I have smart temperature and humidity sensor in every room. I used a single electromagnetic relay to close the circuit on my Vaillant gas heater and built in Home Assistant thermostat integration. An awesome feature it gives me is that I can combine multiple temperature sensors (with entity helper) and make sure that in any room I want temperature 🌡️ cannot fall less that a given value. For instance at night a temperature in my and my kids bedroom cannot fell lower that a set value.', 'ZAlternates: I had never heard of Venstar until I got one but the one I have is nice. It has both a local API and a cloud API for their app, but you can block it from the internet and it works fine regardless. It has the look of a traditional thermostat too, which is a pro to some people. \n\nhttps://venstar.com/thermostats/colortouch/', ""Rotilho: After a lot of research I ended up settling for a very DIY solution.\n\nI'm using OpenTherm Gateway to control the boiler directly without any thermostat and each room has a valve and a temperature sensor.\n\nI use the generic thermostat from home assistant to open and close the valve based on the temperature sensor and I control the boiler using a custom weather compensation algo I came up with.\n\nI also created a blueprint that uses a proximity sensor and hours to set an active temperature, away temperature or setback temperature."", 'Miraakkeli: I have heatit z-wave thermostats. Works like charm.', ""trantoriana: It depends what kind of heating system you have. Unless you can interact directly with that heating system a smart thermostat will be reduced to a on/off type of operation.\n\nIn that mode what do you need that is 'smart'?\nOr the other way around.. what do you expect the 'smart' thermostat will help you with?\n\nIf your goal is to control schedules and temperature settings via home assistant, your thermostat does not need to be smart. Perhaps a integration with your current heating system is better suited than investing in a smart thermostat."", 'krulbel27281: The Plugwise Anna thermostat is a great choice! It works 100% local and has a great integration with Home Assistant. Also: head developer Frenck has the same thermostat at home, so the integration will also in te future most likely work very well', 'avidnumberer: I gave up on anything like that. What does a thermostat bring to the table?\n\nMuch more reliable getting smart heating/cooling devices I think. We recently did our house and went with Adax heaters and AUX ACs. Both have local integrations with HA. They’ve been running for about two years with no issues.\n\nYou then get temperature sensors and do your automations if you wanted to.', 'Wel_ok: I have tado. Had it before HA and its integration is cloud based.\nMy reason for tado is the ability to set a temp per room.\n\nWith HA i can read a calender and start heating the rooms in the morning based on the irregular schema we both have for work.', ""mrtramplefoot: I'll plug another option, I have a centralite pearl.   It was dirt cheap, zigbee, and works fine."", ""earthqaqe: Tado works locally via HomeKit. It also has a cloud integration with more features (mainly the cloud features, like Home/Away and Window Open Sensor, which you don't really need). Works perfect for me.\n\nYou will have to set it up via the Tado app though I think."", 'Original-Psychology: I use Tado, but with the default Tado integration, so via their cloud. This only to control their Theromostats the logic is in HA. \n\nDid not want to install HomeKit only for Tado. It works like a charm, if their cloud ever goes unavailable I will just use the physical thermostats for a bit.', 'Not-An-Astronaut-69: I use the Sensi touch with HomeKit integration, 0 issues and has worked great for almost a year now', ""zer0545: I plan on using Homematic (ip) with local control through the ccu3 gateway. Don't know if that is available in your region though. Seems to be relatively widely used in Germany."", ""ufgrat: Any reason you're not interested in the T6 Pro Z-Wave?  Not only does it work well with HA, it's a very good thermostat on it's own, and functions as a temperature / humidity sensor for HA."", 'cultivatingmass: If I had to start from scratch I feel like I\'d still get the ecobee. Homekit integration is flawless and the software works well with the room sensors paired around the house so I don\'t have to do much custom writing of scripts/automations.\n\nOnly thing I have that isn\'t stock ecobee is set the device to home/away based on our status (and a ""Guest Mode"" toggle) in Home Assistant because the geofencing only allowed for a single user last time we tried it. I think they may allow multiple users now though?', 'ams3401: I second this. I just blocked the outgoing connection of Ecobee and made it stay LAN only', 'iknowcraig: Nice, what sensors you using?', 'Narrow-Chef-4341: Smart thermostats are much better purchase than simply connecting two relays and using HA for the logic.\n\nYes, they turn on either heat or A/C (or possibly both depending on where you live). But it’s more than that. \n\nThey have logic to prevent short cycles, which burn out equipment exponentially faster. They prevent attempting to run both heat and cooling simultaneously. They can be removed and upgraded much more cheaply than entire heating units. \n\nSmart thermostats are ‘dumb enough’ that you sell them with the house when you move, and new buyers are happy. You don’t have to convince a prospective buyer that it’s ‘easy to learn HA’ so they should ‘pick up HA as a new hobby’… uhhh… \n\nAs the most junior member of the ‘industrial controls’ category, smart thermostats also a lot more likely to have redundancy built-in and higher tolerances for heat, moisture, etc. They’re also certainly UL/fire rated. I’m not a fire marshal, but I’ve never heard of a thermostat melting into a wall. When it comes to relays, however…\n\nHaving a dedicated control that displays accurate information about the intended temperature and system status is priceless when it comes to spouse approval factor (SAF), guests or house sitters. If your babysitter can’t figure out how to turn up the temperature, your kid is going to feel chilly all night.\n\nNobody in the HA sub needs to use the built in logic for managing modes, they just get a compatible system and use HA when needed. \n\nSide note: How do you do a smart integration with a dumb thermostat, anyways? Hotwire the buttons? Mount a small servo to the wall next to the dial? Take away all functionality so that it doesn’t immediately revert all of the work your HA logic just did, leaving it as a bulky temperature display with the misleading existence of buttons? I’m… particularly confused by that advice.', ""WWGHIAFTC: The smart thermostat provides the means for integration into HA for homes with no other way. Obviously. \n\n I have wall heaters only.  Without a smart thermostat I have no control in HA. I could use nice digital thermostats with schedules and no connectivity, but would lose out on automation adjustments related to sporadic away days,  or ensuring the heater doesn't run if I'm in Movie Mode (noisy fans are annoying) and other adjustments outside of basic thermostat schedules.  \n\nI don't want simply on/off functionality in general.  I still want the thermostat to handle the basics like minimum run time and hysteresis."", ""mrtramplefoot: I think a lot of (if not the vast majority of) people are not willing to replace a perfectly good, working, HVAC system, just to get smart features.  If you need a new HVAC system or it's a new build, sure, look at smarter options.  \n\nFor the rest of us, a smart thermostat will still give us some useful things.  For example, if I open a window or door for more than 2 minutes, I have an automation that turns off the HVAC.  I can also setup eco temps for when we're not home and have the thermostat adjust the temperature based on our bedroom temperature when we go to bed."", 'pobbin: I have Tado too, but use the HomeKit integration to control it locally. Have a routine set up using helpers and an input Boolean to allow us to Boost the heating if required. \n\nI’ve got another helper which takes an average temp of the rooms with motion in, so that if it’s above our target, the heating will turn off. \n\nWorks great, though the hot water is still controlled through the tado app, but it’s on a few hours a day so nothing worth making smarter.', 'vlamofiel: So you control Tado in Home Assistant via HomeKit? I am currrently using the Tado integration, but when the connection goes down, so goes my ability to control Tado.', 'BudgetZoomer: Mine occasionally drops out, but it always resolves itself so it’s never been a big deal breaker.', 'brendenbus: I actually am able to set Away on the Ecobee using HA (ecobee added to HA using HK)\n\n&#x200B;\n\nHowever the setting on the Ecobee for ""Hold Duration"" has to be set to ""Until you change it"", if not when the action runs it just sets your away temp. But with ""Until you change it"" set, it will actually set the Away profile and you will see ""Away for now"".\n\n&#x200B;\n\nFor the action:\n\n`service: select.select_option`\n\n`data:`\n\n  `option: away`\n\n`target:`\n\n  `entity_id: select.thermostat_current_mode`', 'might_and_magic: Xiaomi LYWSDCGQ', ""WWGHIAFTC: Yeah I don't get what he's saying at all."", 'trantoriana: What I said was integrate with the current heating system. Not plainly adding two relays, hotwire anything, removing the current thermostat or mounting some servo on the existing thermostat. \n\nSmart thermostats functionality are hyped and many people running HA can do most of that functionally themselves using a number of standard HA functionality or even integration functions.\n\nBefore buying a smart thermostat you should consider what it is you want from such thermostat in terms of added value over a direct integration. Then determine whether a smart thermostat is the right solution for your problem.', 'trantoriana: OP seems to be in the Netherlands and a variety of heating systems are available over there.\nOP says nothing about whether or not a direct integration is possible.\n\nHowever, you are right that when no integration is possible than a smart thermostat will be the only option to get control into HA.', 'avidnumberer: That makes a lot of sense, thank you! We don’t do centralised heating like that here, so HVAC is something I didn’t even consider.', 'earthqaqe: Are you using the cloud integration or the HomeKit one?', 'M0neyLaundry: Exact same setup! 😀', 'mrtramplefoot: Ah, yeah, funny how stuff like that can be so different in certain places that what seems obvious to some people, someone else has never thought of.', 'vlamofiel: The cloud integration I believe.']"
1681380756.0	13-Apr-2023 03:12:36	Sony investment will put AI chips inside Raspberry Pi boards | Sony will provide its Aitrios on-chip AI image sensing platform.	FantasyMaster85	123	12kjssu	homeassistant	https://www.engadget.com/sony-investment-will-put-ai-chips-inside-raspberry-pi-boards-083503462.html		48	"['twin802: If only it were possible to buy raspberry pi boards', ""syko2k: After this investment, it'll be easy to get your hands on one for the low price of £180.  I joke, but I'm probably right about a base price increase"", 'salsation: Interesting bet by both. For all the Sony hate, their HW engineering has always been tops. No comment on the Pi hate...', ""OriginalPiR8: Over 18 months of zero stock aside from scalpers or asshole retailers at 50-100% markup.\n\nUsed thin client is faster, more compatible, idles not much higher in wattage, more expansion without bus saturation.\n\nI do wonder if the Pi is in the death throws (DIY community at least). We can't get em. They aren't really any good. They aren't cheap anymore. So all their benefits are gone."", 'svideo: A deal to include Sony IP on the RPi itself would be big news but...the word ""inside"" does not appear anywhere in the release from RPi and Sony.  By all accounts, this is simply a deal for Sony to make RPi hats.\n\nI think engadget is doing their usual bang-up job of tech journalism and not fully understanding the things they are reporting on.', ""rourke750: It says they're gonna send meta data to the cloud, guess gotta add some ips to my block list"", 'iammandalore: Cue an *even worse* shortage of Pis.', ""mrandish: I have two RPi4s and they are great but they've been completely unavailable to hobbyists for so long I now consider them irrelevant. If I need more or they stop working I'll do the work to switch over to an alternative SBC that is reliably available. \n\nThere are lots of SBCs based on the new RockChip RK3588 now available and it's a much faster performer. The 4GB OrangePi 5 is ~$85. I think it's time for the HA community to pick a couple of these alternate boards to release ready-to-run images for."", 'getridofwires: So hopefully there will be another group or company that will release hobby boards like the Pi.', ""thekabootler: Oh cool, improvements to something I won't be able to get my hands on for less than quadruple MSRP"", 'Khaaaaannnn: Nice!!! Now Assist can respond with “Sorry I don’t understand”, but with the power of an AI chip behind it\n(Just poking fun. I love the hard work the devs have been putting in)', '_Rand_: I loved it when I used to be able to buy stuff instead of every other thing I need being a damn treasure hunt.', 'FantasyMaster85: Just said this to another reply:\n\nIt’s been a LONG time since I’ve been in the market for a Pi, but I almost just fell out of my chair when I searched Amazon for a Pi and see that they’re over $230 for one with a kit and completely unavailable from any authorized retailer.', 'UnsafestSpace: I remember when they came free with magazines.', ""psybernoid: You're telling me. I live within 10 miles of the Sony manufacturing plant. Shame they don't sell directly from there."", 'wgc123: I just tried looking for updates on their supply chain situation and I really don’t see any new info since December\n\nThe rpilocator app does list some availability more frequently now but I never see any in the US and certainly never 4’s', ""S_A_N_D_: Nah, it will never be easy to get your hands on one. \n\nReality is they've abandoned the hobby/consumer market. Their focus is now commercial clients."", 'ductyl: I mean, that sounds like a discount from the current going rate for a pi anyway.', ""beanmosheen: I switched over to 5070's now and they're cheap."", ""greenknight: I'd bet it's a pcie peripheral like the direction coral has gone.  More data lanes?"", 'getridofwires: Inevitable I think.', 'FantasyMaster85: Is that even possible? Lol\n\nIt’s been a LONG time since I’ve been in the market for a Pi, but I almost just fell out of my chair when I searched Amazon for a Pi and see that they’re over $230 for one with a kit and completely unavailable from *any* authorized retailer.', ""Fillicia: At one point I just built myself an epyc 7543p based server because it was more cost efficient than running around searching for hardware that was non-existent or scalped to death.\n\nSo yeah, I ran frigate on cpu and it wasn't an issue anymore. Screw you google and your unavailable Corals."", 'CWagner: For most things (exceptions: needing the gpio ports or the form factor) you are better off getting a thin client refurbished. More powerful for less money (now, kinda the same back when they were available for rrp) and with pretty much the same power consumption.', 'cinghialino: Manufactured scarcity', 'ac2531: Adafruit gets a handful of 4s in stock a couple times a week, but they sell out instantly.', 'My_name_isOzymandias: I looked up that December blog post from raspberry pi, and it sounds like they expect normality in single unit inventory to start happen some time after June.', ""ExperimentalGoat: It appears so. Which really sucks because the original Raspberry Pi boards are what got me into Linux in the first place over 10 years ago. I've since had several career changes and a massive increase of income since then... This never would have happened if the Pi boards weren't $35 to start with.  The accessibility of these in the consumer market has been a godsend for a LOT of people."", ""put_on_the_mask: They haven't abandoned that market at all. They're just prioritising business customers while there's a backlog, because those customers are economically dependent on them in a way that hobbyists are not. Once supply is closer to matching demand, they'll be available to consumers again."", ""2mustange: Isn't it mostly due to supply chain issues and now demand commercially is to high. \n\nHopefully with all the new microchip manufacturing being built that we see some stabilization in the market"", 'mcbergstedt: Yep. They can charge more per board for commercial clients.', ""rourke750: Once windows 10 is eol and if windows 12 has cloud ai I'm moving to ubuntu."", ""iammandalore: The only ones I've been able to find are Picos."", 'FantasyMaster85: Wow, what an excellent suggestion. Again, something I haven’t been in the market for in a long time, but I just googled (for fun, and doing zero research) found I can get a 6th gen i7, 256gb SSD, 16gb RAM “thin client” (with keyboard and mouse) for ***fucking less*** than a RPi4 at $199…with a form factor about the length and width of an unsharpened No. 2 pencil, and 1.5” thick. \n\nThat’s…absurd…what in the hell happened to this space since the last time I needed to look around?\n\nI think based on this alone I’m going to upgrade my Plex server onto a thin client and put HA on it as well, and sell the Pi and essentially get myself a free upgrade and put the extra towards a Coral module lol', 'Blake_Volpex: Yep, though I have a couple projects planned where the software is only really available for the pi. I actually had to gut a couple other projects (and move those to x86 hardware) so I could use my old Pi4s that where bought before the ""shortage""', 'Mother-Wasabi-3088: Could you recommend one or more products to consider?', ""jtn76: Except that's been their line for a couple years now. There are now so many other more capable competitors nowadays in the same space that are not only less expensive but available. Their really awful marketing bungle last year sealed their fate with me."", 'Khaaaaannnn: My boss at my old job gave me a Datto backup box because “It’s a brick”. Thankfully Datto never changed the default bios password. I took it apart, installed a SSD and it’s been running fine for hass ever since. Added a coral USB card late last year and Frigate is also running like a champ. Pretty sure it’s the same board as a NUC in the box. \nOnly Pie I have just runs my reactive TV leds with Hyperion.', 'CWagner: Yeah, I run proxmox with HA, Jellyfin, and some smaller services on the S740 (2 SSDs) , I kept the PI4 to run proxmox backup server (mirrored to b2) and the PI3 is currently doing nothing but also not worth selling ;)\n\nI only realized this thanks to a German deal website that regularly posted pi alternative deals ;)', '0btuseMoose: I wanted to get a Raspberry Pi to run home assistant. Instead of paying 100 - 200 dollars for the Pi, I bought an Intel NUC for $50 of ebay. My NUC is way faster than the Pi would ever be.', ""bfodder: What thin client has an i7 and 16GB of ram in it? You sure you aren't just looking at a micro form factor  or ultra small form factor PC?"", 'mgrandi: I got a old apple Mac mini for 70$ on OfferUp and 16gb of ram for like 20, those think client sized computers are workhorses and way better at running things like HA and other container apps than a Pi, with just a bit more investment', 'CWagner: Huh, had not heard of such things. Casual interest: which software is that?', ""CWagner: Futron  S740 is what I got, they became so popular in Germany with selfhosters that the price almost doubled from 40 to 70€. Not sure if it's as available elsewhere. I didn't look into other options as I got mine for 36€ ;)"", 'put_on_the_mask: No, it’s been the line since April last year, and this isn’t a situation that can be resolved in a few months, nor is it unique to them. I’m still waiting for HP to fill an enterprise server order from March 2022.', 'morbidpete84: I’m also running my main Home Assistant in a Datto alto. The ones that are pretty much nucs. I called Datto as they changed the bios password (I sell their backups) great device. Have a few laying around.', 'FantasyMaster85: More than likely that’s exactly what I was looking at lol, like I said, I only did a very cursory Google. Didn’t look into any of the results apart from general size and components. I think I may have been looking at a “colloquial thin client” that was simply misusing the definition.  Regardless though, a small form PC that’s 7” long, 7” wide and 1.5” thick running what I mentioned for ***less than*** an RPi4 is…just gross (given the context of what the Pi did/was supposed to continue doing for the space).', ""CWagner: Yeah, those are very powerful, but are probably higher in power draw … Though I guess that doesn't matter unless you live in #1 cost of electricity Germany :(""]"
1681379116.0	13-Apr-2023 02:45:16	Linux versions on HA Blue (Odroid N2+ Bundle)	Abject_Peak_3925	0	12kj559	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kj559/linux_versions_on_ha_blue_odroid_n2_bundle/	New to this so wondering if I need to keep Linux versions updated on the bundled version of HA Blue from Odroid? If so then can someone let me know how I do this please as I don't think I have sudo access when I ssh in to the device. Thanks	3	['sleekelite: No, you install HAOS and keep that up to date.', 'Abject_Peak_3925: OK thanks. So I assume that is done directly through system updates on the HA console which are automatically notified ?', '4241342413: Yes']
1681376302.0	13-Apr-2023 01:58:22	Having odd network issues since moving my HA to an NUC utilising Hyper-V	mark364i	1	12ki25h	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ki25h/having_odd_network_issues_since_moving_my_ha_to/	"Recently moved from a Raspberry Pi3+ to an NUC with a core i3, 8gb RAM and a 200gb SSD. While performance has been an absolutely massive improvement I am getting odd what seem to be network dropouts a couple times a day.

I randomly won't be able to reach my home assistant URL, I have found though that if I RDP into my NUC and go to the URL it seems to wake it up. I can then reach home assistant on my external devices.


Additional info:

* My NUC is using a 5 GHZ Wi-Fi connection
* I have disabled ""Allow the computer to turn off this device to save power"" on the adapter
* I have disabled all the sleep options in the power plan settings, setting anything that turns off after x amount of minutes to 0.

The home assistant logs don't show me anything of any value, the only thing I have found is that these IOCTL begin and ends seem to appear in the event logs when it momentarily goes offline but I can't find much on these online.

https://imgur.com/a/mHZ2iqT

Anyone experienced anything like this before?"	3	"['username45031: Well, running on wifi is where I would start.', ""kenkiller: Don't use wifi"", 'lastingd: I second this. I used to get wierd drop outs on my Pi4, then upgraded to a ebay special Wyse thin client with a usb wifi adapter and still got wierd drop outs. Bit the bullet and cabled it up and the problem went away.']"
1681375852.0	13-Apr-2023 01:50:52	'New' old hardware build for Home assistant and Frigate-help in advance of build!	lunchplease1979	0	12khw6d	homeassistant	https://www.reddit.com/r/homeassistant/comments/12khw6d/new_old_hardware_build_for_home_assistant_and/	"Hi all

&#x200B;

I have currently got everything in one Unraid box wih an 11th gen i9, including about 25ish docker containers and a HA VM, and a gaming windows VM with a AMD GPU passed through.  Its got plenty of ram but even so it at times seems to struggle, esp if/when a cpl people are streaming video from my server and/or if Sabnzb is pulling some serious load!

Anyway,,,I had a cpl of sherberts a few nights ago and pulled the trigger on an old refurb SFF Intel i5 7500 with 8gb DDR4 Ram, and a 256gb ssd(I can and will upgrade at least hard drive capacity with a spinning disk, open to most everything else).  I was thinking of offloading Home Assistant and Frigate over there( I have 7 1080p cameras, may get 1 more but think Im done with the numbers there)...I failed to mention on this same night I also was watching a youtube video on USB Corals and...FML I also bought one of those....dont have your C Card around when you're in the mood for tech spending even on a budget lol(!!!)

So my question boils down to...Can I run(smoothly) a Home Assistant instance with Frigate(7-9 cameras) with a Coral USB, a Intel 7th gen i5 with any/many issues?  I do have an old Quadro p600 that I can put in there if needs be(I havent been able to get it passed through to the Frigate 0.12 so far in my unraid server

Final part of the question...what operating system?  Shall I Unraid again, or is there another better way that I havent thought about?

&#x200B;

Thanks for reading this far all, really looking forward to hearing your input

&#x200B;

PS Ram upgrade to 16gb necessary also?"	9	"[""nickm_27: That hardware should be fine as is, quadro would make it even easier but probably not necessary\n\nI run Unraid, couldn't be happier"", ""unrly: I run an HP SFF i5-6500t with 1 4k and 3 1080p cameras through a PCI-E Coral on HAOS. This device is dedicated to HA with Zigbee and Zwave sticks, so the native operating system makes sense since I don't want it touching the rest of my tinkering. Have had zero issues or slowdowns on this setup. You'll be in good shape."", ""lunchplease1979: I love unraid so a second instance I'm fine with....just wasn't sure if sober me was happy with what unsober me bought lol"", ""lunchplease1979: Thanks for trh reply. When you say the native operating system I assume that's windows?"", 'lunchplease1979: Sorry second follow up question also, how much ram do you have on that HP SFF?  Im wondering if adding another 8gb ram to make it 16 might be worthwhile but have no idea how much HA and Frigate would want to use....I wont be doing anything else on this machine I wouldnt have thought...maybe hosting backups of my main Unraid system bu that would just be using storage of any spinning disk I pop in there', 'unrly: Home Assistant OS is what I was referring to. In my few years using HA, I have realized that I definitely want a machine dedicated to just the home and no other purpose. If I need another device, these things are dirt cheap (think I got mine for $60) and I can always get another one running.\n\nIt has 8gb of ram and that does seem to be plenty, even with Frigate.', ""lunchplease1979: Thanks so much for trh reply and the info. Tbh I've only ever installed HA as a VM or docker container....will have to look into this more...I guess if I can install HA as an actually full OS I can then install Frigate from there....though not sure where that leaves compreface as I've found that far superior than deepstack for face detection"", ""unrly: You bet! The OS is a much easier experience with addons and such. I don't use face detection so I can't really speak to that part."", ""lunchplease1979: Awesome thanks so much for the info. I've dabbled only.thr last week or so maybe but it's pretty bloody amazing stuff....but think I can still run that part off of the server""]"
1681375418.0	13-Apr-2023 01:43:38	PCB Prototype Catalogue	Relevant_Opening_570	1	12khqhg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12khqhg/pcb_prototype_catalogue/	" This repository is the main catalogue for all PCB prototyped and publicly available on GitHub. There are now a total of **45** PCBs for smart devices, A.I. enabled, designed in KiCad, and ready to download, order fabrication at a PCB factory, or buy them on [Tindie](https://www.tindie.com/products/aeonlabs/) ready to install and use. 

  
In my PCB projects, I give preference to [EspressIF ESP32 line of microchips](https://s.click.aliexpress.com/e/_DepDnsn). However, designs are not limited to EspressIF. 

[https://github.com/aeonSolutions/PCB-Prototyping-Catalogue/blob/main/README.md](https://github.com/aeonSolutions/PCB-Prototyping-Catalogue/blob/main/README.md)"	0	[]
1681370069.0	13-Apr-2023 00:14:29	Alternative to IP Webcam integration?	reddit_redmi_1	0	12kfrmy	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kfrmy/alternative_to_ip_webcam_integration/	"I'm looking to turn my android phone into an IP webcam and link it with home assistant, but the official android app they list on their website looks kind if iffy. Not only does it collect pretty much everything including pictures, but it shares it with third parties. 

I was wondering if there's another android app I could integrate with home assistant that isn't such a big security concern"	2	"['None: [removed]', ""AutoModerator: Please send the RemindMe [as a PM](https://reddit.com/message/compose/?to=RemindMeBot&subject=Reminder&message=%5Bhttps://www.reddit.com/r/homeassistant/comments/12kfrmy/alternative_to_ip_webcam_integration/jg31au0/%5D%0A%0A!RemindMe%09Me%091) instead, to reduce notification spam for OP :)\n\nNote that you can also use Reddit's Follow feature to get notified about new replies to the post (click on the bell icon)\n\n\n*I am a bot, and this action was performed automatically. Please [contact the moderators of this subreddit](/message/compose/?to=/r/homeassistant) if you have any questions or concerns.*""]"
1681363144.0	12-Apr-2023 22:19:04	Button Cards broken after updated to 2023.4.3	jon8282	60	12kd2ff	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kd2ff/button_cards_broken_after_updated_to_202343/	"Hi All, 

I am admittedly still quite a bit of a novice with HA, but I have been making some nice progress with my dashboards lately. I just updated to 2023.4.3 from 2023.3.6 and all of my button cards are now blank. Everything is still there, but the icon and ability to push the button is gone. My dashboards now have blank space instead. I tried to create a new one, and it show up blank, and even when i go to the edit dashboard, add card, and part of that screen that shows button as an option appears blank as well.

Any help would be appreciated, hopefully it's something weird I am missing."	55	"['feelx88: There is actually a workaround I just found out mentioned in the related bug ticket: Change the number format from ""auto"" to something else in your user settings ([https://github.com/home-assistant/frontend/issues/16155#issuecomment-1506518235](https://github.com/home-assistant/frontend/issues/16155#issuecomment-1506518235))', 'noisytwit: 2023.4.4 has solved the cards issue for me.', ""Practical_Advance147: [u/PicoTrain2](https://www.reddit.com/user/PicoTrain2) button cards aren’t custom, they are part of the standard lovelace/dashboard. \n\nI'm having the exact same issue, i updated from 2023.4.2 to 2023.4.3"", ""_cool_username_: Muh buttons! It's not just you, I have the same issue.  2023.4.2 to 2023.4.3."", ""mini_juice: +1 here as well. Honestly, I'm glad to see this post. I thought I somehow deleted the entire stack of buttons 😅 6 buttons, 2 horizonal stacks, completely disappeared from 4.2 to 4.3. Rolling back fixed it 👍"", 'leptians: Yeah, definitely becomes an issue when I upgraded to  2023.4.3, all my buttons do not show.', 'Cezza168: Another +1. Rolled back to 2023.4.2 without issue. \nWeirdly the buttons I have configured to display humidity have been intermittently failing to display since 2023.4.1', 'wsdog: Never upgrade before the 20th of the month. Even better, be 1 month behind.', 'gggghhhhiiiijklmnop: Same issue here 😬', 'mrdead113: same for me, just lost all my buttons.\n\nnow do i wait for the fix or just roll back is the big question!', 'kamilein: +1 here :(', 'Mysterious-Bowler15: I only lost the buttons on my Android Tablet, PC and phone are ok', 'RetroButton: Same here. Only an empty card.', 'ICantUnderstandIt4U: Same here. They stopped working when I upgraded 2023.3.x --> 2023.4.1. Still broken on 2023.4.2. Have not yet upgraded to 2023.4.3.\n\nI have 4 button cards in a grid showing humidity sensors. The only one that appears is the one with the ""unavailable"" sensor. The other three just don\'t appear.', 'k1ngwart: Had this issue but was just able to fix it by reloading the cache in the browser. If using the mobile app try settings>companion app>debugging>reset front end cache.', 'Papaya_Redditor: I personally fixed it by changing the theme of HA to white and back to black.', 'danTHAman152000: I noticed my camera cards were blank after the update so I restored to the previous and they’re working again.', 'leptians: 2023.4.4 fixes it by showing the button. but I don\'t think it fixes everything.\n\nI find that the status of the device is not being updated.\n\nI\'m still using the changing the number format from ""auto"" to something else as the workaround for now', 'ZAlternates: I was able to *fix* this by toggling the “show state” option on buttons that weren’t visible.\n\nhttps://i.imgur.com/CnNiRM9.jpg\n\nEdit: it doesn’t appear to be working for others but it did for my three battery buttons so give it a try.', 'JCHHenderson: Have you cleared your cache?', 'PicoTrain2: If you are using any custom cards then make sure you update them if there are any updates for them and make sure to clear cache on your browser.', 'ma66ot87: Solved this by deleting the cache of the app. This also solves connection problems sometimes.', 'AgentFalcon: This worked for me. Thanks!', 'luximusprime56: This worked for me too, thanks!', 'sometin__else: This worked for me as well - was able to switch it back and it still works', 'andy2na: yep /u/jon8282 4.4 just came out a few hours ago', 'jon8282: Lol of course it has, I just rolled back a few hours ago', 'noisytwit: Same, lost my button cards for my lights, nothing custom about them just stock cards.', 'suckfail: They released 2023.4.4 and it fixed it (for me anyways).', 'jon8282: How do you roll back?', 'jon8282: Sorry to hear but glad it’s not just me', 'jon8282: Sorry to hear that', 'jon8282: Solid advice for users who have family using the system', 'ttgone: And then no one would report issues and you’d still have them. Have a good backup & restore strategy and you can do upgrades whenever convenient', 'jon8282: Sorry to hear, but glad it’s not just me', 'jon8282: Same for me, I’ve never done a roll back before so I’m a bit nervous', 'ICantUnderstandIt4U: Mine is ""fixed"" after changing my ""number format"" as suggested by u/feelx88.', 'jon8282: Thanks for that feedback I rolled back before I saw the update so I’ll just skip for awhile', 'leptians: by toggling ""show state"" does not work for me', 'jon8282: This does not work for me', 'jon8282: I have not, but this is an issue across all my devices that access the HA interface', 'jon8282: No custom cards affected, these are standard button cards or buttons in a horizontal stack', 'jon8282: Lol of course it has, I just rolled back a few hours ago', 'jon8282: Of course I just rolled back earlier this morning', 'mini_juice: Do you have backups setup? Settings > System > Backups?\n\nIf so, look for one labeled ""core_2023.3.6""\n\nSelect it.\n\nCheck the box next to ""Home Assistant (2023.3.6)""\n\nHit restore.\n\n\nEdit: 2023.3.6 not 2023.4.2. The idea is you restore from your most recent build before the broken update.', 'Cezza168: Usually a backup is taken automatically before each update. \n\nGo to system / backups\nClick on Core_2023.4.2\nTick the checkbox\nClick restore\nWait a few mins\n\nShould restart with previous vesion', 'wsdog: There are other people who live in my house and rely on HA working. They are not a testbed.\n\nAnd frankly I have little interest in chasing bugs in HA considering the governance attitude of HA.', 'ufgrat: Beta testing on production users.\n\nUpgrades are never convenient if they break everything.', ""JCHHenderson: Yes, on all my devices as well.\n\nClearing the cache in my browsers fixed it for them.\n\nI believe the Android app also has an option to clear the cache, but iOS devices don't so I had to delete/reinstall the app on those (ilo clearing the cache)."", 'jon8282: Thanks that worked for me', 'jon8282: Thanks that works for me', 'k1ngwart: You can reset cache in iOS!  settings>companion app>debugging>reset front end cache.', 'JCHHenderson: Oh, thanks for that!']"
1681358981.0	12-Apr-2023 21:09:41	Local Tuya Issue	slingkid	2	12kbdbb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12kbdbb/local_tuya_issue/	"I want to block all my Tuya devices from accessing the Internet, so Local Tuya to the rescue! I have set up all my devices under Local Tuya.

I then blocked Internet access to the Tuya devices on my router and I also restricted DNS queries using Adguard Home.

When I did the above, my Local Tuya no longer worked, and switches wouldn't respond anymore. Can someone point me in the right direction? Thanks

Update: As it turns out, blocking the Tuya device on my router (TP-link) actually blocks the device from connecting to it. (e.g. won't even connect to the WIFI), that is the reason that it didn't work, it could not even get on the WIFI to get a local IP address. I ended up blocking \*.tuyaus.com on the router.

&#x200B;

&#x200B;"	8	"['fiflag: From LocalTuya repo: NOTE 2: If you plan to integrate these devices on a network that has internet and blocking their internet access, you must also block DNS requests (to the local DNS server, e.g. 192.168.1.1). If you only block outbound internet, then the device will sit in a zombie state; it will refuse / not respond to any connections with the localkey. Therefore, you must first connect the devices with an active internet connection, grab each device localkey, and implement the block.\n\n\nNote from myself: Try to not buying tuya devices.', ""Node815: **USE THIS AT YOUR OWN RISK!**   This is a possible solution:  \n[https://github.com/tuya-cloudcutter/tuya-cloudcutter](https://github.com/tuya-cloudcutter/tuya-cloudcutter)  \n\n\nIt disconnects the device from Tuya's cloud in an **irreversable** way, and then provides a new device ID and Local key.  If you are serious enough about severing the line between you and Tuya, this seems to the trick for some devices of theirs.  They have a test script you can run before doing anything to see if your device can be disconnected so it at least is safe to test it before pulling the trigger. :)"", 'spice_ferret: Are you sure that your router is only blocking external Internet access, and not simply blocking all traffic from the tuya devices, regardless of destination?\n\nTo test, you could try (temporarily) blocking your phone, and see if you can still reach your HA at its internal address.', ""slingkid: Yes, I blocked dns requests using Adguard Home. But I don't even see any requests coming from the tuya devices on the Adguard portal. That's really perplexing. \n\nOn my router, I set all dns requests to go through Adguard, I know that's working because I see all the requests in the portal - but I don't see any requests coming from the tuya devices. Could it be they do their DNS requests with a hardcoded DNS server?"", ""Nyghtshayde: This looks incredibly but it's well beyond my technical understanding. No doubt though someone will produce an idiots guide. Thanks!"", ""slingkid: Wow! I didn't think of that. Yes, you are right, it blocks even the connection to the WIFI, that is why it didn't work. I ended up blocking \\*.tuyaus.com on the router. Thank you so much."", 'fiflag: Do you have tuya app on your phone? To check if device is available via bluetooth? \n\nIn my case, I have just turned on Parental Policy on my Asus router for these devices and never woried if they can resolve DNS requests via my PiHole.', 'Jay_from_NuZiland: I\'d have thought that your internet block for the tuya devices would cover any direct DNS access anyway, unless you\'ve only blocked specific types of traffic?\n\nWhat response does the adguard system give in order to block DNS requests? Did it give a bogus address (eg 127.0.0.1) or does it give a NXDOMAIN ""address not found"" response? I can imagine that if it\'s a bogus address, the tuya devices might still be trying to do something dumb.\n\nAlso worth mentioning: tuya devices are notorious for getting confused and blocking access, usually because they are limited to a single connection. Turn one off at the wall for a full half-hour or more, and see if it behaves better after that.']"
1681356161.0	12-Apr-2023 20:22:41	reolink cannot see live view after I set up cloudflare remote access?	Witty_Music_9101	0	12ka5sb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ka5sb/reolink_cannot_see_live_view_after_i_set_up/	Does anyone know what cause that? I can still control the reolink doorbell from home assistant, but i cannot see the live view from home assistant	3	"['Witty_Music_9101: I just saw this error, any idea?\n\nhttps://preview.redd.it/v21ehw6h4mta1.png?width=1440&format=pjpg&auto=webp&v=enabled&s=18a6c590e431521b6cb1367ec3c0a596e13471aa', 'Witty_Music_9101: Also found this error in the RTSPtoWeb add on\n\nhttps://preview.redd.it/f821ivl38mta1.png?width=1440&format=pjpg&auto=webp&v=enabled&s=c5d77efb38af5f4ae59342dc6e325afb1377a928', ""Rotilho: Have you tried to use the reolink http stream? Is the stream working when you are at home? (You can check using VLC for instance)\n\nEdit: It seems the official integration doesn't support http but it offers other protocols.""]"
1681354695.0	12-Apr-2023 19:58:15	No ethernet found after booting 32 bit Pi 3 B Image	AstroJit00	1	12k9inv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k9inv/no_ethernet_found_after_booting_32_bit_pi_3_b/	"I’m getting this after inserting the SD card into my raspberry pi 3 model B 32-bit. 

The Pi is connected directly to my router with an ethernet cable. Anything else connected to the same ethernet cable works fine.

&#x200B;

The following shows up on my screen? 

**Net:**

**No ethernet found.**

**starting USB...**

**Bus ushe7e980000: ush dr \_node not found**

**USB DUC2**

**scanning bus usbe?e980000 for devices... 4 USB Device(s) found**

**scanning us for storage devices.**

**O Storage Device(s) found**

**switch to partitions $0, OK**

**AncO is current device**

**\* No partition table - mnc 0 we**

**Couldn't find partition nc 0:1**

**Card did not respond to voltage select? : -110**

**Device 0: unknown device**

**Waiting for Ethernet connection... done.**

**BOOTP broadcast 1**

**BOOTP broadcast 2**

**BOOTP broadcast 3**

**BOOTP broadcast 4**

**\*\*\* Unhandled DHCP Option in OFFER/ACK: 125 war Unhandled DHCP Option in OFFER/ACK:**

**2**

* ﻿**\*\* Unhandled DHCP Option in OFFER/ACK: 125**
* ﻿**\*\* Unhand led DHCP Option in OFFER/ACK: 2**  
**DHCP client bound to address 192.168.1.221 (3783 ms)**
* **see ERROR: ""serverin' not set**
* **Cannot autoload with TFIPGET missina environment vartable: pxeuu id missing environment variable: bootfile**

**Retrieuing file: pelinux.cfg/01-68-27-eb-a3-53-a5**

**Waiting for Ethernet connection done**

**\* ERROR server ip' not set missing environment variable? bootfUle**

**Retrieving file: pelinux.cfg/COn801DD**

**Waiting for Ethernet connection, done**

**\*\*\* ERROR: server in not set missing environment variable: bootfile**

**Retrieving file: pelinux.cfg/COABO1D**

**Waiting for Ethernet connection.**

**done.**

**\*\*\* ERROR**

**""server ip not set missing environment variable: bootfile**

**Retrieving file:** [**pxelinux.cg/COn801**](http://pxelinux.cg/COn801)

**Waiting for Ethernet connection... done;**

**""aw ERROR: ""serverip inot set nissing environment variable: bootfile**

**Retrieving file: pxclinux.cfg/COn80**

**Waiting for Ethernet connection..**

**done**

**\*\*\* ERROR:**

**server ip' not set missing environment variable: bootfile**

**Retrieving file: pelinux.c/g/COAB**

**Waiting for Ethernet connection... done.**

**MAX ERROR:**

**'server ip' not set missing environment variable: bootfile**

**Retrieving file: pxelinux.cfg/con**

**Waiting for Ethernet connection... done.**

**M\*\* ERROR:**

**'serverip' not set missing environment variable: bootfile**

**Retrieving file:** [**pxelinux.cg/CO**](http://pxelinux.cg/CO)

**Waiting for Ethernet connection..**

**done.**

**M\*\* ERROR:**

**'serverip' not set missing enufronment variable: bootfile**

**Retrieving file:** [**pelinux.cg/C**](http://pelinux.cg/C)

**Waiting for Ethernet connection...**

&#x200B;

Does anyone know how to fix this?"	6	['jrhenk: Maybe some ip address conflict? Based on the above it seems the ethernet starts working but then there is a dhcp issue. Maybe the pi wants to use an ip that exists or is configured in your router or the router creates some other issue.\nCould be worth a try to set a fixed ip via command line as described here https://community.home-assistant.io/t/how-to-change-ip-adresse-in-cli/332205', 'UngluedChalice: You have Home Assistant OS on the SD card I assume?', 'AstroJit00: That is correct.', 'UngluedChalice: I would try another OS and see if Ethernet works on that.', 'AstroJit00: It ended up working with a different OS. I was using an outdated OS for the Pi.', 'AstroJit00: Okay, thank you!']
1681353229.0	12-Apr-2023 19:33:49	Any idea how to delete one day's data?	TTdriver	55	12k8v16	homeassistant	https://i.redd.it/ufcelgwdulta1.jpg		15	"['Whiffed_Ultimate: Guy accidentally created a high output reactor and needs to hide it from everyone else.', 'ZAlternates: Go to the developers tools and statistics tab. Find the entity in question and look for the little arrows on the right side. Click that, search for the offending date range, and delete.', 'ImpossibleMachine3: I assume that by ""solar"" this means you actually achieved sustained fusion?', 'TTdriver: Shhhh. I spun it up and charged the whole towns EVs in an hour!', ""TTdriver: It worked!!! You're a genius!! It was easy too. That's been bugging me since January, I had two days like that. Any idea if you can merge two data sets? My zwave reset with the last HA update when I had to do a big Z wave JS update."", 'TTdriver: Call me Tony stark but it was supposed to be a secret!', 'ZAlternates: You can sometimes get lucky if you for example have both entities like an old sensor named sensor.dildo and a new sensor.dildo_2 that got created when you reset things. \n\nI would in this case delete the sensor.dildo, and then rename sensor.dildo_2 to sensor.dildo, and then reboot. \n\nThis would slip the new dildo into the place of the old one, if that makes sense, but it’s prolly too late for you to do this.\n\nThere is no clean way to just merge two sensors and their long term statistics (unless you have serious SQL skills).\n\nI suppose you can manually do it just like you “fixed it” with the statistics tab by changing the values by hand, but we kinda just deleted those.', ""ImpossibleMachine3: D'oh, sorry! 🤐 Nothing to see here folks..."", 'tadpass: You have sensors i never knew existed.\n\nThis is a really good explanation btw.', 'tinuthir: This post was both educational and insanely amusing in its seriousness.\n\nI wish all of life was like this.', 'ZAlternates: The sensor.dildo_iaszone is really sensitive. 😜', 'tadpass: Would love to see the graphs!', 'ZAlternates: Haha I don’t really have one. I just made it up for the example. 😝', 'tadpass: Yep, i know, just egging you on', 'ZAlternates: This graph appears to have the right shape, lol\n\nhttps://i.imgur.com/gEkLpJK.jpg']"
1681352820.0	12-Apr-2023 19:27:00	Can't Add Thread Border Router In 2023.4	waverunnr	8	12k8o38	homeassistant	https://skyconnect.home-assistant.io/firmware-update/		8	"['_Rand_: I wasn’t aware they added thread only, I’ll have to look into this later.', ""-entropy: I think the addon should install and configure the integration, try starting there?\n\nFor some reason the Matter stuff is the opposite - the integration installs the addon.\n\nAlso, I had to try 3 or 4 times to get everything to install correctly. And... don't expect miracles. It's super new. Plug states aren't reflected correctly, network is flimsy. They'll get there but it's still *very* early days."", ""_Rand_: Finally had a chance to figure this out, it seems to work just fine.  I don't have thread devices to test if they connect though.\n\nAnyways, what I did was first of all pull the skyconnect itself and uninstall anything to do with it, so at least the open thread boarder router integration, thread integration, and the multi-pan addon.\n\nSecond I flashed the stick to open thread only.\n\nThen I put the stick in and installed the open thread addon (or presumably the docker container if you are using that is the same) this should install the OpenThread integration automatically, but I had installed the Thread integration manually before and left it so I'm not sure if it installs that as well so if it doesn't do it manually.\n\nAnd everything seems to be functioning as it should.\n\nEdit:  forgot to mention, when installing the open thread border router addon you need to select your stick under configuration before starting it, seems to be fine to leave all the other options at default."", ""waverunnr: Took all night, but I figured it out and even after figuring it out, I still couldn't use it lol.\n\nFirst off, HA wasn't seeing the SkyConnect because I hadn't set up a USB Filter in VirtualBox.\n\nOnce that was finished, I had to change the firmware to Multi-Protocol.  Even though Thread-Only is a firmware option, HA isn't ready for it.\n\nAfter all that was done and a few reboots, the TBR showed up.  Nice touch naming the network Home-Assistant instead of MyHome8675309 or NEST-PAN-6969.  Problem now is that none of the stuff I have can see Home Assistant's TBR or they see it and it's grayed out (looking at you, Nanoleaf).\n\nI realize this is early days, but it is really too much to ask to *not release stuff until it is stable and functional?*"", ""waverunnr: It doesn't work as far as I can tell.  The only way to get an TBR running is to select MultiProtocol which rewrites the firmware."", '_Rand_: You can see my other post for what I did.\n\nI can’t confirm it works because I have no thread devices, but it does show up as a border router like expected.\n\nLike someone else said though, this is early days so I wouldn’t at all be surprised if it works for me but not you for some obscure reason.', 'waverunnr: I only need Thread but is there any disadvantages to running multi protocol?', '_Rand_: Potential interference with other zigbee networks if you happen to have a existing one is about all I can think of.\n\nWhich is probably what most people will be concerned about, a ton of people are running a sonoff -p which as far as I know doesn’t do thread (or at least is even more experimental than the skyconnect) and getting one of these for just thread is a cheap/easy addition.']"
1681352555.0	12-Apr-2023 19:22:35	Poor performance from Samsung T7 Shield USB ssd	bobloadmire	0	12k8jil	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k8jil/poor_performance_from_samsung_t7_shield_usb_ssd/	I did a fresh install of home assistant on this SSD, and I double checked to make sure to use a usb 3.0 USBC to a cable, but I can't get over 55 MB/s on a read or write operation. I tried a couple of different cables. It didn't make a difference. Is there some reason that performance would be reduced that I'm not thinking of?	3	"['morbidpete84: What did you plug it into? Does the host support USB3? 55MB looks like a 2.0 being maxed out. Is the USB-C to USB-whatever adapter actually 3?', ""bobloadmire: It's an rpi 4 with USB 3, I confirmed all USB 3 pins are present on the cables I tried. I have no idea why it would be limited to 2.0, but home assistant won't tell me what the link speed is anywhere"", 'morbidpete84: Sounds right to me. That is interesting. Hopefully someone else can help more. That’s all I got.']"
1681351153.0	12-Apr-2023 18:59:13	Conditional cards	dr_raymond_k_hessel	3	12k7v1e	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k7v1e/conditional_cards/	What are your use cases?  Looking for inspiration.	13	"[""kernel610: I'm building a dashboard for a wall mounted tablet and I'm using conditional cards pretty significantly. I want the tablet dashboard to be contextual, where it displays information only when relevant to the situation to minimize the need to interact with the tablet.\n\nI find the conditional card very limited with it's condition options so I usually need to create a binary sensor template to handle the logic and base my conditions.off of the on/off of that template sensor.\n\nExamples:\n\n1.  Display weather radar when rain is forecasted within the next 6 hours\n2.  Display commute times only on mornings when my wife is working at the office (she works from home 4 days a week and office 1 day)\n3.  Display wifi information and QR code when guest mode is enabled\n4.  Display 3d printer stats (temp, remaining time, and camera) only when the printer is active\n5.  Display button to close garage door if it's not closed. Button goes away completely once garage is closed"", ""2c0: I use them for a few reasons:\n\n* I have a 'hidden' card that only shows when a door or window is open. Hiding irrelevant information and only displaying what I need to see.\n* Showing who is home and hiding anyone who is away\n* I have a media card that shows shortcut buttons when the speaker is off but shows media cover art and controls when turned on. Actually manages three speakers with conditions to show the card corresponding to the speaker/s that are on.\n* statistic cards for the hardware running HA that only shows any significant changes or conditions I may need to see."", 'legandir26: Alarm control panel that only pops up when the alarm is set. Makes disarming quicker.', ""0gtcalor: I show different information depending on if the sun is above horizon or not. I have solar panels, so during the sunny hours it shows a gauge graph with the energy I'm exporting to know if it's a good moment to turn on the dishwasher or washing machine. This is also implemented with different conditional cards as I have different electricity prices during the day."", 'fishter_uk: I have a card that displays more detailed information when the Weather warning status is anything other than ""Green"".\n\nThe printer card is only shown when that status is ""Problem"".\n\nI\'m sure I\'ll come up with more as I develop my system.', 'multicm: I have a dashboard which works as a remote for the bedroom TV. At the top are buttons for switching between the Shield, the Playstation, and Cable. \n\nBelow those buttons are the appropriate controls (number pad, arrows, volume, etc.) And they only appear depending on what action was taken. So for example the number pad only appears if ""Watch Cable"" is on', 'techfreakdad: Me too', 'Wild-Bus-8979: My security cameras are only on when the alarm is on. I cut power to them otherwise. So I use the conditional cards to display them only if the alarm is, well, on.', ""clintkev251: I use them to display active alerts (garage open, freezer warm, leak sensor triggered, stuff like that) and allow for them to be acknowledged. I also have some cards and pages that get hidden when some input booleans like guest mode and vacation mode are on, so stuff like settings can't be changed. \n\nAlso love some of the other ideas in this thread, definitely some stuff that I'll implement at some point"", 'antisane: I have 3 conditional cards just for the smart plug on my dumb coffeemaker.\n\n1. Is the coffee setup (input boolean)? Show the green (ready card).\n2. Not setup? Normal Off card (grey text and icon)\n3. Normal On card (orange-ish background for card).\n\nI have a node red flow will turn off the coffee plug if I attempt to turn it on without the input\\_boolean turned on. If the input is set it allows the coffee maker to brew, and turns off the boolean for next time. The input is exposed to Alexa (via Nabu Casa) so I can just say ""Alexa, turn on caffeine\\_setup"" to turn it on, and when I do the dashboard automatically updates.', ""JohnC53: Seasons. I monitor a lot of temperatures of various things to make sure temps don't drop too low. Don't care about them in summer."", 'dr_raymond_k_hessel: I like this.  I’ve thought about putting some temp sensors in my crawl space to k  no ow when to be concerned about pipe bursts.', 'JohnC53: Exactly what I do. (At our cabin). We also have an underground well (water pump) we keep primed over the winter. I have a sensor in there. Too deep for Zigbee or WiFi, but the EcoWitt sensors with a long cord work awesome.']"
1681347162.0	12-Apr-2023 17:52:42	Needing to Re-configuring integrations	Phredee	0	12k658g	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k658g/needing_to_reconfiguring_integrations/	"Recently I've had to re-configure integrations.  One in particular (Honeywell Total Connect) has been fine for years, now it happens at least daily.  Today was 3 times!

Anyone else?"	3	"[""Internal_Researcher8: Yep.  It got so bad that I bought a new thermostat that doesn't require their cloud service.  It works directly with the z wave protocol.\n\nHoneywell TH6320ZW2003 T6 Pro Series Z-Wave Stat Thermostat &, Smart Home https://a.co/d/5tOc1UZ"", 'Unusual-Cockroach611: If you’re seeing issues with TotalConnect in HA please submit a ticket with your log info.  \n\nLikely just server issues, but may be something else.', ""Phredee: Thanks for the reply.  You never know where the problem is.  \n\nIf I continue to have problems I'll just create an automation using my many temperature sensors and switch things at the HVAC.  I don't use the wall thermostat any way.   Giving Honeywell more money for under performing doesn't sit well with me.""]"
1681346793.0	12-Apr-2023 17:46:33	NYCE 3011 & 3041 no longer pair	glc650	0	12k5z8t	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k5z8t/nyce_3011_3041_no_longer_pair/	"After updating to Home Aisstant 2023.4.1 (or 4.0  as I can’t remember if I tried pairing with 4.0), I am no longer able to  pair NYCE devices.  2023.3.6 was the last time I was able to  successfully pair my NYCE devices.

Since then I have tried repairing (after resetting) existing 3011 and  3041 devices as well as brand new ones with the same result.  Home  Assistant acts like the device successfully pairs (this device is ready  for use) but the device continues to blink orange/green/orange (device  being configured) until the device times out.  I have tried pairing in 4  different rooms including right next to my HA.

Any NYCE devices that are currently paired still work and I have no  issues pairing other devices (Sengled and Iris AC outlets, THIRDREALITY  contact sensors, etc).

Anyone else having issues with NYCE products?

Thanks,

\->g."	0	[]
1681346022.0	12-Apr-2023 17:33:42	"Making a house that's integrated into home assistant ""resellable"""	Adventurous-Coat-333	0	12k5moo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k5moo/making_a_house_thats_integrated_into_home/	"One thing that's crossed my mind is that I won't be able to sell my house someday to anyone that is not into home assistant, because it's so heavily integrated, you can't even change the temperature without it.

My goal is to build something that will run unattended for 15 years with no maintenance. Basically a raspberry pi working locally, disconnected from the internet, with no updates, and continue running like the day it was installed.

Thinking about having having the OS ""frozen"", where it just resets to the default image every time it's rebooted. That way no worries about OS corruption.

There are tons of these ""legacy embedded systems"" running factories and stuff, so why not a house?"	16	"['400HPMustang: You’re going the opposite way I am. My entire house can be controlled without Home Assistant if necessary. I could sell it tomorrow and rip out my entire network rack and nobody would notice because light switches, fans, door locks, thermostats all work without it.', 'psychicsword: > because it\'s so heavily integrated, you can\'t even change the temperature without it.\n\nThat is your first mistake. You should be able to have anyone be able to operate a smart home entirely without apps or a user manual. All temperature controls should be able to get modified on a thermostat device and all lights should have physical buttons.\n\nIt is fine for things to happen automatically based on triggers. Like the lights turning off when you leave the room but if a user presses the on switch the lights should turn on and raising the temperature should raise the temperature until the next scheduled or triggered change.\n\nThe ultimate goal is that if your control gets fried that the house just works like a dumb house. If that can happen then you simply remove the controller when you sell and they can repair everything to their hub if they want. \n\n> There are tons of these ""legacy embedded systems"" running factories and stuff, so why not a house?\n\nNo one wants to buy into tech debt. Especially when they don\'t even know what tech debt is. In factories and stuff there are people being paid to maintain it. When I buy a house I\'m looking for a place where I can take off my pants and socks at the end of the day and relax. I don\'t want to inherit your odd design decisions.', 'AnxiouslyPessimistic: As others have said, you are going the opposite way to what’s seen as the “ideal”. \n\nRunning System that’s never updated also seems an odd choice given the pace at which HA evolves', ""usernamefindingsucks: Then, the memory card dies, or the power supply, or the board itself.  Even if you made a small cluster of pi's to create a High Availability set up, somebody down the road won't know how to maintain it and will rip the whole thing out.\n\nFor some future buyer to want it, it should have controls they recognize (switches, thermostats, etc...) that are easy to operate.  Not easy for you, easy for them."", 'triangulum-visitor: Why can’t you change the temp without it?', 'Home_Assistantt: I think the opposite would be easier.  Remove all that stuff if it’s not specifically wanted by someone. I could disable 99% of my home automation stuff in a number of hours.', 'psychicsword: This is the way', 'RedditFauxGold: Me three. \n\nOddly I was just thinking about this the other day. Debating do I “be a good neighbor” and walk around and reset all the light switches to factory default when I sell or do I just walk away and let the new people reset each at the time they join them to a new network. Or do I leave my zwave hub (Vera) and just take my HA with me and leave instructions on what to use as the internal network IP range. Kind of an interesting thing to ponder.', ""AlphaMonkeyz: I've just started on the HA path.  Can you list some of your gear?  What you've done is exactly what I want to do."", ""Adventurous-Coat-333: Long story short, I put in a mini split system for the zoning, then realized with the RF remotes are crap. Plus they are one way only so changing the temperature with Wi-Fi messes up the remote setting. Apparently almost all brands of mini splits have this issue.\n\nSo the two options were to spend a couple thousand on the manufacturer's proprietary thermostats for each room, or install Wi-Fi modules in the units and integrate them into home assistant.\n\nBasically, home assistant IS my thermostat, we ended up having to write custom software on top of it too do scheduling, with support for geofencing, because nothing really existed yet surprisingly.\n\nI plan to eventually have a touch screen in each room to handle temperature, blinds, and some lighting, but there will still be switches."", 'nclpl: I think it just depends on how you market the house and what’s in your sales contract. \n\nI would personally make no mention of the smart features in any of the listing language, and either stipulate in the sales contract that all switches will be replaced before the final walkthrough (if I wanted to take the switches with me) or say nothing (if I was planning on just leaving them… assuming they all function reasonably well without the hub).  I’d never leave a hub. \n\nBeing a “smart home” won’t get you any more money when you sell, so I don’t see any reason to bring it up. As long as your clear and consistent in your marketing and contract, you should be covered. I am not a real estate lawyer!', '400HPMustang: Nothing special. Ecobee thermostat, August/Yale locks, Lutron Caseta light switches, Hunter ceiling fans. All physical controls work without my network being up.', 'psychicsword: I would also recommend the ecobee. It can be controlled fully locally using the homekit integration but also has its own app which I like because it gives me a backup for monitoring the system in case my NAS crashes while on vacation in the winter.\n\nFor switches I use a mix of different z-wave devices from Zooz, inovelli, and Jasco. They all operate just like normal switches other than the fact that they are momentary switches rather than paddle switches.\n\nMy ceiling fan has a bond controller built into it but it is also paired with a normal style remote for manual control.\n\nMy only compromise on this front had been my Ikea smart motorized blinds. They will be a pain to use if the system went down but they do technically have little buttons on them which I can use in a pinch.', ""psychicsword: If that is the only issue then take your home assistant server with you when you move and leave them the RF controllers. They can decide what they want to do with their own project if they decide to go down the same path or if they will pay to get the custom thermostats installed. If they are tech savvy then maybe offer the custom controller code to them as a bundle but I wouldn't expect them to want to keep the whole setup."", ""KnotBeanie: You could use ecobee's as the front end's"", ""psychicsword: That doesn't really solve the problems caused by your server going down. In fact it likely makes it worse.\n\nNow instead of an rf remote with a wrong temperature on it you have an ecobee that has a wrong temperature on it and can't control the actual heater. That is even more confusing for someone.""]"
1681344232.0	12-Apr-2023 17:03:52	Smart Soil Monitor suggestions?	ThisBytes5	13	12k4sf6	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k4sf6/smart_soil_monitor_suggestions/	Wife got our daughter a worm composter for her birthday, it needs to have a certain moisture, PH and temp would be nice, but not against a second device. Any one have any suggestions for a smart monitor that I can place in the composter to monitor the levels?	14	"[""osokthedevil: [https://www.aliexpress.com/item/1005005086034692.html?gatewayAdapt=4itemAdapt](https://www.aliexpress.com/item/1005005086034692.html?gatewayAdapt=4itemAdapt)\n\ni'm going to buy a few of these for my garden"", 'ETA001: Ecowitt , and work very well with HA', '_cronee: Mi flora', 'emuhack: sonoff has some: [https://sonoff.tech/product/accessories/ms01/](https://sonoff.tech/product/accessories/ms01/)', 'Tadpole-Various: Ubibot', ""chicknlil25: I'm not sure what exists out there for PH, but for moisture + temp, there are these [Zigbee soil sensors.](https://www.aliexpress.com/item/3256805024651052.html)  There's also [these MiFlora BLE ones](https://www.aliexpress.us/item/3256803550809615.html) that you can add to HA via the Xiaomi BLE integration (they should be automatically found). I use the BLE ones inside and the Zigbee ones outside (easier to extend my Zigbee mesh out there, I felt)."", 'curt7000: PlaidSystems makes a ZigBee version, works well for me on ZHA and now ZigBee2MQTT \n\nPlaid Systems Spruce Irrigation Soil Moisture Sensor Gen 3, Compatible with SmartThings, Hubitat https://a.co/d/0VLDnBb', ""ThisBytes5: Please report back when you do, I'd be very interested. I don't currently have Zigbee in my ecosystem, but wouldn't care if I needed to add it for something decent."", 'diabetic_debate: Seconded. Have about 8 of them in my planters and they work great with HA.', 'davidr521: >Ecowitt \n\nDo they require any additional equipment (hub, etc.)?', 'renaiku: I got 3 of them and this is a bad product.\n\nBad bluetooth stability, wrong values returned ( 20cm between 2 of them and they have a very different reading of the luminosity).\n\nThe only good thing is that they are wireless.', '400HPMustang: Ecowitt does use a gateway', 'ETA001: yes a simple usb powered gateway, connects to your wifi and then to all the sensors. i have soil humid, temp/in and out side. all setup is done in phone app. and the connection to HA. I get around 60-70datapoints per hour in HA.', ""iotiot: You don't need ecowitts gateway, you can use their sensors with an SDR antenna and rtl_433 home assistant addon. Then it's all local, just like a attaching a ZigBee or Z-Wave radio to your instance.""]"
1681343302.0	12-Apr-2023 16:48:22	Tautulli REST End Point and custom-button-card!	Stratotally	13	12k4c4l	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k4c4l/tautulli_rest_end_point_and_custombuttoncard/	"I've created a Tautulli custom-button-card layout that closely resembles the main Tautulli interface.

Credit to this post for the inspiration: [https://www.reddit.com/r/homeassistant/comments/zt56p0/custom\_plex\_tautulli\_active\_user\_details\_card/](https://www.reddit.com/r/homeassistant/comments/zt56p0/custom_plex_tautulli_active_user_details_card/)

After working with this card, I noticed an issue. It uses the official Tautulli integration, which creates sensors based on each USER of plex. We only really use a single user in my household, so whoever started a stream first - thats what was populated into the sensor. If I was watching something on one TV, but my wife started watching something on another TV, it'd only populate the first session.

What I wanted to replicate was the “activity” panel in Tautulli itself. This displays a card for each session that is running, even if they’re under the same user.

I’ve achieved this using the Tautulli REST API, 10 “session” template sensors, and and auto-entities / custom-button card. Here is the result:

https://preview.redd.it/asfcoey2jjta1.png?width=685&format=png&auto=webp&v=enabled&s=c16dc2cb99c745c5b92d456614f0f26c9889a03a

Full write up is here:

[https://community.home-assistant.io/t/tautulli-rest-end-point-and-custom-button-card/559371](https://community.home-assistant.io/t/tautulli-rest-end-point-and-custom-button-card/559371)

EDIT  04/28/23: I've made some adjustments to the card to correct some errors in the template / log. Please make sure to adjust accordingly!"	3	['Deathbot64: I love this. Going to try it out. But dude you need to get a better copy of the big Lebowski. One of the best movies ever', 'Stratotally: Haha, agreed. :)', 'Stratotally: Made some updates to the template due to errors. Make sure you check the latest in the post!']
1681340361.0	12-Apr-2023 15:59:21	Accessing host files from Virtualbox installation	miciy5	0	12k2u7j	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k2u7j/accessing_host_files_from_virtualbox_installation/	"Hi

I have HA OS installed on a mac through Virtualbox .

I want HA to access local files (audiobooks) on the mac. How do I set that up?

Adding shared folders doesn't seem to work.

Thanks"	3	"['ecureuil: Why not installing HA directly on the mac? \n\nI have HA installed directly on my mac (HomeAssistant Core) using a python virtualenv.\n\nIt works flawlessly and its a oneliner to upgrade', ""miciy5: >HomeAssistant Core\n\nThe installation is more complicated that way, Also, if I remember correctly, core doesn't support addons"", 'ecureuil: core supports addons you just have to install them  in CLI.\n\nThe installation is literally a oneliner']"
1681339029.0	12-Apr-2023 15:37:09	Automate toilet flushing	tortuga3385	1	12k25zq	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k25zq/automate_toilet_flushing/	"I’m remodeling my bathroom and I’m going to buy a new toilet. There are some toilets that have a wireless module that will flush the toilet based on waving your hand. Does anyone know of any toilet that can integrate with HA?

As an alternative, there is a manual button on the side of the water bowl. Any ideas on how to build something to push that button?"	4	['mosaic_hops: You need a turd detector. Like hot dog / not hot dog for BMs.', 'Shooter_Q: Are you familiar with [switchbot](https://youtu.be/Q_3f6OC9p0s) for pushing buttons? I think Fingerbot is a competing company. \n\nI would only be concerned for choosing the right adhesive, since you’ll be dealing with bathroom humidity and what I assume is a smooth surface like porcelain or highly polished steel.', 'hannsr: Easy, just point a camera at the toilet to first recognize occupation and then analyze the content. \n\nGuests will love it!', 'tortuga3385: Very cool find but the button on the toilet is probably an inch tall.']
1681338211.0	12-Apr-2023 15:23:31	Lifx alternative	tortuga3385	0	12k1qk3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k1qk3/lifx_alternative/	"I have several BR30 style Lifx lightbulbs and after a few years I am constantly needing to replace bulbs that die. They just stop showing up on Wifi and in the app.

Are there any alternatives that wii ok rom with Home Assistant?"	1	['magnificentfoxes: Zigbee bulbs are the way. Lifx is utterly terrible imo.']
1681336654.0	12-Apr-2023 14:57:34	Andriod actionable notifications issues	Aimless_wanderer87	1	12k0wvb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k0wvb/andriod_actionable_notifications_issues/	"Hi everyone, long-time lurker here who really appreciates the community’s problem solving. Unfortunately, this time I can't seem to figure it out from prior posts. In short, I can't get my actionable notification to work properly - it seems to be created properly on my phone, the event seems to fire on the phone button click and the wait for trigger seems to trigger (judging by the blue flash in the GUI) but then also times out without continuing (input\_boolean never fires) and I don't understand why. If anyone has any ideas, it would be greatly appreciated.

YAML code snippet:

      - service: notify.mobile_app_graham_s_phone
        data:
          message: Landing Activity!
          title: SECURITY ALERT!
          data:
            actions:
              - action: action_disable
                title: Disable
      - wait_for_trigger:
          - platform: event
            event_type: mobile_app_notification_action
            event_data:
              action: action_disable
        timeout:
          hours: 0
          minutes: 0
          seconds: 15
          milliseconds: 0
        continue_on_timeout: false
      - service: input_boolean.turn_on
        data: {}
        target:
        entity_id: input_boolean.disable_notifications

Listening on mobile\_app\_notification\_action (during testing):

    event_type: mobile_app_notification_action
    data:
      action_1_key: action_disable
      action_1_title: Disable
      action_1_uri: ""null""
      message: Landing Activity!
      title: SECURITY ALERT!
      webhook_id: redacted
      server_id: ""1""
      action: action_disable
      device_id: cab094bf2ca402a1
    origin: REMOTE
    time_fired: ""2023-04-12T21:36:51.061447+00:00""
    context:
      id: 01GXVPCRBN0MY9YTGHHEYV8G94
      parent_id: null
      user_id: 2d8c3a6ee1f94825b98b987384d59e37"	1	"[""mrtramplefoot: I don't know how to make them in ha, but I'll plug just importing the actionable notification thing into node red, works like a charm""]"
1681335707.0	12-Apr-2023 14:41:47	Cover or button-card?	mvassli	1	12k0el9	homeassistant	https://www.reddit.com/r/homeassistant/comments/12k0el9/cover_or_buttoncard/	"Up until now I have used a cover template to control my garage door.  


    cover:
      - platform: template
        covers:
          garage_door:
            device_class: garage
            friendly_name: ""garage_door""
            value_template: ""{{ is_state('binary_sensor.doorsensor_garage_contact', 'on') }}""
            open_cover:
              service: switch.turn_on
              data:
                entity_id: switch.sonoff_1000e22ecc
            close_cover:
              service: switch.turn_on
              data:
                entity_id: switch.sonoff_1000e22ecc
            stop_cover:
              service: switch.turn_on
              data:
                entity_id: switch.sonoff_1000e22ecc
            icon_template: >-
              {% if states('binary_sensor.doorsensor_garage_contact') == ""on"" %}
                mdi:garage-open-variant
              {% else %}
                mdi:garage-variant
              {% endif %}

I recently discovered the [button-card](https://github.com/custom-cards/button-card) and realised I could achieve more or less the same result with a more consise yaml syntax. 

    type: custom:button-card
    entity: binary_sensor.doorsensor_garage_contact
    name: Garasjedør
    show_state: true
    state:
      - value: 'off'
        icon: mdi:garage-variant
        color: green
      - value: 'on'
        icon: mdi:garage-open-variant
        color: red
    tap_action:
      action: call-service
      service: switch.turn_on
      service_data:
        entity_id: switch.sonoff_1000e22ecc

Any reason to choose cover over button-card?"	0	[]
1681333024.0	12-Apr-2023 13:57:04	Running app daemon dashboard on kindle paper touch 2 with alpine	mccmax95	3	12jywv8	homeassistant	https://www.reddit.com/gallery/12jywv8	"Hi everyone, I know the title is confusing so I'll try to be as clear as I can.

I have a kindle paperwhite 2, serial BOD4, that I am running Alpine Linux on with the goal of being able to use an interactive dashboard for home assistant.  I am following [this guide](https://thomaspreece.com/2019/12/10/home-assistant-kindle-dashboard/) and I've gotten pretty close.  I currently am able to reach the web page for the app daemon dashboard but none of the widgets load, though if I click on the page I am able to toggle the switch.  I am using the minority browser for this.  If anyone has any ideas on home to even start troubleshooting this I would appreciate the help.  I attached photos of what it looks like currently, and what it is suppose to look like."	0	[]
1681331930.0	12-Apr-2023 13:38:50	NVR For Lorex LKB35A	JVarh	3	12jybey	homeassistant	https://i.redd.it/mhnyr9x13kta1.jpg	I've had these cameras going around in a bin for a couple years and I've never used them. these are an artifact of when Flir owned lorex. I'm having trouble trying to find an NVR that will work with home assistant and them in fact I'm having an issue finding software NVR that recognizes them at all. Has anybody ran into this issue what would you do?	21	"['_Rand_: It’s possible that rtsp/rtmp/whatever needs to be turned on with an app or maybe web interface,\n\nJust today I hooked up a reolink cam and it tripped me up, everything but their app interface is off by default.', 'JVarh: Okay so an update on this.I have the cameras on my home network now I have tried to navigate to the link in:  \nChrome  \nEdge in IE compatibility mode  \nIE  \nAll say 404 Error page or address not found\n\nHOWEVER Firefox says connection not secure at the top bar and doesnt load any page. I am thinking maybe I am using machines that are too new?\n\nI have alse tried an XP Vm to no avail. I also tried a windows 8 machine with IE same 404 page not found error.\n\nNot sure what I am doing wrong. I have tried the same processes on both cameras\n\nI have also tried on an Android phone.', 'mikieikie: If memory serves me right I was able to get these working with blue iris. I have to check when I get home to make sure we have the same camera. If it is then it will work with blueiris. In the meantime you might want to check if this is a rebranded dahua camera. If it is you can flash the appropriate dahua firmware on it and replace the gimped Lorex firmware. This will open many more options for you. \n\nAs for my setup.\nBlueiris on windows 10 computer connected to my camera vlan network. A Poe switch on the camera vlan network powering the cameras. Blueiris integration on Homeassistant via HACS repo.', 'mikieikie: Look up how to use vlc player with ip cameras to see if the rtsp is working. \n\nAlso get the ip address from your router dhcp leases. You can identify the ip based on your MAC address on the camera sticker', ""JVarh: honestly the only information I can find about them is that they are compatible with a hardware NVR and I don't really feel like buying that. I would love to be able to find an app that I can access them through."", 'JVarh: I will check out Blue Iris though! I have a POE Switch here at my desk at work so im fiddling a bit before heading home', 'JVarh: This is a FLIR camera rebranded as Lorex. It shows up as a FLIR device in FING', 'JVarh: I got Blue IRIS I am getting RTSP: 400 Bad Response, attached a picture of what FING is saying about the device in case this tells you if I can flash firmware \n\nhttps://preview.redd.it/p983wqkqbkta1.png?width=735&format=png&auto=webp&v=enabled&s=42f295542579285bdc25795cdb6bd64a62f60457', 'JVarh: Did this as well, but nothing. I use the Fing Network scanner app been using it through 2 acquisitions of the company and I have always found it is one of the best free network scanners you can have!', 'mikieikie: BI is about 50 bucks. Buy the serial code from eBay from a reputable seller…\nIt’s cheaper and the code gets sent in several hours.\n\nAnother option is frigate which is a free version. I didn’t know about this before getting blueiris, but would have tried it out before getting blueiris. Dunno if it works with your camera. You should try it out and let me know!', 'mikieikie: https://ipcamtalk.com/threads/lorex-dahua-lorex-is-dahua.9095/\n\nI bought my lorex by flir circa 2017 and unfortunately that camera was not manufactured by dahua.', 'mikieikie: You using a Poe switch right?\n\nI’ll check my setup when I get home to see what I did', ""JVarh: I tried out the demo of blue iris using username and pass admin doesn't seem to connect. The only open ports I see on it are 80 (No Web GUI) a RTSP gateway on 554 and afs3-fileserver on 7000"", 'JVarh: that sounds correct these were originally bought for a client whose system is a dahua but unfortunately they did not work at all.', 'mikieikie: Works for me, but I have a different camera. It’s very similar. I have the LKB343-C 4MP instead of your 5MP\n\nhttps://preview.redd.it/ymlu0r33enta1.jpeg?width=3024&format=pjpg&auto=webp&v=enabled&s=cbfa8f345c67bd68986d45d01bc13e94a716e164', 'mikieikie: I used http to show you it works in BI. You can use rtsp, but you have to enable this in the Lorex web app via the plugin.\n\n1. Open internet explorer… NOT EDGE. you need a pc\n2. Type in your Ip of your Lorex webcam\n3. It will tell you to download the Lorex plugin\n4. Close IE, install the plugin, reboot\n5. Open IE again and type your ipcam ip address\n6. Login should be admin:admin\n\nhttps://preview.redd.it/62dxwzyugnta1.jpeg?width=3024&format=pjpg&auto=webp&v=enabled&s=26feb2bff564d4011dc8d994a5199884eec64e53\n\n7. Add to blueiris 8. HACS blueiris integration 9. Spy on your neighbors via HA app.', 'mikieikie: Follow the instructions part carefully.. see pic\n\nRtsp://ip:554/ch01/A:0\nYou can choose A:0, A:1, A:2 depending on your use case. Mobile stream(2) is better on the resources.', 'JVarh: Not having any luck at all \n\nhttps://preview.redd.it/f944qthabpta1.png?width=913&format=png&auto=webp&v=enabled&s=fe589048f58eda246ef78b3a9563db35318db307', 'mikieikie: You typed the wrong ip in IE', 'JVarh: Somehow I fucked up the IP in CMD and it still pinged, wild.', 'didininja: Maybe u Need To set an Port like 8080 or something in the url']"
1681331505.0	12-Apr-2023 13:31:45	Frigate 12.0 and Reolink optimisation	hannsr	3	12jy3cu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jy3cu/frigate_120_and_reolink_optimisation/	"First of all a big thanks to everyone working on this update. It's really impressive how much has changed from 11.0 and I really like the extended webUI.

Since my config was a convoluted mess I completely redid it with the update based on the new docs and everything worked right away. But since I was on it, I wanted to optimize my cameras a bit following t[his bit of the documentation](https://docs.frigate.video/configuration/camera_specific#reolink-cameras).

So I added one camera like this:

        go2rtc:
          streams:
            garten: 
              - http://10.10.60.11/flv?port=1935&app=bcs&stream=channel0_main.bcs&user=user&password=password
    #          - ""ffmpeg:reolink#audio=opus""
    
        cameras:
          Garten:
            ffmpeg:
              inputs:
               - path: rtsp://127.0.0.1:8554/garten?video=copy
                 input_args: preset-rtsp-restream
                 roles:
                   - detect
                   - record

I removed the audio bit because I thought it might be the issue, but it changed nothing.

Log output:

    2023-04-12 20:18:19.233083462  [2023-04-12 20:18:19] watchdog.Garten                ERROR   : Ffmpeg process crashed unexpectedly for Garten.
    2023-04-12 20:18:19.233418685  [2023-04-12 20:18:19] watchdog.Garten                ERROR   : The following ffmpeg logs include the last 100 lines prior to exit.
    2023-04-12 20:18:19.233777995  [2023-04-12 20:18:19] ffmpeg.Garten.detect           ERROR   : [segment @ 0x5569ce987640] Timestamps are unset in a packet for stream 0. This is deprecated and will stop working in the future. Fix your code to set the timestamps properly
    2023-04-12 20:18:19.233989156  [2023-04-12 20:18:19] ffmpeg.Garten.detect           ERROR   : [segment @ 0x5569ce987640] Non-monotonous DTS in output stream 0:0; previous: 0, current: 0; changing to 1. This may result in incorrect timestamps in the output file.
    2023-04-12 20:18:19.234085353  [2023-04-12 20:18:19] ffmpeg.Garten.detect           ERROR   : [h264_qsv @ 0x5569ce9677c0] video_get_buffer: image parameters invalid
    2023-04-12 20:18:19.234087563  [2023-04-12 20:18:19] ffmpeg.Garten.detect           ERROR   : [h264_qsv @ 0x5569ce9677c0] get_buffer() failed
    2023-04-12 20:18:19.234164604  [2023-04-12 20:18:19] ffmpeg.Garten.detect           ERROR   : Error while decoding stream #0:0: Invalid argument
    2023-04-12 20:18:19.234253564  [2023-04-12 20:18:19] ffmpeg.Garten.detect           ERROR   : Finishing stream 1:0 without any data written to it.

Complete \`config.yaml\`:

        mqtt:
          host: 10.10.1.94
          user: user
          password: password
        database:
          path: /db/frigate.db
        detectors:
          coral:
            type: edgetpu
            device: pci
    
        ffmpeg:
          hwaccel_args: preset-intel-qsv-h264
        
        detect:
          width: 2560
          height: 1440
          fps: 5
          stationary:
            interval: 15
            threshold: 50
        
        objects:
          track:
            - person
            - cat
            - dog
            - fox
          filters:
            person:
              threshold: 0.8      
        motion:
          threshold: 25
          improve_contrast: True
        
        record:
          enabled: True
          retain:
            days: 7
            mode: motion
          events:
            retain:
              default: 21
              mode: active_objects
    
        snapshots:
          enabled: true
          timestamp: true
          bounding_box: true
          retain:
            default: 2
    
        go2rtc:
          streams:
            garten: 
              - http://10.10.60.11/flv?port=1935&app=bcs&stream=channel0_main.bcs&user=admin&password=password
    #          - ""ffmpeg:reolink#audio=opus""
    
        cameras:
          Garten:
            ffmpeg:
              inputs:
               - path: rtsp://127.0.0.1:8554/garten?video=copy
                 input_args: preset-rtsp-restream
                 roles:
                   - detect
                   - record
          Rueckseite:
            ffmpeg:
              inputs:
               - path: rtsp://user:pass@10.10.60.10:554/h264Preview_01_main
                 roles:
                   - detect
                   - record

Hardware is an Intel NUC 10i7 Performance kit (i7-10710U) with 16GB of RAM and a PCIe Coral. It is dedicated to running frigate so it is running Ubuntu Server 20.04 with frigate, compreface and doubletake in docker, that's it. Install is relatively fresh since my former SSD died.

Cameras are 4 Reolink RLC-810A, all running on 2560x1440p resolution so get a H.264 instead of H.265 Stream. I did the tweaks as mentioned in the docs and all cameras are on the latest available Firmware \` v3.1.0.956\_22041503 \`.

It does work using the RTSP stream, but I'm having issues with occasional fragmentation and artifacts, so I wanted to give http a go with go2rtc.

TIA!"	12	"['nickm_27: I would suggest trying preset-vaapi instead of intel-qsv and see if that works better', '1992tx3: FYI looks like you left your password in the go2rtc config section.', 'hannsr: This seems to do the trick, thanks! At least the stream now works, gotta wait if I still get artifacts or not, but it looks much better on first glance.', ""hannsr: On a side-note: this also seems to decrease cpu usage quite a bit. Usually sat around 4.1 to 6.8 load average in htop, while it's now at 1.7 to 2.4.\n\nAlso no artifacts so far, finally. \n\nSo thanks again, also for all the work you put into frigate!"", ""hannsr: If i may ask here again...\n\nI used to have some cameras rotated by adding these output args:\n\n               output_args:\n                 detect: -vf transpose=2 -f rawvideo -pix_fmt yuv420p\n\nThis does not work anymore, but I can't really figure out how to it properly in the new version. When I add it, ffmpeg will crash:\n\n    2023-04-16 15:28:13.430205659  [2023-04-16 15:28:13] frigate.video                  ERROR   : Rueckseite: Unable to read frames from ffmpeg process.\n    2023-04-16 15:28:13.430546384  [2023-04-16 15:28:13] frigate.video                  ERROR   : Rueckseite: Unable to read frames from ffmpeg process.\n    2023-04-16 15:28:13.430901268  [2023-04-16 15:28:13] frigate.video                  ERROR   : Rueckseite: ffmpeg process is not running. exiting capture thread...\n    2023-04-16 15:28:17.250449828  [2023-04-16 15:28:17] frigate.record                 WARNING : Failed to probe corrupt segment /tmp/cache/Rueckseite-20230416152813.mp4: 0 - b'[mov,mp4,m4a,3gp,3g2,mj2 @ 0x55a9236866c0] moov atom not found\\n/tmp/cache/Rueckseite-20230416152813.mp4: Invalid data found when processing input\\n'\n    2023-04-16 15:28:17.250561009  [2023-04-16 15:28:17] frigate.record                 WARNING : Discarding a corrupt recording segment: /tmp/cache/Rueckseite-20230416152813.mp4\n\nThis wasn't in the docs to begin with, found it crawling reddit and gihub issues, but can't find anything yet for 0.12.0."", 'hannsr: dang it, thanks! \n\nThankfully just a dummy pass.', 'nickm_27: I’d suggest using go2rtc to do this, not doing it in frigate directly. Otherwise, if you want to do it in frigate, you don’t be able to use the ffmpeg presets', 'hannsr: Ah, so just add the output args to go2rtc something like this? \n\n            tuer: \n              - http://10.10.60.13/flv?port=1935&app=bcs&stream=channel0_main.bcs&user=user&password=password\n              - ""ffmpeg:reolink#audio=opus"" \n              output-args: -vf transpose=2 -f rawvideo -pix_fmt yuv420p\n\nMy yaml skills aren\'t that advanced yet.', 'nickm_27: No, go2rtc is entirely different format than frigate https://github.com/AlexxIT/go2rtc#source-ffmpeg\n\nIt would be something like this\n\n```\n        tuer: \n          - ""ffmpeg:http://10.10.60.13/flv?port=1935&app=bcs&stream=channel0_main.bcs&user=user&password=password#video=h264#audio=copy#rotate=180#hardware"" \n          - ""ffmpeg:reolink#audio=opus"" \n```\n\nonly add `#hardware` if you have hwaccel', 'hannsr: Oh, alright, thanks!\n\nGuess I\'ll have to do some digging, I keep ending up with this error:\n\n    ERR github.com/AlexxIT/go2rtc/cmd/streams/producer.go:53 > error=""exec: exit status 1"" \n\nBut now I know where and what to look for, thanks!', 'nickm_27: You should enable trace logs for exec module, it will show the ffmpeg error.', 'hannsr: think I got it, thanks. Had to remove `#hardware` thouigh to get it to work. Otherwise I got this error. \n\n    2023-04-16 16:16:28.545042604  16:16:28.544 DBG [exec] run url=""exec:ffmpeg -hide_banner -v error -hwaccel vaapi -hwaccel_output_format vaapi -fflags nobuffer -flags low_delay -i http://10.10.60.13/flv?port=1935&app=bcs&stream=channel0_main.bcs&user=user&password=password -c:v h264_vaapi -g 50 -bf 0 -profile:v high -level:v 4.1 -sei:v 0 -c:a copy -vf format=vaapi|nv12,hwupload,transpose=1,transpose=1 -user_agent ffmpeg/go2rtc -rtsp_transport tcp -f rtsp rtsp://localhost:8554/0085c1da615f6c449cf9f761f5f60bba""\n    2023-04-16 16:16:30.939177439  Impossible to convert between the formats supported by the filter \'Parsed_hwupload_1\' and the filter \'auto_scale_0\'\n    2023-04-16 16:16:30.939303108  Error reinitializing filters!\n    2023-04-16 16:16:30.939305390  Failed to inject frame into filter network: Function not implemented\n    2023-04-16 16:16:30.939306814  Error while processing the decoded data for stream #0:0\n    2023-04-16 16:16:30.956485777  16:16:30.956 ERR github.com/AlexxIT/go2rtc/cmd/streams/producer.go:53 > error=""exec: exit status 1"" url=ffmpeg:http://10.10.60.13/flv?\n\nBut Ishould be able to take it from here. Thanks again!']"
1681331014.0	12-Apr-2023 13:23:34	Frigate version 0.12.0 - awesome update	notalbymangels	104	12jxu78	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jxu78/frigate_version_0120_awesome_update/	"Just a shout out to the developers of Frigate for the fantastic work they are doing.

https://github.com/blakeblackshear/frigate/releases/tag/v0.12.0

The latest update gives us some really useful UI updates (the integration needs updating as well as the add on), but most significantly for me allows the use of the Intel GPU for detection using OpenVino (and Nvidia GPU using TensorRT).

https://docs.frigate.video/configuration/detectors

I've had a Coral on order for several months and no sign of it coming soon, but using OpenVino I've gone from ~150ms inference speeds to 15-17ms on my two Lenovo SFF PCs running HAOS.  I've cancelled my Coral order.

I've sponsored the devs in github, but hadn't seen this mentioned here so wanted to spread the word."	139	"['ElectroSpore: There is a LOT to love about 0.12:\n\n- the new go2rtc adds near real time webrtc natively. As well as letting you have a way to reduce connections to your cameras by restreaming the source feed internally to frigate and external players\n\n\nNot part of frigate it self but I also want to call out that the custom [frigate-hass-card v5 beta versions](https://github.com/dermotduffy/frigate-hass-card/releases/tag/v5.0.0-beta.1) now support native frigate go2rtc streaming over webrtc etc, and have many other NVR like elements like mini-timelines under camears. Makes for a very nice front end to frigate native to HA.', 'woodsmithrich: Side bar: ordered my usb coral from SeeedStudio on March 15 and it arrived by April 3rd.', ""jmcgeejr: I was super pumped to read about hw accel stuff but for some reason it doesn't work for me with my install (albeit it's installed in vmware workstation pro 17 on a windows 10 box.  Has 3d accelerated enable in vmware but it doesnt detect my 12th gen intel gpu or the nvidia p400 I have installed."", ""renaiku: I have the docker version 0.11 through portainer docker compose. How do I update ?\n\nI've never had to update a container before 😅."", 'Old_Kaleidoscope4363: Yes, OpenVINO is a save for me!  I can completely forget about Coral now.  Also like the new Web UI.', 'gergles: This version also fixed the weird issue with included drivers inside the container for intel GPU hwaccel being different than what was inside the main supervised OS container or something like that. Upshot is hwaccel works now as well inside the supervised OS (installed on a NUC) which dropped the CPU usage of the container by almost half.', ""Boba_ferret: Does anyone know if HA will ever support Radeon drivers? I'm using a AMD-based thin client and running frigate as an add-on, but can't use hardware acceleration, as HA does not have a radeon driver, at the moment. It does work, but playback is quite jerky."", 'jeremycmp: How do I install openvino? I see the changes required for the config but does some type of software or drive need to be installed.  I’m running home assistant OS directly on a Mac mini.', 'Eximo84: 🤔 I have enabled go2rtc and restreaming but I don’t have the option in the live view to see other methods. Only jsmpeg.', ""blentdragoons: I've been running the 0.12 beta for a while and love it. I'm using the TensorRT for my Nvidia GPU and it works great, especially since getting a TPU is difficult."", 'None: [deleted]', 'InternationalNebula7: Upgraded just for the reported improvements on CPU load and was not disappointed.\n\nBecause of the changes in documentation, I re-read things and added motion masks for trees to further CPU gains.\n\nI also noted that manually changed FPS could potentially worsen CPU usage:\n\n*""Ideally, cameras should be configured directly for the desired resolutions and frame rates you want to use in Frigate. Reducing frame rates within Frigate will waste CPU resources decoding extra frames that are discarded.""*\n\nSo I removed my 2 FPS configuration, which results in the default 5 FPS. \n\nPreviously I was under the impression that, *""Higher resolutions and frame rates will drive higher CPU usage on your server.""*\n\nFeedback anyone?\n\nCheers to the developers! Thanks for conserving those watts!', ""joaopedros2: Hello everyone! I recently upgraded to the new version of Frigate, but unfortunately my previous configuration is no longer working correctly.\n\nFrom what I understand, this new version allows camera streaming to first pass through go2rtc and then through Frigate. I only have the Frigate add-on and integration installed on my HA.\n\nCurrently, I have the Frigate add-on working with the configuration of two streams for go2rtc.\n\nThe problem I'm having now is accessing the go2rtc dashboard. The page that opens gives a 404: Not Found error.\n\nWhat do I need to do to fix this? Is it on the dashboard where I get the stream links to put in frigate.yml and activate detection correctly?\n\nI apologize for the questions, but I'm new to this..."", 'joaopedros2: Ok, 👌', 'lukerwry: The HACs integration that works with the .12 frigate container/addon is still in beta right?', ""oramirite: Frigate is unusable for me at my property until it allows triggering events through the API or an external sensor. I have some situations where I need to record events after my doorbell is pressed because of a weird property layout, and the person detection has failed me multiple times when I had packages stolen (I live in the city). It's a bummer and at this point it's costing me money so I have to switch to something else :("", 'jibbyjobo: OP can you check the watt differences between using OpenVina vs Coral?', 'sahibsahib: Now what is frigate?', ""Oublic: The go2rtc integration is great! I've been able to switch back to HA to view livestreams instead of Unifi Protect."", ""wsdog: Can somebody explain this?  I'm already using the frigate integration to watch my cameras and the feed goes via the frigate itself, not through the camera.\n\nGo2rtc seems to need an additional port open, the documentation is not clear on that either."", ""psychicsword: I can't figure out how to get my esphome camera to work with it in go2rtc for low latency streaming. Every time I try it claims that there aren't any frames but I love it for my tapo c110 camera"", ""notalbymangels: > SeeedStudio \n\nI'm in Aus.  I looked for alternatives and even ordered a second one from another supplier, but they don't even have an expected stocking date.\n\nI was considering ordering from OS but now I don't need to."", ""waka324: VMware won't pass HW like that through to the VM."", ""blentdragoons: Use KVM -- it's free, works great and passes everything through so you get your GPU in the VM for hw accell and detectors."", ""nickm_27: Have you made a support issue on GitHub? we'd be happy to help"", 'Naratetama: Check this out: https://docs.frigate.video/frigate/installation#docker\n\n**TL;DR** you only have to replace the image link to *ghcr.io/blakeblackshear/frigate:stable*. Make sure update the stack and re-pull the image on Portainer.', ""Saiboogu: Make sure you're using the new GitHub docker repo. The old Docker hub location isn't being updated to 0.12. The stable tag pulls 0.12 \n\nhttps://github.com/blakeblackshear/frigate/pkgs/container/frigate"", 'None: [deleted]', 'nickm_27: I don’t think they have interest but that is just speculation. Also, hwaccel shouldn’t be affecting playback so that may be something else (unless your cpu is pinned at high load)', 'notalbymangels: On my i5 and i7 Lenovo devices running HAOS I simply updated the Frigate add on and the integration to the latest versions, then in frigate.yml removed the cpu detectors code and added this:\n\n\n    detectors:\n      GPU:\n        type: openvino\n        device: GPU\n        model:\n          path: /openvino-model/ssdlite_mobilenet_v2.xml\n    \n    model:\n      width: 300\n      height: 300\n      input_tensor: nhwc\n      input_pixel_format: bgr\n      labelmap_path: /openvino-model/coco_91cl_bkgr.txt\n\nbut I have no idea if that will work on a mac mini.  Hopefully someone else will answer that for you.', ""Mysterious-Flamingo: I could be wrong (I hope I am), but I think I saw somewhere that you can't use a GPU for detection with Home Assistant OS.\n\nI have mine running on an old gaming laptop and would love to use the Nvidia GPU on it for detection, but couldn't find a way and gave up."", 'nickm_27: do you see the GPU device if you look in the hardware section of HA OS?', ""nickm_27: this is usually because you don't have the name of the stream and camera matching and you have not set `live -> stream_name`"", 'nickm_27: have you made a support issue? we would be happy to help', ""notalbymangels: > So I removed my 2 FPS configuration, which results in the default 5 FPS. \n\nIs your camera set to 5fps in it's internal software (for the feed you are using for detection)?"", ""nickm_27: the go2rtc dashboard link won't work if you are using the addon ingress. You will either need to update the addon configuration to map port 1984 and view it there, or map port 5000 and view it at `ha_ip:5000`"", 'nickm_27: It’s fully released now', 'nickm_27: Not trying to change your mind, but just for information sake this is a feature potentially on the docket for 0.13\n\nI already have a draft PR up though it will need changes', 'notalbymangels: Is there a reason you can\'t just use the camera.record service on the button press?\n\n    description: RecordClip\n    mode: single\n    trigger:\n      - platform: device\n        domain: mqtt\n        device_id: 7fe49afed3dcf831f98f95cb3a9eee3f\n        type: action\n        subtype: single\n        discovery_id: 0x00158d0007edb8a9 action_single\n    condition: []\n    action:\n      - service: camera.record\n        data:\n          duration: 30\n          lookback: 5\n          filename: /media/camerafrontdoor_{{ now().strftime(""%Y%m%d-%H%M%S"") }}.mp4\n        target:\n          entity_id: camera.192_168_0_108\n\n\nor something similar.', '_EuroTrash_: Upvoted because I have two use cases needing this missing feature.', ""notalbymangels: No sorry - I don't have a Coral and have cancelled the order (it has been on backorder since Sept 22, expected delivery June 23)."", 'nickm_27: AI Network Video Recorder https://frigate.video/', 'nickm_27: the mechanism by which frigate passes the stream to the integration is changing. It was via RTMP that was the source of ~80% of support help requests. The new go2rtc (RTSP) restream will be used for this and is recommended. \n\ngo2rtc needs a port open (8554) for rtsp but then you can remove the 1935 (rtmp) port as it is not needed anymore.\n\ngo2rtc also can open port 8555 for webrtc but that is separate to the restreaming for the integration', 'ElectroSpore: Which part? Also as far as ports go it will depend how you are running frigate.', 'nickm_27: Feel free to create a frigate support issue, we’d be happy to help.', ""woodsmithrich: Ah, I'm sorry to hear that struggle. Glad you found an alternative solution."", ""avrealm: i feel like this isnt true...\n\nnvm, you're right, it only works for esxi, not workstation."", ""jmcgeejr: I just presumed it was because I was running it through vmware workstation, I wouldn't want to bother the devs with something like this :)"", 'renaiku: Portainer is throwing errors:\n\nGet ghcr/Io/v2 no route to host ...', ""renaiku: Ouch, portainer is throwing errors because it can't contact ghcr.\n\nI think I need to add something somewhere but it's not written in the documentation I think."", ""renaiku: I'm using stable but the 0.12 is not on dockerhub anymore which make things a lot more complicated to me."", 'Boba_ferret: CPU is at 50%, USB Coral is doing the hard work on the detection now, but I assume that hardware acceleration would lower the CPU load?\n\nHopefully Radeon drivers will be included one day.', ""nickm_27: You can't use an nvidia GPU in HA OS. Intel / openvino works fine in HA OS"", 'jeremycmp: Oh I hope your wrong. 😬', 'jeremycmp: Yes I it is listed under hardware in home assistant.', 'Eximo84: The camera matches the go2rtc name. It works outside of frigate. \n\nI thought the livestream but was only needed if you wanted to show a different stream on the front end. \n\nDocs suggest once go2rtc is enabled MSE should be enabled in the drop down.', 'None: [deleted]', 'InternationalNebula7: FPS is not specified elsewhere in the configuration file. When I FFProbe the cameras two are ""FPS: 20/1"" and one is ""FPS: 15/1"" but if I look at the under system ffmpeg and capture it usually says FPS 5 or 5.1.', ""joaopedros2: I tried accessing it through my ha_ip:5000 and 1984 but it didn't work... Is there any wrong configuration?"", ""lukerwry: Nice, I'll put it on the list to check out! I had a lot of issues getting the igpu pass through working and am hoping the transition to .12 is going to be easy."", 'Oublic: Certainly not in the same situation, but this would be a very useful feature for me as well. There are some scenarios where either a door opening or an existing motion sensor should trigger an event.', 'oramirite: Hey! I recognize your name from that Issue, hi! Thank you so much for working on this feature.\n\nI appreciate your comment about the 0.13 release, but to be frank, I\'ve been very annoyed by Blake\'s seeming resistance to adding this feature. I have been asking about it for 2 years and multiple times he has told people ""not to work on it"" and shown a lot of resistance to the arguments for it. It\'s incredibly frustrating to me because as I mentioned the lack of this feature makes Frigate unusable for me, and I\'m flabbergasted as to why the use-case isn\'t being understood by him. He seems obsessed with making So detection viable for every situation which it simply is not.\n\nOkay sorry, rant over. My read on the situation might be TOTALLY wrong, and I hope it is. But your draft PR has been waiting for review for a year, has it not?\n\nI honestly just get the impression that Blake wants people to ignore this feature need, but it\'s a need.\n\nThank you so much for all your work!!!!', '_EuroTrash_: Edit: I confused ""PR"" with ""issue"". Please disregard\nEdit2: lol @ late downvote. Dev who replied is cool, downvoter isn\'t.\n\nHopefully this time your PR gets better reception than [this PR](https://github.com/blakeblackshear/frigate/issues/4396) or [this one](https://github.com/blakeblackshear/frigate/issues/3485) or [this one](https://github.com/blakeblackshear/frigate/issues/5243) which is exactly one of my use cases. I have AI working *on demand* in Blueiris and I\'d love to migrate to Frigate but, from the tone of the comments in those PRs, devs seem quite hostile to the idea.', ""oramirite: I believe this just starts an HA-based recording, not a Frigate recording. So it wouldn't be available in the same UI or have timestamps, etc."", ""_EuroTrash_: This wouldn't work for my use case, due to missing prebuffering: it would only start recording after the actual event happened.\n\nHere what I have: 16x 4k cameras, Blueiris direct recording to disk, 1x H.265 main stream to record events when triggered (with 4 seconds prebuffer) and 1x  low-res H.265 substream continuously recorded.\n\nTrigger events are either ONVIF or URLs (the doorbell can call an URL and trigger BlueIris).\n\nMy cameras provide AI smart events through ONVIF. There are false positives but the cameras' AI uses very little power. Codeproject.AI runs *on demand when triggered externally* to eliminate the false positives.\n\nCurrently running on an i5-8600 with no GPU and using <35W including a 16TB Seagate Exos HDD for storage and an M.2 SSD for the system.\n\nI'd love to migrate the above to Frigate, without loss of functionality."", ""oramirite: Thanks, I don't understand how this hasn't been a critical feature for many."", 'jibbyjobo: I just tried openvino, and damn  my inference speed went down below 25ms from 160ms before(cpu detector). Cpu usage is around 6% now.\n\nMy coral is currently at lax airport. Fuck, too late to cancel it I guess. What a banger update.', 'wsdog: Do I  need both 8554 and 8555 for the integration to work?', ""cesar_padilla: I'm also trying to understand go2rtc integration... if I want to reduce the connections to the camera by using the restream option in go2rtc, can I still use hwaccel preset for ffmpeg? If I'm not transcoding the stream do I need hardware acceleration in go2rtc?\nI'm currently using Intel qsv hwaccel preset.. thanks :)"", 'danlo315: Hi u/nickm_27 can you share some thoughts on how to integrate the go2rtc restreams with Google Home integration via Nabu Casa?  The streams are working in HA but would love the ability to use voice to stream to the Nest Hubs.', ""waka324: Yeah, proxmox and such will work, and you can even virtualize your GPU to share with multiple VMs, though with intel you'd have to roll your own kernel for their new virtual GPU support if you have a gen 10 or later."", ""nickm_27: yeah, we have had issues with vmware with other users as well. Always happy to help though, it's not a bother"", ""Naratetama: I think it's related to your network. I literally just finished updating, it's fine here.\n\nMaybe check if there's any tab or blank spaces under:\n\n    image: ghcr.io/blakeblackshear/frigate:stable\n\nOr try to copy mine."", ""nickm_27: we did not have any issues with portainer users being able to pull the image during the beta, so I don't think it is directly related to portainer"", 'nickm_27: Yes, it would lower the load of decoding the video stream for detection. Hopefully they do', 'Mysterious-Flamingo: Ah okay, thanks. I think that laptop had an integrated Intel GPU in addition to the Nvidia GPU. Would you know if that would work?', 'Mysterious-Flamingo: It seems I was! I just got it to use the integrated Intel HD Graphics 530 GPU on my laptop running Home Assistant OS and cut my inference speed from 104 ms down to 21 ms.\n\nThanks again u/nickm_27 for correcting me!', 'nickm_27: then should workout without issue', 'nickm_27: The names need to match exactly including case, and if they do both mse and WebRTC will show in the drop down. This is how it’s worked for all other users. \n\nOtherwise, can just try stream_name to see', 'nickm_27: right, we moved to btbn ffmpeg. But at this point in time, with 0.12, everything should be working unless you are running arm32', 'notalbymangels: I meant in the actual camera configuration via its admin portal, not in frigate.', 'notalbymangels: When I ffprobe my cameras I get\n    \n    Ffprobe Output\n    Stream 0:\n    Return Code: 0\n    \n    Video:\n    \n    Codec: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10\n    Resolution: 1280x720\n    FPS: 5/1\n    \n    Stream 1:\n    Return Code: 0\n    \n    Video:\n    \n    Codec: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10\n    Resolution: 3072x2048\n    FPS: 15/1\n    \n    Audio:\n    \n    Codec: AAC (Advanced Audio Coding)\n\nStream zero is my detection stream which has a FPS of 5', 'nickm_27: You need to enable those ports in the addon config, it’s disabled by default', ""nickm_27: To be honest you are definitely reading the situation wrong. Blake is not against the idea and understands the feature. He was saying not to work on it at certain times in frigate's development because the parts that the code to do this touches was being revamped for other reasons. So if someone spent time on it, then they would just need to spend more time getting it to work with the other changes that would be conflicting.\n\nWe do our best to implement a feature in a way that is worth implementing, not a slap bandaid that works but is going to cause a headache to maintain in the future.\n\nThis is the same for this manual event API feature now, I have a PR which works but it does not really jive with the direction the code is going, so it will need to be rewritten. There are other changes coming to frigate which would conflict with this."", 'nickm_27: I think you misunderstand? Those are feature requests, PR is the actual code being written (as I’m one of the devs / contributors)\n\nThat type of motion detection won’t work for frigate as frigate doesn’t send the whole frame to look for objects, only the parts that have motion. As was explained in those issues, onvif doesn’t provide that information.', 'notalbymangels: True.  Op would need to manually browse the media folder (or wherever the video was saved).', ""strawberry_gin: I can see how in the situation you described it would be important. But to be honest, in my usage of frigate I don't see how the feature would be that important let alone critical. For me the AI detection / zones always captures what I need and I don't know where a sensor would play into my current setup. \n\n&#x200B;\n\nGuess that just goes to show much everyone uses the same software in different ways"", ""nickm_27: coral power usage will likely be lower draw, but we haven't done extensive testing on it yet so remains to be seen. Of course it will also depend on the particular intel device that a user has"", 'nickm_27: No, 8554 is all that is needed for the integration to work', 'nickm_27: You SHOULD still use hardware accel, that is entirely separate from go2rtc. If you are not using transcoding then there is nothing to hwaccel in go2rtc config', 'nickm_27: Voice as in two way talk? That’s something for go2rtc, I’m not sure how that would work', 'jmcgeejr: Done', ""renaiku: Almost !\n\nThe pi hosting was like any of my IOT devices in a group of my router without internet access !\n\nIt's deploying thanks guys !"", 'nickm_27: I believe it should', 'Eximo84: Ok. Reviews the docs. It’s not clear, but I had _main and _sub for my go2rtc streams. Then the camera was just roomname. \n\nI removed _main from the go2rtc stream so it matched the camera roomname. \n\nSeems to be working now. \n\nThanks', ""jibbyjobo: My server with 4th gen intel have issue with ffmpeg as well after updating, it will crash after 10s. If I disable hardware acceleration, it didn't crash, but all camera feeds are not working. Testing with another server with 7th gen intel runs great however."", ""InternationalNebula7: I'm not sure what the camera's default FPS is over RTSP. My goal is to reduce the power draw of the Frigate server, so I'm okay with a low FPS. My question is really if the FPS specification (of 2 FPS in Frigate) will save CPU processing/power or not."", ""joaopedros2: Great! Now I have access to the dashboard.\n\nNew problem. I don't have audio on the HA integration stream. I have the following camera configuration:\n\n    go2rtc:\n      streams:\n        CAM_quarto_lourenco:\n          - rtsp://user:pw@192.168.xx.xxx:xxx/stream1\n    \n    live:\n      stream_name: CAM_quarto_lourenco\n    \n    cameras:\n    ## CAMARA LOURENCO\n      CAM_quarto_lourenco:\n        ffmpeg:\n          output_args:\n            record: preset-record-generic-audio-copy\n          inputs:\n            - path: rtsp://192.168.xx.xxx:8554/CAM_quarto_lourenco\n              input_args: preset-rtsp-restream\n              roles:\n                - record\n                - detect"", 'oramirite: Totally understand, thank you for explaining and correcting my perception. I\'d never want to be a privileged user, it\'s just tough because I really want to rely on Frigate but like I mentioned it\'s just unfortunately totally unusable for now. I wish that this feature was viewed as more important so that the code changes didn\'t constantly out-pace this features ability to exist.\n\nIf I\'m truly one of a few people in the world who need this then I guess thems the brakes, but I honestly still don\'t understand how this isn\'t a foundational feature that\'s considered a must-have as a generic way to fire events. The longer the system goes without accounting for this ability the less useful it will be in my opinion.\n\nI don\'t see a roadmap for this feature, it seems to just get ""bumped"" and ignored, so in that way I\'m struggling to see it as being set up for success. It\'s disheartening to hear you\'ll have to rewrite it again because it feels like that\'s happened 2-3 times.\n\nAgain though thank you to both of you for creating such a cool thing. It\'s exclusive focus on AI detection unfortunately rules out my home.', '_EuroTrash_: My bad sorry, in the bug tracking system I use at work a PR (Problem Report) and an ""issue"" are the same thing', ""_EuroTrash_: >That type of motion detection won’t work for frigate as frigate doesn’t send the whole frame to look for objects, only the parts that have motion. As was explained in those issues, onvif doesn’t provide that information\n\nDoes Frigate have an option to pre-buffer video, eg. 5-10 seconds before the trigger event? Eg. At trigger time, the native Frigate motion/object detection could start reviewing the pre-buffered footage. That's the way I use Blueiris today.\n\nFrom my limited testing, HA has already an hikvision Integration that used to be buggy but now it works fine. There also is a generic ONVIF one. Events from those could become triggers through automations."", ""oramirite: OP would be me lol. Ya I've tried everything."", 'wsdog: Cool, thank you!', ""blentdragoons: Furthermore, you don't need to expose your frigate server outside of your LAN.  You can view all cameras &snapshots thru HA. In my config I have HA exposed on 443 outside my network and no other port. Everything works great."", 'cesar_padilla: Thanks... I just applied it, single connection to a camera with go2rtc with restream, ffmpeg hwaccel still working with no issues, I now see the additional live view options... And home assistant is also using go2rtc... btw the documentation helped a lot! Nicely done', ""puterTDI: I've tried enabling hwaccel on my pi several times.  At first it caused the ffmpeg to crash.  Now I have random cameras either stop entirely or show garbled video, restarting the addon just changes which cameras fail. If I turn hwaccel off it works fine.\n\nI have a few cameras that reliably work with hwaccel on.  I wish it were possible to turn it on just for those cameras"", ""danlo315: I mean, using my voice to tell Google to stream a particular camera to a Nest Hub.  My streams are not working in Google Home, and I'm wondering if it's because of Nabu Casa."", 'Mysterious-Flamingo: Sounds like a little project for this evening then! Of course this comes to light when my Coral is about to ship lol', 'nickm_27: Make sure you are using i965 driver on the 4th gen', ""notalbymangels: I don't know for sure but from the docs:\n\nhttps://docs.frigate.video/frigate/camera_setup\n\n> The recommended frame rate is 5fps, but may need to be higher for very fast moving objects. Higher resolutions and frame rates will drive higher CPU usage on your server.\n\nAgain, and I feel this is still unclear from your comments - this is in the camera hardware setup, not the Frigate configuration.\n\nSo log in to the camera admin portal, change FPS to 5, then from the sample config file:\n\nhttps://docs.frigate.video/configuration/\n\n    detect:\n      # Optional: width of the frame for the input with the detect role (default: shown below)\n      width: 1280\n      # Optional: height of the frame for the input with the detect role (default: shown below)\n      height: 720\n      # Optional: desired fps for your camera for the input with the detect role (default: shown below)\n      # NOTE: Recommended value of 5. Ideally, try and reduce your FPS on the camera.\n      fps: 5\n      # Optional: enables detection for the camera (default: True)\n\nIt seems to me your cameras are running at 15 or 20 FPS and you are then forcing it to 2 FPS, making Frigate work harder.\n\nI'm no frigate expert though just trying to talk through your issue based on my limited experience and reading."", 'nickm_27: The docs cover this, you need aac audio for the live view, so you need to add audio transcode to go2rtc config', 'nickm_27: It’s got a decent number of reaction so I’d say it is medium in terms of popularity https://github.com/blakeblackshear/frigate/issues/1063\n\nI’ve only written the initial draft, so I haven’t rewritten it and honestly the way it’s implemented now I’m not sure would be suitable for all the use cases you are imagining. It will be in a better state once it’s accepted.', ""nickm_27: ah! that is funny. there's many acronyms for everything I suppose"", 'nickm_27: Yes, frigate supports pre and post capture on events', 'nickm_27: > I have a few cameras that reliably work with hwaccel on. I wish it were possible to turn it on just for those cameras\n\nit is entirely possible to only turn hwaccel on for specific cameras, just set the hwaccel args at the camera level', ""nickm_27: no, it's most likely not because of nabu casa. If I had to guess, you either haven't updated to the v4 of the integration or something is not setup correctly. The streams, if not setup correctly, will show as a snapshot that updates once per second so it could seem like it is working but it isn't"", ""jibbyjobo: Thank you. I tried that, but just could not solve it unfortunately. \n\nI move to lxc setup, and everything is working great so far. Been meaning to move to lxc for a while now, so this just gives me the excuse to finally do it. The only 'cons' imo, there is no way to secure the webui/frontend."", 'InternationalNebula7: Yeah I agree with this assessment. I removed the 2 FPS from the configuration file. Unclear how big of an impact it is making. Thanks for your time!', ""joaopedros2: Now it's working and I can already see the cameras on the go2rtc dashboard.\n\nMy difficulty now is how to have the webrtc stream on the frigate card.\n\nCurrently, I have it but it's not using the webrtc stream. The camera entity is using rtsp, which I configured in the frigate.yml."", 'oramirite: I have to say, I\'m still a little unsure if you guys understand the feature request. At the very least I feel the execution is being way overcomplicated. There is no need to account for multiple use-case, only a basic recording that gets triggered and simply respects the existing default recording length rules in the main config.\n\nI described my situation in great detail in the issue, but maybe it would be helpful if I posted an actual picture for you guys, and reiterated the problem?\n\nMaybe these additional API features for customizing the recording length, re-triggering recordings, etc that I see discussed in the PR will be cool to have down the line. But I don\'t understand why we can\'t get a basic implementation before all these fancy features. It seems to be holding up a basic implementation, which doesn\'t mean ""bad"", there is nothing wrong with limited scope.\n\nNo metadata, no object detected. Just a video triggered via an API call or MQTT with zero data in it, that starts a set-length recording. That\'s it.\n\nYou can\'t possibly anticipate every possible use-case people will have for this, the whole point is for it to be generic and for the user to bear the burden of bootstrapping it with anything extra. It\'s really the foundation for automations in a smart home... no device handles everything at once, it does one thing and one thing well, and then we connect things together with automations. Frigate doesn\'t need to ""do it all"" and in this case that mentality seems to be in the way of what I consider a crucial feature.\n\nI really feel this feature is being overinflated to something nobody is asking for and it\'s holding up a basic implementation from actually helping people.\n\nAgain I hope I\'m not coming across as disrespectful, just trying to be crystal clear about what I believe people were actually expecting out of this. I really want to use Frigate!\n\nI\'ve actually become pretty proficient in Python over the past year, maybe I can take a crack at helping soon, but y\'know... life...', ""puterTDI: huh, til.  I couldn't find it in the docs anywhere.\n\nI'll give that a shot I think.  At least I can offload a couple of the cameras.\n\ntbh, I've been impressed that a pi+coral can handle 7 cameras with only around 40% cpu load."", 'nickm_27: Why is there no way to secure the webui? Surely you can still run nginx, traefik, cloudflared, etc. in an lxc?', 'nickm_27: Make sure you’re using version 5 of the card with the go2rtc provider', 'nickm_27: I\'ve been contacted outside of GitHub multiple times on this particular feature, and many times had other use cases presented. So I disagree on ""nobody is asking for this"". But in any case, we of course fully understand the concept of an MVP and not overdoing the feature. Perfect example of this is the feature in 0.12 which limits recording to available storage. Something that could have a lot more customization but was limited in scope for the initial implementation.\n\nIf you want the detection to be handled like other recordings then it needs to be an event. That means it needs to be a part of the event pipeline. Currently the event pipeline is not setup for events to be put in except from the camera detection process which means the event pipeline needs to be rewritten to work differently. This would cover the case of audio events and events from the API.\n\nand I get what you\'re saying about it being essential, but then again we have over 150 pinned feature requests. Many of these feature request issues have people who, literally, have said ""*this* feature request needs to be done for frigate to be usable. I can\'t believe frigate doesn\'t have this feature yet."" and they have feelings that it is being ignored which of course is inaccurate.', 'nickm_27: almost every config can be set at the global or camera level in the config', 'jibbyjobo: Maybe I worded it wrong. I meant something like a login page of sorts.', 'joaopedros2: Ok, is beta version...', 'oramirite: Thank you so much for your engagement. I\'ve clearly made my point heard and you are clearly listening, that\'s all I can ask for! Again I hope it\'s clear that I\'m so set on it because Frigate is awesome. Sometimes missing edge-case features are only obvious because the rest of a product is nailing it.\n\nYou bring up a funny point about the storage because I totally agree - I\'m one of the people with an NFS server I\'d love to connect directly but I totally understand you not wanting to mess with this. Docker providing good workarounds saves the day here.\n\nAs a designer I also get the ""everything is important"" dynamic, all I can do is advocate for the ones I view in that manner and at the end of the day we\'ll all get a better product.\n\nAgain really appreciate your time and explanation.', ""puterTDI: maybe that's why i couldn't find reference to it.  Thank you."", 'nickm_27: yes, all the options I mentioned allow you to add that. Some allow user / pass while others even have the option to use Oauth accounts to login', ""nickm_27: make sure you are using the go2rtc provider, and you shouldn't use the camera entity you should use the camera_name and set it to the name of the stream in the go2rtc config"", 'nickm_27: the full reference config has ""can be overridden at the camera level"" to show this', ""jibbyjobo: I'm not aware of that. Will it work even if someone just typed the local ip adress (10.10.10.1:5000)? My use case is lan only & the occasional wireguard if I'm away from home for significant time."", 'joaopedros2: Can you share an example of that setup?', ""puterTDI: I'm getting validation errors when I try to put it at the camera level.  I think I may have tried to in the past and concluded it couldn't be done because of that.\n\nThis is what I added:\n\n      bedroom:\n        ffmpeg:\n          inputs:\n            - path: rtsp://admin:<censored>@<censored>/cam/realmonitor?channel=1&subtype=1\n              roles:\n                - detect\n            - path: rtsp://admin:<censored>@<censored>\n              roles:\n                - rtmp\n                - record\n          hwaccel_args:\n            - -c:v\n            - h264_v4l2m2m\n\nNote that these are the exact same args that I use at the global level that it will start up with but has trouble with various cameras not loading.\n\nthis is the validation error:\n\n> 2023-04-13 15:15:34.194811807  2 validation errors for FrigateConfig\n> 2023-04-13 15:15:34.194818881  objects -> global_args\n> 2023-04-13 15:15:34.194821251    extra fields not permitted (type=value_error.extra)\n> 2023-04-13 15:15:34.194832918  objects -> input_args\n> 2023-04-13 15:15:34.194923953    extra fields not permitted (type=value_error.extra)\n\n**EDIT: Nevermind, I'm an idiot.  I screwed up the removal of ffmpeg args further down and that was what was causing the error**"", 'nickm_27: you can certainly set it up that way', 'nickm_27: ```yaml\ntype: custom:frigate-card\nview:\n  default: live\n  camera_select: current\ncontrols:\n  thumbnails:\n    mode: below\n    media: clips\ncameras:\n  - camera_entity: camera.front_doorbell_cam\n    live_provider: go2rtc\n    frigate:\n      url: http://192.168.50.106:5000\n    id: front_doorbell_cam\n    go2rtc:\n      modes:\n        - mse\n        - webrtc\n      stream: front_doorbell_cam_sub\nperformance:\n  profile: high\n```\n\nin my case, I have the camera being streamed as `front_doorbell_cam_sub`', 'nickm_27: looks like you have a mix of tabs and spaces which is causing issues. If you use the frigate config editor it should show if there is a problem with it\n\nif you are on 0.12 this is what I would suggest\n\n```\n  bedroom:\n    ffmpeg:\n      hwaccel_args: preset-rpi-h264\n      inputs:\n        - path: rtsp://admin:<censored>@<censored>/cam/realmonitor?channel=1&subtype=1\n          roles:\n            - detect\n        - path: rtsp://admin:<censored>@<censored>\n          roles:\n            - rtmp\n            - record\n```', ""puterTDI: sorry, my edit was too slow.  I'd fucked up the removal of hwaccel further down and that was causing the errors.\n\nI wasn't aware of the preset-rip hwaccel args.  I wonder if that will fix my reliability issues with the cameras.  I'll give it a shot - thank you so much for the help!\n\nEdit: it looks like using preset-rpi-h264 causes ffmpeg to crash"", 'nickm_27: it should be exactly the same as using h264_v4l2m2m, would be curious to see the logs otherwise', ""puterTDI: so, this is wild.  on one of my cameras I'm getting frames flashing in from another camera.  \n\ndog run camera 1 is getting frames fro top deck flashing in which is triggering a bunch of detection/motion events.  dog run camera 1 has hwaccel on, top deck has it off.\n\nThis only happens on the dog run camera 1 camera, all the others are behaving normally including top deck.  If I disable hwaccel on the dog run camera 1 the behavior stops.\n\nI was able to get hwaccel running on 3 out of 7 cameras in the end.  I still see about the same cpu load sadly.  I'll leave it running for now and see if it's reliable.\n\nThank you for your help!\n\nEdit: another camera with hwaccel just started flaking so I'm down to 2 out of 7\n\nEdit2: i wonder if the gpu on the rpi just can't keep up."", 'nickm_27: Yeah, the RPi hwaccel is not very good compared to the others unfortunately']"
1681330874.0	12-Apr-2023 13:21:14	Energy sensor reset and shows wrong data now	l18gamer	1	12jxrl0	homeassistant	https://www.reddit.com/gallery/12jxrl0		3	"['alex3305: If the `entity_id` is the same, the data should be there. Or maybe you have pruned the data?', ""l18gamer: I have a Shelly 3EM to measure my power consumtion. I had it turned off for a while and after reconnecting it, the sensor data reset.\n\nIs there a way to set this sensor value manually to the previous state?\n\nI tried to adjust the statistic but it didn't seem to work.."", ""l18gamer: If pruning means deleting thr old historic data, then yes. Since I have very limited storage, only the last 2 weeks of data are kept, unfortunately.\nThats the reason why I'm looking for a way to change the sensor value. Something like an offstet or similar.""]"
1681330608.0	12-Apr-2023 13:16:48	Turn a self locking switch smart?	Rohit9912	1	12jxmfp	homeassistant	https://www.reddit.com/gallery/12jxmfp	"Hi guys looking for a bit of help with my situation. So I have three monitors and I would like to switch the input of these monitors using a displayport switch. The thing is there is three switch and 9 wires and its not gonna be pleasant to look at so I was planning on putting the switches underneath my desk and controlling them using home Assistant or any thing similar. I wanna know if this is possible and how to go about solving my situation. I have included photos of the self locking switch and the displayport switch.

Ideally I would like to switch them individually and be able to switch them all to one input. Thanks for the help and if there is a better subreddit who can help let me know. I am a noob when it comes to electrical components but I can code if that helps."	4	"['crashbash2020: the diagram doesnt make much sense as it doesnt use ""standard"" contact notations, but i would guess its a basically a double pole double throw switch, where it can be set to spring return or not (the mechanical lock)\n\nI dont quite understand why it wouldnt just be ""locked"" all the time.\n\nIf its basically just a switch between 2 positions, you could probably just replace this with a DPDT relay, and then control that via ESPhome', ""Dendrowen: You'd need something to read the state. Like an esp8266 with esphome. \n\nYou could get the switch out and use the esp to drive the signal with the esp. But how? I'd need to know more. That which I, at my skill level, can only find out with a multimeter ans some good ol trail & error."", 'Rohit9912: So can you explain to me what the purpose of the multimeter would be? This seems to be the best way for me to do it. Is there a set by set guide I could read go through to better understand ESP8266 and get it to read a DPDT switch.', ""Dendrowen: Based on this answer, I would advise you to first create some basic electronic schemes with arduino for practice. Take the time to learn what you're doing, because electronics are unforgivable. If they die, they die and you need new ones.""]"
1681329945.0	12-Apr-2023 13:05:45	I created a monitor for displaying live departure times of the public transportation system in Austria using ÖBBs Scotty. I don't know if Scotty works outside of Austria. Here is the project: https://github.com/Dave2ooo/oebb-monitor	Training_Highway7581	19	12jx9zk	homeassistant	https://i.redd.it/7ojxfjwjfita1.png		3	"['Training_Highway7581: [GitHub Project](https://github.com/Dave2ooo/oebb-monitor)', 'T_Verron: Great!\n\nWhat\'s with the ""vulnerability alert"" message you tell users to ignore? Are there no alternatives?\n\nFor your question, Scotty has some data on trains outside of Austria, even if they don\'t even enter Austria: I\'ve seen regional trains in Paris on my phone widget, for example. It can be a bit confusing for non-Austrian (or German) users, because it will slap German names on the train lines: for instance, it was using S-bahn for both frequent suburban trains and normal regional trains.\n\nI also doubt that it will have data outside of Europe.\n\nIt also took me way too long to realize that in Austria, Scotty also knows about city buses and trams, so one can use it instead of one app for each city.', 'Training_Highway7581: Regarding the vulnerability alert: I don\'t know what the vulnerability is about and I chose to accept it. Unfortunately, I am not really experienced with CORS but I\'ll have a look to resolve that. I admit, it\'s not too great to ignore ""2 high severity vulnerabilities"".\n\nI know, Scotty is really powerful. At least in Austria you can use it for basically every bus, tram, subway or train.']"
1681328632.0	12-Apr-2023 12:43:52	One of the most useful cards on my dashboard is not for home automation. It helps me keep track of which leg to inject my medicine into. Mix of input_boolean helpers and input_datetime helpers with conditional cards.	rickycatto	417	12jwk4c	homeassistant	https://i.redd.it/1qlpzt9nbita1.gif		55	"['fquick: Very unique and creative! Also love when snippets are shared even if I may not use them as it gets my brain thinking for my own. Thanks for sharing.', ""solitaire_pro: HA - Heroine Assistant\n\n\nI'm sorry ;)"", ""rickycatto: `type: horizontal-stack`\n\n`cards:`\n\n  `- type: vertical-stack`\n\n`cards:`\n\n`- type: horizontal-stack`\n\n`cards:`\n\n`- show_name: true`\n\n`show_icon: true`\n\n`type: button`\n\n`tap_action:`\n\n`action: toggle`\n\n`entity: input_button.aimovig_shot`\n\n`name: press on take`\n\n`- type: conditional`\n\n`conditions:`\n\n`- entity: input_boolean.aimovig_side`\n\n`state: 'off'`\n\n`card:`\n\n`type: markdown`\n\n`content: |-`\n\n`#### The last shot was on the` \n\n`# LEFT`\n\n`- type: conditional`\n\n`conditions:`\n\n`- entity: input_boolean.aimovig_side`\n\n`state: 'on'`\n\n`card:`\n\n`type: markdown`\n\n`content: |-`\n\n`#### The last shot was on the` \n\n`# RIGHT`\n\n`- type: entity`\n\n`entity: input_datetime.last_took_aimovig`"", ""mrtramplefoot: That's cool!  Do you push reminders to take it as well?"", 'hjaltih: Ozempic users thank you', 'Eabryt: This is genius and much better than me just looking at my leg to see if I can see a mark still.\n\nStealing it!', ""remembermereddit: Fortunately I don't need this, but this is very smart!"", 'SnooCompliments6776: I do this as well. Agree with your sentiments - super helpful in keeping track of various meds, and that it fits in so well amongst the HA automations.', 'shaunneutron: You need to create 3 helpers for this to work (Settings > Devices & Services  > Helpers):  \n\n\nType Button with name aimovig\\_shot  \nType Toggle with name aimovig\\_side  \nType Date and/or time with name last\\_took\\_aimovig\n\n&#x200B;\n\nReplace names in helpers and yaml for your drug of choice. For me, its Hizentra delivered subQ.', 'HyperPickle66: I’ve got diabetes and I built tons of pages for injections, sensors and whatnot. Mostly with mushroom cards and input booleans, I’d be more than to happy to share my code once I get back home tonight.', 'Svellcome: Saving this. Thank you!', 'BeginningSlow4865: I love this.', ""chicknlil25: I'm using Todoist right now for my weekly shots (one leg, other stomach)...I may not use it this way, but you have got the gears turning on how I can be asking Google which leg I last injected into."", 'ID10T_127001: Next step… attach syringe to a nerf gun actuated by a esp32, duct tape that to a roomba and never worry about it again :)', ""derekakessler: Two suggestions:\n\n1.\tInstead of the location of the last shot, provide direction for the _next_ shot.\n2.\t Push notifications with action buttons to note that you've taken the shot and toggle the appropriate switch. Never have to open HA."", ""uncle__skeeter: This is awesome! My partner takes Amovig monthly. Curious as to why you need to switch legs so diligently? She's never gotten that direction from drs."", ""SirIanChesterton63: These are the types of things that make HA so powerful.\n\nIt's not just for turning lights on and off, it can be used to make your life easier in so many ways. A way to keep track of everything all in one place.\n\nI don't have a need like this but I use it for even non-smart devices around my house. Last time I changed my furnace filter, last time I changed my fridge filter, stuff like that can make life much easier and help keep from the tedium of having to keep track of 100 different things."", 'rickycatto: You got down voted?! Sorry. It was a solid joke', ""rickycatto: Lol! I'm nobody's heroine."", ""Eabryt: Any chance you could post this as a code block to preserve formatting? I'm running into some issues around the conditional indentation."", 'QuizzicalGazelle: You could simplify this by removing the conditional card an replace it by a single markdown card that contains a template display the input boolean.', 'rickycatto: I should add that. Right now I have a ""pull"" reminder (?)... sadly around the time I need to take my next shot I get more migraines. Then I go check how many days I have to wait before I can get relief.\n\n&#x200B;\n\nThe drugs are $750/month without insurance so don\'t want to waste it.', 'fastrack20: I was gonna say the same thing!', ""rickycatto: haha, yeah, that's how I used to do it."", 'rickycatto: thanks for updating this. I also have an automation that updates the time and toggle when the button is pressed.', ""evilspoons: Slightly off topic, but does this end up creating a record of the times the button was pressed in the database? I want to create a sort of 'last done on X date, Y days ago' chore system"", 'rickycatto: With the response, I wonder if it would be worth someone writing a template and card for this.', ""rickycatto: with how chaotic my Roomba is I'm sure my cat will never get a migraine again. Also, I'll be out $750/month on meds that I don't get myself.\n\nWorth it. For science."", 'rickycatto: I do like it. \n\nFor me... instead of using an alcohol swab I just do the shot right after a bath. It helps that I can shave a bit of my leg to make the bandaid stick better if it happens to bleed. So it ends up taking it ""sometime today"" and if I get the notification in the morning... I KNOW I\'ll forget the side and have to look it up again.', ""rickycatto: I don't HAVE to but I just thought it would give each quad a bit of a rest before having to be a medicine store again."", ""rickycatto: I'm thrilled with aimovig. Went from 20+ per month to 2 or 3."", 'thebrazengeek: Yeah, if you think about the possibilities it can go well beyond home assistance. It can be a life assistant too.', 'brotkel: Sounds like the reminders are doing their job, then. 😜', ""psychicsword: I think this is formatted correctly to fix the reddit syntax:\n\n    type: horizontal-stack\n    cards:\n      - type: vertical-stack\n        cards:\n          - type: horizontal-stack\n            cards:\n              - show_name: true\n                show_icon: true\n                type: button\n                name: press on take\n                tap_action:\n                  action: toggle\n                entity: input_button.aimovig_shot\n              - type: conditional\n                conditions:\n                  - entity: input_boolean.aimovig_side\n                    state: 'off'\n                card:\n                  type: markdown\n                  content: |-\n                    #### The last shot was on the \n                    # LEFT\n              - type: conditional\n                conditions:\n                  - entity: input_boolean.aimovig_side\n                    state: 'on'\n                card:\n                  type: markdown\n                  content: |-\n                    #### The last shot was on the \n                    # RIGHT\n          - type: entity\n            entity: input_datetime.last_took_aimovig"", ""rickycatto: Oh dear. I'm not at a computer now. I'll post tonight."", ""mrtramplefoot: If I were you, at the scheduled times I would send myself an actionable notification saying to take the medicine and in what leg with the button for having taken it right in the notification or like a give me ten minutes option to remind you again.  \n\nWhile not the same stakes, I do something similar to make sure I turn off/use the espresso machine after it's turned on and preheated."", 'amarao_san: Huh... Crazy US.\n\nMy condolences.', ""Eabryt: Thanks! I'll need to do a bit more debugging at some point to figure out why my button isn't working but it looks correct now!"", 'rickycatto: Thank you!', 'Ninjotoro: I like this, I’ll try to do something similar for me having to take my asthma inhaler because I can never remember if I took them!\n\nOne question: how do you update the datetime helper?', ""rickycatto: oh! I like that. I should try. \n\nAt my mum's house I set up 3d printed medicine boxes with a door sensor built in. If she hasn't opened the box 5 min after the scheduled time she gets an Alexa reminder. Again at 10 minutes.\n\nAfter 15 minutes I get a push notification to ring my dad and tell him to give them to her. (Can this be actionable to call dad?)\n\n&#x200B;\n\n(she gets an alexa notification when it's time)"", ""jabies: You could use a smart outlet to turn it off after it's been on a while"", 'rickycatto: thanks!', 'leonvolt28: Take it one step further and place an NFC tag on the asthma inhaler to make registering easier.', 'rickycatto:     alias: aimovig button pressed\n    description: """"\n    trigger:\n      - platform: state\n        entity_id:\n          - input_button.aimovig_shot\n    condition: []\n    action:\n      - service: input_boolean.toggle\n        target:\n          entity_id: input_boolean.aimovig_side\n        data: {}\n      - service: input_datetime.set_datetime\n        data:\n          date: ""{{ now().strftime(\'%Y-%m-%d\') }}""\n        target:\n          entity_id: input_datetime.last_took_aimovig\n    mode: single\n    \n\nOh my gosh... I made this a while back and forgot that I had made this automation and helper button to make it update.\n\nSo sorry.\n\n&#x200B;\n\nhttps://preview.redd.it/331vil9gkpta1.png?width=565&format=png&auto=webp&v=enabled&s=cd6e64aeb835ac83a8d6e462d2e150e72801ca7d', ""mrtramplefoot: That's cool you set that up for her!  Sounds well thought out!"", 'broady: You could even automate the phone call! Using a system like pager duty, and you could even have it fall back to page you if your dad is unresponsive too', ""mrtramplefoot: Yeah, that's part of it.  We don't drink espresso every day, so the flow is When I wake up and my is still home (if she works that day, she'll be gone already) I get a notification asking if I want to turn on the espresso machine, if I hit no, nothing happens, if I hit yes, it turns on a smart plug.  After 15 minutes I get a notification that it's preheated and it announces it in the kitchen.  Then I think it's like every 15 minutes, I get a reminder that it's still on with an option to turn it off, give me ten minutes, or give me another 30.  Ay some point it will just turn it off.\n\nIt's the combo of not leaving it on eating electricity, but also if I'm in the middle of something, sometimes I just forget to go make it, so I like the notifications"", 'TomFromWirral: >Just to say I re-wrote this for my pills and it works brilliantly. The only part I needed to tweak was this area. So mine reads as below. So my automation updates when the state of the input boolean changes from On to Off, because when I\'ve taken my pills and hit the button the boolean gets turned off.\n\n    alias: Vitamin button pressed - Date Change description: """" trigger:\n\n    alias: Vitamin button pressed - Date Change\n    description: """"\n    trigger:\n      - platform: state\n        entity_id:\n          - input_boolean.vitamins\n        from: ""on""\n        to: ""off""\n    condition: []\n    action:\n      - service: input_datetime.set_datetime\n        data:\n          datetime: ""{{ (now() | string)[:19] }}""\n        target:\n          entity_id: input_datetime.vitamins_last_taken\n    mode: single', 'Ninjotoro: Thank you!', 'rickycatto: honestly... it was fun for me. That was half the reward', 'rickycatto: the first reminder of the day if weird because it only triggers if the motion sensor in the hall is also triggered, so as not to wake her unduly.', 'rickycatto: Good idea.', 'mrtramplefoot: Nice, I love how predictable our lives can be if you really think about it', 'rickycatto: all hail the machine!']"
1681327783.0	12-Apr-2023 12:29:43	"Getting ""not set"" value for proximity integration"	DAndreyD	4	12jw3d0	homeassistant	https://www.reddit.com/gallery/12jw3d0	"I have added the zones in the HA settings, installed the proximity integration and configured it in the ""configuration.yaml"" file like as seen in the pictures. The phone has location enabled and the HA app is allowed to always access the location.

But I always get the ""not set"" value from the proximity entity. Any ideas?"	2	"['alex3305: Have you moved around at all? I have set it up ages ago, but maybe it should first trigger a leave/enter zone before data comes in.', ""iWQRLC590apOCyt59Xza: Isn't the value not set when inside the zone? (Or 0)""]"
1681327711.0	12-Apr-2023 12:28:31	Amazon Key Garage Delivery Camera Options (Aqara vs. myQ)	MooseCadets	1	12jw1yi	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jw1yi/amazon_key_garage_delivery_camera_options_aqara/	"Hello! I will be moving into a new home in a few months and have been planning my smart home powered primarily by home assistant (with google as secondary integration). I currently use Amazon Key garage delivery now using a myQ hub. I have a Nest IQ Indoor camera pointed at the garage, but I don't get notifications for packages as it can get confusing with general garage usage. I was wondering if anyone had experience with Home Assistant and Amazon Key garage delivery?

Amazon Key looks like it only accepts Amazon Ring and myQ cameras through the app for fully integrated shipment notifications/recording. However, I was going to switch to Aqara for most of my home devices and cameras as I like the compatibility as well as local storage without needing a subscription. I was originally planning on getting a myQ smart garage door opener with camera for Amazon Key in the new home, but as I'm aware myQ cameras have no home assistant integration and a hefty subscription for recording. I am not entirely sure their features without recording. I also wanted to avoid getting an Amazon Ring camera as I have no other Amazon devices in my house.

Ultimately I was wondering if I should get the myQ garage door opener with camera purely for the seamless integration and notifications with Amazon Key, or should I just go with a more open ended camera like Aqara to match devices with my own home but have to tailor detection for indoor package delivery?"	4	"['techdan98: I have a myq and a local garage door solution on the same door.\n\nMyq runs totally separately, and is there just for Amazon key. Everything else is local on HA, and it all works well.', ""NoeWiy: I personally don't use Amazon key, but I do have a camera in my garage. Its set to record on motion, so I would have a recording of all packages if I did use Amazon key. \n\nI don't use Amazon key because I don't lock the man door between the garage and the house, and because I don't trust bezos with a key to my house."", 'MooseCadets: Yeah that’s what I have now. But I don’t get reliable video recording as I’m using a Nest cam in the garage. Any solutions around video recording syncing with when packages should be delivered?', 'techdan98: I use frigate for this on a camera, and it does a good job of catching all motion.']"
1681326820.0	12-Apr-2023 12:13:40	Works with home assistant products	michaelthompson1991	0	12jvkhv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jvkhv/works_with_home_assistant_products/	"So I’ve got the site which tells you which zigbee devices you can get an whether they work with zigbee 2 MQTT of zha.

Ive found there’s a works with home assistant program but I cant seem to find a list of products which work with it. 

Anyone have a link to the page?"	12	"[""iWQRLC590apOCyt59Xza: I am aware of the program, but I've never seen an announcement. Let alone a complete list.\nNot sure if it ever gains tractions,  maybe vendors need more time to get in on the program."", 'sembee2: Do you mean this site?\n\nhttps://zigbee.blakadder.com/', ""generalambivalence: It's more manufacturers than specific devices, as far as I understand.\nhttps://partner.home-assistant.io/\n\nAll of a manufacturer's devices need not work with HA for them to be a partner."", ""mondocu: Sorry but I don't understand (i'm not English native) what do you mean by home assistant program ?"", 'Uninterested_Viewer: The list of modern IOT things that *won\'t* work with Home Assistant is much smaller than the list of those that will. And luckily, it has become popular enough that a Google search of ""[product] home assistant"" will turn up immediate answers. The main consideration will often be if the product you need has an official integration vs unofficial (HACS or otherwise), which may limit the support and longevity of the integration.', 'michaelthompson1991: No problem, thanks for letting me know 👍🏻', 'michaelthompson1991: Yeah that’s the one I have for zigbee devices, just wondered if there’s a one for works with home assistant program', 'michaelthompson1991: Cool thanks for that!', 'michaelthompson1991: I was on about this, have a read 👍🏻 https://www.home-assistant.io/blog/2022/07/12/partner-program/', 'michaelthompson1991: Cool thanks!', 'mondocu: Thanks', 'michaelthompson1991: No problem 👍🏻']"
1681326186.0	12-Apr-2023 12:03:06	Local free register plate recognition	JrPek	2	12jv8yo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jv8yo/local_free_register_plate_recognition/	I bought Coral usb and I'm wondering now is there any possibilities with Home assistant to read car's register plates free and locally? I'm already running Frigate but seems that it has it only in some paid version.	9	"['nickm_27: Worth noting the coral can only run one process at a time, so it couldn’t be used for that and frigate at the same time. \n\nI’m also not familiar with any currently maintained locally run plate reading software', 'Rotilho: Frigate has the object plate but I never used it.\n\nI think you would have to use a higher resolution stream for detection since plates would probably be just few pixels.', 'morbidpete84: Codeproject.ai (not a URL, just the name) has the option. Using it with BlueIris', ""Rebelgecko: I've used OpenALPR in the past, however the results were meh quality"", 'alex3305: Maybe [this YouTube can help you?](https://www.youtube.com/watch?v=t-XxCrdj_94). Or [this video?](https://www.youtube.com/watch?v=0kn9vp2ObHo). Or [this GitHub repo?](https://github.com/robmarkcole/HASS-plate-recognizer). Or [this blog?](https://leonardosmarthomemakers.com/diy-number-plate-recognition-system-with-home-assistant/).', 'Whiffed_Ultimate: Solution: 2 corals.', 'JrPek: I asked for ""local"". Your first video link was old for me, and it was cloud based. Probably your other links are not related to my question either?', 'eli_liam: Good luck getting a second now... Another solution is to use the M.2 dual TPU version which can run two processes concurrently', 'Whiffed_Ultimate: I have 5 and a few more on the way. I like coral. Lol']"
1681325445.0	12-Apr-2023 11:50:45	Coral M2 Edge TPU not being detected by HA OS	VanBen	1	12juyv4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12juyv4/coral_m2_edge_tpu_not_being_detected_by_ha_os/	"I have an Coral M.2 B+M connected to an R610 running ESXI. 

HA does not seem to recognize the device, however when I test it on an Ubuntu or Debian VM running on the same pass-through it shows up and completes the tests as expect. So I want to rule out the adapter.  

Has anyone else experienced this issue? Am I supposed to install something additional in home assistant?"	9	"[""jmcgeejr: Pretty sure I read that HAOS doesn't have the drivers for PCI-E (m2) and that's why it can't find it.  I just went with usb because of this."", 'LurkerTalen: I have a coral m.2 b/m key connected via a pcie adapter and HAOS detects it fine. I’m running bare metal though on a mini pc. I didn’t need to install anything, it’s detected and works in Frigate. Does the pass through change the device at all? I don’t think it should but that’s all I can think of. \n\nIt is a fairly recent install of HAOS though as I migrated from a raspberry pi. Maybe try passing through to a new install to rule out the vm itself?', 'Kitchen_Software: Check out the Frigate Github bugs and discussion pages. Lots of good info and troubleshooting recs there.\n\nEg [https://github.com/blakeblackshear/frigate/discussions/3604](https://github.com/blakeblackshear/frigate/discussions/3604)', ""VanBen: Ah, it's a hard task sourcing an usb atm. \n\nMight be worth swapping over to an supervised build with my own OS"", 'LurkerTalen: Supported since June 2021 https://www.home-assistant.io/blog/2021/06/11/home-assistant-os-release-6/#google-coral-pcie-ai-accelerator-support', 'jmcgeejr: You could maybe get away with a usb to m2 adapter?  Not sure though.  Yeah I paid scalper pricing for my usb one about a month ago.', 'Whiffed_Ultimate: You could get a usb conversion board. They are abother 10 to 15 bucks tho', 'VanBen: Indeed, that is what I found odd. This is the most recent build of Ha OS. So feel like I am missing something somewhere.', 'VanBen: I think it was down to esxi, after changing over to proxmox and tweaking some iommu settings we were in business.']"
1681324585.0	12-Apr-2023 11:36:25	No trigger for event	MrCalifornian	1	12junpp	homeassistant	https://www.reddit.com/r/homeassistant/comments/12junpp/no_trigger_for_event/	One of my light groups keeps turning on randomly and the event list (and logbook) show no trigger. So...how do I figure out why it's turning on?	2	"['tarzan_nojane: You might want to temporarily set a lower severity threshold for event logging for the particular component.  \n  \nPossible logger severity levels, listed in order from most severe to least severe, are:  \n  \n* critical\n* fatal\n* error\n* warning\n* warn\n* info\n* debug\n* notset', ""mrtramplefoot: Not sure if this is your issue, but if you use presence simulation from hacs, there was a breaking change in this months ha update that enables it upon restart.  A power outage and ha update had me going crazy the last couple days wondering what was going on.  There's an update that fixes it though.""]"
1681323686.0	12-Apr-2023 11:21:26	SSL within iFrame for nginx/Docker	wntgd	0	12jubov	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jubov/ssl_within_iframe_for_nginxdocker/	"Hi Everyone, I am trying to properly setup my homeassistant after migrating from OS to Docker, but I struggle with setting up ssl for iFrames.Currently my config/nginx look like this

    #hass config
        panel_iframe:
          configurator:
            title: 'Configurator'
            url: https://192.168.1.5:3218
            #url: https://%mydomain%/configurator  
            icon: mdi:wrench-outline
    
    #nginx
        #location /configurator/ {
        #    rewrite /configurator/(.*) /$1  break;
        #    proxy_pass http://configurator:3218/;
        #}

Problems I have:

1. In my current setup when I open configurator page the domain missmatches certificate -> can't use configurator in android app
2. If I uncomment nginx and replace url with external one, then configurator is exposed to the internet without authentication"	12	"[""alex3305: > In my current setup when I open configurator page the domain missmatches certificate -> can't use configurator in android app\n\nProbably because you are trying to use HTTPS (SSL) on a non-http page. And you cannot embed HTTP content inside of HTTPS content.\n\n> If I uncomment nginx and replace url with external one, then configurator is exposed to the internet without authentication and inside homeassistant the frame references another homeassistant instance recursively\n\nSure. But you can easily [IP whitelist in Nginx](https://ubiq.co/tech-blog/how-to-whitelist-ip-in-nginx/).\n\nHowever I have never heard of _Home Assistant Configurator_ until now. I suggest you use something that works within the Home Assistant ingress, such as the excellent [Visual Studio Code](https://community.home-assistant.io/t/home-assistant-community-add-on-visual-studio-code/107863?u=alex3305) add-on."", 'brellox: nginx was very scary as i first saw it, so i installed a NginxProxyManager container on my server. The ui is pretty good and got me through the starting headaches in nginx.   \nMaybe try that.  \nWe need more information on your services.  \nYou want to link to your Configurator, which is a [Hass.io](https://Hass.io) Addon, but you are running docker now?  \nHow can you have Configurator?  \n\n\nAs a ""in browser editor"" i have a vscode docker running and link to that in my sidepanel', ""wntgd: >Probably because you are trying to use HTTPS (SSL) on a non-http page. And you cannot embed HTTP content inside of HTTPS content.\n\nexactly, that is what I'm trying to fix in the commented section\n\n>Sure. But you can easily [IP whitelist in Nginx](https://ubiq.co/tech-blog/how-to-whitelist-ip-in-nginx/).\n\nBut I don't know which ip's to whitelist. If I only allow my hass docker ip, then I get 403 forbidden on my android device.\n\n>However I have never heard of *Home Assistant Configurator* until now.\n\nIt's togo file editor for hass, I used it on raspberry as VSCode was too heavy, hence migration to docker on my pc\n\n>Home Assistant ingress\n\noh, looks like configurator is first on the list of supported addons, I'll try to find a guid on how to setup it with ingress, feel free to share vscode config example if you have any, as vscode is on my todo list"", 'wntgd: > nginx was very scary as i first saw it, so i installed a NginxProxyManager container on my server \n\nfiguring it out is part of the fun :)  \nI used NginxProxyManager before migration too, very convenient\n\n>You want to link to your Configurator, which is a [Hass.io](https://Hass.io) Addon, but you are running docker now?  \n>  \n>How can you have Configurator?\n\nAs far as I know any addon is just another preconfigured docker container. So in theory I just have to replicate what hassio does manually  \n\n\n> As a ""in browser editor"" i have a vscode docker running and link to that in my sidepanel \n\nI used it with hassio, but my raspberry started crushing under the weight of all the addons I wanted. I assume in my current setup I would encounted same ssl issue with any addon, so plan to figure it out for configurator and then apply it to vscode too', ""alex3305: > It's togo file editor for hass,\n\nAh [Configurator = File Editor](https://github.com/home-assistant/addons/tree/master/configurator). Gotcha!\n\n> oh, looks like configurator is first on the list of supported addons, I'll try to find a guid on how to setup it with ingress\n\nYou should just be able to [enable it in the add-on settings](https://www.home-assistant.io/blog/2019/04/15/hassio-ingress/)."", 'brellox: Are you looking for something like this?  \n[https://github.com/htmltiger/config-editor-card](https://github.com/htmltiger/config-editor-card)', 'wntgd: i am using home assistant core, looks like to use hassio I have to adjust my installation method or can I get this [hass.io](https://hass.io) page in core too somehow?', ""wntgd: No, not really. I'm looking for general solution that ideally would work for other integrations too. Something like ingress but for ha core"", ""alex3305: I forgot about that. No. That's only possible with OS or Supervised."", ""brellox: I am in no way an expert on https.  \nIf you don't want to expose your services to the internet, you will have to do self signed ssl certificates.I have my hass instance report on http and https.I use http if i access it from within my local network. VPN into it if i'm away.Google assistant and my hass app is accessing the https port for its querys.My iframes can point to http sites as i am only using them with VPN or directly from home"", ""wntgd: I think you got conflicting statement there. If I wouldn't expose my services, then I don't need any certificate, cause there is no host to verify.\n\nMy problem is in my understanding the iFrame for configurator addon. What happens is that I access HA over https just fine, but iFrame itself uses local IP address instead of mydomain, therefore certificate validation fails (Android App for example won't open the tab, but chrome will with some warnings)\n\nI can expose my configurator and use my domain instead of local IP, then certificate validation succeeds, but now anyone can go to configurator page without authenticating in HA and do stuff.\n\nSo I want first part to be somehow fixed while not exposing my stuff without any authentication"", 'brellox: > I can expose my configurator and use my domain instead of local IP, then certificate validation succeeds, but now anyone can go to configurator page without authenticating in HA and do stuff. \n\nOnly thing that comes to my mind is VPN and do everything http.']"
1681322015.0	12-Apr-2023 10:53:35	OctoPrint Continuous Printing	Bakefy	1	12jtpov	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jtpov/octoprint_continuous_printing/	"I am attempting to start a fan when my printers hot bed is set to 156.2 F .  I am clearly going about this wrong, because its not working.  Instead of from and to, is there an = option for automation triggers?

`alias: Cool Print Part`

`description: """"`

`trigger:`

  `- platform: state`

`entity_id:`

`- sensor.octoprint_target_bed_temp`

`for:`

`hours: 0`

`minutes: 0`

`seconds: 3`

`to: ""156.2""`

`from: ""266""`

`condition: []`

`action:`

  `- service: switch.turn_on`

`data: {}`

`target:`

`entity_id: switch.printer_fan`

`mode: single`"	5	"['eli_liam: First off, fix your code blocks', 'morbidpete84: Unless your bed temp goes from 266 to exactly 156.2 and nothing in between, higher or lower this will never trigger. Try using numeric state for your trigger and set the below temp to 156.3', ""Bakefy: Sorry the copy paste didn't translate and I didn't fix it."", 'Bakefy: This is the set bed temp vs the actual bed temp so these are the values set.', 'morbidpete84: Ahh i see what you are saying. My suggestion would still work. \n\nyou could also make a true false template and have an automation that acts on the true or false. \n\nAnother idea, Use the printer state, I think (have not used octoprint in HA in over a year now) even when heating it shows printing. Could have the fan turn on when its in a printing state instead of a very specific temp set for the target temp.']"
1681320647.0	12-Apr-2023 10:30:47	Entity Card variable/dynamic unit?	redwirelessus	0	12jt7e6	homeassistant	https://i.redd.it/gan7ec3i5jta1.png	Greetings. Is there a way to have variable/dynamic/2nd ‘entity’ as the ‘unit’ of an entity in entity card like shown on image, or does it have to always be ‘hardcoded/manual’ input? Thanks! 🔴	3	"['JeanneD4Rk: If you want a different unit (L and m3 for example) depending on the amount, use a template sensor and make it a complete string, not displaying the unit in this card.', ""alex3305: AFAIK this is hardcoded. In the documentation it says it's a [string](https://www.home-assistant.io/dashboards/entity/#unit) which is just text.\n\nHonestly I don't see a reason why this should change. Or why you would diverse from the sensors unit in the UI."", 'redwirelessus: Very good idea! Thanks! 🔴']"
1681318341.0	12-Apr-2023 09:52:21	Smart Locks (again)	elyl	2	12js981	homeassistant	https://www.reddit.com/r/homeassistant/comments/12js981/smart_locks_again/	"It might just be me, but this seems to be quite an under-served area of hardware.  I'm looking for something that will integrate with HA (either via Zigbee, Z-Wave, or BT/wifi at a push) that supports both fingerprint and physical keys, but I'm drawing up blanks.  Only things I can see are Eufy (with hacky cloud integration) and the Ultraloq Z-wave (which is apparenlty a disaster that they have no intention of fixing).

Am I missing some other gem with the holy trinity of local HA control, fingerprint and physical key?"	17	"['kunigit: I\'m kind of in the same boat...\n\nIs the Ultraloq U-bolt Pro (Z-Wave) not usable? I\'ve been looking into it as well, and I had assumed that the basics were there at least.. lock, unlock, and maybe code management. It does generally require the first-party app, but it seems to also support a [standalone mode](https://support.u-tec.com/hc/en-us/articles/360059177871-Ultraloq-Products-Standalone-Mode-Programming-Guide) that uses an admin key code to add/remove fingerprints, codes, etc. I think it can even be included in Z-Wave in standalone mode. \n\nIt lacks detailed reporting on what/who performed the unlocking, and the door sensor status is ""being worked on""... It also seems to lack Z-Wave fingerprint control, but is that even a thing yet?\n\nAlso, I\'ve never seen a review of one, but a potential alternative to research is the [Lockly Pro 728FZ](https://www.locklypro.com/728fz/). Right now all I have is that marketing page, but on paper it seems to have promise.', 'tungvu256: im using a schlage with zwave. it has a physical key too.  i think they all have keys as backups, in case batteries die.  as for finger prints,  you are better off getting a separate reader, not something built into the zwave lock itself.  myself, im using NFC tag. let the phone scan the NFC tag on the door, then HA unlock. wait 30 seconds, lock the door.', ""electronerd: I've got a z-wave kwikset. It kinda sucks. Super loud, eats batteries, sometimes the touch panel outside stops working, always says it's jammed (still operates though). Don't really use it much (garage is more convenient anyway)"", ""elyl: From what I can gather, basic stuff like door sensor status does not work and they haven't even acknowledged a problem let alone tried to fix it for a year.  I wouldn't want to be giving money to that kind of company, who knows what else could be broken/compromised, that they wouldn't bother fixing."", ""elyl: Oh yeah, I've seen that Lockly one and it looks promising.  Can't find anything on a release date, though."", 'elyl: Have you seen anyone post anything about using separate fingerprint readers and their setup?  Would consider that, too.', ""kunigit: I'm currently agreeing with you. I may not need the door sensor to work, but it's a good test case to see if how/if they address it.\n\nNot that it amounts to much, but there is an acknowledgement on their [community forums](https://community.u-tec.com/t/expand-and-fix-z-wave-capabilities/502/4). Won't hold my breath, but if I see an update sometime soon, I might look more favorably on their lock."", ""andy2na: youre not wrong but it works fantastic as a door lock via zwave + HA. If you really wanted to make it bulletproof with automations, get a typical zigbee contact sensor and work it into your automations with the lock.\n\nI couldn't find any other locks that had fingerprint+pin+physical key+app access with zwave."", 'kunigit: A forum post somewhere (lost in the depths of my browser history) claimed they were told ""Q2"" but who knows. Hopefully it\'s released soon and gets good reviews.\n\nSearching through [Z-Wave Alliance\'s site](https://products.z-wavealliance.org/Search/Index?regionId=2&searchText=fingerprint), and the only other potential lock I see is the [Kaadas KA202](https://kaadassolutions.com/products/ka202-z-wave-fingerprint-keypad-deadbolt). Can\'t find anything on availability, but it could be another one to watch for.', ""elyl: That's from a year ago, a year to fix a simple binary sensor and they've failed.  Someone later in the thread said they contacted them again and were told it wasn't on their list of known issues, and was probably a problem with his hub.  i.e. a nonsense fob-off from a clueless company."", 'elyl: Yeah a lot of the stuff on the z-wave site is region specific, this looks like it might be China only.', ""kunigit: Yeah, I see that now.. Misread the date.\n\nToo bad, because the physical reviews have been that it's a good, sturdy lock. Still, without reliable firmware, it's a hard sell."", 'kunigit: It claims North America...\n\n> Use In: U.S. / Canada / Mexico\n\nhttps://products.z-wavealliance.org/products/4758?selectedFrequencyId=2', 'elyl: Yeah it is still the best (only) contender, I could live without the door sensor as I could fit another one, but code management and all the rest missing just sucks.', 'kunigit: That\'s what I was asking before. It claims to support the ""User Code"" Command Class, which I think is how you manage codes with Z-Wave (and perhaps integrations like keymaster) but I haven\'t heard whether Z-Wave can manage fingerprints in any lock.', 'guniv: I made the thread linked earlier on U-Tec\'s forums and regularly show up on these posts to warn people not to buy this lock. That said, I\'m pretty sure I actually was surprised that I was able to use Z-Wave (via Home Assistant) to add a new code to the lock. You assign an ID or something to the code, and if I\'m remembering correctly I forgot the random ID I chose while I was just messing around and there is no way to manage or see your codes via Z-Wave, AND the code I made didn\'t even show up when connected via Bluetooth. (I may have even tried deleting the code and I think it didn\'t work. This was about a year ago now.) So still, if you want to really have a lock you can fully manage with Z-Wave, skip this one. I also would honestly guess they won\'t make another Z-Wave lock and will never update this one again. I don\'t think buying this one as a way to ""encourage"" them to do better is going to work, in my opinion it just encourages them that their implementation is ""good enough."" It honestly feels lucky sometimes that this lock even shows locked/unlocked state via Z-Wave.', ""elyl: So you can add a code to the lock and not delete it, and not even have any idea if it's still active or not?  Awesome work, U-Tec!""]"
1681317673.0	12-Apr-2023 09:41:13	Coral TPU M.2 slot different	thinkloop	18	12jrx7j	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jrx7j/coral_tpu_m2_slot_different/	"I just got a coral M.2 but it doesn't fit, it seems to be ""E"" key:

&#x200B;

https://preview.redd.it/zo1ko4aiehta1.png?width=472&format=png&auto=webp&v=enabled&s=e95a07b5298789d9bc789cc17b66a8faf5e9e077

But my new desktop itx motherboard ([Z790M-ITX](https://www.asrock.com/mb/Intel/Z790M-ITX%20WiFi/)) has a ""regular"" M.2 slot.

Should I buy an adapter like [this](https://www.amazon.ca/Sintech-M-Key-Adapter-Compatible-Intel/dp/B07WBXP632/ref=sr_1_3?crid=975W1RBKL7DV&keywords=M.2+Key+adapter&qid=1681317342&s=electronics&sprefix=m+2+key+adapter%2Celectronics%2C81&sr=1-3):

https://preview.redd.it/44lovpmwehta1.png?width=826&format=png&auto=webp&v=enabled&s=909e59df4d7593248bdc394f842633caae9df02f

&#x200B;

https://preview.redd.it/lgk9yi72fhta1.png?width=489&format=png&auto=webp&v=enabled&s=b52ab0f917af8ca50259f6416a4943cc2942f9ec

Any idea if that would work?

&#x200B;

UPDATE:

Thanks for everyone's advice! I bought these two adapters, lets see if they work:

&#x200B;

https://preview.redd.it/fdmqontcrhta1.png?width=564&format=png&auto=webp&v=enabled&s=481deab15b8fc4f908d13aec08e5b8f5a85a7170"	37	"['lecano_: You bought the Mini PCIe Accelerator. M.2 and Mini PCIe are different form factors. M.2 is the successor of Mini PCIe', 'ReyvCna: The one you bought is not m.2. I know it because I followed Mouser’s stock and the m.2 one wasn’t available since last year and it will be in stock only this summer. \n\n\nThe one you bought is the mini pcie one (I also bought it) that’s currently in stock. You will need this adapter https://i.imgur.com/CPsK4XD.jpg\n\n\nJust to explain to everyone who says “just put it where the Wi-Fi card slot is” here’s an image of a Wi-Fi m.2 and the tpu you and I bought https://i.imgur.com/YX9FfeN.jpg you can clearly see that the Intel Wi-Fi card is way smaller than the tpu', 'hyotr: Lot of good comments on this thread! Let\'s say I did the exact same thing... I read the product doc on my NUC, but missed the footnote that said ""not on all models"" next to the Mini PCIe line. Now that I\'ve realized it doesn\'t fit in my NUC, I just want to buy a new NUC. \n\nNot to hijack your question, but would the NUC8i5BEH have a suitable slot for the Coral that the OP linked to?', 'nmajin: https://github.com/magic-blue-smoke/Dual-Edge-TPU-Adapter', ""haltdef: If you're not using WiFi or BT on that board you could swap that module for the Coral. Might be hiding under the shroud."", 'FakespotAnalysisBot: This is a Fakespot Reviews Analysis bot. Fakespot detects fake reviews, fake products and unreliable sellers using AI.\n\nHere is the analysis for the Amazon product reviews:\n\n>**Name**: Sintech M.2 M-Key M.2 A/E Key,NGFF WiFi Card to M.2 Key M Adapter Card Compatible for Intel 7260,8260,9260 \n\n>**Company**: \n\n>**Amazon Product Rating**: 4.3 \n\n>**Fakespot Reviews Grade**: A\n\n>**Adjusted Fakespot Rating**: 4.3\n\n>**Analysis Performed at**: 10-06-2022 \n\n[Link to Fakespot Analysis](https://fakespot.com/product/sintech-m-2-m-key-m-2-a-e-key-ngff-wifi-card-to-m-2-key-m-adapter-card-compatible-for-intel-7260-8260-9260-52bb1328-19d9-477b-83c5-73ff72c5fe66) | [Check out the Fakespot Chrome Extension!](https://chrome.google.com/webstore/detail/fakespot-analyze-fake-ama/nakplnnackehceedgkgkokbgbmfghain)\n\n*Fakespot analyzes the reviews authenticity and not the product quality using AI. We look for real reviews that mention product issues such as counterfeits, defects, and bad return policies that fake reviews try to hide from consumers.*\n\n*We give an A-F letter for trustworthiness of reviews. A = very trustworthy reviews, F = highly untrustworthy reviews. We also provide seller ratings to warn you if the seller can be trusted or not.*', 'Astra7525: ~~Either pull out your wifi-card which sits in a native E-key M.2 slot or~~ use an adapter **from** M-key **to** E-key in one of the two M-keyed M.2 storage-slots.', ""particlesaching: If you need to go from the M.2 slot to the Mini PCIe Coral directly I believe https://www.amazon.ca/Mini-PCI-NGFF-Adapter-Module/dp/B089QDZFLC/ref=sr_1_8?crid=40VWPKHLTC73 is what you're looking for.  Keep in mind any USB pins on these adapters should not be connected when using it with the Coral."", ""ahj3939: This one should work: https://www.amazon.com/Zerone-Express-Wireless-Ethernet-Converter/dp/B07N2X62LQ but it's for your regular PCIE slot\n\nIn theory Mini PCIE to M.2 should work I just can't find anyone that makes it. Could have fitment issues since M.2 is narrower."", 'willquill: This comment has the information you seek: https://reddit.com/r/homeassistant/comments/12esdql/_/jfce4bq/?context=1', '72HV33X8j4d: OP this is the answer. I just bought the same coral as you. \n\nHere is the converter board that works: mini PCIe to PCIe x1. This one is out of stock now but some of the cheaper wifi ones may work too. \n\nAbleconn PEX-MP117 Mini PCI-E to PCI-E Adapter Card - PCIe to mPCIe Card Adapter - Ideal for Wireless Mini PCI Express Card https://a.co/d/acCnBRI', 'thinkloop: Thanks! Any chance you could share a link? Having trouble finding it.', ""thinkloop: I think I see it in there:\n\n&#x200B;\n\nhttps://preview.redd.it/qin1p8g83jta1.png?width=1303&format=png&auto=webp&v=enabled&s=9f75f34ca668d61f715d1c34dfa4bf14f9931694\n\nAnd I'm not actually intending to use wifi at the moment, but I did buy a board with two M.2 slots purposely for the coral so I'd prefer to use that instead of disabling wifi. Good for emergency if nothing else works out!"", 'ReyvCna: That totally incorrect… this thing will not fit into the Wi-Fi slot unless the motherboard is from 2005.', ""thinkloop: Any idea if the adapter [I linked](https://www.amazon.ca/Sintech-M-Key-Adapter-Compatible-Intel/dp/B07WBXP632/ref=sr_1_3?crid=975W1RBKL7DV&keywords=M.2+Key+adapter&qid=1681317342&s=electronics&sprefix=m+2+key+adapter%2Celectronics%2C81&sr=1-3) would work? The specs seem low on it, but I really don't know:\n\nhttps://preview.redd.it/09j80bli3jta1.png?width=647&format=png&auto=webp&v=enabled&s=6d6d47b6bf37d0ab0024f016d10eb22a0f7c9c85"", 'ReyvCna: I don’t think that would fit on a ITX board where everything is all crammed together. Still if OP want to use that they will need to buy one of these https://i.imgur.com/KgVZi4U.jpg because the Coral TPU is half-height.', ""NotMyThrowaway6991: I'm using this for mpcie coral to pcie [https://www.amazon.com/gp/product/B09D3QXTFR](https://www.amazon.com/gp/product/B09D3QXTFR) . No longer in stock, but it was the same price as the one you linked"", 'ReyvCna: Hey OP I saw your update. Unfortunately both adapter you bought won’t work. Simply because mini pcie is larger than a m.2 drive. Also because mini pcie uses 2 screws instead of a central one. \n\nHere’s what you can do: buy this amazon.com/dp/B0B6HYW2CB and this amazon.com/dp/B074Z5YKXJ', 'ReyvCna: I know, it took me a while to find it. I’m not sure if I can post the link directly because in the past on some place mods don’t like it. Still try searching for “mini pcie to pcie x1 adapter” Later I will retrieve the link to the adapter I bought', ""psychicsword: You can try this. I bought it for my mini-pcie coral and it was detected properly when I plugged it into my desktop. I unfortunately didn't realize my mobo only supported 2x m.2 cards when using the 11th gen processor so that isn't going to work for me but it is a more direct option than some of the m.2 to PCI-e 1x slot options with a follow up adapter.  https://www.amazon.com/dp/B07ZKNQK3G"", ""Astra7525: You're right. I only saw the E-key mentioned in the specs but it appears it's some kind of custom combo-riser-and-wifi-antenna socket."", ""miraculum_one: The board you got is not [the e-slot one](https://coral.ai/products/m2-accelerator-dual-edgetpu/). It's [the Mini PCIe slot one](https://coral.ai/products/pcie-accelerator).\n\nOne easy way to tell is that the former one has two TPUs (so has twice the processing power) while the latter has only one, as seen in your picture."", ""Astra7525: I'd say it should work. But according to their own [documentation](https://coral.ai/docs/m2/datasheet/) they also offer a model with B+M key and 2280 size which would natively fit into your M-keyed M.2 slots (provided those aren't occupied with a drive)."", ""thinkloop: You're totally right! Ty. Will [this](https://www.amazon.ca/GELRHONR-Adapter-Indicator-Bitcoin-Mining-Black/dp/B09N1FYCQZ/ref=sr_1_5?crid=3C4MNWE8XQ0VX&keywords=M2+to+PCI-E+4X&qid=1681328129&sprefix=m2+to+pci-e+4x%2Caps%2C74&sr=8-5) work: \n\n&#x200B;\n\nhttps://preview.redd.it/t6xc55ubsjta1.png?width=1404&format=png&auto=webp&v=enabled&s=fadcd3fabd3fcb37ea401b262d4474a487f09c02"", ""thinkloop: I ain't waiting another 8 months for a different coral! 😀"", 'ReyvCna: Well, I have another bad news. The adapter you choose uses a moulded sata adapter and I strongly suggest you to not use it because they are infamous for catching fire and destroying hardware and burning your house down… \n\nhttps://www.reddit.com/r/DataHoarder/comments/8r7fik/molded_sata_power_connectors_are_not_to_be_trusted/\n\n\nI suggest you to buy an adapter that uses as power the molex connector like the one I suggested.', ""Sunsparc: No that's for PCI Express."", 'ReyvCna: Also you need both adapter I suggested. The first is Mini PCIE to PCIE x1 then you will also need the second to convert the PCIE X1 to NVME M.2. (It will work only on a port that supports nvme. SATA will not work)', 'AEROassault: I have a B+M key coral that I can let go of for msrp + shipping', 'thinkloop: What about this:\n\n&#x200B;\n\nhttps://preview.redd.it/cdbw5tjgbkta1.png?width=1787&format=png&auto=webp&v=enabled&s=d34180bd2e7cb2cc6c488fe6f0d266c7aae2296d', 'thinkloop: both, damn, I got myself into a pickle here', 'Shooter_Q: Correct me if I’m wrong, but could OP also just use the first adapter then plug it into the Lone PCIEx16 slot if there is no GPU in use?', 'thinkloop: I would take it', 'Shooter_Q: Are you using your GPU slot in this build?', 'torch4269: I have an extra USB Coral if interested?', 'thinkloop: Yes, I have an HBA coming', ""Shooter_Q: Ah, too bad. The other comment I made about using only one converter with the GPU slot wouldn't work then.""]"
1681315914.0	12-Apr-2023 09:11:54	Inovelli launches switches with mmwave	zeekaran	36	12jr16o	homeassistant	https://www.indiegogo.com/projects/mmwave-smart-switch-with-presence-sensing-radar#/		50	"['Commercial-9751: ""Launches"" is a bit premature. It says they don\'t even have a prototype of it yet.\n\nDefinitely interested in this though. I\'ve wanted to setup presence based automation but there is limited selection on the market.', ""combatwombat007: That's awesome. I'd just like to be able to buy any switch at all from them. Not preorder or backorder. Like, pay for a switch, and then have it show up in the mail a few days later. This has been a dream of mine for... a long time."", ""devpsaux: Disappointed that it isn't going to be Z-Wave. All their previous switches have been. I've never gotten Zigbee to work reliably in my house."", ""psychicsword: I am really hoping this makes it's way over the z-wave devices coming down the pipe. I would toss nearly all of my switches for mmwave everywhere but I have 25+ ssids around me and the 2.4Ghz space is a little too crowded for me to use zigbee for switches."", ""Mother-Wasabi-3088: Could someone tell me why Inovelli is highly regarded? I'm planning to replace some switches and these are top on my list. How does the action feel? My old Jasco switches require a little too much pressure to activate so they are not enjoyable to interact with."", 'xComponent: I wish them success and for them to eventually release a zwave version. My entire house is zwave switches, so I would like to stick with that ecosystem.\n\nAlso would be interested to see initial reviews, especially from Linus to see if he will replace his jasco switches with these ones. Also curious to see how mmWave performs in terms of responsiveness and false positives.', ""djgrahamj: I dunno, I can think of a couple of issues with this idea. First my Lutron Caseta switches are the most reliable devices in my smart home and I wouldn't want to replace them with Zigbee. And, in many cases switches aren't in the ideal location for sensing."", ""StillLoading_: Saw that a few days ago. Still think it won't be very useful because most light switches will not provide a good room coverage. But maybe early adopters will prove otherwise."", ""continuoushealth: I have mmWave switches and thy are very sensitive to where they are placed. The reason for this is that they sense through walls (and have a short range in which they detect breathing). Having mmWave switches makes it impossible to place them in a strategic way. I don't think the product is useful in the majority of cases and you don't rally know whether it will work before you place them."", 'gravspeed: neat, but will they be in stock anywhere?', 'gbdavidx: I’d rather it have Bluetooth', ""zeekaran: Good point, though they are just missing the mmwave sensors as they already have the Zigbee light switches with all the non-mmwave features listed.\n\nI'm wondering how effective they'll be at detecting movement roughly 90º from the forward direction."", 'gbdavidx: im glad i wasnt one of those fools who already backed, hopefully it shoes some interest.  these will hold me off for a while i stock up on [https://getinvisoutletpro.intecular.com/](https://getinvisoutletpro.intecular.com/)', ""zeekaran: I've done it three times without issue. Must be lucky?"", ""gravspeed: damn... i got a bunch of downvotes for saying the same thing, lol.\n\nthese things may as well be vaporware. everything eventually breaks. i'm not trying to buy something i won't be able to replace."", 'noslab: Opposite for me. Zigbee has been extremely reliable and fast. Z-Wave on the other hand was spotty and laggy, which is why I switched to Zigbee.', ""licecrispies: [Eric from Inovelli says that if they sell well enough, they'll make a Z-wave version](https://www.reddit.com/r/Inovelli/comments/128jjum/comment/jekxz0d/?utm_source=share&utm_medium=web2x&context=3)"", 'Swiss-princess: Every time I read this discussion about Z-wave vs Zigbee I think on the old BETAMAX vs VHS, one is clearly superior but the other is cheaper and has mass adoption. Both will be on the way out once thread -which is based of Zigbee- gets more adoption.', 'ZombieSalad: Amen, I’m all in on zwave due to my experiences with shitty zigbee products (cough Tradfri), and despite how cool this is, it’s a non starter for me.', ""Time-Button4999: Z-wave is an outgoing technology that hasn't realised it yet."", 'FuzzyMistborn: They\'re well regarded because the CEO is very active in social media things and very responsive to complaints/issues.  And they work hard to improve things as they go.\n\nI\'ve got 10 Inovelli Blues and a bunch of Zooz Zen 700-series switches.  Honestly it\'s a toss up of which one I like more.  The Inovelli are definitely ""softer""/spongier than the Jascos (I had them before).', 'UngluedChalice: [Here’s an example](https://reddit.com/r/Inovelli/comments/12j9mp7/_/jfxgfz8/?context=1) of what the other commenter is talking about.', 'Uninterested_Viewer: Oh man, different strokes. I absolutely love the feel of the Jasco switches and switching to inovelli has been a downgrade in that regard. However, the feel of the switch is barely a blip on my requirements so not a big deal to me. Inovelli presses feel a bit ""cheaper"" with the less activation pressure and less of the satisfying thwack click that the ge/Jasco give. Kind of like going from cherry blues to a laptop keyboard.. kind of.. I\'d stay well short of calling them mushy, just not as satisfying to me.', 'ImATrickyLiar: Inovelli says they will always be leading with zigbee. So I figure I might as well start being able to use zigbee as I love their stuff and don’t want to be stuck an iteration or more behind.', 'zeekaran: Agreed on all points.', 'zeekaran: I have only used the Inovelli Z-Wave switches (the ZigBees are new), so I can only speak for them. They are 100% reliable as are my Casetas.', 'God_TM: They’re using zigbee as it will be upgradable to matter in the future. \n\nAnd zigbee/zwave/matter are just as reliable as lutron’s clear connect RF (perhaps even more so as lutron’s protocol doesn’t have mesh capabilities). \n\nNot to mention that Lutron switches are fugly. At least the Claro/Diva line is better looking.', 'username45031: I’m on board with that. I kinda hope lutron gets a mm sensor soon. They talk up the PIR but it’s kinda ok at best. But on that note I want a Caseta Sunnata-style. The Diva is unfortunate choice in my opinion.', ""ntsp00: Most of the switches in my house would provide good mmWave coverage but regardless I don't see the problem with someone using Inovelli's sensor where possible and other sensors where the switch isn't in an ideal location - the more mmWave options the better. Plus once Inovelli has developed the hardware and firmware they may use it in another product like we've seen them do in the past."", 'theidleidol: I think that’s very dependent on the home. \n\nFor example, at my parents’ fairly modern house this would work great because all the rooms are either big open floorplan areas with switches scattered throughout or perfectly rectangular ~100–150 sq ft boxes. You might need 2-3 supplemental sensors for specific exceptions. Meanwhile in my 1929 apartment they’d only be useful in my kitchen and *maybe* the bathroom depending on the field of view, because all the other rooms basically have entry vestibules so the switches face a blank wall 28” away.', 'UngluedChalice: What mmWave switches do you have? I didn’t realize this was a product that anyone had yet.', ""zeekaran: I've only ever ordered straight from their site."", 'gbdavidx: Did you even read it?', 'clintkev251: Dear god why?', 'devpsaux: I wish I could figure it out. I got a handful of smart plugs to act as repeaters and build the network out. Got some motion detectors. All worked okay for a couple of weeks. Then slowly they dropped out of contact. I’d reset them and bring them back in and they’d drop out. Z-wave has been rock solid and fast. I can click a switch and get an instant response. I’ve had some old GE Z-wave switches croak. But otherwise it’s been stable.', 'mcnab: Everyone else start buying then! That way I can buy the Z-wave version lol', 'rourke750: The scene options are significantly higher than any other provider as well', ""ntsp00: > Honestly it's a toss up of which one I like more\n\nDo you use them for any advanced configurations or are you referring to physical feel alone? I don't have either one yet but from what I read the Inovelli switches have way more options due to Inovelli building the firmware from a list of community requested features."", 'francesc0: Wow, that\'s truly amazing. I actually had some blues that were shipped on 4/3 and I have been wondering why they\'re still in the ""label created"" phase, but that really puts my mind at ease. Their customer service really is on another level.', ""gravspeed: there are a bunch of diy solutions out there, but mmwave can be finely tuned, so the problem he's describing sounds like a lack of adjustment."", 'continuoushealth: [ZY-M100 Tuya Human Presence Sensor](https://blakadder.com/zy-m100/)', 'gravspeed: even there everything is sold out or preorder\n\nLol, downvotes... go look yourself.\n\nhttps://inovelli.com/collections/inovelli-smart-light-switches', ""gravspeed: you mean the part where they don't even have a functioning prototype yet?\n\ni love the look of their switches, but it's kinda pointless if you can't get them anywhere. if they sort out their manufacturing they could be great."", 'gbdavidx: Profiles…. But I could live with both', 'LifeBandit666: I had similar experience until I bought a better Zigbee USB stick. My first one was pretty abysmal with constant outages but the upgrade has been night and day. \n\nFrom cc2531 to cc2652', 'FuzzyMistborn: The amount of customization/things exposed is almost too much. Its pretty overwhelming and hard to sift through. Its nice to have though because I can do things my way.', 'UngluedChalice: I’m specifically referring to a switch with mmWave built in, not a mmWave standalone sensor.', 'clintkev251: Sure, but they let you backorder, so does it really matter? Just have to be willing to wait slightly longer than normal. Looks like the blue series are less than a month behind', 'gbdavidx: Why would they be in stock if they haven’t even made it yet?', 'gravspeed: the only switch you can buy right now is the only not smart one... \n\n[https://inovelli.com/collections/inovelli-smart-light-switches/products/white-series-add-on-aux-switch](https://inovelli.com/collections/inovelli-smart-light-switches/products/white-series-add-on-aux-switch)']"
1681315660.0	12-Apr-2023 09:07:40	USB or POE Temperature/Humidity Sensor recommendations	Chavslayer	1	12jqwkb	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jqwkb/usb_or_poe_temperaturehumidity_sensor/	"I'm look for some USB, or POE, temp sensors that aren't ridiculously expensive.
I have a SONOFF Universal hub/Dongle but am open to replacing it with a different hub

I've been using some SONOFF ones but the battery life on them is shocking

Any recommendations would be appreciated!"	7	"['lastingd: If you are having problems with sensor batteries, my experience may help you solve them.\n\n\n**The problems**\n\n* Sensor batteries were lasting weeks not months.\n* Sensors were laggy \n* Sensor would sometime stop responding.\n\n\n**The Solution**\n\nI moved my USB ZSticks well away (2m+) from the host and any storage devices.\n\nThat was it. \n\nHopefully this helps.', 'Wild-Bus-8979: Get the Lilly Go PoE ESP board and build your own with a BME280?', 'Shooter_Q: Made a recommendation[in another thread](https://www.reddit.com/r/homeassistant/comments/12hi26f/best_option_for_a_temperaturehumidity_sensor/jfse38t/?utm_source=share&utm_medium=ios_app&utm_name=ioscss&utm_content=1&utm_term=1&context=3) for wired, wifi solution. I’m sure there are better ones, but this one works for me very well to monitor my server rack conditions.', ""Naratetama: If you're okay with DIY. You can get ESP8266 or ESP32 with POE and temp sensor of your choice. I recommend BME280, DHT22, and DS18B20.\n\nFlash with ESPhome."", ""Chavslayer: The problematic ones are in my loft and in in my bathroom so I can't really move them, but other than lag you've described what I'm experiencing"", 'Chavslayer: Ty, will check these out', 'lastingd: Move the **stick** away from the host, not the devices.']"
1681313628.0	12-Apr-2023 08:33:48	May I know the secret to adding the button?	ColdTights	0	12jpvop	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jpvop/may_i_know_the_secret_to_adding_the_button/	" 

I understand that not everyone uses it, but I want to add a button on the dashboard to turn on a light, for example. 

Next to that, add a second button to turn that light off. 

I've looked everywhere and I don't have an option to add a button that supports the webhook trigger, or sending a post command. 

I found this:  [RESTful Command - Home Assistant (home-assistant.io)](https://www.home-assistant.io/integrations/rest_command/#url) 

I added webhook to another tool: n8n, where I can send http post to the light bulb. 

Now how do I call ""example\_request"" from the dashboard, I can't find it anywhere. 

I'm a little disappointed that Home Assistant lacks basic solutions, and there are hundreds of unnecessary ones added. 

I will still give it a chance until the weekend, and then will look for alternatives."	18	"['muppie87: Disappointed? Why, when you haven’t grasped the basics? \n\nHave you added your lights via an integration? What lights do you want to turn on etc. \n\nI suggest you google how to set up a basic Home Assistant instance', '_avee_: You need to configure button action to call-service and use the service you created there. Home Assistant is not lacking this functionality, you just need to read docs: https://www.home-assistant.io/dashboards/actions/#tap-action', '_Rand_: Have you even integrated your lights?\n\nHaving separate on/off buttons is a bit more difficult, but a toggle button is literally as sinple as adding a light or button card to the dash and picking the entity.\n\nBut you can’t do anything with devices if HA doesn’t know they exist.\n\nIt sounds like you are vastly overcomplicating things.', 'turn-down-for-what: Why are you using n8n? What type of lights do you have? It’s likely they can be controlled directly from HA without needing to go through some intermediary.', 'kctjfryihx99: Yeah, I think [this](https://www.apple.com/home-app/) is more OPs speed', 'ColdTights: I try to google how to add a button, but there is no such information.\n\nThere should be an option to add a button that trigger webhook or http request.\n\nCurrently in n8n.io I have added webhook as a trigger for http post to docker container with api to my switches.\n\nSo to enable the switch:\n\nHttp post to:\n\n[http://192.168.1.100:3333/api/plug/324842556-608c-4457-99bf-242h5406c1t0](http://192.168.1.100:3333/api/plug/3fe84246-608c-4257-99bf-24248206c170)\n\nWith body parameters: ""type"" = ""switch"", ""value""=""on""', 'ColdTights:  I host an api in docker that I contact via http post to enable lights: \n\n>Http post to:  \n>  \n>http://192.168.1.100:3333/api/plug/324842556-608c-4457-99bf-242h5406c1t0  \n>  \n>With body parameters: ""type"" = ""switch"", ""value""=""on""\n\nThis is third party ""Smartwares"" Home Wizard switches. But i need webhook support also for temperature and electricity sensors, this is more important than my VM cpu usage I see now on dashboard. \n\n I thought the button function would be implemented. Every app on android has it, I\'m a little surprised by the lack in Home Assistant.', 'RuaidhriM: I just tried “Home Assistant add button” in google. It came up with the answer on the first link with many more supporting answers. Not sure what your issue is.', 'turn-down-for-what: It looks like you can connect most HomeWizard devices to Home Assistant using this integration: https://www.home-assistant.io/integrations/homewizard/', 'ColdTights: >Home Assistant add button\n\n Do you mean this? \n\n [Button - Home Assistant (home-assistant.io)](https://www.home-assistant.io/integrations/button/) \n\nA wall of random text, but the keywords fit. \n\nIt doesn\'t tell me anything, it doesn\'t explain how to add a button. \n\nAs I can not do it, what about ""regular"" people who are going to install it at home :)\n\n Home Assistant literally has everything I need, but a simple button....', ""ColdTights: Home Wizard Lite switches works only via android app or api from github.\n\nFor power meter I use Tapo 110  [mihai-dinculescu/tapo: Unofficial Tapo API Client. Works with TP-Link Tapo smart devices. Tested with light bulbs (L510, L530) and plugs (P100, P105, P110, P115). (github.com)](https://github.com/mihai-dinculescu/tapo)\n\nFor temperature this with custom firmware: [https://www.amazon.nl/dp/B08C7KVDJW](https://www.amazon.nl/dp/B08C7KVDJW)\n\nMost of the communication will be via http post to various docker containers (api) and if not possible then via webhook to n8n, which supports http post.\n\n It's a tough call, it should be a few clicks in an app that's designed for that."", 'turn-down-for-what: Okay, I think I see what you’re using. Is it this https://github.com/basvanrooten/hwl-api?\n\nIt seems they got half-way there. They built the API but never built the actual Home Assistant component for it. That’s unfortunate.\n\nI think I can figure out a solution for you. Give me a bit and I’ll reply here.', 'turn-down-for-what: You should be able to accomplish this using a [RESTful Switch](https://www.home-assistant.io/integrations/switch.rest/).\n\nI can\'t test if this works or not, but based on what you\'ve shared it should. Try adding this to your `configuration.yaml`. Once you add it, you\'ll need to go to Developer Tools -> YAML, click the red Restart button, and then click Quick reload. It should then appear in your entities list.\n\n    switch:\n      - name: MyExampleSwitch\n        platform: rest\n        resource: http://192.168.1.100:3333/api/plug/324842556-608c-4457-99bf-242h5406c1t0\n        body_on: \'{""type"": ""switch"", ""value"": ""on""}\'\n        body_off: \'{""type"": ""switch"", ""value"": ""off""}\'\n        is_on_template: ""{{ value_json.is_active }}""', 'ufgrat: This thread may help:\n\n[https://community.home-assistant.io/t/homewizard-intergration/7757/15](https://community.home-assistant.io/t/homewizard-intergration/7757/15)', ""ColdTights:  \n\nYes, exactly this api.\n\nI've been using it for several years now and everything works. \n\nIt's just about calling http post through HA."", ""ColdTights:  Thanks for your time, but it doesn't work. It creates a button that I can add to the dashboard, but there is no functionality."", 'turn-down-for-what: Hm, well, you\'ll have to do some experimentation then as I don\'t have any HW Lite devices to test with. Perhaps looking at either the Home Assistant logs, or the logs from hwl-api can clue you into what may need to be changed.\n\nOnly thing I can possibly think of is that hwl-api is really picky about headers, and you need to explicitly set a JSON header, like so:\n\n    switch:\n      - name: MyExampleSwitch\n        platform: rest\n        resource: http://192.168.1.100:3333/api/plug/324842556-608c-4457-99bf-242h5406c1t0\n        body_on: \'{""type"": ""switch"", ""value"": ""on""}\'\n        body_off: \'{""type"": ""switch"", ""value"": ""off""}\'\n        is_on_template: ""{{ value_json.is_active }}""\n        headers:\n          Content-Type: application/json', ""ColdTights:  That's all I need to turn on the light: \n\n[https://i.ibb.co/jgG0P2P/2023-04-12-192307.png](https://i.ibb.co/jgG0P2P/2023-04-12-192307.png)""]"
1681313151.0	12-Apr-2023 08:25:51	Smart Lock and Alarmo	Money-Atmosphere-650	1	12jpmym	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jpmym/smart_lock_and_alarmo/	"Now that my Nest Secure system is discontinued, I am working on a solution that will not depend on any single company to give me service.  
I also have the Nest × Yale Lock which works very well together with the alarm system -- The user keys are synced and used for both the lock and the alarm.

My plan is to go with Alarmo and combine it with a Ring Keypad.

But, I am struggling to find a way to replicate these two features from the Nest alarm system:  
1) Use the same user key sets for the lock and the alarm  
2) Disarm the alarm when entering the key on the lock

Things that I looked into:

1) Try to use Nest × Yale Lock without Nest Alarm - I have Starling Home Hub and the lock is integrated with Home Assistant. But it only expose limited set of capabilities - the state (lock/unlock) and the ability to lock and unlock.   I could not find a way to tell if the unlock event came from entering a correct code and there is no user ID.  
Also, there is no way to add/remove user codes from home assistant.  
I would prefer not to replace the lock that I already have. (yes, I do need to get Nest Connect $69 so the lock will work after the alarm discontinue)

2) Replace the lock with Yale with z-wave or zigbee - I have one of these on the back-door.  This one exposes a bit more information.  In particular, it tells the user-id that entered the key-code.  
I could not find a way to manage codes via home-assistant.  So I will need to register new codes for users/guests in home assistant and the lock independently. Am I missing something?

3) I looked at Yale assure lock 2 with bluetooth, but I could not find any information about it's capabilities.  Only saw posts of people successfully integrating with HA. Does it expose user information? able to manage keys?

Generally, I prefer Yale as I like the looks and had reliable experience with it.

Any thoughts? suggestions?

Thanks!"	2	"[""olderaccount: > 1) Use the same user key sets for the lock and the alarm\n> 2) Disarm the alarm when entering the key on the lock\n\nThese two features combined make your alarm system a lot less secure.\n\nOne of the benefits of an alarm, is that even if somebody has your keys, they won't be able to go in your house without setting off the alarm. Combining the two is convenient, but it laos means anybody who gets a hold of your key now has free access."", 'peterxian: Z-wave smart locks are the only ones I’ve heard of that send the user code that opened the lock. For managing their codes via HA, check out [keymaster](https://github.com/futureTense/keymaster). I believe the rest of your requirements can be handled by automations or Alarmo actions.']"
1681312426.0	12-Apr-2023 08:13:46	Any Cardmod / CSS magicians?	brellox	7	12jp9wh	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jp9wh/any_cardmod_css_magicians/	"EDIT3:

pretty much what i wanted: [https://pastebin.com/SaBPri3A](https://pastebin.com/SaBPri3A)

Got all paddings addressed

![img](2xhl9hmo1ita1 ""
"")

**Where we started:**

which looks like this: [https://pastebin.com/dvz212YMw](https://pastebin.com/dvz212YMw)[https://pastebin.com/dvz212YM](https://pastebin.com/dvz212YM)

https://preview.redd.it/onroh163zgta1.png?width=965&format=png&auto=webp&v=enabled&s=d4aa957ece24c4f67b31b879b5baa02280fef28b

I would like to slim both sides down so i can fit evertyhing on my tablet.I tried inserting a ""padding: 0px"" in several places, to no succes.There is 12px around the mushroom person card on the left and 16px around the history graph.Is there a way to guide me to get the padding smaller and my yaml cleaner?I really can't wrap my head around css and card mod.

CSS inspector for reference:

https://preview.redd.it/i5g63y0szgta1.png?width=2392&format=png&auto=webp&v=enabled&s=d6c4f09e906aac311e7ca654d23ba7e86898fccd

EDIT:u/FantasyMaster85 suggested using ""margin-top: -10px"" on all cards. That has worked for the most part.

https://preview.redd.it/7b7ij8knthta1.png?width=703&format=png&auto=webp&v=enabled&s=87f4258e10e88b529f713f94506a80efc980775d

Now there is still padding around the weather card which limits my space. Those would be the last 20px i might need.

https://preview.redd.it/8g9e2lputhta1.png?width=1997&format=png&auto=webp&v=enabled&s=c801c13c6dfc8d26930854d22f139210c8277f8e

I tried to acces the div.card-content, but i'm doin something wrong

https://preview.redd.it/4rte2tf1uhta1.png?width=2385&format=png&auto=webp&v=enabled&s=11b8b6135358122d349297c65c0fc191c0277c68

EDIT2:With further help from u/FantasyMaster85 i got everything fit.code: [https://pastebin.com/hNQjtwiY](https://pastebin.com/hNQjtwiY)Still not pretty codewise, but it works.

https://preview.redd.it/eosmfbesyhta1.png?width=1021&format=png&auto=webp&v=enabled&s=6fad032863bcac99368173d0fbe3b4a3001713e6"	11	"['FantasyMaster85: Padding 0px isn’t going to do anything for you, the CSS that will get you somewhere would likely be negative value top margins, like:\n\nmargin-top: -15px\n\nI’ll have a look on my PC when I’ve got a minute to post something a little more specific.\n\nEDIT: have a look at my post here sharing my dashboard, where I also share the yaml code. Had a ton of working examples of what I’m referring to, in basically the exact same use case: https://www.reddit.com/r/homeassistant/comments/12ctbgk/tablet_setup_for_nonguest_usersi_think_im/?utm_source=share&utm_medium=ios_app&utm_name=iossmf&utm_content=1&utm_term=15', ""quaintlogic: Even when messing with padding, it's going to be difficult squeezing that much information side by side.\n\nTry using stacks and grids to more appropriately place them.\n\nSome cards also support vertical layouts, give them a try."", ""FantasyMaster85: Just had a look at your yaml, you'd do something like this (play around with the px values to get it exactly how you want/need it):\n\n              card:\n                type: custom:mushroom-person-card\n                entity: person.fenchel\n                card_mod:\n                  style: |\n                    ha-card {\n                    padding: 0px;\n                    margin-top: -15px;\n                    border-style: none;\n                    }"", 'brellox: horizontal space is perfect.  \ni just need some 50px vertical to fit all people on.  \n\n\nthe cards are allready on stacks.', 'brellox: That has worked for the person entities.  \nAlthough not pretty codewise, thanks for that.   \nI edited the post', 'brellox: with padding 16px\n\nhttps://preview.redd.it/3h5v6x8y3jta1.png?width=1923&format=png&auto=webp&v=enabled&s=00026ded50ac1c50028159871a05393040f45ceb', 'FantasyMaster85: No problem, definitely not the prettiest codewise, but, as you said, it works haha.\n\nAs for your edited OP, here is how you access that card-content padding:\n\n&#x200B;\n\n```card_mod:\n  style: |\n    ha-card div.card-content {\n    border-style: none;\n    padding:0px;\n    margin-top:-40px;\n    }', 'brellox: without  \n\n\nhttps://preview.redd.it/a03lbhw24jta1.png?width=1920&format=png&auto=webp&v=enabled&s=25af8cd08ef95971ad12c973de0cc363953d8df4', 'brellox: Thank you so much!  \nThat example helped me further understand card mod.   \nI got everything as i want it now.   \nI even was able to shrink down the top of the weather card   \n(with a tripple nested pointer \\[however you would call this:   \n""ha-card div.card-content clock-weather-card-today{\n\nheight: 100px\n\n}  \n \\])  \n to get everything on there!  \n\n\nhttps://preview.redd.it/zspx2qn0gjta1.png?width=1024&format=png&auto=webp&v=enabled&s=5017b64bf0820677e8d403f6291f227560521731', ""FantasyMaster85: I thought based on your OP, that you were *already* at 0px padding and you still weren't achieving what you wanted, hence the suggestion to use a negative top margin value, which forcibly will move an item up beyond what a 0px padding value can/will.  Can use it to literally even get items to overlap if you desired (and with no background or border, you can really put items directly up against one another that way, without being able to see they're overlapping since the backgrounds blend, and there is no border)."", 'FantasyMaster85: Genuinely my pleasure, happy to have been able to help and that it all worked out!  Looks great btw!']"
1681311557.0	12-Apr-2023 07:59:17	Can't get tailscale to work	lnh62	5	12joueu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12joueu/cant_get_tailscale_to_work/	"I'm having a difficult time making any sense of getting Tailscale working on my RPi 4b. I setup the RPi using the standard getting started method and it's running the latest version of Home Assistant. I have a Tailscale account and generated the API key and put all that info into Tailscale Integration. I also added the community Add-on for Tailscale and got that going. In the Trailscale dashboard the RPi shows up. If I go on my phone and I'm not on the LAN I can successfully ping the Tailscale URL listed for the HA install but if I try that same URL in a web browser it comes back saying :

This site can't be reached

URL refused to connect

My home network is a  Ubiquiti Dream Machine router along with 2 of their hardwired access points. The RPi is connected hardwired.

Any suggestions? I also have Nabu Casa but want a 2nd way into my machine. I've had several situations in the past where Nabu Casa was no longer working but the machine itself was up and running and could be accessed locally. The solution has been a reboot and I'm hoping Tailscale is another way in for recovery."	9	"['budius333: Use port 8123.\nExample: http://home assistant.myweird-tsname.ts.net:8123/', 'CypherMK: Are you connected to tailscale before trying the browser? On the phone or PC there is an app for that.', 'michaelthompson1991: Do you have your vpn turned on on your phone? It uses a vpn to connect', ""lnh62: BINGO!!!!\n\nI'm going to nominate you for a Nobel Prize!"", ""lnh62: Yes. I'm on a Pixel 7 with the tailscale app installed and the VPN enabled. The list on the app shows the RPi HA system along with the URL to access. If I paste the URL into a simple ping app on my phone I get a response. If I go to a desktop browser and look at my tailscale dashboard, it shows all the connected system correctly. Even from the desktop (which also has tailscale installed) I can't reach the URL of the RPi."", 'lnh62: Yes.', 'budius333: 👍👍👍', ""CypherMK: I'm on a Pixel 6, but I can access everything from my phone or PC, no issues. I did install tailscale in docker on my pi 3 (Raspbian) and pi 4 (libreelec) and can access everything. So I'm not sure what could be wrong."", 'michaelthompson1991: Just checking 👍🏻']"
1681311163.0	12-Apr-2023 07:52:43	Template breakdown	Kuechenfenster	0	12jonqv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jonqv/template_breakdown/	"Hi guys,  
could someone please help me and tell me in how to write a template to extract a specific set of date.  


I need the 1st ETA time form this link  
[https://data.etabus.gov.hk/v1/transport/kmb/eta/221A18C37331E6FD/268X/1](https://data.etabus.gov.hk/v1/transport/kmb/eta/221A18C37331E6FD/268X/1) 

&#x200B;

thanks in advanced!"	1	"['alex3305: There is pretty good documentation on [RESTful sensor](https://www.home-assistant.io/integrations/sensor.rest/). Something like this should work:\n\n    sensor:\n      - platform: rest\n        resource: https://data.etabus.gov.hk/v1/transport/kmb/eta/221A18C37331E6FD/268X/1\n        value_template: ""{{ value_json.data[0].data_timestamp}}""\n\nGood luck!']"
1681309641.0	12-Apr-2023 07:27:21	Json to YAML	Boogaard53	2	12jnxcv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jnxcv/json_to_yaml/	"Hi,

ive got this url:

[https://www.etoro.com/sapi/trade-data-real/live/public/portfolios?format=json&cid=21868134](https://www.etoro.com/sapi/trade-data-real/live/public/portfolios?format=json&cid=21868134)

&#x200B;

I want the 'NetProfit' as a sensor in home assistant,

I cant get this to work..... at all!

been trying for a week, all i get it an unknown state"	4	"['alex3305: What have you tried? Because this should be really easy. Something like this should work:\n\n    sensor:\n      - platform: rest\n        resource: https://www.etoro.com/sapi/trade-data-real/live/public/portfolios?format=json&cid=21868134\n        value_template: ""{{ value_json.AggregatedMirrors[0].NetProfit }}""', ""EcstaticStarfighter:     # Example Home Assistant configuration.yaml file\n    \n    # Home Assistant core configuration\n    \n    # Configure RESTful sensor for 'NetProfit'\n    sensor:\n      - platform: rest\n        resource: https://your-api-endpoint.com\n        name: NetProfit\n        value_template: '{{ value_json.AggregatedMirrors[0].NetProfit }}'\n        scan_interval: 300\n    \n    # Example automation to send a notification when NetProfit changes\n    automation:\n      - alias: 'Notify NetProfit Change'\n        trigger:\n          platform: state\n          entity_id: sensor.netprofit\n        action:\n          - service: notify.mobile_app_my_phone\n            data:\n              message: 'NetProfit has changed to {{ states(''sensor.netprofit'') }}'\n    \n    # Example Lovelace card to display the 'NetProfit' sensor\n    lovelace:\n      cards:\n        - type: sensor\n          entity: sensor.netprofit\n          name: 'Net Profit'\n          icon: mdi:currency-usd\n    \n\nsee if this helps"", 'Boogaard53: Hi,\n\nIve tried alot of different options,\n\neven called in help from ChatGPT\n\nPut it in my config but to not avail\n\n&#x200B;\n\n    sensor:\n      - platform: rest\n        resource: https://www.etoro.com/sapi/trade-data-real/live/public/portfolios?format=json&cid=21868134\n        name: Etoro2\n        value_template: \'{{ value_json.AggregatedMirrors[0].NetProfit }}\'\n        scan_interval: 300\n      - platform: rest\n        name: Etoro1\n        resource: https://www.etoro.com/sapi/trade-data-real/live/public/portfolios?format=json&cid=21868134\n        value_template: ""{{ value_json.AggregatedMirrors[0].NetProfit }}""', 'Boogaard53: Hi, Thanks!\n\n&#x200B;\n\nStill doesnt work sadly, still unknown output']"
1681309400.0	12-Apr-2023 07:23:20	Android Tablet Crashes When Viewing Home Assistant	CutletSSupreme	1	12jnt6x	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jnt6x/android_tablet_crashes_when_viewing_home_assistant/	Hey there! I am looking to set up a wall mounted tablet using an older Verizon Ellipsis 10 QTAIR7. I have factory reset it, and not installed anything except updates for webveiw, chrome, and the home assistant app all from the play store. The issue I am running into is when lovelace is opened up the tablet will fail to load parts of the page and then the entire system will crash/restart. This occurs for both chrome and the Home Assistant app. I am leaning towards there really being no functional way to use this tablet but I thought I would see if anyone else knows something I don't or may have a creative solution. If any more info is needed please let me know! Any help is appreciated.	5	['shakuyi: if it crashes in chrome then it definitely wont work in the companion app....is your tablet fully up to date including OS updates?', 'LifeBandit666: Have you tried Wall Panel and Fully Kiosk Launcher?', 'CutletSSupreme: To my knowledge yes. There are no updates qued or available from settings. Are there specific packages that may need updated manually from the play store?', 'CutletSSupreme: Unfortunately the same thing. Was excited when you suggested it because I was totally unaware of them. If I get it working the Wall Panel launcher is for sure a winner.', 'shakuyi: Yes check what version WebView is.']
1681309091.0	12-Apr-2023 07:18:11	Tuya Zigbee Door Sensor and Home Assistant?	sometin__else	2	12jnnv8	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jnnv8/tuya_zigbee_door_sensor_and_home_assistant/	" I used to use tuya for automation since I had a tuya zigbee hub lying around (yes yes I know tuya sucks) 

I noticed my zigbee motion sensors were now being exposed to HA with the status reporting correctly - however my door sensor has no entities. Any idea how to get the door sensor working on HA? It shows on the google home app and tuya app, but no luck with HA

The device shows but says it ""has no entities""

https://preview.redd.it/63wdomtcpgta1.png?width=1357&format=png&auto=webp&v=enabled&s=b3672bc97e9f0a5e5bf96a3fad85e8265c09cbde"	5	"[""alex3305: It shows that it is _unsupported_, so maybe it is unsupported by Home Assistant? You could always try LocalTuya. I don't know if that's supported. Another alternative would be to change Zigbee coordinators."", ""zendick1: put a zigbee usb stick on your homeassistant, it should auto ask to instal zha, join the sensor to zha and remove it from your tuya zigbee network\n\nbattery devices don't extend your zigbee mesh so it won't hurt anything but you won't be able to do anything in tuya for scene on that device anymore.  Tuya sucks anyway, I only have weird devices remaining on it, like humidifiers etc"", ""sometin__else: afaik localtuya does not support sensors (not listed under compatible devices for the integration)   \nYea I noticed it says unsupported buy wondering if there was maybe some work around.   \n\n\nSomeone on facebook suggested creating a switch and then exposing that to google home and setting that switch to trigger with a routine based on the door. Convoluted work around but seems like the route I'll have to go.  \n\n\nThanks though"", 'sometin__else: not what I was looking to do but thanks anyways. I knew people were going to reply with the tuya sucks hence why I already put it in my comment hoping I would get solutions with the things I have rather than suggestions to purchase other stuff.  \nManaged to get someone else to help me find a work around. Thanks for taking the time anyways', ""alex3305: > localtuya does not support sensors (not listed under compatible devices for the integration)\n\nThat I didn't know. Thanks.\n\n> Convoluted work around but seems like the route I'll have to go.\n\nYeah or change Zigbee coordinators. For instance the Sonoff ZBDongle isn't that expensive and is fairly popular.""]"
1681308974.0	12-Apr-2023 07:16:14	Storage full	Patrick161019	3	12jnm07	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jnm07/storage_full/	"I have 128GB of storage on my Home Assistant Blue and it is currently at 99%. I cannot update/restart or install addons anymore, but I also can’t find out where this storage comes from. I use MariaDB and have set the purge in my configuration at 35 days but have also manually purged with 10 or even 1 day, so it doesn’t seem to be the database. 

Any ideas where this problem comes from?"	8	"[""Xanohel: You can leverage `du` (short for **d**isk **u**sage) to check which big directories there are. This will take time as `du` will crawl through all sub-directories.\n\nAs `root`, create an alias for yourself, start at the root `/` of the filesystem and dig deeper in the big directories.\n\n```\nroot@unificontroller:~# alias | grep disk\nalias diskusage='du -k --max-depth=1 2>/dev/null | sort -n | tail -10'\nroot@unificontroller:/# cd /var\nroot@unificontroller:/var# diskusage\n4\t./opt\n8\t./mail\n12\t./www\n20\t./tmp\n36\t./spool\n3256\t./backups\n122316\t./lib\n188232\t./log\n688284\t./cache\n1002176\t.\nroot@unificontroller:/var# cd cache/\nroot@unificontroller:/var/cache# diskusage\n8\t./PackageKit\n8\t./unbound\n36\t./ldconfig\n40\t./dictionaries-common\n228\t./fontconfig\n1708\t./man\n1980\t./salt\n5884\t./debconf\n678368\t./apt\n688284\t.\nroot@unificontroller:/var/cache#\n```\nThe `.` entry is the current directory with everything in it, and can be ignored. In my example I didn't run it in `/` as that has multiple TB underneath it and takes too long.\n\nBased on your description, the biggest potentials are in `/var`, `/usr` and `/home`."", 'pyrosive: `dpkg-query -Wf \'${Installed-Size}\\t${Package}\\n\' | sort -n -r | head -n 20` - shows the 20 largest installed applications\n  \n`sudo du -ak --exclude "".local"" | sort -nr | head -100 | less` - shows the 100 largest files in the filesystem. \'.local\' has the storage overlays if you\'re using docker. Remove if not using docker  \n  \nCheck for files backups stored locally as well and clear them out (after saving elsewhere first)', ""alex3305: It's hard to say. Maybe backups? Maybe camera recordings? Maybe a `/tmp` folder that's filling up? Have you tried rebooting the system if that clears it?\n\nOtherwise you could always try installing the Samba add-on or SSH into the system to see what's going on. As suggested by the [Common Tasks](https://www.home-assistant.io/common-tasks/os/)."", 'LifeBandit666: For me it was the daemon log and syslog taking up my memory, so I occasionally wipe them', ""darguskelen: Just a note that deleted files on Linux aren't actually deleted until the process holding them closes the file handle.  This can lead to conditions where you've cleared off space, but something is holding the file open.  A reboot can clear those out."", 'FishScrounger: It was the backups for me. I deleted the older ones and got a lot of space back', 'ianjs: Check out `logrotate`. \n\nIt will avoid issues with log file open handles, it will compress the last one if you want, and it will do it all in the background to a schedule you specify.', ""No_beef_here: I like the 'Samba backup' add-on as that not only copies the backups off the HA host to somewhere else but can determine how many backups are left on the HA Host (I set 10) and on the remote store (mine is 'all').""]"
1681307525.0	12-Apr-2023 06:52:05	Tapo C200 RTSP stream not working	TheVirus32	0	12jmxoz	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jmxoz/tapo_c200_rtsp_stream_not_working/	" 

Hello everyone,

I’m trying to add a tapo stream to my home assistant dashboard, but all attemps seem to fail even though it works perfectly on VLC with the exact same address.

Host hardware: PI4 4Go - dedicated micro-SD install (not containerized)  
Host network: shared between roughly 100 persons, for work and for fapping alike.  
Camera hardware: Tapo C200 with password configured

What I have tried so far:

1. Integrating it directly using the Home Assistant GUI \[FAIL\]
2. Integrating it using the configuration YAML file, which while valid does not allow me to SEE the stream once the “stream” is part of the system

Here’s the bit of code I’m using:

&#x200B;

> camera:   
>  
>\- platform: ffmpeg   
>  
>name: ""Tapo C200""   
>  
>input: rtsp://user:password!@C200-543B83/stream1 

Indentations are wrong in this post but correct IRL

&#x200B;

All I get is 

[Doesn't work \^\^\\""](https://preview.redd.it/0qs2s2upkgta1.png?width=775&format=png&auto=webp&v=enabled&s=a60f34f808c056a5f5dd38c5f6c9b40427d256f2)

&#x200B;

Any help or tips would be highly appreciated. A lot of people have access to my room through key passes and ... Yeah, if my VR headset disappears for instance I'd like to know who's knees to break.

&#x200B;

Many thanks in advance :)"	5	"[""eestiif: I'm using [https://github.com/JurajNyiri/HomeAssistant-Tapo-Control](https://github.com/JurajNyiri/HomeAssistant-Tapo-Control) with the same camera and it's working fine! Give it a try!"", 'nottoobe: I set my c200 up with the Generic Camera integration.   So under integrations click ""+ add integrations"" search for generic camera integration.  Generic camera option setup will require the following:\n\n1. Still image: *leave blank*.\n2. Stream source url:  rtsp://youruser:yourpassword@x.x.x.x/stream1  (supply youruser, yourpassword, x.x.x.x ip address). **Note: Don\'t use =, ! characters in the password this trips it up for some reason.**\n3. RTSP Transport: *don\'t check any box* let integration select best option\n4. Select basic authentication.\n5. *Leave username and password blank*. (you already supplied them in the RTSP string above).\n6. Framerate to your liking; I used *10*.\n7. Verify ssl certificate checked *on*.\n8. Press *submit*.\n9. Will respond with Preview dialog box.  Check off box that says This image looks good (*even if no image is displayed).*\n10. Submit.\n11. Done.', 'alex3305: This 100%.', 'mondocu: Do you have motion detection working? It used to work for me but not anymore.', ""TheVirus32: No ! In the stream password ? Good to know I'll try with a simpler password and give feedback""]"
1681307427.0	12-Apr-2023 06:50:27	Google Home and Frigate 0.12	connelhooley	1	12jmw1e	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jmw1e/google_home_and_frigate_012/	"I recently upgraded to Frigate 0.12, I updated my config to use go2rtc. I can access my cameras over WebRTC using the Frigate UI now.

I've updated my HA Frigate integration to V4.

I've noticed my cameras are no longer appearing in the Google Home app or in my Google Nest device. Is this a bug, or is it not supported anymore or do I have some additional steps to complete for the migration? Anyone else seeing this? I've tried syncing my devices.

EDIT Below is how my config was in Frigate:

    go2rtc:
        streams:
          example_camera_main:
            - rtsp://username:password@192.168.1.100:554/videoSub
          exmaple_camera_sub:
            - rtsp://username:password@192.168.1.100:554/videoSub

    cameras:
      example_camera:
        ffmpeg:
          hwaccel_args: preset-nvidia-h264
          output_args:
            record: preset-record-generic-audio-copy
          inputs:
            - path: rtsp://127.0.0.1:8554/example_camera_main
              input_args: preset-rtsp-restream
              roles:
                - record
            - path: rtsp://127.0.0.1:8554/example_camera_sub
              input_args: preset-rtsp-restream
              roles:
                - detect
        live:
          stream_name: example_camera_sub
        detect:
          width: 640 
          height: 480"	17	"[""danlo315: I've just upgraded to .12 and starting to go with go2rtc. For the record, my Frigate feeds never worked on Google Home. Under .12 I setup my go2rtc/streams and then use those in my camera/ffmpeg/inputs. Cameras all work fine in HA but Google Home cameras still don't work. I am using Nabu Casa and do not have port forwarding setup."", 'nickm_27: This is most likely due to an incorrect setup of the config. The name of the stream in `go2rtc -> streams` needs to match the name of the camera in the cameras section for it to be mapped for the integration', 'planetearth80: Just so that I understand, you have go2rtc streams configured to be used in Frigate instead of the camera stream?', 'jaycrossler: Has anyone gotten the hwaccel working on a HA Yellow with the Coral stick?', ""connelhooley: I had them working but I'm not using Nabu Casa, after upgrading and making the change suggested by Nick I have it working but without audio, I need to play around with my audio encodings. (When I say it works, I mean on an actual Google Nest device with a screen, I've never had it work in the Google Home app on my phone).\n\nI'm also not sure if HA/Google are using MSE or WebRTC so need to investigate that as they use different audio codecs."", ""connelhooley: Ah I see, I have different names I'll update that, thanks for the heads up (atm I'm linking them together by specifying live.stream_name in the camera's config)\n\nEDIT:\n\nYeah that works thanks! I guess the live stream name is only used by frigate then?"", ""connelhooley: I'm not sure I understand the question, I've posted my Frigate config in the question, hopefully that helps clarify"", ""connelhooley: I don't have a coral stick (I wish!) But I've checked and I think my Nvidia GPU is being used for transcoding audio/video as per my config in the original post, I migrated to one of the new new hwaccel presets."", ""danlo315: I'm assuming you port forwarded 8554 or 8555?"", 'nickm_27: Can you elaborate what you mean by your question?', 'planetearth80: Ok got it. Another question - how do you get the go2rtc stream URL to be used in other applications (e.g., Home assistant)?', 'jaycrossler: It worked great when I ran from my PC and used my GPU. I’m trying to run it from the Raspberry Pi version called HA Yellow now (which overall works amazingly well and is way more stable than on windows). Only problem I’ve run into is that Frigate no longer works well.', ""connelhooley: I've just forwarded 8555 so far"", ""connelhooley: Frigate contains a setting for which stream should be used for the Live View:\n\n[https://docs.frigate.video/configuration/live/#setting-stream-for-live-ui](https://docs.frigate.video/configuration/live/#setting-stream-for-live-ui)\n\nI've posted my old config before I fixed it, you'll see I had multiple streams for a camera and then I specifed which one I wanted use in the live view.\n\nI think I assumed this would also be used by HA, but it seem it links them together by name instead.\n\nI think using this setting would be a cleaner approach but it's a nice-to-have and I imagine there's a million other things the devs who maintain this integration would rather be working on."", ""connelhooley: I was adding a camera tile to a HA dashboard and also using a Google Nest device to play the live feed. I've renamed the stream name I had set in the live.stream_name setting to match the camera and now the camera is available on the Google Nest again."", ""nickm_27: full disclosure I am one of the devs / contributors to frigate. In any case, I considered having the integration use the stream_name setting but wasn't sure if that would be intuitive since the HA integration isn't necessarily a live view. There have been a number of confusions on that which did not come up in the beta so will need to think through if changing it now would create more or less confusion and of course also see what the other maintainers think."", ""connelhooley: If it helps, my main use cases for using the integration was viewing a live feed of a camera in a HA dashboard and also on a Google Home device but I understand there'll other usecases where I guess using live.stream\\_name doesn't make sense.\n\nThanks for all your hard work on the integration! It's much appreaciated, can't wait to get Web RTC working in HA :)""]"
1681307313.0	12-Apr-2023 06:48:33	Orange pi 3 lts. Home assistant or solar assistant.	Inside-Positive5283	0	12jmu8o	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jmu8o/orange_pi_3_lts_home_assistant_or_solar_assistant/	"Has anyone managed to successfully install home assistant on an orange pi 3 lts? I've managed to install it but keep getting an error because it's using cgroups2 and not 1. 
I'm not the most tech savvy but enjoy tinkering, so quite capable of following instructions, except I can't find instructions to either install using cgroups1 or downgrade what I've got installed. 
Has anyone got some instructions that I could use to install a functioning home assistant? 
The other option is solar assistant, though I'd rather not pay if possible. Can I install other home assistant add ons if I were to purchase it?
Thanks"	6	"[""LifeBandit666: I don't know what the Orange Pi 3 is but look at if it'll run Docker or a VM then follow the instructions for installing that way, might be easier."", 'tungvu256: unless you are using the emmc,  the sd card will fail like those of the rpi.\n\nhighly recommend you run HA OS on a thin client as seen [here](https://www.youtube.com/watch?v=fEG7fDW56HE). mine is rock solid in the 2+ years.', ""Inside-Positive5283: I finally gave up and bought a NUC. Should have done it in the first place but I didn't know what I was doing. Solar Assistant use Orange Pi 3 LTS so it's obviously a capable machine but it was just so hard work for a noob like me. NUC is up and running already just need to add a few more bits."", ""Inside-Positive5283: Thanks, I've already got it running supervisor in docker but still have the cgroups2 issue."", 'Nexxchip: i am use orangepi 3lts too i use orangepi debian os can fix cgroup problem (install apparmor and but gpio cannot work, i just change to armbian gpio work but cgroup not fix yet, you can try follow this use orangepi debian os  \n[https://gist.github.com/renatoccosta/c30f0b4216c8caaf1f202b0a0561b5d3](https://gist.github.com/renatoccosta/c30f0b4216c8caaf1f202b0a0561b5d3)', 'Nexxchip: i am already the cgroup2 to cgroup1  \ni install armbian now i just go to armbianEnv.txt add a line  \n\n\nextraargs=systemd.unified\\_cgroup\\_hierarchy=false']"
1681306993.0	12-Apr-2023 06:43:13	Samsung Smart TV Integration - Switch Picture Mode	BTC_Informer	1	12jmoym	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jmoym/samsung_smart_tv_integration_switch_picture_mode/	"Hi there, is it possible to switch the picture mode of my Samsung TV to Filmmaker mode via HAS ?

Thanks! 🙂"	5	"['isitallfromchina: Can I ask, what is Filmmaker mode ?', 'antonio1475: Yes https://github.com/ollo69/ha-samsungtv-smart', 'BTC_Informer: Other picture mode like Movie, Dynamic etc. 🙂\n\nhttps://filmmakermode.com/', 'BTC_Informer: Thanks! Did work. The only thing i found out that it cannot switch in HDR Mode to it, but my ATV is only switching to HDR if the source is HDR while playing.', ""isitallfromchina: That's a new one for me, maybe I need a new TV.  Thanks""]"
1681306967.0	12-Apr-2023 06:42:47	how to lock switches for x minutes when activated	Cthulhu-Cult	1	12jmoi8	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jmoi8/how_to_lock_switches_for_x_minutes_when_activated/	I work for a system-integration company and we have a showroom where we show some signage-screens. Because we don't want to run these screens 24/7 or even 8 hours per day we're using these shelly plugs. Now we want to have a Home Assistant dashboard running on a touchscreen windows device so that we can turn these screens on and off. But because this is a somewhat public place we need to make this a little bit fool-proof. So to get to my question; is it possible to lock a button for x minutes whenever it is pressed and the command has been activated and all. When these shelly plugs are activated and the screen is booting it shouldn't be possible to turn it off immediately. Thanks in advance!	5	"['inorganiccentipede: Perhaps instead of directly toggling the device, have your dashboard button execute a script.  That script could then have a condition to prevent toggling the device again until X minutes have passed.', 'Beukers: Make a Boolean that switches on when pressing the button the first time. Put the Boolean in the conditions for switching on. Make an other automation that triggers the reset of the Boolean when X minutes have passed.', ""RndmCtzn212: If your buttons run an automation, the default state of 'single' won't allow for you to run it again until finished.\nIf you want to go that route, all you have to do is add a 'Wait for time to pass' after the original action you already have."", 'Cthulhu-Cult: Good idea, thanks!', ""DrDragonKiller: haven't tried it but maybe you can make a script which toggles and the simply waits X amount of time. \nAnd then you configure the script that only one instance is allowed to run at the same time (script mode single)""]"
1681304581.0	12-Apr-2023 06:03:01	Proper location identification	Shpyda	1	12jll45	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jll45/proper_location_identification/	"I just implemented several devices with ESPresence to help determine a persons physical location within our home and it seems to be working quite well to differentiate which room you are in at any given time. My next goal is to integrate that with my family location card properly. I use iPhone tracker status to indicate whether people are home or away. I use our Apple watches to determine which room a person is in. How can I write the logic so that it will label a person in a particular room unless they are in a room that does not have an ESPresence device, in which case it will label them as ""Home""? It basically needs to evaluate and display the result of the ESPresence sensor unless it gives a value of ""not\_home"", in which case it should default to the value to the iPhone tracker. Does this seem easy enough? Please let me know if this needs further clarification or more information."	4	"[""SaintTDI: > I use our Apple watches to determine which room a person is in. \n\nSorry I don't know the answer for your question, but how you use the Apple watch to know in which room a person is? It's what I really need :D"", ""Shpyda: I'm using [ESPresence](https://espresense.com/). It's a little tricky to get going and the method for [finding the identifier for Apple Watch](https://espresense.com/beacons/apple) is a bit convoluted (you need a computer running MacOS), but now that it's running, it's doing a good job at identifying which room I'm in. [These are the boards I purchased](https://www.amazon.com/gp/product/B08246MCL5/ref=sw_img_1?smid=A38CU2XC1RY0BO&th=1) to install Espresence on."", ""SaintTDI: thank you very much! \n\nReally cool project... actually there isn't anything hardware to do right?"", 'Shpyda: You would have to purchase, program/configure, and distribute the ESP boards I linked to in order to make this work.']"
1681298874.0	12-Apr-2023 04:27:54	How to make scraped sensor state value as a trigger?	Naratetama	2	12jj240	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jj240/how_to_make_scraped_sensor_state_value_as_a/	"I use scrape to obtain a time schedule from a website, which returns a time value that can change at anytime (e.g. *18:05* today, *18:10* tomorrow). I'm not using device and state class, because if I use date or timestamp, it returns *unknown*.

How can I use it as a trigger, so that it will perform an action when the current time matches the sensor state value?"	3	"['prokyle123: automation:\n  - alias: ""Trigger on Sensor State Time""\n    trigger:\n      - platform: template\n        value_template: ""{{ now().strftime(\'%H:%M\') == states(\'sensor.scraped_time\') }}""\n    action:\n      - service: script.perform_your_action\n\n\nReplace sensor.scraped_time with the entity ID of your scraped time sensor and script.perform_your_action with the desired action.', 'Naratetama: It works! Thank you!', 'prokyle123: :)']"
1681298310.0	12-Apr-2023 04:18:30	notify on every device with battery becoming unavailable because of empty battery	Er1c87	1	12jitsq	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jitsq/notify_on_every_device_with_battery_becoming/	"Hi guys,  
I like to generate an automation with a template trigger for every device with a battery when one becomes unavailable.  
This should fire a notification with the name of the device :)

Any ideas to solve this?

I started with this, to generate the trigger. 

    {{ states.sensor | selectattr('state', 'eq', 'unavailable') 
                     | selectattr('entity_id', 'match', '.*battery*')
                     | map(attribute='entity_id')
                     | list }}"	3	"['WickedColdfront: I use [this blueprint ](https://community.home-assistant.io/t/low-battery-level-detection-notification-for-all-battery-sensors/258664), which has worked well for me.\n\nEdit: to clarify, this doesn’t tell you when a device is unavailable, but warns you in advance so the battery can be replaced before it dies.', ""Er1c87: In my case there wouldn't be a warning, because my Lion batteries will drop from 100% to off 😅"", 'ZAlternates: I recommend The Watchman for monitoring for all your entities, including batteries. \n\nhttps://github.com/dummylabs/thewatchman\n\nIn addition to monitoring for unavailable entities, It also does cool things like tell you if your automations are referencing entities that don’t exist or if your dashboards are trying to show a device that doesn’t exist. Fantastic tool imo!\n\nAlternatively there is this blueprint that does only unavailable entity monitoring. \n\nhttps://my.home-assistant.io/redirect/blueprint_import/?blueprint_url=https%3A%2F%2Fgithub.com%2Fgmlupatelli%2Fblueprints_repo%2Fblob%2Fmaster%2Funavailable_entities_notification%2Funavailable_entities_notification.yaml']"
1681297147.0	12-Apr-2023 03:59:07	Tuya smart switch for opening gates	danielrama30	1	12jico6	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jico6/tuya_smart_switch_for_opening_gates/	"Hello, I have a question for you guys. I want to automate my home gate and I just found these tuya smart switches from aliexpress and I wonder if I could use them to open the gate placing it in parallel with the key.
I'm not sure if I can do that because as far as I know the smart switch need to have a potential-free contact (I don't know if this is the correct name in english) but I can't find any info about this festure anywhere.
If any of you have got your hands on these switches maybe you could help me."	5	"['RoganDawes: If you are comfortable tinkering, you could build your own using an ESP32 and a couple of optoisolators. I wrote up my solution here: [https://mybroadband.co.za/forum/threads/esphome-and-centurion-d5.1231471/](https://mybroadband.co.za/forum/threads/esphome-and-centurion-d5.1231471/)', ""snowfil: I have a couple of these in my gate, one on Trigger connection and one on Open. They have options for Normally Open and Normally Closed - I think that's what you're referring to. They are connected in parallel with a physical release on the intercom.\n\nhttps://a.aliexpress.com/_mOrwQ9q"", ""danielrama30: Sorry for the late reply. I have some esp32 laying around and I've never heard before of these optoisolators, I'll take a look. just a question, with these optoisolators I no longer need a relay? Can they be used also with 24v?"", ""danielrama30: Yep, I think that what I'm searching but I also think that these are just normal relays with also a 433MHz antenna. However I'll keep these in mind and try to get more infos about them, thanks."", 'RoganDawes: Yes, the idea is that you can skip the relays. But I’m not sure if you will find any that are rated for 24V']"
1681293729.0	12-Apr-2023 03:02:09	Restore Zigbee Bulb state after power outage	timknowlden	1	12jh413	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jh413/restore_zigbee_bulb_state_after_power_outage/	"I have my HA running on unraid connected to a ups.
So HA and zigbee2mqtt etc stay on between power outages. 

I have several shelly relays behind my light switches, these are mainly set up in detached mode so I can use the light switch itself to toggle zigbee bulbs.

My shelly relays are set to restore previous mode on power outage so that in the case of most relays is ON.

Because of this the zigbee bulbs are then switched ON.

Is there a way to store previous state of zigbee bulbs on a power outage so that when the shelly relays power is restored the Zigbee bulbs do not come ON if they were previously OFF?"	18	"['timknowlden: I noticed all of my hue bulbs were set to On', 'sleekelite: That’s up to the bulbs, Hue certainly supports that.', ""T_Verron: If your HA stays on, you could probably add an automation to save the state of the bulbs before a power outage and restore it afterwards. It won't be as fast as the built-in behavior, so the lights will turn on and then back off, I don't know if that's acceptable for you."", 'tarzan_nojane: Use Home Assistant and your Zigbee integration to ""Manage Clusters"" of the device for each of the target bulbs. You are looking for the OnOff cluster, and specifically its ""start_up_on_off attributes.  If you can ""get"" a value such as On, Off, or Last for that particular attribute, you may or may not be able to ""set"" that value to Off.\n\nMy experience **(ZHA)** with an assortment of bulbs and setting this attribute is as follows:  \n  \n* EcoSmart Smart A19 and BR30 CCT - YES\n* Linkind A19 ZBT-GLS0108 CCT - YES\n* OSRAM Lightify A19 73850 - YES\n* OSRAM Lightify A19 TW 73674 - YES\n* OSRAM Lightify A19 RGBW 73693 - YES\n* Sengled A19 E11-G13 - NO\n* Sylvania Smart+ A19 W 10 year by LEDVANCE - NO\n* Trådfri E12 W op/ch 400lm - NO* (reports setting but can\'t be set)', 'timknowlden: My hue ones turn on when off?', ""timknowlden: That is acceptable yes. My guess is I'd have to trigger saving the state on each change of any light or maybe just on power outage?"", 'timknowlden: https://preview.redd.it/2ltttlan7kta1.jpeg?width=1080&format=pjpg&auto=webp&v=enabled&s=9a7a43c2bde78e4452ba2152283eb0a685033b84\n\nThis is on an ikea tradfri, set to ""previous""', ""T_Verron: If you save on each change of state, once the lights turn on, it will save that state. Then you should disable the saving automation when the power goes out, and only reenable it after restoring the state.\n\nAn easier way would be to save every time the light goes off (but not unavailable). Then when the power comes back, turn it off if it was off, otherwise do nothing (the light will turn on anyway). I don't know if the light will remember its color, etc. when going back online.\n\nIf it doesn't and you want it too, you will also have to save that. The important thing is not to save the moment the lights go unavailable, and not to save the moment they come back on."", 'timknowlden: My osram bulb will not give me the option at all though sadly.', 'tarzan_nojane: Is the FW of your OSRAM bulb up-to-date?  They added this capability in a later update.  These bulbs can be OTA updated using Home Assistant.', 'tarzan_nojane: What is the firmware of your OSRAM (Lightify, I presume) bulb?', 'timknowlden: \n*\nI will try to update, for some reason this one never complete interview but works.\n*', 'timknowlden: Yes FW Is latest version and zigbee2mqtt also latest version but states no updates available for the bulb', 'timknowlden: &#x200B;\n\nhttps://preview.redd.it/uf64mcx0zqta1.png?width=1657&format=png&auto=webp&v=enabled&s=bd1f81f11563b0efc39f507a94e25e31fbb5f3aa', 'tarzan_nojane: Latest FW for that ZLL device is 01020510 (looks like it reports as v1.05.10 which yours does).  If the reported Firmware Build Date of 20140331 actually means 31Mar2014, then this was more than two years older than the 01020492 version released for US ZHA models in June 2016.  Perhaps the feature was not added to EU ZLL models.\n  \nHere is the link that OSRAM provides for that bulb, should you wish to update manually:  \n  \n[eu-west-1.amazonaws.com](http://s3-eu-west-1.amazonaws.com/lightify-osram-firmware/firmware/release/Cloud/EMEA/0510/ZLL_MK_0x01020510_CLASSIC_B40_TW_encrypt.bin)', ""timknowlden: Thanks for looking into it. I'm unable to open the bin file. Can you link to the Web page that contains the link?"", 'tarzan_nojane: [LEDVANCE](https://update.ledvance.com/firmware-overview)', ""timknowlden: Thanks, I'll work out how to manually update""]"
1681293229.0	12-Apr-2023 02:53:49	MQTT gateway for ESPnow sensors	zyghomh	13	12jgxjp	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jgxjp/mqtt_gateway_for_espnow_sensors/	"I have been looking for projects that provide fast but easy means of connecting sensors to HA with little to none delay and long battery life but I was not able to find anything that satisfies me.

So I created my own project that is providing what I wanted:

1- very fast delivery of the message to Home Assistant - it usually takes < 200ms

2- very long battery live - recently on battery 500mAh I am able to get into 6 months on 1 charge

3- multipurpose:

a - temperature/humidity

b- light

c- motion

d- push buttons

e- CO2

f- air pressure

4- project is based on separation of 2 device types:

a- sensor device - battery powered, sleeps

b- gateway device - mains powered, always on

have a look here if you wish to use it or participate

[https://github.com/homonto/ESPnow-MQTT-HomeAssistant-Gateway](https://github.com/homonto/ESPnow-MQTT-HomeAssistant-Gateway)

&#x200B;

Edit:

I have seen many projects that were using  2 ESP on gateway: 1 was for ESPnow and 1 was for WiFi, both interconnected via serial port - that is actually not needed - both can work together.

And to avoid missing messages the queue is implemented."	14	"[""dingdongdynamo42: Awesome!    \n\nI've recently dabbled in trying to get my multi-sensors to run off battery - with disappointing results (WiFi connection too slow). The only decent approach seems to be to use ESPnow, so this is great timing for me.\n\nThank you for the post and link to your GitHub repo.\n\nEdit: Spelling. Thx u/MangroveWarbler"", 'Trustworthy_Fartzzz: How is this different/better than just using ESPHome as BLE gateways in HASS?', ""CurrentlyInHiding: I may be misunderstanding, but it sounds like you're still using two ESPs, one for ESPNow (sensor data) and one for the MQTT/WiFi connection to HA?"", ""LostFerret: Saving. I'm a out to start a project with esp8266's but might move to 32's if ut means 1/6th of the time awake to connect and broadcast. A few questions:  \n\n1) How difficult did you find it to get espnow working with the esp32's?  \n2) 22ua in deep sleep is close to the firebeetle! Do you think it's possible to set up a gate and a ds3236 clock to cut power then wake it back up at a set time that is more accurate than the esp internal clock?  \n3) What tools did you use to measure deep sleep current and wakeup time current?  \n4) What software and company did you use to make your PCB's? they look amazing!\n\nThanks! I'm just starting and trying something maybe too challenging for my first project with esp's, boards, etc."", 'zyghomh: you are welcome! ;-)', ""MangroveWarbler: > I've recently dappled\n\nDo you mean dabbled?"", 'zyghomh: I am not in BLE at all - I tried few times but it ""scares"" me ;-)', 'qwaxys: I think what was explained is most people build their gateway with 2 ESPs and this project uses a singular ESP.\n\n\nObviously the sensors have their own ESP as well.', 'zyghomh: 1- it took me a while but once I got there it was not difficult. What helped me was making fake MAC addresses on both: sensor device and gateway device. This way, whenever new sensor is to be added I don\'t have to touch source code of gateway. Also in case gateway/sensor device fails and I need to replace ESP32, using fake MACs makes it easy to replace without any code changes\n\n2- 22uA is ESP32-S2 only - bare metal. If you add LDO and PIR you end up with around 60uA. 4uA would be ESP32 but as described on github: it is very slow.\n\nHow  different is waking up every EXACT 180s versus every AROUND 180s? ;-)\n\nAgain: do you want to make gateway sleeping as well? that is not going to work if sensor sends data on PIR/motion - gateway has to be always ON.\n\nFor accurate sensor device wake up: see above but on top of that: if you use PIR/motion then there is no more ""wake up on time"" but ""wake up on motion/and/or time"" so clock has little meaning. Unless I did not understand your point,\n\n3- PPK2\n\n4- EasyEDA & JLCPCB', ""dingdongdynamo42: Probably. English is my second language... still looking for a first.\n\n''dappled: marked with spots or rounded patches''"", 'zyghomh: that is true - most people use 2 ESP32 as gateway: 1 used only for ESPnow and second only for WiFi (towards router/AP/HA) interconnected via serial.\n\nI used 1 ESP32 doing both things', 'CurrentlyInHiding: Ahh ok that makes much more sense!', ""LostFerret: Thanks so much!  \n\nThe project is making beepers that tag camera traps, so the device goes out in the forest for 2-4 months before activation on a predefined day. The gateway will be constantly on, but you'll be carrying it with you and the devices beep when they connect via espnow.  \n\nI'll take a look at your code and see how you defined take macs, that'd def make it easier!"", 'zyghomh: perfect, if you find it useful I am happy\n\nif you need more info let me know please']"
1681289937.0	12-Apr-2023 01:58:57	Any recommendations for 30A switches?	Human_Spirit_8812	3	12jftn3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jftn3/any_recommendations_for_30a_switches/	"I’m looking to replace my current Tuya switches with, you know, something that’s not Tuya, for all the Tuya reasons. 

The switches will be used for geysers so it needs to be 30A.

Edit: 220V, not married to wifi/zigbee/zwave I’ll explore all options, based in south africa (huge limitation I know, but please share non SA options too)"	20	"['pollonium84: 30A: contactor. \n\nSteer the contactor with a smart switch.', ""Skeletorjus: You don't give much info (protocol, location/voltage etc), but I use Aeotec Heavy Duty for a water heater, and it works fantastic. It's zwave and rated for 40A (240V)."", '400HPMustang: Sinope makes a load controller that’s rated for 50 amps.\n\nhttps://www.sinopetech.com/en/product/smart-electrical-load-controller-50-a-zigbee/', 'RoganDawes: You could use the CBI Astute Smart Isolator or Smart Controller, flashed with LibreTuya-ESPHome firmware. That eliminates the Tuya side of things.\n\nThere is a whole thread on mybroadband about replacing the Tuya module with an ESP12, but it is not necessary. I have both Smart Isolator and Smart Controller devices flashed with LibreTuya-ESPHome, although I ended up not using them for my geyser. Happy to sell one or both to you if you want.\n\nI actually ended up using the Sonoff THR320 to control my geyser, in conjunction with a Geyserwise thermostat, and an ATTiny interposer that converts the analog NTC thermistor in the Geyserwise thermostat into a 1-Wire device that the THR320 can talk to.', 'wtfsheep: [40 solid state relay ~$5usd](https://a.aliexpress.com/_mryx1d6). Controlled with the gpio pin of a 3.3v logic device like a [wemos d1 mini ~$2.5usd](https://a.aliexpress.com/_mKjhtAy) (relay control 3-32v). Then flash the device with tasmota. Keep in mind that this would only be single pole so if you need to open both conductors to your load then I would go with a contractor like another commenter recommended. This is not a simple solution but more of a project', ""kevin28115: Doesn't Shelly have a 30a switch/breaker?"", 'RowingCox: Make sure you buy a contractor with a line voltage coil or smart switch rated for lower voltage power supply.\n\nEdit: changed 120V to line voltage so my comment works globally.', 'Human_Spirit_8812: Fair enough I’ll update the post thanks. \nAt this point though I’ll consider any protocol tbh', 'RoganDawes: Here is my writeup of how I used the Sonoff for my geyser. [https://mybroadband.co.za/forum/threads/esphome-geyserwise-smart-thermostat.1231463/](https://mybroadband.co.za/forum/threads/esphome-geyserwise-smart-thermostat.1231463/)', 'Human_Spirit_8812: Unfortunately not that I could see on their site. The Pro range has 16A outputs but that seems to be the highest. \nIt would definitely have been my first choice if they did', 'pollonium84: South Africa ... will be 230 Volt at 50 Hz not 120.', 'Human_Spirit_8812: I didn’t know about LibreTuya-ESPHome, it looks promising! I actually am using the CBI Smart Isolators, and I saw the mybroadband thread too but that’s a last resort for me. \n\nI’m gonna take a look at the LibreTuya option and see how I get on. Will keep in touch about those devices thanks. \n\nI’m actually moving away from Sonoff too, no particular reason, but the lack of an official HA integration isn’t great for me. \n\nI’m not enough of a tinkerer to go the route you did, unfortunately 😬', 'kevin28115: I saw some up to 25A.', 'RowingCox: Changed it to say line voltage.', ""RoganDawes: You will need to solder to the module on the inside of the Astute in order to reprogram it the first time, using a USB. I documented my ESPHome yaml  in the LibreTuya Discord showoff channel, if it helps.\n\nReprogramming the Sonoff was not a simple thing either, for some strange reason, as described in my post. So also not a great solution for a non-tinkerer. I'd be prepared to make an ATTiny-based adapter for you, and reprogram the Sonoff for you, for a small cost, though."", 'Human_Spirit_8812: I saw devices like the [Shelly Pro 2PM](https://www.shelly.cloud/en/products/shop/shelly-pro-2pm) are rated at 16A per channel with a total device maximum of 25A. \nDoes that mean there would be a way to wire it to get the 25A?', ""Human_Spirit_8812: Thanks u/RoganDawes, lemme see how I get on with LibreTuya and I'll reach out if I get too stuck"", ""kevin28115: Honestly don't know."", ""pollonium84: **Don't!** **That's unsafe**: even the smallest difference in resistance between the two paths could cause one path to draw more power than the other and overload the device.\n\nPlease, just use any shelly you like and hook its output to the control input on a contactor. Contactors are cheap, and they can switch large loads safely."", 'Human_Spirit_8812: Thanks! Yes I also realised this after reading up on it more. I’m definitely going the contactor route']"
1681288143.0	12-Apr-2023 01:29:03	Honeywell thermostat T6 (via homekit)	Mx__Dx	2	12jf88i	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jf88i/honeywell_thermostat_t6_via_homekit/	"I installed a honeywell thermostat and it was immediately discrovered by the homekit controller integration. It worked well for a few months, but it suddenly stop working and I haven't been able to reconnect it using homekit controller (it is not discovered). I connect it using the honeywell integration but everytime i change the temperature it throw an error (but the temp change), it is not updating, etc. And now it's not working at all. 

Does anyone had this problem, is there a way I can get it back ?"	7	"['mathmaniac43: I have the same kind of setup with the same thermostat. Generally mine is pretty stable and consistent, though it occasionally disconnects from WiFi (might be my network setup at home, not sure).\n\nMine is on a separate IOT network with no Internet access, and once or twice it has gotten grumpy and decided that it wanted to just stay off the network and mark itself disconnected long-term. I just shrugged, pulled it off the wall for 30 seconds, put it back, and it worked great. Hopefully a similar reboot will help for you too.', 'danTHAman152000: Try adding it with the HomeKit controller. I’ve found my two thermostats work better this way, vs using the Honeywell Lyric integration.', ""Mx__Dx: I tried but it does not seems to work. I don't know if it useful but I tried to use netdisco to see if it appeared in my network but no devices was discovered"", ""Mx__Dx: No HomeKit controller is discover but I don't know if a can add it manually ?"", 'danTHAman152000: You gotta reset the HomeKit option in the lyric, maybe reset the thermostat all together (not the actual heat or cool settings). Then it pops up right away as a new device on my network and add it even easier than directly to HomeKit.', 'Mx__Dx: Do you know how to reset the thermostat without the heat and cool settings ?', 'danTHAman152000: Yeah it’s simple. Just do it in the menu options on the thermostat. It’s easy to leave those heat cool settings alone.']"
1681287580.0	12-Apr-2023 01:19:40	How to add webhook buttons?	ColdTights	1	12jf0ww	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jf0ww/how_to_add_webhook_buttons/	I tried to look everywhere, but I still don't know where to add buttons with which I can control the switches via http post. can anyone help me?	4	"[""LifeBandit666: Assuming you already have the http post set up for the device, just create a helper switch and make an automation for when the switch is on, send the on command and another automation when it's switched off to post the off command. \n\nThen just stick the helper switch on your dashboard."", 'Thornappart: I used rest_command for the webhook \n(https://www.home-assistant.io/integrations/rest_command/ ) and called the created the buttons with call service', 'ColdTights:  \n\nI do not have the option to select the button as a trigger in automation.\n\nIt seems to me that this application is mainly based on ready-made solutions that are provided by gateways etc.', ""LifeBandit666: You'd be setting the webhook as the action, the trigger is the helper being switched on/off\n\nSo switch on helper sends the switch on webhook command, and switching off the helper sends the switch off webhook command. \n\nThen the helper goes on the dashboard and when you toggle it, it sends the correct command.\n\nEdit:  you'll be looking for the helper as input_boolean.name""]"
1681287484.0	12-Apr-2023 01:18:04	HA and Google Home (sdk)	Mx7733	2	12jezoc	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jezoc/ha_and_google_home_sdk/	"Hello,

*(tl;dnr: Is pairing HA with Goolge Home worth the trouble and does it solve my 7 issues/question..?)*

Since  couldn't find satisfactory answers around the web, I hope you guys can help me figure this out. 

My girl and I purchased a Google Home, (GH), kit at a local retailer. This kit has a Nest speaker, 2x Nest min and a Nest Hub 1. The reason we bought is was for easy access to steaming Spotify and use the screen for recipes. Also to create shopping list, calendar use and generally make some boring stuff easier. Well, that didn't work. Duo language is a nightmare.  For example:

""hey Google, timer dertig minuten""

""het spijt me, Ik begrijp het niet..""

Okay..

""hey Google, timer thirty minutes""

""I'm sorry, I dont understand""

\>.<

So we now basically use it for the radio and use an JBL for sound, which compared to the Hub is much better. I tried a few automation's, but left is alone because of the language problems. My girl isn't a big fan of speaking English because she has trouble finding the right words.. So, yeah, that was it. 

Enter HA. I still wanted to automate my house and use my limited python skills to make taks easier. And thanks to forums such as these I managed a decent set-it-and-for-get-it setup which works. Just don't update to often :) But most control is via phone or ""trigger"" switches. 

So now my GH is collecting dust and my phone creasy stains from switching scenes while snacking :(  So I'm looking into connecting HA with GH, via Nabucasa for now. I got an yearly subscription as a present and I'm pleased with the service. I just found out that my HA area setup is not syncing with GH tho, which makes me wonder if its worth the time and energy to further configure this symbiotic relationship between HA and GH. 

So, my questions are:

1. Is it worth the hassle? 
2. Can I run my HA automation's from HA or do I need to build them in GH as I do my area's
3. Can I use the Nest Hub to control HA with buttons if the dual language fails us?
4. Can I send pictures/HTML's of other (recipe) files to Nest Hub to show? 
5. Same goes for HA calendar and perhaps media (haven't gotten to the last tho)
6. Can I program sentences in my native language in HA to run through GH to make live easier for my GF? *(I don't mind setting up SDK if the answer is yes for some questions)*
7. If SDK is installed does it work as advertised? I am bit disappointed with GH when it comes to ease. Things like shopping-lists are a nightmare. (Perhaps also with dual language, but still)
8. Are there things that the partnering of HA and GH bring to the table that are otherwise impossible or just super nice? (this is more of an what else can I do with it question..)

Yeah, a lot of questions. Which I was a f\*\*k around, find out kind of guy.. But I'm not. I am more of a make an informed decisions dude, before you break what is working..

Hope you guys can help me figure this out. Not necessarily the config, al help is welcome tho, but to make a decision. I could, if desired, post the process if I decide to build it, so other non-adventures HA enthusiast can trace my steps.

Thanks in advance! 

*May the wind be always at your back and the sun upon your face!*

\-Mx7733"	9	"[""mrtramplefoot: I only interact with mine in english, so can't comment on any of the language stuff, but with nabu casa, I had no issues setting things up and exposing HA entities to google.  I also love the google assistant integration as it allows me to better control my roomba that has very limited ha integrations.  For me, very worth it, but your mileage may vary.\n\n&#x200B;\n\nI also find our google homes invaluable though as we constantly use them for reminders, timers, music, etc...  My life would be measurably worse without them lol\n\n&#x200B;\n\nI have had the opposite experience with lists and absolutely love them.  I have shared keep lists with my wife for groceries, sams club, and home improvement.  We add items to the lists from google homes and I push notifications with links to the lists when either of us enters an appropriate zone to use the corresponding list (ie I pull up to the grocery store and get a notification with a link to open the grocery store list)"", 'LifeBandit666: Another native English speaker answering here. My answer is yes get Nabu Casa hooked in, worst case scenario is you put them back in a drawer gathering dust, what\'s to lose? \n\nIn Google Assistant you can set Routines. This is basically ""When I say this, do this"" and the ""do this"" can be a Home Assistant script. They\'re called Scenes by Google and I have no idea what they\'ll call it in your language, but they\'re Scripts. \n\nSo what that means is you can make it run automations with hot words, in your own language too I assume. \n\nI\'ve been using Routines for years in English and they\'ve always worked. \n\nLike I say, worst case you stop using them again, but at least you tried.', ""Mx7733: How did you manage that? With the list and the zones? \n\nAnd are you also use the SDK wit Google Assistant via Nabu Casa? I can't seem to get it to work. I keep getting  Error 400: redirect_uri_mismatch"", 'mrtramplefoot: I have 3 Keep lists, ""grocery"", ""sams club"", and ""home improvement"".  Each list is shared with my wife so either of us can tell google to add something to any of them.  Then I went into HA and created a zone for all the grocery stores, sams clubs, and home improvement stores around us that we\'re likely to shop at.  Then I have automations set up for when one of us enters one of those zones, it pushes a notification with the link to the corresponding keep list for that zone.  It works great!\n\n&#x200B;\n\nI am using the assistant sdk with nabu casa.  I had an issue at first, but I think I was trying to reuse the existing client ID I was already using for HA and it didn\'t like that.  Made a new client ID just for this and it\'s been great.', 'Mx7733: That is so cool! I\'m just starting out with HA and am definitely putting this List-to-location om my ToDo. The lists are created in Google?\n\nI finally(!) got my GA SDK to work. So after my OTA update problems I will look into geofencing lists.  I hop it doesn\'t involve coding like:\n\n""*To write (/set) a value publish a message to topic zigbee2mqtt/FRIENDLY\\_NAME/set with payload {""trigger\\_indicator"": NEW\\_VALUE}. If value equals true trigger\\_indicator is ON, if false OFF""*   \n\n\nThat drives me nuts. Just can\'t figure out how to implement this and where.', 'mrtramplefoot: Glad you got it working!  The lists are in ""Google keep"". It\'s just another Google app for making lists.\n\nI use node red for most of my automations and there\'s an actionable notification thing you can just import so it makes doing these dead simple.  I can share the code if you decide to go that way\n\nOh you do have to set keep as your ""notes and lists provider"" in the Google home app.  Go to settings>notes and lists>then select Google keep', ""Mx7733: If you wouldn't mind, that would be Great! Perhaps that moves me forward.. \n\nI'll try the Google keep and take it with me on my GA/GH learning.. \n\nThanks you so much!"", ""mrtramplefoot: This is what I use for actionable notifications:\n\n[https://zachowj.github.io/node-red-contrib-home-assistant-websocket/cookbook/actionable-notifications-subflow-for-android.html](https://zachowj.github.io/node-red-contrib-home-assistant-websocket/cookbook/actionable-notifications-subflow-for-android.html)\n\n&#x200B;\n\nHere's an example flow (reddit wouldn't let me post the json?):\n\n[https://imgur.com/a/YdUxEdw](https://imgur.com/a/YdUxEdw)"", ""Mx7733: Wow. Thanks! Ill look in to that flow!   \n\n\nI'll keep you posted!""]"
1681284390.0	12-Apr-2023 00:26:30	Has anyone used the Watt Watchers API for energy management?	reddash73	2	12jdw5d	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jdw5d/has_anyone_used_the_watt_watchers_api_for_energy/	"I am looking at energy monitoring and i think the WattWatchers Auditor 6W will do the trick. They have an API to access the data in your LAN as the Auditor is WiFi connected.  


Just wondering if anyone has hooked on of these to HASS yet?  


[https://service.wattwatchers.com.au/hardware/a6w-overview](https://service.wattwatchers.com.au/hardware/a6w-overview)  


[https://docs.wattwatchers.com.au/api/v3/](https://docs.wattwatchers.com.au/api/v3/)"	0	[]
1681282515.0	11-Apr-2023 23:55:15	Sensor to display changes over last 24 hours	Spooknik	1	12jd861	homeassistant	https://www.reddit.com/r/homeassistant/comments/12jd861/sensor_to_display_changes_over_last_24_hours/	"Alright so I am trying to figure out how many hours per day my heat pump is running. 

Currently it gives me a running total of the total amount of hours the heat pump has run, which is useful, but can I somehow filter that to just count the hours that have appeared in the last 24 hours? 

[Looks like this for reference](https://i.imgur.com/jaJeDfz.png)"	3	"['ZAlternates: https://www.home-assistant.io/integrations/history_stats/\n\nOr\n\nhttps://www.home-assistant.io/integrations/statistics/\n\nFor the last 24 hours, the first is prolly better but they both can achieve what you want.', 'Spooknik: Thanks! I dug into it a little bit and history stats is exactly what I want. \n\nI am using this code:\n\n    - platform: history_stats\n      name: ""Running Time Last 24 Hours History""\n      entity_id: sensor.nibe_110283_44071\n      state: ""on""\n      type: time\n      end: ""{{ now() }}""\n      duration:\n        hours: 24\n\nbut it doesn\'t seem to do anything. sensor.nibe_110283_44071 [looks like this](https://i.imgur.com/3SXzcdc.png). As I understand the code above, should just ""count"" the amount of time it is on over the last 24 hours.', 'ZAlternates: I’m guessing since it’s a sensor and not a binary_sensor, you need to make the state match to True instead of on. Notice how your sensor has two states, True and False, not on and off. \n\nIf it was binary_sensor.nibe_110283_44071, then it would auto map to on and off.']"
1681277847.0	11-Apr-2023 22:37:27	I'm stumped. I have two picture cards. One of them does not show up on my iOS app when I'm not on the network, and yet as far as I can tell they are basically set up the exact same way (see captions)	ayyycab	1	12jbii9	homeassistant	https://www.reddit.com/gallery/12jbii9		7	"[""inrego: Probably the one that works is cached somehow. Because neither of them should work when you're not home, since you're using a local address"", ""ayyycab: In case captions are getting cut off for anyone else:\n\nI have object detection set up to detect if my cars are at home. Then I made a card on my occupancy dashboard to have a visual representation of which cars are at home. It's a horizontal stack, and each card is a conditional. Each conditional shows a picture of a car (retrieved from my www folder) IF that car is present. Most of these pictures just show how both cards are set up the same. The files are in the same directory and are both jpegs, and both of their conditional states are satisfied, meaning both should show up. And they do, at least when I'm looking at it from my PC.\n\nThe last 2 pictures show those cards in my iOS app. Both cards work as intended when I'm on the network, but the white car picture won't show if I'm not on wifi. And this is me disabling wifi just to show I haven't actually left the house in that car. Any ideas as to what's going on?"", ""ayyycab: > Probably the one that works is cached somehow. \n\nYou're probably on to something, but why did it cache one and not the other?\n\n> Because neither of them should work when you're not home, since you're using a local address\n\nWhat good would DNS/Nabu Casa be if the app couldn't access my local HA files while it's accessing HA itself?"", ""inrego: Can't say for sure why one is cached and not the other. Could be many things.\n\nIt can probably access them, but not by the URL you specified, since you explicitly specified a local address. Try changing the URL to just /local/subaru.png then it's a relative path and should work i think"", 'SpencerDub: >What good would DNS/Nabu Casa be if the app couldn\'t access my local HA files while it\'s accessing HA itself?\n\nYou\'re not telling it to access those files, though. Well, not exactly.\n\nI\'m going to speak broadly here to explain. The details are likely a little off, so people with better understanding of how internet traffic works will likely quibble with my details, but the overall thrust is, I hope, accurate. And as always, I apologize if this is overexplaining.\n\n192.168 IP addresses are typically private IP addresses reserved for routing traffic within a home network. They will be unique within a network, but not *universally* unique. My home router, for instance, has a login page for router administration at 192.168.0.1. Yours probably does too. Yet you and I can each go to that IP address and get our unique router admin panels, because 192.168 addresses are, in a sense, relative to the current network.\n\nWhen you load Home Assistant on your work network and HA says ""load the image file at `192.168. [...] subaru.png`"", following those directions means it attempts to request that image file from that location on your work network, which presumably doesn\'t exist. It\'s looking there because you\'ve told it to by using the internal IP address. It\'s just like if you had told it to load `imgur.com/subaru.png`—the browser sees that as a request for an external resource and looks it up by trying to follow the address given.\n\nThe instruction ""Go to the nearby fridge and grab the container on the top shelf"" will reliably give you the results you expect at home. Follow the exact same instruction at work, however, and you\'ll likely get a result you don\'t want. 192.168 IP addresses are akin to saying ""the fridge nearby"", as opposed to ""my fridge, at home"", as I\'m sure you want.\n\nThe app can access local files just fine; after all, it\'s fetching the rest of your dashboard without issue. But you haven\'t told the app to fetch ""the local files, on my computer"". You\'ve told it to fetch files specifically from ""the computer with this internal IP address"", which will vary from network to network. You\'re telling the app to grab the container on the top shelf of the nearby fridge.\n\nDNS/Nabu Casa allow for an _external_ IP address to consistently reach your HA instance. Unlike internal IP addresses, your external IP address should be unique within the broader internet, and as such, as long as an external IP address is reserved for your HA machine, going to that address will reliably direct you to your HA instance. But that\'s not what you\'ve used.\n\nDNS or Nabu Casa wouldn\'t stop your HA instance from looking up `imgur.com/subaru.png`, an external resource. Mechanically, that\'s exactly what it\'s doing with your 192.168  address too. Those services don\'t intercept and rewrite valid HTTP requests, they simply allow devices outside your home network to access a device within it (your HA instance). \n\nIf you want to reference files on the HA machine, don\'t use the internal IP address like you\'ve done. Instead, just use `/local/subaru.png`. When your Home Assistant app (or your browser) loads the content from your Home Assistant server and sees a file path like that, it requests that content from the web server itself.\n\nAs for why one image is cached and the other is not? I dunno. Gremlins, maybe.', 'ayyycab: That worked, thanks man.\n\nStill a mystery why one decided to work and not the other, but no longer a mystery I care about lol', ""inrego: But I'm just guessing from my pre existing knowledge of web servers, as I've never actually done this in HA myself""]"
1681272805.0	11-Apr-2023 21:13:25	How to detect a power outage, and reload HA	divisionSpectacle	5	12j9jf3	homeassistant	https://www.reddit.com/r/homeassistant/comments/12j9jf3/how_to_detect_a_power_outage_and_reload_ha/	"I have a UPS, and it covers HA, my router, wireless and my NAS. 

When there is a power outage I lose connection with my remote speaker, and I have to restart HA (maybe just that integration) to get it back. This seems to be a common problem. 

My UPS communicates it's state via USB, but I've already got that connected to my Synology NAS and that's more important in a lot of ways.

Is there a way I can get the synology to tell HA that the power flipped, so I can restart HA and get my lost connections back?"	12	"['mrbmi513: Does the Synology offer a [NUT server](https://www.home-assistant.io/integrations/nut/)?', ""Rotilho: Can't you just create an automation that restart ha if some entity of this integration is unavailable for let's say 10 minutes?"", 'FuzzyToaster: NUT is clearly the right way to do it, but another option could be something like checking for the ""unavailable"" status of something that\'s mains powered.', 'IVovo: You can use a door opening sensor (zigbee) in which you can connect a 5 volt relay in parallel to the reed switch, which in turn is connected through a power supply to a 220v network. It is believed that the zigbee controller has an autonomous power supply', 'timknowlden: I have my HA running on unraid connected to a nas, but when I lose power my shelly devices restore power, but because I have zigbee bulbs connected to the shelly relays the zigbee bulbs all switch on. I need to find a way to remember state of all lights before a power outage.', 'mathmaniac43: I have a docker-compose setup and used to run multiple machines off a UPS. My goal was to detect a power outage and within a few minutes (well before the battery died) gracefully but deliberately shut down every machine.\n\nI used an apcupsd Docker container (for my APC UPS with USB connection) and set up a script that would remotely execute the shutdown command on each machine I wanted to. It allows scripts to be run at different power states of the UPS. For your case, assuming this container or a similar one could work for you, you could simply run the restart command for HA. Or depending on how it is hooked into your Synology, maybe you can modify the script it runs to also do what you want with HA.\n\nhttps://hub.docker.com/r/gersilex/apcupsd\n\nA similar setup should be doable with-or-without Docker.', 'zoommicrowave: Yes it does. \n\nControl Panel —> Hardware & Power —> UPS —> Check enable network UPS server\n\nEdit: Also add the Home Assistant IP (without port) to the Permitted Diskstation devices menu (accessed by clicking on it). OP is then ready to add the Nut integration in Home Assistant by using the Synology IP as the Nut server.', ""divisionSpectacle: Holy crepes that's awesome.\n\nHA really has something for everything"", 'DJ_TECHSUPPORT: Haha “Nut”', 'ZAlternates: Or even call the service to reload the integration affected.', 'Complex_Solutions_20: I\'d say both.\n\nI also have a lot of ""unavailable -> off"" and ""unavailable -> on"" automation triggers so I can have stuff re-synchronize to what the server wants them to be...such as if the power blinks and the smart-plugs should be on, turn them back on.\n\nSetting up NUT will also allow HA to do a graceful shutdown if the UPS is getting too low, and/or maybe notify you what\'s happening.', ""Rotilho: I didn't know this was possible, nice!""]"
1681267376.0	11-Apr-2023 19:42:56	Anyone Having Success With Thread & Matter Products?	waverunnr	9	12j76qg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12j76qg/anyone_having_success_with_thread_matter_products/	"I recently discussed in a [3-part series](https://www.reddit.com/r/Nanoleaf/comments/12j4eyw/thread_matter_a19_part_3/) what a disaster Nanoleaf's Thread & Matter bulbs are when used with Apple Home and Google Home. 

Before I return 24 bulbs, I thought I would check out HA’s offerings.  Has anyone has experienced success with Thread & Matter products using HA & SkyConnect?"	4	"['MikeDeansMustard: Ignoring Thread/Matter for a second, HA & SkyConnect (or HA Yellow) is still very touch-and-go even just in Zigbee. OTA updates require constant babysitting at best, or just outright fail multiple times at worst. The mapping function is hit-and-miss. Stability with basic functionality has been excellent. It\'s very much a ""do not touch"" item until further developments are made. \n\nMatter and Thread support in HA is still considered experimental. I\'ve heard bad things about enabling multi-protocol support in the SkyConnect at this stage. \n\nConsider trying out the bulbs in HomeKit or any other home IoT ecosystem to see if it\'s any more stable — at least then you can better understand if the problem is related to Home Assistant specifically or not and re-purchase the bulbs in the future when development is ironed out.', ""LARBIFICATION: Thread and matter support are both very new and experimental in home assistant. I'm assuming you know this already but just want to make that clear in case that's where your bad experience is coming from for these products.\n\nThe technology in general is also pretty new and I expect it to be much smoother in the future"", 'waverunnr: I haven’t tried anything in HA yet. I’m hoping that if I use HA as my Thread Border Router. my issues will clear up.', ""-entropy: Probably not, at least not yet. Getting my Eve Thread/Matter plugs joined was more complicated than expected, and now they're not consistent - the states are not accurate and the network seems unstable. Sometimes I can't control them at all.\n\nIt's getting there, but I think we're a good 6-12 months from it being reasonably useful. Also, my brand new Eve plugs have some pretty nasty coil whine, so there's that.""]"
1681266423.0	11-Apr-2023 19:27:03	Aqara Vibration/Tilt sensor only sending orientation info when stationary	mekaneck84	4	12j6r9x	homeassistant	https://www.reddit.com/r/homeassistant/comments/12j6r9x/aqara_vibrationtilt_sensor_only_sending/	"I just picked up an Aqara Vibration and Tilt sensor and connected it to my HUSBZB-1 dongle via ZHA. My goal is to stick it on my outdoor trash can to detect when the trash is taken to the curb and then when it is emptied into the garbage truck.

The device added easily but orientation sensors didn’t appear; only the vibration sensor. After some googling I found that the integration doesn’t include it but the info does get sent in a `zha_event` so I set up a template sensor (actually 3, one for each axis) to get the orientation to site up as entities.

This works, but I noticed (and confirmed via listening to `zha_events` in the developer tools) that the orientation data is only sent after orientation is changed *and then the sensor becomes stationary*. So if I pick up the sensor, rotate it around for a minute, then set it back down, I’ll get an updated orientation event only after I set it down. I stuck the sensor to my trash can and looked at the data when the garbage was collected and sure enough there was a vibration event but no orientation change when the trash was turned upside down while emptying and then returned to its upright position.

Does anyone else have this sensor and seeing similar response? I was excited with the range of the sensor and it’s small size but if it only reports orientation when stationary then it’s useless for my purpose.

&#x200B;

&#x200B;

Edit: added an annotated image of data when the bin was emptied by the trash collector and also blown over in the wind. It is clear that, at least with the ZHA integration, the sensor cannot be used to determine when trash is emptied. But it can be used as an alert when the trash can is on it's side. So it's not completely useless, but it's close. 

[Data showing that the trash being emptied doesn't trigger tilt or orientation changes since the sensor doesn't become stationary until it is returned to its original position.](https://preview.redd.it/ih6n1265qrua1.png?width=1443&format=png&auto=webp&v=enabled&s=16c6543a81ba415ba691befaa9b1dae6382242d9)"	13	"['mekaneck84: FYI for anyone who has this sensor. Here\'s code for all the template sensors that can be created from the zha\\_events that come from this device when using the ZHA integration:\n\n```\n    \ntemplate:\n  - trigger:\n      - platform: event\n        event_type: ""zha_event""\n        event_data:\n          device_id: 32digitalphanumericcodegoeshere\n          command: \'current_orientation\'\n    sensor:\n      - name: ""Aqara Vibration Sensor X Orientation""\n        state: ""{{ trigger.event.data.args.X }}""\n        unique_id: aqara_vibration_sensor_orientation\n        attributes:\n          time_fired: ""{{ trigger.event.time_fired }}""\n      - name: ""Aqara Vibration Sensor Y Orientation""\n        state: ""{{ trigger.event.data.args.Y }}""\n        unique_id: aqara_vibration_sensor_orientation\n        attributes:\n          time_fired: ""{{ trigger.event.time_fired }}""\n      - name: ""Aqara Vibration Sensor Z Orientation""\n        state: ""{{ trigger.event.data.args.Z }}""\n        unique_id: aqara_vibration_sensor_orientation\n        attributes:\n          time_fired: ""{{ trigger.event.time_fired }}""\n  - trigger:\n      - platform: event\n        event_type: ""zha_event""\n        event_data:\n          device_id: 32digitalphanumericcodegoeshere\n          command: \'Drop\'\n    binary_sensor:\n      - name: ""Aqara Vibration Sensor Drop""\n        state: ""true""\n        unique_id: aqara_vibration_sensor_drop\n        auto_off: 5\n        attributes:\n          time_fired: ""{{ trigger.event.time_fired }}""\n  - trigger:\n      - platform: event\n        event_type: ""zha_event""\n        event_data:\n          device_id: 32digitalphanumericcodegoeshere\n          command: \'Tilt\'\n    sensor:\n      - name: ""Aqara Vibration Sensor Tilt""\n        state: ""{{ trigger.event.data.args.degrees }}""\n        unique_id: aqara_vibration_sensor_tilt\n        attributes:\n          time_fired: ""{{ trigger.event.time_fired }}""\n  - trigger:\n      - platform: event\n        event_type: ""zha_event""\n        event_data:\n          device_id: 32digitalphanumericcodegoeshere\n          command: \'vibration_strength\'\n    sensor:\n      - name: ""Aqara Vibration Sensor Strength""\n        state: ""{{ trigger.event.data.args.strength }}""\n        unique_id: aqara_vibration_sensor_vibration_strength\n        attributes:\n          time_fired: ""{{ trigger.event.time_fired }}""\n\n```', 'mini_juice: I have a few of these sensors and was a bit disappointed to find that orientation wasn\'t included in the entities. Good find with the template sensors, sorry it\'s not great for your use case. Does [changing the sensitivity](https://community.home-assistant.io/t/zha-aqara-vibration-sensor-set-sensitivity/414810) improve the orientation updates at all?\n\nMaybe this sensor could still be useful for your purposes. A possible workaround could be a two part automation:\n\n1. Set up a toggle input_boolean where a vibration trigger turns the input_boolean ""on"" for a couple minutes, then back ""off"". \n\n2. Use the orientation update as a trigger and the input_boolean above as a condition, then add your actions.\n\nThe idea here being the automation would only run with an orientation change and a significant vibration. Although, depending on your use case, it would likely be a pain to rule out false positives. Whatever automation you use to find if the trash has been taken to the curb would likely trigger again when the can is taken away from the curb as it\'s very similar motion. It\'s not perfect, just a possible starting point 🤷🏼\u200d♂️ Hope this helps!', 'richardwonka: Addendum: in zigbee2mqtt, these are default sensors and are well implemented, so a history shows up as a graph.', 'mekaneck84: Thanks for the link I’ll play around with the sensitivity to see if it makes a difference. Right now, I’m only getting an orientation change if the trash can falls over, because that’s the only scenario where orientation changes to something different and then stops. In all other cases (emptying the trash or rolling it to/from the curb) I get no updates presumably because the sensor is only tilted while it is shaking and doesn’t stop shaking until the sensor is back to the same position it started at. \n\nPerhaps it just doesn’t send out orientation changes when the vibration sensor is active, and so decreasing the sensitivity may help. I’ll give it a shot.', 'The_Manoeuvre: I had the same use case in mind (bin tips up + goes upright = Push Notifications to bring the bin in) so it’s a shame to hear this doesn’t work out. I’d be interested to hear if you do crack it.\n\nPs I now want to set up a cute notification “I fell over, can you help me? 🥺” from my bins hahaha', 'mini_juice: Ah, my bad. I thought it sent an event when movement stops, even if the orientation is the same as when it started. Best of luck, post back here if you find a solution!', 'mekaneck84: I love this idea. Will have to do this when I get the rest of it working.', 'mekaneck84: Well hold up. Thanks for pointing that out. My entity doesn’t change because the value (status) doesn’t change. But that doesn’t mean there wasn’t an event sent. I’ll have to figure that out. In fact I’ll update my template sensor so that a timestamp is sent as an attribute to force an entity update even if the status doesn’t change. That way I can see if events are being sent or not. \n\nWill dig in and report back.', 'mekaneck84: Update: There is a separate zha\\_event for each of the following:\n\n* Current orientation\n* Tilt\n* Drop\n* Vibration Strength\n\nUnfortunately in my testing, the ""current orientation"" and the ""tilt"" events are only issued after the sensor is stationary for about a half second. I can pick up the sensor and rotate it around in my hand nonstop for minutes on end and zero events will be issued during that time. As soon as I stop, the orientation and the tilt events will be issued with the numbers associated with the final resting orientation. \n\nAlso, the tilt value is relative to the previously communicated orientation and is always a positive number. The current orientation values for X, Y, and Z are very confusing; they\'re either 0,45,or 90 in almost every orientation except when the reset button is facing up (away from the earth) and (while looking at the front of the sensor) it is rotated counter-clockwise between 0 and 90 degrees. Any of all of the other possible orientations that the device could be placed in will result in 0, 45, or 90 on each of the 3 axes. \n\nThis thing really just makes no sense. \n\nI plan to switch from ZHA to zigbee2mqtt in the next few weeks and hopefully the support for this sensor is better. At this point I can\'t tell if these odd results are due to poor ZHA support or just a crappy sensor.', 'richardwonka: Support in zigbee2mqtt appears to be better. \n\n- Axes are individual, well-defined sensors by default \n- angle history is more detailed\n\nThere still appears to be a throttle to angle updates which only report when at rest. This may be a battery-saver _feature_.', 'mekaneck84: Thanks so much for the feedback! Is there a throttle on the orientation axes also?\n\nTrying to understand if this sensor can be used to determine when a trash can is emptied, or detect when a garage door is in the process of being closed or opened. If tilt and orientation are both throttled until the sensor is stationary these applications are not possible.', 'richardwonka: Well, i am using it for my washing machine:\n\n- vibration over a threshold for a defined time activates a recurring notification \n- lid angle over a threshold for 30s deactivates notifications \n\nThis works with some delays (minutes), but it does work.', 'mekaneck84: Yep, makes sense. Vibration works as expected, but angle only reports when stationary. Which, in your case is fine because you open the lid and it remains stationary in the open position for some time. But if you wanted to detect if someone quickly opens and then closes the lid, you would only get a vibration event; the lid angle would report no change at all.']"
1681266181.0	11-Apr-2023 19:23:01	“Good” LED Light Strip (no hub)	twratl	1	12j6n99	homeassistant	https://www.reddit.com/r/homeassistant/comments/12j6n99/good_led_light_strip_no_hub/	Per the title what are recommendations for a good LED light strip that doesn’t require a hub to work. I have access to standard 120v power so don’t need battery operated which means wifi is more than okay for this use case.	4	"['Shooter_Q: Haven’t done it myself, but seen a lot of DIY [projects like this](https://youtu.be/FU4aR2YKNDI) using ESPHome. \n\nAdvantages being you can run power from USB hubs and adapters for multiple setups in the same location like an extensive cupboard set, and make your choice of generic LED strips with extensions, flexible vs rigid, etc. well, if I understand the concept correctly. \n\nAnd you’d be setting up the boards on wifi.', ""purayesca: I started with Govee, went to Magic Home, back to Govee, and then to WLED. I had so many connection issues with Govee and Magic Home that I was constantly reconnecting them if I could. I finally jumped into WLED and I wouldn't try anything else. I was initially worried about the soldering because I'm not very good at it but this video shows how to do it without soldering. I also use jumper wires (male to female) to connect to the board.\n\n[https://youtu.be/TOEnFKLm9Sw](https://youtu.be/TOEnFKLm9Sw)"", ""mscottco: I've done something similar for some Christmas lights - the esphome solution is super cool! You can also use the wled firmware although I don't have much experience with that side of things.\n\nThere's heaps of WS2812 led options around (amazon or your local electronics hobby stores are your friend). If you're looking for something more plug and play, Athom sell a couple of plug-and-play controllers too..."", ""LARBIFICATION: +1 to esphome if you have the time to figure out wiring and maybe soldering. It can be a bit confusing if you are new to this kind of stuff but works really well and is very customizable. \n\nIf you are just looking for something cheap that works out of the box I have a few govee lights that work alright. If you go down this route I'd recommend trying to find ones that work with their lan API so it's local with home assistant""]"
1681264691.0	11-Apr-2023 18:58:11	Roll back from Skyconnect	befish2	1	12j5zzt	homeassistant	https://www.reddit.com/r/homeassistant/comments/12j5zzt/roll_back_from_skyconnect/	Has anyone created a reasonable way to roll back from Skyconnect (in my case to Conbee II) without losing the naming of every single zigbee device?  TIA	9	"['simonparkis: Are you using ZHA or zigbee2mqtt?', 'ZAlternates: It’s likely going to be better to fix whatever issue you’re having.', 'befish2: ZHA', ""befish2: The issue I'm having IS the Skyconnect.  Before it, on the Conbee II, everything was rock solid all the time.  Now I have certain devices constantly dropping off the network."", 'ZAlternates: There is a relatively new backup and restore in ZHA that people have had luck with. I’ve never used it though so make sure you have good system backups too.', 'ZAlternates: Right but my point is it works for others so try to get it working such as updating to the latest firmware. You’ll spend as much time trying to go back, if not more. Of course, if you’ve exhausted all options, well, best of luck cause it will be work.', 'simonparkis: Yes I came to say the same thing. I used the migrate radio feature of ZHA. It creates a backup of your zigbee network and transfers it to different hardware. Did it the other day and it worked great.', ""befish2: Thanks, but I'm already on latest firmware.  I've been trying various fixes for 2 months with no success, that is why I now want to give up.  I've installed only 1 device (wireless motion sensor) since cutting over to Sky Connect, so the network is virtually identical to the pre-Skyconnect network..  I've added several routers (MAINS Zigbee devices) in strategic places to try to mitigate any signal issues.  I've tried re-orienting the position of the SkyConnect stick, and I've already reinstalled it and repaired everything once.  THIS is why I'm trying to find a painless way to go back."", 'ZAlternates: I hear ya and have nothing to offer except to wish ya the best of luck.']"
1681264327.0	11-Apr-2023 18:52:07	Issues With Tuya Local Setup	Then_Marketing500	1	12j5unu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12j5unu/issues_with_tuya_local_setup/	"Im trying to setup Tuya local but I keep getting this problem. Does anyone have any tips? Ive used the correct IDS 

https://preview.redd.it/qdr7wdwe0dta1.png?width=906&format=png&auto=webp&v=enabled&s=f39faa948b86eec12814e29662021ae9e7ec673f"	1	['Shooter_Q: Recommend using the local [Key method from Mark Watt Tech](https://youtu.be/YKvGYXw-_cE) over the account method. Seems like every week someone is posting their problem concerning tuya dev accounts, expiration, authentication, etc. \n\nWish there was a way to make this packaged info for anyone buying Tuya.']
1681263338.0	11-Apr-2023 18:35:38	InvizBox 2 And Home Assistant	sbehta	1	12j5f4j	homeassistant	https://www.reddit.com/r/homeassistant/comments/12j5f4j/invizbox_2_and_home_assistant/	"Does anybody use or has any experience with InvizBox 2 ?

thx"	0	[]
1681262470.0	11-Apr-2023 18:21:10	Can't connect to external mariadb (docker)	KillerJupe	2	12j515v	homeassistant	https://www.reddit.com/r/homeassistant/comments/12j515v/cant_connect_to_external_mariadb_docker/	"I'm stumped!  
I was using a MySQL in a container but wanted to move over to MariaDB to match my other host. 

When I try to set it all up, I get the following Log error:  
Error during connection setup: (MySQLdb.OperationalError) (2002, ""Can't connect to MySQL server on '192.168.1.10' (115)"") (Background on this error at: https://sqlalche.me/e/20/e3q8) (retrying in 3 seconds)

I'm sure the username/password is correct, I copied and pasted everything.  


Environment settings:

I have HA running in a container at [192.168.1.2](https://192.168.1.2)

My unraid host is [192.168.1.10](https://192.168.1.10)

My MariaDB is [192.168.1.10:3306](https://192.168.1.10:3306) (container)  


HA: configuration.yaml

recorder:

  db\_url: mysql://ha:aSu2mKHsGLaro8@192.168.1.10:3306/ha?charset=utf8mb4

&#x200B;

Any thoughts would be appreciated, thanks!!!"	4	"[""EnonGator: I know reddit sucks for true yaml view, but do you have db\\_url indented (2 spaces) and is 'ha' your database you created in mariadb on unraid?\n\nThe code for db\\_url looks accurate assuming ha is the database name."", 'oxjw: My memory isn’t 100% certain on this but by default I don’t think mariadb is configured to accept remote connections. Have you ensured the server is allowing them and listening on the correct address?', ""KillerJupe: Ok, I figured it out/a workaround.  \nI needed to allow my host to access custom docker network containers.  \n\n\nIn order to do this change in unRaid i went to settings, docker, stop the service and enabled host access to the docker network. things now work as expected.  \n\n\nI have my DB's running on the docker network and my HA running on its own bridged ip"", 'KillerJupe: oh..... you know it had a variable for that and I removed it thinking it was for DB to DB communication.  \n\n\nThat could explain why MySQL works but not Maria.  \nFingers crossed']"
1681257985.0	11-Apr-2023 17:06:25	Need Home Assistant hardware advice	disgp	2	12j2ymu	homeassistant	https://www.reddit.com/r/homeassistant/comments/12j2ymu/need_home_assistant_hardware_advice/	"I moved to a new 1 bd apartment recently. I decided to make everything ""smart"" and have as many automations as possible. I also want to add zigbee network. I am currently running Apple TV 4k and Synology NAS 220+ (DSM 7.1). From what I learned, I can install HA using Docker on my NAS, but DSM 7 removed support for USB Zigbee dongles. Also, I'm concerned running docker container will bring unnecessary CPU load on my NAS. Is it true, or the CPU loads are negligible? 

TL.DR: 

1. What's the most reliable and future-proof zigbee hub now? 
2. What's the best HA hardware to buy? Or running HA container in Docker is enough?  

Thank you for your replies!"	16	"['Whatsitforanyway: Dont forget the benefits of running it on an old laptop if you already have one laying around.  It has all the memory and drive space you would need, usually has a wifi or RJ45 port and USB available.  And the screen and keyboard are nice too but not needed much once installed.  With battery backup to boot.', 'filisterr: Hmmm, if you are a beginner maybe running it with Intel NUC with Proxmox as VM is the most user friendly option. Running it as containers is a bit painful, especially if you are not too deep into Docker compose and makes the configuration and the backups more cumbersome. \n\nRegarding the ZigBee coordinator, I use Sonoff ZBDongle-P with USB extension cable to avoid interference. I had a dilemma when buying it between the P/E version and the SkyConnect, but ultimately I have decided on the P version for the best and most mature SW support. I think Conbee is also recommended here.\n\nI personally run it w\nIn RPi4 on an external SSD with docker compose, but as I said add-ons installation, backups, and keeping everything up to date is a bit hard. For example I had some problems with the latest version of the Zigbee2MQTT docker container and when I have updated to it, lost access to my ZigBee Network, so I needed to change the version of latest to an older one to restore the functionality, but it took me a while to figure out what the problem was.', '_Rand_: If you want to keep your current setup with a VM/docker and no USB get one of the network zigbee adapters here:  https://www.zigbee2mqtt.io/guide/adapters/ bonus being they are good regardless of whether it technically needs to be networked or not.\n\nAnd realistically vm/docker/bare metal doesn’t make much of a difference, HA doesn’t need much horsepower. Running bare metal on something like a mini-pc does have the benefit of having very easy setup/compatibility with external devices etc. though, which is nice.', ""SeniorPoopyButthole: If it's not a budget concern, I'd highly recommend just getting a cheap $100-$150 Mini PC to run Hass OS on.\n\nThen you can get any officially compatible Zigbee (and/or) Z-Wave stick you want.\n\nI tried Raspberry Pi, but it's just not reliable enough. \n\nIf you're a savvy enough technical user, I know there are people who prefer the docker route, etc.\n\nPersonally, I just love how simple Hass OS is to run, use, and maintain. Also, love knowing it's not going out of commission is a multi-purpose device has trouble."", ""sammyji1: I would recommend keeping your hub a standalone device. It's the central part of your automation and you wouldn't want to have to troubleshoot the other complexities (docker/proxmox/vmware) atleast to start with. When you know what you are doing, move to those as they are centralized and allow you better management. \n\nYou could reach out to u/sutosales - he has pretty good prices for minipcs that should work for HA with a usb. \n\nHis last post I could find (9 days ago) is [(reddit link)](https://www.reddit.com/r/homelabsales/comments/12annh8/fs_minipcs_ram_drives_psus/?utm_source=share&utm_medium=android_app&utm_name=androidcss&utm_term=1&utm_content=share_button)"", 'ianganderton: I was planning on going the home assistant yellow route but the shortage of RPi’s has scuppered that\n\nI purchased a cheap i3 NUC hardwired to my router and installed HAOS. I’ve got a conbee II zigbee usb router \n\nIt seems to be a good option so far. \n\nI don’t know anything about docker or VM so can’t comment on those as options', 'Rizzo-The_Rat: As a + model, your Synology has a decent processor and should have a memory upgrade slot.   I put an extra 4GB RAM in my DS920+, and then installed HA in a VM with a Sonoff zigbee dongle.   Synology VM manager is really easy to use, and you allow it access to the usb ports so it picks up the dongle fine despite DSM not having the drivers.', ""mrtramplefoot:  I started with a Lenovo Tiny with a Pentium J3710 because PIs were unavailable at the time and I'm glad I did. Slap a cheap ssd in something like [this](https://www.ebay.com/itm/125869802015?hash=item1d4e6cc21f:g:5wIAAOSwzGNidYeT&amdata=enc%3AAQAHAAABIC%2FJAUC8Z1I98NupQ0HPI7Kvh3W8pZ4YeUWuIcVJmQFNjXnKS%2FbtUN%2BRdtVnxji8HAnyFECG%2FfgXTDL0eL0gh227vODpWrsXbwM56333Txs2Sw9jdesg8tNSvCinDvnBYY0r26cGRdDlQJVEsV8zJhGzXRJtK7E6j%2FkfW1XcqFvb94jxhdsWn4SdhonmP9AC73HKoA4KxD4NdOZlmkGXQFS2jCFSPNe9Wj7RuZewP7AQP9fLHSiumpioOeJZ4qyNAEB8RhLTyjTZkC%2FB9Sf0D4aw5n7XG0p%2FPva5T9JVRO%2Bju4dfraYaTAGqwoagbTqAVlH3N1IybS68YsWjy9K%2Fi2IPJRZEw6jFhjONq1dSkbIStfYxkrjsVIh1e0c8XcLQTQ%3D%3D%7Ctkp%3ABk9SR5q_3M7rYQ), and you've got more power with only slightly more energy consumption. \n\n&#x200B;\n\nI just run hassos on it as it has the best support and is the easiest to install and maintain."", '-Britalian-: My 2 cents..  I have mine running on a Raspberry Pi 3b, on a new 32gig sd card, and in a little case for a Tenner.  Total cost about 50€.  Runs like a dream, has wifi, bluetooth, LAN, and you can add-on to your hearts desire...', 'MoistFaithlessness27: I recommend Hubitat for Zigbee. It also works for Z-wave as well. It integrates directly with HA. I’m using it for both with good results. I’m a big fan of the Home Assistant appliance. I’m running it on a NUC with ESXi and it works very well for everything I’ve thrown at it with the exception of Frigate. I’m currently running 6 cams at 720p on an i5 NUC and it’s pretty much pegged 100% of the time. It works but it would be better, I think, with a USB Google Coral. I just haven’t found the right price yet but it’s on my to do list.', ""blackax: Running it in docker is my preferred method. I would try with all my might to avoid a ZigBee hub.\n\n\nYou can find a number of mini PC's on eBay that way you can use a USB ZigBee router."", 'ams3401: I entered HA environment with absolutely zero knowledge with a RPi4 from Microcenter and installed HA in docker following the instructions on Youtube.\n\nIt’s very very challenging if you’re a troubleshoot-trial-and-error type of person, otherwise, take an easier route..', 'Oinq: +1 here', ""Maximum-Ad-1770: I'm running on my old Lenovo Y510p using VM inside of Win10  \nIt's been there for a few months and I noticed that not the best option in terms of energy consumption. The laptop is set to battery-saving mode, so it should not run on 100% CPU, but still, it consumes about 80W. So for 1 month, it'll be around 60kWh. Just to note - the battery is almost dead."", 'StillParticular5602: I just dumped the Conbee II software for zigbee2mqtt and although it took some effort to set it up, my zigbee network is so stable now and the z2m software is amazing.', '-Britalian-: Forgot to add that you would then add as [RaspBee II](https://phoscon.de/en/raspbee2) or [Conbee II](https://phoscon.de/en/conbee2) to it, for the whole package. That gives you full Zigbee control, and also pretty future-proof']"
1681256656.0	11-Apr-2023 16:44:16	Tesla Solar app integration	Suspicious-Access623	1	12j2brv	homeassistant	https://www.reddit.com/r/homeassistant/comments/12j2brv/tesla_solar_app_integration/	I have just the tesla solar panels installed (no power wall or tesla charger) in my home. Has anyone been able to successfully integrate with HA or any leads? I tried searching around but couldnt find any related info.	1	['RedDevil_Nole: https://community.home-assistant.io/t/tesla-solar-without-powerwall-supported/306812']
1681255295.0	11-Apr-2023 16:21:35	Any integration / website that provides current electricity pricing in your area. (US) Second website that provides past average electricity bills? Looking to compare my average electricity bill to others. Are others bills anonymously in a public database?	EpicFuturist	1	12j1nww	homeassistant	https://www.reddit.com/r/homeassistant/comments/12j1nww/any_integration_website_that_provides_current/	"I'm new to electric side of home assistant. Im trying to create a sensor that pulls the latest electricity prices for my area and uses it to calculate my estimated utility bill. I found Nordpool but that looks like it's Europe only.

Also trying to create a second sensor that has access to electricity history of my city (like the average utility bill). That way I can measure my own usage and compared to people around me.

Is there any website or integration that provides electricity history? Are other people's electricity bills in some sort of public database?"	7	"[""diabetic_debate: There is a NREL API that gets you what you need. I spot checked with my location and it looks correct for my area:\n\nhttps://developer.nrel.gov/docs/electricity/utility-rates-v3/#json-output-format\n\nYou can get your API key here:\n\nhttps://developer.nrel.gov/\n\nand use HA's RESTful sensor to get it into HA:\n\nhttps://www.home-assistant.io/integrations/sensor.rest/"", 'Techn0dad: You might see if your utility supports the [Green Button Initiative](https://www.energy.gov/data/green-button), which allows you to download your data in a standard format.\n\nThat said, I’m not aware of any HA integration that reads the data, so you might have some scripting in front of you.', 'SmartGirl62: I use the [rainforest eagle](https://www.rainforestautomation.com/rfa-z114-eagle-200-2/) to get my PG&E data into HA.', ""ten1219eighty5: This might be shocking but your local electrical company has all this but you probably can't pull that automatically in to HA"", ""Potential_Anything70: Interesting!, I tried to find in my area NJ with PSEG i did get the cost, does this cost include service charges + usage charges ?\n\nAlso i was able to just run without the API, shouldn't I?"", ""unorthoDox72: Didn't realize NREL had an API with historical data like that. I'll mention that at least my area and the example data is very outdated - from 2012. My current rate is easily 2-3x higher than what is shown from the 2012 data.\n\nFor the OP - you could check your utilities website. Most if not all publish their rates online, and you could just use an average value (e.g. $0.30/kWh) * your usage from one of the other suggestions to estimate your bill. That's what I do using my actual usage."", 'Robertsipad: Mine makes it really difficult to use a script to automatically push the green button and downlod it']"
1681252019.0	11-Apr-2023 15:26:59	Seeking for assistance/ideas for light automation	criostage	0	12j01kw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12j01kw/seeking_for_assistanceideas_for_light_automation/	"Hello, as mentioned in the title I'm looking for ideas on how to properly automate lights turn on or off. I already have part of this working but I can't figure out a way of skipping closing the door once. let me break the issue/things in to small pieces:

**Objective**: 

This is automation will basically turn on or off the lights in a room depending if the door is open or closed. This sounds simple enough and it would if this door was not a fire door with a spring on it.. what does this means? Well simply put, opening the door and let it go, the spring  force it to close. So the automation would need to have the following considerations:

1. The lights will turn on when the door is open
2. Next, when closing the door the lights must remain on after the door closes once
3. Finally when opening the door and closing it one last time, the lights will turn off

**Devices**:

To make this work I m relying on a Shelly 2.5, Shelly 1 (not installed yet) and an Aqara door sensor

**Automation**:

Right now, the current automation will only detect if the door sensor is open or closed so if I were to open the door and the spring closes the door I would be left inside with lighst off. My ""workaround"" is leaving the door slightly open so the sensor doesn't detect the door as closed.

This was done by creating 2 triggers, one of open the other for closing and then picking between 2 actions to turn on or off the lights  depending if the door is open or closed.

    Alias: Lights - Turn on or off Garage Lights when Fire door opens or closes
    description: """"
    trigger:
      - type: opened
        platform: device
        device_id: 541fea6cec948b6b185e623e69614e9a
        entity_id: binary_sensor.lumi_lumi_sensor_magnet_aq2_opening
        domain: binary_sensor
        id: B1DoorSensorOpen
      - type: not_opened
        platform: device
        device_id: 541fea6cec948b6b185e623e69614e9a
        entity_id: binary_sensor.lumi_lumi_sensor_magnet_aq2_opening
        domain: binary_sensor
        id: B1DoorSensorClosed
    condition: []
    action:
      - choose:
          - conditions:
              - condition: trigger
                id: B1DoorSensorOpen
            sequence:
              - type: turn_on
                device_id: 20af63d06edf350d5cddcd5cbc42b40a
                entity_id: switch.button_b1_garage_01_channel_1
                domain: switch
              - type: turn_on
                device_id: 20af63d06edf350d5cddcd5cbc42b40a
                entity_id: switch.button_b1_garage_01_channel_2
                domain: switch
          - conditions:
              - condition: trigger
                id: B1DoorSensorClosed
            sequence:
              - type: turn_off
                device_id: 20af63d06edf350d5cddcd5cbc42b40a
                entity_id: switch.button_b1_garage_01_channel_1
                domain: switch
              - type: turn_off
                device_id: 20af63d06edf350d5cddcd5cbc42b40a
                entity_id: switch.button_b1_garage_01_channel_2
                domain: switch
    mode: single

So my question here would be, how would you approach this problem? Thanks in advance for any help or tip"	1	['Shooter_Q: If permissible, I’d add any kind of motion or presence sensor to the garage, not to act as primary trigger, but as a check condition to know when the lights should be kept on or turned off after the door closes.\n\n\nMode: Restart.\n\nTrigger: Door opens.\n\nActions:\n- Turn on the lights, if not already on. \n- Wait for Trigger: Door Closes (no timeout; no continue)\n- Wait time/Delay equal to the motion sensor’s detection interval +X seconds\n- If(Motion/Presence Clear) then turn lights off. \n\n\nX would vary on your sensor, position, and your personal habits, but I would think 3-5 seconds would do. \n\nWhat that should do is only turn the lights off after the door closes with no one inside, but it assumes that you’ll be entering the garage to work, not to immediately sit perfectly still if using a motion sensor. mmWave or other occupancy would do better in the regard. \n\nIn either case, because the check only runs once, the automation doesn’t have to hang indefinitely and there’s little risk beyond that initial wait time of the lights going out while you are inside, freeing you up to then sit still for a bit or move to areas where a detector can’t see you. \n\nThis also solves the current toggle issue which helps with a few scenarios: \n\n- On days when you need to enter and prop the door open all the way for ventilation, lights would stay on indefinitely until you close up. \n\n- If you were to say, open the door and just stand there inspecting the garage, then close it and walk away, you wouldn’t have to do some awkward double door close just to turn the lights off. \n\n- If more people enter the garage while others are inside, lights will not shut off with every other closing. \n\nBased it on the way I handle clothes closets and bathrooms but swapped the roles of the motion and door sensors, due to the spring-loaded door. The expectation/near-certainty of a door that always closes actually simplifies the thought process.']
1681250820.0	11-Apr-2023 15:07:00	Home Assistant Backups are easy	Mental_Ad3405	273	12izhid	homeassistant	https://www.reddit.com/r/homeassistant/comments/12izhid/home_assistant_backups_are_easy/	"I Just wanna say thanks to the devs because of  how easy it was to restore from a backup. I decided to sell my RPI 4 which I was running HA on and put it on a intel NUC I picked up cheap and the process was incredibly painless once installed. Just give it the file and press restore so painless and everything works including addons, integrations etc.

&#x200B;

Thank you!"	106	"[""firemogle: Fwiw there is a Google drive automation in the official add on group that will take regular snaps and upload them to GDrive, and if you like manual configuration there is a GitHub one as well.  They've saved my ass more than once"", ""binaryhellstorm: Glad to hear that! I'm looking at going from Pi to Docker and I'm hoping the move is seamless for me too."", 'JQuonDo: Are the backups the .tar files? Just download the file and upload it to the new device?', ""reasonman: Am I the only person that has _never_ had a successful restore? I've tried a couple in the past when I was testing and they didn't work quite right but never revisited. I setup automatic daily backups and actually had to do a restore last week after a bad upgrade from 2023.3.6 to 2023.4.1. What a mess. I assumed(wrong I guess?) it'd roll back the HA version which it didn't. Then some of my addons went missing, HACS, VSCode, some others. My automations, areas and dashboards didn't restore. Also somehow my db was corrupted during the restore process and I didn't have any of my historical data Pretty much the only thing that persisted ok was zigbee2mqtt(though I had to reconfigure the mqtt broker) and the devices.\n\nI had to extract the last good backup, kill all the services and manually copy over the db and all the yaml and config files. It's stable now but jeez what'd I do wrong?"", 'lenswipe: > I decided to sell my RPI 4 \n\nCongrats on the new house', '0gtcalor: I do backups from time to time with my Rpi, but I have never seen the option to restore them. Is the option shown during the new HA installation?', 'ZunoJ: I felt the same way when I did this. It was so easy I was sceptical for some days if it really worked but it did', 'DragonQ0105: If you run all applications in containers, including Home Assistant, then you never really have to worry about individual backup processes again. Backing up your containers directory is all you need.', 'pyrosive: What NUC did you go with?', 'donald_314: Does it include the HACS plugins?', 'whofearsthenight: Yep. Install the samba backup extension and then schedule backups. Then you can even skip the USB drive.', 'SlimeQSlimeball: Oh same for me! I moved from my old setup to a whole new machine and it was effortless. I was running Debian and Docker and it was becoming unsupported for updates and I just figured that was enough unsupported weirdness and I put HAOS on my new one and it was effortless.', 'ivanatorhk: Yep! Super easy. Only issue I had with my recent migration is addons wouldn’t start. A simple full restart fixed that', ""pixel4: I'm curious why you moved devices?"", 'Jeffrey_Lingo: Indeed, the backup system works great. I did a migration from virtualbox to unraid vm and it restored nearly perfectly. A few plugins seemed to have uninstalled but reinstalling them was easy and it remebered the settings. My biggest issue was my zigbee stick. Had to pass through the usb controller to get it work but in all only took like 30min to get the small kinks worked out.', 'None: [deleted]', ""JewsusKrist: It's a little more involved when using Docker but if you're using Docker it's probably not a challenge anyways. Duplicati works great! If you're running Supervised, the Google Drive addon is a no-brainer!"", ""Trolann: Friendly reminder if you've never restored from a backup all you have are hopes and dreams. Find time and the resources to restore. If you're scared to, there's a reason you should fix (in a perfect world)"", ""Alex3M3TI8: I am about to do this this weekend.  RPI4 to Intel NUC.  I'm so nervous about it but much more reassured hearing you had good experience.   I have three things plugged into USB on the RPI4, SkyConnect, Zooz STICK ZST10 for Z-wave and a RTL-SDR.  My biggest concern is I have 57 Z-Wave devices (988 entities) which I have diligently renamed/customized and I really don't want to have to go through and either re-pair them or rename them all. I also have 43 Zigbee devices (211 entities) that I also don't want to have to reconnect and reconfig.   Just in case, I've already used a template to get the names of all the Z-Wave and Zigbee Entities as a backup.\n\nI fortunately have a spare ZSR10, an old ZigBee stick and a spare RTL-SDR.  My thought is to build an isolated fresh Home Assistant with those plugged in, document the TTYUSBs (under System - Hardware - All Hardware). Once I have the TTYUSBs plugged in, hopefully, I can wipe this new HA, put my existing devices in exactly the right USB ports, then my restore my backup and hope for the best.\n\nI also feel I am going to disable Z-Wave UI, Z-Wave, ZigBee, ARM-SDR, and a few other integrations which rely upon Remote Cloud/Incoming Webhooks (SmartThings, Rachio, etc) before I backup.  This way I can bring them up one at a time, and test/verify them all and make sure they are working before going production."", 'TANKCOM: Does it work with devices exposed to HomeKit?', ""TheMaskedHamster: Can confirm.  Two weeks ago, I had spent a not inconsiderable amount of time working out my new home network, moving from a consumer wifi router plus a Raspberry Pi to a network focused around a server virtualizing my router and all my applications, including HomeAssistant.\n\nI saved HomeAssistant for last, because I assumed that tending to it and all its parts would be the longest part of the process.  I had extra concerns about transferring from a manual  install of Home Assistant Supervised to the virtualized Home Assistant OS.\n\nBut fortunately, this part of the process was actually the easiest, by far.  I just did one last backup on the Raspberry Pi, started up the virtual machine, and selected the backup to upload.  It was really that easy.  After a bit of waiting, everything was in place.\n\nI did have a bit of a concern when it seemed to be non-responsive after the upload without warning, but patience solved that.  The only other thing I had to do was reboot so that the Zigbee USB adapter was identified and passed through, since I didn't have it plugged in when I started it."", 'antg22288: How about all of your credentials to things? Is it all restored? I’m thinking of moving my installation to other hardware but have been putting it off because I was worried I’d have to re-configure everything. For example, I did the tutorial from YouTube for remote access with DuckDNS and the SSL certificates thing! Wondered if this would still work from a backup.', 'speakxj7: Yep, I migrated hw (and isa) and it was smoother than I hoped', ""boxalarm: Yes!! I originally ran my HA on a Raspberry Pi 2 with an 8GB SD card. It finally filled up to the point where I couldn't do anymore updates on it. I had a Raspberry Pi 4 just running ADSB so I robbed that, put a 64GB SD card in it and installed HA. Uploaded the backup I took an hour before and everything worked perfectly with not one single issue! A huge shout out to everyone involved in the project to make this so simple to migrate things."", 'Grand-Chocolate5031: Well Ackshwaleee, the restores are easy. It’s the backups that are hard. They’re not automatic and you have to schedule them yourself.', 'driekus456: Had a similar experience moving from Pi3 to VM on server. \n\nEven my home assistant cloud transferred. I uploaded the backup to the new instance and transferred the zwave stick.\n\nThe only part that was a challenge was setting up the VM in TrueNas. That was related more to the issue that TrueNAS VMs seem to have with Debian based systems.', ""karrelax: I run ha in docker and backup never worked. It says 'file not found' about a json file and never managed to make it work :("", 'jpohaire: Was trying to use the backup/restore process to transfer a config from a standard homeassistant pi image to a docker image - but no backup/restore options apparently on docker image. Anyone with a workaround?', 'locida: How did you sell it? Have been thinking of doing the same thing', ""-eschguy-: There's a samba backup addon as well that works great."", 'Kylian0087: Also smb backup addon. Works great and works localy.', ""Suitable-Weekend5681: There's also one for using OneDrive for people who would prefer to use that.\n\nhttps://github.com/lavinir/hassio-onedrive-backup"", ""Serinus: I'd recommend a VM with full Home Assistant OS if you have the option."", 'maxxell13: Docker can’t restore from backups made on supervised install. I think.', 'valandile: Docker is an interesting experience but as others said, Docker means less functionality and more config in HA.', ""mgrandi: It's uhhh...not seamless to at least switch over, there is no way to migrate a hassio install to docker so you basically have to extract the backup and manually copy over the files"", ""ProgRockin: Yep. I migrated from a Pi to a Proxmox host, passed the USB dongle through to the VM and restored from latest back and everything worked. Didn't skip a beat."", ""Mental_Ad3405: Damm that's a bummer glad to hear you got it stable. I'm gonna start doing regular backups soon, but in this case all I did was manually create a backup on the backups page and everything worked."", ""ThePantser: Before a restore I always check to see which is the biggest backup and take the largest and most recent. I restore the most recent and if I'm missing anything I can grab it from the other backup. For some reason some integrations decide to not be in the backup."", 's1500: I had some restores that just bricked the install. I had better luck with partial backups, but some things weren\'t restored. \n\nIs there an ""all-device"" backup?', 'Mental_Ad3405: You can restore at anytime via Settings -> System -> Backup and pick a backup (at least on HA OS). Yes the option to backup is shown during HA install, you can do it straight away without even having to create an account for it first.', 'morbidpete84: Correct. Before you setup the user you can upload a backup and restore it', 'Mental_Ad3405: Same, I was super surprised how well it works', 'Mental_Ad3405: Really old Intel NUC DCCP847DYE. Works great for home assistant, wireguard, tautulli, adguardhome etc.', 'nmethod: Yes', ""Mental_Ad3405: I ended up getting the nuc for only $28 USD incl shipping so I'll sell the RPI 4 4GB and save the extra money for some other things I want."", ""Mental_Ad3405: >about the S\n\nYup everything! Works straight away after restore. Only thing that I believe it doesn't include is network settings so you have to manually do that but that is easy enough."", 'oliverleon: Very interesting setup! Thanks for sharing. I have about 900 Zigbee entities (no Zwave though) and I was very nervous before migrating. Did something similar (second pre production environment and tested backup there). Worked out well. \n\nOut of curiosity: what do you use the SDR for?', 'Mental_Ad3405: Yes', ""Mental_Ad3405: Credentials to things stayed the exact same for me, although I don't run those services but I would assume they'd be fine too!"", 'notta_Lamed_Wufnik: I\'ve been using the add-on ""Home Assistant Google Drive Backup"" for years and it works flawlessly. It automatically does a full backup and moves it to google drive based on a schedule.', '0xde4dbe4d: I also prefer samba, i do have both in case my house burns down, but then again if my house burns down i kind of don‘t need that backup anymore \U0001fae3', 'relic217: I came here to say this. Saved me a bunch.', 'The_May: just in case someone is aking where to find:  \n\n\n [https://community.home-assistant.io/t/samba-backup-create-and-store-backups-on-a-samba-share/199471](https://community.home-assistant.io/t/samba-backup-create-and-store-backups-on-a-samba-share/199471)\n\n    https://github.com/thomasmauerer/hassio-addons', 'Pentosin: Nice!', 'rastrillo: Just as an alternative opinion, I went from VM to Container and have no regrets. I don’t see what functionality Home Assistant Supervisor offers over running Docker on your bare metal OS. I find it simpler to manage all my containers in one place instead of having them split between the host and Home Assistant supervisor VM. The other benefit of running it in a container is my container uses way less resources compared to when I was running the full blown VM.\n\nI think if you’re already running docker, you should definitely consider installing HA as a container. If the machine isn’t running docker and will never be used for docker, then consider a VM.', 'ACPotato: Plus 1 - I’m a huge containers guy.  Run large k8s production environments at work.  UNRAID at home with everything containerised - except HA.  Backups are so robust and easy, that having everything unified in a VM just make management a breeze.  Knowing every integration, add on, HACS, etc just works, and can be restored in minutes from a backup is awesome.  While I know the same can be achieved through containers alone, it’s just more work.  Plus, things like emulated hue can be a huge PITA using a container. VM all the way for me, even if it lacks the’ cool’ factor for some.', 'Sparkynerd: 100%. I’m running HAOS on Proxmox, previously on ESXi. HA Backups are good, complete VM snapshots are golden. Bonus: run other VMs on the same hardware, like Unifi controller, AdGuard DNS server, etc. Lots of free turnkey LXC containers for Proxmox.', 'kaishichan: For the uneducated like me, what additional benefit would this give?', ""HardlyThereAtAll: Proxmox is your friend:\n\nI have separate HAOS, Zigbee2mqtt and Mosquitto broker VMs running on a $125 Chinese NUC-knockoff, and it's perfect."", ""JQuonDo: Nice! I'll be moving from docker to a proxmox VM as soon as I receive my NUC. I hope it all transfers over okay since I run all the add-ons in separate containers now and use I frame to have it show in Home Assistant Core in docker."", ""0gtcalor: Yeah, I'm running HA on Docker and that option is not available. Thanks!"", 'mkosmo: Or you can restore an already configured system from the backup menu.', 'donald_314: Nice. Thanks', 'Alex3M3TI8: Was too excited to wait until the weekend so did it last night.  It turned out super easy just as OP said!\n\nHere are some additional steps I took JUST to be on the safe side. I disabled the Zigbee and Z-Wave integrations, disabled the Z-WaveJSUI Add-on, disabled Nabu Casa, THEN took the backup.  I used that backup offline to just verify that things came across and they did.  Then I plugged each USB device in one at a time, and brought up the corresponding service (ie. plugged in SkyConnect, enabled ZigBee, plugged in Zooz Z-Wave then enabled Z-WaveJSUI, checked the logs, then enabled the Z-Wave Integration).\n\nWorked great.  \n\nI use SDR to read my Gas Meter.', 'antg22288: What would happen if I were to test restoring to another device and temporarily turning off the current one? Do you think it would stop stuff working? I kind of want to try migrating to a new device while keeping the old one turned off as a ‘backup plan’', 'CaptainBlagbird: Me <types in Google>:  \n`How to automatically backup hardware`', 'MeetLawrence: I was gonna say -- ""home automation"" requires a home', 'NavinF: > I don’t see what functionality Home Assistant Supervisor offers over running Docker on your bare metal OS\n\nhttps://www.home-assistant.io/installation/#compare-installation-methods\n\nLack of addons sucks. \n\nI use containers for everything else. Too bad HA in docker is 2nd class citizen.', ""Serinus: Just started on Unraid myself.  GitLab and mysql running in containers. Hassos and a FAFO VM that's currently running a dotnet app on Ubuntu because I haven't figured out how to run dotnet apps in a container yet.  But I'll move that to a container soon.\n\nHome Assistant stays in the VM.  It's clearly the option that gets the most testing, and with the speed at which they're pushing updates, that's a huge advantage.\n\nI still haven't gotten Thread and the OTBR working yet though."", 'syco54645: You are making me want to switch from a container to haos. I will have to look into the process. From what I gather it will not be very hard.', ""manjerico: Supervisor to manage add ons without additional admin required, for example. Going docker means you have to manage each add on's container yourself"", 'Gareth79: ESXi is good too, although it tends to run better on more common hardware, older Dell or HP machines are good, whether server or desktop.', ""manjerico: Who tf downvotes this? It's a solid recommendation. /u/Logikoma , [here's a link](https://community.home-assistant.io/t/installing-home-assistant-os-using-proxmox-7/201835)."", 'Logikoma: Linky possibly please?', 'imanze: I’m not sure how you would restore from a backup in that case. Home assistant core does not have any function to restore from backup. You can use the tar backup file to expand it and start manually using the configs to get your system to the same place but it’s not gonna be fun and you’ll need to figure out backup from there on your own. If you are running a hypervisor, any reason you wouldn’t just run a home assistant os vm in proxmox? \n\nPersonally I have dedicated hardware for home assistant for stability but I do have a home assistant os vm on my esxi server I use for development, works very well.', ""ProgRockin: I'm not sure how going from Docker to full VM is tbh, I ran the OS on the Pi as well."", 'oliverleon: Superb, happy to read that! Thanks for posting and for sharing your SDR use case. Haven’t thought about that. Very interesting idea', ""Mental_Ad3405: >ld happen if I were to test restoring to another device and temporarily turning off the current one? Do you thin\n\nYup you can do that, thats exactly what I did. You'll have some small issues because it'll be on a different ip but you can fix that by changing the ip pretty easily."", 'ZAlternates: Don’t worry. It’s easy to download ram these days!', 'FlickeringLCD: Virtualization.', 'rastrillo: Most of those add ons can be installed as a container. For example, ESPHome can be installed as an add on or a container and there’s no appreciable difference. A popular add on is the File-editor but there are plenty of other ways to edit your config files. For me, there’s no compelling reason to have the add ons provided by the HA supervisor. I find running HA in a container tidier and uses significantly less resources.', 'bowlama: I\'ve quite enjoyed setting up ""add-ons"" as self-manahed containers tbf', ""FIuffyRabbit: You only need to write the docker compose files, it's not that hard. Considering the supervisor security issue, I'd advise against it."", 'Genesis2001: For reference, is it as ""simple"" as binding the docker socket to the HA container, if one were to choose to go the docker route?\n\nI\'m 75% sure I\'m staying VM, but I was curious.', 'Logikoma: Thank you very much', 'jamesmt87: I did that exact thing. I backed up my core and moved to hass os on a vm running on proxmox. Didn’t skip a beat. Worked flawlessly.', ""JQuonDo: Thanks I'll keep that in mind and mentally prepare to build from scratch. I just started my HA journey a week ago and I only have a lower powered NAS that runs all my dockers which I may possibly be able to setup a vm to test back and restore.\n\nI've been enjoying the process and decided to get a mini PC to run proxmox for a couple VMs like HA, docker to manage my media related to Plex , Radarr and sonarr and pi-hole/Adguard \n\nTechnically my setup is working fine for my needs, but wanted hardware capable enough to expand and grow my hobby."", 'Alex3M3TI8: No problem!  I use this add-on, was super easy to setup.\n\nhttps://github.com/mdegat01/addon-amr2mqtt\n\nDrill down to find compatible meters and if you have a compatible meter, setup is really easy.', ""MrCalifornian: **You wouldn't download a swapfile...**"", ""readit-on-reddit: How is a collection of containers tiddier than a single vm? A vm has everything you need (all addons inside the single vm) **including** the base kernel so you know it will run exactly the same on another machine.\n\nPersistent docker containers have to map their volumes to your hosts' file system so backups of your containers are a more disjointed experience. \n\nWith a VM snapshot your backups are atomic and **everything** is backed up 100% of the time. Absolutely no chance you forgot to restore something because a specific config file or folder is missing."", 'NavinF: Setting up an MQTT broker without addons seemed like a pain in the ass', ""rotxed: I've been trying to do that for an addon, but no matter what I did, I couldn't figure it out. I also tried to look for examples with other addons, but also there I couldn't find anything meaningful.\n\nCould you please point me to the right direction?\n\n(for context, here is what I was trying to run as a self-managed container addon: [https://github.com/brenner-tobias/addon-cloudflared/](https://github.com/brenner-tobias/addon-cloudflared/))"", ""readit-on-reddit: > You only need to write the docker compose files, it's not that hard.\n\nConfigs can get messy when you have a bunch of addons. The docker compose spec changes a lot too so you have to hope that it will always be backwards compatible .\n\nNot a big deal if you like docker but it just adds more complexity and makes backups harder for no added benefit other than the difference in resources it requires which is not that much.\n\n> After the supervisor security issue, I'd advise against it. \n\nIt's been fixed and that's an arbitrary line to draw. How many vulnerabilities have been exploited thanks to the docker daemon? \n\nIt's smarter not to expose HA to the internet. Use a VPN instead of advising against it in favor of another vulnerable service."", 'valandile: Stay on VM. Docker really is less of an experience for HA and requires more config.', 'CelebrateLater: I did the same thing about a month ago. Easy and seamless.', 'JQuonDo: Has the experience been better with it in proxmox VM vs docker? Can you share what your setup is and what you currently use it for? Looking for Ideas and things to consider.\n\nEdit: Did you have add ons in docker as well, like hass config, mosquito and node red?', 'rastrillo: I guess it depends how you organize your stuff. I’m on unraid and all my docker containers map their volumes in the /appdata/ share (for the most part). That share is on a redundant cache pool and periodically backs up. So that backed up share contains everything for home assistant and all my other containers too. I did do a restore a few months back and it was pretty painless.', 'zacs: It’s a 14 line compose file.', 'MrSlaw: \tdocker create \\\n\t--name=\'mosquitto\' \\\n\t--net=\'host\' \\\n\t-e TZ=""America/Denver"" \\\n\t-e \'TCP_PORT_1883\'=\'1883\' \\\n\t-e \'TCP_PORT_8883\'=\'8883\' \\\n\t-e \'TCP_PORT_9001\'=\'9001\' \\\n\t-v \'/mnt/user/appdata/mosquitto/config\':\'/mosquitto/config\':\'rw\' \\\n\t-v \'/mnt/user/appdata/mosquitto/data\':\'/mosquitto/data\':\'rw\' \\\n\t-v \'/mnt/user/appdata/mosquitto/log\':\'/mosquitto/log\':\'rw\' \\\n\t\'cmccambridge/mosquitto-unraid:latest\'', 'rastrillo: Docker networking is a bit complex the first time. I don’t have specific advise for you since I use PiVPN to access my stuff remotely. I did Google “cloudflare docker home assistant” and seems like people are using it.', ""FIuffyRabbit: > Configs can get messy when you have a bunch of addons. The docker compose spec changes a lot too so you have to hope that it will always be backwards compatible .\n\nThat's where you lost me dog, at least be genuine in your arguments against docker."", ""rotxed: I'm sorry, I might have explained myself poorly. What I'm looking for is a guide/example of how to self-managed addons using Docker Compose, like what you seem to have done with ESPHome.\n\nI might have to search deeper on Google, but I couldn't find much the first time I looked."", 'readit-on-reddit: Yes, pick a point you disagree with and ignore all other valid ones. Totally not a copout. I could have done the same by just attacking your weak ""security issue"" argument.', 'FIuffyRabbit: You just have them defined in compose files and link whatever services you need in integrations... Personally I don\'t think it\'s worth it to setup your own VPN and Reverse proxy, I\'d pay Nabu Casa to manage that. I\'m also lazy and wanted to support the project.\n\n\n    version: ""3.6""\n    services:\n      esphome:\n        image: esphome/esphome:latest\n        network_mode: host\n        privileged: true\n        restart: unless-stopped\n        volumes:\n          - /opt/homeassistant/esphome:/config\n          - /etc/localtime:/etc/localtime:ro\n      homeassistant:\n        image: homeassistant/home-assistant:stable\n        network_mode: host\n        privileged: true\n        restart: unless-stopped\n        volumes:\n          - /etc/localtime:/etc/localtime:ro\n          - /var/run/docker.sock:/var/run/docker.sock\n          - /opt/homeassistant/ha:/config\n          - /dev:/dev\n      mosquitto:\n        image: eclipse-mosquitto:latest\n        ports:\n          - 1883:1883\n          - 9001:9001\n        restart: unless-stopped\n        volumes:\n          - /opt/homeassistant/mosquitto:/mosquitto/config\n          - mqtt_data:/mosquitto/data\n          - mqtt_log:/mosquitto/log', 'FIuffyRabbit: Being apprehensive about a system having more vulnerabilities when a RCE security issue was present for **6 years** and to have no way to know you have been affected by it without combing through years of logs is considered a weak point to hinge on?', ""readit-on-reddit: Yes, because it's asinine to expose it to the public internet directly anyway. If you didn't know, there is this thing called a **VPN server** that lets you **securely** access HA remotely and makes your entire point moot.""]"
1681250128.0	11-Apr-2023 14:55:28	How to force remove an integration	bleached_bear	0	12iz5ej	homeassistant	https://www.reddit.com/r/homeassistant/comments/12iz5ej/how_to_force_remove_an_integration/	"MASS is undergoing an update where they are releasing a new version soon that will be compatible with new versions of home assistant. As of now, I am having trouble removing the old MASS from home assistant. When I delete it form the integrations tab, it keeps coming back. Even uninstalling from HACS doesn't fix this. Is there a way to force remove an integration?

&#x200B;

My log is below:

    Logger: homeassistant.setup
    Source: setup.py:205 First occurred: 4:29:00 PM (1 occurrences) Last logged: 4:29:00 PM Setup failed for custom integration mass: Requirements for mass not found: ['music-assistant==1.8.7.4'].

&#x200B;"	0	[]
1681249809.0	11-Apr-2023 14:50:09	Controlling Outlets using NUT		3	12iyzoo	homeassistant	https://www.reddit.com/r/homeassistant/comments/12iyzoo/controlling_outlets_using_nut/	I have a Tripp Lite UPS and I have a configuration switch on one load and the PC plugged into the other load of the UPS is there any way to control the outlets of the UPS using NUT to allow the load the Switch is one to turn on before the PC load? I keep playing around with cloner drivers but they don't seem to be registering in the UPS	0	[]
1681249298.0	11-Apr-2023 14:41:38	Device is deactivated	According-Stick3558	1	12iyqj9	homeassistant	https://i.redd.it/2ne2hccc9dta1.jpg	After adding my Shelly Flood it directly shows as deactivated through the configuration and I can’t find a way to get it activated any tips ?	5	"['moritziflitzi: Nachdem da auf dem Bild alles deutsch ist: in config.yaml etwas eingetragen bzgl shelly? Wenn ja, dann löschen, neu starten', 'UngluedChalice: I had something similar. I had hidden an integration that had the device in it. Once I removed the integration, it worked.', 'According-Stick3558: Ne nichts eingetragen irgendwo ist ne frische Home Assitant Installation für nen bekannten in der config.yaml hab ich noch garnichts reingeschrieben', 'ZAlternates: I agree. In the list make sure you show all disabled integrations on the device tab. Re-enable or delete it there. See screenshot. \n\nhttps://i.imgur.com/On4415e.jpg', 'moritziflitzi: Ganz unten im Bild steht bei Konfiguration ""Internet"", sollte aber zB reboot, firmware Update oä stehen. Das Gerät wurde wahrscheinlich falsch erkannt/eingespielt. Am besten löschen und neu erkennen lassen. Shelly werden in HA eh automatisch erkannt und eingerichtet. Wenn es ein batteriebetriebenes Gerät ist, dann beim Einrichten immer wieder den Knopf auf dem Gerät drucken damit es dabei aktiv bleibt.']"
1681247004.0	11-Apr-2023 14:03:24	Need help tracking how many hours the 3d printer has been running	Own_Tumbleweed_8519	1	12ixlec	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ixlec/need_help_tracking_how_many_hours_the_3d_printer/	"I am supposed to perform a maintenance of my 3d printer every 200hs.

I would like to set up notification.

I have a binary sensor that is ‘on’ when the printer is printing.

I tried adding a yaml snippet that stores the printing hours of each day with the history_stats calculated sensor, but it stores a daily value in the database, which is purged… so the value is only useful to see how much I printed during a short time window.

Maybe I can have that history_stats summarize the day’s printing time, and then use a template sensor to accumulate the values?


I would appreciate suggestions."	5	"['FantasyMaster85: Off the top of my head, I’d probably use the inbuilt “counter” function and an automation.  For example, in your configuration.yaml I’d put:\n\n    counter:\n    printer_minutes_running:\n      initial: 0\n      step: 1\n      restore: true\n      minimum: 0\n      icon: mdi:WHATEVER\n    printer_running_reset:\n      initial: 0\n      step: 1\n      restore: true\n      minimum: 0\n      maximum: 1\n      icon: mdi:WHATEVER’’’\n\nThat will create two counters: “printer_minutes_running” (which will have a minimum value of 0, no maximum value, an increment value of 1, will restore the previous value on HA’s reset/restart and an icon of whatever you choose) and then “printer_running_reset” (which I’ll explain the purpose of below) that has a minimum value of 0, maximum value of 1 and an increment value of 1. \n\nThen I’d make a few automations, that in pseudo code is:\n\nFirst automation:\n\nName: increment “printer_minutes_running”\n\nTrigger: “printer_running_reset” is equal to 0 for greater than 60 seconds\n\nCondition: “printer” is on\n\nAction: increment “printer_running_reset” & increment “printer_minutes_running”\n\n\nSecond automation:\n\nName: reset “printer_running_reset”\n\nTrigger: “printer_running_reset” is equal to 1\n\nCondition: nothing \n\nAction: set “printer_running_reset” to 0\n\nSo what’s going to happen, is if the printer is on and the “printer_running_reset” is equal to 0 (for more than 60 seconds) it’s going to add 1 to the amount of time the printer has been running, and add 1 to the value of “printer_running_reset” (which will make it 1)\n\nThe second automation will immediately reset the value of “printer_running_reset” back to 0. Then, once that has been 0 for 60 seconds again (and the printer is on), the first automation will trigger again…will will trigger the second, and so on and so forth. \n\n12,000 minutes is 200 hours, so once that first counter reaches that, trigger your notification and a reset of the printer minutes running. \n\nThere may be a better way to do this, probably is, but that’s off the top of my head and I’m on my phone lol.', ""Solksjaer1248: You could create an automation that adds the value add the end of the day using a simple helper for the accumulated hours. Have something similar for the water fountain of my cats, but I'm reseting it daily"", 'Own_Tumbleweed_8519: Ok, got the first part working with a very lightweight implementation.\n\nI now have a sensor that counts how many hours the printer has been printing.\n\nI created two calculated sensors, the first one compiles a statistic of how many hours the printer has been printing.\n\n\n```\n---\n# This sensor is used to store how much time the 3d printer has been printing.\n\n# The history_stats platform in Home Assistant allows you to calculate various statistics \n# based on historical state changes of entities. \n# The following sensor calculates the amount of time an \n# entity (binary_sensor.octoprint_printing) has been in the \'on\' state in the last 10 minutes:\n\nplatform: history_stats\nname: Octoprint Printing Stat\nentity_id: binary_sensor.octoprint_printing\nstate: \'on\'\ntype: time\n\n# Calculate the mount of time in the last 10 minutes\nend: ""{{ now() }}""\nduration:\n  minutes: 10\n\n```\n\n\nThe second sensor triggers every 10 minutes and adds the statistic value to the accumulated value.\n\n```\n# Define trigger-based template entities\ntemplate:\n  - trigger:\n      - platform: time_pattern\n        minutes: 10\n    sensor:\n      - name: ""Octoprint Printing Time Accumulated""\n        unit_of_measurement: ""h""\n        state_class: ""total""\n        device_class: ""duration""\n        state: >\n          {% set accumulated = this.state | float(default=0) %}\n          {% set last_minute = states(\'sensor.octoprint_printing_stat\') | float(default=0) %}\n          {{ accumulated + last_minute }}\n\n```\n\nI need to take a break, my next step is to work on the alert. I guess I will add an attribute to the accumulated sensor to write down when a maintenance has been performed and alert based on that.', 'Lectere: I would add a power plug that will can tell the thing is active by seeing the wattage it uses.', 'FantasyMaster85: Would add a third automation, when the printer first turns to an on/printing state, it turns the “printer reset counter” to 0. That way it prevents an immediate addition to the printer timer counter, since the printer reset counter will already have been at 0 for well above 60 seconds each time you start it.']"
1681246152.0	11-Apr-2023 13:49:12	PSA: Turn off your heaters when setting up your AC	linuxliaison	8	12ix5an	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ix5an/psa_turn_off_your_heaters_when_setting_up_your_ac/	"I'm sure moooost of you have no issue with this but for the few in the back (like myself) who have separate heating and cooling systems (baseboard + window installation ACs), make sure to turn off your baseboard heaters because you will surely trigger them when turning on your AC.

I have my BB heaters installed with a Sonoff switch and I had forgotten to turn it off 😬"	10	"[""crumpet_concerto: I have the same setup as you with a Sonoff for my baseboard heaters. I use a toggle in HA that swaps my dashboard and automations from heat to AC. I disable my heat automations and turn off the heater, then flip the toggle so I'm set for the summer. \n\nYou definitely don't want your AC and heaters battling it out!"", 'JustUseDuckTape: I have a smart plug controlled electric radiator and IR controlled AC in my bedroom. I too have made the mistake of letting them fight it out. \n\nIt actually gave me much better temperature control, as the AC tends to swing quite far above and below the setpoint. With the AC on full blast and the radiator heating back up to a comfortable temperature it was super stable all night. Also *very* expensive, so probably not the best system. I now use a mechanical interlock^* to prevent this happening in future. \n\n\\* I plug them into the same socket.', 'Friendly_Engineer_: Use relays to make an XOR logic gate, then only one or the two can be on at once!', ""linuxliaison: That's a great idea! \n\nI had the intention of making some sort of automation that does this for me once the ACs are detected as being available/on the network, but I never got around to it. As you can tell, this is the first year with my baseboard Sonoff switch :P\n\nAny tips for setting that up?"", ""Wild-Bus-8979: >I have the same setup as you with a Sonoff for my baseboard heaters\n\nI'm stumped people do this, and don't get me wrong I have my fair share of sonoffs and various tasmotized/esphomed devices ... But baseboard heaters carry some serious power, too much for my state for a simple relay. And that would provide pretty awful thermal control and hysteresis. Good thermostats for BB use triacs and vary the power to the BB. Even the dumbest cheapest thermostats do that (Stelpro, etc). Something like the Sinopé thermostats works great though 😃👍"", ""crumpet_concerto: Oh smart! I actually don't have automation checks to prevent one from running while the other is on... maybe I should set something up. \n\n&#x200B;\n\nI recommend using toggle helpers (from HA settings) for the control between heat and AC. Then for thermostat cards, set them as conditional cards based on your heat/AC toggle switch. (i.e. toggle on = heat, off = AC). I use Node Red for all automations. \n\n&#x200B;\n\nLet me know if something above doesn't make sense and I'll elaborate!"", 'crumpet_concerto: I have my fair share of concerns about this as well, but I\'m under the Sonoff\'s stated power limit. The traces on the board and wiring look good when inspected. If this was my ""forever home"" I\'d likely throw more money into a good thermostat, but I wanted a cheap solution for my apartment. The analog thermostat that was installed when I moved in seems to have gone bad (melted) for many according to Amazon reviews.', 'clin248: There is a drop-down helper if you are looking for more than 2 modes. My ac also does heat so I set it to heat during the shoulder seasons instead of using boiler for baseboard. If you have multiple mini splits that come out of the same heat pump, I also use helpers to make sure they are not on opposite mode which makes none of them work.', ""crumpet_concerto: Look at Mr. Fancy over here whose AC can also heat (kidding). That's really cool, I didn't know about the drop-down helper!"", ""jdsmofo: I have been wracking my brain thinking about how to do this right. What makes sense is to have stateful scenes like passive cooling, active cooling, passive heating and active heating. Each stateful scene has the appropriate automations enabled, and only one scene is possible at a time. Since they are stateless, HA scenes don't work. Is it possible to do something like this with dropdowns, or will manually enabling/diaabling automations wreck these too?""]"
1681244646.0	11-Apr-2023 13:24:06	Z wave smart lock recommendations that allow for original key to be used	mrbiokman-8876	1	12iwdbg	homeassistant	https://www.reddit.com/r/homeassistant/comments/12iwdbg/z_wave_smart_lock_recommendations_that_allow_for/	hello, looking to install a new lock using Z wave or zigbee that doesn’t connect to the Internet. The only caveat is that I need to be able to use the original key, it seems like most of the Z wave locks have a keypad in the front that gets rid of the original key.	18	"['mizled: Schlage BE469 Z-Wave fits that criteria. I have one and it works great with HA. I had mine keyed to match my existing Schlage locks.', 'VeryFirstLAD: Kwickset has a type of lock that you can rekey yourself to match your existing key if your current lock is a kwickset.', 'Tadpole-Various: You will need to buy a smart lock, swap the cylinder out of it with your existing deadbolt to use your existing key in it. May need assistance of lock smith if your not familiar.', ""junkdumper: 2nd on the schlage.  \nIf you're already using schlage locks, you can just rekey it to use your existing keys"", 'c0keaddict: Yale Assure SL has a keyed model, however, that does not mean it can be rekeyed to your existing lock. For example, Yale and Kwikset can be rekeyed to each other. I would recommend taking your current key and then going to a hardware store that sells smart locks to see which ones your key will fit in. If you want to save some money you can by rekey kits on Amazon. It’s pretty straight forward to do. I rekeyed all of my Yale smart locks to be the same key.', 'MowMdown: Yale Assure 2 with key slot \n\nYou then buy the zwave module and install it (sold separate)', ""mrtramplefoot: I just ordered one of these, cheap and z wave 700.  It will let you rekey it with your existing key.\n\n&#x200B;\n\n[https://www.amazon.com/dp/B09HR6P8Y3?ref=ppx\\_yo2ov\\_dt\\_b\\_product\\_details&th=1](https://www.amazon.com/dp/B09HR6P8Y3?ref=ppx_yo2ov_dt_b_product_details&th=1)\n\n&#x200B;\n\nI also have an older Schlage camelot, but I thinks it's discontinued and you might as well get a 700 lock at this point."", ""tungvu256: any smart lock has a key as backup. everyone of them. from a distance most schlage zwave have a keypad, that's correct. look closer n you'll see a slot for a key. this is necessary in case battery failure. personally, i like the August zwave cause you dont have to change anything. on the outside, everything looks normal. easy to set up with HA as seen [here](https://youtu.be/HfVG2h49-Io)"", 'random_gravel42: I have the Kwikset lock that is Z Wave + Touchpad + Physical key. You can even easily re-key it yourself, works great!', 'mrbiokman-8876: this is prob a stupid question but when you say keyed, does that mean the lock itself you can use the original keys? I have a landlord and dont want to go through the hassle of asking if i can use new keys. How does one get a lock ""keyed"" to match exisiting locks', ""EnonGator: >Schlage BE469 Z-Wave\n\nI didn't think the zwave module for the assure 2 lock was available yet, am I missing something? I would love to convert to zwave, using bluetooth at the moment."", ""mrtramplefoot: I had been looking at yale, but they've been literally saying their zwave 700 module would be available for years now and it still isn't"", 'mizled: Yes, I had an existing Schlage lock and key. I ordered mine from build.com and gave them the 5 digit key code on my key and my new z wave lock arrived with my existing keys already working on the new lock.', 'MowMdown: [I bought this one](https://shopyalehome.com/products/yale-z-wave-plus-smart-module?variant=31244290883716) from this exact webpage.\n\nIt’s literally installed in my Yale Assure 2 and works. No idea what the review comments are saying because it clearly works.', 'mrbiokman-8876: ahhhh that makes sense, lol this was extremely helpful thank you so much', 'mrtramplefoot: I believe thats zwave 500 [https://support.shopyalehome.com/en\\_us/categories/getting-started-Sy3a6ybyv](https://support.shopyalehome.com/en_us/categories/getting-started-Sy3a6ybyv)', 'grahamr31: One thing to check is the type of lock you have now though. We have weiser/kwickset and compatible locks. \n\nThe key blanks are not Schlage compatible \n\nFor a weiser lock, we have the weiser premis (HomeKit only, it’s fine but meh) - but there are a few kwickset/weiser locks that have zwave\n\n(For example this one https://ca.weiserlock.com/en/products/smartcode-10-touch-with-z-wave-electronics-electronic-lock-satin-nickel/9GED21500-010/)', 'MowMdown: Upon further digging, it appears it is the 500 series.']"
1681243301.0	11-Apr-2023 13:01:41	Home Assistant Automations Sending Fake Notifications?	ForceSpike	0	12ivohh	homeassistant	https://www.reddit.com/r/homeassistant/comments/12ivohh/home_assistant_automations_sending_fake/	I have a handful of Tasmota flashed Sonoff S21s and Google Nest thermostats. I made an automation that sends a notification when the S21 state is changed to unavailable.   I also made an automation that sends a notification when the Nest thermostats temperature goes below a certain threshold. The issue is that these automations seem to be triggering even when the condition doesn't seem to be true.  The notification is for when the thermostat drops under 52 and when I go check its well above that.  With the S21s I get a notification it's unavailable but then I go to look and the thing it's plugged into is still online.  Anyone have any idea why this is happening?  It being inconsistent kind of makes it useless.	6	"['alex3305: You should check the Automation Trace(s) why it has been triggered.', ""martamoonpie: You'd have to share your automations for us to be able to help here."", 'chocotacoisnotataco: First thought, set a threshold for the notification. If below/unavailable for X amount of time. Automations don’t give af if something became unavailable for a couple of milliseconds, it’s just gonna send.', ""ForceSpike: Kind of unsure what I'm looking at here. I can confirm the temperature definitely didn't drop below 52 via confirmation from another sensor.\n\nhttps://preview.redd.it/gqm66jc60fta1.png?width=1019&format=png&auto=webp&v=enabled&s=9dda900ba5dd793fd153c08690da8c99f192afb4"", ""ForceSpike: Here's the automation:\n\n&#x200B;\n\nhttps://preview.redd.it/umfxahmg0fta1.png?width=1073&format=png&auto=webp&v=enabled&s=ba613df7aecdf50bdc7148442376f6c01d008771"", 'ElGuano: That automation has 5-6 triggers. It will fire if any of the triggers occurs. \n\nLook in History for every trigger device, and see which one caused the automation to fire.']"
1681241392.0	11-Apr-2023 12:29:52	Centralite Pearl - Setpoint how???	PaleFlyer	0	12iupqw	homeassistant	https://www.reddit.com/r/homeassistant/comments/12iupqw/centralite_pearl_setpoint_how/	"Just installed a pair of Pearls, and found that from the app/browser, I can set the setpoint (IE I want it 74° or w/e), but from the automation, I can react on the temp, but I don't see a way to change the setpoint from an automation.

I admit, I didn't try hard, I'm at work, and the wife just complained the house was hot, as I didn't set up any programming yet.  I was trying under ""device"" as an object, and I just got ""mode"", and ""press identifier"".

So I'm a little confused on how the Card can change the setpoint, but the automation can't.

Edit: I'm dumb.  State.  Not device.  Haven't had to use that for any reason yet..."	2	"['mrtramplefoot: Have a pearl, use the set\\_temperature service.\n\n&#x200B;\n\nAlso, I would check the calibration, mine was off a couple degrees from any other thermometer I had.', 'PaleFlyer: Yeah, I looked at the calibration, tried to change it, and had the area be to cold, set it back to zero, and it seems ""close enough"".  I\'ll check again when I get some temp sensors spread around.']"
1681241046.0	11-Apr-2023 12:24:06	Newbie question -- zigbee devices	rp2pilot	2	12iujiy	homeassistant	https://www.reddit.com/r/homeassistant/comments/12iujiy/newbie_question_zigbee_devices/	I have HAOS running on an Intel laptop, and have gotten as far as onboarding.  I'm considering making the jump to HAOS, but have some questions.  For zigbee devices such as the AOETEC motion sensors, do you need a dedicated Zigbee Hub like Smart Things, or do you just need a Zigbee USB stick plugged into the computer that's running HAOS?	9	['tungvu256: i would stay away from ST.\n\nall you need is a $30 zigbee usb stick.  get a usb extension cable,  so this zig stick is about 3ft away from your HA laptop', 'sleekelite: either', 'Philmehew: Conbee II USB dongle seems to be the goto, though the signal isn’t as strong as SmartThings (I have both).', 'Shooter_Q: Aside from what’s already mentioned, you can also go network-attached zigbee coordinator I’d it fits your home setup; I went with a PoE one to centrally locate it in my home and to get it far more than 3ft away from my server. Also, no issues for those running VMs and worried about USB passthrough', 'Kullerino: Why do you need and usb extension cable?', 'ZAlternates: Nah Sonoff-P is the stable hotness. \n\nSkyconnect if you wanna be thread ready too.', 'tungvu256: To get away from interferences from the laptop n any other electrical signals nearby', 'Philmehew: Ah thanks for the heads up on those, I bought the Conbee II after seeing a number of recommendations, but to be honest, it’s somewhat lacking in range, and did lose all of its zigbee config at one point.', 'ZAlternates: Here is a very short video to reinforce the importance. \n\nhttps://youtu.be/tHqZhNcFEvA']
1681238471.0	11-Apr-2023 11:41:11	Sync data to Google Drive	ManufacturerGuilty23	0	12it7n1	homeassistant	https://www.reddit.com/r/homeassistant/comments/12it7n1/sync_data_to_google_drive/	"Hello, I want to transfer camera captures periodically from my HA/Raspberry Pi to a remote storage (preferred Google Drive). I don’t want to make a backup of HA with the available Addon. Is there a way to sync files?

Thx"	2	"['alex3305: There are plenty of options. One of them would be [this rclone add-on](https://github.com/jcwillox/hassio-rclone-backup).', 'Konig1469: Keep in mind the ""backup"" in HA is essentially a zipped sync for lack of a better term.  \n\n\nI would install the addon for backing up to your google drive and just uncheck everything but what you want in the backup properties.']"
1681237840.0	11-Apr-2023 11:30:40	Loads of sensors unavailable, can't figure why, they were working before.	sarinkhan	3	12isvk4	homeassistant	https://www.reddit.com/r/homeassistant/comments/12isvk4/loads_of_sensors_unavailable_cant_figure_why_they/	"Hello!  
I have an esphome node with multiple sensors, and i am on the latest version of homeassistant.  


I can OTA update the node, and in home assistant, i can view the firmware sensor without a problem. WHen i look at the logs in esphome wirelessly, all values are populated. But for some reason, they don't show up in home assistant. How could i troubleshoot that?

My HA is running on a Pi4, and the node is an esp32. It has been working fine for months."	2	"['ZAlternates: Have you rebooted? What’s it say in the logs? \n\nDo a fresh boot and immediately review the logs as soon as it comes up.', ""sarinkhan: I have, and I saw nothing that seemed related to this. My other nodes are fine but just this one is not functional. I don't understand it.""]"
